(()=>{var __webpack_modules__={74:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(714),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(268);const windowSupported=typeof window!="undefined",documentSupported=windowSupported&&window.document!==void 0,webworker=typeof DedicatedWorkerGlobalScope!="undefined",nodeRequire=()=>{try{return eval("require")}catch(ke){return M=>null}},SystemExternal={extRequire:ke=>typeof process!="undefined"&&typeof require!="undefined"?nodeRequire()(ke):null,windowSupported,documentSupported,webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()("fs"),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:(function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if(process.env.SRE_JSON_PATH||global.SRE_JSON_PATH)return process.env.SRE_JSON_PATH||global.SRE_JSON_PATH;try{return nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(ke){}try{return nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(ke){}return typeof __dirname!="undefined"?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"})(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}},159:(ke,M,fe)=>{"use strict";var $=fe(870).freeze;M.XML_ENTITIES=$({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),M.HTML_ENTITIES=$({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}),M.entityMap=M.HTML_ENTITIES},268:(ke,M,fe)=>{"use strict";var $,F;fe.d(M,{Al:()=>Fe,Gb:()=>se,Oe:()=>H});var ve=fe(546),ee=fe(999);const se=$||($=fe.t(ve,2)),Fe=new se.DOMImplementation().createDocument("",""),Et=((F||(F=fe.t(ee,2)))===null||(F||(F=fe.t(ee,2)))===void 0?void 0:ee.install)||window.wgxpath.install,Pe=(function(){const D={document:{},XPathResult:{}};return Et(D),D.document.XPathResult=D.XPathResult,D.document})(),H={currentDocument:Fe,evaluate:Pe.evaluate,result:Pe.XPathResult,createNSResolver:Pe.createNSResolver}},546:(ke,M,fe)=>{"use strict";var $=fe(870);M.assign=$.assign,M.hasDefaultHTMLNamespace=$.hasDefaultHTMLNamespace,M.isHTMLMimeType=$.isHTMLMimeType,M.isValidMimeType=$.isValidMimeType,M.MIME_TYPE=$.MIME_TYPE,M.NAMESPACE=$.NAMESPACE;var F=fe(767);M.DOMException=F.DOMException,M.DOMExceptionName=F.DOMExceptionName,M.ExceptionCode=F.ExceptionCode,M.ParseError=F.ParseError;var ve=fe(786);M.Attr=ve.Attr,M.CDATASection=ve.CDATASection,M.CharacterData=ve.CharacterData,M.Comment=ve.Comment,M.Document=ve.Document,M.DocumentFragment=ve.DocumentFragment,M.DocumentType=ve.DocumentType,M.DOMImplementation=ve.DOMImplementation,M.Element=ve.Element,M.Entity=ve.Entity,M.EntityReference=ve.EntityReference,M.LiveNodeList=ve.LiveNodeList,M.NamedNodeMap=ve.NamedNodeMap,M.Node=ve.Node,M.NodeList=ve.NodeList,M.Notation=ve.Notation,M.ProcessingInstruction=ve.ProcessingInstruction,M.Text=ve.Text,M.XMLSerializer=ve.XMLSerializer;var ee=fe(576);M.DOMParser=ee.DOMParser,M.normalizeLineEndings=ee.normalizeLineEndings,M.onErrorStopParsing=ee.onErrorStopParsing,M.onWarningStopParsing=ee.onWarningStopParsing},576:(ke,M,fe)=>{"use strict";var $=fe(870),F=fe(786),ve=fe(767),ee=fe(159),se=fe(802),Fe=F.DOMImplementation,Et=$.hasDefaultHTMLNamespace,Pe=$.isHTMLMimeType,H=$.isValidMimeType,D=$.MIME_TYPE,ze=$.NAMESPACE,J=ve.ParseError,dt=se.XMLReader;function pt(z){return z.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028\u2029]/g,`
`)}function tt(z){if((z=z||{}).locator===void 0&&(z.locator=!0),this.assign=z.assign||$.assign,this.domHandler=z.domHandler||hs,this.onError=z.onError||z.errorHandler,z.errorHandler&&typeof z.errorHandler!="function")throw new TypeError("errorHandler object is no longer supported, switch to onError!");z.errorHandler&&z.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=z.normalizeLineEndings||pt,this.locator=!!z.locator,this.xmlns=this.assign(Object.create(null),z.xmlns)}function hs(z){var le=z||{};this.mimeType=le.mimeType||D.XML_APPLICATION,this.defaultNamespace=le.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=le.onError}function Dt(z,le){le.lineNumber=z.lineNumber,le.columnNumber=z.columnNumber}function Ht(z,le,R){return typeof z=="string"?z.substr(le,R):z.length>=le+R||le?new java.lang.String(z,le,R)+"":z}function Rt(z,le){z.currentElement?z.currentElement.appendChild(le):z.doc.appendChild(le)}tt.prototype.parseFromString=function(z,le){if(!H(le))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+le+'" is not valid.');var R=this.assign(Object.create(null),this.xmlns),j=ee.XML_ENTITIES,Y=R[""]||null;Et(le)?(j=ee.HTML_ENTITIES,Y=ze.HTML):le===D.XML_SVG_IMAGE&&(Y=ze.SVG),R[""]=Y,R.xml=R.xml||ze.XML;var re=new this.domHandler({mimeType:le,defaultNamespace:Y,onError:this.onError}),pe=this.locator?{}:void 0;this.locator&&re.setDocumentLocator(pe);var X=new dt;return X.errorHandler=re,X.domBuilder=re,!$.isHTMLMimeType(le)&&typeof z!="string"&&X.errorHandler.fatalError("source is not a string"),X.parse(this.normalizeLineEndings(String(z)),R,j),re.doc.documentElement||X.errorHandler.fatalError("missing root element"),re.doc},hs.prototype={startDocument:function(){var z=new Fe;this.doc=Pe(this.mimeType)?z.createHTMLDocument(!1):z.createDocument(this.defaultNamespace,"")},startElement:function(z,le,R,j){var Y=this.doc,re=Y.createElementNS(z,R||le),pe=j.length;Rt(this,re),this.currentElement=re,this.locator&&Dt(this.locator,re);for(var X=0;X<pe;X++){z=j.getURI(X);var me=j.getValue(X),oe=(R=j.getQName(X),Y.createAttributeNS(z,R));this.locator&&Dt(j.getLocator(X),oe),oe.value=oe.nodeValue=me,re.setAttributeNode(oe)}},endElement:function(z,le,R){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(z,le){},endPrefixMapping:function(z){},processingInstruction:function(z,le){var R=this.doc.createProcessingInstruction(z,le);this.locator&&Dt(this.locator,R),Rt(this,R)},ignorableWhitespace:function(z,le,R){},characters:function(z,le,R){if(z=Ht.apply(this,arguments)){if(this.cdata)var j=this.doc.createCDATASection(z);else j=this.doc.createTextNode(z);this.currentElement?this.currentElement.appendChild(j):/^\s*$/.test(z)&&this.doc.appendChild(j),this.locator&&Dt(this.locator,j)}},skippedEntity:function(z){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(z){z&&(z.lineNumber=0),this.locator=z},comment:function(z,le,R){z=Ht.apply(this,arguments);var j=this.doc.createComment(z);this.locator&&Dt(this.locator,j),Rt(this,j)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(z,le,R,j){var Y=this.doc.implementation;if(Y&&Y.createDocumentType){var re=Y.createDocumentType(z,le,R,j);this.locator&&Dt(this.locator,re),Rt(this,re),this.doc.doctype=re}},reportError:function(z,le){if(typeof this.onError=="function")try{this.onError(z,le,this)}catch(R){throw new J("Reporting "+z+' "'+le+'" caused '+R,this.locator)}else console.error("[xmldom "+z+"]	"+le,(function(R){if(R)return`
@#[line:`+R.lineNumber+",col:"+R.columnNumber+"]"})(this.locator))},warning:function(z){this.reportError("warning",z)},error:function(z){this.reportError("error",z)},fatalError:function(z){throw this.reportError("fatalError",z),new J(z,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(z){hs.prototype[z]=function(){return null}})),M.__DOMHandler=hs,M.DOMParser=tt,M.normalizeLineEndings=pt,M.onErrorStopParsing=function(z){if(z==="error")throw"onErrorStopParsing"},M.onWarningStopParsing=function(){throw"onWarningStopParsing"}},714:(ke,M,fe)=>{"use strict";fe.d(M,{u:()=>$});class ${static ensureLocale(ve,ee){return $.LOCALES.get(ve)?ve:(console.error(`Locale ${ve} does not exist! Using ${$.LOCALES.get(ee)} instead.`),ee)}}$.VERSION="5.0.0-beta.1",$.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","Bokm\xE5l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),$.mathjaxVersion="4.0.0",$.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+$.VERSION+"/lib/mathmaps"},731:(ke,M)=>{"use strict";function fe(te){try{typeof te!="function"&&(te=RegExp);var We=new te("\u{1D306}","u").exec("\u{1D306}");return!!We&&We[0].length===2}catch(Lt){}return!1}var $=fe();function F(te){if(te.source[0]!=="[")throw new Error(te+" can not be used with chars");return te.source.slice(1,te.source.lastIndexOf("]"))}function ve(te,We){if(te.source[0]!=="[")throw new Error("/"+te.source+"/ can not be used with chars_without");if(!We||typeof We!="string")throw new Error(JSON.stringify(We)+" is not a valid search");if(te.source.indexOf(We)===-1)throw new Error('"'+We+'" is not is /'+te.source+"/");if(We==="-"&&te.source.indexOf(We)!==1)throw new Error('"'+We+'" is not at the first postion of /'+te.source+"/");return new RegExp(te.source.replace(We,""),$?"u":"")}function ee(te){var We=this;return new RegExp(Array.prototype.slice.call(arguments).map((function(Lt){var Ve=typeof Lt=="string";if(Ve&&We===void 0&&Lt==="|")throw new Error("use regg instead of reg to wrap expressions with `|`!");return Ve?Lt:Lt.source})).join(""),$?"mu":"m")}function se(te){if(arguments.length===0)throw new Error("no parameters provided");return ee.apply(se,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var Fe=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/;$&&(Fe=ee("[",F(Fe),"\\u{10000}-\\u{10FFFF}","]"));var Et=/[\x20\x09\x0D\x0A]/,Pe=F(Et),H=ee(Et,"+"),D=ee(Et,"*"),ze=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;$&&(ze=ee("[",F(ze),"\\u{10000}-\\u{10FFFF}","]"));var J=ee("[",F(ze),F(/[-.0-9\xB7]/),F(/[\u0300-\u036F\u203F-\u2040]/),"]"),dt=ee(ze,J,"*"),pt=ee(J,"+"),tt=ee("&",dt,";"),hs=se(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),Dt=se(tt,"|",hs),Ht=ee("%",dt,";"),Rt=se(ee('"',se(/[^%&"]/,"|",Ht,"|",Dt),"*",'"'),"|",ee("'",se(/[^%&']/,"|",Ht,"|",Dt),"*","'")),z=se('"',se(/[^<&"]/,"|",Dt),"*",'"',"|","'",se(/[^<&']/,"|",Dt),"*","'"),le=ee(ve(ze,":"),ve(J,":"),"*"),R=ee(le,se(":",le),"?"),j=ee("^",R,"$"),Y=ee("(",R,")"),re=se(/"[^"]*"|'[^']*'/),pe=ee(/^<\?/,"(",dt,")",se(H,"(",Fe,"*?)"),"?",/\?>/),X=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,me=se('"',X,'*"',"|","'",ve(X,"'"),"*'"),oe="<!--",ge=ee(oe,se(ve(Fe,"-"),"|",ee("-",ve(Fe,"-"))),"*","-->"),Ee="#PCDATA",Q=se(ee(/\(/,D,Ee,se(D,/\|/,D,R),"*",D,/\)\*/),"|",ee(/\(/,D,Ee,D,/\)/)),Ue=se("EMPTY","|","ANY","|",Q,"|",ee(/\([^>]+\)/,/[?*+]?/)),_e=ee("<!ELEMENT",H,se(R,"|",Ht),H,se(Ue,"|",Ht),D,">"),Ct=ee("NOTATION",H,/\(/,D,dt,se(D,/\|/,D,dt),"*",D,/\)/),qe=ee(/\(/,D,pt,se(D,/\|/,D,pt),"*",D,/\)/),At=se(Ct,"|",qe),Xe=se(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",At),Be=se(/#REQUIRED|#IMPLIED/,"|",se(se("#FIXED",H),"?",z)),Pt=ee("<!ATTLIST",H,dt,se(H,dt,H,Xe,H,Be),"*",D,">"),Tt="about:legacy-compat",xt=se('"'+Tt+'"',"|","'"+Tt+"'"),yt="SYSTEM",as="PUBLIC",ds=se(se(yt,H,re),"|",se(as,H,me,H,re)),Rs=ee("^",se(se(yt,H,"(?<SystemLiteralOnly>",re,")"),"|",se(as,H,"(?<PubidLiteral>",me,")",H,"(?<SystemLiteral>",re,")"))),xe=se(H,"NDATA",H,dt),ps="<!ENTITY",os=ee(ps,H,dt,H,se(Rt,"|",se(ds,xe,"?")),D,">"),Ce=se(Rt,"|",ds),Ws=se(os,"|",ee(ps,H,"%",H,dt,H,Ce,D,">")),xs=ee(as,H,me),ys=ee("<!NOTATION",H,dt,H,se(ds,"|",xs),D,">"),Oe=ee(D,"=",D),Je=/1[.]\d+/,ms=ee(H,"version",Oe,se("'",Je,"'","|",'"',Je,'"')),$t=/[A-Za-z][-A-Za-z0-9._]*/,$s=ee(/^<\?xml/,ms,se(H,"encoding",Oe,se('"',$t,'"',"|","'",$t,"'")),"?",se(H,"standalone",Oe,se("'",se("yes","|","no"),"'","|",'"',se("yes","|","no"),'"')),"?",D,/\?>/),ot=ee(Fe,"*?",/\]\]>/),Wt=ee(/<!\[CDATA\[/,ot);M.chars=F,M.chars_without=ve,M.detectUnicodeSupport=fe,M.reg=ee,M.regg=se,M.ABOUT_LEGACY_COMPAT=Tt,M.ABOUT_LEGACY_COMPAT_SystemLiteral=xt,M.AttlistDecl=Pt,M.CDATA_START="<![CDATA[",M.CDATA_END="]]>",M.CDSect=Wt,M.Char=Fe,M.Comment=ge,M.COMMENT_START=oe,M.COMMENT_END="-->",M.DOCTYPE_DECL_START="<!DOCTYPE",M.elementdecl=_e,M.EntityDecl=Ws,M.EntityValue=Rt,M.ExternalID=ds,M.ExternalID_match=Rs,M.Name=dt,M.NotationDecl=ys,M.Reference=Dt,M.PEReference=Ht,M.PI=pe,M.PUBLIC=as,M.PubidLiteral=me,M.QName=R,M.QName_exact=j,M.QName_group=Y,M.S=H,M.SChar_s=Pe,M.S_OPT=D,M.SYSTEM=yt,M.SystemLiteral=re,M.UNICODE_REPLACEMENT_CHARACTER="\uFFFD",M.UNICODE_SUPPORT=$,M.XMLDecl=$s},767:(ke,M,fe)=>{"use strict";function $(D,ze){D.prototype=Object.create(Error.prototype,{constructor:{value:D},name:{value:D.name,enumerable:!0,writable:ze}})}var F=fe(870).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),ve=Object.keys(F);function ee(D){return typeof D=="number"&&D>=1&&D<=25}function se(D,ze){var J;ee(D)?(this.name=ve[D],this.message=ze||""):(this.message=D,this.name=typeof(J=ze)=="string"&&J.substring(J.length-F.Error.length)===F.Error?ze:F.Error),Error.captureStackTrace&&Error.captureStackTrace(this,se)}$(se,!0),Object.defineProperties(se.prototype,{code:{enumerable:!0,get:function(){var D=ve.indexOf(this.name);return ee(D)?D:0}}});for(var Fe={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},Et=Object.entries(Fe),Pe=0;Pe<Et.length;Pe++)se[Et[Pe][0]]=Et[Pe][1];function H(D,ze){this.message=D,this.locator=ze,Error.captureStackTrace&&Error.captureStackTrace(this,H)}$(H),M.DOMException=se,M.DOMExceptionName=F,M.ExceptionCode=Fe,M.ParseError=H},786:(ke,M,fe)=>{"use strict";var $=fe(870),F=$.find,ve=$.hasDefaultHTMLNamespace,ee=$.hasOwn,se=$.isHTMLMimeType,Fe=$.isHTMLRawTextElement,Et=$.isHTMLVoidElement,Pe=$.MIME_TYPE,H=$.NAMESPACE,D=Symbol(),ze=fe(767),J=ze.DOMException,dt=ze.DOMExceptionName,pt=fe(731);function tt(m){if(m!==D)throw new TypeError("Illegal constructor")}function hs(m){return m!==""}function Dt(m,b){return ee(m,b)||(m[b]=!0),m}function Ht(m){if(!m)return[];var b=(function(v){return v?v.split(/[\t\n\f\r ]+/).filter(hs):[]})(m);return Object.keys(b.reduce(Dt,{}))}function Rt(m){if(!pt.QName_exact.test(m))throw new J(J.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+m+'"')}function z(m,b){Rt(b),m=m||null;var v=null,L=b;if(b.indexOf(":")>=0){var B=b.split(":");v=B[0],L=B[1]}if(v!==null&&m===null)throw new J(J.NAMESPACE_ERR,"prefix is non-null and namespace is null");if(v==="xml"&&m!==$.NAMESPACE.XML)throw new J(J.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if((v==="xmlns"||b==="xmlns")&&m!==$.NAMESPACE.XMLNS)throw new J(J.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(m===$.NAMESPACE.XMLNS&&v!=="xmlns"&&b!=="xmlns")throw new J(J.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[m,v,L]}function le(m,b){for(var v in m)ee(m,v)&&(b[v]=m[v])}function R(m,b){var v=m.prototype;if(!(v instanceof b)){let L=function(){};L.prototype=b.prototype,le(v,L=new L),m.prototype=v=L}v.constructor!=m&&(typeof m!="function"&&console.error("unknown Class:"+m),v.constructor=m)}var j={},Y=j.ELEMENT_NODE=1,re=j.ATTRIBUTE_NODE=2,pe=j.TEXT_NODE=3,X=j.CDATA_SECTION_NODE=4,me=j.ENTITY_REFERENCE_NODE=5,oe=j.ENTITY_NODE=6,ge=j.PROCESSING_INSTRUCTION_NODE=7,Ee=j.COMMENT_NODE=8,Q=j.DOCUMENT_NODE=9,Ue=j.DOCUMENT_TYPE_NODE=10,_e=j.DOCUMENT_FRAGMENT_NODE=11,Ct=j.NOTATION_NODE=12,qe=$.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32});function At(m,b){if(b.length<m.length)return At(b,m);var v=null;for(var L in m){if(m[L]!==b[L])return v;v=m[L]}return v}function Xe(m){return m.guid||(m.guid=Math.random()),m.guid}function Be(){}function Pt(m,b){this._node=m,this._refresh=b,Tt(this)}function Tt(m){var b=m._node._inc||m._node.ownerDocument._inc;if(m._inc!==b){var v=m._refresh(m._node);if(er(m,"length",v.length),!m.$$length||v.length<m.$$length)for(var L=v.length;L in m;L++)ee(m,L)&&delete m[L];le(v,m),m._inc=b}}function xt(){}function yt(m,b){for(var v=0;v<m.length;){if(m[v]===b)return v;v++}}function as(m,b,v,L){if(L?b[yt(b,L)]=v:(b[b.length]=v,b.length++),m){v.ownerElement=m;var B=m.ownerDocument;B&&(L&&Ws(B,m,L),(function(ae,Ge,Se){ae&&ae._inc++;var st=Se.namespaceURI;st===H.XMLNS&&(Ge._nsMap[Se.prefix?Se.localName:""]=Se.value)})(B,m,v))}}function ds(m,b,v){var L=yt(b,v);if(L>=0){for(var B=b.length-1;L<=B;)b[L]=b[++L];if(b.length=B,m){var ae=m.ownerDocument;ae&&Ws(ae,m,v),v.ownerElement=null}}}function Rs(){}function xe(m){tt(m)}function ps(m){return(m=="<"?"&lt;":m==">"&&"&gt;")||m=="&"&&"&amp;"||m=='"'&&"&quot;"||"&#"+m.charCodeAt()+";"}function os(m,b){if(b(m))return!0;if(m=m.firstChild)do if(os(m,b))return!0;while(m=m.nextSibling)}function Ce(m,b){tt(m);var v=b||{};this.ownerDocument=this,this.contentType=v.contentType||Pe.XML_APPLICATION,this.type=se(this.contentType)?"html":"xml"}function Ws(m,b,v,L){m&&m._inc++,v.namespaceURI===H.XMLNS&&delete b._nsMap[v.prefix?v.localName:""]}function xs(m,b,v){if(m&&m._inc){m._inc++;var L=b.childNodes;if(v&&!v.nextSibling)L[L.length++]=v;else{for(var B=b.firstChild,ae=0;B;)L[ae++]=B,B=B.nextSibling;L.length=ae,delete L[L.length]}}}function ys(m,b){if(m!==b.parentNode)throw new J(J.NOT_FOUND_ERR,"child's parent is not parent");var v=b.previousSibling,L=b.nextSibling;return v?v.nextSibling=L:m.firstChild=L,L?L.previousSibling=v:m.lastChild=v,xs(m.ownerDocument,m),b.parentNode=null,b.previousSibling=null,b.nextSibling=null,b}function Oe(m){return m&&m.nodeType===xe.DOCUMENT_TYPE_NODE}function Je(m){return m&&m.nodeType===xe.ELEMENT_NODE}function ms(m){return m&&m.nodeType===xe.TEXT_NODE}function $t(m,b){var v=m.childNodes||[];if(F(v,Je)||Oe(b))return!1;var L=F(v,Oe);return!(b&&L&&v.indexOf(L)>v.indexOf(b))}function $s(m,b){var v=m.childNodes||[];if(F(v,(function(B){return Je(B)&&B!==b})))return!1;var L=F(v,Oe);return!(b&&L&&v.indexOf(L)>v.indexOf(b))}function ot(m,b,v){if(!(function(L){return L&&(L.nodeType===xe.DOCUMENT_NODE||L.nodeType===xe.DOCUMENT_FRAGMENT_NODE||L.nodeType===xe.ELEMENT_NODE)})(m))throw new J(J.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+m.nodeType);if(v&&v.parentNode!==m)throw new J(J.NOT_FOUND_ERR,"child not in parent");if(!(function(L){return L&&(L.nodeType===xe.CDATA_SECTION_NODE||L.nodeType===xe.COMMENT_NODE||L.nodeType===xe.DOCUMENT_FRAGMENT_NODE||L.nodeType===xe.DOCUMENT_TYPE_NODE||L.nodeType===xe.ELEMENT_NODE||L.nodeType===xe.PROCESSING_INSTRUCTION_NODE||L.nodeType===xe.TEXT_NODE)})(b)||Oe(b)&&m.nodeType!==xe.DOCUMENT_NODE)throw new J(J.HIERARCHY_REQUEST_ERR,"Unexpected node type "+b.nodeType+" for parent node type "+m.nodeType)}function Wt(m,b,v){var L=m.childNodes||[],B=b.childNodes||[];if(b.nodeType===xe.DOCUMENT_FRAGMENT_NODE){var ae=B.filter(Je);if(ae.length>1||F(B,ms))throw new J(J.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(ae.length===1&&!$t(m,v))throw new J(J.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Je(b)&&!$t(m,v))throw new J(J.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Oe(b)){if(F(L,Oe))throw new J(J.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var Ge=F(L,Je);if(v&&L.indexOf(Ge)<L.indexOf(v))throw new J(J.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!v&&Ge)throw new J(J.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function te(m,b,v){var L=m.childNodes||[],B=b.childNodes||[];if(b.nodeType===xe.DOCUMENT_FRAGMENT_NODE){var ae=B.filter(Je);if(ae.length>1||F(B,ms))throw new J(J.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(ae.length===1&&!$s(m,v))throw new J(J.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(Je(b)&&!$s(m,v))throw new J(J.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(Oe(b)){if(F(L,function(st){return Oe(st)&&st!==v}))throw new J(J.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");var Ge=F(L,Je);if(v&&L.indexOf(Ge)<L.indexOf(v))throw new J(J.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function We(m,b,v,L){ot(m,b,v),m.nodeType===xe.DOCUMENT_NODE&&(L||Wt)(m,b,v);var B=b.parentNode;if(B&&B.removeChild(b),b.nodeType===_e){var ae=b.firstChild;if(ae==null)return b;var Ge=b.lastChild}else ae=Ge=b;var Se=v?v.previousSibling:m.lastChild;ae.previousSibling=Se,Ge.nextSibling=v,Se?Se.nextSibling=ae:m.firstChild=ae,v==null?m.lastChild=Ge:v.previousSibling=Ge;do ae.parentNode=m;while(ae!==Ge&&(ae=ae.nextSibling));return xs(m.ownerDocument||m,m,b),b.nodeType==_e&&(b.firstChild=b.lastChild=null),b}function Lt(m){tt(m),this._nsMap=Object.create(null)}function Ve(m){tt(m),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function mt(m){tt(m)}function Ns(m){tt(m)}function Fs(m){tt(m)}function _s(m){tt(m)}function ni(m){tt(m)}function ai(m){tt(m)}function Yt(m){tt(m)}function yi(m){tt(m)}function vs(m){tt(m)}function zs(m){tt(m)}function oi(){}function qi(m){var b=[],v=this.nodeType===Q&&this.documentElement||this,L=v.prefix,B=v.namespaceURI;if(B&&L==null&&(L=v.lookupPrefix(B))==null)var ae=[{namespace:B,prefix:null}];return Qt(this,b,m,ae),b.join("")}function Ni(m,b,v){var L=m.prefix||"",B=m.namespaceURI;if(!B||L==="xml"&&B===H.XML||B===H.XMLNS)return!1;for(var ae=v.length;ae--;){var Ge=v[ae];if(Ge.prefix===L)return Ge.namespace!==B}return!0}function Ke(m,b,v){m.push(" ",b,'="',v.replace(/[<>&"\t\n\r]/g,ps),'"')}function Qt(m,b,v,L){L||(L=[]);var B=(m.nodeType===Q?m:m.ownerDocument).type==="html";if(v){if(!(m=v(m)))return;if(typeof m=="string")return void b.push(m)}switch(m.nodeType){case Y:var ae=m.attributes,Ge=ae.length,Se=m.firstChild,st=m.tagName,zt=st;if(!B&&!m.prefix&&m.namespaceURI){for(var Bt,Cs=0;Cs<ae.length;Cs++)if(ae.item(Cs).name==="xmlns"){Bt=ae.item(Cs).value;break}if(!Bt){for(var fs=L.length-1;fs>=0;fs--)if((Ft=L[fs]).prefix===""&&Ft.namespace===m.namespaceURI){Bt=Ft.namespace;break}}if(Bt!==m.namespaceURI)for(fs=L.length-1;fs>=0;fs--){var Ft;if((Ft=L[fs]).namespace===m.namespaceURI){Ft.prefix&&(zt=Ft.prefix+":"+st);break}}}b.push("<",zt);for(var js=0;js<Ge;js++)(gs=ae.item(js)).prefix=="xmlns"?L.push({prefix:gs.localName,namespace:gs.value}):gs.nodeName=="xmlns"&&L.push({prefix:"",namespace:gs.value});for(js=0;js<Ge;js++){var gs,jt,ci;Ni(gs=ae.item(js),0,L)&&(Ke(b,(jt=gs.prefix||"")?"xmlns:"+jt:"xmlns",ci=gs.namespaceURI),L.push({prefix:jt,namespace:ci})),Qt(gs,b,v,L)}st===zt&&Ni(m,0,L)&&(Ke(b,(jt=m.prefix||"")?"xmlns:"+jt:"xmlns",ci=m.namespaceURI),L.push({prefix:jt,namespace:ci}));var Ci=!Se;if(Ci&&(B||m.namespaceURI===H.HTML)&&(Ci=Et(st)),Ci)b.push("/>");else{if(b.push(">"),B&&Fe(st))for(;Se;)Se.data?b.push(Se.data):Qt(Se,b,v,L.slice()),Se=Se.nextSibling;else for(;Se;)Qt(Se,b,v,L.slice()),Se=Se.nextSibling;b.push("</",zt,">")}return;case Q:case _e:for(Se=m.firstChild;Se;)Qt(Se,b,v,L.slice()),Se=Se.nextSibling;return;case re:return Ke(b,m.name,m.value);case pe:return b.push(m.data.replace(/[<&>]/g,ps));case X:return b.push(pt.CDATA_START,m.data,pt.CDATA_END);case Ee:return b.push(pt.COMMENT_START,m.data,pt.COMMENT_END);case Ue:var tr=m.publicId,Ys=m.systemId;return b.push(pt.DOCTYPE_DECL_START," ",m.name),tr?(b.push(" ",pt.PUBLIC," ",tr),Ys&&Ys!=="."&&b.push(" ",Ys)):Ys&&Ys!=="."&&b.push(" ",pt.SYSTEM," ",Ys),m.internalSubset&&b.push(" [",m.internalSubset,"]"),void b.push(">");case ge:return b.push("<?",m.target," ",m.data,"?>");case me:return b.push("&",m.nodeName,";");default:b.push("??",m.nodeName)}}function vi(m,b,v){var L;switch(b.nodeType){case Y:(L=b.cloneNode(!1)).ownerDocument=m;case _e:break;case re:v=!0}if(L||(L=b.cloneNode(!1)),L.ownerDocument=m,L.parentNode=null,v)for(var B=b.firstChild;B;)L.appendChild(vi(m,B,v)),B=B.nextSibling;return L}function Hi(m,b,v){var L=new b.constructor(D);for(var B in b)if(ee(b,B)){var ae=b[B];typeof ae!="object"&&ae!=L[B]&&(L[B]=ae)}switch(b.childNodes&&(L.childNodes=new Be),L.ownerDocument=m,L.nodeType){case Y:var Ge=b.attributes,Se=L.attributes=new xt,st=Ge.length;Se._ownerElement=L;for(var zt=0;zt<st;zt++)L.setAttributeNode(Hi(m,Ge.item(zt),!0));break;case re:v=!0}if(v)for(var Bt=b.firstChild;Bt;)L.appendChild(Hi(m,Bt,v)),Bt=Bt.nextSibling;return L}function er(m,b,v){m[b]=v}Be.prototype={length:0,item:function(m){return m>=0&&m<this.length?this[m]:null},toString:function(m){for(var b=[],v=0;v<this.length;v++)Qt(this[v],b,m);return b.join("")},filter:function(m){return Array.prototype.filter.call(this,m)},indexOf:function(m){return Array.prototype.indexOf.call(this,m)}},Be.prototype[Symbol.iterator]=function(){var m=this,b=0;return{next:function(){return b<m.length?{value:m[b++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},Pt.prototype.item=function(m){return Tt(this),this[m]||null},R(Pt,Be),xt.prototype={length:0,item:Be.prototype.item,getNamedItem:function(m){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(m=m.toLowerCase());for(var b=0;b<this.length;){var v=this[b];if(v.nodeName===m)return v;b++}return null},setNamedItem:function(m){var b=m.ownerElement;if(b&&b!==this._ownerElement)throw new J(J.INUSE_ATTRIBUTE_ERR);var v=this.getNamedItemNS(m.namespaceURI,m.localName);return v===m?m:(as(this._ownerElement,this,m,v),v)},setNamedItemNS:function(m){return this.setNamedItem(m)},removeNamedItem:function(m){var b=this.getNamedItem(m);if(!b)throw new J(J.NOT_FOUND_ERR,m);return ds(this._ownerElement,this,b),b},removeNamedItemNS:function(m,b){var v=this.getNamedItemNS(m,b);if(!v)throw new J(J.NOT_FOUND_ERR,m?m+" : "+b:b);return ds(this._ownerElement,this,v),v},getNamedItemNS:function(m,b){m||(m=null);for(var v=0;v<this.length;){var L=this[v];if(L.localName===b&&L.namespaceURI===m)return L;v++}return null}},xt.prototype[Symbol.iterator]=function(){var m=this,b=0;return{next:function(){return b<m.length?{value:m[b++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},Rs.prototype={hasFeature:function(m,b){return!0},createDocument:function(m,b,v){var L=Pe.XML_APPLICATION;m===H.HTML?L=Pe.XML_XHTML_APPLICATION:m===H.SVG&&(L=Pe.XML_SVG_IMAGE);var B=new Ce(D,{contentType:L});if(B.implementation=this,B.childNodes=new Be,B.doctype=v||null,v&&B.appendChild(v),b){var ae=B.createElementNS(m,b);B.appendChild(ae)}return B},createDocumentType:function(m,b,v,L){Rt(m);var B=new ni(D);return B.name=m,B.nodeName=m,B.publicId=b||"",B.systemId=v||"",B.internalSubset=L||"",B.childNodes=new Be,B},createHTMLDocument:function(m){var b=new Ce(D,{contentType:Pe.HTML});if(b.implementation=this,b.childNodes=new Be,m!==!1){b.doctype=this.createDocumentType("html"),b.doctype.ownerDocument=b,b.appendChild(b.doctype);var v=b.createElement("html");b.appendChild(v);var L=b.createElement("head");if(v.appendChild(L),typeof m=="string"){var B=b.createElement("title");B.appendChild(b.createTextNode(m)),L.appendChild(B)}v.appendChild(b.createElement("body"))}return b}},xe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var m=this.getRootNode();return m&&m.nodeType===m.DOCUMENT_NODE},contains:function(m){if(!m)return!1;var b=m;do{if(this===b)return!0;b=m.parentNode}while(b);return!1},getRootNode:function(m){var b=this;do{if(!b.parentNode)return b;b=b.parentNode}while(b)},isEqualNode:function(m){if(!m||this.nodeType!==m.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==m.name||this.publicId!==m.publicId||this.systemId!==m.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==m.namespaceURI||this.prefix!==m.prefix||this.localName!==m.localName||this.attributes.length!==m.attributes.length)return!1;for(var b=0;b<this.attributes.length;b++){var v=this.attributes.item(b);if(!v.isEqualNode(m.getAttributeNodeNS(v.namespaceURI,v.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==m.namespaceURI||this.localName!==m.localName||this.value!==m.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==m.target||this.data!==m.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==m.data)return!1}if(this.childNodes.length!==m.childNodes.length)return!1;for(b=0;b<this.childNodes.length;b++)if(!this.childNodes[b].isEqualNode(m.childNodes[b]))return!1;return!0},isSameNode:function(m){return this===m},insertBefore:function(m,b){return We(this,m,b)},replaceChild:function(m,b){We(this,m,b,te),b&&this.removeChild(b)},removeChild:function(m){return ys(this,m)},appendChild:function(m){return this.insertBefore(m,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(m){return Hi(this.ownerDocument||this,this,m)},normalize:function(){for(var m=this.firstChild;m;){var b=m.nextSibling;b&&b.nodeType==pe&&m.nodeType==pe?(this.removeChild(b),m.appendData(b.data)):(m.normalize(),m=b)}},isSupported:function(m,b){return this.ownerDocument.implementation.hasFeature(m,b)},lookupPrefix:function(m){for(var b=this;b;){var v=b._nsMap;if(v){for(var L in v)if(ee(v,L)&&v[L]===m)return L}b=b.nodeType==re?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(m){for(var b=this;b;){var v=b._nsMap;if(v&&ee(v,m))return v[m];b=b.nodeType==re?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(m){return this.lookupPrefix(m)==null},compareDocumentPosition:function(m){if(this===m)return 0;var b=m,v=this,L=null,B=null;if(b instanceof Ve&&(b=(L=b).ownerElement),v instanceof Ve&&(v=(B=v).ownerElement,L&&b&&v===b))for(var ae,Ge=0;ae=v.attributes[Ge];Ge++){if(ae===L)return qe.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+qe.DOCUMENT_POSITION_PRECEDING;if(ae===B)return qe.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+qe.DOCUMENT_POSITION_FOLLOWING}if(!b||!v||v.ownerDocument!==b.ownerDocument)return qe.DOCUMENT_POSITION_DISCONNECTED+qe.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(Xe(v.ownerDocument)>Xe(b.ownerDocument)?qe.DOCUMENT_POSITION_FOLLOWING:qe.DOCUMENT_POSITION_PRECEDING);if(B&&b===v)return qe.DOCUMENT_POSITION_CONTAINS+qe.DOCUMENT_POSITION_PRECEDING;if(L&&b===v)return qe.DOCUMENT_POSITION_CONTAINED_BY+qe.DOCUMENT_POSITION_FOLLOWING;for(var Se=[],st=b.parentNode;st;){if(!B&&st===v)return qe.DOCUMENT_POSITION_CONTAINED_BY+qe.DOCUMENT_POSITION_FOLLOWING;Se.push(st),st=st.parentNode}Se.reverse();for(var zt=[],Bt=v.parentNode;Bt;){if(!L&&Bt===b)return qe.DOCUMENT_POSITION_CONTAINS+qe.DOCUMENT_POSITION_PRECEDING;zt.push(Bt),Bt=Bt.parentNode}zt.reverse();var Cs=At(Se,zt);for(var fs in Cs.childNodes){var Ft=Cs.childNodes[fs];if(Ft===v)return qe.DOCUMENT_POSITION_FOLLOWING;if(Ft===b)return qe.DOCUMENT_POSITION_PRECEDING;if(zt.indexOf(Ft)>=0)return qe.DOCUMENT_POSITION_FOLLOWING;if(Se.indexOf(Ft)>=0)return qe.DOCUMENT_POSITION_PRECEDING}return 0}},le(j,xe),le(j,xe.prototype),le(qe,xe),le(qe,xe.prototype),Ce.prototype={implementation:null,nodeName:"#document",nodeType:Q,doctype:null,documentElement:null,_inc:1,insertBefore:function(m,b){if(m.nodeType===_e){for(var v=m.firstChild;v;){var L=v.nextSibling;this.insertBefore(v,b),v=L}return m}return We(this,m,b),m.ownerDocument=this,this.documentElement===null&&m.nodeType===Y&&(this.documentElement=m),m},removeChild:function(m){var b=ys(this,m);return b===this.documentElement&&(this.documentElement=null),b},replaceChild:function(m,b){We(this,m,b,te),m.ownerDocument=this,b&&this.removeChild(b),Je(m)&&(this.documentElement=m)},importNode:function(m,b){return vi(this,m,b)},getElementById:function(m){var b=null;return os(this.documentElement,(function(v){if(v.nodeType==Y&&v.getAttribute("id")==m)return b=v,!0})),b},createElement:function(m){var b=new Lt(D);return b.ownerDocument=this,this.type==="html"&&(m=m.toLowerCase()),ve(this.contentType)&&(b.namespaceURI=H.HTML),b.nodeName=m,b.tagName=m,b.localName=m,b.childNodes=new Be,(b.attributes=new xt)._ownerElement=b,b},createDocumentFragment:function(){var m=new vs(D);return m.ownerDocument=this,m.childNodes=new Be,m},createTextNode:function(m){var b=new Ns(D);return b.ownerDocument=this,b.childNodes=new Be,b.appendData(m),b},createComment:function(m){var b=new Fs(D);return b.ownerDocument=this,b.childNodes=new Be,b.appendData(m),b},createCDATASection:function(m){var b=new _s(D);return b.ownerDocument=this,b.childNodes=new Be,b.appendData(m),b},createProcessingInstruction:function(m,b){var v=new zs(D);return v.ownerDocument=this,v.childNodes=new Be,v.nodeName=v.target=m,v.nodeValue=v.data=b,v},createAttribute:function(m){if(!pt.QName_exact.test(m))throw new J(J.INVALID_CHARACTER_ERR,'invalid character in name "'+m+'"');return this.type==="html"&&(m=m.toLowerCase()),this._createAttribute(m)},_createAttribute:function(m){var b=new Ve(D);return b.ownerDocument=this,b.childNodes=new Be,b.name=m,b.nodeName=m,b.localName=m,b.specified=!0,b},createEntityReference:function(m){if(!pt.Name.test(m))throw new J(J.INVALID_CHARACTER_ERR,'not a valid xml name "'+m+'"');if(this.type==="html")throw new J("document is an html document",dt.NotSupportedError);var b=new yi(D);return b.ownerDocument=this,b.childNodes=new Be,b.nodeName=m,b},createElementNS:function(m,b){var v=z(m,b),L=new Lt(D),B=L.attributes=new xt;return L.childNodes=new Be,L.ownerDocument=this,L.nodeName=b,L.tagName=b,L.namespaceURI=v[0],L.prefix=v[1],L.localName=v[2],B._ownerElement=L,L},createAttributeNS:function(m,b){var v=z(m,b),L=new Ve(D);return L.ownerDocument=this,L.childNodes=new Be,L.nodeName=b,L.name=b,L.specified=!0,L.namespaceURI=v[0],L.prefix=v[1],L.localName=v[2],L}},R(Ce,xe),Lt.prototype={nodeType:Y,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return this.ownerDocument.type==="html"&&this.namespaceURI===H.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(m){return!!this.getAttributeNode(m)},getAttribute:function(m){var b=this.getAttributeNode(m);return b?b.value:null},getAttributeNode:function(m){return this._isInHTMLDocumentAndNamespace()&&(m=m.toLowerCase()),this.attributes.getNamedItem(m)},setAttribute:function(m,b){this._isInHTMLDocumentAndNamespace()&&(m=m.toLowerCase());var v=this.getAttributeNode(m);v?v.value=v.nodeValue=""+b:((v=this.ownerDocument._createAttribute(m)).value=v.nodeValue=""+b,this.setAttributeNode(v))},removeAttribute:function(m){var b=this.getAttributeNode(m);b&&this.removeAttributeNode(b)},setAttributeNode:function(m){return this.attributes.setNamedItem(m)},setAttributeNodeNS:function(m){return this.attributes.setNamedItemNS(m)},removeAttributeNode:function(m){return this.attributes.removeNamedItem(m.nodeName)},removeAttributeNS:function(m,b){var v=this.getAttributeNodeNS(m,b);v&&this.removeAttributeNode(v)},hasAttributeNS:function(m,b){return this.getAttributeNodeNS(m,b)!=null},getAttributeNS:function(m,b){var v=this.getAttributeNodeNS(m,b);return v?v.value:null},setAttributeNS:function(m,b,v){var L=z(m,b)[2],B=this.getAttributeNodeNS(m,L);B?B.value=B.nodeValue=""+v:((B=this.ownerDocument.createAttributeNS(m,b)).value=B.nodeValue=""+v,this.setAttributeNode(B))},getAttributeNodeNS:function(m,b){return this.attributes.getNamedItemNS(m,b)},getElementsByClassName:function(m){var b=Ht(m);return new Pt(this,(function(v){var L=[];return b.length>0&&os(v,(function(B){if(B!==v&&B.nodeType===Y){var ae=B.getAttribute("class");if(ae){var Ge=m===ae;if(!Ge){var Se=Ht(ae);Ge=b.every((st=Se,function(zt){return st&&st.indexOf(zt)!==-1}))}Ge&&L.push(B)}}var st})),L}))},getElementsByTagName:function(m){var b=(this.nodeType===Q?this:this.ownerDocument).type==="html",v=m.toLowerCase();return new Pt(this,(function(L){var B=[];return os(L,(function(ae){ae!==L&&ae.nodeType===Y&&(m==="*"||ae.getQualifiedName()===(b&&ae.namespaceURI===H.HTML?v:m))&&B.push(ae)})),B}))},getElementsByTagNameNS:function(m,b){return new Pt(this,(function(v){var L=[];return os(v,(function(B){B===v||B.nodeType!==Y||m!=="*"&&B.namespaceURI!==m||b!=="*"&&B.localName!=b||L.push(B)})),L}))}},Ce.prototype.getElementsByClassName=Lt.prototype.getElementsByClassName,Ce.prototype.getElementsByTagName=Lt.prototype.getElementsByTagName,Ce.prototype.getElementsByTagNameNS=Lt.prototype.getElementsByTagNameNS,R(Lt,xe),Ve.prototype.nodeType=re,R(Ve,xe),mt.prototype={data:"",substringData:function(m,b){return this.data.substring(m,m+b)},appendData:function(m){m=this.data+m,this.nodeValue=this.data=m,this.length=m.length},insertData:function(m,b){this.replaceData(m,0,b)},deleteData:function(m,b){this.replaceData(m,b,"")},replaceData:function(m,b,v){v=this.data.substring(0,m)+v+this.data.substring(m+b),this.nodeValue=this.data=v,this.length=v.length}},R(mt,xe),Ns.prototype={nodeName:"#text",nodeType:pe,splitText:function(m){var b=this.data,v=b.substring(m);b=b.substring(0,m),this.data=this.nodeValue=b,this.length=b.length;var L=this.ownerDocument.createTextNode(v);return this.parentNode&&this.parentNode.insertBefore(L,this.nextSibling),L}},R(Ns,mt),Fs.prototype={nodeName:"#comment",nodeType:Ee},R(Fs,mt),_s.prototype={nodeName:"#cdata-section",nodeType:X},R(_s,Ns),ni.prototype.nodeType=Ue,R(ni,xe),ai.prototype.nodeType=Ct,R(ai,xe),Yt.prototype.nodeType=oe,R(Yt,xe),yi.prototype.nodeType=me,R(yi,xe),vs.prototype.nodeName="#document-fragment",vs.prototype.nodeType=_e,R(vs,xe),zs.prototype.nodeType=ge,R(zs,mt),oi.prototype.serializeToString=function(m,b){return qi.call(m,b)},xe.prototype.toString=qi;try{if(Object.defineProperty){let m=function(b){switch(b.nodeType){case Y:case _e:var v=[];for(b=b.firstChild;b;)b.nodeType!==7&&b.nodeType!==8&&v.push(m(b)),b=b.nextSibling;return v.join("");default:return b.nodeValue}};Object.defineProperty(Pt.prototype,"length",{get:function(){return Tt(this),this.$$length}}),Object.defineProperty(xe.prototype,"textContent",{get:function(){return m(this)},set:function(b){switch(this.nodeType){case Y:case _e:for(;this.firstChild;)this.removeChild(this.firstChild);(b||String(b))&&this.appendChild(this.ownerDocument.createTextNode(b));break;default:this.data=b,this.value=b,this.nodeValue=b}}}),er=function(b,v,L){b["$$"+v]=L}}}catch(m){}M._updateLiveList=Tt,M.Attr=Ve,M.CDATASection=_s,M.CharacterData=mt,M.Comment=Fs,M.Document=Ce,M.DocumentFragment=vs,M.DocumentType=ni,M.DOMImplementation=Rs,M.Element=Lt,M.Entity=Yt,M.EntityReference=yi,M.LiveNodeList=Pt,M.NamedNodeMap=xt,M.Node=xe,M.NodeList=Be,M.Notation=ai,M.Text=Ns,M.ProcessingInstruction=zs,M.XMLSerializer=oi},802:(ke,M,fe)=>{"use strict";var $=fe(870),F=fe(731),ve=fe(767),ee=$.isHTMLEscapableRawTextElement,se=$.isHTMLMimeType,Fe=$.isHTMLRawTextElement,Et=$.hasOwn,Pe=$.NAMESPACE,H=ve.ParseError,D=ve.DOMException;function ze(){}ze.prototype={parse:function(R,j,Y){var re=this.domBuilder;re.startDocument(),Dt(j,j=Object.create(null)),(function(pe,X,me,oe,ge){var Ee=se(oe.mimeType);pe.indexOf(F.UNICODE_REPLACEMENT_CHARACTER)>=0&&ge.warning("Unicode replacement character detected, source encoding issues?");function Q(te){if(te>65535){var We=55296+((te-=65536)>>10),Lt=56320+(1023&te);return String.fromCharCode(We,Lt)}return String.fromCharCode(te)}function Ue(te){var We=te[te.length-1]===";"?te:te+";";if(!Ee&&We!==te)return ge.error("EntityRef: expecting ;"),te;var Lt=F.Reference.exec(We);if(!Lt||Lt[0].length!==We.length)return ge.error("entity not matching Reference production: "+te),te;var Ve=We.slice(1,-1);return Et(me,Ve)?me[Ve]:Ve.charAt(0)==="#"?Q(parseInt(Ve.substring(1).replace("x","0x"))):(ge.error("entity not found:"+te),te)}function _e(te){if(te>xt){var We=pe.substring(xt,te).replace(J,Ue);Xe&&Be(xt),oe.characters(We,0,te-xt),xt=te}}var Ct=0,qe=0,At=/\r\n?|\n|$/g,Xe=oe.locator;function Be(te,We){for(;te>=qe&&(We=At.exec(pe));)Ct=qe,qe=We.index+We[0].length,Xe.lineNumber++;Xe.columnNumber=te-Ct+1}for(var Pt=[{currentNSMap:X}],Tt=[],xt=0;;){try{var yt=pe.indexOf("<",xt);if(yt<0){if(!Ee&&Tt.length>0)return ge.fatalError("unclosed xml tag(s): "+Tt.join(", "));if(!pe.substring(xt).match(/^\s*$/)){var as=oe.doc,ds=as.createTextNode(pe.substring(xt));if(as.documentElement)return ge.error("Extra content at the end of the document");as.appendChild(ds),oe.currentElement=ds}return}if(yt>xt){var Rs=pe.substring(xt,yt);Ee||Tt.length!==0||(Rs=Rs.replace(new RegExp(F.S_OPT.source,"g"),""))&&ge.error("Unexpected content outside root element: '"+Rs+"'"),_e(yt)}switch(pe.charAt(yt+1)){case"/":var xe=pe.indexOf(">",yt+2),ps=pe.substring(yt+2,xe>0?xe:void 0);if(!ps)return ge.fatalError("end tag name missing");var os=xe>0&&F.reg("^",F.QName_group,F.S_OPT,"$").exec(ps);if(!os)return ge.fatalError('end tag name contains invalid characters: "'+ps+'"');if(!oe.currentElement&&!oe.doc.documentElement)return;var Ce=Tt[Tt.length-1]||oe.currentElement.tagName||oe.doc.documentElement.tagName||"";if(Ce!==os[1]){var Ws=os[1].toLowerCase();if(!Ee||Ce.toLowerCase()!==Ws)return ge.fatalError('Opening and ending tag mismatch: "'+Ce+'" != "'+ps+'"')}var xs=Pt.pop();Tt.pop();var ys=xs.localNSMap;if(oe.endElement(xs.uri,xs.localName,Ce),ys)for(var Oe in ys)Et(ys,Oe)&&oe.endPrefixMapping(Oe);xe++;break;case"?":Xe&&Be(yt),xe=z(pe,yt,oe,ge);break;case"!":Xe&&Be(yt),xe=Rt(pe,yt,oe,ge,Ee);break;default:Xe&&Be(yt);var Je=new le,ms=Pt[Pt.length-1].currentNSMap,$t=(xe=pt(pe,yt,Je,ms,Ue,ge,Ee),Je.length);if(Je.closed||(Ee&&$.isHTMLVoidElement(Je.tagName)?Je.closed=!0:Tt.push(Je.tagName)),Xe&&$t){for(var $s=dt(Xe,{}),ot=0;ot<$t;ot++){var Wt=Je[ot];Be(Wt.offset),Wt.locator=dt(Xe,{})}oe.locator=$s,tt(Je,oe,ms)&&Pt.push(Je),oe.locator=Xe}else tt(Je,oe,ms)&&Pt.push(Je);Ee&&!Je.closed?xe=hs(pe,xe,Je.tagName,Ue,oe):xe++}}catch(te){if(te instanceof H)throw te;if(te instanceof D)throw new H(te.name+": "+te.message,oe.locator,te);ge.error("element parse error: "+te),xe=-1}xe>xt?xt=xe:_e(Math.max(yt,xt)+1)}})(R,j,Y,re,this.errorHandler),re.endDocument()}};var J=/&#?\w+;?/g;function dt(R,j){return j.lineNumber=R.lineNumber,j.columnNumber=R.columnNumber,j}function pt(R,j,Y,re,pe,X,me){function oe(Ct,qe,At){return Et(Y.attributeNames,Ct)?X.fatalError("Attribute "+Ct+" redefined"):!me&&qe.indexOf("<")>=0?X.fatalError("Unescaped '<' not allowed in attributes values"):void Y.addValue(Ct,qe.replace(/[\t\n\r]/g," ").replace(J,pe),At)}for(var ge,Ee=++j,Q=0;;){var Ue=R.charAt(Ee);switch(Ue){case"=":if(Q===1)ge=R.slice(j,Ee),Q=3;else{if(Q!==2)throw new Error("attribute equal must after attrName");Q=3}break;case"'":case'"':if(Q===3||Q===1){if(Q===1&&(X.warning('attribute value must after "="'),ge=R.slice(j,Ee)),j=Ee+1,!((Ee=R.indexOf(Ue,j))>0))throw new Error("attribute value no end '"+Ue+"' match");oe(ge,_e=R.slice(j,Ee),j-1),Q=5}else{if(Q!=4)throw new Error('attribute value must after "="');oe(ge,_e=R.slice(j,Ee),j),X.warning('attribute "'+ge+'" missed start quot('+Ue+")!!"),j=Ee+1,Q=5}break;case"/":switch(Q){case 0:Y.setTagName(R.slice(j,Ee));case 5:case 6:case 7:Q=7,Y.closed=!0;case 4:case 1:break;case 2:Y.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return X.error("unexpected end of input"),Q==0&&Y.setTagName(R.slice(j,Ee)),Ee;case">":switch(Q){case 0:Y.setTagName(R.slice(j,Ee));case 5:case 6:case 7:break;case 4:case 1:(_e=R.slice(j,Ee)).slice(-1)==="/"&&(Y.closed=!0,_e=_e.slice(0,-1));case 2:Q===2&&(_e=ge),Q==4?(X.warning('attribute "'+_e+'" missed quot(")!'),oe(ge,_e,j)):(me||X.warning('attribute "'+_e+'" missed value!! "'+_e+'" instead!!'),oe(_e,_e,j));break;case 3:if(!me)return X.fatalError(`AttValue: ' or " expected`)}return Ee;case"\x80":Ue=" ";default:if(Ue<=" ")switch(Q){case 0:Y.setTagName(R.slice(j,Ee)),Q=6;break;case 1:ge=R.slice(j,Ee),Q=2;break;case 4:var _e=R.slice(j,Ee);X.warning('attribute "'+_e+'" missed quot(")!!'),oe(ge,_e,j);case 5:Q=6}else switch(Q){case 2:me||X.warning('attribute "'+ge+'" missed value!! "'+ge+'" instead2!!'),oe(ge,ge,j),j=Ee,Q=1;break;case 5:X.warning('attribute space is required"'+ge+'"!!');case 6:Q=1,j=Ee;break;case 3:Q=4,j=Ee;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}Ee++}}function tt(R,j,Y){for(var re=R.tagName,pe=null,X=R.length;X--;){var me=R[X],oe=me.qName,ge=me.value;if((_e=oe.indexOf(":"))>0)var Ee=me.prefix=oe.slice(0,_e),Q=oe.slice(_e+1),Ue=Ee==="xmlns"&&Q;else Q=oe,Ee=null,Ue=oe==="xmlns"&&"";me.localName=Q,Ue!==!1&&(pe==null&&(pe=Object.create(null),Dt(Y,Y=Object.create(null))),Y[Ue]=pe[Ue]=ge,me.uri=Pe.XMLNS,j.startPrefixMapping(Ue,ge))}for(X=R.length;X--;)(me=R[X]).prefix&&(me.prefix==="xml"&&(me.uri=Pe.XML),me.prefix!=="xmlns"&&(me.uri=Y[me.prefix]));var _e;(_e=re.indexOf(":"))>0?(Ee=R.prefix=re.slice(0,_e),Q=R.localName=re.slice(_e+1)):(Ee=null,Q=R.localName=re);var Ct=R.uri=Y[Ee||""];if(j.startElement(Ct,Q,re,R),!R.closed)return R.currentNSMap=Y,R.localNSMap=pe,!0;if(j.endElement(Ct,Q,re),pe)for(Ee in pe)Et(pe,Ee)&&j.endPrefixMapping(Ee)}function hs(R,j,Y,re,pe){var X=ee(Y);if(X||Fe(Y)){var me=R.indexOf("</"+Y+">",j),oe=R.substring(j+1,me);return X&&(oe=oe.replace(J,re)),pe.characters(oe,0,oe.length),me}return j+1}function Dt(R,j){for(var Y in R)Et(R,Y)&&(j[Y]=R[Y])}function Ht(R,j){var Y=j;function re(me){return me=me||0,R.charAt(Y+me)}function pe(me){Y+=me=me||1}function X(){return R.substring(Y)}return{char:re,getIndex:function(){return Y},getMatch:function(me){var oe=F.reg("^",me).exec(X());return oe?(pe(oe[0].length),oe[0]):null},getSource:function(){return R},skip:pe,skipBlanks:function(){for(var me=0;Y<R.length;){var oe=re();if(oe!==" "&&oe!==`
`&&oe!=="	"&&oe!=="\r")return me;me++,pe()}return-1},substringFromIndex:X,substringStartsWith:function(me){return R.substring(Y,Y+me.length)===me},substringStartsWithCaseInsensitive:function(me){return R.substring(Y,Y+me.length).toUpperCase()===me.toUpperCase()}}}function Rt(R,j,Y,re,pe){var X=Ht(R,j);switch(pe?X.char(2).toUpperCase():X.char(2)){case"-":var me=X.getMatch(F.Comment);return me?(Y.comment(me,F.COMMENT_START.length,me.length-F.COMMENT_START.length-F.COMMENT_END.length),X.getIndex()):re.fatalError("comment is not well-formed at position "+X.getIndex());case"[":var oe=X.getMatch(F.CDSect);return oe?pe||Y.currentElement?(Y.startCDATA(),Y.characters(oe,F.CDATA_START.length,oe.length-F.CDATA_START.length-F.CDATA_END.length),Y.endCDATA(),X.getIndex()):re.fatalError("CDATA outside of element"):re.fatalError("Invalid CDATA starting at position "+j);case"D":if(Y.doc&&Y.doc.documentElement)return re.fatalError("Doctype not allowed inside or after documentElement at position "+X.getIndex());if(pe?!X.substringStartsWithCaseInsensitive(F.DOCTYPE_DECL_START):!X.substringStartsWith(F.DOCTYPE_DECL_START))return re.fatalError("Expected "+F.DOCTYPE_DECL_START+" at position "+X.getIndex());if(X.skip(F.DOCTYPE_DECL_START.length),X.skipBlanks()<1)return re.fatalError("Expected whitespace after "+F.DOCTYPE_DECL_START+" at position "+X.getIndex());var ge={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(ge.name=X.getMatch(F.Name),!ge.name)return re.fatalError("doctype name missing or contains unexpected characters at position "+X.getIndex());if(pe&&ge.name.toLowerCase()!=="html"&&re.warning("Unexpected DOCTYPE in HTML document at position "+X.getIndex()),X.skipBlanks(),X.substringStartsWith(F.PUBLIC)||X.substringStartsWith(F.SYSTEM)){var Ee=F.ExternalID_match.exec(X.substringFromIndex());if(!Ee)return re.fatalError("doctype external id is not well-formed at position "+X.getIndex());Ee.groups.SystemLiteralOnly!==void 0?ge.systemId=Ee.groups.SystemLiteralOnly:(ge.systemId=Ee.groups.SystemLiteral,ge.publicId=Ee.groups.PubidLiteral),X.skip(Ee[0].length)}else if(pe&&X.substringStartsWithCaseInsensitive(F.SYSTEM)){if(X.skip(F.SYSTEM.length),X.skipBlanks()<1)return re.fatalError("Expected whitespace after "+F.SYSTEM+" at position "+X.getIndex());if(ge.systemId=X.getMatch(F.ABOUT_LEGACY_COMPAT_SystemLiteral),!ge.systemId)return re.fatalError("Expected "+F.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+F.SYSTEM+" at position "+X.getIndex())}return pe&&ge.systemId&&!F.ABOUT_LEGACY_COMPAT_SystemLiteral.test(ge.systemId)&&re.warning("Unexpected doctype.systemId in HTML document at position "+X.getIndex()),pe||(X.skipBlanks(),ge.internalSubset=(function(Q,Ue){function _e(Be,Pt){var Tt=F.PI.exec(Be.substringFromIndex());return Tt?Tt[1].toLowerCase()==="xml"?Pt.fatalError("xml declaration is only allowed at the start of the document, but found at position "+Be.getIndex()):(Be.skip(Tt[0].length),Tt[0]):Pt.fatalError("processing instruction is not well-formed at position "+Be.getIndex())}var Ct=Q.getSource();if(Q.char()==="["){Q.skip(1);for(var qe=Q.getIndex();Q.getIndex()<Ct.length;){if(Q.skipBlanks(),Q.char()==="]"){var At=Ct.substring(qe,Q.getIndex());return Q.skip(1),At}var Xe=null;if(Q.char()==="<"&&Q.char(1)==="!")switch(Q.char(2)){case"E":Q.char(3)==="L"?Xe=Q.getMatch(F.elementdecl):Q.char(3)==="N"&&(Xe=Q.getMatch(F.EntityDecl));break;case"A":Xe=Q.getMatch(F.AttlistDecl);break;case"N":Xe=Q.getMatch(F.NotationDecl);break;case"-":Xe=Q.getMatch(F.Comment)}else if(Q.char()==="<"&&Q.char(1)==="?")Xe=_e(Q,Ue);else{if(Q.char()!=="%")return Ue.fatalError("Error detected in Markup declaration");Xe=Q.getMatch(F.PEReference)}if(!Xe)return Ue.fatalError("Error in internal subset at position "+Q.getIndex())}return Ue.fatalError("doctype internal subset is not well-formed, missing ]")}})(X,re)),X.skipBlanks(),X.char()!==">"?re.fatalError("doctype not terminated with > at position "+X.getIndex()):(X.skip(1),Y.startDTD(ge.name,ge.publicId,ge.systemId,ge.internalSubset),Y.endDTD(),X.getIndex());default:return re.fatalError('Not well-formed XML starting with "<!" at position '+j)}}function z(R,j,Y,re){var pe=R.substring(j).match(F.PI);if(!pe)return re.fatalError("Invalid processing instruction starting at position "+j);if(pe[1].toLowerCase()==="xml"){if(j>0)return re.fatalError("processing instruction at position "+j+" is an xml declaration which is only at the start of the document");if(!F.XMLDecl.test(R.substring(j)))return re.fatalError("xml declaration is not well-formed")}return Y.processingInstruction(pe[1],pe[2]),j+pe[0].length}function le(){this.attributeNames=Object.create(null)}le.prototype={setTagName:function(R){if(!F.QName_exact.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,j,Y){if(!F.QName_exact.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:j,offset:Y}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}},M.XMLReader=ze,M.parseUtils=Ht,M.parseDoctypeCommentOrCData=Rt},870:(ke,M)=>{"use strict";function fe(H,D){return D===void 0&&(D=Object),D&&typeof D.getOwnPropertyDescriptors=="function"&&(H=D.create(null,D.getOwnPropertyDescriptors(H))),D&&typeof D.freeze=="function"?D.freeze(H):H}function $(H,D){return Object.prototype.hasOwnProperty.call(H,D)}var F=fe({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0}),ve=fe({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),ee=fe({script:!1,style:!1,textarea:!0,title:!0});function se(H){return H===Fe.HTML}var Fe=fe({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),Et=Object.keys(Fe).map((function(H){return Fe[H]})),Pe=fe({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});M.assign=function(H,D){if(H===null||typeof H!="object")throw new TypeError("target is not an object");for(var ze in D)$(D,ze)&&(H[ze]=D[ze]);return H},M.find=function(H,D,ze){if(ze===void 0&&(ze=Array.prototype),H&&typeof ze.find=="function")return ze.find.call(H,D);for(var J=0;J<H.length;J++)if($(H,J)){var dt=H[J];if(D.call(void 0,dt,J,H))return dt}},M.freeze=fe,M.HTML_BOOLEAN_ATTRIBUTES=F,M.HTML_RAW_TEXT_ELEMENTS=ee,M.HTML_VOID_ELEMENTS=ve,M.hasDefaultHTMLNamespace=function(H){return se(H)||H===Fe.XML_XHTML_APPLICATION},M.hasOwn=$,M.isHTMLBooleanAttribute=function(H){return $(F,H.toLowerCase())},M.isHTMLRawTextElement=function(H){var D=H.toLowerCase();return $(ee,D)&&!ee[D]},M.isHTMLEscapableRawTextElement=function(H){var D=H.toLowerCase();return $(ee,D)&&ee[D]},M.isHTMLMimeType=se,M.isHTMLVoidElement=function(H){return $(ve,H.toLowerCase())},M.isValidMimeType=function(H){return Et.indexOf(H)>-1},M.MIME_TYPE=Fe,M.NAMESPACE=Pe},999:(ke,M,fe)=>{(function(){"use strict";var $=this;function F(u){return typeof u=="string"}function ve(u,p,f){return u.call.apply(u.bind,arguments)}function ee(u,p,f){if(!u)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,C),u.apply(p,A)}}return function(){return u.apply(p,arguments)}}function se(u,p,f){return(se=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ve:ee).apply(null,arguments)}function Fe(u){var p=Wt;function f(){}f.prototype=p.prototype,u.G=p.prototype,u.prototype=new f,u.prototype.constructor=u,u.F=function(C,A,S){for(var ue=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)ue[ie-2]=arguments[ie];return p.prototype[A].apply(C,ue)}}var Et=String.prototype.trim?function(u){return u.trim()}:function(u){return u.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Pe(u,p){return u.indexOf(p)!=-1}function H(u,p){return u<p?-1:u>p?1:0}var D,ze=Array.prototype.indexOf?function(u,p,f){return Array.prototype.indexOf.call(u,p,f)}:function(u,p,f){if(f=f==null?0:0>f?Math.max(0,u.length+f):f,F(u))return F(p)&&p.length==1?u.indexOf(p,f):-1;for(;f<u.length;f++)if(f in u&&u[f]===p)return f;return-1},J=Array.prototype.forEach?function(u,p,f){Array.prototype.forEach.call(u,p,f)}:function(u,p,f){for(var C=u.length,A=F(u)?u.split(""):u,S=0;S<C;S++)S in A&&p.call(f,A[S],S,u)},dt=Array.prototype.filter?function(u,p,f){return Array.prototype.filter.call(u,p,f)}:function(u,p,f){for(var C=u.length,A=[],S=0,ue=F(u)?u.split(""):u,ie=0;ie<C;ie++)if(ie in ue){var it=ue[ie];p.call(f,it,ie,u)&&(A[S++]=it)}return A},pt=Array.prototype.reduce?function(u,p,f,C){return C&&(p=se(p,C)),Array.prototype.reduce.call(u,p,f)}:function(u,p,f,C){var A=f;return J(u,(function(S,ue){A=p.call(C,A,S,ue,u)})),A},tt=Array.prototype.some?function(u,p,f){return Array.prototype.some.call(u,p,f)}:function(u,p,f){for(var C=u.length,A=F(u)?u.split(""):u,S=0;S<C;S++)if(S in A&&p.call(f,A[S],S,u))return!0;return!1};e:{var hs=$.navigator;if(hs){var Dt=hs.userAgent;if(Dt){D=Dt;break e}}D=""}var Ht,Rt,z=Pe(D,"Opera")||Pe(D,"OPR"),le=Pe(D,"Trident")||Pe(D,"MSIE"),R=Pe(D,"Edge"),j=Pe(D,"Gecko")&&!(Pe(D.toLowerCase(),"webkit")&&!Pe(D,"Edge"))&&!(Pe(D,"Trident")||Pe(D,"MSIE"))&&!Pe(D,"Edge"),Y=Pe(D.toLowerCase(),"webkit")&&!Pe(D,"Edge");function re(){var u=$.document;return u?u.documentMode:void 0}e:{var pe="",X=(Rt=D,j?/rv\:([^\);]+)(\)|;)/.exec(Rt):R?/Edge\/([\d\.]+)/.exec(Rt):le?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rt):Y?/WebKit\/(\S+)/.exec(Rt):z?/(?:Version)[ \/]?(\S+)/.exec(Rt):void 0);if(X&&(pe=X?X[1]:""),le){var me=re();if(me!=null&&me>parseFloat(pe)){Ht=String(me);break e}}Ht=pe}var oe={};function ge(u){if(!oe[u]){for(var p=0,f=Et(String(Ht)).split("."),C=Et(String(u)).split("."),A=Math.max(f.length,C.length),S=0;p==0&&S<A;S++){var ue=f[S]||"",ie=C[S]||"",it=/(\d*)(\D*)/g,_t=/(\d*)(\D*)/g;do{var Zt=it.exec(ue)||["","",""],Es=_t.exec(ie)||["","",""];if(Zt[0].length==0&&Es[0].length==0)break;p=H(Zt[1].length==0?0:parseInt(Zt[1],10),Es[1].length==0?0:parseInt(Es[1],10))||H(Zt[2].length==0,Es[2].length==0)||H(Zt[2],Es[2])}while(p==0)}oe[u]=0<=p}}var Ee=$.document,Q=Ee&&le?re()||(Ee.compatMode=="CSS1Compat"?parseInt(Ht,10):5):void 0,Ue=le&&!(9<=Number(Q)),_e=le&&!(8<=Number(Q));function Ct(u,p,f,C){this.a=u,this.nodeName=f,this.nodeValue=C,this.nodeType=2,this.parentNode=this.ownerElement=p}function qe(u,p){var f=_e&&p.nodeName=="href"?u.getAttribute(p.nodeName,2):p.nodeValue;return new Ct(p,u,p.nodeName,f)}function At(u){var p=null;if((f=u.nodeType)==1&&(p=(p=(p=u.textContent)==null||p==null?u.innerText:p)==null||p==null?"":p),typeof p!="string")if(Ue&&u.nodeName.toLowerCase()=="title"&&f==1)p=u.text;else if(f==9||f==1){u=f==9?u.documentElement:u.firstChild;var f=0,C=[];for(p="";u;){do u.nodeType!=1&&(p+=u.nodeValue),Ue&&u.nodeName.toLowerCase()=="title"&&(p+=u.text),C[f++]=u;while(u=u.firstChild);for(;f&&!(u=C[--f].nextSibling););}}else p=u.nodeValue;return""+p}function Xe(u,p,f){if(p===null)return!0;try{if(!u.getAttribute)return!1}catch(C){return!1}return _e&&p=="class"&&(p="className"),f==null?!!u.getAttribute(p):u.getAttribute(p,2)==f}function Be(u,p,f,C,A){return(Ue?Pt:Tt).call(null,u,p,F(f)?f:null,F(C)?C:null,A||new Ce)}function Pt(u,p,f,C,A){if(u instanceof ae||u.b==8||f&&u.b===null){var S=p.all;if(!S||(u=ds(u))!="*"&&!(S=p.getElementsByTagName(u)))return A;if(f){for(var ue=[],ie=0;p=S[ie++];)Xe(p,f,C)&&ue.push(p);S=ue}for(ie=0;p=S[ie++];)u=="*"&&p.tagName=="!"||Oe(A,p);return A}return as(u,p,f,C,A),A}function Tt(u,p,f,C,A){return p.getElementsByName&&C&&f=="name"&&!le?(p=p.getElementsByName(C),J(p,(function(S){u.a(S)&&Oe(A,S)}))):p.getElementsByClassName&&C&&f=="class"?(p=p.getElementsByClassName(C),J(p,(function(S){S.className==C&&u.a(S)&&Oe(A,S)}))):u instanceof Qt?as(u,p,f,C,A):p.getElementsByTagName&&(p=p.getElementsByTagName(u.f()),J(p,(function(S){Xe(S,f,C)&&Oe(A,S)}))),A}function xt(u,p,f,C,A){var S;if((u instanceof ae||u.b==8||f&&u.b===null)&&(S=p.childNodes)){var ue=ds(u);return(ue=="*"||(S=dt(S,(function(ie){return ie.tagName&&ie.tagName.toLowerCase()==ue})),S))&&(f&&(S=dt(S,(function(ie){return Xe(ie,f,C)}))),J(S,(function(ie){ue=="*"&&(ie.tagName=="!"||ue=="*"&&ie.nodeType!=1)||Oe(A,ie)}))),A}return yt(u,p,f,C,A)}function yt(u,p,f,C,A){for(p=p.firstChild;p;p=p.nextSibling)Xe(p,f,C)&&u.a(p)&&Oe(A,p);return A}function as(u,p,f,C,A){for(p=p.firstChild;p;p=p.nextSibling)Xe(p,f,C)&&u.a(p)&&Oe(A,p),as(u,p,f,C,A)}function ds(u){if(u instanceof Qt){if(u.b==8)return"!";if(u.b===null)return"*"}return u.f()}function Rs(u,p){if(!u||!p)return!1;if(u.contains&&p.nodeType==1)return u==p||u.contains(p);if(u.compareDocumentPosition!==void 0)return u==p||!!(16&u.compareDocumentPosition(p));for(;p&&u!=p;)p=p.parentNode;return p==u}function xe(u,p){if(u==p)return 0;if(u.compareDocumentPosition)return 2&u.compareDocumentPosition(p)?1:-1;if(le&&!(9<=Number(Q))){if(u.nodeType==9)return-1;if(p.nodeType==9)return 1}if("sourceIndex"in u||u.parentNode&&"sourceIndex"in u.parentNode){var f=u.nodeType==1,C=p.nodeType==1;if(f&&C)return u.sourceIndex-p.sourceIndex;var A=u.parentNode,S=p.parentNode;return A==S?os(u,p):!f&&Rs(A,p)?-1*ps(u,p):!C&&Rs(S,u)?ps(p,u):(f?u.sourceIndex:A.sourceIndex)-(C?p.sourceIndex:S.sourceIndex)}return(f=(C=u.nodeType==9?u:u.ownerDocument||u.document).createRange()).selectNode(u),f.collapse(!0),(C=C.createRange()).selectNode(p),C.collapse(!0),f.compareBoundaryPoints($.Range.START_TO_END,C)}function ps(u,p){var f=u.parentNode;if(f==p)return-1;for(var C=p;C.parentNode!=f;)C=C.parentNode;return os(C,u)}function os(u,p){for(var f=p;f=f.previousSibling;)if(f==u)return-1;return 1}function Ce(){this.b=this.a=null,this.l=0}function Ws(u){this.node=u,this.a=this.b=null}function xs(u,p){if(!u.a)return p;if(!p.a)return u;for(var f=u.a,C=p.a,A=null,S=null,ue=0;f&&C;){S=f.node;var ie=C.node;S==ie||S instanceof Ct&&ie instanceof Ct&&S.a==ie.a?(S=f,f=f.a,C=C.a):0<xe(f.node,C.node)?(S=C,C=C.a):(S=f,f=f.a),(S.b=A)?A.a=S:u.a=S,A=S,ue++}for(S=f||C;S;)S.b=A,A=A.a=S,ue++,S=S.a;return u.b=A,u.l=ue,u}function ys(u,p){var f=new Ws(p);f.a=u.a,u.b?u.a.b=f:u.a=u.b=f,u.a=f,u.l++}function Oe(u,p){var f=new Ws(p);f.b=u.b,u.a?u.b.a=f:u.a=u.b=f,u.b=f,u.l++}function Je(u){return(u=u.a)?u.node:null}function ms(u){return(u=Je(u))?At(u):""}function $t(u,p){return new $s(u,!!p)}function $s(u,p){this.f=u,this.b=(this.c=p)?u.b:u.a,this.a=null}function ot(u){var p=u.b;if(p==null)return null;var f=u.a=p;return u.b=u.c?p.b:p.a,f.node}function Wt(u){this.i=u,this.b=this.g=!1,this.f=null}function te(u){return`
  `+u.toString().split(`
`).join(`
  `)}function We(u,p){u.g=p}function Lt(u,p){u.b=p}function Ve(u,p){var f=u.a(p);return f instanceof Ce?+ms(f):+f}function mt(u,p){var f=u.a(p);return f instanceof Ce?ms(f):""+f}function Ns(u,p){var f=u.a(p);return f instanceof Ce?!!f.l:!!f}function Fs(u,p,f){Wt.call(this,u.i),this.c=u,this.h=p,this.o=f,this.g=p.g||f.g,this.b=p.b||f.b,this.c==yi&&(f.b||f.g||f.i==4||f.i==0||!p.f?p.b||p.g||p.i==4||p.i==0||!f.f||(this.f={name:f.f.name,s:p}):this.f={name:p.f.name,s:f})}function _s(u,p,f,C,A){var S;if(p=p.a(C),f=f.a(C),p instanceof Ce&&f instanceof Ce){for(C=ot(p=$t(p));C;C=ot(p))for(S=ot(A=$t(f));S;S=ot(A))if(u(At(C),At(S)))return!0;return!1}if(p instanceof Ce||f instanceof Ce){p instanceof Ce?(A=p,C=f):(A=f,C=p);for(var ue=typeof C,ie=ot(S=$t(A));ie;ie=ot(S)){switch(ue){case"number":ie=+At(ie);break;case"boolean":ie=!!At(ie);break;case"string":ie=At(ie);break;default:throw Error("Illegal primitive type for comparison.")}if(A==p&&u(ie,C)||A==f&&u(C,ie))return!0}return!1}return A?typeof p=="boolean"||typeof f=="boolean"?u(!!p,!!f):typeof p=="number"||typeof f=="number"?u(+p,+f):u(p,f):u(+p,+f)}function ni(u,p,f,C){this.a=u,this.w=p,this.i=f,this.m=C}!j&&!le||le&&9<=Number(Q)||j&&ge("1.9.1"),le&&ge("9"),Fe(Fs),Fs.prototype.a=function(u){return this.c.m(this.h,this.o,u)},Fs.prototype.toString=function(){return"Binary Expression: "+this.c+te(this.h)+te(this.o)},ni.prototype.toString=function(){return this.a};var ai={};function Yt(u,p,f,C){if(ai.hasOwnProperty(u))throw Error("Binary operator already created: "+u);return u=new ni(u,p,f,C),ai[u.toString()]=u}Yt("div",6,1,(function(u,p,f){return Ve(u,f)/Ve(p,f)})),Yt("mod",6,1,(function(u,p,f){return Ve(u,f)%Ve(p,f)})),Yt("*",6,1,(function(u,p,f){return Ve(u,f)*Ve(p,f)})),Yt("+",5,1,(function(u,p,f){return Ve(u,f)+Ve(p,f)})),Yt("-",5,1,(function(u,p,f){return Ve(u,f)-Ve(p,f)})),Yt("<",4,2,(function(u,p,f){return _s((function(C,A){return C<A}),u,p,f)})),Yt(">",4,2,(function(u,p,f){return _s((function(C,A){return C>A}),u,p,f)})),Yt("<=",4,2,(function(u,p,f){return _s((function(C,A){return C<=A}),u,p,f)})),Yt(">=",4,2,(function(u,p,f){return _s((function(C,A){return C>=A}),u,p,f)}));var yi=Yt("=",3,2,(function(u,p,f){return _s((function(C,A){return C==A}),u,p,f,!0)}));function vs(u,p,f){this.a=u,this.b=p||1,this.f=f||1}function zs(u,p){if(p.a.length&&u.i!=4)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");Wt.call(this,u.i),this.c=u,this.h=p,this.g=u.g,this.b=u.b}function oi(u,p){if(p.length<u.A)throw Error("Function "+u.j+" expects at least"+u.A+" arguments, "+p.length+" given");if(u.v!==null&&p.length>u.v)throw Error("Function "+u.j+" expects at most "+u.v+" arguments, "+p.length+" given");u.B&&J(p,(function(f,C){if(f.i!=4)throw Error("Argument "+C+" to function "+u.j+" is not of type Nodeset: "+f)})),Wt.call(this,u.i),this.h=u,this.c=p,We(this,u.g||tt(p,(function(f){return f.g}))),Lt(this,u.D&&!p.length||u.C&&!!p.length||tt(p,(function(f){return f.b})))}function qi(u,p,f,C,A,S,ue,ie,it){this.j=u,this.i=p,this.g=f,this.D=C,this.C=A,this.m=S,this.A=ue,this.v=ie!==void 0?ie:ue,this.B=!!it}Yt("!=",3,2,(function(u,p,f){return _s((function(C,A){return C!=A}),u,p,f,!0)})),Yt("and",2,2,(function(u,p,f){return Ns(u,f)&&Ns(p,f)})),Yt("or",1,2,(function(u,p,f){return Ns(u,f)||Ns(p,f)})),Fe(zs),zs.prototype.a=function(u){return u=this.c.a(u),fs(this.h,u)},zs.prototype.toString=function(){return"Filter:"+te(this.c)+te(this.h)},Fe(oi),oi.prototype.a=function(u){return this.h.m.apply(null,(function(p){return Array.prototype.concat.apply(Array.prototype,arguments)})(u,this.c))},oi.prototype.toString=function(){var u="Function: "+this.h;if(this.c.length){var p=pt(this.c,(function(f,C){return f+te(C)}),"Arguments:");u=u+te(p)}return u},qi.prototype.toString=function(){return this.j};var Ni={};function Ke(u,p,f,C,A,S,ue,ie){if(Ni.hasOwnProperty(u))throw Error("Function already created: "+u+".");Ni[u]=new qi(u,p,f,C,!1,A,S,ue,ie)}function Qt(u,p){switch(this.h=u,this.c=p!==void 0?p:null,this.b=null,u){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function vi(u){return u=="comment"||u=="text"||u=="processing-instruction"||u=="node"}function Hi(u){this.b=u,this.a=0}Ke("boolean",2,!1,!1,(function(u,p){return Ns(p,u)}),1),Ke("ceiling",1,!1,!1,(function(u,p){return Math.ceil(Ve(p,u))}),1),Ke("concat",3,!1,!1,(function(u,p){return pt((function(f,C,A){return 2>=arguments.length?Array.prototype.slice.call(f,C):Array.prototype.slice.call(f,C,A)})(arguments,1),(function(f,C){return f+mt(C,u)}),"")}),2,null),Ke("contains",2,!1,!1,(function(u,p,f){return Pe(mt(p,u),mt(f,u))}),2),Ke("count",1,!1,!1,(function(u,p){return p.a(u).l}),1,1,!0),Ke("false",2,!1,!1,(function(){return!1}),0),Ke("floor",1,!1,!1,(function(u,p){return Math.floor(Ve(p,u))}),1),Ke("id",4,!1,!1,(function(u,p){function f(ie){if(Ue){var it=C.all[ie];if(it){if(it.nodeType&&ie==it.id)return it;if(it.length)return(function(_t,Zt){var Es;e:{Es=_t.length;for(var ln=F(_t)?_t.split(""):_t,Ti=0;Ti<Es;Ti++)if(Ti in ln&&Zt.call(void 0,ln[Ti],Ti,_t)){Es=Ti;break e}Es=-1}return 0>Es?null:F(_t)?_t.charAt(Es):_t[Es]})(it,(function(_t){return ie==_t.id}))}return null}return C.getElementById(ie)}var C=(A=u.a).nodeType==9?A:A.ownerDocument,A=mt(p,u).split(/\s+/),S=[];J(A,(function(ie){!(ie=f(ie))||0<=ze(S,ie)||S.push(ie)})),S.sort(xe);var ue=new Ce;return J(S,(function(ie){Oe(ue,ie)})),ue}),1),Ke("lang",2,!1,!1,(function(){return!1}),1),Ke("last",1,!0,!1,(function(u){if(arguments.length!=1)throw Error("Function last expects ()");return u.f}),0),Ke("local-name",3,!1,!0,(function(u,p){var f=p?Je(p.a(u)):u.a;return f?f.localName||f.nodeName.toLowerCase():""}),0,1,!0),Ke("name",3,!1,!0,(function(u,p){var f=p?Je(p.a(u)):u.a;return f?f.nodeName.toLowerCase():""}),0,1,!0),Ke("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),Ke("normalize-space",3,!1,!0,(function(u,p){return(p?mt(p,u):At(u.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),Ke("not",2,!1,!1,(function(u,p){return!Ns(p,u)}),1),Ke("number",1,!1,!0,(function(u,p){return p?Ve(p,u):+At(u.a)}),0,1),Ke("position",1,!0,!1,(function(u){return u.b}),0),Ke("round",1,!1,!1,(function(u,p){return Math.round(Ve(p,u))}),1),Ke("starts-with",2,!1,!1,(function(u,p,f){return p=mt(p,u),u=mt(f,u),p.lastIndexOf(u,0)==0}),2),Ke("string",3,!1,!0,(function(u,p){return p?mt(p,u):At(u.a)}),0,1),Ke("string-length",1,!1,!0,(function(u,p){return(p?mt(p,u):At(u.a)).length}),0,1),Ke("substring",3,!1,!1,(function(u,p,f,C){if(f=Ve(f,u),isNaN(f)||f==1/0||f==-1/0||(C=C?Ve(C,u):1/0,isNaN(C)||C===-1/0))return"";f=Math.round(f)-1;var A=Math.max(f,0);return u=mt(p,u),C==1/0?u.substring(A):u.substring(A,f+Math.round(C))}),2,3),Ke("substring-after",3,!1,!1,(function(u,p,f){return p=mt(p,u),u=mt(f,u),(f=p.indexOf(u))==-1?"":p.substring(f+u.length)}),2),Ke("substring-before",3,!1,!1,(function(u,p,f){return p=mt(p,u),u=mt(f,u),(u=p.indexOf(u))==-1?"":p.substring(0,u)}),2),Ke("sum",1,!1,!1,(function(u,p){for(var f=$t(p.a(u)),C=0,A=ot(f);A;A=ot(f))C+=+At(A);return C}),1,1,!0),Ke("translate",3,!1,!1,(function(u,p,f,C){p=mt(p,u),f=mt(f,u);var A=mt(C,u);for(u={},C=0;C<f.length;C++){var S=f.charAt(C);S in u||(u[S]=A.charAt(C))}for(f="",C=0;C<p.length;C++)f+=(S=p.charAt(C))in u?u[S]:S;return f}),3),Ke("true",2,!1,!1,(function(){return!0}),0),Qt.prototype.a=function(u){return this.b===null||this.b==u.nodeType},Qt.prototype.f=function(){return this.h},Qt.prototype.toString=function(){var u="Kind Test: "+this.h;return this.c===null||(u+=te(this.c)),u};var er=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,m=/^\s/;function b(u,p){return u.b[u.a+(p||0)]}function v(u){return u.b[u.a++]}function L(u){return u.b.length<=u.a}function B(u){Wt.call(this,3),this.c=u.substring(1,u.length-1)}function ae(u,p){var f;this.j=u.toLowerCase(),f=this.j=="*"?"*":"http://www.w3.org/1999/xhtml",this.c=p?p.toLowerCase():f}function Ge(u,p){if(Wt.call(this,u.i),this.h=u,this.c=p,this.g=u.g,this.b=u.b,this.c.length==1){var f=this.c[0];f.u||f.c!=ci||(f=f.o).f()!="*"&&(this.f={name:f.f(),s:null})}}function Se(){Wt.call(this,4)}function st(){Wt.call(this,4)}function zt(u){return u=="/"||u=="//"}function Bt(u){Wt.call(this,4),this.c=u,We(this,tt(this.c,(function(p){return p.g}))),Lt(this,tt(this.c,(function(p){return p.b})))}function Cs(u,p){this.a=u,this.b=!!p}function fs(u,p,f){for(f=f||0;f<u.a.length;f++)for(var C,A=u.a[f],S=$t(p),ue=p.l,ie=0;C=ot(S);ie++){var it=u.b?ue-ie:ie+1;if(typeof(C=A.a(new vs(C,it,ue)))=="number")it=it==C;else if(typeof C=="string"||typeof C=="boolean")it=!!C;else{if(!(C instanceof Ce))throw Error("Predicate.evaluate returned an unexpected type.");it=0<C.l}if(!it){if(C=(it=S).f,!(Zt=it.a))throw Error("Next must be called at least once before remove.");var _t=Zt.b,Zt=Zt.a;_t?_t.a=Zt:C.a=Zt,Zt?Zt.b=_t:C.b=_t,C.l--,it.a=null}}return p}function Ft(u,p,f,C){Wt.call(this,4),this.c=u,this.o=p,this.h=f||new Cs([]),this.u=!!C,p=0<(p=this.h).a.length?p.a[0].f:null,u.b&&p&&(u=p.name,u=Ue?u.toLowerCase():u,this.f={name:u,s:p.s});e:{for(u=this.h,p=0;p<u.a.length;p++)if((f=u.a[p]).g||f.i==1||f.i==0){u=!0;break e}u=!1}this.g=u}function js(u,p,f,C){this.j=u,this.f=p,this.a=f,this.b=C}Fe(B),B.prototype.a=function(){return this.c},B.prototype.toString=function(){return"Literal: "+this.c},ae.prototype.a=function(u){var p=u.nodeType;return(p==1||p==2)&&(p=u.localName!==void 0?u.localName:u.nodeName,(this.j=="*"||this.j==p.toLowerCase())&&(this.c=="*"||this.c==(u.namespaceURI?u.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},ae.prototype.f=function(){return this.j},ae.prototype.toString=function(){return"Name Test: "+(this.c=="http://www.w3.org/1999/xhtml"?"":this.c+":")+this.j},Fe(Ge),Fe(Se),Se.prototype.a=function(u){var p=new Ce;return(u=u.a).nodeType==9?Oe(p,u):Oe(p,u.ownerDocument),p},Se.prototype.toString=function(){return"Root Helper Expression"},Fe(st),st.prototype.a=function(u){var p=new Ce;return Oe(p,u.a),p},st.prototype.toString=function(){return"Context Helper Expression"},Ge.prototype.a=function(u){var p=this.h.a(u);if(!(p instanceof Ce))throw Error("Filter expression must evaluate to nodeset.");for(var f=0,C=(u=this.c).length;f<C&&p.l;f++){var A,S=u[f],ue=$t(p,S.c.a);if(S.g||S.c!=Ys)if(S.g||S.c!=Kn)for(A=ot(ue),p=S.a(new vs(A));(A=ot(ue))!=null;)p=xs(p,A=S.a(new vs(A)));else A=ot(ue),p=S.a(new vs(A));else{for(A=ot(ue);(p=ot(ue))&&(!A.contains||A.contains(p))&&8&p.compareDocumentPosition(A);A=p);p=S.a(new vs(A))}}return p},Ge.prototype.toString=function(){var u;if(u="Path Expression:"+te(this.h),this.c.length){var p=pt(this.c,(function(f,C){return f+te(C)}),"Steps:");u+=te(p)}return u},Fe(Bt),Bt.prototype.a=function(u){var p=new Ce;return J(this.c,(function(f){if(!((f=f.a(u))instanceof Ce))throw Error("Path expression must evaluate to NodeSet.");p=xs(p,f)})),p},Bt.prototype.toString=function(){return pt(this.c,(function(u,p){return u+te(p)}),"Union Expression:")},Cs.prototype.toString=function(){return pt(this.a,(function(u,p){return u+te(p)}),"Predicates:")},Fe(Ft),Ft.prototype.a=function(u){var p=u.a,f=null,C=null,A=null,S=0;if((f=this.f)&&(C=f.name,A=f.s?mt(f.s,u):null,S=1),this.u)if(this.g||this.c!=Ci)if(p=ot(u=$t(new Ft(tr,new Qt("node")).a(u))))for(f=this.m(p,C,A,S);(p=ot(u))!=null;)f=xs(f,this.m(p,C,A,S));else f=new Ce;else f=Be(this.o,p,C,A),f=fs(this.h,f,S);else f=this.m(u.a,C,A,S);return f},Ft.prototype.m=function(u,p,f,C){return u=this.c.f(this.o,u,p,f),fs(this.h,u,C)},Ft.prototype.toString=function(){var u;if(u="Step:"+te("Operator: "+(this.u?"//":"/")),this.c.j&&(u+=te("Axis: "+this.c)),u+=te(this.o),this.h.a.length){var p=pt(this.h.a,(function(f,C){return f+te(C)}),"Predicates:");u+=te(p)}return u},js.prototype.toString=function(){return this.j};var gs={};function jt(u,p,f,C){if(gs.hasOwnProperty(u))throw Error("Axis already created: "+u);return p=new js(u,p,f,!!C),gs[u]=p}jt("ancestor",(function(u,p){for(var f=new Ce,C=p;C=C.parentNode;)u.a(C)&&ys(f,C);return f}),!0),jt("ancestor-or-self",(function(u,p){var f=new Ce,C=p;do u.a(C)&&ys(f,C);while(C=C.parentNode);return f}),!0);var ci=jt("attribute",(function(u,p){var f=new Ce;if((S=u.f())=="style"&&Ue&&p.style)return Oe(f,new Ct(p.style,p,"style",p.style.cssText)),f;var C=p.attributes;if(C)if(u instanceof Qt&&u.b===null||S=="*")for(var A,S=0;A=C[S];S++)Ue?A.nodeValue&&Oe(f,qe(p,A)):Oe(f,A);else(A=C.getNamedItem(S))&&(Ue?A.nodeValue&&Oe(f,qe(p,A)):Oe(f,A));return f}),!1),Ci=jt("child",(function(u,p,f,C,A){return(Ue?xt:yt).call(null,u,p,F(f)?f:null,F(C)?C:null,A||new Ce)}),!1,!0);jt("descendant",Be,!1,!0);var tr=jt("descendant-or-self",(function(u,p,f,C){var A=new Ce;return Xe(p,f,C)&&u.a(p)&&Oe(A,p),Be(u,p,f,C,A)}),!1,!0),Ys=jt("following",(function(u,p,f,C){var A=new Ce;do for(var S=p;S=S.nextSibling;)Xe(S,f,C)&&u.a(S)&&Oe(A,S),A=Be(u,S,f,C,A);while(p=p.parentNode);return A}),!1,!0);jt("following-sibling",(function(u,p){for(var f=new Ce,C=p;C=C.nextSibling;)u.a(C)&&Oe(f,C);return f}),!1),jt("namespace",(function(){return new Ce}),!1);var Jn=jt("parent",(function(u,p){var f=new Ce;if(p.nodeType==9)return f;if(p.nodeType==2)return Oe(f,p.ownerElement),f;var C=p.parentNode;return u.a(C)&&Oe(f,C),f}),!1),Kn=jt("preceding",(function(u,p,f,C){var A=new Ce,S=[];do S.unshift(p);while(p=p.parentNode);for(var ue=1,ie=S.length;ue<ie;ue++){var it=[];for(p=S[ue];p=p.previousSibling;)it.unshift(p);for(var _t=0,Zt=it.length;_t<Zt;_t++)Xe(p=it[_t],f,C)&&u.a(p)&&Oe(A,p),A=Be(u,p,f,C,A)}return A}),!0,!0);jt("preceding-sibling",(function(u,p){for(var f=new Ce,C=p;C=C.previousSibling;)u.a(C)&&ys(f,C);return f}),!0);var $n=jt("self",(function(u,p){var f=new Ce;return u.a(p)&&Oe(f,p),f}),!1);function sr(u){Wt.call(this,1),this.c=u,this.g=u.g,this.b=u.b}function ir(u){Wt.call(this,1),this.c=u}function Yn(u,p){this.a=u,this.b=p}function rr(u){for(var p,f=[];;){bs(u,"Missing right hand side of binary expression."),p=nn(u);var C=v(u.a);if(!C)break;var A=(C=ai[C]||null)&&C.w;if(!A){u.a.a--;break}for(;f.length&&A<=f[f.length-1].w;)p=new Fs(f.pop(),f.pop(),p);f.push(p,C)}for(;f.length;)p=new Fs(f.pop(),f.pop(),p);return p}function bs(u,p){if(L(u.a))throw Error(p)}function wr(u,p){var f=v(u.a);if(f!=p)throw Error("Bad token, expected: "+p+" got: "+f)}function en(u){if((u=v(u.a))!=")")throw Error("Bad token: "+u)}function tn(u){if(2>(u=v(u.a)).length)throw Error("Unclosed literal string");return new B(u)}function sn(u){var p,f,C=[];if(zt(b(u.a))){if(p=v(u.a),f=b(u.a),p=="/"&&(L(u.a)||f!="."&&f!=".."&&f!="@"&&f!="*"&&!/(?![0-9])[\w]/.test(f)))return new Se;f=new Se,bs(u,"Missing next location step."),p=kr(u,p),C.push(p)}else{e:{switch(f=(p=b(u.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":v(u.a),p=rr(u),bs(u,'unclosed "("'),wr(u,")");break;case'"':case"'":p=tn(u);break;default:if(isNaN(+p)){if(vi(p)||!/(?![0-9])[\w]/.test(f)||b(u.a,1)!="("){p=null;break e}for(p=v(u.a),p=Ni[p]||null,v(u.a),f=[];b(u.a)!=")"&&(bs(u,"Missing function argument list."),f.push(rr(u)),b(u.a)==",");)v(u.a);bs(u,"Unclosed function argument list."),en(u),p=new oi(p,f)}else p=new ir(+v(u.a))}b(u.a)=="["&&(p=new zs(p,f=new Cs(rn(u))))}if(p){if(!zt(b(u.a)))return p;f=p}else p=kr(u,"/"),f=new st,C.push(p)}for(;zt(b(u.a));)p=v(u.a),bs(u,"Missing next location step."),p=kr(u,p),C.push(p);return new Ge(f,C)}function kr(u,p){var f,C,A,S;if(p!="/"&&p!="//")throw Error('Step op should be "/" or "//"');if(b(u.a)==".")return C=new Ft($n,new Qt("node")),v(u.a),C;if(b(u.a)=="..")return C=new Ft(Jn,new Qt("node")),v(u.a),C;if(b(u.a)=="@")S=ci,v(u.a),bs(u,"Missing attribute name");else if(b(u.a,1)=="::"){if(!/(?![0-9])[\w]/.test(b(u.a).charAt(0)))throw Error("Bad token: "+v(u.a));if(f=v(u.a),!(S=gs[f]||null))throw Error("No axis with name: "+f);v(u.a),bs(u,"Missing node name")}else S=Ci;if(f=b(u.a),!/(?![0-9])[\w\*]/.test(f.charAt(0)))throw Error("Bad token: "+v(u.a));if(b(u.a,1)=="("){if(!vi(f))throw Error("Invalid node type: "+f);if(!vi(f=v(u.a)))throw Error("Invalid type name: "+f);wr(u,"("),bs(u,"Bad nodetype");var ue=null;(A=b(u.a).charAt(0))!='"'&&A!="'"||(ue=tn(u)),bs(u,"Bad nodetype"),en(u),f=new Qt(f,ue)}else if((A=(f=v(u.a)).indexOf(":"))==-1)f=new ae(f);else{var ie;if((ue=f.substring(0,A))=="*")ie="*";else if(!(ie=u.b(ue)))throw Error("Namespace prefix not declared: "+ue);f=new ae(f=f.substr(A+1),ie)}return A=new Cs(rn(u),S.a),C||new Ft(S,f,A,p=="//")}function rn(u){for(var p=[];b(u.a)=="[";){v(u.a),bs(u,"Missing predicate expression.");var f=rr(u);p.push(f),bs(u,"Unclosed predicate expression."),wr(u,"]")}return p}function nn(u){if(b(u.a)=="-")return v(u.a),new sr(nn(u));var p=sn(u);if(b(u.a)!="|")u=p;else{for(p=[p];v(u.a)=="|";)bs(u,"Missing next union location path."),p.push(sn(u));u.a.a--,u=new Bt(p)}return u}function Ar(u){switch(u.nodeType){case 1:return(function(p,f){var C=Array.prototype.slice.call(arguments,1);return function(){var A=C.slice();return A.push.apply(A,arguments),p.apply(this,A)}})(on,u);case 9:return Ar(u.documentElement);case 11:case 10:case 6:case 12:return an;default:return u.parentNode?Ar(u.parentNode):an}}function an(){return null}function on(u,p){if(u.prefix==p)return u.namespaceURI||"http://www.w3.org/1999/xhtml";var f=u.getAttributeNode("xmlns:"+p);return f&&f.specified?f.value||null:u.parentNode&&u.parentNode.nodeType!=9?on(u.parentNode,p):null}function cn(u,p){if(!u.length)throw Error("Empty XPath expression.");var f=(function(A){A=A.match(er);for(var S=0;S<A.length;S++)m.test(A[S])&&A.splice(S,1);return new Hi(A)})(u);if(L(f))throw Error("Invalid XPath expression.");p?(function(A){var S=typeof A;if(S=="object"){if(!A)return"null";if(A instanceof Array)return"array";if(A instanceof Object)return S;var ue=Object.prototype.toString.call(A);if(ue=="[object Window]")return"object";if(ue=="[object Array]"||typeof A.length=="number"&&A.splice!==void 0&&A.propertyIsEnumerable!==void 0&&!A.propertyIsEnumerable("splice"))return"array";if(ue=="[object Function]"||A.call!==void 0&&A.propertyIsEnumerable!==void 0&&!A.propertyIsEnumerable("call"))return"function"}else if(S=="function"&&A.call===void 0)return"object";return S})(p)=="function"||(p=se(p.lookupNamespaceURI,p)):p=function(){return null};var C=rr(new Yn(f,p));if(!L(f))throw Error("Bad token: "+v(f));this.evaluate=function(A,S){return new Ts(C.a(new vs(A)),S)}}function Ts(u,p){if(p==0)if(u instanceof Ce)p=4;else if(typeof u=="string")p=2;else if(typeof u=="number")p=1;else{if(typeof u!="boolean")throw Error("Unexpected evaluation result.");p=3}if(p!=2&&p!=1&&p!=3&&!(u instanceof Ce))throw Error("value could not be converted to the specified type");var f;switch(this.resultType=p,p){case 2:this.stringValue=u instanceof Ce?ms(u):""+u;break;case 1:this.numberValue=u instanceof Ce?+ms(u):+u;break;case 3:this.booleanValue=u instanceof Ce?0<u.l:!!u;break;case 4:case 5:case 6:case 7:var C=$t(u);f=[];for(var A=ot(C);A;A=ot(C))f.push(A instanceof Ct?A.a:A);this.snapshotLength=u.l,this.invalidIteratorState=!1;break;case 8:case 9:C=Je(u),this.singleNodeValue=C instanceof Ct?C.a:C;break;default:throw Error("Unknown XPathResult type.")}var S=0;this.iterateNext=function(){if(p!=4&&p!=5)throw Error("iterateNext called with wrong result type");return S>=f.length?null:f[S++]},this.snapshotItem=function(ue){if(p!=6&&p!=7)throw Error("snapshotItem called with wrong result type");return ue>=f.length||0>ue?null:f[ue]}}function Qn(u){this.lookupNamespaceURI=Ar(u)}function Lr(u,p){var f=u||$,C=f.Document&&f.Document.prototype||f.document;C.evaluate&&!p||(f.XPathResult=Ts,C.evaluate=function(A,S,ue,ie){return new cn(A,ue).evaluate(S,ie)},C.createExpression=function(A,S){return new cn(A,S)},C.createNSResolver=function(A){return new Qn(A)})}Fe(sr),sr.prototype.a=function(u){return-Ve(this.c,u)},sr.prototype.toString=function(){return"Unary Expression: -"+te(this.c)},Fe(ir),ir.prototype.a=function(){return this.c},ir.prototype.toString=function(){return"Number: "+this.c},Ts.ANY_TYPE=0,Ts.NUMBER_TYPE=1,Ts.STRING_TYPE=2,Ts.BOOLEAN_TYPE=3,Ts.UNORDERED_NODE_ITERATOR_TYPE=4,Ts.ORDERED_NODE_ITERATOR_TYPE=5,Ts.UNORDERED_NODE_SNAPSHOT_TYPE=6,Ts.ORDERED_NODE_SNAPSHOT_TYPE=7,Ts.ANY_UNORDERED_NODE_TYPE=8,Ts.FIRST_ORDERED_NODE_TYPE=9;var Wi,zi=["wgxpath","install"],Qs=$;for((zi[0]in Qs)||!Qs.execScript||Qs.execScript("var "+zi[0]);zi.length&&(Wi=zi.shift());)zi.length||Lr===void 0?Qs=Qs[Wi]?Qs[Wi]:Qs[Wi]={}:Qs[Wi]=Lr;ke.exports.install=Lr,ke.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}).call(fe.g)}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(ke){var M=__webpack_module_cache__[ke];if(M!==void 0)return M.exports;var fe=__webpack_module_cache__[ke]={exports:{}};return __webpack_modules__[ke](fe,fe.exports,__webpack_require__),fe.exports}getProto=Object.getPrototypeOf?ke=>Object.getPrototypeOf(ke):ke=>ke.__proto__,__webpack_require__.t=function(ke,M){if(1&M&&(ke=this(ke)),8&M||typeof ke=="object"&&ke&&(4&M&&ke.__esModule||16&M&&typeof ke.then=="function"))return ke;var fe=Object.create(null);__webpack_require__.r(fe);var $={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var F=2&M&&ke;typeof F=="object"&&!~leafPrototypes.indexOf(F);F=getProto(F))Object.getOwnPropertyNames(F).forEach((ve=>$[ve]=()=>ke[ve]));return $.default=()=>ke,__webpack_require__.d(fe,$),fe},__webpack_require__.d=(ke,M)=>{for(var fe in M)__webpack_require__.o(M,fe)&&!__webpack_require__.o(ke,fe)&&Object.defineProperty(ke,fe,{enumerable:!0,get:M[fe]})},__webpack_require__.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ke){if(typeof window=="object")return window}})(),__webpack_require__.o=(ke,M)=>Object.prototype.hasOwnProperty.call(ke,M),__webpack_require__.r=ke=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ke,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ke,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var ke={};__webpack_require__.r(ke),__webpack_require__.d(ke,{GLOBAL:()=>Xi,MathJax:()=>nr,combineConfig:()=>Ql,combineDefaults:()=>Xs,combineWithMathJax:()=>Us,isObject:()=>Zn});var M={};__webpack_require__.r(M),__webpack_require__.d(M,{context:()=>Os,hasWindow:()=>Vi});var fe={};__webpack_require__.r(fe),__webpack_require__.d(fe,{Package:()=>Mt,PackageError:()=>Zl});var $={};__webpack_require__.r($),__webpack_require__.d($,{PrioritizedList:()=>Vs});var F={};__webpack_require__.r(F),__webpack_require__.d(F,{FunctionList:()=>wi});var ve={};__webpack_require__.r(ve),__webpack_require__.d(ve,{CONFIG:()=>wt,Loader:()=>Gt,MathJax:()=>Mr,PathFilters:()=>ea});var ee={};__webpack_require__.r(ee),__webpack_require__.d(ee,{APPEND:()=>hn,Expandable:()=>ta,OPTIONS:()=>pn,REMOVE:()=>dn,copy:()=>tu,defaultOptions:()=>is,expandable:()=>ts,insert:()=>Sr,isObject:()=>go,keys:()=>Eo,lookup:()=>Ir,makeArray:()=>bo,selectOptions:()=>jd,selectOptionsFromKeys:()=>sm,separateOptions:()=>sa,userOptions:()=>Ds});var se={};__webpack_require__.r(se),__webpack_require__.d(se,{CONFIG:()=>cs,MathJax:()=>ct,Startup:()=>W});var Fe={};__webpack_require__.r(Fe),__webpack_require__.d(Fe,{AbstractDOMAdaptor:()=>qd});var Et={};__webpack_require__.r(Et),__webpack_require__.d(Et,{HTMLAdaptor:()=>Hd});var Pe={};__webpack_require__.r(Pe),__webpack_require__.d(Pe,{browserAdaptor:()=>zd});var H={};__webpack_require__.r(H),__webpack_require__.d(H,{AbstractFindMath:()=>xo});var D={};__webpack_require__.r(D),__webpack_require__.d(D,{AbstractInputJax:()=>ar});var ze={};__webpack_require__.r(ze),__webpack_require__.d(ze,{AbstractOutputJax:()=>mn});var J={};__webpack_require__.r(J),__webpack_require__.d(J,{END:()=>li,LinkedList:()=>yo,ListItem:()=>ia});var dt={};__webpack_require__.r(dt),__webpack_require__.d(dt,{AbstractMathList:()=>su});var pt={};__webpack_require__.r(pt),__webpack_require__.d(pt,{AbstractMathItem:()=>iu,STATE:()=>V,newState:()=>fn,protoItem:()=>No});var tt={};__webpack_require__.r(tt),__webpack_require__.d(tt,{AbstractFactory:()=>ra});var hs={};__webpack_require__.r(hs),__webpack_require__.d(hs,{AbstractNodeFactory:()=>Xd});var Dt={};__webpack_require__.r(Dt),__webpack_require__.d(Dt,{Attributes:()=>Vd,INHERIT:()=>rs});var Ht={};__webpack_require__.r(Ht),__webpack_require__.d(Ht,{AbstractEmptyNode:()=>Gd,AbstractNode:()=>ru});var Rt={};__webpack_require__.r(Rt),__webpack_require__.d(Rt,{AbstractMmlBaseNode:()=>ks,AbstractMmlEmptyNode:()=>vo,AbstractMmlLayoutNode:()=>ei,AbstractMmlNode:()=>Le,AbstractMmlTokenNode:()=>ws,MATHVARIANTS:()=>Jd,TEXCLASS:()=>T,TEXCLASSNAMES:()=>nu,TextNode:()=>gn,XMLNode:()=>na,indentAttributes:()=>Kd});var z={};__webpack_require__.r(z),__webpack_require__.d(z,{MmlMath:()=>aa});var le={};__webpack_require__.r(le),__webpack_require__.d(le,{MmlMi:()=>ui});var R={};__webpack_require__.r(R),__webpack_require__.d(R,{MmlMn:()=>oa});var j={};__webpack_require__.r(j),__webpack_require__.d(j,{MMLSPACING:()=>Yd,MO:()=>c,OPDEF:()=>He,OPTABLE:()=>Gs,RANGES:()=>$d,getRange:()=>au});var Y={};__webpack_require__.r(Y),__webpack_require__.d(Y,{isPercent:()=>Js,quotePattern:()=>Co,replaceUnicode:()=>e1,sortLength:()=>Qd,split:()=>ti,toEntity:()=>t1,unicodeChars:()=>ca,unicodeString:()=>Zd});var re={};__webpack_require__.r(re),__webpack_require__.d(re,{MmlMo:()=>As});var pe={};__webpack_require__.r(pe),__webpack_require__.d(pe,{MmlMtext:()=>or});var X={};__webpack_require__.r(X),__webpack_require__.d(X,{MmlMspace:()=>cr});var me={};__webpack_require__.r(me),__webpack_require__.d(me,{MmlMs:()=>la});var oe={};__webpack_require__.r(oe),__webpack_require__.d(oe,{MmlInferredMrow:()=>ua,MmlMrow:()=>Rr});var ge={};__webpack_require__.r(ge),__webpack_require__.d(ge,{MmlMfrac:()=>ha});var Ee={};__webpack_require__.r(Ee),__webpack_require__.d(Ee,{MmlMsqrt:()=>da});var Q={};__webpack_require__.r(Q),__webpack_require__.d(Q,{MmlMroot:()=>pa});var Ue={};__webpack_require__.r(Ue),__webpack_require__.d(Ue,{MmlMstyle:()=>To});var _e={};__webpack_require__.r(_e),__webpack_require__.d(_e,{MmlMerror:()=>wo});var Ct={};__webpack_require__.r(Ct),__webpack_require__.d(Ct,{MmlMpadded:()=>ma});var qe={};__webpack_require__.r(qe),__webpack_require__.d(qe,{MmlMphantom:()=>ko});var At={};__webpack_require__.r(At),__webpack_require__.d(At,{MmlMfenced:()=>fa});var Xe={};__webpack_require__.r(Xe),__webpack_require__.d(Xe,{MmlMenclose:()=>ga});var Be={};__webpack_require__.r(Be),__webpack_require__.d(Be,{MmlMaction:()=>ba});var Pt={};__webpack_require__.r(Pt),__webpack_require__.d(Pt,{MmlMsub:()=>Ea,MmlMsubsup:()=>hi,MmlMsup:()=>xa});var Tt={};__webpack_require__.r(Tt),__webpack_require__.d(Tt,{MmlMover:()=>bn,MmlMunder:()=>ya,MmlMunderover:()=>ki});var xt={};__webpack_require__.r(xt),__webpack_require__.d(xt,{MmlMmultiscripts:()=>Na,MmlMprescripts:()=>Ao,MmlNone:()=>Lo});var yt={};__webpack_require__.r(yt),__webpack_require__.d(yt,{MmlMtable:()=>va});var as={};__webpack_require__.r(as),__webpack_require__.d(as,{MmlMlabeledtr:()=>Mo,MmlMtr:()=>En});var ds={};__webpack_require__.r(ds),__webpack_require__.d(ds,{MmlMtd:()=>Ca});var Rs={};__webpack_require__.r(Rs),__webpack_require__.d(Rs,{MmlMaligngroup:()=>So});var xe={};__webpack_require__.r(xe),__webpack_require__.d(xe,{MmlMalignmark:()=>Io});var ps={};__webpack_require__.r(ps),__webpack_require__.d(ps,{MmlMglyph:()=>Ta});var os={};__webpack_require__.r(os),__webpack_require__.d(os,{MmlAnnotation:()=>ka,MmlAnnotationXML:()=>_r,MmlSemantics:()=>wa});var Ce={};__webpack_require__.r(Ce),__webpack_require__.d(Ce,{TeXAtom:()=>xn});var Ws={};__webpack_require__.r(Ws),__webpack_require__.d(Ws,{MathChoice:()=>Ro});var xs={};__webpack_require__.r(xs),__webpack_require__.d(xs,{HtmlNode:()=>_o});var ys={};__webpack_require__.r(ys),__webpack_require__.d(ys,{MML:()=>s1});var Oe={};__webpack_require__.r(Oe),__webpack_require__.d(Oe,{MmlFactory:()=>Oo});var Je={};__webpack_require__.r(Je),__webpack_require__.d(Je,{BitField:()=>Or,BitFieldClass:()=>i1});var ms={};__webpack_require__.r(ms),__webpack_require__.d(ms,{handleRetriesFor:()=>Aa,retryAfter:()=>yn});var $t={};__webpack_require__.r($t),__webpack_require__.d($t,{AbstractMathDocument:()=>Ai,RenderList:()=>cu,resetAllOptions:()=>n1,resetOptions:()=>r1});var $s={};__webpack_require__.r($s),__webpack_require__.d($s,{AbstractHandler:()=>lu});var ot={};__webpack_require__.r(ot),__webpack_require__.d(ot,{HandlerList:()=>o1});var Wt={};__webpack_require__.r(Wt),__webpack_require__.d(Wt,{AbstractVisitor:()=>La});var te={};__webpack_require__.r(te),__webpack_require__.d(te,{DATAMJX:()=>c1,MmlVisitor:()=>Nn});var We={};__webpack_require__.r(We),__webpack_require__.d(We,{MathMLVisitor:()=>um});var Lt={};__webpack_require__.r(Lt),__webpack_require__.d(Lt,{SerializedMmlVisitor:()=>Do});var Ve={};__webpack_require__.r(Ve),__webpack_require__.d(Ve,{AbstractWrapper:()=>l1});var mt={};__webpack_require__.r(mt),__webpack_require__.d(mt,{AbstractWrapperFactory:()=>u1});var Ns={};__webpack_require__.r(Ns),__webpack_require__.d(Ns,{mathjax:()=>ls});var Fs={};__webpack_require__.r(Fs),__webpack_require__.d(Fs,{HTMLMathItem:()=>h1});var _s={};__webpack_require__.r(_s),__webpack_require__.d(_s,{HTMLMathList:()=>d1});var ni={};__webpack_require__.r(ni),__webpack_require__.d(ni,{HTMLDomStrings:()=>Po});var ai={};__webpack_require__.r(ai),__webpack_require__.d(ai,{HTMLDocument:()=>Bo});var Yt={};__webpack_require__.r(Yt),__webpack_require__.d(Yt,{HTMLHandler:()=>uu});var yi={};__webpack_require__.r(yi),__webpack_require__.d(yi,{RegisterHTMLHandler:()=>hm});var vs={};__webpack_require__.r(vs),__webpack_require__.d(vs,{asyncLoad:()=>hu});var zs={};__webpack_require__.r(zs),__webpack_require__.d(zs,{BIGDIMEN:()=>si,MATHSPACE:()=>Jt,RELUNITS:()=>pu,UNITS:()=>du,em:()=>Qe,length2em:()=>mu,percent:()=>fu,px:()=>p1});var oi={};__webpack_require__.r(oi),__webpack_require__.d(oi,{BBox:()=>rt});var qi={};__webpack_require__.r(qi),__webpack_require__.d(qi,{add:()=>dm,entities:()=>di,numeric:()=>g1,options:()=>m1,remove:()=>pm,translate:()=>f1});var Ni={};__webpack_require__.r(Ni),__webpack_require__.d(Ni,{StyleJsonSheet:()=>lr});var Ke={};__webpack_require__.r(Ke),__webpack_require__.d(Ke,{Styles:()=>Nt,TRBL:()=>Gi,WSC:()=>Ma});var Qt={};__webpack_require__.r(Qt),__webpack_require__.d(Qt,{max:()=>qo,sum:()=>ur});var vi={};__webpack_require__.r(vi),__webpack_require__.d(vi,{FindTeX:()=>Ho});var Hi={};__webpack_require__.r(Hi),__webpack_require__.d(Hi,{default:()=>w});var er={};__webpack_require__.r(er),__webpack_require__.d(er,{default:()=>hr});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{ConfigurationType:()=>Ae,HandlerType:()=>Te});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{UnitUtil:()=>$e});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{default:()=>y1});var L={};__webpack_require__.r(L),__webpack_require__.d(L,{default:()=>q});var B={};__webpack_require__.r(B),__webpack_require__.d(B,{BaseItem:()=>Ie,MmlStack:()=>N1});var ae={};__webpack_require__.r(ae),__webpack_require__.d(ae,{TexConstant:()=>Ne});var Ge={};__webpack_require__.r(Ge),__webpack_require__.d(Ge,{default:()=>Xt});var Se={};__webpack_require__.r(Se),__webpack_require__.d(Se,{default:()=>T1});var st={};__webpack_require__.r(st),__webpack_require__.d(st,{NodeFactory:()=>Dr});var zt={};__webpack_require__.r(zt),__webpack_require__.d(zt,{KeyValueDef:()=>Pr,KeyValueTypes:()=>Nm,ParseUtil:()=>ce});var Bt={};__webpack_require__.r(Bt),__webpack_require__.d(Bt,{ColumnParser:()=>k1});var Cs={};__webpack_require__.r(Cs),__webpack_require__.d(Cs,{default:()=>Nu});var fs={};__webpack_require__.r(fs),__webpack_require__.d(fs,{AbstractTags:()=>_a,AllTags:()=>L1,Label:()=>Wo,NoTags:()=>A1,TagInfo:()=>zo,TagsFactory:()=>Li});var Ft={};__webpack_require__.r(Ft),__webpack_require__.d(Ft,{Macro:()=>Mi,Token:()=>Vo});var js={};__webpack_require__.r(js),__webpack_require__.d(js,{AbstractParseMap:()=>Tu,AbstractTokenMap:()=>Cu,CharacterMap:()=>qs,CommandMap:()=>pi,DelimiterMap:()=>vn,EnvironmentMap:()=>Da,MacroMap:()=>Fr,RegExpMap:()=>Br,parseResult:()=>Oa});var gs={};__webpack_require__.r(gs),__webpack_require__.d(gs,{MapHandler:()=>Pa,SubHandler:()=>Cn,SubHandlers:()=>S1});var jt={};__webpack_require__.r(jt),__webpack_require__.d(jt,{Configuration:()=>Ps,ConfigurationHandler:()=>Go,ParserConfiguration:()=>ku});var ci={};__webpack_require__.r(ci),__webpack_require__.d(ci,{ArrayItem:()=>Ji,BeginItem:()=>Yo,BreakItem:()=>_u,CellItem:()=>Pu,CloseItem:()=>Au,DotsItem:()=>Uu,EndItem:()=>Ou,EqnArrayItem:()=>Qo,EquationItem:()=>Hu,FnItem:()=>Bu,LeftItem:()=>$o,Middle:()=>Iu,MmlItem:()=>Fa,MstyleItem:()=>qu,NonscriptItem:()=>ju,NotItem:()=>Fu,NullItem:()=>Lu,OpenItem:()=>Jo,OverItem:()=>Su,PositionItem:()=>Du,PrimeItem:()=>Mu,RightItem:()=>Ru,StartItem:()=>Ba,StopItem:()=>Tn,StyleItem:()=>wn,SubsupItem:()=>Ko});var Ci={};__webpack_require__.r(Ci),__webpack_require__.d(Ci,{default:()=>y,splitAlignArray:()=>jr});var tr={};__webpack_require__.r(tr),__webpack_require__.d(tr,{default:()=>Vt});var Ys={};__webpack_require__.r(Ys),__webpack_require__.d(Ys,{BaseConfiguration:()=>km,BaseTags:()=>O1,Other:()=>_1});var Jn={};__webpack_require__.r(Jn),__webpack_require__.d(Jn,{TeX:()=>Ur});var Kn={};__webpack_require__.r(Kn),__webpack_require__.d(Kn,{FlalignItem:()=>zu,MultlineItem:()=>Wu});var $n={};__webpack_require__.r($n),__webpack_require__.d($n,{NewcommandPriority:()=>D1,NewcommandTables:()=>Ls,NewcommandUtil:()=>ft});var sr={};__webpack_require__.r(sr),__webpack_require__.d(sr,{AmsMethods:()=>ne});var ir={};__webpack_require__.r(ir),__webpack_require__.d(ir,{BeginEnvItem:()=>qa});var Yn={};__webpack_require__.r(Yn),__webpack_require__.d(Yn,{default:()=>Si});var rr={};__webpack_require__.r(rr),__webpack_require__.d(rr,{NewcommandConfig:()=>Xu,NewcommandConfiguration:()=>Am});var bs={};__webpack_require__.r(bs),__webpack_require__.d(bs,{AmsConfiguration:()=>Lm,AmsTags:()=>F1});var wr={};__webpack_require__.r(wr),__webpack_require__.d(wr,{RequireConfiguration:()=>Gu,RequireLoad:()=>Vu,RequireMethods:()=>q1,options:()=>H1});var en={};__webpack_require__.r(en),__webpack_require__.d(en,{AutoloadConfiguration:()=>Sm});var tn={};__webpack_require__.r(tn),__webpack_require__.d(tn,{ConfigMacrosConfiguration:()=>Im});var sn={};__webpack_require__.r(sn),__webpack_require__.d(sn,{NoUndefinedConfiguration:()=>Rm});var kr={};__webpack_require__.r(kr),__webpack_require__.d(kr,{TextParser:()=>Ln});var rn={};__webpack_require__.r(rn),__webpack_require__.d(rn,{TextMacrosMethods:()=>O});var nn={};__webpack_require__.r(nn),__webpack_require__.d(nn,{TextBaseConfiguration:()=>_m,TextMacrosConfiguration:()=>Dm});var Ar={};__webpack_require__.r(Ar),__webpack_require__.d(Ar,{DIRECTION:()=>gt,H:()=>U,V:()=>_});var an={};__webpack_require__.r(an),__webpack_require__.d(an,{DIRECTION:()=>gt,FontData:()=>nt,NOSTRETCH:()=>Ha,mergeOptions:()=>$i});var on={};__webpack_require__.r(on),__webpack_require__.d(on,{LineBBox:()=>Ms});var cn={};__webpack_require__.r(cn),__webpack_require__.d(cn,{LinebreakVisitor:()=>G1,Linebreaks:()=>V1,NOBREAK:()=>qr});var Ts={};__webpack_require__.r(Ts),__webpack_require__.d(Ts,{CommonOutputJax:()=>Hr,FONTPATH:()=>J1});var Qn={};__webpack_require__.r(Qn),__webpack_require__.d(Qn,{CommonWrapperFactory:()=>Qu});var Lr={};__webpack_require__.r(Lr),__webpack_require__.d(Lr,{CommonWrapper:()=>Ks,SPACE:()=>Wa});var Wi={};__webpack_require__.r(Wi),__webpack_require__.d(Wi,{ChtmlWrapper:()=>Ze,FONTSIZE:()=>eh});var zi={};__webpack_require__.r(zi),__webpack_require__.d(zi,{CommonMathMixin:()=>$1});var Qs={};__webpack_require__.r(Qs),__webpack_require__.d(Qs,{ChtmlMath:()=>th});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{CommonMiMixin:()=>Y1});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{ChtmlMi:()=>sh});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{CommonMoMixin:()=>Q1});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{Usage:()=>Zo});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{AddCSS:()=>Fm,ChtmlFontData:()=>mi,DIRECTION:()=>gt,FontData:()=>nt,NOSTRETCH:()=>Ha,mergeOptions:()=>$i});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{ChtmlMo:()=>ih});var ue={};__webpack_require__.r(ue),__webpack_require__.d(ue,{CommonMnMixin:()=>Z1});var ie={};__webpack_require__.r(ie),__webpack_require__.d(ie,{ChtmlMn:()=>rh});var it={};__webpack_require__.r(it),__webpack_require__.d(it,{CommonMsMixin:()=>e2});var _t={};__webpack_require__.r(_t),__webpack_require__.d(_t,{ChtmlMs:()=>nh});var Zt={};__webpack_require__.r(Zt),__webpack_require__.d(Zt,{CommonMtextMixin:()=>t2});var Es={};__webpack_require__.r(Es),__webpack_require__.d(Es,{ChtmlMtext:()=>ah});var ln={};__webpack_require__.r(ln),__webpack_require__.d(ln,{CommonMspaceMixin:()=>s2});var Ti={};__webpack_require__.r(Ti),__webpack_require__.d(Ti,{ChtmlMspace:()=>oh});var _c={};__webpack_require__.r(_c),__webpack_require__.d(_c,{CommonMpaddedMixin:()=>i2});var Oc={};__webpack_require__.r(Oc),__webpack_require__.d(Oc,{ChtmlMpadded:()=>ch});var Dc={};__webpack_require__.r(Dc),__webpack_require__.d(Dc,{ARROWDX:()=>Mn,ARROWX:()=>Ii,ARROWY:()=>Ri,CommonArrow:()=>Eh,CommonBorder:()=>mh,CommonBorder2:()=>fh,CommonDiagonalArrow:()=>bh,CommonDiagonalStrike:()=>gh,PADDING:()=>dr,SOLID:()=>pr,THICKNESS:()=>St,arrowBBox:()=>ph,arrowBBoxHD:()=>za,arrowBBoxW:()=>Xa,arrowDef:()=>hh,arrowHead:()=>_i,diagonalArrowDef:()=>dh,fullBBox:()=>Sn,fullBorder:()=>uh,fullPadding:()=>r2,sideIndex:()=>Wr,sideNames:()=>lh});var Pc={};__webpack_require__.r(Pc),__webpack_require__.d(Pc,{CommonMencloseMixin:()=>n2});var Bc={};__webpack_require__.r(Bc),__webpack_require__.d(Bc,{ARROWDX:()=>Mn,ARROWX:()=>Ii,ARROWY:()=>Ri,Arrow:()=>zr,Border:()=>Ga,Border2:()=>xh,CommonArrow:()=>Eh,CommonBorder:()=>mh,CommonBorder2:()=>fh,CommonDiagonalArrow:()=>bh,CommonDiagonalStrike:()=>gh,DiagonalArrow:()=>mr,DiagonalStrike:()=>yh,PADDING:()=>dr,RenderElement:()=>Va,SOLID:()=>pr,THICKNESS:()=>St,arrowBBox:()=>ph,arrowBBoxHD:()=>za,arrowBBoxW:()=>Xa,arrowDef:()=>hh,arrowHead:()=>_i,diagonalArrowDef:()=>dh,fullBBox:()=>Sn,fullBorder:()=>uh,fullPadding:()=>r2,sideIndex:()=>Wr,sideNames:()=>lh});var Fc={};__webpack_require__.r(Fc),__webpack_require__.d(Fc,{ChtmlMenclose:()=>Nh});var jc={};__webpack_require__.r(jc),__webpack_require__.d(jc,{CommonInferredMrowMixin:()=>c2,CommonMrowMixin:()=>o2});var Uc={};__webpack_require__.r(Uc),__webpack_require__.d(Uc,{ChtmlInferredMrow:()=>vh,ChtmlMrow:()=>tc});var qc={};__webpack_require__.r(qc),__webpack_require__.d(qc,{CommonMfencedMixin:()=>l2});var Hc={};__webpack_require__.r(Hc),__webpack_require__.d(Hc,{ChtmlMfenced:()=>Ch});var Wc={};__webpack_require__.r(Wc),__webpack_require__.d(Wc,{CommonMfracMixin:()=>u2});var zc={};__webpack_require__.r(zc),__webpack_require__.d(zc,{ChtmlMfrac:()=>Th});var Xc={};__webpack_require__.r(Xc),__webpack_require__.d(Xc,{CommonMsqrtMixin:()=>h2});var Vc={};__webpack_require__.r(Vc),__webpack_require__.d(Vc,{ChtmlMsqrt:()=>sc});var Gc={};__webpack_require__.r(Gc),__webpack_require__.d(Gc,{CommonMrootMixin:()=>d2});var Jc={};__webpack_require__.r(Jc),__webpack_require__.d(Jc,{ChtmlMroot:()=>wh});var Kc={};__webpack_require__.r(Kc),__webpack_require__.d(Kc,{CommonMsubMixin:()=>p2,CommonMsubsupMixin:()=>f2,CommonMsupMixin:()=>m2});var $c={};__webpack_require__.r($c),__webpack_require__.d($c,{CommonScriptbaseMixin:()=>g2});var Yc={};__webpack_require__.r(Yc),__webpack_require__.d(Yc,{ChtmlScriptbase:()=>ic});var Qc={};__webpack_require__.r(Qc),__webpack_require__.d(Qc,{ChtmlMsub:()=>rc,ChtmlMsubsup:()=>In,ChtmlMsup:()=>nc});var Zc={};__webpack_require__.r(Zc),__webpack_require__.d(Zc,{CommonMoverMixin:()=>E2,CommonMunderMixin:()=>b2,CommonMunderoverMixin:()=>x2});var el={};__webpack_require__.r(el),__webpack_require__.d(el,{ChtmlMover:()=>Ah,ChtmlMunder:()=>kh,ChtmlMunderover:()=>Lh});var tl={};__webpack_require__.r(tl),__webpack_require__.d(tl,{CommonMmultiscriptsMixin:()=>N2,NextScript:()=>y2,ScriptNames:()=>jm});var sl={};__webpack_require__.r(sl),__webpack_require__.d(sl,{ChtmlMmultiscripts:()=>Mh});var il={};__webpack_require__.r(il),__webpack_require__.d(il,{BREAK_BELOW:()=>v2,CommonMtableMixin:()=>C2});var rl={};__webpack_require__.r(rl),__webpack_require__.d(rl,{ChtmlMtable:()=>Sh});var nl={};__webpack_require__.r(nl),__webpack_require__.d(nl,{CommonMlabeledtrMixin:()=>w2,CommonMtrMixin:()=>T2});var al={};__webpack_require__.r(al),__webpack_require__.d(al,{ChtmlMlabeledtr:()=>Ih,ChtmlMtr:()=>Ja});var ol={};__webpack_require__.r(ol),__webpack_require__.d(ol,{CommonMtdMixin:()=>k2});var cl={};__webpack_require__.r(cl),__webpack_require__.d(cl,{ChtmlMtd:()=>Rh});var ll={};__webpack_require__.r(ll),__webpack_require__.d(ll,{CommonMactionMixin:()=>A2,TooltipData:()=>ac});var ul={};__webpack_require__.r(ul),__webpack_require__.d(ul,{ChtmlMaction:()=>_h});var hl={};__webpack_require__.r(hl),__webpack_require__.d(hl,{CommonMglyphMixin:()=>L2});var dl={};__webpack_require__.r(dl),__webpack_require__.d(dl,{ChtmlMglyph:()=>Oh});var pl={};__webpack_require__.r(pl),__webpack_require__.d(pl,{CommonSemanticsMixin:()=>M2});var ml={};__webpack_require__.r(ml),__webpack_require__.d(ml,{CommonXmlNodeMixin:()=>S2});var fl={};__webpack_require__.r(fl),__webpack_require__.d(fl,{ChtmlAnnotation:()=>Ph,ChtmlAnnotationXML:()=>Bh,ChtmlSemantics:()=>Dh,ChtmlXmlNode:()=>oc});var gl={};__webpack_require__.r(gl),__webpack_require__.d(gl,{CommonTeXAtomMixin:()=>R2});var bl={};__webpack_require__.r(bl),__webpack_require__.d(bl,{ChtmlTeXAtom:()=>Fh});var El={};__webpack_require__.r(El),__webpack_require__.d(El,{CommonTextNodeMixin:()=>_2});var xl={};__webpack_require__.r(xl),__webpack_require__.d(xl,{ChtmlTextNode:()=>jh});var yl={};__webpack_require__.r(yl),__webpack_require__.d(yl,{ChtmlHtmlNode:()=>Uh});var Nl={};__webpack_require__.r(Nl),__webpack_require__.d(Nl,{ChtmlWrappers:()=>O2});var vl={};__webpack_require__.r(vl),__webpack_require__.d(vl,{ChtmlWrapperFactory:()=>qh});var Cl={};__webpack_require__.r(Cl),__webpack_require__.d(Cl,{DefaultFont:()=>Wh,fontName:()=>Hh});var Tl={};__webpack_require__.r(Tl),__webpack_require__.d(Tl,{CHTML:()=>fr});var wl={};__webpack_require__.r(wl),__webpack_require__.d(wl,{AddFontIds:()=>qm});var kl={};__webpack_require__.r(kl),__webpack_require__.d(kl,{MJContextMenu:()=>Di});var Al={};__webpack_require__.r(Al),__webpack_require__.d(Al,{addPreference:()=>rp,engineSetup:()=>sp,fromPreference:()=>Ld,locales:()=>kd,parseDOM:()=>ip,setupEngine:()=>tp,toEnriched:()=>Ad,toPreference:()=>np});var Ll={};__webpack_require__.r(Ll),__webpack_require__.d(Ll,{clearspeakMenu:()=>cp,localeMenu:()=>lp});var Ml={};__webpack_require__.r(Ml),__webpack_require__.d(Ml,{copyToClipboard:()=>Nr,isMac:()=>po});var Sl={};__webpack_require__.r(Sl),__webpack_require__.d(Sl,{annotation:()=>Tc,copyAnnotations:()=>hp,showAnnotations:()=>up});var Il={};__webpack_require__.r(Il),__webpack_require__.d(Il,{RadioCompare:()=>Id});var Rl={};__webpack_require__.r(Rl),__webpack_require__.d(Rl,{MmlVisitor:()=>pp});var _l={};__webpack_require__.r(_l),__webpack_require__.d(_l,{SelectableInfo:()=>vr});var Ol={};__webpack_require__.r(Ol),__webpack_require__.d(Ol,{Menu:()=>De});var Dl={};__webpack_require__.r(Dl),__webpack_require__.d(Dl,{MenuHandler:()=>bp,MenuMathDocumentMixin:()=>gp,MenuMathItemMixin:()=>fp});var Pl={};__webpack_require__.r(Pl),__webpack_require__.d(Pl,{FindMathML:()=>wc});var Bl={};__webpack_require__.r(Bl),__webpack_require__.d(Bl,{MathMLCompile:()=>kc});var Fl={};__webpack_require__.r(Fl),__webpack_require__.d(Fl,{MathML:()=>Ac});var jl={};__webpack_require__.r(jl),__webpack_require__.d(jl,{EnrichHandler:()=>Rd,EnrichedMathDocumentMixin:()=>Np,EnrichedMathItemMixin:()=>yp,enrichVisitor:()=>xp});var Ul={};__webpack_require__.r(Ul),__webpack_require__.d(Ul,{InPlace:()=>_d,SemAttr:()=>kt,buildLabel:()=>Tp,buildSpeech:()=>wp,honk:()=>kp,ssmlParsing:()=>vp});var ql={};__webpack_require__.r(ql),__webpack_require__.d(ql,{GeneratorPool:()=>Ap});var Hl={};__webpack_require__.r(Hl),__webpack_require__.d(Hl,{WorkerHandler:()=>Lp});var Wl={};__webpack_require__.r(Wl),__webpack_require__.d(Wl,{SpeechHandler:()=>Od,SpeechMathDocumentMixin:()=>Rp,SpeechMathItemMixin:()=>Ip});var zl={};__webpack_require__.r(zl),__webpack_require__.d(zl,{getHighlighter:()=>Lc});var Xl={};__webpack_require__.r(Xl),__webpack_require__.d(Xl,{AbstractRegion:()=>mo,DummyRegion:()=>Bp,HoverRegion:()=>zn,LiveRegion:()=>Qr,SpeechRegion:()=>Fp,StringRegion:()=>Dd,ToolTip:()=>Tr});var Vl={};__webpack_require__.r(Vl),__webpack_require__.d(Vl,{AbstractExplorer:()=>Xn});var Gl={};__webpack_require__.r(Gl),__webpack_require__.d(Gl,{SpeechExplorer:()=>Mc,hasModifiers:()=>Gn,isContainer:()=>bg});var Jl={};__webpack_require__.r(Jl),__webpack_require__.d(Jl,{AbstractMouseExplorer:()=>Up,ContentHoverer:()=>qp,FlameHoverer:()=>Hp,Hoverer:()=>Sc,ValueHoverer:()=>Ic});var Kl={};__webpack_require__.r(Kl),__webpack_require__.d(Kl,{AbstractTreeExplorer:()=>Pd,ContrastPicker:()=>Rc,FlameColorer:()=>Wp,TreeColorer:()=>zp});var $l={};__webpack_require__.r($l),__webpack_require__.d($l,{ExplorerPool:()=>Gp,RegionPool:()=>Xp});var Yl={};__webpack_require__.r(Yl),__webpack_require__.d(Yl,{ExplorerHandler:()=>$p,ExplorerMathDocumentMixin:()=>Kp,ExplorerMathItemMixin:()=>Jp,setA11yOption:()=>Yp,setA11yOptions:()=>yg});const Zs="4.0.0",Xi=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:{};function Zn(i){return typeof i=="object"&&i!==null}function Ql(i,e,t=!1){var s;for(const r of Object.keys(e))r!=="__esModule"&&i[r]!==e[r]&&e[r]!==null&&e[r]!==void 0&&(Zn(i[r])&&Zn(e[r])?Ql(i[r],e[r],t||r==="_"):t&&(!((s=Object.getOwnPropertyDescriptor(i,r))===null||s===void 0)&&s.get)||(i[r]=e[r]));return i}function Xs(i,e,t){i[e]||(i[e]={}),i=i[e];for(const s of Object.keys(t))Zn(i[s])&&Zn(t[s])?Xs(i,s,t[s]):i[s]==null&&t[s]!=null&&(i[s]=t[s]);return i}function Us(i){return Ql(nr,i)}Xi.MathJax!==void 0&&Xi.MathJax.constructor==={}.constructor||(Xi.MathJax={}),Xi.MathJax.version||(Xi.MathJax={version:Zs,_:{},config:Xi.MathJax});const nr=Xi.MathJax,Vi=typeof window!="undefined",Os={window:Vi?window:null,document:Vi?window.document:null,os:(()=>{if(Vi&&window.navigator){const i=window.navigator.appVersion,e=[["Win","Windows"],["Mac","MacOS"],["X11","Unix"],["Linux","Unix"]];for(const[t,s]of e)if(i.includes(t))return s;if(window.navigator.userAgent.includes("Android"))return"Unix"}return"unknown"})()};class Zl extends Error{constructor(e,t){super(e),this.package=t}}class Mt{get canLoad(){return this.dependencyCount===0&&!this.noLoad&&!this.isLoading&&!this.hasFailed}static loadPromise(e){const t=wt[e]||{},s=t.extraLoads?Gt.load(...t.extraLoads):Promise.resolve(),r=t.checkReady||(()=>Promise.resolve());return s.then((()=>r()))}static resolvePath(e,t=!0){const s={name:e,original:e,addExtension:t};return Gt.pathFilters.execute(s),s.name}static loadAll(){for(const e of this.packages.values())e.canLoad&&e.load()}constructor(e,t=!1){this.isLoaded=!1,this.result={},this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=e,this.noLoad=t,Mt.packages.set(e,this),this.promise=this.makePromise(this.makeDependencies())}makeDependencies(){const e=[],t=Mt.packages,s=this.noLoad,r=this.name,n=[];Object.hasOwn(wt.dependencies,r)?n.push(...wt.dependencies[r]):r!=="core"&&n.push("core");for(const a of n){const o=t.get(a)||new Mt(a,s);this.dependencies.includes(o)||(o.addDependent(this,s),this.dependencies.push(o),o.isLoaded||(this.dependencyCount++,e.push(o.promise)))}return e}makePromise(e){let t=new Promise(((r,n)=>{this.resolve=r,this.reject=n}));const s=wt[this.name]||{};return s.ready&&(t=t.then((r=>s.ready(this.name)))),e.length&&(e.push(t),t=Promise.all(e).then((r=>r.join(", ")))),s.failed&&t.catch((r=>s.failed(new Zl(r,this.name)))),t}load(){if(!this.isLoaded&&!this.isLoading&&!this.noLoad){this.isLoading=!0;const e=Mt.resolvePath(this.name);wt.require?this.loadCustom(e):this.loadScript(e)}}loadCustom(e){try{const t=wt.require(e);t instanceof Promise?t.then((s=>this.result=s)).then((()=>this.checkLoad())).catch((s=>this.failed(`Can't load "`+e+`"
`+s.message.trim()))):(this.result=t,this.checkLoad())}catch(t){this.failed(t.message)}}loadScript(e){const t=Os.document.createElement("script");t.src=e,t.charset="UTF-8",t.onload=s=>this.checkLoad(),t.onerror=s=>this.failed(`Can't load "`+e+'"'),Os.document.head.appendChild(t)}loaded(){this.isLoaded=!0,this.isLoading=!1;for(const e of this.dependents)e.requirementSatisfied();for(const e of this.provided)e.loaded();this.resolve(this.name)}failed(e){this.hasFailed=!0,this.isLoading=!1,this.reject(new Zl(e,this.name))}checkLoad(){Mt.loadPromise(this.name).then((()=>this.loaded())).catch((e=>this.failed(e)))}requirementSatisfied(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())}provides(e=[]){for(const t of e){let s=Mt.packages.get(t);s||(wt.dependencies[t]||(wt.dependencies[t]=[]),wt.dependencies[t].push(t),s=new Mt(t,!0),s.isLoading=!0),this.provided.push(s)}}addDependent(e,t){this.dependents.push(e),t||this.checkNoLoad()}checkNoLoad(){if(this.noLoad){this.noLoad=!1;for(const e of this.dependencies)e.checkNoLoad()}}}Mt.packages=new Map;class Vs{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let e=0;const t=this.items;return{next:()=>({value:t[e++],done:e>t.length})}}add(e,t=Vs.DEFAULTPRIORITY){let s=this.items.length;do s--;while(s>=0&&t<this.items[s].priority);return this.items.splice(s+1,0,{item:e,priority:t}),e}remove(e){let t=this.items.length;do t--;while(t>=0&&this.items[t].item!==e);return t>=0&&this.items.splice(t,1),this}}Vs.DEFAULTPRIORITY=5;class wi extends Vs{constructor(e=null){super(),e&&this.addList(e)}addList(e){for(const t of e)Array.isArray(t)?this.add(t[0],t[1]):this.add(t)}execute(...e){for(const t of this)if(t.item(...e)===!1)return!1;return!0}asyncExecute(...e){let t=-1;const s=this.items;return new Promise(((r,n)=>{(function a(){for(;++t<s.length;){const o=s[t].item(...e);if(o instanceof Promise)return void o.then(a).catch((l=>n(l)));if(o===!1)return void r(!1)}r(!0)})()}))}}const un=nr.config||{};var em=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};const ea={source:i=>(Object.hasOwn(wt.source,i.name)&&(i.name=wt.source[i.name]),!0),normalize:i=>{const e=i.name;return e.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(i.name="[mathjax]/"+e.replace(/^\.\//,"")),!0},prefix:i=>{let e;for(;(e=i.name.match(/^\[([^\]]*)\]/))&&Object.hasOwn(wt.paths,e[1]);)i.name=wt.paths[e[1]]+i.name.substring(e[0].length);return!0},addExtension:i=>(i.addExtension&&!i.name.match(/\.[^/]+$/)&&(i.name+=".js"),!0)},eu=nr.version,Gt={versions:new Map,nestedLoads:[],ready(...i){i.length===0&&(i=Array.from(Mt.packages.keys()));const e=[];for(const t of i){const s=Mt.packages.get(t)||new Mt(t,!0);e.push(s.promise)}return Promise.all(e)},load(...i){if(i.length===0)return Promise.resolve([]);let e=[];this.nestedLoads.unshift(e);const t=Promise.resolve().then((()=>em(this,void 0,void 0,(function*(){const s=[];for(const n of i){let a=Mt.packages.get(n);a||(a=new Mt(n),a.provides(wt.provides[n])),a.checkNoLoad(),s.push(a.promise.then((()=>(wt.versionWarnings&&a.isLoaded&&!Gt.versions.has(Mt.resolvePath(n))&&console.warn(`No version information available for component ${n}`),a.result))))}Mt.loadAll();const r=yield Promise.all(s);for(;e.length;){const n=Promise.all(e);e=this.nestedLoads[this.nestedLoads.indexOf(e)]=[],yield n}return this.nestedLoads.splice(this.nestedLoads.indexOf(e),1),r}))));return this.nestedLoads.slice(1).forEach((s=>s.push(t))),t},preLoaded(...i){for(const e of i){let t=Mt.packages.get(e);t||(t=new Mt(e,!0),t.provides(wt.provides[e])),t.loaded()}},addPackageData(i,e){let t=wt[i];t||(t=wt[i]={});for(const[s,r]of Object.entries(e))if(Array.isArray(r)){t[s]||(t[s]=[]);const n=new Set([...t[s],...r]);t[s]=[...n]}else t[s]=r},defaultReady(){Mr.startup!==void 0&&Mr.config.startup.ready()},getRoot(){var i,e;if(Os.document){const t=Os.document.currentScript||Os.document.getElementById("MathJax-script");if(t&&t instanceof HTMLScriptElement)return t.src.replace(/\/[^/]*$/,"")}return((e=(i=un==null?void 0:un.loader)==null?void 0:i.paths)==null?void 0:e.mathjax)||(un==null?void 0:un.__dirname)||"/"},checkVersion(i,e,t){return this.saveVersion(i),!(!wt.versionWarnings||e===eu)&&(console.warn(`Component ${i} uses ${e} of MathJax; version in use is ${eu}`),!0)},saveVersion(i){Gt.versions.set(Mt.resolvePath(i),eu)},pathFilters:new wi};Gt.pathFilters.add(ea.source,0),Gt.pathFilters.add(ea.normalize,10),Gt.pathFilters.add(ea.prefix,20),Gt.pathFilters.add(ea.addExtension,30);const Mr=nr;if(Mr.loader===void 0){Xs(Mr.config,"loader",{paths:{mathjax:Gt.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:Gt.defaultReady.bind(Gt),failed:i=>console.log(`MathJax(${i.package||"?"}): ${i.message}`),require:null,pathFilters:[],versionWarnings:!0}),Us({loader:Gt});for(const i of Mr.config.loader.pathFilters)Array.isArray(i)?Gt.pathFilters.add(i[0],i[1]):Gt.pathFilters.add(i)}const wt=Mr.config.loader,tm={}.constructor;function go(i){return typeof i=="object"&&i!==null&&(i.constructor===tm||i.constructor===ta)}const hn="[+]",dn="[-]",pn={invalidOption:"warn",optionError:(i,e)=>{if(pn.invalidOption==="fatal")throw new Error(i);console.warn("MathJax: "+i)}};class ta{}function ts(i){return Object.assign(Object.create(ta.prototype),i)}function bo(i){return Array.isArray(i)?i:[i]}function Eo(i){return i?Object.keys(i).concat(Object.getOwnPropertySymbols(i)):[]}function tu(i){const e={};for(const t of Eo(i)){const s=Object.getOwnPropertyDescriptor(i,t),r=s.value;Array.isArray(r)?s.value=Sr([],r,!1):go(r)&&(s.value=tu(r)),s.enumerable&&(e[t]=s)}return Object.defineProperties(i.constructor===ta?ts({}):{},e)}function Sr(i,e,t=!0){for(let s of Eo(e)){if(t&&i[s]===void 0&&i.constructor!==ta){typeof s=="symbol"&&(s=s.toString()),pn.optionError(`Invalid option "${s}" (no default value).`,s);continue}const r=e[s];let n=i[s];if(!go(r)||n===null||typeof n!="object"&&typeof n!="function")Array.isArray(r)?(i[s]=[],Sr(i[s],r,!1)):go(r)?i[s]=tu(r):i[s]=r;else{const a=Eo(r);Array.isArray(n)&&(a.length===1&&(a[0]===hn||a[0]===dn)&&Array.isArray(r[a[0]])||a.length===2&&a.sort().join(",")===hn+","+dn&&Array.isArray(r[hn])&&Array.isArray(r[dn]))?(r[dn]&&(n=i[s]=n.filter((o=>r[dn].indexOf(o)<0))),r[hn]&&(i[s]=[...n,...r[hn]])):Sr(n,r,t)}}return i}function is(i,...e){return e.forEach((t=>Sr(i,t,!1))),i}function Ds(i,...e){return e.forEach((t=>Sr(i,t,!0))),i}function jd(i,...e){const t={};for(const s of e)Object.hasOwn(i,s)&&(t[s]=i[s]);return t}function sm(i,e){return jd(i,...Object.keys(e))}function sa(i,...e){const t=[];for(const s of e){const r={},n={};for(const a of Object.keys(i||{}))(s[a]===void 0?n:r)[a]=i[a];t.push(r),i=n}return t.unshift(i),t}function Ir(i,e,t=null){return Object.hasOwn(e,i)?e[i]:t}var Ud=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};class W{static toMML(e){return W.visitor.visitTree(e,this.document)}static registerConstructor(e,t){W.constructors[e]=t}static useHandler(e,t=!1){cs.handler&&!t||(cs.handler=e)}static useAdaptor(e,t=!1){cs.adaptor&&!t||(cs.adaptor=e)}static useInput(e,t=!1){im&&!t||cs.input.push(e)}static useOutput(e,t=!1){cs.output&&!t||(cs.output=e)}static extendHandler(e,t=10){W.extensions.add(e,t)}static defaultReady(){W.getComponents(),W.makeMethods(),W.pagePromise.then((()=>cs.pageReady())).then((()=>W.promiseResolve())).catch((e=>W.promiseReject(e)))}static defaultPageReady(){return(cs.loadAllFontFiles&&W.output.font?W.output.font.loadDynamicFiles():Promise.resolve()).then((()=>{var e;return(e=W.document.menu)===null||e===void 0?void 0:e.loadingPromise})).then(cs.typeset&&ct.typesetPromise?()=>W.typesetPromise(cs.elements):Promise.resolve()).then((()=>W.promiseResolve()))}static typesetPromise(e){return this.hasTypeset=!0,W.document.whenReady((()=>Ud(this,void 0,void 0,(function*(){W.document.options.elements=e,W.document.reset(),yield W.document.renderPromise()}))))}static getComponents(){W.visitor=new ct._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor,W.mathjax=ct._.mathjax.mathjax,W.input=W.getInputJax(),W.output=W.getOutputJax(),W.adaptor=W.getAdaptor(),W.handler&&W.mathjax.handlers.unregister(W.handler),W.handler=W.getHandler(),W.handler&&(W.mathjax.handlers.register(W.handler),W.document=W.getDocument())}static makeMethods(){W.input&&W.output&&W.makeTypesetMethods();const e=W.output?W.output.name.toLowerCase():"";for(const t of W.input){const s=t.name.toLowerCase();W.makeMmlMethods(s,t),W.makeResetMethod(s,t),W.output&&W.makeOutputMethods(s,e,t)}ct.done=()=>W.document.done(),ct.whenReady=t=>W.document.whenReady(t)}static makeTypesetMethods(){ct.typeset=(e=null)=>{this.hasTypeset=!0,W.document.options.elements=e,W.document.reset(),W.document.render()},ct.typesetPromise=(e=null)=>W.typesetPromise(e),ct.typesetClear=(e=null)=>{e?W.document.clearMathItemsWithin(e):W.document.clear()}}static makeOutputMethods(e,t,s){const r=e+"2"+t;ct[r]=(n,a={})=>(a=Object.assign(Object.assign({},a),{format:s.name}),W.document.convert(n,a)),ct[r+"Promise"]=(n,a={})=>(a=Object.assign(Object.assign({},a),{format:s.name}),W.document.convertPromise(n,a)),ct[t+"Stylesheet"]=()=>W.output.styleSheet(W.document),"getMetricsFor"in W.output&&(ct.getMetricsFor=(n,a)=>W.output.getMetricsFor(n,a))}static makeMmlMethods(e,t){const s=ct._.core.MathItem.STATE;ct[e+"2mml"]=(r,n={})=>(n=Object.assign(Object.assign({},n),{end:s.CONVERT,format:t.name}),W.toMML(W.document.convert(r,n))),ct[e+"2mmlPromise"]=(r,...n)=>Ud(this,[r,...n],void 0,(function*(a,o={}){o=Object.assign(Object.assign({},o),{end:s.CONVERT,format:t.name});const l=yield W.document.convertPromise(a,o);return W.toMML(l)}))}static makeResetMethod(e,t){ct[e+"Reset"]=(...s)=>t.reset(...s)}static getInputJax(){const e=[];for(const t of cs.input){const s=W.constructors[t];if(!s)throw Error('Input Jax "'+t+'" is not defined (has it been loaded?)');e[t]=new s(ct.config[t]),e.push(e[t])}return e}static getOutputJax(){const e=cs.output;if(!e)return null;const t=W.constructors[e];if(!t)throw Error('Output Jax "'+e+'" is not defined (has it been loaded?)');return new t(ct.config[e])}static getAdaptor(){const e=cs.adaptor;if(!e||e==="none")return null;const t=W.constructors[e];if(!t)throw Error('DOMAdaptor "'+e+'" is not defined (has it been loaded?)');return t(ct.config[e])}static getHandler(){const e=cs.handler;if(!e||e==="none"||!W.adaptor)return null;const t=W.constructors[e];if(!t)throw Error('Handler "'+e+'" is not defined (has it been loaded?)');let s=new t(W.adaptor,5);for(const r of W.extensions)s=r.item(s);return s}static getDocument(e=null){return W.mathjax.document(e||cs.document,Object.assign(Object.assign({},ct.config.options),{InputJax:W.input,OutputJax:W.output}))}}W.extensions=new Vs,W.constructors={},W.input=[],W.output=null,W.handler=null,W.adaptor=null,W.elements=null,W.document=null,W.promise=new Promise(((i,e)=>{W.promiseResolve=i,W.promiseReject=e})),W.pagePromise=new Promise(((i,e)=>{const t=Xi.document;if(t&&t.readyState&&t.readyState!=="complete"&&t.readyState!=="interactive"){const s=()=>i();t.defaultView.addEventListener("load",s,!0),t.defaultView.addEventListener("DOMContentLoaded",s,!0)}else i()})),W.hasTypeset=!1,W.defaultOptionError=pn.optionError;const ct=nr;ct._.startup===void 0&&(Xs(ct.config,"startup",{input:[],output:"",handler:null,adaptor:null,document:Os.document||"",elements:null,typeset:!0,ready:W.defaultReady.bind(W),pageReady:W.defaultPageReady.bind(W)}),Us({startup:W,options:{}}),ct.config.startup.invalidOption&&(pn.invalidOption=ct.config.startup.invalidOption),ct.config.startup.optionError&&(pn.optionError=ct.config.startup.optionError));const cs=ct.config.startup,im=cs.input.length!==0;MathJax.loader&&MathJax.loader.checkVersion("startup",Zs,"startup"),Us({_:{components:{loader:ve,package:fe,startup:se}}}),Gt.preLoaded("loader","startup"),Xs(MathJax.config.loader,"dependencies",{"a11y/semantic-enrich":["input/mml","a11y/sre"],"a11y/speech":["a11y/semantic-enrich"],"a11y/complexity":["a11y/semantic-enrich"],"a11y/explorer":["a11y/speech"],"[mml]/mml3":["input/mml"],"[tex]/action":["input/tex-base"],"[tex]/ams":["input/tex-base","[tex]/newcommand"],"[tex]/amscd":["input/tex-base"],"[tex]/autoload":["input/tex-base","[tex]/require"],"[tex]/bbm":["input/tex-base"],"[tex]/bboldx":["input/tex-base","[tex]/textmacros"],"[tex]/bbox":["input/tex-base"],"[tex]/begingroup":["input/tex-base","[tex]/newcommand"],"[tex]/boldsymbol":["input/tex-base"],"[tex]/braket":["input/tex-base"],"[tex]/bussproofs":["input/tex-base"],"[tex]/cancel":["input/tex-base","[tex]/enclose"],"[tex]/cases":["[tex]/empheq"],"[tex]/centernot":["input/tex-base"],"[tex]/color":["input/tex-base"],"[tex]/colortbl":["input/tex-base","[tex]/color"],"[tex]/colorv2":["input/tex-base"],"[tex]/configmacros":["input/tex-base","[tex]/newcommand"],"[tex]/dsfont":["input/tex-base"],"[tex]/empheq":["input/tex-base","[tex]/ams"],"[tex]/enclose":["input/tex-base"],"[tex]/extpfeil":["input/tex-base","[tex]/newcommand","[tex]/ams"],"[tex]/gensymb":["input/tex-base"],"[tex]/html":["input/tex-base"],"[tex]/mathtools":["input/tex-base","[tex]/newcommand","[tex]/ams","[tex]/boldsymbol"],"[tex]/mhchem":["input/tex-base","[tex]/ams"],"[tex]/newcommand":["input/tex-base"],"[tex]/noerrors":["input/tex-base"],"[tex]/noundefined":["input/tex-base"],"[tex]/physics":["input/tex-base"],"[tex]/require":["input/tex-base"],"[tex]/setoptions":["input/tex-base"],"[tex]/tagformat":["input/tex-base"],"[tex]/texhtml":["input/tex-base"],"[tex]/textcomp":["input/tex-base","[tex]/textmacros"],"[tex]/textmacros":["input/tex-base"],"[tex]/unicode":["input/tex-base"],"[tex]/units":["input/tex-base"],"[tex]/upgreek":["input/tex-base"],"[tex]/verb":["input/tex-base"],"ui/menu":["a11y/sre"]}),Xs(MathJax.config.loader,"paths",{tex:"[mathjax]/input/tex/extensions",mml:"[mathjax]/input/mml/extensions",sre:"[mathjax]/sre",mathmaps:"[sre]/mathmaps"}),Xs(MathJax.config.loader,"provides",{startup:["loader"],"input/tex":["input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/textmacros","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"]}),Xs(MathJax.config.loader,"source",{"[tex]/amsCd":"[tex]/amscd","[tex]/colorV2":"[tex]/colorv2","[tex]/configMacros":"[tex]/configmacros","[tex]/tagFormat":"[tex]/tagformat"});class qd{constructor(e=null){this.canMeasureNodes=!0,this.document=e}node(e,t={},s=[],r){const n=this.create(e,r);this.setAttributes(n,t);for(const a of s)this.append(n,a);return n}setProperty(e,t,s){e[t]=s}getProperty(e,t){return e[t]}setAttributes(e,t){if(t.style&&typeof t.style!="string")for(const s of Object.keys(t.style))this.setStyle(e,s.replace(/-([a-z])/g,((r,n)=>n.toUpperCase())),t.style[s]);if(t.properties)for(const s of Object.keys(t.properties))e[s]=t.properties[s];for(const s of Object.keys(t))s==="style"&&typeof t.style!="string"||s==="properties"||this.setAttribute(e,s,t[s])}replace(e,t){return this.insert(e,t),this.remove(t),t}childNode(e,t){return this.childNodes(e)[t]}allClasses(e){const t=this.getAttribute(e,"class");return t?t.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]}cssText(e){return this.kind(e)==="style"?this.textContent(e):""}}var rm=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};class Hd extends qd{constructor(e){super(e.document),this.canMeasureNodes=!0,this.window=e,this.parser=new e.DOMParser}parse(e,t="text/html"){return this.parser.parseFromString(e,t)}create(e,t){return t?this.document.createElementNS(t,e):this.document.createElement(e)}text(e){return this.document.createTextNode(e)}head(e=this.document){return e.head||e}body(e=this.document){return e.body||e}root(e=this.document){return e.documentElement||e}doctype(e=this.document){return e.doctype?`<!DOCTYPE ${e.doctype.name}>`:""}tags(e,t,s=null){const r=s?e.getElementsByTagNameNS(s,t):e.getElementsByTagName(t);return Array.from(r)}getElements(e,t){let s=[];for(const r of e)typeof r=="string"?s=s.concat(Array.from(this.document.querySelectorAll(r))):Array.isArray(r)||r instanceof this.window.NodeList||r instanceof this.window.HTMLCollection?s=s.concat(Array.from(r)):s.push(r);return s}getElement(e,t=this.document){return t.querySelector(e)}contains(e,t){return e.contains(t)}parent(e){return e.parentNode}append(e,t){return e.appendChild(t)}insert(e,t){return this.parent(t).insertBefore(e,t)}remove(e){return this.parent(e).removeChild(e)}replace(e,t){return this.parent(t).replaceChild(e,t)}clone(e,t=!0){return e.cloneNode(t)}split(e,t){return e.splitText(t)}next(e){return e.nextSibling}previous(e){return e.previousSibling}firstChild(e){return e.firstChild}lastChild(e){return e.lastChild}childNodes(e){return Array.from(e.childNodes)}childNode(e,t){return e.childNodes[t]}kind(e){const t=e.nodeType;return t===1||t===3||t===8?e.nodeName.toLowerCase():""}value(e){return e.nodeValue||""}textContent(e){return e.textContent}innerHTML(e){return e.innerHTML}outerHTML(e){return e.outerHTML}serializeXML(e){return new this.window.XMLSerializer().serializeToString(e)}setAttribute(e,t,s,r=null){return r?(t=r.replace(/.*\//,"")+":"+t.replace(/^.*:/,""),e.setAttributeNS(r,t,s)):e.setAttribute(t,s)}getAttribute(e,t){return e.getAttribute(t)}removeAttribute(e,t){return e.removeAttribute(t)}hasAttribute(e,t){return e.hasAttribute(t)}allAttributes(e){return Array.from(e.attributes).map((t=>({name:t.name,value:t.value})))}addClass(e,t){e.classList?e.classList.add(t):e.className=(e.className+" "+t).trim()}removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/ /).filter((s=>s!==t)).join(" ")}hasClass(e,t){return e.classList?e.classList.contains(t):e.className.split(/ /).includes(t)}setStyle(e,t,s){e.style[t]=s}getStyle(e,t){return e.style[t]}allStyles(e){return e.style.cssText}insertRules(e,t){for(const s of t)try{e.sheet.insertRule(s,e.sheet.cssRules.length)}catch(r){console.warn(`MathJax: can't insert css rule '${s}': ${r.message}`)}}cssText(e){return this.kind(e)!=="style"?"":Array.from(e.sheet.cssRules).map((t=>t.cssText)).join(`
`)}fontSize(e){const t=this.window.getComputedStyle(e);return parseFloat(t.fontSize)}fontFamily(e){return this.window.getComputedStyle(e).fontFamily||""}nodeSize(e,t=1,s=!1){if(s&&e.getBBox){const{width:r,height:n}=e.getBBox();return[r/t,n/t]}return[e.offsetWidth/t,e.offsetHeight/t]}nodeBBox(e){const{left:t,right:s,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:s,top:r,bottom:n}}createWorker(e,t){return rm(this,void 0,void 0,(function*(){const{path:s,maps:r,worker:n}=t,a=`${s}/${n}`,o=`
      self.maps = '${Wd(r)}';
      importScripts('${Wd(a)}');
    `,l=URL.createObjectURL(new Blob([o],{type:"text/javascript"})),h=new Worker(l);return h.onmessage=e,URL.revokeObjectURL(l),h}))}}function Wd(i){return[...i].map((e=>(e==="\\"||e==="'"?e="\\"+e:(e<" "||e>"~")&&(e=`\\u{${e.codePointAt(0).toString(16)}}`),e))).join("")}function zd(){return new Hd(window)}class xo{constructor(e){const t=this.constructor;this.options=Ds(is({},t.OPTIONS),e)}}xo.OPTIONS={};class ar{constructor(e={}){this.adaptor=null,this.mmlFactory=null;const t=this.constructor;this.options=Ds(is({},t.OPTIONS),e),this.preFilters=new wi(this.options.preFilters),this.postFilters=new wi(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(e){this.adaptor=e}setMmlFactory(e){this.mmlFactory=e}initialize(){}reset(...e){}get processStrings(){return!0}findMath(e,t){return[]}executeFilters(e,t,s,r){const n={math:t,document:s,data:r};return e.execute(n),n.data}}ar.NAME="generic",ar.OPTIONS={preFilters:[],postFilters:[]};class mn{constructor(e={}){this.adaptor=null;const t=this.constructor;this.options=Ds(is({},t.OPTIONS),e),this.preFilters=new wi(this.options.preFilters),this.postFilters=new wi(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(e){this.adaptor=e}initialize(){}reset(...e){}getMetrics(e){}styleSheet(e){return null}pageElements(e){return null}executeFilters(e,t,s,r){const n={math:t,document:s,data:r};return e.execute(n),n.data}}mn.NAME="generic",mn.OPTIONS={preFilters:[],postFilters:[]};const li=Symbol();class ia{constructor(e=null){this.next=null,this.prev=null,this.data=e}}class yo{constructor(...e){this.list=new ia(li),this.list.next=this.list.prev=this.list,this.push(...e)}isBefore(e,t){return e<t}push(...e){for(const t of e){const s=new ia(t);s.next=this.list,s.prev=this.list.prev,this.list.prev=s,s.prev.next=s}return this}pop(){const e=this.list.prev;return e.data===li?null:(this.list.prev=e.prev,e.prev.next=this.list,e.next=e.prev=null,e.data)}unshift(...e){for(const t of e.slice(0).reverse()){const s=new ia(t);s.next=this.list.next,s.prev=this.list,this.list.next=s,s.next.prev=s}return this}shift(){const e=this.list.next;return e.data===li?null:(this.list.next=e.next,e.next.prev=this.list,e.next=e.prev=null,e.data)}remove(...e){const t=new Map;for(const r of e)t.set(r,!0);let s=this.list.next;for(;s.data!==li;){const r=s.next;t.has(s.data)&&(s.prev.next=s.next,s.next.prev=s.prev,s.next=s.prev=null),s=r}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let e=this.list.next;for(;e.data!==li;)yield e.data,e=e.next}*reversed(){let e=this.list.prev;for(;e.data!==li;)yield e.data,e=e.prev}insert(e,t=null){t===null&&(t=this.isBefore.bind(this));const s=new ia(e);let r=this.list.next;for(;r.data!==li&&t(r.data,s.data);)r=r.next;return s.prev=r.prev,s.next=r,r.prev.next=r.prev=s,this}sort(e=null){e===null&&(e=this.isBefore.bind(this));const t=[];for(const s of this)t.push(new yo(s));for(this.list.next=this.list.prev=this.list;t.length>1;){const s=t.shift(),r=t.shift();s.merge(r,e),t.push(s)}return t.length&&(this.list=t[0].list),this}merge(e,t=null){t===null&&(t=this.isBefore.bind(this));let s=this.list.next,r=e.list.next;for(;s.data!==li&&r.data!==li;)t(r.data,s.data)?([r.prev.next,s.prev.next]=[s,r],[r.prev,s.prev]=[s.prev,r.prev],[this.list.prev.next,e.list.prev.next]=[e.list,this.list],[this.list.prev,e.list.prev]=[e.list.prev,this.list.prev],[s,r]=[r.next,s]):s=s.next;return r.data!==li&&(this.list.prev.next=e.list.next,e.list.next.prev=this.list.prev,e.list.prev.next=this.list,this.list.prev=e.list.prev,e.list.next=e.list.prev=e.list),this}}class su extends yo{isBefore(e,t){return e.start.i<t.start.i||e.start.i===t.start.i&&e.start.n<t.start.n}}function No(i,e,t,s,r,n,a=null){return{open:i,math:e,close:t,n:s,start:{n:r},end:{n},display:a}}class iu{get isEscaped(){return this.display===null}constructor(e,t,s=!0,r={i:0,n:0,delim:""},n={i:0,n:0,delim:""}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=V.UNPROCESSED,this.math=e,this.inputJax=t,this.display=s,this.start=r,this.end=n,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(e){e.renderActions.renderMath(this,e)}rerender(e,t=V.RERENDER){this.state()>=t&&this.state(t-1),e.renderActions.renderMath(this,e,t)}convert(e,t=V.LAST){e.renderActions.renderConvert(this,e,t)}compile(e){this.state()<V.COMPILED&&(this.root=this.inputJax.compile(this,e),this.state(V.COMPILED))}typeset(e){this.state()<V.TYPESET&&(this.typesetRoot=e.outputJax[this.isEscaped?"escaped":"typeset"](this,e),this.state(V.TYPESET))}updateDocument(e){}removeFromDocument(e=!1){this.clear()}setMetrics(e,t,s,r){this.metrics={em:e,ex:t,containerWidth:s,scale:r}}state(e=null,t=!1){return e!=null&&(e<V.INSERTED&&this._state>=V.INSERTED&&this.removeFromDocument(t),e<V.TYPESET&&this._state>=V.TYPESET&&(this.outputData={}),e<V.COMPILED&&this._state>=V.COMPILED&&(this.inputData={}),this._state=e),this._state}reset(e=!1){this.state(V.UNPROCESSED,e)}clear(){}}const V={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function fn(i,e){if(i in V)throw Error("State "+i+" already exists");V[i]=e}class ra{constructor(e=null){this.defaultKind="unknown",this.nodeMap=new Map,this.node={},e===null&&(e=this.constructor.defaultNodes);for(const t of Object.keys(e))this.setNodeClass(t,e[t])}create(e,...t){return(this.node[e]||this.node[this.defaultKind])(...t)}setNodeClass(e,t){this.nodeMap.set(e,t);const s=this.nodeMap.get(e);this.node[e]=(...r)=>new s(this,...r)}getNodeClass(e){return this.nodeMap.get(e)}deleteNodeClass(e){this.nodeMap.delete(e),delete this.node[e]}nodeIsKind(e,t){return e instanceof this.getNodeClass(t)}getKinds(){return Array.from(this.nodeMap.keys())}}ra.defaultNodes={};class Xd extends ra{create(e,t={},s=[]){return this.node[e](t,s)}}const rs="_inherit_";class Vd{constructor(e,t){this.global=t,this.defaults=Object.create(t),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,e)}set(e,t){this.attributes[e]=t}setList(e){Object.assign(this.attributes,e)}unset(e){delete this.attributes[e]}get(e){let t=this.attributes[e];return t===rs&&(t=this.global[e]),t}getExplicit(e){return this.hasExplicit(e)?this.attributes[e]:void 0}hasExplicit(e){return Object.hasOwn(this.attributes,e)}hasOneOf(e){for(const t of e)if(this.hasExplicit(t))return!0;return!1}getList(...e){const t={};for(const s of e)t[s]=this.get(s);return t}setInherited(e,t){this.inherited[e]=t}getInherited(e){return this.inherited[e]}getDefault(e){return this.defaults[e]}isSet(e){return Object.hasOwn(this.attributes,e)||Object.hasOwn(this.inherited,e)}hasDefault(e){return e in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class ru{constructor(e,t={},s=[]){this.factory=e,this.parent=null,this.properties={},this.childNodes=[];for(const r of Object.keys(t))this.setProperty(r,t[r]);s.length&&this.setChildren(s)}get kind(){return"unknown"}setProperty(e,t){this.properties[e]=t}getProperty(e){return this.properties[e]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...e){for(const t of e)delete this.properties[t]}isKind(e){return this.factory.nodeIsKind(this,e)}setChildren(e){this.childNodes=[];for(const t of e)this.appendChild(t)}appendChild(e){return this.childNodes.push(e),e.parent=this,e}replaceChild(e,t){const s=this.childIndex(t);return s!==null&&(this.childNodes[s]=e,e.parent=this,t.parent===this&&(t.parent=null)),e}removeChild(e){const t=this.childIndex(e);return t!==null&&(this.childNodes.splice(t,1),e.parent=null),e}childIndex(e){const t=this.childNodes.indexOf(e);return t===-1?null:t}copy(){const e=this.factory.create(this.kind);e.properties=Object.assign({},this.properties);for(const t of this.childNodes||[])t&&e.appendChild(t.copy());return e}findNodes(e){const t=[];return this.walkTree((s=>{s.isKind(e)&&t.push(s)})),t}walkTree(e,t){e(this,t);for(const s of this.childNodes)s&&s.walkTree(e,t);return t}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class Gd extends ru{setChildren(e){}appendChild(e){return e}replaceChild(e,t){return t}childIndex(e){return null}walkTree(e,t){return e(this,t),t}toString(){return this.kind}}const T={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},nu=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER"],nm=["","thinmathspace","mediummathspace","thickmathspace"],am=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],Jd=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]),Kd=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];class Le extends ru{constructor(e,t={},s=[]){super(e),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[e.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(s),this.attributes=new Vd(e.getNodeClass(this.kind).defaults,e.getNodeClass("math").defaults),this.attributes.setList(t)}copy(e=!1){const t=this.factory.create(this.kind);if(t.properties=Object.assign({},this.properties),this.attributes){const s=this.attributes.getAllAttributes();for(const r of Object.keys(s))(r!=="id"||e)&&t.attributes.set(r,s[r])}if(this.childNodes&&this.childNodes.length){let s=this.childNodes;s.length===1&&s[0].isInferred&&(s=s[0].childNodes);for(const r of s)r?t.appendChild(r.copy()):t.childNodes.push(null)}return t}get texClass(){return this.texclass}set texClass(e){this.texclass=e}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let e=this.parent;for(;e&&e.notParent;)e=e.Parent;return e}get notParent(){return!1}setChildren(e){return this.arity<0?this.childNodes[0].setChildren(e):super.setChildren(e)}appendChild(e){if(this.arity<0)return this.childNodes[0].appendChild(e),e;if(e.isInferred){if(this.arity===1/0)return e.childNodes.forEach((s=>super.appendChild(s))),e;const t=e;(e=this.factory.create("mrow")).setChildren(t.childNodes),e.attributes=t.attributes;for(const s of t.getPropertyNames())e.setProperty(s,t.getProperty(s))}return super.appendChild(e)}replaceChild(e,t){return this.arity<0?(this.childNodes[0].replaceChild(e,t),e):super.replaceChild(e,t)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let e=null,t=this.parent;for(;t&&t.notParent;)e=t,t=t.parent;if(e=e||this,t){let s=0;for(const r of t.childNodes){if(r===e)return s;s++}}return null}setTeXclass(e){return this.getPrevClass(e),this.texClass!=null?this:e}updateTeXclass(e){e&&(this.prevClass=e.prevClass,this.prevLevel=e.prevLevel,e.prevClass=e.prevLevel=null,this.texClass=e.texClass)}getPrevClass(e){e&&(this.prevClass=e.texClass,this.prevLevel=e.attributes.get("scriptlevel"))}texSpacing(){const e=this.prevClass!=null?this.prevClass:T.NONE,t=this.texClass||T.ORD;if(e===T.NONE||t===T.NONE)return"";const s=am[e][t];return(this.prevLevel>0||this.attributes.get("scriptlevel")>0)&&s>=0?"":nm[Math.abs(s)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(e={},t=!1,s=0,r=!1){var n,a,o;const l=this.attributes.getAllDefaults();for(const d of Object.keys(e)){if(Object.hasOwn(l,d)||Object.hasOwn(Le.alwaysInherit,d)){const[x,k]=e[d];!((a=(n=Le.noInherit[x])===null||n===void 0?void 0:n[this.kind])===null||a===void 0)&&a[d]||this.attributes.setInherited(d,k)}!((o=Le.stopInherit[this.kind])===null||o===void 0)&&o[d]&&delete(e=Object.assign({},e))[d]}this.attributes.getExplicit("displaystyle")===void 0&&this.attributes.setInherited("displaystyle",t),this.attributes.getExplicit("scriptlevel")===void 0&&this.attributes.setInherited("scriptlevel",s),r&&this.setProperty("texprimestyle",r);const h=this.arity;if(h>=0&&h!==1/0&&(h===1&&this.childNodes.length===0||h!==1&&this.childNodes.length!==h))if(h<this.childNodes.length)this.childNodes=this.childNodes.slice(0,h);else for(;this.childNodes.length<h;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const d=this.linebreakAlign;if(d){const x=this.attributes.get(d)||"left";e=this.addInheritedAttributes(e,{indentalign:x,indentshift:"0",indentalignfirst:x,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(e,t,s,r)}setChildInheritedAttributes(e,t,s,r){for(const n of this.childNodes)n.setInheritedAttributes(e,t,s,r)}addInheritedAttributes(e,t){const s=Object.assign({},e);for(const r of Object.keys(t))r!=="displaystyle"&&r!=="scriptlevel"&&r!=="style"&&(s[r]=[this.kind,t[r]]);return s}inheritAttributesFrom(e){const t=e.attributes,s=t.get("displaystyle"),r=t.get("scriptlevel"),n=t.isSet("mathsize")?{mathsize:["math",t.get("mathsize")]}:{},a=e.getProperty("texprimestyle")||!1;this.setInheritedAttributes(n,s,r,a)}verifyTree(e=null){if(e===null)return;this.verifyAttributes(e);const t=this.arity;e.checkArity&&t>=0&&t!==1/0&&(t===1&&this.childNodes.length===0||t!==1&&this.childNodes.length!==t)&&this.mError('Wrong number of children for "'+this.kind+'" node',e,!0),this.verifyChildren(e)}verifyAttributes(e){if(e.checkAttributes){const t=this.attributes,s=[];for(const r of t.getExplicitNames())r.substring(0,5)==="data-"||t.getDefault(r)!==void 0||r.match(/^(?:class|style|id|(?:xlink:)?href)$/)||s.push(r);s.length&&this.mError("Unknown attributes for "+this.kind+" node: "+s.join(", "),e)}if(e.checkMathvariants){const t=this.attributes.getExplicit("mathvariant");!t||Jd.has(t)||this.getProperty("ignore-variant")||this.mError(`Invalid mathvariant: ${t}`,e,!0)}}verifyChildren(e){for(const t of this.childNodes)t.verifyTree(e)}mError(e,t,s=!1){if(this.parent&&this.parent.isKind("merror"))return null;const r=this.factory.create("merror");if(r.attributes.set("data-mjx-message",e),t.fullErrors||s){const n=this.factory.create("mtext"),a=this.factory.create("text");a.setText(t.fullErrors?e:this.kind),n.appendChild(a),r.appendChild(n),this.parent.replaceChild(r,this),t.fullErrors||r.attributes.set("title",e)}else this.parent.replaceChild(r,this),r.appendChild(this);return r}}Le.defaults={mathbackground:rs,mathcolor:rs,mathsize:rs,dir:rs},Le.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},Le.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},Le.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},Le.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class ws extends Le{get isToken(){return!0}getText(){let e="";for(const t of this.childNodes)t instanceof gn?e+=t.getText():"textContent"in t&&(e+=t.textContent());return e}setChildInheritedAttributes(e,t,s,r){for(const n of this.childNodes)n instanceof Le&&n.setInheritedAttributes(e,t,s,r)}walkTree(e,t){e(this,t);for(const s of this.childNodes)s instanceof Le&&s.walkTree(e,t);return t}}ws.defaults=Object.assign(Object.assign({},Le.defaults),{mathvariant:"normal",mathsize:rs});class ei extends Le{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(e){return e=this.childNodes[0].setTeXclass(e),this.updateTeXclass(this.childNodes[0]),e}}ei.defaults=Le.defaults;class ks extends Le{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(e){this.getPrevClass(e),this.texClass=T.ORD;const t=this.childNodes[0];let s=null;t&&(this.isEmbellished||t.isKind("mi")?(s=t.setTeXclass(e),this.updateTeXclass(this.core())):t.setTeXclass(null));for(const r of this.childNodes.slice(1))r&&r.setTeXclass(null);return s||this}}ks.defaults=Le.defaults;class vo extends Gd{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return T.NONE}get prevClass(){return T.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(e){return e}texSpacing(){return""}setInheritedAttributes(e,t,s,r){}inheritAttributesFrom(e){}verifyTree(e){}mError(e,t,s=!1){return null}}class gn extends vo{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(e){return this.text=e,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class na extends vo{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return"XML"}getXML(){return this.xml}setXML(e,t=null){return this.xml=e,this.adaptor=t,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return"XML data"}}class aa extends ei{get kind(){return"math"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(e,t,s,r){this.attributes.get("mode")==="display"&&this.attributes.setInherited("display","block"),e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),t=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&this.attributes.get("display")==="block",this.attributes.setInherited("displaystyle",t),s=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(e,t,s,r)}verifyTree(e=null){super.verifyTree(e),this.parent&&this.mError("Improper nesting of math tags",e,!0)}}aa.defaults=Object.assign(Object.assign({},ei.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",infixlinebreakstyle:"before",lineleading:"100%",linebreakmultchar:"\u2062",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class ui extends ws{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mi"}setInheritedAttributes(e={},t=!1,s=0,r=!1){super.setInheritedAttributes(e,t,s,r),this.getText().match(ui.singleCharacter)&&!e.mathvariant&&this.attributes.setInherited("mathvariant","italic")}setTeXclass(e){this.getPrevClass(e);const t=this.getText();return t.length>1&&t.match(ui.operatorName)&&this.attributes.get("mathvariant")==="normal"&&this.getProperty("autoOP")===void 0&&this.getProperty("texClass")===void 0&&(this.texClass=T.OP,this.setProperty("autoOP",!0)),this}}ui.defaults=Object.assign({},ws.defaults),ui.operatorName=/^[a-z][a-z0-9]*$/i,ui.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class oa extends ws{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mn"}}function He(i,e,t=T.BIN,s=null){return[i,e,t,s]}oa.defaults=Object.assign({},ws.defaults);const c={ORD:He(0,0,T.ORD),ORD11:He(1,1,T.ORD),ORD21:He(2,1,T.ORD),ORD02:He(0,2,T.ORD),ORD55:He(5,5,T.ORD),NONE:He(0,0,T.NONE),OP:He(1,2,T.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:He(1,2,T.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:He(0,1,T.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:He(1,2,T.OP,{largeop:!0,symmetric:!0}),BIN3:He(3,3,T.BIN),BIN4:He(4,4,T.BIN),BIN01:He(0,1,T.BIN),BIN5:He(5,5,T.BIN),TALLBIN:He(4,4,T.BIN,{stretchy:!0}),BINOP:He(4,4,T.BIN,{largeop:!0,movablelimits:!0}),REL:He(5,5,T.REL),REL1:He(1,1,T.REL,{stretchy:!0}),REL4:He(4,4,T.REL),RELSTRETCH:He(5,5,T.REL,{stretchy:!0}),RELACCENT:He(5,5,T.REL,{accent:!0}),WIDEREL:He(5,5,T.REL,{accent:!0,stretchy:!0}),OPEN:He(0,0,T.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:He(0,0,T.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:He(0,0,T.INNER),PUNCT:He(0,3,T.PUNCT),ACCENT:He(0,0,T.ORD,{accent:!0}),WIDEACCENT:He(0,0,T.ORD,{accent:!0,stretchy:!0})},$d=[[32,127,T.REL,"mo"],[160,191,T.ORD,"mo"],[192,591,T.ORD,"mi"],[688,879,T.ORD,"mo"],[880,6688,T.ORD,"mi"],[6832,6911,T.ORD,"mo"],[6912,7615,T.ORD,"mi"],[7616,7679,T.ORD,"mo"],[7680,8191,T.ORD,"mi"],[8192,8303,T.ORD,"mo"],[8304,8351,T.ORD,"mo"],[8448,8527,T.ORD,"mi"],[8528,8591,T.ORD,"mn"],[8592,8703,T.REL,"mo"],[8704,8959,T.BIN,"mo"],[8960,9215,T.ORD,"mo"],[9312,9471,T.ORD,"mn"],[9472,10223,T.ORD,"mo"],[10224,10239,T.REL,"mo"],[10240,10495,T.ORD,"mtext"],[10496,10623,T.REL,"mo"],[10624,10751,T.ORD,"mo"],[10752,11007,T.BIN,"mo"],[11008,11055,T.ORD,"mo"],[11056,11087,T.REL,"mo"],[11088,11263,T.ORD,"mo"],[11264,11744,T.ORD,"mi"],[11776,11903,T.ORD,"mo"],[11904,12255,T.ORD,"mi","normal"],[12272,12351,T.ORD,"mo"],[12352,42143,T.ORD,"mi","normal"],[42192,43055,T.ORD,"mi"],[43056,43071,T.ORD,"mn"],[43072,55295,T.ORD,"mi"],[63744,64255,T.ORD,"mi","normal"],[64256,65023,T.ORD,"mi"],[65024,65135,T.ORD,"mo"],[65136,65791,T.ORD,"mi"],[65792,65935,T.ORD,"mn"],[65936,74751,T.ORD,"mi","normal"],[74752,74879,T.ORD,"mn"],[74880,113823,T.ORD,"mi","normal"],[113824,119391,T.ORD,"mo"],[119648,119679,T.ORD,"mn"],[119808,120781,T.ORD,"mi"],[120782,120831,T.ORD,"mn"],[122624,129023,T.ORD,"mo"],[129024,129279,T.REL,"mo"],[129280,129535,T.ORD,"mo"],[131072,195103,T.ORD,"mi","normal"]];function au(i){const e=Gs.infix[i]||Gs.prefix[i]||Gs.postfix[i];if(e)return[0,0,e[2],"mo"];const t=i.codePointAt(0);for(const s of $d)if(t<=s[1]){if(t>=s[0])return s;break}return[0,0,T.REL,"mo"]}const Yd=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],Gs={prefix:{"(":c.OPEN,"+":c.BIN01,"-":c.BIN01,"[":c.OPEN,"{":c.OPEN,"|":c.OPEN,"||":[0,0,T.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,T.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xAC":c.ORD21,"\xB1":c.BIN01,"\u2016":[0,0,T.ORD,{fence:!0,stretchy:!0}],"\u2018":[0,0,T.OPEN,{fence:!0}],"\u201C":[0,0,T.OPEN,{fence:!0}],"\u2145":c.ORD21,"\u2146":He(2,0,T.ORD),"\u2200":c.ORD21,"\u2202":c.ORD21,"\u2203":c.ORD21,"\u2204":c.ORD21,"\u2207":c.ORD21,"\u220F":c.OP,"\u2210":c.OP,"\u2211":c.OP,"\u2212":c.BIN01,"\u2213":c.BIN01,"\u221A":[1,1,T.ORD,{stretchy:!0}],"\u221B":c.ORD11,"\u221C":c.ORD11,"\u2220":c.ORD,"\u2221":c.ORD,"\u2222":c.ORD,"\u222B":c.INTEGRAL,"\u222C":c.INTEGRAL,"\u222D":c.INTEGRAL,"\u222E":c.INTEGRAL,"\u222F":c.INTEGRAL,"\u2230":c.INTEGRAL,"\u2231":c.INTEGRAL,"\u2232":c.INTEGRAL,"\u2233":c.INTEGRAL,"\u22C0":c.OP,"\u22C1":c.OP,"\u22C2":c.OP,"\u22C3":c.OP,"\u2308":c.OPEN,"\u230A":c.OPEN,"\u2329":c.OPEN,"\u2772":c.OPEN,"\u27E6":c.OPEN,"\u27E8":c.OPEN,"\u27EA":c.OPEN,"\u27EC":c.OPEN,"\u27EE":c.OPEN,"\u2980":[0,0,T.ORD,{fence:!0,stretchy:!0}],"\u2983":c.OPEN,"\u2985":c.OPEN,"\u2987":c.OPEN,"\u2989":c.OPEN,"\u298B":c.OPEN,"\u298D":c.OPEN,"\u298F":c.OPEN,"\u2991":c.OPEN,"\u2993":c.OPEN,"\u2995":c.OPEN,"\u2997":c.OPEN,"\u29FC":c.OPEN,"\u2A00":c.OP,"\u2A01":c.OP,"\u2A02":c.OP,"\u2A03":c.OP,"\u2A04":c.OP,"\u2A05":c.OP,"\u2A06":c.OP,"\u2A07":c.OP,"\u2A08":c.OP,"\u2A09":c.OP,"\u2A0A":c.OP,"\u2A0B":c.INTEGRAL2,"\u2A0C":c.INTEGRAL,"\u2A0D":c.INTEGRAL2,"\u2A0E":c.INTEGRAL2,"\u2A0F":c.INTEGRAL2,"\u2A10":c.OP,"\u2A11":c.OP,"\u2A12":c.OP,"\u2A13":c.OP,"\u2A14":c.OP,"\u2A15":c.INTEGRAL2,"\u2A16":c.INTEGRAL2,"\u2A17":c.INTEGRAL2,"\u2A18":c.INTEGRAL2,"\u2A19":c.INTEGRAL2,"\u2A1A":c.INTEGRAL2,"\u2A1B":c.INTEGRAL2,"\u2A1C":c.INTEGRAL2,"\u2AFC":c.OP,"\u2AFF":c.OP},postfix:{"!!":He(1,0),"!":[1,0,T.CLOSE,null],'"':c.ACCENT,"&":c.ORD,")":c.CLOSE,"++":He(0,0),"--":He(0,0),"..":He(0,0),"...":c.ORD,"'":c.ACCENT,"]":c.CLOSE,"^":c.WIDEACCENT,_:c.WIDEACCENT,"`":c.ACCENT,"|":c.CLOSE,"}":c.CLOSE,"~":c.WIDEACCENT,"||":[0,0,T.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,T.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xA8":c.ACCENT,\u00AA:c.ACCENT,"\xAF":c.WIDEACCENT,"\xB0":c.ORD,"\xB2":c.ACCENT,"\xB3":c.ACCENT,"\xB4":c.ACCENT,"\xB8":c.ACCENT,"\xB9":c.ACCENT,\u00BA:c.ACCENT,"\u02C6":c.WIDEACCENT,"\u02C7":c.WIDEACCENT,"\u02C9":c.WIDEACCENT,"\u02CA":c.ACCENT,"\u02CB":c.ACCENT,"\u02CD":c.WIDEACCENT,"\u02D8":c.ACCENT,"\u02D9":c.ACCENT,"\u02DA":c.ACCENT,"\u02DC":c.WIDEACCENT,"\u02DD":c.ACCENT,"\u02F7":c.WIDEACCENT,"\u0302":c.WIDEACCENT,"\u0311":c.ACCENT,"\u03F6":c.REL,"\u2016":[0,0,T.ORD,{fence:!0,stretchy:!0}],"\u2019":[0,0,T.CLOSE,{fence:!0}],"\u201A":c.ACCENT,"\u201B":c.ACCENT,"\u201D":[0,0,T.CLOSE,{fence:!0}],"\u201E":c.ACCENT,"\u201F":c.ACCENT,"\u2032":c.ORD,"\u2033":c.ORD,"\u2034":c.ORD,"\u2035":c.ORD,"\u2036":c.ORD,"\u2037":c.ORD,"\u203E":c.WIDEACCENT,"\u2057":c.ORD,"\u20DB":c.ACCENT,"\u20DC":c.ACCENT,"\u2309":c.CLOSE,"\u230B":c.CLOSE,"\u232A":c.CLOSE,"\u23B4":c.WIDEACCENT,"\u23B5":c.WIDEACCENT,"\u23DC":c.WIDEACCENT,"\u23DD":c.WIDEACCENT,"\u23DE":c.WIDEACCENT,"\u23DF":c.WIDEACCENT,"\u23E0":c.WIDEACCENT,"\u23E1":c.WIDEACCENT,"\u25A0":c.BIN3,"\u25A1":c.BIN3,"\u25AA":c.BIN3,"\u25AB":c.BIN3,"\u25AD":c.BIN3,"\u25AE":c.BIN3,"\u25AF":c.BIN3,"\u25B0":c.BIN3,"\u25B1":c.BIN3,"\u25B2":c.BIN4,"\u25B4":c.BIN4,"\u25B6":c.BIN4,"\u25B7":c.BIN4,"\u25B8":c.BIN4,"\u25BC":c.BIN4,"\u25BE":c.BIN4,"\u25C0":c.BIN4,"\u25C1":c.BIN4,"\u25C2":c.BIN4,"\u25C4":c.BIN4,"\u25C5":c.BIN4,"\u25C6":c.BIN4,"\u25C7":c.BIN4,"\u25C8":c.BIN4,"\u25C9":c.BIN4,"\u25CC":c.BIN4,"\u25CD":c.BIN4,"\u25CE":c.BIN4,"\u25CF":c.BIN4,"\u25D6":c.BIN4,"\u25D7":c.BIN4,"\u25E6":c.BIN4,"\u266D":c.ORD02,"\u266E":c.ORD02,"\u266F":c.ORD02,"\u2773":c.CLOSE,"\u27E7":c.CLOSE,"\u27E9":c.CLOSE,"\u27EB":c.CLOSE,"\u27ED":c.CLOSE,"\u27EF":c.CLOSE,"\u2980":[0,0,T.ORD,{fence:!0,stretchy:!0}],"\u2984":c.CLOSE,"\u2986":c.CLOSE,"\u2988":c.CLOSE,"\u298A":c.CLOSE,"\u298C":c.CLOSE,"\u298E":c.CLOSE,"\u2990":c.CLOSE,"\u2992":c.CLOSE,"\u2994":c.CLOSE,"\u2996":c.CLOSE,"\u2998":c.CLOSE,"\u29FD":c.CLOSE},infix:{"!=":c.BIN4,"#":c.ORD,$:c.ORD,"%":[3,3,T.ORD,null],"&&":c.BIN4,"":c.ORD,"*":c.BIN3,"**":He(1,1),"*=":c.BIN4,"+":c.BIN4,"+=":c.BIN4,",":[0,3,T.PUNCT,{linebreakstyle:"after",separator:!0}],"-":c.BIN4,"-=":c.BIN4,"->":c.BIN5,".":[0,3,T.PUNCT,{linebreakstyle:"after",separator:!0}],"/":c.ORD11,"//":He(1,1),"/=":c.BIN4,":":[1,2,T.REL,null],":=":c.BIN4,";":[0,3,T.PUNCT,{linebreakstyle:"after",separator:!0}],"<":c.REL,"<=":c.BIN5,"<>":He(1,1),"=":c.REL,"==":c.BIN4,">":c.REL,">=":c.BIN5,"?":[1,1,T.CLOSE,null],"@":c.ORD11,"\\":c.ORD,"^":c.ORD11,_:c.ORD11,"|":[2,2,T.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,T.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,T.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"\xB1":c.BIN4,"\xB7":c.BIN4,"\xD7":c.BIN4,"\xF7":c.BIN4,"\u02B9":c.ORD,"\u0300":c.ACCENT,"\u0301":c.ACCENT,"\u0303":c.WIDEACCENT,"\u0304":c.ACCENT,"\u0306":c.ACCENT,"\u0307":c.ACCENT,"\u0308":c.ACCENT,"\u030C":c.ACCENT,"\u0332":c.WIDEACCENT,"\u0338":c.REL4,"\u2015":[0,0,T.ORD,{stretchy:!0}],"\u2017":[0,0,T.ORD,{stretchy:!0}],"\u2020":c.BIN3,"\u2021":c.BIN3,"\u2022":c.BIN4,"\u2026":c.INNER,"\u2043":c.BIN4,"\u2044":c.TALLBIN,"\u2061":c.NONE,"\u2062":c.NONE,"\u2063":[0,0,T.NONE,{linebreakstyle:"after",separator:!0}],"\u2064":c.NONE,"\u20D7":c.ACCENT,\u2111:c.ORD,\u2113:c.ORD,"\u2118":c.ORD,\u211C:c.ORD,"\u2190":c.WIDEREL,"\u2191":c.RELSTRETCH,"\u2192":c.WIDEREL,"\u2193":c.RELSTRETCH,"\u2194":c.WIDEREL,"\u2195":c.RELSTRETCH,"\u2196":c.RELSTRETCH,"\u2197":c.RELSTRETCH,"\u2198":c.RELSTRETCH,"\u2199":c.RELSTRETCH,"\u219A":c.RELACCENT,"\u219B":c.RELACCENT,"\u219C":c.WIDEREL,"\u219D":c.WIDEREL,"\u219E":c.WIDEREL,"\u219F":c.WIDEREL,"\u21A0":c.WIDEREL,"\u21A1":c.RELSTRETCH,"\u21A2":c.WIDEREL,"\u21A3":c.WIDEREL,"\u21A4":c.WIDEREL,"\u21A5":c.RELSTRETCH,"\u21A6":c.WIDEREL,"\u21A7":c.RELSTRETCH,"\u21A8":c.RELSTRETCH,"\u21A9":c.WIDEREL,"\u21AA":c.WIDEREL,"\u21AB":c.WIDEREL,"\u21AC":c.WIDEREL,"\u21AD":c.WIDEREL,"\u21AE":c.RELACCENT,"\u21AF":c.RELSTRETCH,"\u21B0":c.RELSTRETCH,"\u21B1":c.RELSTRETCH,"\u21B2":c.RELSTRETCH,"\u21B3":c.RELSTRETCH,"\u21B4":c.RELSTRETCH,"\u21B5":c.RELSTRETCH,"\u21B6":c.RELACCENT,"\u21B7":c.RELACCENT,"\u21B8":c.REL,"\u21B9":c.WIDEREL,"\u21BA":c.REL,"\u21BB":c.REL,"\u21BC":c.WIDEREL,"\u21BD":c.WIDEREL,"\u21BE":c.RELSTRETCH,"\u21BF":c.RELSTRETCH,"\u21C0":c.WIDEREL,"\u21C1":c.WIDEREL,"\u21C2":c.RELSTRETCH,"\u21C3":c.RELSTRETCH,"\u21C4":c.WIDEREL,"\u21C5":c.RELSTRETCH,"\u21C6":c.WIDEREL,"\u21C7":c.WIDEREL,"\u21C8":c.RELSTRETCH,"\u21C9":c.WIDEREL,"\u21CA":c.RELSTRETCH,"\u21CB":c.WIDEREL,"\u21CC":c.WIDEREL,"\u21CD":c.RELACCENT,"\u21CE":c.RELACCENT,"\u21CF":c.RELACCENT,"\u21D0":c.WIDEREL,"\u21D1":c.RELSTRETCH,"\u21D2":c.WIDEREL,"\u21D3":c.RELSTRETCH,"\u21D4":c.WIDEREL,"\u21D5":c.RELSTRETCH,"\u21D6":c.RELSTRETCH,"\u21D7":c.RELSTRETCH,"\u21D8":c.RELSTRETCH,"\u21D9":c.RELSTRETCH,"\u21DA":c.WIDEREL,"\u21DB":c.WIDEREL,"\u21DC":c.WIDEREL,"\u21DD":c.WIDEREL,"\u21DE":c.REL,"\u21DF":c.REL,"\u21E0":c.WIDEREL,"\u21E1":c.RELSTRETCH,"\u21E2":c.WIDEREL,"\u21E3":c.RELSTRETCH,"\u21E4":c.WIDEREL,"\u21E5":c.WIDEREL,"\u21E6":c.WIDEREL,"\u21E7":c.RELSTRETCH,"\u21E8":c.WIDEREL,"\u21E9":c.RELSTRETCH,"\u21EA":c.RELSTRETCH,"\u21EB":c.RELSTRETCH,"\u21EC":c.RELSTRETCH,"\u21ED":c.RELSTRETCH,"\u21EE":c.RELSTRETCH,"\u21EF":c.RELSTRETCH,"\u21F0":c.WIDEREL,"\u21F1":c.REL,"\u21F2":c.REL,"\u21F3":c.RELSTRETCH,"\u21F4":c.RELACCENT,"\u21F5":c.RELSTRETCH,"\u21F6":c.WIDEREL,"\u21F7":c.RELACCENT,"\u21F8":c.RELACCENT,"\u21F9":c.RELACCENT,"\u21FA":c.RELACCENT,"\u21FB":c.RELACCENT,"\u21FC":c.RELACCENT,"\u21FD":c.WIDEREL,"\u21FE":c.WIDEREL,"\u21FF":c.WIDEREL,"\u2201":He(1,2,T.ORD),"\u2205":c.ORD,"\u2206":c.BIN3,"\u2208":c.REL,"\u2209":c.REL,"\u220A":c.REL,"\u220B":c.REL,"\u220C":c.REL,"\u220D":c.REL,"\u220E":c.BIN3,"\u2212":c.BIN4,"\u2213":c.BIN4,"\u2214":c.BIN4,"\u2215":c.TALLBIN,"\u2216":c.BIN4,"\u2217":c.BIN4,"\u2218":c.BIN4,"\u2219":c.BIN4,"\u221D":c.REL,"\u221E":c.ORD,"\u221F":c.REL,"\u2223":c.REL,"\u2224":c.REL,"\u2225":c.REL,"\u2226":c.REL,"\u2227":c.BIN4,"\u2228":c.BIN4,"\u2229":c.BIN4,"\u222A":c.BIN4,"\u2234":c.REL,"\u2235":c.REL,"\u2236":c.REL,"\u2237":c.REL,"\u2238":c.BIN4,"\u2239":c.REL,"\u223A":c.BIN4,"\u223B":c.REL,"\u223C":c.REL,"\u223D":c.REL,"\u223D\u0331":c.BIN3,"\u223E":c.REL,"\u223F":c.BIN3,"\u2240":c.BIN4,"\u2241":c.REL,"\u2242":c.REL,"\u2242\u0338":c.REL,"\u2243":c.REL,"\u2244":c.REL,"\u2245":c.REL,"\u2246":c.REL,"\u2247":c.REL,"\u2248":c.REL,"\u2249":c.REL,"\u224A":c.REL,"\u224B":c.REL,"\u224C":c.REL,"\u224D":c.REL,"\u224E":c.REL,"\u224E\u0338":c.REL,"\u224F":c.REL,"\u224F\u0338":c.REL,"\u2250":c.REL,"\u2251":c.REL,"\u2252":c.REL,"\u2253":c.REL,"\u2254":c.REL,"\u2255":c.REL,"\u2256":c.REL,"\u2257":c.REL,"\u2258":c.REL,"\u2259":c.REL,"\u225A":c.REL,"\u225B":c.REL,"\u225C":c.REL,"\u225D":c.REL,"\u225E":c.REL,"\u225F":c.REL,"\u2260":c.REL,"\u2261":c.REL,"\u2262":c.REL,"\u2263":c.REL,"\u2264":c.REL,"\u2265":c.REL,"\u2266":c.REL,"\u2266\u0338":c.REL,"\u2267":c.REL,"\u2268":c.REL,"\u2269":c.REL,"\u226A":c.REL,"\u226A\u0338":c.REL,"\u226B":c.REL,"\u226B\u0338":c.REL,"\u226C":c.REL,"\u226D":c.REL,"\u226E":c.REL,"\u226F":c.REL,"\u2270":c.REL,"\u2271":c.REL,"\u2272":c.REL,"\u2273":c.REL,"\u2274":c.REL,"\u2275":c.REL,"\u2276":c.REL,"\u2277":c.REL,"\u2278":c.REL,"\u2279":c.REL,"\u227A":c.REL,"\u227B":c.REL,"\u227C":c.REL,"\u227D":c.REL,"\u227E":c.REL,"\u227F":c.REL,"\u227F\u0338":c.REL,"\u2280":c.REL,"\u2281":c.REL,"\u2282":c.REL,"\u2282\u20D2":c.REL,"\u2283":c.REL,"\u2283\u20D2":c.REL,"\u2284":c.REL,"\u2285":c.REL,"\u2286":c.REL,"\u2287":c.REL,"\u2288":c.REL,"\u2289":c.REL,"\u228A":c.REL,"\u228B":c.REL,"\u228C":c.BIN4,"\u228D":c.BIN4,"\u228E":c.BIN4,"\u228F":c.REL,"\u228F\u0338":c.REL,"\u2290":c.REL,"\u2290\u0338":c.REL,"\u2291":c.REL,"\u2292":c.REL,"\u2293":c.BIN4,"\u2294":c.BIN4,"\u2295":c.BIN4,"\u2296":c.BIN4,"\u2297":c.BIN4,"\u2298":c.BIN4,"\u2299":c.BIN4,"\u229A":c.BIN4,"\u229B":c.BIN4,"\u229C":c.BIN4,"\u229D":c.BIN4,"\u229E":c.BIN4,"\u229F":c.BIN4,"\u22A0":c.BIN4,"\u22A1":c.BIN4,"\u22A2":c.REL,"\u22A3":c.REL,"\u22A4":c.ORD55,"\u22A5":c.REL,"\u22A6":c.REL,"\u22A7":c.REL,"\u22A8":c.REL,"\u22A9":c.REL,"\u22AA":c.REL,"\u22AB":c.REL,"\u22AC":c.REL,"\u22AD":c.REL,"\u22AE":c.REL,"\u22AF":c.REL,"\u22B0":c.REL,"\u22B1":c.REL,"\u22B2":c.REL,"\u22B3":c.REL,"\u22B4":c.REL,"\u22B5":c.REL,"\u22B6":c.REL,"\u22B7":c.REL,"\u22B8":c.REL,"\u22B9":c.REL,"\u22BA":c.BIN4,"\u22BB":c.BIN4,"\u22BC":c.BIN4,"\u22BD":c.BIN4,"\u22BE":c.BIN3,"\u22BF":c.BIN3,"\u22C4":c.BIN4,"\u22C5":c.BIN4,"\u22C6":c.BIN4,"\u22C7":c.BIN4,"\u22C8":c.REL,"\u22C9":c.BIN4,"\u22CA":c.BIN4,"\u22CB":c.BIN4,"\u22CC":c.BIN4,"\u22CD":c.REL,"\u22CE":c.BIN4,"\u22CF":c.BIN4,"\u22D0":c.REL,"\u22D1":c.REL,"\u22D2":c.BIN4,"\u22D3":c.BIN4,"\u22D4":c.REL,"\u22D5":c.REL,"\u22D6":c.REL,"\u22D7":c.REL,"\u22D8":c.REL,"\u22D9":c.REL,"\u22DA":c.REL,"\u22DB":c.REL,"\u22DC":c.REL,"\u22DD":c.REL,"\u22DE":c.REL,"\u22DF":c.REL,"\u22E0":c.REL,"\u22E1":c.REL,"\u22E2":c.REL,"\u22E3":c.REL,"\u22E4":c.REL,"\u22E5":c.REL,"\u22E6":c.REL,"\u22E7":c.REL,"\u22E8":c.REL,"\u22E9":c.REL,"\u22EA":c.REL,"\u22EB":c.REL,"\u22EC":c.REL,"\u22ED":c.REL,"\u22EE":c.ORD55,"\u22EF":c.INNER,"\u22F0":c.REL,"\u22F1":[5,5,T.INNER,null],"\u22F2":c.REL,"\u22F3":c.REL,"\u22F4":c.REL,"\u22F5":c.REL,"\u22F6":c.REL,"\u22F7":c.REL,"\u22F8":c.REL,"\u22F9":c.REL,"\u22FA":c.REL,"\u22FB":c.REL,"\u22FC":c.REL,"\u22FD":c.REL,"\u22FE":c.REL,"\u22FF":c.REL,"\u2305":c.BIN3,"\u2306":c.BIN3,"\u2322":c.REL4,"\u2323":c.REL4,"\u2329":c.OPEN,"\u232A":c.CLOSE,"\u23AA":c.ORD,"\u23AF":[0,0,T.ORD,{stretchy:!0}],"\u23B0":c.OPEN,"\u23B1":c.CLOSE,"\u2500":c.ORD,"\u25B3":c.BIN4,"\u25B5":c.BIN4,"\u25B9":c.BIN4,"\u25BD":c.BIN4,"\u25BF":c.BIN4,"\u25C3":c.BIN4,"\u25EF":c.BIN3,"\u2660":c.ORD,"\u2661":c.ORD,"\u2662":c.ORD,"\u2663":c.ORD,"\u2758":c.REL,"\u27F0":c.RELSTRETCH,"\u27F1":c.RELSTRETCH,"\u27F5":c.WIDEREL,"\u27F6":c.WIDEREL,"\u27F7":c.WIDEREL,"\u27F8":c.WIDEREL,"\u27F9":c.WIDEREL,"\u27FA":c.WIDEREL,"\u27FB":c.WIDEREL,"\u27FC":c.WIDEREL,"\u27FD":c.WIDEREL,"\u27FE":c.WIDEREL,"\u27FF":c.WIDEREL,"\u2900":c.RELACCENT,"\u2901":c.RELACCENT,"\u2902":c.RELACCENT,"\u2903":c.RELACCENT,"\u2904":c.RELACCENT,"\u2905":c.RELACCENT,"\u2906":c.RELACCENT,"\u2907":c.RELACCENT,"\u2908":c.REL,"\u2909":c.REL,"\u290A":c.RELSTRETCH,"\u290B":c.RELSTRETCH,"\u290C":c.WIDEREL,"\u290D":c.WIDEREL,"\u290E":c.WIDEREL,"\u290F":c.WIDEREL,"\u2910":c.WIDEREL,"\u2911":c.RELACCENT,"\u2912":c.RELSTRETCH,"\u2913":c.RELSTRETCH,"\u2914":c.RELACCENT,"\u2915":c.RELACCENT,"\u2916":c.RELACCENT,"\u2917":c.RELACCENT,"\u2918":c.RELACCENT,"\u2919":c.RELACCENT,"\u291A":c.RELACCENT,"\u291B":c.RELACCENT,"\u291C":c.RELACCENT,"\u291D":c.RELACCENT,"\u291E":c.RELACCENT,"\u291F":c.RELACCENT,"\u2920":c.RELACCENT,"\u2921":c.RELSTRETCH,"\u2922":c.RELSTRETCH,"\u2923":c.REL,"\u2924":c.REL,"\u2925":c.REL,"\u2926":c.REL,"\u2927":c.REL,"\u2928":c.REL,"\u2929":c.REL,"\u292A":c.REL,"\u292B":c.REL,"\u292C":c.REL,"\u292D":c.REL,"\u292E":c.REL,"\u292F":c.REL,"\u2930":c.REL,"\u2931":c.REL,"\u2932":c.REL,"\u2933":c.RELACCENT,"\u2934":c.REL,"\u2935":c.REL,"\u2936":c.REL,"\u2937":c.REL,"\u2938":c.REL,"\u2939":c.REL,"\u293A":c.RELACCENT,"\u293B":c.RELACCENT,"\u293C":c.RELACCENT,"\u293D":c.RELACCENT,"\u293E":c.REL,"\u293F":c.REL,"\u2940":c.REL,"\u2941":c.REL,"\u2942":c.RELACCENT,"\u2943":c.RELACCENT,"\u2944":c.RELACCENT,"\u2945":c.RELACCENT,"\u2946":c.RELACCENT,"\u2947":c.RELACCENT,"\u2948":c.RELACCENT,"\u2949":c.REL,"\u294A":c.RELACCENT,"\u294B":c.RELACCENT,"\u294C":c.REL,"\u294D":c.REL,"\u294E":c.WIDEREL,"\u294F":c.RELSTRETCH,"\u2950":c.WIDEREL,"\u2951":c.RELSTRETCH,"\u2952":c.WIDEREL,"\u2953":c.WIDEREL,"\u2954":c.RELSTRETCH,"\u2955":c.RELSTRETCH,"\u2956":c.RELSTRETCH,"\u2957":c.RELSTRETCH,"\u2958":c.RELSTRETCH,"\u2959":c.RELSTRETCH,"\u295A":c.WIDEREL,"\u295B":c.WIDEREL,"\u295C":c.RELSTRETCH,"\u295D":c.RELSTRETCH,"\u295E":c.WIDEREL,"\u295F":c.WIDEREL,"\u2960":c.RELSTRETCH,"\u2961":c.RELSTRETCH,"\u2962":c.RELACCENT,"\u2963":c.REL,"\u2964":c.RELACCENT,"\u2965":c.REL,"\u2966":c.RELACCENT,"\u2967":c.RELACCENT,"\u2968":c.RELACCENT,"\u2969":c.RELACCENT,"\u296A":c.RELACCENT,"\u296B":c.RELACCENT,"\u296C":c.RELACCENT,"\u296D":c.RELACCENT,"\u296E":c.RELSTRETCH,"\u296F":c.RELSTRETCH,"\u2970":c.RELACCENT,"\u2971":c.RELACCENT,"\u2972":c.RELACCENT,"\u2973":c.RELACCENT,"\u2974":c.RELACCENT,"\u2975":c.RELACCENT,"\u2976":c.RELACCENT,"\u2977":c.RELACCENT,"\u2978":c.RELACCENT,"\u2979":c.RELACCENT,"\u297A":c.RELACCENT,"\u297B":c.RELACCENT,"\u297C":c.RELACCENT,"\u297D":c.RELACCENT,"\u297E":c.REL,"\u297F":c.REL,"\u2981":c.BIN3,"\u2982":c.BIN3,"\u2999":c.BIN3,"\u299A":c.BIN3,"\u299B":c.BIN3,"\u299C":c.BIN3,"\u299D":c.BIN3,"\u299E":c.BIN3,"\u299F":c.BIN3,"\u29A0":c.BIN3,"\u29A1":c.BIN3,"\u29A2":c.BIN3,"\u29A3":c.BIN3,"\u29A4":c.BIN3,"\u29A5":c.BIN3,"\u29A6":c.BIN3,"\u29A7":c.BIN3,"\u29A8":c.BIN3,"\u29A9":c.BIN3,"\u29AA":c.BIN3,"\u29AB":c.BIN3,"\u29AC":c.BIN3,"\u29AD":c.BIN3,"\u29AE":c.BIN3,"\u29AF":c.BIN3,"\u29B0":c.BIN3,"\u29B1":c.BIN3,"\u29B2":c.BIN3,"\u29B3":c.BIN3,"\u29B4":c.BIN3,"\u29B5":c.BIN3,"\u29B6":c.BIN4,"\u29B7":c.BIN4,"\u29B8":c.BIN4,"\u29B9":c.BIN4,"\u29BA":c.BIN4,"\u29BB":c.BIN4,"\u29BC":c.BIN4,"\u29BD":c.BIN4,"\u29BE":c.BIN4,"\u29BF":c.BIN4,"\u29C0":c.REL,"\u29C1":c.REL,"\u29C2":c.BIN3,"\u29C3":c.BIN3,"\u29C4":c.BIN4,"\u29C5":c.BIN4,"\u29C6":c.BIN4,"\u29C7":c.BIN4,"\u29C8":c.BIN4,"\u29C9":c.BIN3,"\u29CA":c.BIN3,"\u29CB":c.BIN3,"\u29CC":c.BIN3,"\u29CD":c.BIN3,"\u29CE":c.REL,"\u29CF":c.REL,"\u29CF\u0338":c.REL,"\u29D0":c.REL,"\u29D0\u0338":c.REL,"\u29D1":c.REL,"\u29D2":c.REL,"\u29D3":c.REL,"\u29D4":c.REL,"\u29D5":c.REL,"\u29D6":c.BIN4,"\u29D7":c.BIN4,"\u29D8":c.BIN3,"\u29D9":c.BIN3,"\u29DB":c.BIN3,"\u29DC":c.BIN3,"\u29DD":c.BIN3,"\u29DE":c.REL,"\u29DF":c.BIN3,"\u29E0":c.BIN3,"\u29E1":c.REL,"\u29E2":c.BIN4,"\u29E3":c.REL,"\u29E4":c.REL,"\u29E5":c.REL,"\u29E6":c.REL,"\u29E7":c.BIN3,"\u29E8":c.BIN3,"\u29E9":c.BIN3,"\u29EA":c.BIN3,"\u29EB":c.BIN3,"\u29EC":c.BIN3,"\u29ED":c.BIN3,"\u29EE":c.BIN3,"\u29EF":c.BIN3,"\u29F0":c.BIN3,"\u29F1":c.BIN3,"\u29F2":c.BIN3,"\u29F3":c.BIN3,"\u29F4":c.REL,"\u29F5":c.BIN4,"\u29F6":c.BIN4,"\u29F7":c.BIN4,"\u29F8":c.BIN3,"\u29F9":c.BIN3,"\u29FA":c.BIN3,"\u29FB":c.BIN3,"\u29FE":c.BIN4,"\u29FF":c.BIN4,"\u2A1D":c.BIN3,"\u2A1E":c.BIN3,"\u2A1F":c.BIN3,"\u2A20":c.BIN3,"\u2A21":c.BIN3,"\u2A22":c.BIN4,"\u2A23":c.BIN4,"\u2A24":c.BIN4,"\u2A25":c.BIN4,"\u2A26":c.BIN4,"\u2A27":c.BIN4,"\u2A28":c.BIN4,"\u2A29":c.BIN4,"\u2A2A":c.BIN4,"\u2A2B":c.BIN4,"\u2A2C":c.BIN4,"\u2A2D":c.BIN4,"\u2A2E":c.BIN4,"\u2A2F":c.BIN4,"\u2A30":c.BIN4,"\u2A31":c.BIN4,"\u2A32":c.BIN4,"\u2A33":c.BIN4,"\u2A34":c.BIN4,"\u2A35":c.BIN4,"\u2A36":c.BIN4,"\u2A37":c.BIN4,"\u2A38":c.BIN4,"\u2A39":c.BIN4,"\u2A3A":c.BIN4,"\u2A3B":c.BIN4,"\u2A3C":c.BIN4,"\u2A3D":c.BIN4,"\u2A3E":c.BIN4,"\u2A3F":c.BIN4,"\u2A40":c.BIN4,"\u2A41":c.BIN4,"\u2A42":c.BIN4,"\u2A43":c.BIN4,"\u2A44":c.BIN4,"\u2A45":c.BIN4,"\u2A46":c.BIN4,"\u2A47":c.BIN4,"\u2A48":c.BIN4,"\u2A49":c.BIN4,"\u2A4A":c.BIN4,"\u2A4B":c.BIN4,"\u2A4C":c.BIN4,"\u2A4D":c.BIN4,"\u2A4E":c.BIN4,"\u2A4F":c.BIN4,"\u2A50":c.BIN4,"\u2A51":c.BIN4,"\u2A52":c.BIN4,"\u2A53":c.BIN4,"\u2A54":c.BIN4,"\u2A55":c.BIN4,"\u2A56":c.BIN4,"\u2A57":c.BIN4,"\u2A58":c.BIN4,"\u2A59":c.REL,"\u2A5A":c.BIN4,"\u2A5B":c.BIN4,"\u2A5C":c.BIN4,"\u2A5D":c.BIN4,"\u2A5E":c.BIN4,"\u2A5F":c.BIN4,"\u2A60":c.BIN4,"\u2A61":c.BIN4,"\u2A62":c.BIN4,"\u2A63":c.BIN4,"\u2A64":c.BIN4,"\u2A65":c.BIN4,"\u2A66":c.REL,"\u2A67":c.REL,"\u2A68":c.REL,"\u2A69":c.REL,"\u2A6A":c.REL,"\u2A6B":c.REL,"\u2A6C":c.REL,"\u2A6D":c.REL,"\u2A6E":c.REL,"\u2A6F":c.REL,"\u2A70":c.REL,"\u2A71":c.BIN4,"\u2A72":c.BIN4,"\u2A73":c.REL,"\u2A74":c.REL,"\u2A75":c.REL,"\u2A76":c.REL,"\u2A77":c.REL,"\u2A78":c.REL,"\u2A79":c.REL,"\u2A7A":c.REL,"\u2A7B":c.REL,"\u2A7C":c.REL,"\u2A7D":c.REL,"\u2A7D\u0338":c.REL,"\u2A7E":c.REL,"\u2A7E\u0338":c.REL,"\u2A7F":c.REL,"\u2A80":c.REL,"\u2A81":c.REL,"\u2A82":c.REL,"\u2A83":c.REL,"\u2A84":c.REL,"\u2A85":c.REL,"\u2A86":c.REL,"\u2A87":c.REL,"\u2A88":c.REL,"\u2A89":c.REL,"\u2A8A":c.REL,"\u2A8B":c.REL,"\u2A8C":c.REL,"\u2A8D":c.REL,"\u2A8E":c.REL,"\u2A8F":c.REL,"\u2A90":c.REL,"\u2A91":c.REL,"\u2A92":c.REL,"\u2A93":c.REL,"\u2A94":c.REL,"\u2A95":c.REL,"\u2A96":c.REL,"\u2A97":c.REL,"\u2A98":c.REL,"\u2A99":c.REL,"\u2A9A":c.REL,"\u2A9B":c.REL,"\u2A9C":c.REL,"\u2A9D":c.REL,"\u2A9E":c.REL,"\u2A9F":c.REL,"\u2AA0":c.REL,"\u2AA1":c.REL,"\u2AA1\u0338":c.REL,"\u2AA2":c.REL,"\u2AA2\u0338":c.REL,"\u2AA3":c.REL,"\u2AA4":c.REL,"\u2AA5":c.REL,"\u2AA6":c.REL,"\u2AA7":c.REL,"\u2AA8":c.REL,"\u2AA9":c.REL,"\u2AAA":c.REL,"\u2AAB":c.REL,"\u2AAC":c.REL,"\u2AAD":c.REL,"\u2AAE":c.REL,"\u2AAF":c.REL,"\u2AAF\u0338":c.REL,"\u2AB0":c.REL,"\u2AB0\u0338":c.REL,"\u2AB1":c.REL,"\u2AB2":c.REL,"\u2AB3":c.REL,"\u2AB4":c.REL,"\u2AB5":c.REL,"\u2AB6":c.REL,"\u2AB7":c.REL,"\u2AB8":c.REL,"\u2AB9":c.REL,"\u2ABA":c.REL,"\u2ABB":c.REL,"\u2ABC":c.REL,"\u2ABD":c.REL,"\u2ABE":c.REL,"\u2ABF":c.REL,"\u2AC0":c.REL,"\u2AC1":c.REL,"\u2AC2":c.REL,"\u2AC3":c.REL,"\u2AC4":c.REL,"\u2AC5":c.REL,"\u2AC6":c.REL,"\u2AC7":c.REL,"\u2AC8":c.REL,"\u2AC9":c.REL,"\u2ACA":c.REL,"\u2ACB":c.REL,"\u2ACC":c.REL,"\u2ACD":c.REL,"\u2ACE":c.REL,"\u2ACF":c.REL,"\u2AD0":c.REL,"\u2AD1":c.REL,"\u2AD2":c.REL,"\u2AD3":c.REL,"\u2AD4":c.REL,"\u2AD5":c.REL,"\u2AD6":c.REL,"\u2AD7":c.REL,"\u2AD8":c.REL,"\u2AD9":c.REL,"\u2ADA":c.REL,"\u2ADB":c.REL,"\u2ADD":c.REL,"\u2ADD\u0338":c.REL,"\u2ADE":c.REL,"\u2ADF":c.REL,"\u2AE0":c.REL,"\u2AE1":c.REL,"\u2AE2":c.REL,"\u2AE3":c.REL,"\u2AE4":c.REL,"\u2AE5":c.REL,"\u2AE6":c.REL,"\u2AE7":c.REL,"\u2AE8":c.REL,"\u2AE9":c.REL,"\u2AEA":c.REL,"\u2AEB":c.REL,"\u2AEC":c.REL,"\u2AED":c.REL,"\u2AEE":c.REL,"\u2AEF":c.REL,"\u2AF0":c.REL,"\u2AF1":c.REL,"\u2AF2":c.REL,"\u2AF3":c.REL,"\u2AF4":c.BIN4,"\u2AF5":c.BIN4,"\u2AF6":c.BIN4,"\u2AF7":c.REL,"\u2AF8":c.REL,"\u2AF9":c.REL,"\u2AFA":c.REL,"\u2AFB":c.BIN4,"\u2AFD":c.BIN4,"\u2AFE":c.BIN3,"\u2B45":c.RELSTRETCH,"\u2B46":c.RELSTRETCH,"\u3008":c.OPEN,"\u3009":c.CLOSE,"\uFE37":c.WIDEACCENT,"\uFE38":c.WIDEACCENT}};function Qd(i,e){return i.length!==e.length?e.length-i.length:i===e?0:i<e?-1:1}function Co(i){return i.replace(/([\^$(){}.+*?\-|[\]:\\])/g,"\\$1")}function ca(i){return Array.from(i).map((e=>e.codePointAt(0)))}function Zd(i){return String.fromCodePoint(...i)}function Js(i){return!!i.match(/%\s*$/)}function ti(i){return i.trim().split(/\s+/)}function e1(i){return i.replace(/\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})|\\./g,((e,t,s)=>e==="\\\\"?"\\":String.fromCodePoint(parseInt(t||s,16))))}function t1(i){return`&#x${i.codePointAt(0).toString(16).toUpperCase()};`}Gs.infix["^"]=c.WIDEREL,Gs.infix._=c.WIDEREL,Gs.infix["\u2ADC"]=c.REL;class As extends ws{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return this._texClass===null?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(e){this._texClass=e}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let e=null,t=this;const s=this.factory.getNodeClass("math");for(;t&&t.isEmbellished&&t.coreMO()===this&&!(t instanceof s);)e=t,t=t.parent;return e||this}coreText(e){if(!e)return"";if(e.isEmbellished)return e.coreMO().getText();for(;((e.isKind("mrow")||e.isKind("TeXAtom")||e.isKind("mstyle")||e.isKind("mphantom"))&&e.childNodes.length===1||e.isKind("munderover"))&&e.childNodes[0];)e=e.childNodes[0];return e.isToken?e.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let e=!1;const t=this.coreParent().parent;if(t){const s=t.isKind("mover")?t.childNodes[t.over].coreMO()?"accent":"":t.isKind("munder")?t.childNodes[t.under].coreMO()?"accentunder":"":t.isKind("munderover")?this===t.childNodes[t.over].coreMO()?"accent":this===t.childNodes[t.under].coreMO()?"accentunder":"":"";s&&(e=t.attributes.getExplicit(s)!==void 0?e:this.attributes.get("accent"))}return e}setTeXclass(e){const{form:t,fence:s}=this.attributes.getList("form","fence");return this.getProperty("texClass")===void 0&&this.hasSpacingAttributes()?null:(s&&this.texClass===T.REL&&(t==="prefix"&&(this.texClass=T.OPEN),t==="postfix"&&(this.texClass=T.CLOSE)),this.adjustTeXclass(e))}adjustTeXclass(e){const t=this.texClass;let s=this.prevClass;if(t===T.NONE)return e;if(e?(!e.getProperty("autoOP")||t!==T.BIN&&t!==T.REL||(s=e.texClass=T.ORD),s=this.prevClass=e.texClass||T.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):s=this.prevClass=T.NONE,t!==T.BIN||s!==T.NONE&&s!==T.BIN&&s!==T.OP&&s!==T.REL&&s!==T.OPEN&&s!==T.PUNCT)if(s!==T.BIN||t!==T.REL&&t!==T.CLOSE&&t!==T.PUNCT){if(t===T.BIN){let r=null,n=this.parent;for(;n&&n.parent&&n.isEmbellished&&(n.childNodes.length===1||!n.isKind("mrow")&&n.core()===r);)r=n,n=n.parent;r=r||this,n.childNodes[n.childNodes.length-1]===r&&(this.texClass=T.ORD)}}else e.texClass=this.prevClass=T.ORD;else this.texClass=T.ORD;return this}setInheritedAttributes(e={},t=!1,s=0,r=!1){super.setInheritedAttributes(e,t,s,r);const n=this.getText();this.checkOperatorTable(n),this.checkPseudoScripts(n),this.checkPrimes(n),this.checkMathAccent(n)}getOperatorDef(e){const[t,s,r]=this.handleExplicitForm(this.getForms());this.attributes.setInherited("form",t);const n=this.constructor,a=n.OPTABLE,o=a[t][e]||a[s][e]||a[r][e];if(o)return o;this.setProperty("noDictDef",!0);const l=this.attributes.get("movablelimits");if((e.match(n.opPattern)||l)&&this.getProperty("texClass")===void 0)return He(1,2,T.OP);const h=au(e),[d,x]=n.MMLSPACING[h[2]];return He(d,x,h[2])}checkOperatorTable(e){const t=this.getOperatorDef(e);this.getProperty("texClass")===void 0&&(this.texClass=t[2]);for(const s of Object.keys(t[3]||{}))this.attributes.setInherited(s,t[3][s]);this.lspace=((t[0]||-1)+1)/18,this.rspace=((t[1]||-1)+1)/18}getForms(){let e=null,t=this.parent,s=this.Parent;for(;s&&s.isEmbellished;)e=t,t=s.parent,s=s.Parent;if(e=e||this,t&&t.isKind("mrow")&&t.nonSpaceLength()!==1){if(t.firstNonSpace()===e)return["prefix","infix","postfix"];if(t.lastNonSpace()===e)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(e){if(this.attributes.isSet("form")){const t=this.attributes.get("form");e=[t].concat(e.filter((s=>s!==t)))}return e}checkPseudoScripts(e){const t=this.constructor.pseudoScripts;if(!e.match(t))return;const s=this.coreParent().Parent,r=!s||!(s.isKind("msubsup")&&!s.isKind("msub"));this.setProperty("pseudoscript",r),r&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}checkPrimes(e){const t=this.constructor.primes;if(!e.match(t))return;const s=this.constructor.remapPrimes,r=Zd(ca(e).map((n=>s[n])));this.setProperty("primes",r)}checkMathAccent(e){const t=this.Parent;if(this.getProperty("mathaccent")!==void 0||!t||!t.isKind("munderover"))return;const[s,r,n]=t.childNodes;if(s.isEmbellished&&s.coreMO()===this)return;const a=!(!r||!r.isEmbellished||r.coreMO()!==this),o=!(!n||!n.isEmbellished||r.coreMO()!==this);(a||o)&&(this.isMathAccent(e)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(e)&&this.setProperty("mathaccent",!1))}isMathAccent(e=this.getText()){const t=this.constructor.mathaccents;return!!e.match(t)}isMathAccentWithWidth(e=this.getText()){const t=this.constructor.mathaccentsWithWidth;return!!e.match(t)}}As.defaults=Object.assign(Object.assign({},ws.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),As.MMLSPACING=Yd,As.OPTABLE=Gs,As.pseudoScripts=new RegExp(["^[\"'*`","\xAA","\xB0","\xB2-\xB4","\xB9","\xBA","\u2018-\u201F","\u2032-\u2037\u2057","\u2070\u2071","\u2074-\u207F","\u2080-\u208E","]+$"].join("")),As.primes=new RegExp([`^["'`,"\u2018-\u201F","]+$"].join("")),As.opPattern=/^[a-zA-Z]{2,}$/,As.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},As.mathaccents=new RegExp(["^[","\xB4\u0301\u02CA","`\u0300\u02CB","\xA8\u0308","~\u0303\u02DC","\xAF\u0304\u02C9","\u02D8\u0306","\u02C7\u030C","^\u0302\u02C6","\u20D0\u20D1","\u20D6\u20D7\u20E1","\u02D9\u0307","\u02DA\u030A","\u20DB","\u20DC","]$"].join("")),As.mathaccentsWithWidth=new RegExp(["^[","\u2190\u2192\u2194","\u23DC\u23DD","\u23DE\u23DF","]$"].join(""));class or extends ws{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mtext"}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf(or.NONSPACELIKE)}}or.NONSPACELIKE=["style","mathbackground","background"],or.defaults=Object.assign({},ws.defaults);class cr extends ws{constructor(){super(...arguments),this.texclass=T.NONE}setTeXclass(e){return e}get kind(){return"mspace"}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit("linebreak")&&this.canBreak}get hasNewline(){const e=this.attributes.get("linebreak");return this.canBreak&&(e==="newline"||e==="indentingnewline")}get canBreak(){return!this.attributes.hasOneOf(cr.NONSPACELIKE)&&String(this.attributes.get("width")).trim().charAt(0)!=="-"}}cr.NONSPACELIKE=["height","depth","style","mathbackground","background"],cr.defaults=Object.assign(Object.assign({},ws.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class la extends ws{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"ms"}}la.defaults=Object.assign(Object.assign({},ws.defaults),{lquote:'"',rquote:'"'});class Rr extends Le{constructor(){super(...arguments),this._core=null}get kind(){return"mrow"}get isSpacelike(){for(const e of this.childNodes)if(!e.isSpacelike)return!1;return!0}get isEmbellished(){let e=!1,t=0;for(const s of this.childNodes){if(s){if(s.isEmbellished){if(e)return!1;e=!0,this._core=t}else if(!s.isSpacelike)return!1}t++}return e}core(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core]:this}coreMO(){return this.isEmbellished&&this._core!=null?this.childNodes[this._core].coreMO():this}nonSpaceLength(){let e=0;for(const t of this.childNodes)t&&!t.isSpacelike&&e++;return e}firstNonSpace(){for(const e of this.childNodes)if(e&&!e.isSpacelike)return e;return null}lastNonSpace(){let e=this.childNodes.length;for(;--e>=0;){const t=this.childNodes[e];if(t&&!t.isSpacelike)return t}return null}setTeXclass(e){if(this.getProperty("open")!=null||this.getProperty("close")!=null){this.getPrevClass(e),e=null;for(const t of this.childNodes)e=t.setTeXclass(e);return this.texClass==null&&(this.texClass=T.INNER),this}for(const t of this.childNodes)e=t.setTeXclass(e);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),e}}Rr.defaults=Object.assign({},Le.defaults);class ua extends Rr{get kind(){return"inferredMrow"}get isInferred(){return!0}get notParent(){return!0}toString(){return"["+this.childNodes.join(",")+"]"}}ua.defaults=Rr.defaults;class ha extends ks{get kind(){return"mfrac"}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return""}setTeXclass(e){this.getPrevClass(e);for(const t of this.childNodes)t.setTeXclass(null);return this}setChildInheritedAttributes(e,t,s,r){(!t||s>0)&&s++;const n=this.attributes.get("numalign"),a=this.attributes.get("denomalign"),o=this.addInheritedAttributes(Object.assign({},e),{numalign:n,indentshift:"0",indentalignfirst:n,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),l=this.addInheritedAttributes(Object.assign({},e),{denalign:a,indentshift:"0",indentalignfirst:a,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"});this.childNodes[0].setInheritedAttributes(o,!1,s,r),this.childNodes[1].setInheritedAttributes(l,!1,s,!0)}}ha.defaults=Object.assign(Object.assign({},ks.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1});class da extends Le{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"msqrt"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(e,t,s,r){this.childNodes[0].setInheritedAttributes(e,t,s,!0)}}da.defaults=Object.assign(Object.assign({},Le.defaults),{"data-vertical-align":"bottom"});class pa extends Le{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mroot"}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(e,t,s,r){this.childNodes[0].setInheritedAttributes(e,t,s,!0),this.childNodes[1].setInheritedAttributes(e,!1,s+2,r)}}pa.defaults=Object.assign(Object.assign({},Le.defaults),{"data-vertical-align":"bottom"});class To extends ei{get kind(){return"mstyle"}get notParent(){return this.childNodes[0]&&this.childNodes[0].childNodes.length===1}setInheritedAttributes(e={},t=!1,s=0,r=!1){this.attributes.setInherited("displaystyle",t),this.attributes.setInherited("scriptlevel",s),super.setInheritedAttributes(e,t,s,r)}setChildInheritedAttributes(e,t,s,r){let n=this.attributes.getExplicit("scriptlevel");n!=null&&(n=n.toString(),n.match(/^\s*[-+]/)?s+=parseInt(n):s=parseInt(n),r=!1);const a=this.attributes.getExplicit("displaystyle");a!=null&&(t=a===!0,r=!1);const o=this.attributes.getExplicit("data-cramped");o!=null&&(r=o),e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(e,t,s,r)}}To.defaults=Object.assign(Object.assign({},ei.defaults),{scriptlevel:rs,displaystyle:rs,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",mathbackground:rs,mathcolor:rs,dir:rs,infixlinebreakstyle:"before"});class wo extends Le{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"merror"}get arity(){return-1}get linebreakContainer(){return!0}}wo.defaults=Object.assign({},Le.defaults);class ma extends ei{get kind(){return"mpadded"}get linebreakContainer(){return!0}setTeXclass(e){return this.getProperty("vbox")?(this.getPrevClass(e),this.texClass=T.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(e)}}ma.defaults=Object.assign(Object.assign({},ei.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0});class ko extends ei{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mphantom"}}ko.defaults=Object.assign({},ei.defaults);class fa extends Le{constructor(){super(...arguments),this.texclass=T.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return"mfenced"}setTeXclass(e){this.getPrevClass(e),this.open&&(e=this.open.setTeXclass(e)),this.childNodes[0]&&(e=this.childNodes[0].setTeXclass(e));for(let t=1,s=this.childNodes.length;t<s;t++)this.separators[t-1]&&(e=this.separators[t-1].setTeXclass(e)),this.childNodes[t]&&(e=this.childNodes[t].setTeXclass(e));return this.close&&(e=this.close.setTeXclass(e)),this.updateTeXclass(this.open),e}setChildInheritedAttributes(e,t,s,r){this.addFakeNodes();for(const n of[this.open,this.close].concat(this.separators))n&&n.setInheritedAttributes(e,t,s,r);super.setChildInheritedAttributes(e,t,s,r)}addFakeNodes(){let{open:e,close:t,separators:s}=this.attributes.getList("open","close","separators");if(e=e.replace(/[ \t\n\r]/g,""),t=t.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),e&&(this.open=this.fakeNode(e,{fence:!0,form:"prefix"},T.OPEN)),s){for(;s.length<this.childNodes.length-1;)s+=s.charAt(s.length-1);let r=0;for(const n of this.childNodes.slice(1))n&&this.separators.push(this.fakeNode(s.charAt(r++)))}t&&(this.close=this.fakeNode(t,{fence:!0,form:"postfix"},T.CLOSE))}fakeNode(e,t={},s=null){const r=this.factory.create("text").setText(e),n=this.factory.create("mo",t,[r]);return n.texClass=s,n.parent=this,n}}fa.defaults=Object.assign(Object.assign({},Le.defaults),{open:"(",close:")",separators:","});class ga extends Le{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"menclose"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(e){return e=this.childNodes[0].setTeXclass(e),this.updateTeXclass(this.childNodes[0]),e}}ga.defaults=Object.assign(Object.assign({},Le.defaults),{notation:"longdiv"});class ba extends Le{get kind(){return"maction"}get arity(){return 1}get selected(){const e=this.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,e))-1;return this.childNodes[t]||this.factory.create("mrow")}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(e){super.verifyAttributes(e),this.attributes.get("actiontype")!=="toggle"&&this.attributes.hasExplicit("selection")&&this.attributes.unset("selection")}setTeXclass(e){this.attributes.get("actiontype")==="tooltip"&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);const t=this.selected;return e=t.setTeXclass(e),this.updateTeXclass(t),e}nextToggleSelection(){let e=Math.max(1,parseInt(this.attributes.get("selection"))+1);e>this.childNodes.length&&(e=1),this.attributes.set("selection",e)}setChildInheritedAttributes(e,t,s,r){var n,a;this.attributes.get("actiontype").toLowerCase()==="tooltip"?((n=this.childNodes[0])===null||n===void 0||n.setInheritedAttributes(e,t,s,r),(a=this.childNodes[1])===null||a===void 0||a.setInheritedAttributes(e,!1,1,!1)):super.setChildInheritedAttributes(e,t,s,r)}}ba.defaults=Object.assign(Object.assign({},Le.defaults),{actiontype:"toggle",selection:1});class hi extends ks{get kind(){return"msubsup"}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(e,t,s,r){const n=this.childNodes;n[0].setInheritedAttributes(e,t,s,r),n[1].setInheritedAttributes(e,!1,s+1,r||this.sub===1),n[2]&&n[2].setInheritedAttributes(e,!1,s+1,r||this.sub===2)}}hi.defaults=Object.assign(Object.assign({},ks.defaults),{subscriptshift:"",superscriptshift:""});class Ea extends hi{get kind(){return"msub"}get arity(){return 2}}Ea.defaults=Object.assign({},hi.defaults);class xa extends hi{get kind(){return"msup"}get arity(){return 2}get sup(){return 1}get sub(){return 2}}xa.defaults=Object.assign({},hi.defaults);class ki extends ks{get kind(){return"munderover"}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(e,t,s,r){const n=this.childNodes;n[0].setInheritedAttributes(e,t,s,r||!!n[this.over]);const a=!(t||!n[0].coreMO().attributes.get("movablelimits")),o=this.constructor.ACCENTS;n[1].setInheritedAttributes(e,!1,this.getScriptlevel(o[1],a,s),r||this.under===1),this.setInheritedAccent(1,o[1],t,s,r,a),n[2]&&(n[2].setInheritedAttributes(e,!1,this.getScriptlevel(o[2],a,s),r||this.under===2),this.setInheritedAccent(2,o[2],t,s,r,a))}getScriptlevel(e,t,s){return!t&&this.attributes.get(e)||s++,s}setInheritedAccent(e,t,s,r,n,a){const o=this.childNodes[e];if(!this.attributes.hasExplicit(t)&&o.isEmbellished){const l=o.coreMO().attributes.get("accent");this.attributes.setInherited(t,l),l!==this.attributes.getDefault(t)&&o.setInheritedAttributes({},s,this.getScriptlevel(t,a,r),n)}}}ki.defaults=Object.assign(Object.assign({},ks.defaults),{accent:!1,accentunder:!1,align:"center"}),ki.ACCENTS=["","accentunder","accent"];class ya extends ki{get kind(){return"munder"}get arity(){return 2}}ya.defaults=Object.assign({},ki.defaults);class bn extends ki{get kind(){return"mover"}get arity(){return 2}get over(){return 1}get under(){return 2}}bn.defaults=Object.assign({},ki.defaults),bn.ACCENTS=["","accent","accentunder"];class Na extends hi{get kind(){return"mmultiscripts"}get arity(){return 1}setChildInheritedAttributes(e,t,s,r){this.childNodes[0].setInheritedAttributes(e,t,s,r);let n=!1;for(let a=1,o=0;a<this.childNodes.length;a++){const l=this.childNodes[a];if(l.isKind("mprescripts")){if(!n&&(n=!0,a%2==0)){const h=this.factory.create("none");this.childNodes.splice(a,0,h),h.parent=this,a++}}else{const h=r||o%2==0;l.setInheritedAttributes(e,!1,s+1,h),o++}}this.childNodes.length%2==(n?1:0)&&(this.appendChild(this.factory.create("none")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(e,!1,s+1,r))}verifyChildren(e){let t=!1;const s=e.fixMmultiscripts;for(let r=0;r<this.childNodes.length;r++){const n=this.childNodes[r];n.isKind("mprescripts")&&(t?n.mError(n.kind+" can only appear once in "+this.kind,e,!0):(t=!0,r%2!=0||s||this.mError("There must be an equal number of prescripts of each type",e)))}this.childNodes.length%2!=(t?1:0)||s||this.mError("There must be an equal number of scripts of each type",e),super.verifyChildren(e)}}Na.defaults=Object.assign({},hi.defaults);class Ao extends Le{get kind(){return"mprescripts"}get arity(){return 0}verifyTree(e){super.verifyTree(e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)}}Ao.defaults=Object.assign({},Le.defaults);class Lo extends Le{get kind(){return"none"}get arity(){return 0}verifyTree(e){super.verifyTree(e),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",e,!0)}}Lo.defaults=Object.assign({},Le.defaults);class va extends Le{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=T.ORD}get kind(){return"mtable"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setInheritedAttributes(e,t,s,r){for(const n of Kd)e[n]&&this.attributes.setInherited(n,e[n][1]),this.attributes.hasExplicit(n)&&this.attributes.unset(n);super.setInheritedAttributes(e,t,s,r)}setChildInheritedAttributes(e,t,s,r){for(const o of this.childNodes)o.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),o).appendChild(o);t=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),e=this.addInheritedAttributes(e,{columnalign:this.attributes.get("columnalign"),rowalign:"center","data-break-align":this.attributes.get("data-break-align")});const n=this.attributes.getExplicit("data-cramped"),a=ti(this.attributes.get("rowalign"));for(const o of this.childNodes)e.rowalign[1]=a.shift()||e.rowalign[1],o.setInheritedAttributes(e,t,s,!!n)}verifyChildren(e){let t=null;const s=this.factory;for(let r=0;r<this.childNodes.length;r++){const n=this.childNodes[r];if(n.isKind("mtr"))t=null;else{const a=n.isKind("mtd");if(t?(this.removeChild(n),r--):t=this.replaceChild(s.create("mtr"),n),t.appendChild(a?n:s.create("mtd",{},[n])),!e.fixMtables){n.parent.removeChild(n),n.parent=this,a&&t.appendChild(s.create("mtd"));const o=n.mError("Children of "+this.kind+" must be mtr or mlabeledtr",e,a);t.childNodes[t.childNodes.length-1].appendChild(o)}}}super.verifyChildren(e)}setTeXclass(e){this.getPrevClass(e);for(const t of this.childNodes)t.setTeXclass(null);return this}}va.defaults=Object.assign(Object.assign({},Le.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em","data-break-align":"top"});class En extends Le{get kind(){return"mtr"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(e,t,s,r){for(const o of this.childNodes)o.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),o).appendChild(o);const n=ti(this.attributes.get("columnalign")),a=ti(this.attributes.get("data-break-align"));this.arity===1&&(n.unshift(this.parent.attributes.get("side")),a.unshift("top")),e=this.addInheritedAttributes(e,{rowalign:this.attributes.get("rowalign"),columnalign:"center","data-break-align":"top"});for(const o of this.childNodes)e.columnalign[1]=n.shift()||e.columnalign[1],e["data-vertical-align"]=[this.kind,a.shift()||e["data-break-align"][1]],o.setInheritedAttributes(e,t,s,r)}verifyChildren(e){if(!this.parent||this.parent.isKind("mtable")){for(const t of this.childNodes)t.isKind("mtd")||(this.replaceChild(this.factory.create("mtd"),t).appendChild(t),e.fixMtables||t.mError("Children of "+this.kind+" must be mtd",e));super.verifyChildren(e)}else this.mError(this.kind+" can only be a child of an mtable",e,!0)}setTeXclass(e){this.getPrevClass(e);for(const t of this.childNodes)t.setTeXclass(null);return this}}En.defaults=Object.assign(Object.assign({},Le.defaults),{rowalign:rs,columnalign:rs,groupalign:rs,"data-break-align":"top"});class Mo extends En{get kind(){return"mlabeledtr"}get arity(){return 1}}class Ca extends ks{get kind(){return"mtd"}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return"columnalign"}verifyChildren(e){!this.parent||this.parent.isKind("mtr")?super.verifyChildren(e):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",e,!0)}setTeXclass(e){return this.getPrevClass(e),this.childNodes[0].setTeXclass(null),this}}Ca.defaults=Object.assign(Object.assign({},ks.defaults),{rowspan:1,columnspan:1,rowalign:rs,columnalign:rs,groupalign:rs,"data-vertical-align":"top"});class So extends ei{get kind(){return"maligngroup"}get isSpacelike(){return!0}setChildInheritedAttributes(e,t,s,r){e=this.addInheritedAttributes(e,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(e,t,s,r)}}So.defaults=Object.assign(Object.assign({},ei.defaults),{groupalign:rs});class Io extends Le{get kind(){return"malignmark"}get arity(){return 0}get isSpacelike(){return!0}}Io.defaults=Object.assign(Object.assign({},Le.defaults),{edge:"left"});class Ta extends ws{constructor(){super(...arguments),this.texclass=T.ORD}get kind(){return"mglyph"}verifyAttributes(e){const{src:t,fontfamily:s,index:r}=this.attributes.getList("src","fontfamily","index");t!==""||s!==""&&r!==""?super.verifyAttributes(e):this.mError("mglyph must have either src or fontfamily and index attributes",e,!0)}}Ta.defaults=Object.assign(Object.assign({},ws.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"});class wa extends ks{get kind(){return"semantics"}get arity(){return 1}get notParent(){return!0}}wa.defaults=Object.assign(Object.assign({},ks.defaults),{definitionUrl:null,encoding:null});class _r extends Le{get kind(){return"annotation-xml"}setChildInheritedAttributes(){}}_r.defaults=Object.assign(Object.assign({},Le.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null});class ka extends _r{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return"annotation"}}ka.defaults=Object.assign({},_r.defaults);class xn extends ks{get kind(){return"TeXAtom"}get arity(){return-1}get notParent(){return!0}constructor(e,t,s){super(e,t,s),this.texclass=T.ORD,this.setProperty("texClass",this.texClass)}setTeXclass(e){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(e)}adjustTeXclass(e){return e}}xn.defaults=Object.assign({},ks.defaults),xn.prototype.adjustTeXclass=As.prototype.adjustTeXclass;class Ro extends ks{get kind(){return"MathChoice"}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(e,t,s,r){const n=t?0:Math.max(0,Math.min(s,2))+1,a=this.childNodes[n]||this.factory.create("mrow");this.parent.replaceChild(a,this),a.setInheritedAttributes(e,t,s,r)}}Ro.defaults=Object.assign({},ks.defaults);class _o extends na{get kind(){return"html"}getHTML(){return this.getXML()}setHTML(e,t=null){try{t.getAttribute(e,"data-mjx-hdw")}catch(s){e=t.node("span",{},[e])}return this.setXML(e,t)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){const e=this.adaptor.kind(this.xml);return`HTML=<${e}>...</${e}>`}verifyTree(e){!this.parent||this.parent.isToken||this.mError("HTML can only be a child of a token element",e,!0)}}const s1={[aa.prototype.kind]:aa,[ui.prototype.kind]:ui,[oa.prototype.kind]:oa,[As.prototype.kind]:As,[or.prototype.kind]:or,[cr.prototype.kind]:cr,[la.prototype.kind]:la,[Rr.prototype.kind]:Rr,[ua.prototype.kind]:ua,[ha.prototype.kind]:ha,[da.prototype.kind]:da,[pa.prototype.kind]:pa,[To.prototype.kind]:To,[wo.prototype.kind]:wo,[ma.prototype.kind]:ma,[ko.prototype.kind]:ko,[fa.prototype.kind]:fa,[ga.prototype.kind]:ga,[ba.prototype.kind]:ba,[Ea.prototype.kind]:Ea,[xa.prototype.kind]:xa,[hi.prototype.kind]:hi,[ya.prototype.kind]:ya,[bn.prototype.kind]:bn,[ki.prototype.kind]:ki,[Na.prototype.kind]:Na,[Ao.prototype.kind]:Ao,[Lo.prototype.kind]:Lo,[va.prototype.kind]:va,[Mo.prototype.kind]:Mo,[En.prototype.kind]:En,[Ca.prototype.kind]:Ca,[So.prototype.kind]:So,[Io.prototype.kind]:Io,[Ta.prototype.kind]:Ta,[wa.prototype.kind]:wa,[ka.prototype.kind]:ka,[_r.prototype.kind]:_r,[xn.prototype.kind]:xn,[Ro.prototype.kind]:Ro,[gn.prototype.kind]:gn,[na.prototype.kind]:na,[_o.prototype.kind]:_o};class Oo extends Xd{get MML(){return this.node}}Oo.defaultNodes=s1;class Or{constructor(){this.bits=0}static allocate(...e){for(const t of e){if(this.has(t))throw new Error("Bit already allocated for "+t);if(this.next===Or.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(t,this.next),this.next<<=1}}static has(e){return this.names.has(e)}set(e){this.bits|=this.getBit(e)}clear(e){this.bits&=~this.getBit(e)}isSet(e){return!!(this.bits&this.getBit(e))}reset(){this.bits=0}getBit(e){const t=this.constructor.names.get(e);if(!t)throw new Error("Unknown bit-field name: "+e);return t}}function i1(...i){const e=class extends Or{};return e.allocate(...i),e}function Aa(i){return new Promise((function e(t,s){const r=n=>{var a;n.retry instanceof Promise?n.retry.then((()=>e(t,s))).catch((o=>s(o))):!((a=n.restart)===null||a===void 0)&&a.isCallback?MathJax.Callback.After((()=>e(t,s)),n.restart):s(n)};try{const n=i();n instanceof Promise?n.then((a=>t(a))).catch((a=>r(a))):t(n)}catch(n){r(n)}}))}function yn(i){const e=new Error("MathJax retry -- an asynchronous action is required; try using one of the promise-based functions and await its resolution.");throw e.retry=i,e}Or.MAXBIT=1<<31,Or.next=1,Or.names=new Map;var ou=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};class cu extends Vs{static create(e){const t=new this;for(const s of Object.keys(e)){const[r,n]=this.action(s,e[s]);n&&t.add(r,n)}return t}static action(e,t){let s,r,n=!0;const a=t[0];if(t.length===1||typeof t[1]=="boolean")t.length===2&&(n=t[1]),[s,r]=this.methodActions(e);else if(typeof t[1]=="string")if(typeof t[2]=="string"){t.length===4&&(n=t[3]);const[o,l]=t.slice(1);[s,r]=this.methodActions(o,l)}else t.length===3&&(n=t[2]),[s,r]=this.methodActions(t[1]);else t.length===4&&(n=t[3]),[s,r]=t.slice(1);return[{id:e,renderDoc:s,renderMath:r,convert:n},a]}static methodActions(e,t=e){return[s=>(e&&s[e](),!1),(s,r)=>(t&&s[t](r),!1)]}renderDoc(e,t=V.UNPROCESSED){for(const s of this.items)if(s.priority>=t&&s.item.renderDoc(e))return}renderMath(e,t,s=V.UNPROCESSED){for(const r of this.items)if(r.priority>=s&&r.item.renderMath(e,t))return}renderConvert(e,t,s=V.LAST){for(const r of this.items)if(r.priority>s||r.item.convert&&r.item.renderMath(e,t))return}findID(e){for(const t of this.items)if(t.item.id===e)return t.item;return null}}const r1={all:!1,processed:!1,inputJax:null,outputJax:null},n1={all:!0,processed:!0,inputJax:[],outputJax:[]};class om extends ar{compile(e){return null}}class cm extends mn{typeset(e,t=null){return null}escaped(e,t){return null}}class a1 extends su{}class Ai{constructor(e,t,s){const r=this.constructor;this.document=e,this.options=Ds(is({},r.OPTIONS),s),this.math=new(this.options.MathList||a1),this.renderActions=cu.create(this.options.renderActions),this._actionPromises=[],this._readyPromise=Promise.resolve(),this.processed=new Ai.ProcessBits,this.outputJax=this.options.OutputJax||new cm;let n=this.options.InputJax||[new om];Array.isArray(n)||(n=[n]),this.inputJax=n,this.adaptor=t,this.outputJax.setAdaptor(t),this.inputJax.map((a=>a.setAdaptor(t))),this.mmlFactory=this.options.MmlFactory||new Oo,this.inputJax.map((a=>a.setMmlFactory(this.mmlFactory))),this.outputJax.initialize(),this.inputJax.map((a=>a.initialize()))}get kind(){return this.constructor.KIND}addRenderAction(e,...t){const[s,r]=cu.action(e,t);this.renderActions.add(s,r)}removeRenderAction(e){const t=this.renderActions.findID(e);t&&this.renderActions.remove(t)}render(){return this.clearPromises(),this.renderActions.renderDoc(this),this}renderPromise(){return this.whenReady((()=>Aa((()=>ou(this,void 0,void 0,(function*(){return this.render(),yield this.actionPromises(),this.clearPromises(),this}))))))}rerender(e=V.RERENDER){return this.state(e-1),this.render(),this}rerenderPromise(e=V.RERENDER){return this.whenReady((()=>Aa((()=>ou(this,void 0,void 0,(function*(){return this.rerender(e),yield this.actionPromises(),this.clearPromises(),this}))))))}convert(e,t={}){let{format:s,display:r,end:n,ex:a,em:o,containerWidth:l,scale:h,family:d}=Ds({format:this.inputJax[0].name,display:!0,end:V.LAST,em:16,ex:8,containerWidth:null,scale:1,family:""},t);l===null&&(l=80*a);const x=this.inputJax.reduce(((I,G)=>G.name===s?G:I),null),k=new this.options.MathItem(e,x,r);return k.start.node=this.adaptor.body(this.document),k.setMetrics(o,a,l,h),d&&this.outputJax.options.mtextInheritFont&&(k.outputData.mtextFamily=d),d&&this.outputJax.options.merrorInheritFont&&(k.outputData.merrorFamily=d),this.clearPromises(),k.convert(this,n),k.typesetRoot||k.root}convertPromise(e,t={}){return this.whenReady((()=>Aa((()=>ou(this,void 0,void 0,(function*(){const s=this.convert(e,t);return yield this.actionPromises(),this.clearPromises(),s}))))))}whenReady(e){return this._readyPromise=this._readyPromise.catch((t=>{})).then((()=>{const t=this._readyPromise;this._readyPromise=Promise.resolve();const s=e(),r=this._readyPromise.then((()=>s));return this._readyPromise=t,r}))}actionPromises(){return Promise.all(this._actionPromises)}clearPromises(){this._actionPromises=[]}savePromise(e){this._actionPromises.push(e)}findMath(e=null){return this.processed.set("findMath"),this}compile(){if(!this.processed.isSet("compile")){const e=[];for(const t of this.math)this.compileMath(t),t.inputData.recompile!==void 0&&e.push(t);for(const t of e){const s=t.inputData.recompile;t.state(s.state),t.inputData.recompile=s,this.compileMath(t)}this.processed.set("compile")}return this}compileMath(e){try{e.compile(this)}catch(t){if(t.retry||t.restart)throw t;this.options.compileError(this,e,t),e.inputData.error=t}}compileError(e,t){e.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":t.message,title:t.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),e.display&&e.root.attributes.set("display","block"),e.inputData.error=t.message}typeset(){if(!this.processed.isSet("typeset")){for(const e of this.math)try{e.typeset(this)}catch(t){if(t.retry||t.restart)throw t;this.options.typesetError(this,e,t),e.outputData.error=t}this.processed.set("typeset")}return this}typesetError(e,t){e.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":t.message,title:t.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),e.display&&this.adaptor.setAttributes(e.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),e.outputData.error=t.message}getMetrics(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this}updateDocument(){if(!this.processed.isSet("updateDocument")){for(const e of this.math.reversed())e.updateDocument(this);this.processed.set("updateDocument")}return this}removeFromDocument(e=!1){return this}state(e,t=!1){for(const s of this.math)s.state(e,t);return e<V.INSERTED&&this.processed.clear("updateDocument"),e<V.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),e<V.COMPILED&&this.processed.clear("compile"),e<V.FINDMATH&&this.processed.clear("findMath"),this}reset(e={processed:!0}){return(e=Ds(Object.assign({},r1),e)).all&&Object.assign(e,n1),e.processed&&this.processed.reset(),e.inputJax&&this.inputJax.forEach((t=>t.reset(...e.inputJax))),e.outputJax&&this.outputJax.reset(...e.outputJax),this}clear(){return this.reset(),this.math.clear(),this}done(){return Promise.resolve()}concat(e){return this.math.merge(e),this}clearMathItemsWithin(e){const t=this.getMathItemsWithin(e);for(const s of t.slice(0).reverse())s.clear();return this.math.remove(...t),t}getMathItemsWithin(e){Array.isArray(e)||(e=[e]);const t=this.adaptor,s=[],r=t.getElements(e,this.document);e:for(const n of this.math)for(const a of r)if(n.start.node&&t.contains(a,n.start.node)){s.push(n);continue e}return s}}Ai.KIND="MathDocument",Ai.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:a1,MathItem:class extends iu{},compileError:(i,e,t)=>{i.compileError(e,t)},typesetError:(i,e,t)=>{i.typesetError(e,t)},renderActions:ts({find:[V.FINDMATH,"findMath","",!1],compile:[V.COMPILED],metrics:[V.METRICS,"getMetrics","",!1],typeset:[V.TYPESET],update:[V.INSERTED,"updateDocument",!1]})},Ai.ProcessBits=i1("findMath","compile","getMetrics","typeset","updateDocument");class lm extends Ai{}class lu{constructor(e,t=5){this.documentClass=lm,this.adaptor=e,this.priority=t}get name(){return this.constructor.NAME}handlesDocument(e){return!1}create(e,t){return new this.documentClass(e,this.adaptor,t)}}lu.NAME="generic";class o1 extends Vs{register(e){return this.add(e,e.priority)}unregister(e){this.remove(e)}handlesDocument(e){for(const t of this){const s=t.item;if(s.handlesDocument(e))return s}throw new Error("Can't find handler for document")}document(e,t=null){return this.handlesDocument(e).create(e,t)}}class La{static methodName(e){return"visit"+(e.charAt(0).toUpperCase()+e.substring(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"}constructor(e){this.nodeHandlers=new Map;for(const t of e.getKinds()){const s=this[La.methodName(t)];s&&this.nodeHandlers.set(t,s)}}visitTree(e,...t){return this.visitNode(e,...t)}visitNode(e,...t){return(this.nodeHandlers.get(e.kind)||this.visitDefault).call(this,e,...t)}visitDefault(e,...t){if("childNodes"in e)for(const s of e.childNodes)this.visitNode(s,...t)}setNodeHandler(e,t){this.nodeHandlers.set(e,t)}removeNodeHandler(e){this.nodeHandlers.delete(e)}}const c1="data-mjx-";class Nn extends La{constructor(e=null){e||(e=new Oo),super(e)}visitTextNode(e,...t){}visitXMLNode(e,...t){}visitHtmlNode(e,...t){}getKind(e){const t=e.kind;return Ir(t,this.constructor.rename,t)}getAttributeList(e){const t=this.constructor,s=Ir(e.kind,t.defaultAttributes,{}),r=Object.assign({},s,this.getDataAttributes(e),e.attributes.getAllAttributes()),n=t.variants;return Object.hasOwn(r,"mathvariant")&&(Object.hasOwn(n,r.mathvariant)?r.mathvariant=n[r.mathvariant]:e.getProperty("ignore-variant")&&delete r.mathvariant),r}getDataAttributes(e){const t={},s=e.attributes.getExplicit("mathvariant"),r=this.constructor.variants;s&&(e.getProperty("ignore-variant")||Object.hasOwn(r,s))&&this.setDataAttribute(t,"variant",s),e.getProperty("variantForm")&&this.setDataAttribute(t,"alternate","1"),e.getProperty("pseudoscript")&&this.setDataAttribute(t,"pseudoscript","true"),e.getProperty("autoOP")===!1&&this.setDataAttribute(t,"auto-op","false");const n=e.getProperty("vbox");n&&this.setDataAttribute(t,"vbox",n);const a=e.getProperty("scriptalign");a&&this.setDataAttribute(t,"script-align",a);const o=e.getProperty("mathaccent");o!==void 0&&(o&&!e.isMathAccent()||!o&&!e.isMathAccentWithWidth())&&this.setDataAttribute(t,"mathaccent",o.toString());const l=e.getProperty("texClass");if(l!==void 0){let h=!0;if(l===T.OP&&e.isKind("mi")){const d=e.getText();h=!(d.length>1&&d.match(ui.operatorName))}h&&this.setDataAttribute(t,"texclass",l<0?"NONE":nu[l])}return e.getProperty("smallmatrix")&&this.setDataAttribute(t,"smallmatrix","true"),t}setDataAttribute(e,t,s){e[c1+t]=s}}Nn.rename={TeXAtom:"mrow"},Nn.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},Nn.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}};class um extends Nn{constructor(){super(...arguments),this.document=null}visitTree(e,t){this.document=t;const s=t.createElement("top");return this.visitNode(e,s),this.document=null,s.firstChild}visitTextNode(e,t){t.appendChild(this.document.createTextNode(e.getText()))}visitXMLNode(e,t){t.appendChild(e.getXML().cloneNode(!0))}visitHtmlNode(e,t){t.appendChild(e.getHTML().cloneNode(!0))}visitInferredMrowNode(e,t){for(const s of e.childNodes)this.visitNode(s,t)}visitDefault(e,t){const s=this.document.createElement(this.getKind(e));this.addAttributes(e,s);for(const r of e.childNodes)this.visitNode(r,s);t.appendChild(s)}addAttributes(e,t){const s=this.getAttributeList(e);for(const r of Object.keys(s))t.setAttribute(r,s[r].toString())}}class Do extends Nn{visitTree(e){return this.visitNode(e,"")}visitTextNode(e,t){return this.quoteHTML(e.getText())}visitXMLNode(e,t){return t+e.getSerializedXML()}visitHtmlNode(e,t){return e.getSerializedHTML()}visitInferredMrowNode(e,t){const s=[];for(const r of e.childNodes)s.push(this.visitNode(r,t));return s.join(`
`)}visitAnnotationNode(e,t){const s=this.childNodeMml(e,"","");return`${t}<annotation${this.getAttributes(e)}>${s}</annotation>`}visitDefault(e,t){const s=this.getKind(e),[r,n]=e.isToken||e.childNodes.length===0?["",""]:[`
`,t],a=this.childNodeMml(e,t+"  ",r),o=a.match(/\S/)?r+a+n:"";return`${t}<${s}${this.getAttributes(e)}>${o}</${s}>`}childNodeMml(e,t,s){let r="";for(const n of e.childNodes)r+=this.visitNode(n,t)+s;return r}getAttributes(e){const t=[],s=this.getAttributeList(e);for(const r of Object.keys(s)){const n=String(s[r]);n!==void 0&&t.push(r+'="'+this.quoteHTML(n)+'"')}return t.length?" "+t.join(" "):""}quoteHTML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,this.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,this.toEntity)}toEntity(e){return t1(e)}}class l1{get kind(){return this.node.kind}constructor(e,t){this.factory=e,this.node=t}wrap(e){return this.factory.wrap(e)}walkTree(e,t){if(e(this,t),"childNodes"in this)for(const s of this.childNodes)s&&s.walkTree(e,t);return t}}class u1 extends ra{wrap(e,...t){return this.create(e.kind,e,...t)}}const ls={version:Zs,context:Os,handlers:new o1,document:function(i,e){return ls.handlers.document(i,e)},handleRetriesFor:Aa,retryAfter:yn,asyncLoad:null,asyncIsSynchronous:!1};class h1 extends iu{get adaptor(){return this.inputJax.adaptor}constructor(e,t,s=!0,r={node:null,n:0,delim:""},n={node:null,n:0,delim:""}){super(e,t,s,r,n)}updateDocument(e){if(this.state()<V.INSERTED){if(this.inputJax.processStrings){let t=this.start.node;if(t===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(t=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,t);else{for(this.start.n&&(t=this.adaptor.split(t,this.start.n));t!==this.end.node;){const s=this.adaptor.next(t);this.adaptor.remove(t),t=s}this.adaptor.insert(this.typesetRoot,t),this.end.n<this.adaptor.value(t).length&&this.adaptor.split(t,this.end.n),this.adaptor.remove(t)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(V.INSERTED)}}updateStyleSheet(e){e.addStyleSheet()}removeFromDocument(e=!1){if(super.removeFromDocument(e),this.state()>=V.TYPESET){const t=this.adaptor,s=this.start.node;let r=t.text("");if(e){const n=this.start.delim+this.math+this.end.delim;if(this.inputJax.processStrings)r=t.text(n);else{const a=t.parse(n,"text/html");r=t.firstChild(t.body(a))}}t.parent(s)&&t.replace(r,s),this.start.node=this.end.node=r,this.start.n=this.end.n=0}}}class d1 extends su{}class Po{constructor(e=null){const t=this.constructor;this.options=Ds(is({},t.OPTIONS),e),this.init(),this.getPatterns()}init(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){const e=bo(this.options.skipHtmlTags),t=bo(this.options.ignoreHtmlClass),s=bo(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+e.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+t.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+s+")(?: |$)")}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]}extendString(e,t){this.snodes.push([e,t.length]),this.string+=t}handleText(e,t){return t||this.extendString(e,this.adaptor.value(e)),this.adaptor.next(e)}handleTag(e,t){if(!t){const s=this.options.includeHtmlTags[this.adaptor.kind(e)];s instanceof Function?this.extendString(e,s(e,this.adaptor)):this.extendString(e,s)}return this.adaptor.next(e)}handleContainer(e,t){this.pushString();const s=this.adaptor.getAttribute(e,"class")||"",r=this.adaptor.kind(e)||"",n=this.processHtmlClass.exec(s);let a=e;return!this.adaptor.firstChild(e)||this.adaptor.getAttribute(e,"data-MJX")||!n&&this.skipHtmlTags.exec(r)?a=this.adaptor.next(e):(this.adaptor.next(e)&&this.stack.push([this.adaptor.next(e),t]),a=this.adaptor.firstChild(e),t=(t||this.ignoreHtmlClass.exec(s))&&!n),[a,t]}handleOther(e,t){return this.pushString(),this.adaptor.next(e)}find(e){this.init();const t=this.adaptor.next(e);let s=!1;const r=this.options.includeHtmlTags;for(;e&&e!==t;){const a=this.adaptor.kind(e);a==="#text"?e=this.handleText(e,s):Object.hasOwn(r,a)?e=this.handleTag(e,s):a?[e,s]=this.handleContainer(e,s):e=this.handleOther(e,s),!e&&this.stack.length&&(this.pushString(),[e,s]=this.stack.pop())}this.pushString();const n=[this.strings,this.nodes];return this.init(),n}}Po.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","math","select","option","mjx-container"],includeHtmlTags:ts({br:`
`,wbr:"","#comment":""}),ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},fn("STYLES",V.INSERTED+1);class Bo extends Ai{constructor(e,t,s){const[r,n]=sa(s,Po.OPTIONS);super(e,t,r),this.domStrings=this.options.DomStrings||new Po(n),this.domStrings.adaptor=t,this.styles=[]}findPosition(e,t,s,r){const n=this.adaptor,a=1/(r[e].length||1);let o=e;for(const[l,h]of r[e]){if(t<=h&&n.kind(l)==="#text")return{i:o,node:l,n:Math.max(t,0),delim:s};t-=h,o+=a}return{node:null,n:0,delim:s}}mathItem(e,t,s){const r=e.math,n=this.findPosition(e.n,e.start.n,e.open,s),a=this.findPosition(e.n,e.end.n,e.close,s);return new this.options.MathItem(r,t,e.display,n,a)}findMath(e){if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,e=Ds({elements:this.options.elements||[this.adaptor.body(this.document)]},e);const t=this.adaptor.getElements(e.elements,this.document);for(const s of this.inputJax){const r=s.processStrings?this.findMathFromStrings(s,t):this.findMathFromDOM(s,t);this.math.merge(r)}this.processed.set("findMath")}return this}findMathFromStrings(e,t){const s=[],r=[];for(const a of t){const[o,l]=this.domStrings.find(a);s.push(...o),r.push(...l)}const n=new this.options.MathList;for(const a of e.findMath(s))n.push(this.mathItem(a,e,r));return n}findMathFromDOM(e,t){const s=[];for(const r of t)for(const n of e.findMath(r))s.push(new this.options.MathItem(n.math,e,n.display,n.start,n.end));return new this.options.MathList(...s)}updateDocument(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set("updateDocument")),this}addPageElements(){const e=this.adaptor,t=e.body(this.document),s=this.documentPageElements();if(s){const r=e.firstChild(t);r?e.insert(s,r):e.append(t,s)}}addStyleSheet(){const e=this.documentStyleSheet(),t=this.adaptor;if(e&&!t.parent(e)){const s=t.head(this.document),r=this.findSheet(s,t.getAttribute(e,"id"));r?t.replace(e,r):t.append(s,e)}}findSheet(e,t){if(t){for(const s of this.adaptor.tags(e,"style"))if(this.adaptor.getAttribute(s,"id")===t)return s}return null}removeFromDocument(e=!1){if(this.processed.isSet("updateDocument"))for(const t of this.math)t.state()>=V.INSERTED&&t.state(V.TYPESET,e);return this.processed.clear("updateDocument"),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(e){this.styles.push(e),"insertStyles"in this.outputJax&&this.outputJax.insertStyles(e)}getStyles(){return this.styles}}Bo.KIND="HTML",Bo.OPTIONS=Object.assign(Object.assign({},Ai.OPTIONS),{renderActions:ts(Object.assign(Object.assign({},Ai.OPTIONS.renderActions),{styles:[V.STYLES,"","updateStyleSheet",!1]})),MathList:d1,MathItem:h1,DomStrings:null});class uu extends lu{constructor(){super(...arguments),this.documentClass=Bo}handlesDocument(e){const t=this.adaptor;if(typeof e=="string")try{e=t.parse(e,"text/html")}catch(s){}return e instanceof t.window.Document||e instanceof t.window.HTMLElement||e instanceof t.window.DocumentFragment}create(e,t){const s=this.adaptor;if(typeof e=="string")e=s.parse(e,"text/html");else if(e instanceof s.window.HTMLElement||e instanceof s.window.DocumentFragment){const r=e;e=s.parse("","text/html"),s.append(s.body(e),r)}return super.create(e,t)}}function hm(i){const e=new uu(i);return ls.handlers.register(e),e}function hu(i){return ls.asyncLoad?new Promise(((e,t)=>{const s=ls.asyncLoad(i);s instanceof Promise?s.then((r=>e(r))).catch((r=>t(r))):e(s)})):Promise.reject(`Can't load '${i}': No mathjax.asyncLoad method specified`)}const si=1e6,du={px:1,in:96,cm:96/2.54,mm:96/25.4},pu={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},Jt={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:si};function mu(i,e=0,t=1,s=16){if(typeof i!="string"&&(i=String(i)),i===""||i==null)return e;if(Jt[i])return Jt[i];const r=i.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!r||r[0]==="")return e;const n=parseFloat(r[1]||"1"),a=r[2];return Object.hasOwn(du,a)?n*du[a]/s/t:Object.hasOwn(pu,a)?n*pu[a]:a==="%"?n/100*e:n*e}function fu(i){return(100*i).toFixed(1).replace(/\.?0+$/,"")+"%"}function Qe(i){return Math.abs(i)<.001?"0":i.toFixed(3).replace(/\.?0+$/,"")+"em"}function p1(i,e=-si,t=16){return i*=t,e&&i<e&&(i=e),Math.abs(i)<.1?"0":i.toFixed(1).replace(/\.0$/,"")+"px"}class rt{static zero(){return new rt({h:0,d:0,w:0})}static empty(){return new rt}constructor(e={w:0,h:-si,d:-si}){this.w=e.w||0,this.h="h"in e?e.h:-si,this.d="d"in e?e.d:-si,this.L=this.R=this.ic=this.oc=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}empty(){return this.w=0,this.h=this.d=-si,this}clean(){this.w===-si&&(this.w=0),this.h===-si&&(this.h=0),this.d===-si&&(this.d=0)}rescale(e){this.w*=e,this.h*=e,this.d*=e}combine(e,t=0,s=0){const r=e.rscale,n=t+r*(e.w+e.L+e.R),a=s+r*e.h,o=r*e.d-s;n>this.w&&(this.w=n),a>this.h&&(this.h=a),o>this.d&&(this.d=o)}append(e){const t=e.rscale;this.w+=t*(e.w+e.L+e.R),t*e.h>this.h&&(this.h=t*e.h),t*e.d>this.d&&(this.d=t*e.d)}updateFrom(e){this.h=e.h,this.d=e.d,this.w=e.w,e.pwidth&&(this.pwidth=e.pwidth)}copy(){const e=new rt;return Object.assign(e,this),e}}rt.fullWidth="100%",rt.boxSides=[["Top",0,"h"],["Right",1,"w"],["Bottom",2,"d"],["Left",3,"w"]];const m1={loadMissingEntities:!0},di={ApplyFunction:"\u2061",Backslash:"\u2216",Because:"\u2235",Breve:"\u02D8",Cap:"\u22D2",CenterDot:"\xB7",CircleDot:"\u2299",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",Congruent:"\u2261",ContourIntegral:"\u222E",Coproduct:"\u2210",Cross:"\u2A2F",Cup:"\u22D3",CupCap:"\u224D",Dagger:"\u2021",Del:"\u2207",Delta:"\u0394",Diamond:"\u22C4",DifferentialD:"\u2146",DotEqual:"\u2250",DoubleDot:"\xA8",DoubleRightTee:"\u22A8",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",DownLeftVector:"\u21BD",DownRightVector:"\u21C1",DownTee:"\u22A4",Downarrow:"\u21D3",Element:"\u2208",EqualTilde:"\u2242",Equilibrium:"\u21CC",Exists:"\u2203",ExponentialE:"\u2147",FilledVerySmallSquare:"\u25AA",ForAll:"\u2200",Gamma:"\u0393",Gg:"\u22D9",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Hacek:"\u02C7",Hat:"^",HumpDownHump:"\u224E",HumpEqual:"\u224F",Im:"\u2111",ImaginaryI:"\u2148",Integral:"\u222B",Intersection:"\u22C2",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",Lambda:"\u039B",Larr:"\u219E",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",LeftArrowRightArrow:"\u21C6",LeftCeiling:"\u2308",LeftDownVector:"\u21C3",LeftFloor:"\u230A",LeftRightArrow:"\u2194",LeftTee:"\u22A3",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpVector:"\u21BF",LeftVector:"\u21BC",Leftarrow:"\u21D0",Leftrightarrow:"\u21D4",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",Ll:"\u22D8",Lleftarrow:"\u21DA",LongLeftArrow:"\u27F5",LongLeftRightArrow:"\u27F7",LongRightArrow:"\u27F6",Longleftarrow:"\u27F8",Longleftrightarrow:"\u27FA",Longrightarrow:"\u27F9",Lsh:"\u21B0",MinusPlus:"\u2213",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotPrecedes:"\u2280",NotPrecedesSlantEqual:"\u22E0",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsSlantEqual:"\u22E1",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotVerticalBar:"\u2224",Omega:"\u03A9",OverBar:"\u203E",OverBrace:"\u23DE",PartialD:"\u2202",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",Product:"\u220F",Proportional:"\u221D",Psi:"\u03A8",Rarr:"\u21A0",Re:"\u211C",ReverseEquilibrium:"\u21CB",RightAngleBracket:"\u27E9",RightArrow:"\u2192",RightArrowLeftArrow:"\u21C4",RightCeiling:"\u2309",RightDownVector:"\u21C2",RightFloor:"\u230B",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpVector:"\u21BE",RightVector:"\u21C0",Rightarrow:"\u21D2",Rrightarrow:"\u21DB",Rsh:"\u21B1",Sigma:"\u03A3",SmallCircle:"\u2218",Sqrt:"\u221A",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",Star:"\u22C6",Subset:"\u22D0",SubsetEqual:"\u2286",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",SuchThat:"\u220B",Sum:"\u2211",Superset:"\u2283",SupersetEqual:"\u2287",Supset:"\u22D1",Therefore:"\u2234",Theta:"\u0398",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",UnderBar:"_",UnderBrace:"\u23DF",Union:"\u22C3",UnionPlus:"\u228E",UpArrow:"\u2191",UpDownArrow:"\u2195",UpTee:"\u22A5",Uparrow:"\u21D1",Updownarrow:"\u21D5",Upsilon:"\u03A5",Vdash:"\u22A9",Vee:"\u22C1",VerticalBar:"\u2223",VerticalTilde:"\u2240",Vvdash:"\u22AA",Wedge:"\u22C0",Xi:"\u039E",amp:"&",acute:"\xB4",aleph:"\u2135",alpha:"\u03B1",amalg:"\u2A3F",and:"\u2227",ang:"\u2220",angmsd:"\u2221",angsph:"\u2222",ape:"\u224A",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",beta:"\u03B2",beth:"\u2136",between:"\u226C",bigcirc:"\u25EF",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",blacklozenge:"\u29EB",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",bowtie:"\u22C8",boxdl:"\u2510",boxdr:"\u250C",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxur:"\u2514",bsol:"\\",bull:"\u2022",cap:"\u2229",check:"\u2713",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledR:"\xAE",circledS:"\u24C8",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",clubs:"\u2663",colon:":",comp:"\u2201",ctdot:"\u22EF",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cup:"\u222A",curarr:"\u21B7",curlyvee:"\u22CE",curlywedge:"\u22CF",dagger:"\u2020",daleth:"\u2138",ddarr:"\u21CA",deg:"\xB0",delta:"\u03B4",digamma:"\u03DD",div:"\xF7",divideontimes:"\u22C7",dot:"\u02D9",doteqdot:"\u2251",dotplus:"\u2214",dotsquare:"\u22A1",dtdot:"\u22F1",ecir:"\u2256",efDot:"\u2252",egs:"\u2A96",ell:"\u2113",els:"\u2A95",empty:"\u2205",epsi:"\u03B5",epsiv:"\u03F5",erDot:"\u2253",eta:"\u03B7",eth:"\xF0",flat:"\u266D",fork:"\u22D4",frown:"\u2322",gEl:"\u2A8C",gamma:"\u03B3",gap:"\u2A86",gimel:"\u2137",gnE:"\u2269",gnap:"\u2A8A",gne:"\u2A88",gnsim:"\u22E7",gt:">",gtdot:"\u22D7",harrw:"\u21AD",hbar:"\u210F",hellip:"\u2026",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",imath:"\u0131",infin:"\u221E",intcal:"\u22BA",iota:"\u03B9",jmath:"\u0237",kappa:"\u03BA",kappav:"\u03F0",lEg:"\u2A8B",lambda:"\u03BB",lap:"\u2A85",larrlp:"\u21AB",larrtl:"\u21A2",lbrace:"{",lbrack:"[",le:"\u2264",leftleftarrows:"\u21C7",leftthreetimes:"\u22CB",lessdot:"\u22D6",lmoust:"\u23B0",lnE:"\u2268",lnap:"\u2A89",lne:"\u2A87",lnsim:"\u22E6",longmapsto:"\u27FC",looparrowright:"\u21AC",lowast:"\u2217",loz:"\u25CA",lt:"<",ltimes:"\u22C9",ltri:"\u25C3",macr:"\xAF",malt:"\u2720",mho:"\u2127",mu:"\u03BC",multimap:"\u22B8",nLeftarrow:"\u21CD",nLeftrightarrow:"\u21CE",nRightarrow:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",natur:"\u266E",nearr:"\u2197",nharr:"\u21AE",nlarr:"\u219A",not:"\xAC",nrarr:"\u219B",nu:"\u03BD",nvDash:"\u22AD",nvdash:"\u22AC",nwarr:"\u2196",omega:"\u03C9",omicron:"\u03BF",or:"\u2228",osol:"\u2298",period:".",phi:"\u03C6",phiv:"\u03D5",pi:"\u03C0",piv:"\u03D6",prap:"\u2AB7",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",prime:"\u2032",psi:"\u03C8",quot:'"',rarrtl:"\u21A3",rbrace:"}",rbrack:"]",rho:"\u03C1",rhov:"\u03F1",rightrightarrows:"\u21C9",rightthreetimes:"\u22CC",ring:"\u02DA",rmoust:"\u23B1",rtimes:"\u22CA",rtri:"\u25B9",scap:"\u2AB8",scnE:"\u2AB6",scnap:"\u2ABA",scnsim:"\u22E9",sdot:"\u22C5",searr:"\u2198",sect:"\xA7",sharp:"\u266F",sigma:"\u03C3",sigmav:"\u03C2",simne:"\u2246",smile:"\u2323",spades:"\u2660",sub:"\u2282",subE:"\u2AC5",subnE:"\u2ACB",subne:"\u228A",supE:"\u2AC6",supnE:"\u2ACC",supne:"\u228B",swarr:"\u2199",tau:"\u03C4",theta:"\u03B8",thetav:"\u03D1",tilde:"\u02DC",times:"\xD7",triangle:"\u25B5",triangleq:"\u225C",upsi:"\u03C5",upuparrows:"\u21C8",veebar:"\u22BB",vellip:"\u22EE",weierp:"\u2118",xi:"\u03BE",yen:"\xA5",zeta:"\u03B6",zigrarr:"\u21DD",nbsp:"\xA0",rsquo:"\u2019",lsquo:"\u2018"},gu={};function dm(i,e){Object.assign(di,i),gu[e]=!0}function pm(i){delete di[i]}function f1(i){return i.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,mm)}function mm(i,e){if(e.charAt(0)==="#")return g1(e.slice(1));if(di[e])return di[e];if(m1.loadMissingEntities){const t=e.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e.charAt(0).toLowerCase();gu[t]||(gu[t]=!0,yn(hu("./util/entities/"+t+".js")))}return i}function g1(i){const e=i.charAt(0)==="x"?parseInt(i.slice(1),16):parseInt(i);return String.fromCodePoint(e)}class lr{get cssText(){return this.getStyleString()}constructor(e=null){this.styles={},this.addStyles(e)}addStyles(e){if(e)for(const t of Object.keys(e))this.styles[t]||(this.styles[t]={}),Object.assign(this.styles[t],e[t])}removeStyles(...e){for(const t of e)delete this.styles[t]}clear(){this.styles={}}getStyleString(){return this.getStyleRules().join(`

`)}getStyleRules(){const e=Object.keys(this.styles),t=new Array(e.length);let s=0;for(const r of e)t[s++]=r+` {
`+this.getStyleDefString(this.styles[r])+`
}`;return t}getStyleDefString(e){const t=Object.keys(e),s=new Array(t.length);let r=0;for(const n of t)s[r++]="  "+n+": "+e[n]+";";return s.join(`
`)}}const Gi=["top","right","bottom","left"],Ma=["width","style","color"];function bu(i){const e=i.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),t=[];for(;e.length>1;)e.shift(),t.push(e.shift());return t}function Fo(i){const e=bu(this.styles[i]);e.length===0&&e.push(""),e.length===1&&e.push(e[0]),e.length===2&&e.push(e[0]),e.length===3&&e.push(e[1]);for(const t of Nt.connect[i].children)this.setStyle(this.childName(i,t),e.shift())}const fm=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,gm=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function jo(i){const e={width:"",style:"",color:""};for(const t of bu(this.styles[i]))t.match(fm)&&e.width===""?e.width=t:t.match(gm)&&e.style===""?e.style=t:e.color=t;for(const t of Nt.connect[i].children)this.setStyle(this.childName(i,t),e[t])}function Uo(i){const e=[];for(const t of Nt.connect[i].children){const s=this.styles[this.childName(i,t)];s&&e.push(s)}e.length?this.styles[i]=e.join(" "):delete this.styles[i]}const b1={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[\\d.]+%|[\\d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$")};function bm(i,e){for(const t of Nt.connect[i].children){const s=this.childName(i,t);if(Array.isArray(e[t])){const r=e[t];r.length&&(this.styles[s]=r.join(" "))}else e[t]!==""&&(this.styles[s]=e[t])}}class Nt{constructor(e=""){this.parse(e)}sanitizeValue(e){const t=this.constructor.pattern;if(!e.match(t.sanitize))return e;const s=(e=e.replace(t.value,"$1")).replace(/\\./g,"").replace(/(['"]).*?\1/g,"").replace(/[^'"]/g,"");return s.length&&(e+=s.charAt(0)),e}get cssText(){var e,t;const s=[];for(const r of Object.keys(this.styles)){const n=this.parentName(r),a=r.replace(/.*-/,"");this.styles[n]&&(!((t=(e=Nt.connect[n])===null||e===void 0?void 0:e.children)===null||t===void 0)&&t.includes(a))||s.push(`${r}: ${this.styles[r]};`)}return s.join(" ")}get styleList(){return Object.assign({},this.styles)}set(e,t){var s,r;for(e=this.normalizeName(e),this.setStyle(e,String(t)),Nt.connect[e]&&!Nt.connect[e].combine&&(this.combineChildren(e),delete this.styles[e]);e.match(/-/);){const n=e;if(e=this.parentName(e),!Nt.connect[n]&&!(!((r=(s=Nt.connect[e])===null||s===void 0?void 0:s.children)===null||r===void 0)&&r.includes(n.substring(e.length+1))))break;Nt.connect[e].combine.call(this,e)}}get(e){return e=this.normalizeName(e),Object.hasOwn(this.styles,e)?this.styles[e]:""}setStyle(e,t){this.styles[e]=this.sanitizeValue(t),Nt.connect[e]&&Nt.connect[e].children&&Nt.connect[e].split.call(this,e),t===""&&delete this.styles[e]}combineChildren(e){const t=this.parentName(e);for(const s of Nt.connect[e].children){const r=this.childName(t,s);Nt.connect[r].combine.call(this,r)}}parentName(e){const t=e.replace(/-[^-]*$/,"");return e===t?"":t}childName(e,t){return t.match(/-/)?t:(Nt.connect[e]&&!Nt.connect[e].combine&&(t+=e.replace(/.*-/,"-"),e=this.parentName(e)),e+"-"+t)}normalizeName(e){return e.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))}parse(e=""){const t=this.constructor.pattern;this.styles={};const s=e.replace(/\n/g," ").replace(t.comment,"").split(t.style);for(;s.length>1;){const[r,n,a]=s.splice(0,3);if(r.match(/[^\s\n;]/))return;this.set(n,a)}}}function ur(i){return i.reduce(((e,t)=>e+t),0)}function qo(i){return i.reduce(((e,t)=>Math.max(e,t)),0)}if(Nt.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},Nt.connect={padding:{children:Gi,split:Fo,combine:function(i){const e=Nt.connect[i].children,t=[];for(const s of e){const r=this.styles[i+"-"+s];if(!r)return void delete this.styles[i];t.push(r)}t[3]===t[1]&&(t.pop(),t[2]===t[0]&&(t.pop(),t[1]===t[0]&&t.pop())),this.styles[i]=t.join(" ")}},border:{children:Gi,split:function(i){for(const e of Nt.connect[i].children)this.setStyle(this.childName(i,e),this.styles[i])},combine:function(i){const e=[...Nt.connect[i].children],t=this.styles[this.childName(i,e.shift())];for(const s of e)if(this.styles[this.childName(i,s)]!==t)return void delete this.styles[i];this.styles[i]=t}},"border-top":{children:Ma,split:jo,combine:Uo},"border-right":{children:Ma,split:jo,combine:Uo},"border-bottom":{children:Ma,split:jo,combine:Uo},"border-left":{children:Ma,split:jo,combine:Uo},"border-width":{children:Gi,split:Fo,combine:null},"border-style":{children:Gi,split:Fo,combine:null},"border-color":{children:Gi,split:Fo,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:function(i){const e=bu(this.styles[i]),t={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};for(const s of e){t.family||(t.family=s);for(const r of Object.keys(b1))if((Array.isArray(t[r])||t[r]==="")&&s.match(b1[r]))if(t.family===s&&(t.family=""),r==="size"){const[n,a]=s.split(/\//);t[r]=n,a&&(t["line-height"]=a)}else t.size===""&&(Array.isArray(t[r])?t[r].push(s):t[r]===""&&(t[r]=s))}bm.call(this,i,t),delete this.styles[i]},combine:function(i){}}},MathJax.loader&&MathJax.loader.checkVersion("core",Zs,"core"),Us({_:{adaptors:{HTMLAdaptor:Et,browserAdaptor:Pe},components:{global:ke},core:{DOMAdaptor:Fe,FindMath:H,Handler:$s,HandlerList:ot,InputJax:D,MathDocument:$t,MathItem:pt,MathList:dt,MmlTree:{Attributes:Dt,MML:ys,MathMLVisitor:We,MmlFactory:Oe,MmlNode:Rt,MmlNodes:{HtmlNode:xs,TeXAtom:Ce,maction:Be,maligngroup:Rs,malignmark:xe,math:z,mathchoice:Ws,menclose:Xe,merror:_e,mfenced:At,mfrac:ge,mglyph:ps,mi:le,mmultiscripts:xt,mn:R,mo:re,mpadded:Ct,mphantom:qe,mroot:Q,mrow:oe,ms:me,mspace:X,msqrt:Ee,mstyle:Ue,msubsup:Pt,mtable:yt,mtd:ds,mtext:pe,mtr:as,munderover:Tt,semantics:os},MmlVisitor:te,OperatorDictionary:j,SerializedMmlVisitor:Lt},OutputJax:ze,Tree:{Factory:tt,Node:Ht,NodeFactory:hs,Visitor:Wt,Wrapper:Ve,WrapperFactory:mt}},handlers:{html_ts:yi,html:{HTMLDocument:ai,HTMLDomStrings:ni,HTMLHandler:Yt,HTMLMathItem:Fs,HTMLMathList:_s}},mathjax:Ns,util:{AsyncLoad:vs,BBox:oi,BitField:Je,Entities:qi,FunctionList:F,LinkedList:J,Options:ee,PrioritizedList:$,Retries:ms,StyleJson:Ni,Styles:Ke,context:M,lengths:zs,numeric:Qt,string:Y}}}),MathJax.startup&&(MathJax.startup.registerConstructor("HTMLHandler",uu),MathJax.startup.registerConstructor("browserAdaptor",zd),MathJax.startup.useHandler("HTMLHandler"),MathJax.startup.useAdaptor("browserAdaptor")),MathJax.loader){const i=MathJax.config.loader;MathJax._.mathjax.mathjax.asyncLoad=e=>e.substring(0,5)==="node:"?i.require(e):MathJax.loader.load(e).then((t=>t[0]))}class Ho extends xo{constructor(e){super(e),this.getPatterns()}getPatterns(){const e=this.options,t=[],s=[],r=[];this.end={},this.env=this.sub=0;let n=1;e.inlineMath.forEach((a=>this.addPattern(t,a,!1))),e.displayMath.forEach((a=>this.addPattern(t,a,!0))),t.length&&s.push(t.sort(Qd).join("|")),e.processEnvironments&&(s.push("\\\\begin\\s*\\{([^}]*)\\}"),this.env=n,n++),e.processEscapes&&r.push("\\\\([\\\\$])"),e.processRefs&&r.push("(\\\\(?:eq)?ref\\s*\\{[^}]*\\})"),r.length&&(s.push("("+r.join("|")+")"),this.sub=n),this.start=new RegExp(s.join("|"),"g"),this.hasPatterns=s.length>0}addPattern(e,t,s){const[r,n]=t;e.push(Co(r)),this.end[r]=[n,s,this.endPattern(n)]}endPattern(e,t){return new RegExp((t||Co(e))+"|\\\\(?:[a-zA-Z]|.)|[{}]","g")}findEnd(e,t,s,r){const[n,a,o]=r,l=o.lastIndex=s.index+s[0].length;let h,d=0;for(;h=o.exec(e);){if((h[1]||h[0])===n&&d===0)return No(s[0],e.substring(l,h.index),h[0],t,s.index,h.index+h[0].length,a);h[0]==="{"?d++:h[0]==="}"&&d&&d--}return null}findMathInString(e,t,s){let r,n;for(this.start.lastIndex=0;r=this.start.exec(s);){if(r[this.env]!==void 0&&this.env){const a="\\\\end\\s*(\\{"+Co(r[this.env])+"\\})";n=this.findEnd(s,t,r,["{"+r[this.env]+"}",!0,this.endPattern(null,a)]),n&&(n.math=n.open+n.math+n.close,n.open=n.close="")}else if(r[this.sub]!==void 0&&this.sub){const a=r[this.sub],o=r.index+r[this.sub].length;n=a.length===2?No("\\",a.substring(1),"",t,r.index,o):No("",a,"",t,r.index,o,!1)}else n=this.findEnd(s,t,r,this.end[r[0]]);n&&(e.push(n),this.start.lastIndex=n.end.n)}}findMath(e){const t=[];if(this.hasPatterns)for(let s=0,r=e.length;s<r;s++)this.findMathInString(t,s,e[s]);return t}}Ho.OPTIONS={inlineMath:[["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,processRefs:!0};const E1={attrs:new Set(["autoOP","fnOP","movesupsub","subsupOK","texprimestyle","useHeight","variantForm","withDelims","mathaccent","open","close"]),createEntity:i=>String.fromCodePoint(parseInt(i,16)),getChildren:i=>i.childNodes,getText:i=>i.getText(),appendChildren(i,e){for(const t of e)i.appendChild(t)},setAttribute(i,e,t){i.attributes.set(e,t)},setProperty(i,e,t){i.setProperty(e,t)},setProperties(i,e){for(const t of Object.keys(e)){const s=e[t];t==="texClass"?(i.texClass=s,i.setProperty(t,s)):t==="movablelimits"?(i.setProperty("movablelimits",s),(i.isKind("mo")||i.isKind("mstyle"))&&i.attributes.set("movablelimits",s)):t==="inferred"||(E1.attrs.has(t)?i.setProperty(t,s):i.attributes.set(t,s))}},getProperty:(i,e)=>i.getProperty(e),getAttribute:(i,e)=>i.attributes.get(e),removeAttribute(i,e){i.attributes.unset(e)},removeProperties(i,...e){i.removeProperty(...e)},getChildAt:(i,e)=>i.childNodes[e],setChild(i,e,t){i.childNodes[e]=t,t&&(t.parent=i)},copyChildren(i,e){const t=i.childNodes;for(let s=0;s<t.length;s++)this.setChild(e,s,t[s])},copyAttributes(i,e){e.attributes=i.attributes,this.setProperties(e,i.getAllProperties())},isType:(i,e)=>i.isKind(e),isEmbellished:i=>i.isEmbellished,getTexClass:i=>i.texClass,getCoreMO:i=>i.coreMO(),isNode:i=>i instanceof Le||i instanceof vo,isInferred:i=>i.isInferred,getForm(i){if(!i.isKind("mo"))return null;const e=i,t=e.getForms();for(const s of t){const r=this.getOp(e,s);if(r)return r}return null},getOp:(i,e="infix")=>As.OPTABLE[e][i.getText()]||null,getMoAttribute(i,e){var t,s;if(!i.attributes.isSet(e))for(const r of["infix","postfix","prefix"]){const n=(s=(t=this.getOp(i,r))===null||t===void 0?void 0:t[3])===null||s===void 0?void 0:s[e];if(n!==void 0)return n}return i.attributes.get(e)}},w=E1;function Em(i,e,t){const s=e.attributes,r=t.attributes;i.forEach((n=>{const a=r.getExplicit(n);a!=null&&s.set(n,a)}))}function xm(i,e){const t=(o,l)=>o.getExplicitNames().filter((h=>h!==l&&(h!=="stretchy"||o.getExplicit("stretchy"))&&h!=="data-latex"&&h!=="data-latex-item")),s=i.attributes,r=e.attributes,n=t(s,"lspace"),a=t(r,"rspace");if(n.length!==a.length)return!1;for(const o of n)if(s.getExplicit(o)!==r.getExplicit(o))return!1;return!0}function x1(i,e,t){const s=[];for(const r of i.getList("m"+e+t)){const n=r.childNodes;if(n[r[e]]&&n[r[t]])continue;const a=r.parent,o=n[r[e]]?i.nodeFactory.create("node","m"+e,[n[r.base],n[r[e]]]):i.nodeFactory.create("node","m"+t,[n[r.base],n[r[t]]]);w.copyAttributes(r,o),a.replaceChild(o,r),s.push(r)}i.removeFromList("m"+e+t,s)}function Eu(i,e,t){const s=[];for(const r of i.getList(e)){if(r.attributes.get("displaystyle"))continue;const n=r.childNodes[r.base],a=n.coreMO();if(n.getProperty("movablelimits")&&!a.attributes.hasExplicit("movablelimits")){const o=i.nodeFactory.create("node",t,r.childNodes);w.copyAttributes(r,o),r.parent.replaceChild(o,r),s.push(r)}}i.removeFromList(e,s)}const ym={cleanStretchy(i){const e=i.data;for(const t of e.getList("fixStretchy"))if(w.getProperty(t,"fixStretchy")){const s=w.getForm(t);s&&s[3]&&s[3].stretchy&&w.setAttribute(t,"stretchy",!1);const r=t.parent;if(!(w.getTexClass(t)||s&&s[2])){const n=e.nodeFactory.create("node","TeXAtom",[t]);r.replaceChild(n,t),n.inheritAttributesFrom(t)}w.removeProperties(t,"fixStretchy")}},cleanAttributes(i){i.data.root.walkTree(((e,t)=>{const s=e.attributes,r=new Set((s.get("mjx-keep-attrs")||"").split(/ /));s.unset("mjx-keep-attrs");for(const n of s.getExplicitNames())r.has(n)||s.get(n)!==e.attributes.getInherited(n)||s.unset(n)}),{})},combineRelations(i){const e=[];for(const t of i.data.getList("mo")){if(t.getProperty("relationsCombined")||!t.parent||t.parent&&!w.isType(t.parent,"mrow")||w.getTexClass(t)!==T.REL)continue;let s;const r=t.parent.childNodes,n=r.indexOf(t)+1,a=w.getProperty(t,"variantForm");for(;n<r.length&&(s=r[n])&&w.isType(s,"mo")&&w.getTexClass(s)===T.REL;){if(a!==w.getProperty(s,"variantForm")||!xm(t,s)){t.attributes.hasExplicit("rspace")||w.setAttribute(t,"rspace","0pt"),s.attributes.hasExplicit("lspace")||w.setAttribute(s,"lspace","0pt");break}w.appendChildren(t,w.getChildren(s)),Em(["stretchy","rspace"],t,s);for(const o of s.getPropertyNames())t.setProperty(o,s.getProperty(o));s.attributes.get("data-latex")&&t.attributes.set("data-latex",t.attributes.get("data-latex")+s.attributes.get("data-latex")),r.splice(n,1),e.push(s),s.parent=null,s.setProperty("relationsCombined",!0),t.setProperty("texClass",T.REL)}t.attributes.setInherited("form",t.getForms()[0])}i.data.removeFromList("mo",e)},cleanSubSup(i){const e=i.data;e.error||(x1(e,"sub","sup"),x1(e,"under","over"))},moveLimits(i){const e=i.data;Eu(e,"munderover","msubsup"),Eu(e,"munder","msub"),Eu(e,"mover","msup")},setInherited(i){i.data.root.setInheritedAttributes({},i.math.display,0,!1)},checkScriptlevel(i){const e=i.data,t=[];for(const s of e.getList("mstyle")){if(s.childNodes[0].childNodes.length!==1)continue;const r=s.attributes;for(const a of["displaystyle","scriptlevel"])r.getExplicit(a)===r.getInherited(a)&&r.unset(a);const n=r.getExplicitNames();if(n.filter((a=>a.substring(0,10)!=="data-latex")).length===0){const a=s.childNodes[0].childNodes[0];n.forEach((o=>a.attributes.set(o,r.get(o)))),s.parent.replaceChild(a,s),t.push(s)}}e.removeFromList("mstyle",t)}},hr=ym;var Ae,Te;(function(i){i.HANDLER="handler",i.FALLBACK="fallback",i.ITEMS="items",i.TAGS="tags",i.OPTIONS="options",i.NODES="nodes",i.PREPROCESSORS="preprocessors",i.POSTPROCESSORS="postprocessors",i.INIT="init",i.CONFIG="config",i.PRIORITY="priority",i.PARSER="parser"})(Ae||(Ae={})),(function(i){i.DELIMITER="delimiter",i.MACRO="macro",i.CHARACTER="character",i.ENVIRONMENT="environment"})(Te||(Te={}));const xu=7.2,$e={UNIT_CASES:new class{constructor(i){this.num="([-+]?([.,]\\d+|\\d+([.,]\\d*)?))",this.unit="",this.dimenEnd=/./,this.dimenRest=/./,this.map=new Map(i),this.updateDimen()}updateDimen(){this.unit=`(${Array.from(this.map.keys()).join("|")})`,this.dimenEnd=RegExp("^\\s*"+this.num+"\\s*"+this.unit+"\\s*$"),this.dimenRest=RegExp("^\\s*"+this.num+"\\s*"+this.unit+" ?")}set(i,e){return this.map.set(i,e),this.updateDimen(),this}get(i){return this.map.get(i)||this.map.get("pt")}delete(i){return!!this.map.delete(i)&&(this.updateDimen(),!0)}}([["em",1],["ex",.43],["pt",.1],["pc",1.2],["px",.1],["in",xu],["cm",xu/2.54],["mm",xu/25.4],["mu",1/18]]),matchDimen(i,e=!1){const t=i.match(e?$e.UNIT_CASES.dimenRest:$e.UNIT_CASES.dimenEnd);return t?(function([s,r,n]){return r!=="mu"?[s,r,n]:[$e.em($e.UNIT_CASES.get(r)*parseFloat(s)).slice(0,-2),"em",n]})([t[1].replace(/,/,"."),t[4],t[0].length]):[null,null,0]},dimen2em(i){const[e,t]=$e.matchDimen(i),s=parseFloat(e||"1");return $e.UNIT_CASES.get(t)*s},em:i=>Math.abs(i)<6e-4?"0em":i.toFixed(3).replace(/\.?0+$/,"")+"em",trimSpaces(i){if(typeof i!="string")return i;let e=i.trim();return e.match(/\\$/)&&i.match(/ $/)&&(e+=" "),e}};class y1{constructor(e,t,s){this._factory=e,this._env=t,this.global={},this.stack=[],this.global={isInner:s},this.stack=[this._factory.create("start",this.global)],t&&(this.stack[0].env=t),this.env=this.stack[0].env}set env(e){this._env=e}get env(){return this._env}Push(...e){for(const t of e){if(!t)continue;const s=w.isNode(t)?this._factory.create("mml",t):t;s.global=this.global;const[r,n]=this.stack.length?this.Top().checkItem(s):[null,!0];n&&(r?(this.Pop(),this.Push(...r)):(s.isKind("null")||this.stack.push(s),s.env?(s.copyEnv&&Object.assign(s.env,this.env),this.env=s.env):s.env=this.env))}}Pop(){const e=this.stack.pop();return e.isOpen||delete e.env,this.env=this.stack.length?this.Top().env:{},e}Top(e=1){return this.stack.length<e?null:this.stack[this.stack.length-e]}Prev(e){const t=this.Top();return e?t.First:t.Pop()}get height(){return this.stack.length}toString(){return`stack[
  `+this.stack.join(`
  `)+`
]`}}class Sa{static processString(e,t){const s=e.split(Sa.pattern);for(let r=1,n=s.length;r<n;r+=2){let a=s[r].charAt(0);a>="0"&&a<="9"?(s[r]=t[parseInt(s[r],10)-1],typeof s[r]=="number"&&(s[r]=s[r].toString())):a==="{"&&(a=s[r].substring(1),a>="0"&&a<="9"?(s[r]=t[parseInt(s[r].substring(1,s[r].length-1),10)-1],typeof s[r]=="number"&&(s[r]=s[r].toString())):s[r].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/)&&(s[r]="%"+s[r]))}return s.join("")}constructor(e,t,...s){this.id=e,this.message=Sa.processString(t,s)}}Sa.pattern=/%(\d+|\{\d+\}|\{[a-z]+:%\d+(?:\|(?:%\{\d+\}|%.|[^}])*)+\}|.)/g;const q=Sa;class N1{constructor(e){this._nodes=e,this.startStr="",this.startI=0,this.stopI=0}get nodes(){return this._nodes}Push(...e){this._nodes.push(...e)}Pop(){return this._nodes.pop()}get First(){return this._nodes[this.Size()-1]}set First(e){this._nodes[this.Size()-1]=e}get Last(){return this._nodes[0]}set Last(e){this._nodes[0]=e}Peek(e){return e==null&&(e=1),this._nodes.slice(this.Size()-e)}Size(){return this._nodes.length}Clear(){this._nodes=[]}toMml(e=!0,t){return this._nodes.length!==1||t?this.create("node",e?"inferredMrow":"mrow",this._nodes,{}):this.First}create(e,...t){return this.factory.configuration.nodeFactory.create(e,...t)}}class Ie extends N1{constructor(e,...t){super(t),this.factory=e,this.global={},this._properties={},this.isOpen&&(this._env={})}get kind(){return"base"}get env(){return this._env}set env(e){this._env=e}get copyEnv(){return!0}getProperty(e){return this._properties[e]}setProperty(e,t){return this._properties[e]=t,this}get isOpen(){return!1}get isClose(){return!1}get isFinal(){return!1}isKind(e){return e===this.kind}checkItem(e){if(e.isKind("over")&&this.isOpen&&(e.setProperty("num",this.toMml(!1)),this.Clear()),e.isKind("cell")&&this.isOpen){if(e.getProperty("linebreak"))return Ie.fail;throw new q("Misplaced","Misplaced %1",e.getName())}if(e.isClose&&this.getErrors(e.kind)){const[t,s]=this.getErrors(e.kind);throw new q(t,s,e.getName())}return e.isFinal?(this.Push(e.First),Ie.fail):Ie.success}clearEnv(){for(const e of Object.keys(this.env))delete this.env[e]}setProperties(e){return Object.assign(this._properties,e),this}getName(){return this.getProperty("name")}toString(){return this.kind+"["+this.nodes.join("; ")+"]"}getErrors(e){return this.constructor.errors[e]||Ie.errors[e]}}Ie.fail=[null,!1],Ie.success=[null,!0],Ie.errors={end:["MissingBeginExtraEnd","Missing \\begin{%1} or extra \\end{%1}"],close:["ExtraCloseMissingOpen","Extra close brace or missing open brace"],right:["MissingLeftExtraRight","Missing \\left or extra \\right"],middle:["ExtraMiddle","Extra \\middle"]};const Ne={Variant:{NORMAL:"normal",BOLD:"bold",ITALIC:"italic",BOLDITALIC:"bold-italic",DOUBLESTRUCK:"double-struck",FRAKTUR:"fraktur",BOLDFRAKTUR:"bold-fraktur",SCRIPT:"script",BOLDSCRIPT:"bold-script",SANSSERIF:"sans-serif",BOLDSANSSERIF:"bold-sans-serif",SANSSERIFITALIC:"sans-serif-italic",SANSSERIFBOLDITALIC:"sans-serif-bold-italic",MONOSPACE:"monospace",INITIAL:"inital",TAILED:"tailed",LOOPED:"looped",STRETCHED:"stretched",CALLIGRAPHIC:"-tex-calligraphic",BOLDCALLIGRAPHIC:"-tex-bold-calligraphic",OLDSTYLE:"-tex-oldstyle",BOLDOLDSTYLE:"-tex-bold-oldstyle",MATHITALIC:"-tex-mathit"},Form:{PREFIX:"prefix",INFIX:"infix",POSTFIX:"postfix"},LineBreak:{AUTO:"auto",NEWLINE:"newline",NOBREAK:"nobreak",GOODBREAK:"goodbreak",BADBREAK:"badbreak"},LineBreakStyle:{BEFORE:"before",AFTER:"after",DUPLICATE:"duplicate",INFIXLINBREAKSTYLE:"infixlinebreakstyle"},IndentAlign:{LEFT:"left",CENTER:"center",RIGHT:"right",AUTO:"auto",ID:"id",INDENTALIGN:"indentalign"},IndentShift:{INDENTSHIFT:"indentshift"},LineThickness:{THIN:"thin",MEDIUM:"medium",THICK:"thick"},Notation:{LONGDIV:"longdiv",ACTUARIAL:"actuarial",PHASORANGLE:"phasorangle",RADICAL:"radical",BOX:"box",ROUNDEDBOX:"roundedbox",CIRCLE:"circle",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",UPDIAGONALSTRIKE:"updiagonalstrike",DOWNDIAGONALSTRIKE:"downdiagonalstrike",VERTICALSTRIKE:"verticalstrike",HORIZONTALSTRIKE:"horizontalstrike",NORTHEASTARROW:"northeastarrow",MADRUWB:"madruwb",UPDIAGONALARROW:"updiagonalarrow"},Align:{TOP:"top",BOTTOM:"bottom",CENTER:"center",BASELINE:"baseline",AXIS:"axis",LEFT:"left",RIGHT:"right"},Lines:{NONE:"none",SOLID:"solid",DASHED:"dashed"},Side:{LEFT:"left",RIGHT:"right",LEFTOVERLAP:"leftoverlap",RIGHTOVERLAP:"rightoverlap"},Width:{AUTO:"auto",FIT:"fit"},Actiontype:{TOGGLE:"toggle",STATUSLINE:"statusline",TOOLTIP:"tooltip",INPUT:"input"},Overflow:{LINBREAK:"linebreak",SCROLL:"scroll",ELIDE:"elide",TRUNCATE:"truncate",SCALE:"scale"},Unit:{EM:"em",EX:"ex",PX:"px",IN:"in",CM:"cm",MM:"mm",PT:"pt",PC:"pc"},Attr:{LATEX:"data-latex",LATEXITEM:"data-latex-item"}};class Xt{constructor(e,t,s){this._string=e,this.configuration=s,this.macroCount=0,this.i=0,this.currentCS="",this.saveI=0;const r=Object.hasOwn(t,"isInner"),n=t.isInner;let a;if(delete t.isInner,t){a={};for(const o of Object.keys(t))a[o]=t[o]}this.configuration.pushParser(this),this.stack=new y1(this.itemFactory,a,!r||n),this.Parse(),this.Push(this.itemFactory.create("stop")),this.updateResult(this.string,this.i),this.stack.env=a}get options(){return this.configuration.options}get itemFactory(){return this.configuration.itemFactory}get tags(){return this.configuration.tags}set string(e){this._string=e}get string(){return this._string}parse(e,t){const s=this.saveI;this.saveI=this.i;const r=this.configuration.handlers.get(e).parse(t);return this.updateResult(t[1],s),this.saveI=s,r}lookup(e,t){return this.configuration.handlers.get(e).lookup(t)}contains(e,t){return this.configuration.handlers.get(e).contains(t)}toString(){let e="";for(const t of Array.from(this.configuration.handlers.keys()))e+=t+": "+this.configuration.handlers.get(t)+`
`;return e}Parse(){let e;for(;this.i<this.string.length;)e=this.getCodePoint(),this.i+=e.length,this.parse(Te.CHARACTER,[this,e])}Push(e){e instanceof Ie&&(e.startI=this.saveI,e.stopI=this.i,e.startStr=this.string),e instanceof Le&&e.isInferred?this.PushAll(e.childNodes):this.stack.Push(e)}PushAll(e){for(const t of e)this.stack.Push(t)}mml(){if(!this.stack.Top().isKind("mml"))return null;const e=this.stack.Top().First;return this.configuration.popParser(),e.attributes.set(Ne.Attr.LATEX,this.string),e}convertDelimiter(e){var t;const s=this.lookup(Te.DELIMITER,e);return(t=s==null?void 0:s.char)!==null&&t!==void 0?t:null}getCodePoint(){const e=this.string.codePointAt(this.i);return e===void 0?"":String.fromCodePoint(e)}nextIsSpace(){return!!this.string.charAt(this.i).match(/\s/)}GetNext(){for(;this.nextIsSpace();)this.i++;return this.getCodePoint()}GetCS(){const e=this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);return e?(this.i+=e[0].length,e[2]||e[1]):(this.i++," ")}GetArgument(e,t=!1){switch(this.GetNext()){case"":if(!t)throw new q("MissingArgFor","Missing argument for %1",this.currentCS);return null;case"}":if(!t)throw new q("ExtraCloseMissingOpen","Extra close brace or missing open brace");return null;case"\\":return this.i++,"\\"+this.GetCS();case"{":{const r=++this.i;let n=1;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"\\":this.i++;break;case"{":n++;break;case"}":if(--n===0)return this.string.slice(r,this.i-1)}throw new q("MissingCloseBrace","Missing close brace")}}const s=this.getCodePoint();return this.i+=s.length,s}GetBrackets(e,t,s=!1){if(this.GetNext()!=="[")return t;const r=++this.i;let n=0,a=0;for(;this.i<this.string.length;)switch(this.string.charAt(this.i++)){case"{":n++;break;case"\\":this.i++;break;case"}":if(n--<=0)throw new q("ExtraCloseLooking","Extra close brace while looking for %1","']'");break;case"[":n===0&&a++;break;case"]":if(n===0){if(!s||a===0)return this.string.slice(r,this.i-1);a--}}throw new q("MissingCloseBracket","Could not find closing ']' for argument to %1",this.currentCS)}GetDelimiter(e,t=!1){let s=this.GetNext();if(this.i+=s.length,this.i<=this.string.length&&(s==="\\"?s+=this.GetCS():s==="{"&&t&&(this.i--,s=this.GetArgument(e).trim()),this.contains(Te.DELIMITER,s)))return this.convertDelimiter(s);throw new q("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetDimen(e){if(this.GetNext()==="{"){const t=this.GetArgument(e),[s,r]=$e.matchDimen(t);if(s)return s+r}else{const t=this.string.slice(this.i),[s,r,n]=$e.matchDimen(t,!0);if(s)return this.i+=n,s+r}throw new q("MissingDimOrUnits","Missing dimension or its units for %1",this.currentCS)}GetUpTo(e,t){for(;this.nextIsSpace();)this.i++;const s=this.i;let r=0;for(;this.i<this.string.length;){const n=this.i;let a=this.GetNext();switch(this.i+=a.length,a){case"\\":a+=this.GetCS();break;case"{":r++;break;case"}":if(r===0)throw new q("ExtraCloseLooking","Extra close brace while looking for %1",t);r--}if(r===0&&a===t)return this.string.slice(s,n)}throw new q("TokenNotFoundForCommand","Could not find %1 for %2",t,this.currentCS)}ParseArg(e){return new Xt(this.GetArgument(e),this.stack.env,this.configuration).mml()}ParseUpTo(e,t){return new Xt(this.GetUpTo(e,t),this.stack.env,this.configuration).mml()}GetDelimiterArg(e){const t=$e.trimSpaces(this.GetArgument(e));if(t==="")return null;if(this.contains(Te.DELIMITER,t))return t;throw new q("MissingOrUnrecognizedDelim","Missing or unrecognized delimiter for %1",this.currentCS)}GetStar(){const e=this.GetNext()==="*";return e&&this.i++,e}create(e,...t){const s=this.configuration.nodeFactory.create(e,...t);return s.isToken&&s.attributes.hasExplicit("mathvariant")&&s.attributes.get("mathvariant").charAt(0)==="-"&&s.setProperty("ignore-variant",!0),s}updateResult(e,t){const s=this.stack.Prev(!0);if(!s)return;const r=s.attributes.get(Ne.Attr.LATEXITEM);if(r!==void 0)return void s.attributes.set(Ne.Attr.LATEX,r);let n=(t=t<this.saveI?this.saveI:t)!==this.i?this.string.slice(t,this.i):e;if(n=n.trim(),n)if(e==="\\"&&(n="\\"+n),s.attributes.get(Ne.Attr.LATEX)!=="^"||n==="^"||n==="\\^")if(s.attributes.get(Ne.Attr.LATEX)!=="_"||n==="_"||n==="\\_")n!=="}"?s.attributes.set(Ne.Attr.LATEX,n):this.composeBraces(s);else if(s.childNodes[1]&&(n==="}"?this.composeBraces(s.childNodes[1]):s.childNodes[1].attributes.set(Ne.Attr.LATEX,n)),s.childNodes[2]){const a=s.childNodes[2].attributes.get(Ne.Attr.LATEX);this.composeLatex(s,`^${a}_`,0,1)}else this.composeLatex(s,"_",0,1);else if(s.childNodes[2]&&(n==="}"?this.composeBraces(s.childNodes[2]):s.childNodes[2].attributes.set(Ne.Attr.LATEX,n)),s.childNodes[1]){const a=s.childNodes[1].attributes.get(Ne.Attr.LATEX);this.composeLatex(s,`_${a}^`,0,2)}else this.composeLatex(s,"^",0,2)}composeLatex(e,t,s,r){if(!e.childNodes[s]||!e.childNodes[r])return;const n=(e.childNodes[s].attributes.get(Ne.Attr.LATEX)||"")+t+e.childNodes[r].attributes.get(Ne.Attr.LATEX);e.attributes.set(Ne.Attr.LATEX,n)}composeBraces(e){const t=this.composeBracedContent(e);e.attributes.set(Ne.Attr.LATEX,`{${t}}`)}composeBracedContent(e){var t,s;const r=((t=e.childNodes[0])===null||t===void 0?void 0:t.childNodes)||[];let n="";for(const a of r){const o=((s=a==null?void 0:a.attributes)===null||s===void 0?void 0:s.get(Ne.Attr.LATEX))||"";o&&(n+=n&&n.match(/[a-zA-Z]$/)&&o.match(/^[a-zA-Z]/)?" "+o:o)}return n}}class v1 extends Ie{}class C1 extends ra{constructor(){super(...arguments),this.defaultKind="dummy",this.configuration=null}}C1.DefaultStackItems={[v1.prototype.kind]:v1};const T1=C1;class Dr{constructor(){this.mmlFactory=null,this.factory={node:Dr.createNode,token:Dr.createToken,text:Dr.createText,error:Dr.createError}}static createNode(e,t,s=[],r={},n){const a=e.mmlFactory.create(t);return a.setChildren(s),n&&a.appendChild(n),w.setProperties(a,r),a}static createToken(e,t,s={},r=""){const n=e.create("text",r);return e.create("node",t,[],s,n)}static createText(e,t){return t==null?null:e.mmlFactory.create("text").setText(t)}static createError(e,t){const s=e.create("text",t),r=e.create("node","mtext",[],{},s);return e.create("node","merror",[r],{"data-mjx-error":t})}setMmlFactory(e){this.mmlFactory=e}set(e,t){this.factory[e]=t}setCreators(e){for(const t in e)this.set(t,e[t])}create(e,...t){const s=(this.factory[e]||this.factory.node)(this,t[0],...t.slice(1));return e==="node"&&this.configuration.addNode(t[0],s),s}get(e){return this.factory[e]}}class Pr{static oneof(...e){return new this("string",(t=>e.includes(t)),(t=>t))}constructor(e,t,s){this.name=e,this.verify=t,this.convert=s}}const Nm={boolean:new Pr("boolean",(i=>i==="true"||i==="false"),(i=>i==="true")),number:new Pr("number",(i=>!!i.match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[-+]?\d+)?$/)),(i=>parseFloat(i))),integer:new Pr("integer",(i=>!!i.match(/^[-+]?\d+$/)),(i=>parseInt(i))),string:new Pr("string",(i=>!0),(i=>i)),dimen:new Pr("dimen",(i=>$e.matchDimen(i)[0]!==null),(i=>i))};function yu(i,e){if(e===0)return i.replace(/^\s+/,"").replace(/([^\\\s]|^)((?:\\\\)*(?:\\\s)?)?\s+$/,"$1$2");for(;e>0;)i=i.trim().slice(1,-1),e--;return i}function w1(i,e,t=!1,s=!1){const r=i.length;let n=0,a="",o=0,l=0,h=!0;for(;o<r;){const d=i[o++];switch(d){case"\\":a+=d+(i[o++]||""),h=!1;continue;case" ":break;case"{":h&&l++,n++;break;case"}":if(!n)throw new q("ExtraCloseMissingOpen","Extra close brace or missing open brace");n--,h=!1;break;default:if(!n&&e.includes(d))return[yu(a,t?Math.min(1,l):l),d,i.slice(o)];l>n&&(l=n),h=!1}a+=d}if(n)throw new q("ExtraOpenMissingClose","Extra open brace or missing close brace");return s&&l?["","",yu(a,1)]:[yu(a,t?Math.min(1,l):l),"",i.slice(o)]}const ce={cols:(...i)=>i.map((e=>$e.em(e))).join(" "),fenced(i,e,t,s,r="",n=""){const a=i.nodeFactory,o=a.create("node","mrow",[],{open:e,close:s,texClass:T.INNER});let l;if(r)l=new Xt("\\"+r+"l"+e,i.parser.stack.env,i).mml();else{const h=a.create("text",e);l=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:T.OPEN},h)}if(w.appendChildren(o,[l,t]),r)l=new Xt("\\"+r+"r"+s,i.parser.stack.env,i).mml();else{const h=a.create("text",s);l=a.create("node","mo",[],{fence:!0,stretchy:!0,symmetric:!0,texClass:T.CLOSE},h)}return n&&l.attributes.set("mathcolor",n),w.appendChildren(o,[l]),o},fixedFence(i,e,t,s){const r=i.nodeFactory.create("node","mrow",[],{open:e,close:s,texClass:T.ORD});return e&&w.appendChildren(r,[ce.mathPalette(i,e,"l")]),w.isType(t,"mrow")?w.appendChildren(r,w.getChildren(t)):w.appendChildren(r,[t]),s&&w.appendChildren(r,[ce.mathPalette(i,s,"r")]),r},mathPalette(i,e,t){e!=="{"&&e!=="}"||(e="\\"+e);const s="{\\big"+t+" "+e+"}";return new Xt("\\mathchoice"+("{\\bigg"+t+" "+e+"}")+s+s+s,{},i).mml()},fixInitialMO(i,e){for(let t=0,s=e.length;t<s;t++){const r=e[t];if(r&&!w.isType(r,"mspace")&&(!w.isType(r,"TeXAtom")||w.getChildren(r)[0]&&w.getChildren(w.getChildren(r)[0]).length)){if(w.isEmbellished(r)||w.isType(r,"TeXAtom")&&w.getTexClass(r)===T.REL){const n=i.nodeFactory.create("node","mi");e.unshift(n)}break}}},internalMath(i,e,t,s){if(e=e.replace(/ +/g," "),i.configuration.options.internalMath)return i.configuration.options.internalMath(i,e,t,s);const r=s||i.stack.env.font,n=r?{mathvariant:r}:{};let a,o,l=[],h=0,d=0,x="",k=0;if(e.match(/\\?[${}\\]|\\\(|\\(?:eq)?ref\s*\{|\\U/)){for(;h<e.length;)if(a=e.charAt(h++),a==="$")x==="$"&&k===0?(o=i.create("node","TeXAtom",[new Xt(e.slice(d,h-1),{},i.configuration).mml()]),l.push(o),x="",d=h):x===""&&(d<h-1&&l.push(ce.internalText(i,e.slice(d,h-1),n)),x="$",d=h);else if(a==="{"&&x!=="")k++;else if(a==="}")if(x==="}"&&k===0){const I=new Xt(e.slice(d,h),{},i.configuration).mml();o=i.create("node","TeXAtom",[I],n),l.push(o),x="",d=h}else x!==""&&k&&k--;else if(a==="\\"){if(x===""&&e.substring(h).match(/^(eq)?ref\s*\{/)){const I=RegExp["$&"].length;d<h-1&&l.push(ce.internalText(i,e.slice(d,h-1),n)),x="}",d=h-1,h+=I}else if(a=e.charAt(h++),a==="("&&x==="")d<h-2&&l.push(ce.internalText(i,e.slice(d,h-2),n)),x=")",d=h;else if(a===")"&&x===")"&&k===0)o=i.create("node","TeXAtom",[new Xt(e.slice(d,h-2),{},i.configuration).mml()]),l.push(o),x="",d=h;else if(a.match(/[${}\\]/)&&x==="")h--,e=e.substring(0,h-1)+e.substring(h);else if(a==="U"){const I=e.substring(h).match(/^\s*(?:([0-9A-F])|\{\s*([0-9A-F]+)\s*\})/);if(!I)throw new q("BadRawUnicode","Argument to %1 must a hexadecimal number with 1 to 6 digits","\\U");const G=String.fromCodePoint(parseInt(I[1]||I[2],16));e=e.substring(0,h-2)+G+e.substring(h+I[0].length),h=h-2+G.length}}if(x!=="")throw new q("MathNotTerminated","Math mode is not properly terminated")}return d<e.length&&l.push(ce.internalText(i,e.slice(d),n)),t!=null?l=[i.create("node","mstyle",l,{displaystyle:!1,scriptlevel:t})]:l.length>1&&(l=[i.create("node","mrow",l)]),l},internalText(i,e,t){e=e.replace(/\n+/g," ").replace(/^ +/,di.nbsp).replace(/ +$/,di.nbsp);const s=i.create("text",e);return i.create("node","mtext",[],t,s)},underOver(i,e,t,s,r){if(ce.checkMovableLimits(e),w.isType(e,"munderover")&&w.isEmbellished(e)){w.setProperties(w.getCoreMO(e),{lspace:0,rspace:0});const o=i.create("node","mo",[],{rspace:0});e=i.create("node","mrow",[o,e])}const n=i.create("node","munderover",[e]);w.setChild(n,s==="over"?n.over:n.under,t);let a=n;return r&&(a=i.create("node","TeXAtom",[i.create("node","mstyle",[n],{displaystyle:!0,scriptlevel:0})],{texClass:T.OP,movesupsub:!0})),w.setProperty(a,"subsupOK",!0),a},checkMovableLimits(i){const e=w.isType(i,"mo")?w.getForm(i):null;(w.getProperty(i,"movablelimits")||e&&e[3]&&e[3].movablelimits)&&w.setProperties(i,{movablelimits:!1})},setArrayAlign:(i,e,t)=>(t||(e=$e.trimSpaces(e||"")),e==="t"?i.arraydef.align="baseline 1":e==="b"?i.arraydef.align="baseline -1":e==="c"?i.arraydef.align="axis":e&&(t?(t.string=`[${e}]`+t.string.slice(t.i),t.i=0):i.arraydef.align=e),i),substituteArgs(i,e,t){let s="",r="",n=0;for(;n<t.length;){let a=t.charAt(n++);if(a==="\\")s+=a+t.charAt(n++);else if(a==="#")if(a=t.charAt(n++),a==="#")s+=a;else{if(!a.match(/[1-9]/)||parseInt(a,10)>e.length)throw new q("IllegalMacroParam","Illegal macro parameter reference");r=ce.addArgs(i,ce.addArgs(i,r,s),e[parseInt(a,10)-1]),s=""}else s+=a}return ce.addArgs(i,r,s)},addArgs(i,e,t){if(t.match(/^[a-z]/i)&&e.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)&&(e+=" "),e.length+t.length>i.configuration.options.maxBuffer)throw new q("MaxBufferSize","MathJax internal buffer size exceeded; is there a recursive macro call?");return e+t},checkMaxMacros(i,e=!0){if(!(++i.macroCount<=i.configuration.options.maxMacros))throw e?new q("MaxMacroSub1","MathJax maximum macro substitution count exceeded; is here a recursive macro call?"):new q("MaxMacroSub2","MathJax maximum substitution count exceeded; is there a recursive latex environment?")},checkEqnEnv(i,e=!0){const t=i.stack.Top(),s=t.First;if(!(t.getProperty("nestable")&&e&&!s||t.getProperty("nestStart"))&&(!t.isKind("start")||s))throw new q("ErroneousNestingEq","Erroneous nesting of equation structures")},copyNode(i,e){const t=i.copy(),s=e.configuration;return t.walkTree((r=>{s.addNode(r.kind,r);const n=(r.getProperty("in-lists")||"").split(/,/);for(const a of n)a&&s.addNode(a,r)})),t},mmlFilterAttribute:(i,e,t)=>t,getFontDef(i){const e=i.stack.env.font;return e?{mathvariant:e}:{}},keyvalOptions(i,e=null,t=!1,s=!1){const r=(function(n,a=!1){const o={};let l,h,d,x=n,k=!0;for(;x;)[h,l,x]=w1(x,["=",","],a,k),k=!1,l==="="?([d,l,x]=w1(x,[","],a),d=d==="false"||d==="true"?JSON.parse(d):d,o[h]=d):h&&(o[h]=!0);return o})(i,s);if(e)for(const n of Object.keys(r))if(Object.hasOwn(e,n)){if(e[n]instanceof Pr){const a=e[n],o=String(r[n]);if(!a.verify(o))throw new q("InvalidValue","Value for key '%1' is not of the expected type",n);r[n]=a.convert(o)}}else{if(t)throw new q("InvalidOption","Invalid option: %1",n);delete r[n]}return r},isLatinOrGreekChar:i=>!!i.normalize("NFD").match(/[a-zA-Z\u0370-\u03F0]/)};class k1{constructor(){this.columnHandler={l:e=>e.calign[e.j++]="left",c:e=>e.calign[e.j++]="center",r:e=>e.calign[e.j++]="right",p:e=>this.getColumn(e,"top"),m:e=>this.getColumn(e,"middle"),b:e=>this.getColumn(e,"bottom"),w:e=>this.getColumn(e,"top",""),W:e=>this.getColumn(e,"top",""),"|":e=>this.addRule(e,"solid"),":":e=>this.addRule(e,"dashed"),">":e=>e.cstart[e.j]=(e.cstart[e.j]||"")+this.getBraces(e),"<":e=>e.cend[e.j-1]=(e.cend[e.j-1]||"")+this.getBraces(e),"@":e=>this.addAt(e,this.getBraces(e)),"!":e=>this.addBang(e,this.getBraces(e)),"*":e=>this.repeat(e),P:e=>this.macroColumn(e,">{$}p{#1}<{$}",1),M:e=>this.macroColumn(e,">{$}m{#1}<{$}",1),B:e=>this.macroColumn(e,">{$}b{#1}<{$}",1)," ":e=>{}},this.MAXCOLUMNS=1e4}process(e,t,s){const r={parser:e,template:t,i:0,j:0,c:"",cwidth:[],calign:[],cspace:[],clines:[],cstart:s.cstart,cend:s.cend,ralign:s.ralign,cextra:s.cextra};let n=0;for(;r.i<r.template.length;){if(n++>this.MAXCOLUMNS)throw new q("MaxColumns","Too many column specifiers (perhaps looping column definitions?)");const a=r.template.codePointAt(r.i),o=r.c=String.fromCodePoint(a);if(r.i+=o.length,!Object.hasOwn(this.columnHandler,o))throw new q("BadPreamToken","Illegal pream-token (%1)",o);this.columnHandler[o](r)}this.setColumnAlign(r,s),this.setColumnWidths(r,s),this.setColumnSpacing(r,s),this.setColumnLines(r,s),this.setPadding(r,s)}setColumnAlign(e,t){t.arraydef.columnalign=e.calign.join(" ")}setColumnWidths(e,t){if(!e.cwidth.length)return;const s=[...e.cwidth];s.length<e.calign.length&&s.push("auto"),t.arraydef.columnwidth=s.map((r=>r||"auto")).join(" ")}setColumnSpacing(e,t){if(!e.cspace.length)return;const s=[...e.cspace];s.length<e.calign.length&&s.push("1em"),t.arraydef.columnspacing=s.slice(1).map((r=>r||"1em")).join(" ")}setColumnLines(e,t){if(!e.clines.length)return;const s=[...e.clines];s[0]&&t.frame.push(["left",s[0]]),s.length>e.calign.length?t.frame.push(["right",s.pop()]):s.length<e.calign.length&&s.push("none"),s.length>1&&(t.arraydef.columnlines=s.slice(1).map((r=>r||"none")).join(" "))}setPadding(e,t){if(!e.cextra[0]&&!e.cextra[e.calign.length-1])return;const s=e.calign.length-1,r=e.cspace,n=e.cextra[s]?r[s]:null;t.arraydef["data-array-padding"]=`${r[0]||".5em"} ${n||".5em"}`}getColumn(e,t,s="left"){e.calign[e.j]=s||this.getAlign(e),e.cwidth[e.j]=this.getDimen(e),e.ralign[e.j]=[t,e.cwidth[e.j],e.calign[e.j]],e.j++}getDimen(e){const t=this.getBraces(e);if(!$e.matchDimen(t)[0])throw new q("MissingColumnDimOrUnits","Missing dimension or its units for %1 column declaration",e.c);return t}getAlign(e){return Ir(this.getBraces(e).toLowerCase(),{l:"left",c:"center",r:"right"},"")}getBraces(e){for(;e.template[e.i]===" ";)e.i++;if(e.i>=e.template.length)throw new q("MissingArgForColumn","Missing argument for %1 column declaration",e.c);if(e.template[e.i]!=="{")return e.template[e.i++];const t=++e.i;let s=1;for(;e.i<e.template.length;)switch(e.template.charAt(e.i++)){case"\\":e.i++;break;case"{":s++;break;case"}":if(--s===0)return e.template.slice(t,e.i-1)}throw new q("MissingCloseBrace","Missing close brace")}macroColumn(e,t,s){const r=[];for(;s>0&&s--;)r.push(this.getBraces(e));e.template=ce.substituteArgs(e.parser,r,t)+e.template.slice(e.i),e.i=0}addRule(e,t){e.clines[e.j]&&this.addAt(e,"\\,"),e.clines[e.j]=t,e.cspace[e.j]==="0"&&(e.cstart[e.j]="\\hspace{.5em}")}addAt(e,t){const{cstart:s,cspace:r,j:n}=e;e.cextra[n]=!0,e.calign[n]="center",e.clines[n]&&(r[n]===".5em"?s[n-1]+="\\hspace{.25em}":r[n]||(e.cend[n-1]=(e.cend[n-1]||"")+"\\hspace{.5em}")),s[n]=t,r[n]="0",r[++e.j]="0"}addBang(e,t){const{cstart:s,cspace:r,j:n}=e;e.cextra[n]=!0,e.calign[n]="center",s[n]=(r[n]==="0"&&e.clines[n]?"\\hspace{.25em}":"")+t,r[n]||(r[n]=".5em"),r[++e.j]=".5em"}repeat(e){const t=this.getBraces(e),s=this.getBraces(e),r=parseInt(t);if(String(r)!==t)throw new q("ColArgNotNum","First argument to %1 column specifier must be a number","*");e.template=new Array(r).fill(s).join("")+e.template.substring(e.i),e.i=0}}const Ia=Ne.Variant;class Ra{constructor(e,t=[]){this.options={},this.columnParser=new k1,this.packageData=new Map,this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.handlers=e.handlers,this.nodeFactory=new Dr,this.nodeFactory.configuration=this,this.nodeFactory.setCreators(e.nodes),this.itemFactory=new T1(e.items),this.itemFactory.configuration=this,is(this.options,...t),is(this.options,e.options),this.mathStyle=Ra.getVariant.get(this.options.mathStyle)||Ra.getVariant.get("TeX")}pushParser(e){this.parsers.unshift(e)}popParser(){this.parsers.shift()}get parser(){return this.parsers[0]}clear(){this.parsers=[],this.root=null,this.nodeLists={},this.error=!1,this.tags.resetTag()}addNode(e,t){let s=this.nodeLists[e];if(s||(s=this.nodeLists[e]=[]),s.push(t),t.kind!==e){const r=w.getProperty(t,"in-lists")||"",n=(r?r.split(/,/):[]).concat(e).join(",");w.setProperty(t,"in-lists",n)}}getList(e){const t=this.nodeLists[e]||[],s=[];for(const r of t)this.inTree(r)&&s.push(r);return this.nodeLists[e]=s,s}removeFromList(e,t){const s=this.nodeLists[e]||[];for(const r of t){const n=s.indexOf(r);n>=0&&s.splice(n,1)}}inTree(e){for(;e&&e!==this.root;)e=e.parent;return!!e}}Ra.getVariant=new Map([["TeX",(i,e)=>e&&i.match(/^[\u0391-\u03A9\u03F4]/)?Ia.NORMAL:""],["ISO",i=>Ia.ITALIC],["French",i=>i.normalize("NFD").match(/^[a-z]/)?Ia.ITALIC:Ia.NORMAL],["upright",i=>Ia.NORMAL]]);const Nu=Ra;class Wo{constructor(e="???",t=""){this.tag=e,this.id=t}}class zo{constructor(e="",t=!1,s=!1,r=null,n="",a="",o=!1,l=""){this.env=e,this.taggable=t,this.defaultTags=s,this.tag=r,this.tagId=n,this.tagFormat=a,this.noTag=o,this.labelId=l}}class _a{constructor(){this.counter=0,this.allCounter=0,this.configuration=null,this.ids={},this.allIds={},this.labels={},this.allLabels={},this.redo=!1,this.refUpdate=!1,this.currentTag=new zo,this.history=[],this.stack=[],this.enTag=function(e,t){const s=this.configuration.nodeFactory,r=s.create("node","mtd",[e]),n=s.create("node","mlabeledtr",[t,r]);return s.create("node","mtable",[n],{side:this.configuration.options.tagSide,minlabelspacing:this.configuration.options.tagIndent,displaystyle:!0})}}start(e,t,s){this.currentTag&&this.stack.push(this.currentTag);const r=this.label;this.currentTag=new zo(e,t,s),this.label=r}get env(){return this.currentTag.env}end(){this.history.push(this.currentTag);const e=this.label;this.currentTag=this.stack.pop(),e&&!this.label&&(this.label=e)}tag(e,t){this.currentTag.tag=e,this.currentTag.tagFormat=t?e:this.formatTag(e),this.currentTag.noTag=!1}notag(){this.tag("",!0),this.currentTag.noTag=!0}get noTag(){return this.currentTag.noTag}set label(e){this.currentTag.labelId=e}get label(){return this.currentTag.labelId}formatUrl(e,t){return t+"#"+encodeURIComponent(e)}formatTag(e){return"("+e+")"}formatRef(e){return this.formatTag(e)}formatId(e){return"mjx-eqn:"+e.replace(/\s/g,"_")}formatNumber(e){return e.toString()}autoTag(){this.currentTag.tag==null&&(this.counter++,this.tag(this.formatNumber(this.counter),!1))}clearTag(){this.tag(null,!0),this.currentTag.tagId=""}getTag(e=!1){if(e)return this.autoTag(),this.makeTag();const t=this.currentTag;return t.taggable&&!t.noTag&&(t.defaultTags&&this.autoTag(),t.tag)?this.makeTag():null}resetTag(){this.history=[],this.redo=!1,this.refUpdate=!1,this.clearTag()}reset(e=0){this.resetTag(),this.counter=this.allCounter=e,this.allLabels={},this.allIds={},this.label=""}startEquation(e){this.history=[],this.stack=[],this.clearTag(),this.currentTag=new zo("",void 0,void 0),this.labels={},this.ids={},this.counter=this.allCounter,this.redo=!1;const t=e.inputData.recompile;t&&(this.refUpdate=!0,this.counter=t.counter)}finishEquation(e){this.redo&&(e.inputData.recompile={state:e.state(),counter:this.allCounter}),this.refUpdate||(this.allCounter=this.counter),Object.assign(this.allIds,this.ids),Object.assign(this.allLabels,this.labels)}finalize(e,t){if(!t.display||this.currentTag.env||this.currentTag.tag==null)return e;const s=this.makeTag();return this.enTag(e,s)}makeId(){this.currentTag.tagId=this.formatId(this.configuration.options.useLabelIds&&this.label||this.currentTag.tag)}makeTag(){this.makeId(),this.label&&(this.labels[this.label]=new Wo(this.currentTag.tag,this.currentTag.tagId),this.label="");const e=new Xt("\\text{"+this.currentTag.tagFormat+"}",{},this.configuration).mml();return this.configuration.nodeFactory.create("node","mtd",[e],{id:this.currentTag.tagId,rowalign:this.configuration.options.tagAlign})}}class A1 extends _a{autoTag(){}getTag(){return this.currentTag.tag?super.getTag():null}}class L1 extends _a{finalize(e,t){if(!t.display||this.history.find((function(r){return r.taggable})))return e;const s=this.getTag(!0);return this.enTag(e,s)}}const vu=new Map([["none",A1],["all",L1]]);let Xo="none";const Li={OPTIONS:{tags:Xo,tagSide:"right",tagIndent:"0.8em",useLabelIds:!0,ignoreDuplicateLabels:!1,tagAlign:"baseline"},add(i,e){vu.set(i,e)},addTags(i){for(const e of Object.keys(i))Li.add(e,i[e])},create(i){const e=vu.get(i)||vu.get(Xo);if(!e)throw Error("Unknown tags class");return new e},setDefault(i){Xo=i},getDefault:()=>Li.create(Xo)};class Vo{constructor(e,t,s){this._token=e,this._char=t,this._attributes=s}get token(){return this._token}get char(){return this._char}get attributes(){return this._attributes}}class Mi{constructor(e,t,s=[]){this._token=e,this._func=t,this._args=s}get token(){return this._token}get func(){return this._func}get args(){return this._args}}function Oa(i){return i===void 0||i}class Cu{constructor(e,t){this._name=e,this._parser=t,Pa.register(this)}get name(){return this._name}parserFor(e){return this.contains(e)?this.parser:null}parse([e,t]){const s=this.parserFor(t),r=this.lookup(t);return s&&r?Oa(s(e,r)):null}set parser(e){this._parser=e}get parser(){return this._parser}}class Br extends Cu{constructor(e,t,s){super(e,t),this._regExp=s}contains(e){return this._regExp.test(e)}lookup(e){return this.contains(e)?e:null}}class Tu extends Cu{constructor(){super(...arguments),this.map=new Map}lookup(e){return this.map.get(e)}contains(e){return this.map.has(e)}add(e,t){this.map.set(e,t)}remove(e){this.map.delete(e)}}class qs extends Tu{constructor(e,t,s){super(e,t);for(const r of Object.keys(s)){const n=s[r],[a,o]=typeof n=="string"?[n,null]:n,l=new Vo(r,a,o);this.add(r,l)}}}class vn extends qs{parse([e,t]){return super.parse([e,"\\"+t])}}class Fr extends Tu{constructor(e,t,s={}){super(e,null);const r=n=>typeof n=="string"?s[n]:n;for(const[n,a]of Object.entries(t)){let o,l;Array.isArray(a)?(o=r(a[0]),l=a.slice(1)):(o=r(a),l=[]);const h=new Mi(n,o,l);this.add(n,h)}}parserFor(e){const t=this.lookup(e);return t?t.func:null}parse([e,t]){const s=this.lookup(t),r=this.parserFor(t);return s&&r?Oa(r(e,s.token,...s.args)):null}}class pi extends Fr{parse([e,t]){const s=this.lookup(t),r=this.parserFor(t);if(!s||!r)return null;const n=e.currentCS;e.currentCS="\\"+t;const a=r(e,"\\"+s.token,...s.args);return e.currentCS=n,Oa(a)}}class Da extends Fr{constructor(e,t,s,r={}){super(e,s,r),this.parser=t}parse([e,t]){const s=this.lookup(t),r=this.parserFor(t);return s&&r?Oa(this.parser(e,s.token,r,s.args)):null}}const M1=new Map,Pa={register(i){M1.set(i.name,i)},getMap:i=>M1.get(i)};class Cn{constructor(){this._configuration=new Vs,this._fallback=new wi}add(e,t,s=Vs.DEFAULTPRIORITY){for(const r of e.slice().reverse()){const n=Pa.getMap(r);if(!n)return void this.warn(`Configuration '${r}' not found! Omitted.`);this._configuration.add(n,s)}t&&this._fallback.add(t,s)}remove(e,t=null){for(const s of e){const r=this.retrieve(s);r&&this._configuration.remove(r)}t&&this._fallback.remove(t)}parse(e){for(const{item:r}of this._configuration){const n=r.parse(e);if(n===Cn.FALLBACK)break;if(n)return n}const[t,s]=e;Array.from(this._fallback)[0].item(t,s)}lookup(e){const t=this.applicable(e);return t?t.lookup(e):null}contains(e){const t=this.applicable(e);return!(!t||t instanceof qs&&t.lookup(e).char===null)}toString(){const e=[];for(const{item:t}of this._configuration)e.push(t.name);return e.join(", ")}applicable(e){for(const{item:t}of this._configuration)if(t.contains(e))return t;return null}retrieve(e){for(const{item:t}of this._configuration)if(t.name===e)return t;return null}warn(e){console.log("TexParser Warning: "+e)}}Cn.FALLBACK=Symbol("fallback");class S1{constructor(){this.map=new Map}add(e,t,s=Vs.DEFAULTPRIORITY){for(const r of Object.keys(e)){const n=r;let a=this.get(n);a||(a=new Cn,this.set(n,a)),a.add(e[n],t[n],s)}}remove(e,t){for(const s of Object.keys(e)){const r=this.get(s);r&&r.remove(e[s],t[s])}}set(e,t){this.map.set(e,t)}get(e){return this.map.get(e)}retrieve(e){for(const t of this.map.values()){const s=t.retrieve(e);if(s)return s}return null}keys(){return this.map.keys()}}class Ps{static makeProcessor(e,t){return Array.isArray(e)?e:[e,t]}static _create(e,t={}){var s;const r=(s=t.priority)!==null&&s!==void 0?s:Vs.DEFAULTPRIORITY,n=t.init?this.makeProcessor(t.init,r):null,a=t.config?this.makeProcessor(t.config,r):null,o=(t.preprocessors||[]).map((d=>this.makeProcessor(d,r))),l=(t.postprocessors||[]).map((d=>this.makeProcessor(d,r))),h=t.parser||"tex";return new Ps(e,t[Ae.HANDLER]||{},t[Ae.FALLBACK]||{},t[Ae.ITEMS]||{},t[Ae.TAGS]||{},t[Ae.OPTIONS]||{},t[Ae.NODES]||{},o,l,n,a,r,h)}static create(e,t={}){const s=Ps._create(e,t);return Go.set(e,s),s}static local(e={}){return Ps._create("",e)}constructor(e,t={},s={},r={},n={},a={},o={},l=[],h=[],d=null,x=null,k,I){this.name=e,this.handler=t,this.fallback=s,this.items=r,this.tags=n,this.options=a,this.nodes=o,this.preprocessors=l,this.postprocessors=h,this.initMethod=d,this.configMethod=x,this.priority=k,this.parser=I,this.handler=Object.assign({[Te.CHARACTER]:[],[Te.DELIMITER]:[],[Te.MACRO]:[],[Te.ENVIRONMENT]:[]},t)}get init(){return this.initMethod?this.initMethod[0]:null}get config(){return this.configMethod?this.configMethod[0]:null}}const wu=new Map,Go={set(i,e){wu.set(i,e)},get:i=>wu.get(i),keys:()=>wu.keys()};class ku{constructor(e,t=["tex"]){this.initMethod=new wi,this.configMethod=new wi,this.configurations=new Vs,this.parsers=[],this.handlers=new S1,this.items={},this.tags={},this.options={},this.nodes={},this.parsers=t;for(const s of e.slice().reverse())this.addPackage(s);for(const{item:s,priority:r}of this.configurations)this.append(s,r)}init(){this.initMethod.execute(this)}config(e){this.configMethod.execute(this,e);for(const t of this.configurations)this.addFilters(e,t.item)}addPackage(e){const t=typeof e=="string"?e:e[0],s=this.getPackage(t);s&&this.configurations.add(s,typeof e=="string"?s.priority:e[1])}add(e,t,s={}){const r=this.getPackage(e);this.append(r),this.configurations.add(r,r.priority),this.init();const n=t.parseOptions;n.nodeFactory.setCreators(r.nodes);for(const a of Object.keys(r.items))n.itemFactory.setNodeClass(a,r.items[a]);Li.addTags(r.tags),is(n.options,r.options),Ds(n.options,s),this.addFilters(t,r),r.config&&r.config(this,t)}getPackage(e){const t=Go.get(e);if(t&&!this.parsers.includes(t.parser))throw Error(`Package '${e}' doesn't target the proper parser`);return t||this.warn(`Package '${e}' not found.  Omitted.`),t}append(e,t){t=t||e.priority,e.initMethod&&this.initMethod.add(e.initMethod[0],e.initMethod[1]),e.configMethod&&this.configMethod.add(e.configMethod[0],e.configMethod[1]),this.handlers.add(e.handler,e.fallback,t),Object.assign(this.items,e.items),Object.assign(this.tags,e.tags),is(this.options,e.options),Object.assign(this.nodes,e.nodes)}addFilters(e,t){for(const[s,r]of t.preprocessors)e.preFilters.add(s,r);for(const[s,r]of t.postprocessors)e.postFilters.add(s,r)}warn(e){console.warn("MathJax Warning: "+e)}}class Ba extends Ie{constructor(e,t){super(e),this.global=t}get kind(){return"start"}get isOpen(){return!0}checkItem(e){if(e.isKind("stop")){let t=this.toMml();return this.global.isInner||(t=this.factory.configuration.tags.finalize(t,this.env)),[[this.factory.create("mml",t)],!0]}return super.checkItem(e)}}class Tn extends Ie{get kind(){return"stop"}get isClose(){return!0}}class Jo extends Ie{get kind(){return"open"}get isOpen(){return!0}checkItem(e){if(e.isKind("close")){const t=this.toMml(),s=this.create("node","TeXAtom",[t]);return kn(s,e),[[this.factory.create("mml",s)],!0]}return super.checkItem(e)}}Jo.errors=Object.assign(Object.create(Ie.errors),{stop:["ExtraOpenMissingClose","Extra open brace or missing close brace"]});class Au extends Ie{get kind(){return"close"}get isClose(){return!0}}class Lu extends Ie{get kind(){return"null"}}class Mu extends Ie{get kind(){return"prime"}checkItem(e){const[t,s]=this.Peek(2),r=(w.isType(t,"msubsup")||w.isType(t,"msup"))&&!w.getChildAt(t,t.sup),n=(w.isType(t,"munderover")||w.isType(t,"mover"))&&!w.getChildAt(t,t.over)&&!w.getProperty(t,"subsupOK");if(!r&&!n)return[[this.create("node",t.getProperty("movesupsub")?"mover":"msup",[t,s]),e],!0];const a=r?t.sup:t.over;return w.setChild(t,a,s),[[t,e],!0]}}class Ko extends Ie{get kind(){return"subsup"}checkItem(e){if(e.isKind("open")||e.isKind("left"))return Ie.success;const t=this.First,s=this.getProperty("position");if(e.isKind("mml")){if(this.getProperty("primes"))if(s!==2)w.setChild(t,2,this.getProperty("primes"));else{w.setProperty(this.getProperty("primes"),"variantForm",!0);const n=this.create("node","mrow",[this.getProperty("primes"),e.First]);e.First=n}return w.setChild(t,s,e.First),this.getProperty("movesupsub")!=null&&w.setProperty(t,"movesupsub",this.getProperty("movesupsub")),[[this.factory.create("mml",t)],!0]}super.checkItem(e);const r=this.getErrors(["","sub","sup"][s]);throw new q(r[0],r[1],...r.splice(2))}}Ko.errors=Object.assign(Object.create(Ie.errors),{stop:["MissingScript","Missing superscript or subscript argument"],sup:["MissingOpenForSup","Missing open brace for superscript"],sub:["MissingOpenForSub","Missing open brace for subscript"]});class Su extends Ie{constructor(e){super(e),this.setProperty("name","\\over")}get kind(){return"over"}get isClose(){return!0}checkItem(e){if(e.isKind("over"))throw new q("AmbiguousUseOf","Ambiguous use of %1",e.getName());if(e.isClose){let t=this.create("node","mfrac",[this.getProperty("num"),this.toMml(!1)]);return this.getProperty("thickness")!=null&&w.setAttribute(t,"linethickness",this.getProperty("thickness")),(this.getProperty("ldelim")||this.getProperty("rdelim"))&&(w.setProperty(t,"withDelims",!0),t=ce.fixedFence(this.factory.configuration,this.getProperty("ldelim"),t,this.getProperty("rdelim"))),t.attributes.set(Ne.Attr.LATEXITEM,this.getProperty("name")),[[this.factory.create("mml",t),e],!0]}return super.checkItem(e)}toString(){return"over["+this.getProperty("num")+" / "+this.nodes.join("; ")+"]"}}class $o extends Ie{constructor(e,t){super(e),this.setProperty("delim",t)}get kind(){return"left"}get isOpen(){return!0}checkItem(e){if(e.isKind("right")){const t=ce.fenced(this.factory.configuration,this.getProperty("delim"),this.toMml(),e.getProperty("delim"),"",e.getProperty("color")),s=t.childNodes[0],r=t.childNodes[t.childNodes.length-1],n=this.factory.create("mml",t);return kn(s,this,"\\left"),kn(r,e,"\\right"),n.Peek()[0].attributes.set(Ne.Attr.LATEXITEM,"\\left"+e.startStr.slice(this.startI,e.stopI)),[[n],!0]}if(e.isKind("middle")){const t={stretchy:!0};e.getProperty("color")&&(t.mathcolor=e.getProperty("color"));const s=this.create("token","mo",t,e.getProperty("delim"));return kn(s,e,"\\middle"),this.Push(this.create("node","TeXAtom",[],{texClass:T.CLOSE}),s,this.create("node","TeXAtom",[],{texClass:T.OPEN})),this.env={},[[this],!0]}return super.checkItem(e)}}$o.errors=Object.assign(Object.create(Ie.errors),{stop:["ExtraLeftMissingRight","Extra \\left or missing \\right"]});class Iu extends Ie{constructor(e,t,s){super(e),this.setProperty("delim",t),s&&this.setProperty("color",s)}get kind(){return"middle"}get isClose(){return!0}}class Ru extends Ie{constructor(e,t,s){super(e),this.setProperty("delim",t),s&&this.setProperty("color",s)}get kind(){return"right"}get isClose(){return!0}}class _u extends Ie{get kind(){return"break"}constructor(e,t,s){super(e),this.setProperty("linebreak",t),this.setProperty("insert",s)}checkItem(e){var t,s;const r=this.getProperty("linebreak");if(e.isKind("mml")){const a=e.First;if(a.isKind("mo")){if((((s=(t=w.getOp(a))===null||t===void 0?void 0:t[3])===null||s===void 0?void 0:s.linebreakstyle)||w.getAttribute(a,"linebreakstyle"))!=="after")return w.setAttribute(a,"linebreak",r),[[e],!0];if(!this.getProperty("insert"))return[[e],!0]}}const n=this.create("token","mspace",{linebreak:r});return[[this.factory.create("mml",n),e],!0]}}class Yo extends Ie{get kind(){return"begin"}get isOpen(){return!0}checkItem(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new q("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());const t=this.toMml();return kn(t,e),[[this.factory.create("mml",t)],!0]}if(e.isKind("stop"))throw new q("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(e)}}class Ou extends Ie{get kind(){return"end"}get isClose(){return!0}}class wn extends Ie{get kind(){return"style"}checkItem(e){if(!e.isClose)return super.checkItem(e);const t=this.create("node","mstyle",this.nodes,this.getProperty("styles"));return[[this.factory.create("mml",t),e],!0]}}class Du extends Ie{get kind(){return"position"}checkItem(e){if(e.isClose)throw new q("MissingBoxFor","Missing box for %1",this.getName());if(e.isFinal){let t=e.toMml();switch(this.getProperty("move")){case"vertical":return t=this.create("node","mpadded",[t],{height:this.getProperty("dh"),depth:this.getProperty("dd"),voffset:this.getProperty("dh")}),[[this.factory.create("mml",t)],!0];case"horizontal":return[[this.factory.create("mml",this.getProperty("left")),e,this.factory.create("mml",this.getProperty("right"))],!0]}}return super.checkItem(e)}}class Pu extends Ie{get kind(){return"cell"}get isClose(){return!0}}class Fa extends Ie{get isFinal(){return!0}get kind(){return"mml"}}class Bu extends Ie{get kind(){return"fn"}checkItem(e){const t=this.First;if(t){if(e.isOpen)return Ie.success;if(!e.isKind("fn")){let s=e.First;if(!e.isKind("mml")||!s)return[[t,e],!0];if(w.isType(s,"mstyle")&&s.childNodes.length&&w.isType(s.childNodes[0].childNodes[0],"mspace")||w.isType(s,"mspace"))return[[t,e],!0];w.isEmbellished(s)&&(s=w.getCoreMO(s));const r=w.getForm(s);if(r!=null&&[0,0,1,1,0,1,1,0,0,0][r[2]])return[[t,e],!0]}return[[t,this.create("token","mo",{texClass:T.NONE},di.ApplyFunction),e],!0]}return super.checkItem(e)}}class Fu extends Ie{constructor(){super(...arguments),this.remap=Pa.getMap("not_remap")}get kind(){return"not"}checkItem(e){let t,s,r;if(e.isKind("open")||e.isKind("left"))return Ie.success;if(e.isKind("mml")&&(w.isType(e.First,"mo")||w.isType(e.First,"mi")||w.isType(e.First,"mtext"))&&(t=e.First,s=w.getText(t),s.length===1&&!w.getProperty(t,"movesupsub")&&w.getChildren(t).length===1))return this.remap.contains(s)?(r=this.create("text",this.remap.lookup(s).char),w.setChild(t,0,r)):(r=this.create("text","\u0338"),w.appendChildren(t,[r])),[[e],!0];r=this.create("text","\u29F8");const n=this.create("node","mtext",[],{},r),a=this.create("node","mpadded",[n],{width:0});return t=this.create("node","TeXAtom",[a],{texClass:T.REL}),[[t,e],!0]}}class ju extends Ie{get kind(){return"nonscript"}checkItem(e){if(e.isKind("mml")&&e.Size()===1){let t=e.First;if(t.isKind("mstyle")&&t.notParent&&(t=w.getChildren(w.getChildren(t)[0])[0]),t.isKind("mspace")){if(t!==e.First){const s=this.create("node","mrow",[e.Pop()]);e.Push(s)}this.factory.configuration.addNode("nonscript",e.First)}}return[[e],!0]}}class Uu extends Ie{get kind(){return"dots"}checkItem(e){if(e.isKind("open")||e.isKind("left"))return Ie.success;let t=this.getProperty("ldots");const s=e.First;if(e.isKind("mml")&&w.isEmbellished(s)){const r=w.getTexClass(w.getCoreMO(s));r!==T.BIN&&r!==T.REL||(t=this.getProperty("cdots"))}return[[t,e],!0]}}class Ji extends Ie{constructor(){super(...arguments),this.table=[],this.row=[],this.frame=[],this.hfill=[],this.arraydef={},this.cstart=[],this.cend=[],this.cextra=[],this.atEnd=!1,this.ralign=[],this.breakAlign={cell:"",row:"",table:""},this.templateSubs=0}get kind(){return"array"}get isOpen(){return!0}get copyEnv(){return!1}checkItem(e){if(e.isClose&&!e.isKind("over")){if(e.getProperty("isEntry"))return this.EndEntry(),this.clearEnv(),this.StartEntry(),Ie.fail;if(e.getProperty("isCR"))return this.EndEntry(),this.EndRow(),this.clearEnv(),this.StartEntry(),Ie.fail;this.EndTable(),this.clearEnv();const t=this.factory.create("mml",this.createMml());if(this.getProperty("requireClose")){if(e.isKind("close"))return[[t],!0];throw new q("MissingCloseBrace","Missing close brace")}return[[t,e],!0]}return super.checkItem(e)}createMml(){const e=this.arraydef.scriptlevel;delete this.arraydef.scriptlevel;let t=this.create("node","mtable",this.table,this.arraydef);return e&&t.setProperty("smallmatrix",!0),this.breakAlign.table&&w.setAttribute(t,"data-break-align",this.breakAlign.table),this.getProperty("arrayPadding")&&(w.setAttribute(t,"data-frame-styles",""),w.setAttribute(t,"framespacing",this.getProperty("arrayPadding"))),t=this.handleFrame(t),e!==void 0&&(t=this.create("node","mstyle",[t],{scriptlevel:e})),(this.getProperty("open")||this.getProperty("close"))&&(t=ce.fenced(this.factory.configuration,this.getProperty("open"),t,this.getProperty("close"))),t}handleFrame(e){if(!this.frame.length)return e;const t=new Map(this.frame),s=this.frame.reduce(((n,[,a])=>a===n?a:""),this.frame[0][1]);if(s){if(this.frame.length===4)return w.setAttribute(e,"frame",s),w.removeAttribute(e,"data-frame-styles"),e;if(s==="solid")return w.setAttribute(e,"data-frame-styles",""),e=this.create("node","menclose",[e],{notation:Array.from(t.keys()).join(" "),"data-padding":0})}const r=Gi.map((n=>t.get(n)||"none")).join(" ");return w.setAttribute(e,"data-frame-styles",r),e}StartEntry(){const e=this.row.length;let t=this.cstart[e],s=this.cend[e];const r=this.ralign[e],n=this.cextra;if(!(t||s||r||n[e]||n[e+1]))return;let[a,o,l,h]=this.getEntry();if(!n[e]||this.atEnd&&!n[e+1]||(t+="&"),l!=="&"&&(h=!!o.trim()||!!(e||l&&l.substring(0,4)!=="\\end"),n[e+1]&&!n[e]&&(s=(s||"")+"&",this.atEnd=!0)),!h&&!a)return;const d=this.parser;if(h&&(t&&(o=ce.addArgs(d,t,o)),s&&(o=ce.addArgs(d,o,s)),r&&(o="\\text{"+o.trim()+"}"),(t||s||r)&&++this.templateSubs>d.configuration.options.maxTemplateSubtitutions))throw new q("MaxTemplateSubs","Maximum template substitutions exceeded; is there an invalid use of \\\\ in the template?");a&&(o=ce.addArgs(d,a,o)),d.string=ce.addArgs(d,o,d.string),d.i=0}getEntry(){const e=this.parser,t=/^([^]*?)([&{}]|\\\\|\\(?:begin|end)\s*\{array\}|\\cr|\\)/;let s,r=0,n=0,a=e.i;const o=["","","",!1];for(;(s=e.string.slice(a).match(t))!==null;)switch(a+=s[0].length,s[2]){case"\\":a++;break;case"{":r++;break;case"}":if(!r)return o;r--;break;case"\\begin{array}":r||n++;break;case"\\end{array}":if(!r&&n){n--;break}default:{if(r||n)continue;a-=s[2].length;let l=e.string.slice(e.i,a).trim();const h=l.match(/^(?:\s*\\(?:h(?:dash)?line|hfil{1,3}|rowcolor\s*\{.*?\}))+/);return h&&(l=l.slice(h[0].length)),e.string=e.string.slice(a),e.i=0,[(h==null?void 0:h[0])||"",l,s[2],!0]}}return o}EndEntry(){const e=this.create("node","mtd",this.nodes);this.hfill.length&&(this.hfill[0]===0&&w.setAttribute(e,"columnalign","right"),this.hfill[this.hfill.length-1]===this.Size()&&w.setAttribute(e,"columnalign",w.getAttribute(e,"columnalign")?"center":"left"));const t=this.ralign[this.row.length];if(t){const[s,r,n]=t,a=this.create("node","mpadded",e.childNodes[0].childNodes,{width:r,"data-overflow":"auto","data-align":n,"data-vertical-align":s});a.setProperty("vbox",s),e.childNodes[0].childNodes=[],e.appendChild(a)}else this.breakAlign.cell&&w.setAttribute(e,"data-vertical-align",this.breakAlign.cell);this.breakAlign.cell="",this.row.push(e),this.Clear(),this.hfill=[]}EndRow(){let e="mtr";this.getProperty("isNumbered")&&this.row.length===3?(this.row.unshift(this.row.pop()),e="mlabeledtr"):this.getProperty("isLabeled")&&(e="mlabeledtr",this.setProperty("isLabeled",!1));const t=this.create("node",e,this.row);this.breakAlign.row&&(w.setAttribute(t,"data-break-align",this.breakAlign.row),this.breakAlign.row=""),kn(t,this),this.table.push(t),this.row=[],this.atEnd=!1}EndTable(){(this.Size()||this.row.length)&&(this.EndEntry(),this.EndRow()),this.checkLines()}checkLines(){if(this.arraydef.rowlines){const e=this.arraydef.rowlines.split(/ /);e.length===this.table.length?(this.frame.push(["bottom",e.pop()]),e.length?this.arraydef.rowlines=e.join(" "):delete this.arraydef.rowlines):e.length<this.table.length-1&&(this.arraydef.rowlines+=" none")}if(this.getProperty("rowspacing")){const e=this.arraydef.rowspacing.split(/ /);for(;e.length<this.table.length;)e.push(this.getProperty("rowspacing")+"em");this.arraydef.rowspacing=e.join(" ")}}addRowSpacing(e){if(this.arraydef.rowspacing){const t=this.arraydef.rowspacing.split(/ /);if(!this.getProperty("rowspacing")){const r=$e.dimen2em(t[0]);this.setProperty("rowspacing",r)}const s=this.getProperty("rowspacing");for(;t.length<this.table.length;)t.push($e.em(s));t[this.table.length-1]=$e.em(Math.max(0,s+$e.dimen2em(e))),this.arraydef.rowspacing=t.join(" ")}}}class Qo extends Ji{constructor(e,...t){super(e),this.maxrow=0,this.factory.configuration.tags.start(t[0],t[2],t[1])}get kind(){return"eqnarray"}EndEntry(){const e=this.arraydef.columnalign.split(/ /);(this.row.length&&e.length?e[this.row.length%e.length]:"right")!=="right"&&ce.fixInitialMO(this.factory.configuration,this.nodes),super.EndEntry()}EndRow(){this.row.length>this.maxrow&&(this.maxrow=this.row.length);const e=this.factory.configuration.tags.getTag();e&&(this.row=[e].concat(this.row),this.setProperty("isLabeled",!0)),this.factory.configuration.tags.clearTag(),super.EndRow()}EndTable(){super.EndTable(),this.factory.configuration.tags.end(),this.extendArray("columnalign",this.maxrow),this.extendArray("columnwidth",this.maxrow),this.extendArray("columnspacing",this.maxrow-1),this.extendArray("data-break-align",this.maxrow),this.addIndentshift()}extendArray(e,t){if(!this.arraydef[e])return;const s=this.arraydef[e].split(/ /),r=[...s];if(r.length>1){for(;r.length<t;)r.push(...s);this.arraydef[e]=r.slice(0,t).join(" ")}}addIndentshift(){const e=this.arraydef.columnalign.split(/ /);let t="";for(const s of e.keys()){if(e[s]==="left"&&s>0){const r=t==="center"?".7em":"2em";for(const n of this.table){const a=n.childNodes[n.isKind("mlabeledtr")?s+1:s];if(a){const o=this.create("node","mstyle",a.childNodes[0].childNodes,{indentshift:r});a.childNodes[0].childNodes=[],a.appendChild(o)}}}t=e[s]}}}class qu extends Yo{get kind(){return"mstyle"}constructor(e,t,s){super(e),this.attrList=t,this.setProperty("name",s)}checkItem(e){return e.isKind("end")&&e.getName()===this.getName()?[[this.create("node","mstyle",[this.toMml()],this.attrList)],!0]:super.checkItem(e)}}class Hu extends Ie{constructor(e,...t){super(e),this.factory.configuration.tags.start("equation",!0,t[0])}get kind(){return"equation"}get isOpen(){return!0}checkItem(e){if(e.isKind("end")){const t=this.toMml(),s=this.factory.configuration.tags.getTag();return this.factory.configuration.tags.end(),[[s?this.factory.configuration.tags.enTag(t,s):t,e],!0]}if(e.isKind("stop"))throw new q("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(e)}}function kn(i,e,t=""){const s=e.startStr.slice(e.startI,e.stopI);s&&(i.attributes.set(Ne.Attr.LATEXITEM,t?t+s:s),i.attributes.set(Ne.Attr.LATEX,t?t+s:s))}const vm=1.2/.85,Cm={fontfamily:1,fontsize:1,fontweight:1,fontstyle:1,color:1,background:1,id:1,class:1,href:1,style:1};function jr(i,e=1/0){const t=i.replace(/\s+/g,"").split("").map((s=>{const r={t:"top",b:"bottom",m:"middle",c:"center"}[s];if(!r)throw new q("BadBreakAlign","Invalid alignment character: %1",s);return r}));if(t.length>e)throw new q("TooManyAligns","Too many alignment characters: %1",i);return e===1?t[0]:t.join(" ")}function I1(i,e){const t=i.stack.env,s=t.inRoot;t.inRoot=!0;const r=new Xt(e,t,i.configuration);let n=r.mml();const a=r.stack.global;if(a.leftRoot||a.upRoot){const o={};a.leftRoot&&(o.width=a.leftRoot),a.upRoot&&(o.voffset=a.upRoot,o.height=a.upRoot),n=i.create("node","mpadded",[n],o)}return t.inRoot=s,n}const R1={Open(i,e){i.Push(i.itemFactory.create("open"))},Close(i,e){i.Push(i.itemFactory.create("close"))},Bar(i,e){i.Push(i.create("token","mo",{stretchy:!1,texClass:T.ORD},e))},Tilde(i,e){i.Push(i.create("token","mtext",{},di.nbsp))},Space(i,e){},Superscript(i,e){let t,s;i.GetNext().match(/\d/)&&(i.string=i.string.substring(0,i.i+1)+" "+i.string.substring(i.i+1));const r=i.stack.Top();r.isKind("prime")?([s,t]=r.Peek(2),i.stack.Pop()):(s=i.stack.Prev(),s||(s=i.create("token","mi",{},"")));const n=w.getProperty(s,"movesupsub");let a=w.isType(s,"msubsup")?s.sup:s.over;if(w.isType(s,"msubsup")&&!w.isType(s,"msup")&&w.getChildAt(s,s.sup)||w.isType(s,"munderover")&&!w.isType(s,"mover")&&w.getChildAt(s,s.over)&&!w.getProperty(s,"subsupOK"))throw new q("DoubleExponent","Double exponent: use braces to clarify");w.isType(s,"msubsup")&&!w.isType(s,"msup")||(n?((!w.isType(s,"munderover")||w.isType(s,"mover")||w.getChildAt(s,s.over))&&(s=i.create("node","munderover",[s],{movesupsub:!0})),a=s.over):(s=i.create("node","msubsup",[s]),a=s.sup)),i.Push(i.itemFactory.create("subsup",s).setProperties({position:a,primes:t,movesupsub:n}))},Subscript(i,e){let t,s;i.GetNext().match(/\d/)&&(i.string=i.string.substring(0,i.i+1)+" "+i.string.substring(i.i+1));const r=i.stack.Top();r.isKind("prime")?([s,t]=r.Peek(2),i.stack.Pop()):(s=i.stack.Prev(),s||(s=i.create("token","mi",{},"")));const n=w.getProperty(s,"movesupsub");let a=w.isType(s,"msubsup")?s.sub:s.under;if(w.isType(s,"msubsup")&&!w.isType(s,"msup")&&w.getChildAt(s,s.sub)||w.isType(s,"munderover")&&!w.isType(s,"mover")&&w.getChildAt(s,s.under)&&!w.getProperty(s,"subsupOK"))throw new q("DoubleSubscripts","Double subscripts: use braces to clarify");w.isType(s,"msubsup")&&!w.isType(s,"msup")||(n?((!w.isType(s,"munderover")||w.isType(s,"mover")||w.getChildAt(s,s.under))&&(s=i.create("node","munderover",[s],{movesupsub:!0})),a=s.under):(s=i.create("node","msubsup",[s]),a=s.sub)),i.Push(i.itemFactory.create("subsup",s).setProperties({position:a,primes:t,movesupsub:n}))},Prime(i,e){let t=i.stack.Prev();if(t||(t=i.create("token","mi")),w.isType(t,"msubsup")&&!w.isType(t,"msup")&&w.getChildAt(t,t.sup)||w.isType(t,"munderover")&&!w.isType(t,"mover")&&w.getChildAt(t,t.over)&&!w.getProperty(t,"subsupOK"))throw new q("DoubleExponentPrime","Prime causes double exponent: use braces to clarify");let s="";i.i--;do s+=di.prime,i.i++,e=i.GetNext();while(e==="'"||e===di.rsquo);s=["","\u2032","\u2033","\u2034","\u2057"][s.length]||s;const r=i.create("token","mo",{variantForm:!0},s);i.Push(i.itemFactory.create("prime",t,r))},Comment(i,e){for(;i.i<i.string.length&&i.string.charAt(i.i)!==`
`;)i.i++},Hash(i,e){throw new q("CantUseHash1","You can't use 'macro parameter character #' in math mode")},MathFont(i,e,t,s=""){const r=i.GetArgument(e),n=new Xt(r,Object.assign(Object.assign({multiLetterIdentifiers:i.options.identifierPattern},i.stack.env),{font:t,italicFont:s,noAutoOP:!0}),i.configuration).mml();i.Push(i.create("node","TeXAtom",[n]))},SetFont(i,e,t){i.stack.env.font=t,i.Push(i.itemFactory.create("null"))},SetStyle(i,e,t,s,r){i.stack.env.style=t,i.stack.env.level=r,i.Push(i.itemFactory.create("style").setProperty("styles",{displaystyle:s,scriptlevel:r}))},SetSize(i,e,t){i.stack.env.size=t,i.Push(i.itemFactory.create("style").setProperty("styles",{mathsize:Qe(t)}))},Spacer(i,e,t){const s=i.create("node","mspace",[],{width:Qe(t)}),r=i.create("node","mstyle",[s],{scriptlevel:0});i.Push(r)},DiscretionaryTimes(i,e){i.Push(i.create("token","mo",{linebreakmultchar:"\xD7"},"\u2062"))},AllowBreak(i,e){i.Push(i.create("token","mspace"))},Break(i,e){i.Push(i.create("token","mspace",{linebreak:Ne.LineBreak.NEWLINE}))},Linebreak(i,e,t){let s=!0;const r=i.stack.Prev(!0);r&&r.isKind("mo")&&w.getMoAttribute(r,"linebreakstyle")!==Ne.LineBreakStyle.BEFORE&&(r.attributes.set("linebreak",t),s=!1),i.Push(i.itemFactory.create("break",t,s))},LeftRight(i,e){const t=e.substring(1);i.Push(i.itemFactory.create(t,i.GetDelimiter(e),i.stack.env.color))},NamedFn(i,e,t){t||(t=e.substring(1));const s=i.create("token","mi",{texClass:T.OP},t);i.Push(i.itemFactory.create("fn",s))},NamedOp(i,e,t){t||(t=e.substring(1)),t=t.replace(/&thinsp;/,"\u2006");const s=i.create("token","mo",{movablelimits:!0,movesupsub:!0,form:Ne.Form.PREFIX,texClass:T.OP},t);i.Push(s)},Limits(i,e,t){let s=i.stack.Prev(!0);if(!s||w.getTexClass(w.getCoreMO(s))!==T.OP&&w.getProperty(s,"movesupsub")==null)throw new q("MisplacedLimits","%1 is allowed only on operators",i.currentCS);const r=i.stack.Top();let n;w.isType(s,"munderover")&&!t?(n=i.create("node","msubsup"),w.copyChildren(s,n),s=r.Last=n):w.isType(s,"msubsup")&&t&&(n=i.create("node","munderover"),w.copyChildren(s,n),s=r.Last=n),w.setProperty(s,"movesupsub",!!t),w.setProperties(w.getCoreMO(s),{movablelimits:!1}),((w.isType(s,"mo")?w.getMoAttribute(s,"movableLimits"):w.getAttribute(s,"movablelimits"))||w.getProperty(s,"movablelimits"))&&w.setProperties(s,{movablelimits:!1})},Over(i,e,t,s){const r=i.itemFactory.create("over").setProperty("name",i.currentCS);t||s?(r.setProperty("ldelim",t),r.setProperty("rdelim",s)):e.match(/withdelims$/)&&(r.setProperty("ldelim",i.GetDelimiter(e)),r.setProperty("rdelim",i.GetDelimiter(e))),e.match(/^\\above/)?r.setProperty("thickness",i.GetDimen(e)):(e.match(/^\\atop/)||t||s)&&r.setProperty("thickness",0),i.Push(r)},Frac(i,e){const t=i.ParseArg(e),s=i.ParseArg(e),r=i.create("node","mfrac",[t,s]);i.Push(r)},Sqrt(i,e){const t=i.GetBrackets(e);let s=i.GetArgument(e);s==="\\frac"&&(s+="{"+i.GetArgument(s)+"}{"+i.GetArgument(s)+"}");let r=new Xt(s,i.stack.env,i.configuration).mml();r=t?i.create("node","mroot",[r,I1(i,t)]):i.create("node","msqrt",[r]),i.Push(r)},Root(i,e){const t=i.GetUpTo(e,"\\of"),s=i.ParseArg(e),r=i.create("node","mroot",[s,I1(i,t)]);i.Push(r)},MoveRoot(i,e,t){if(!i.stack.env.inRoot)throw new q("MisplacedMoveRoot","%1 can appear only within a root",i.currentCS);if(i.stack.global[t])throw new q("MultipleMoveRoot","Multiple use of %1",i.currentCS);let s=i.GetArgument(e);if(!s.match(/-?[0-9]+/))throw new q("IntegerArg","The argument to %1 must be an integer",i.currentCS);s=parseInt(s,10)/15+"em",s.substring(0,1)!=="-"&&(s="+"+s),i.stack.global[t]=s},Accent(i,e,t,s){const r=i.ParseArg(e),n=Object.assign(Object.assign({},ce.getFontDef(i)),{accent:!0,mathaccent:s===void 0||s}),a=w.createEntity(t),o=i.create("token","mo",n,a);w.setAttribute(o,"stretchy",!!s);const l=w.isEmbellished(r)?w.getCoreMO(r):r;(w.isType(l,"mo")||w.getProperty(l,"movablelimits"))&&w.setProperties(l,{movablelimits:!1});const h=i.create("node","munderover");w.setChild(h,0,r),w.setChild(h,1,null),w.setChild(h,2,o);const d=i.create("node","TeXAtom",[h]);i.Push(d)},UnderOver(i,e,t,s){const r=w.createEntity(t),n=i.create("token","mo",{stretchy:!0,accent:!0},r);r.match(As.mathaccentsWithWidth)&&n.setProperty("mathaccent",!1);const a=e.charAt(1)==="o"?"over":"under",o=i.ParseArg(e);i.Push(ce.underOver(i,o,n,a,s))},Overset(i,e){const t=i.ParseArg(e),s=i.ParseArg(e),r=t.coreMO(),n=r.isKind("mo")&&w.getMoAttribute(r,"accent")===!0;ce.checkMovableLimits(s);const a=i.create("node","mover",[s,t],{accent:n});i.Push(a)},Underset(i,e){const t=i.ParseArg(e),s=i.ParseArg(e),r=t.coreMO(),n=r.isKind("mo")&&w.getMoAttribute(r,"accent")===!0;ce.checkMovableLimits(s);const a=i.create("node","munder",[s,t],{accentunder:n});i.Push(a)},Overunderset(i,e){const t=i.ParseArg(e),s=i.ParseArg(e),r=i.ParseArg(e),n=t.coreMO(),a=s.coreMO(),o=n.isKind("mo")&&w.getMoAttribute(n,"accent")===!0,l=a.isKind("mo")&&w.getMoAttribute(a,"accent")===!0;ce.checkMovableLimits(r);const h=i.create("node","munderover",[r,s,t],{accent:o,accentunder:l});i.Push(h)},TeXAtom(i,e,t){const s={texClass:t};let r,n;if(t===T.OP){s.movesupsub=s.movablelimits=!0;const a=i.GetArgument(e),o=a.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);if(o)s.mathvariant=Ne.Variant.NORMAL,n=i.create("token","mi",s,o[1]);else{const l=new Xt(a,i.stack.env,i.configuration).mml();n=i.create("node","TeXAtom",[l],s)}r=i.itemFactory.create("fn",n)}else r=i.create("node","TeXAtom",[i.ParseArg(e)],s);i.Push(r)},VBox(i,e,t){const s=new Xt(i.GetArgument(e),i.stack.env,i.configuration),r={"data-vertical-align":t,texClass:T.ORD};s.stack.env.hsize&&(r.width=s.stack.env.hsize,r["data-overflow"]="linebreak");const n=i.create("node","mpadded",[s.mml()],r);n.setProperty("vbox",t),i.Push(n)},Hsize(i,e){i.GetNext()==="="&&i.i++,i.stack.env.hsize=i.GetDimen(e),i.Push(i.itemFactory.create("null"))},ParBox(i,e){const t=i.GetBrackets(e,"c"),s=i.GetDimen(e),r=ce.internalMath(i,i.GetArgument(e)),n=jr(t,1),a=i.create("node","mpadded",r,{width:s,"data-overflow":"linebreak","data-vertical-align":n});a.setProperty("vbox",n),i.Push(a)},BreakAlign(i,e){const t=i.stack.Top();if(!(t instanceof Ji))throw new q("BreakNotInArray","%1 must be used in an alignment environment",i.currentCS);switch(i.GetArgument(e).trim()){case"c":if(t.First)throw new q("BreakFirstInEntry","%1 must be at the beginning of an alignment entry",i.currentCS+"{c}");t.breakAlign.cell=jr(i.GetArgument(e),1);break;case"r":if(t.row.length||t.First)throw new q("BreakFirstInRow","%1 must be at the beginning of an alignment row",i.currentCS+"{r}");t.breakAlign.row=jr(i.GetArgument(e));break;case"t":if(t.table.length||t.row.length||t.First)throw new q("BreakFirstInTable","%1 must be at the beginning of an alignment",i.currentCS+"{t}");t.breakAlign.table=jr(i.GetArgument(e));break;default:throw new q("BreakType","First argument to %1 must be one of c, r, or t",i.currentCS)}},MmlToken(i,e){const t=i.GetArgument(e);let s=i.GetBrackets(e,"").replace(/^\s+/,"");const r=i.GetArgument(e),n={},a=[];let o;try{o=i.create("node",t)}catch(h){o=null}if(!o||!o.isToken)throw new q("NotMathMLToken","%1 is not a token element",t);for(;s!=="";){const h=s.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);if(!h)throw new q("InvalidMathMLAttr","Invalid MathML attribute: %1",s);if(!o.attributes.hasDefault(h[1])&&!Cm[h[1]])throw new q("UnknownAttrForElement","%1 is not a recognized attribute for %2",h[1],t);let d=ce.mmlFilterAttribute(i,h[1],h[2].replace(/^(['"])(.*)\1$/,"$2"));d&&(d.toLowerCase()==="true"?d=!0:d.toLowerCase()==="false"&&(d=!1),n[h[1]]=d,a.push(h[1])),s=s.substring(h[0].length)}a.length&&(n["mjx-keep-attrs"]=a.join(" "));const l=i.create("text",e1(r));o.appendChild(l),w.setProperties(o,n),i.Push(o)},Strut(i,e){const t=i.create("node","mrow"),s=i.create("node","mpadded",[t],{height:"8.6pt",depth:"3pt",width:0});i.Push(s)},Phantom(i,e,t,s){let r=i.create("node","mphantom",[i.ParseArg(e)]);(t||s)&&(r=i.create("node","mpadded",[r]),s&&(w.setAttribute(r,"height",0),w.setAttribute(r,"depth",0)),t&&w.setAttribute(r,"width",0));const n=i.create("node","TeXAtom",[r]);i.Push(n)},Smash(i,e){const t=$e.trimSpaces(i.GetBrackets(e,"")),s=i.create("node","mpadded",[i.ParseArg(e)]);switch(t){case"b":w.setAttribute(s,"depth",0);break;case"t":w.setAttribute(s,"height",0);break;default:w.setAttribute(s,"height",0),w.setAttribute(s,"depth",0)}const r=i.create("node","TeXAtom",[s]);i.Push(r)},Lap(i,e){const t=i.create("node","mpadded",[i.ParseArg(e)],{width:0});e==="\\llap"&&w.setAttribute(t,"lspace","-1width");const s=i.create("node","TeXAtom",[t]);i.Push(s)},RaiseLower(i,e){let t=i.GetDimen(e);const s=i.itemFactory.create("position").setProperties({name:i.currentCS,move:"vertical"});t.charAt(0)==="-"&&(t=t.slice(1),e=e.substring(1)==="raise"?"\\lower":"\\raise"),e==="\\lower"?(s.setProperty("dh","-"+t),s.setProperty("dd","+"+t)):(s.setProperty("dh","+"+t),s.setProperty("dd","-"+t)),i.Push(s)},MoveLeftRight(i,e){let t=i.GetDimen(e),s=t.charAt(0)==="-"?t.slice(1):"-"+t;if(e==="\\moveleft"){const r=t;t=s,s=r}i.Push(i.itemFactory.create("position").setProperties({name:i.currentCS,move:"horizontal",left:i.create("node","mspace",[],{width:t}),right:i.create("node","mspace",[],{width:s})}))},Hskip(i,e,t=!1){const s=i.create("node","mspace",[],{width:i.GetDimen(e)});t&&w.setAttribute(s,"linebreak","nobreak"),i.Push(s)},Nonscript(i,e){i.Push(i.itemFactory.create("nonscript"))},Rule(i,e,t){const s={width:i.GetDimen(e),height:i.GetDimen(e),depth:i.GetDimen(e)};t!=="blank"&&(s.mathbackground=i.stack.env.color||"black");const r=i.create("node","mspace",[],s);i.Push(r)},rule(i,e){const t=i.GetBrackets(e),s=i.GetDimen(e),r=i.GetDimen(e);let n=i.create("node","mspace",[],{width:s,height:r,mathbackground:i.stack.env.color||"black"});t&&(n=i.create("node","mpadded",[n],{voffset:t}),t.match(/^-/)?(w.setAttribute(n,"height",t),w.setAttribute(n,"depth","+"+t.substring(1))):w.setAttribute(n,"height","+"+t)),i.Push(n)},MakeBig(i,e,t,s){const r=String(s*=vm).replace(/(\.\d\d\d).+/,"$1")+"em",n=i.GetDelimiter(e,!0),a=i.create("token","mo",{minsize:r,maxsize:r,fence:!0,stretchy:!0,symmetric:!0},n),o=i.create("node","TeXAtom",[a],{texClass:t});i.Push(o)},BuildRel(i,e){const t=i.ParseUpTo(e,"\\over"),s=i.ParseArg(e),r=i.create("node","munderover");w.setChild(r,0,s),w.setChild(r,1,null),w.setChild(r,2,t);const n=i.create("node","TeXAtom",[r],{texClass:T.REL});i.Push(n)},HBox(i,e,t,s){i.PushAll(ce.internalMath(i,i.GetArgument(e),t,s))},FBox(i,e){const t=ce.internalMath(i,i.GetArgument(e)),s=i.create("node","menclose",t,{notation:"box"});i.Push(s)},FrameBox(i,e){const t=i.GetBrackets(e),s=i.GetBrackets(e)||"c";let r=ce.internalMath(i,i.GetArgument(e));t&&(r=[i.create("node","mpadded",r,{width:t,"data-align":Ir(s,{l:"left",r:"right"},"center")})]);const n=i.create("node","TeXAtom",[i.create("node","menclose",r,{notation:"box"})],{texClass:T.ORD});i.Push(n)},MakeBox(i,e){const t=i.GetBrackets(e),s=i.GetBrackets(e,"c"),r=i.create("node","mpadded",ce.internalMath(i,i.GetArgument(e)));t&&w.setAttribute(r,"width",t);const n=Ir(s.toLowerCase(),{c:"center",r:"right"},"");n&&w.setAttribute(r,"data-align",n),s.toLowerCase()!==s&&w.setAttribute(r,"data-overflow","linebreak"),i.Push(r)},Not(i,e){i.Push(i.itemFactory.create("not"))},Dots(i,e){const t=w.createEntity("2026"),s=w.createEntity("22EF"),r=i.create("token","mo",{stretchy:!1},t),n=i.create("token","mo",{stretchy:!1},s);i.Push(i.itemFactory.create("dots").setProperties({ldots:r,cdots:n}))},Matrix(i,e,t,s,r,n,a,o,l,h){const d=i.GetNext();if(d==="")throw new q("MissingArgFor","Missing argument for %1",i.currentCS);d==="{"?i.i++:(i.string=d+"}"+i.string.slice(i.i+1),i.i=0);const x=i.itemFactory.create("array").setProperty("requireClose",!0);!t&&r||x.setProperty("arrayPadding",".2em .125em"),x.arraydef={rowspacing:a||"4pt",columnspacing:n||"1em"},l&&x.setProperty("isCases",!0),h&&(x.setProperty("isNumbered",!0),x.arraydef.side=h),(t||s)&&(x.setProperty("open",t),x.setProperty("close",s)),o==="D"&&(x.arraydef.displaystyle=!0),r!=null&&(x.arraydef.columnalign=r),i.Push(x)},Entry(i,e){i.Push(i.itemFactory.create("cell").setProperties({isEntry:!0,name:e}));const t=i.stack.Top(),s=t.getProperty("casesEnv");if(!t.getProperty("isCases")&&!s)return;const r=i.string;let n=0,a=-1,o=i.i,l=r.length;const h=s?new RegExp(`^\\\\end\\s*\\{${s.replace(/\*/,"\\*")}\\}`):null;for(;o<l;){const x=r.charAt(o);if(x==="{")n++,o++;else if(x==="}")n===0?l=0:(n--,n===0&&a<0&&(a=o-i.i),o++);else{if(x==="&"&&n===0)throw new q("ExtraAlignTab","Extra alignment tab in \\cases text");if(x==="\\"){const k=r.substring(o);k.match(/^((\\cr)[^a-zA-Z]|\\\\)/)||h&&k.match(h)?l=0:o+=2}else o++}}const d=r.substring(i.i,o);if(!d.match(/^\s*\\text[^a-zA-Z]/)||a!==d.replace(/\s+$/,"").length-1){const x=ce.internalMath(i,$e.trimSpaces(d),0);i.PushAll(x),i.i=o}},Cr(i,e){i.Push(i.itemFactory.create("cell").setProperties({isCR:!0,name:e}))},CrLaTeX(i,e,t=!1){let s;if(!t&&(i.string.charAt(i.i)==="*"&&i.i++,i.string.charAt(i.i)==="[")){const a=i.GetBrackets(e,""),[o,l]=$e.matchDimen(a);if(a&&!o)throw new q("BracketMustBeDimension","Bracket argument to %1 must be a dimension",i.currentCS);s=o+l}i.Push(i.itemFactory.create("cell").setProperties({isCR:!0,name:e,linebreak:!0}));const r=i.stack.Top();let n;r instanceof Ji?s&&r.addRowSpacing(s):(n=i.create("node","mspace",[],{linebreak:Ne.LineBreak.NEWLINE}),s&&w.setAttribute(n,"data-lineleading",s),i.Push(n))},HLine(i,e,t){t==null&&(t="solid");const s=i.stack.Top();if(!(s instanceof Ji)||s.Size())throw new q("Misplaced","Misplaced %1",i.currentCS);if(s.table.length){const r=s.arraydef.rowlines?s.arraydef.rowlines.split(/ /):[];for(;r.length<s.table.length;)r.push("none");r[s.table.length-1]=t,s.arraydef.rowlines=r.join(" ")}else s.frame.push(["top",t])},HFill(i,e){const t=i.stack.Top();if(!(t instanceof Ji))throw new q("UnsupportedHFill","Unsupported use of %1",i.currentCS);t.hfill.push(t.Size())},NewColumnType(i,e){const t=i.GetArgument(e),s=i.GetBrackets(e,"0"),r=i.GetArgument(e);if(t.length!==1)throw new q("BadColumnName","Column specifier must be exactly one character: %1",t);if(!s.match(/^\d+$/))throw new q("PositiveIntegerArg","Argument to %1 must be a positive integer",s);const n=i.configuration.columnParser;n.columnHandler[t]=a=>n.macroColumn(a,r,parseInt(s)),i.Push(i.itemFactory.create("null"))},BeginEnd(i,e){const t=i.GetArgument(e);if(t.match(/\\/))throw new q("InvalidEnv","Invalid environment name '%1'",t);const s=i.configuration.handlers.get(Te.ENVIRONMENT).lookup(t);if(s&&e==="\\end"){if(!s.args[0]){const r=i.itemFactory.create("end").setProperty("name",t);return void i.Push(r)}i.stack.env.closing=t}ce.checkMaxMacros(i,!1),i.parse(Te.ENVIRONMENT,[i,t])},Array(i,e,t,s,r,n,a,o,l){r||(r=i.GetArgument("\\begin{"+e.getName()+"}"));const h=i.itemFactory.create("array");return e.getName()==="array"&&h.setProperty("arrayPadding",".5em .125em"),h.parser=i,h.arraydef={columnspacing:n||"1em",rowspacing:a||"4pt"},i.configuration.columnParser.process(i,r,h),t&&h.setProperty("open",i.convertDelimiter(t)),s&&h.setProperty("close",i.convertDelimiter(s)),(o||"").charAt(1)==="'"&&(h.arraydef["data-cramped"]=!0,o=o.charAt(0)),o==="D"?h.arraydef.displaystyle=!0:o&&(h.arraydef.displaystyle=!1),h.arraydef.scriptlevel=o==="S"?1:0,l&&(h.arraydef.useHeight=!1),i.Push(e),h.StartEntry(),h},AlignedArray(i,e,t=""){const s=i.GetBrackets("\\begin{"+e.getName()+"}"),r=R1.Array(i,e,null,null,null,null,null,t);return ce.setArrayAlign(r,s)},IndentAlign(i,e){const t=`\\begin{${e.getName()}}`,s=i.GetBrackets(t,""),r=i.GetBrackets(t,""),n=i.GetBrackets(t,"");if(s&&!$e.matchDimen(s)[0]||r&&!$e.matchDimen(r)[0]||n&&!$e.matchDimen(n)[0])throw new q("BracketMustBeDimension","Bracket argument to %1 must be a dimension",t);const a=i.GetArgument(t);if(a&&!a.match(/^([lcr]{1,3})?$/))throw new q("BadAlignment","Alignment must be one to three copies of l, c, or r");const o=[...a].map((h=>({l:"left",c:"center",r:"right"})[h]));o.length===1&&o.push(o[0]);const l={};for(const[h,d]of[["indentshiftfirst",s],["indentshift",r||s],["indentshiftlast",n],["indentalignfirst",o[0]],["indentalign",o[1]],["indentalignlast",o[2]]])d&&(l[h]=d);i.Push(i.itemFactory.create("mstyle",l,e.getName()))},Equation:(i,e,t,s=!0)=>(i.configuration.mathItem.display=s,i.stack.env.display=s,ce.checkEqnEnv(i),i.Push(e),i.itemFactory.create("equation",t).setProperty("name",e.getName())),EqnArray(i,e,t,s,r,n,a){const o=e.getName(),l=o==="gather"||o==="gather*";s&&ce.checkEqnEnv(i,!l),i.Push(e),r=(r=r.replace(/[^clr]/g,"").split("").join(" ")).replace(/l/g,"left").replace(/r/g,"right").replace(/c/g,"center"),n=jr(n);const h=i.itemFactory.create("eqnarray",o,t,s,i.stack.global);return h.arraydef={displaystyle:!0,columnalign:r,columnspacing:a||"1em",rowspacing:"3pt","data-break-align":n,side:i.options.tagSide,minlabelspacing:i.options.tagIndent},l&&h.setProperty("nestable",!0),h},HandleNoTag(i,e){i.tags.notag()},HandleLabel(i,e){const t=i.GetArgument(e);if(t!==""&&!i.tags.refUpdate){if(i.tags.label)throw new q("MultipleCommand","Multiple %1",i.currentCS);if(i.tags.label=t,(i.tags.allLabels[t]||i.tags.labels[t])&&!i.options.ignoreDuplicateLabels)throw new q("MultipleLabel","Label '%1' multiply defined",t);i.tags.labels[t]=new Wo}},HandleRef(i,e,t){const s=i.GetArgument(e);let r=i.tags.allLabels[s]||i.tags.labels[s];r||(i.tags.refUpdate||(i.tags.redo=!0),r=new Wo);let n=r.tag;t&&(n=i.tags.formatRef(n));const a=i.create("node","mrow",ce.internalMath(i,n),{href:i.tags.formatUrl(r.id,i.options.baseURL),class:"MathJax_ref"});i.Push(a)},Macro(i,e,t,s,r){if(s){const n=[];if(r!=null){const a=i.GetBrackets(e);n.push(a==null?r:a)}for(let a=n.length;a<s;a++)n.push(i.GetArgument(e));t=ce.substituteArgs(i,n,t)}i.string=ce.addArgs(i,t,i.string.slice(i.i)),i.i=0,ce.checkMaxMacros(i)},MathChoice(i,e){const t=i.ParseArg(e),s=i.ParseArg(e),r=i.ParseArg(e),n=i.ParseArg(e);i.Push(i.create("node","MathChoice",[t,s,r,n]))}},y=R1,ja=Ne.Variant,Tm={variable(i,e){var t;const s=ce.getFontDef(i),r=i.stack.env;if(r.multiLetterIdentifiers&&r.font!==""&&(e=((t=i.string.substring(i.i-1).match(r.multiLetterIdentifiers))===null||t===void 0?void 0:t[0])||e,i.i+=e.length-1,s.mathvariant===ja.NORMAL&&r.noAutoOP&&e.length>1&&(s.autoOP=!1)),!s.mathvariant&&ce.isLatinOrGreekChar(e)){const a=i.configuration.mathStyle(e);a&&(s.mathvariant=a)}const n=i.create("token","mi",s,e);i.Push(n)},digit(i,e){const t=i.configuration.options.numberPattern,s=i.string.slice(i.i-1).match(t),r=ce.getFontDef(i);if(!s)return!1;const n=i.create("token","mn",r,s[0].replace(/[{}]/g,""));return i.i+=s[0].length-1,i.Push(n),!0},controlSequence(i,e){const t=i.GetCS();i.parse(Te.MACRO,[i,t])},lcGreek(i,e){const t={mathvariant:i.configuration.mathStyle(e.char)||ja.ITALIC},s=i.create("token","mi",t,e.char);i.Push(s)},ucGreek(i,e){const t={mathvariant:i.stack.env.font||i.configuration.mathStyle(e.char,!0)||ja.NORMAL},s=i.create("token","mi",t,e.char);i.Push(s)},mathchar0mi(i,e){const t=e.attributes||{mathvariant:ja.ITALIC},s=i.create("token","mi",t,e.char);i.Push(s)},mathchar0mo(i,e){const t=e.attributes||{};t.stretchy=!1;const s=i.create("token","mo",t,e.char);w.setProperty(s,"fixStretchy",!0),i.configuration.addNode("fixStretchy",s),i.Push(s)},mathchar7(i,e){const t=e.attributes||{mathvariant:ja.NORMAL};i.stack.env.font&&(t.mathvariant=i.stack.env.font);const s=i.create("token","mi",t,e.char);i.Push(s)},delimiter(i,e){let t=e.attributes||{};t=Object.assign({fence:!1,stretchy:!1},t);const s=i.create("token","mo",t,e.char);i.Push(s)},environment(i,e,t,s){const r=i.itemFactory.create("begin").setProperty("name",e);i.Push(t(i,r,...s.slice(1)))}},Vt=Tm,Ua=Qe(Jt.thickmathspace),K=Ne.Variant;new Br("letter",Vt.variable,/[a-z]/i),new Br("digit",Vt.digit,/[0-9.,]/),new Br("command",Vt.controlSequence,/^\\/),new Fr("special",{"{":y.Open,"}":y.Close,"~":y.Tilde,"^":y.Superscript,_:y.Subscript,"|":y.Bar," ":y.Space,"	":y.Space,"\r":y.Space,"\n":y.Space,"'":y.Prime,"%":y.Comment,"&":y.Entry,"#":y.Hash,"\xA0":y.Space,"\u2019":y.Prime}),new qs("lcGreek",Vt.lcGreek,{alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03F5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03D5",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",varepsilon:"\u03B5",vartheta:"\u03D1",varpi:"\u03D6",varrho:"\u03F1",varsigma:"\u03C2",varphi:"\u03C6"}),new qs("ucGreek",Vt.ucGreek,{Gamma:"\u0393",Delta:"\u0394",Theta:"\u0398",Lambda:"\u039B",Xi:"\u039E",Pi:"\u03A0",Sigma:"\u03A3",Upsilon:"\u03A5",Phi:"\u03A6",Psi:"\u03A8",Omega:"\u03A9"}),new qs("mathchar0mi",Vt.mathchar0mi,{AA:"\u212B",S:["\xA7",{mathvariant:K.NORMAL}],aleph:["\u2135",{mathvariant:K.NORMAL}],hbar:["\u210F",{variantForm:!0}],imath:"\u0131",jmath:"\u0237",ell:"\u2113",wp:["\u2118",{mathvariant:K.NORMAL}],Re:["\u211C",{mathvariant:K.NORMAL}],Im:["\u2111",{mathvariant:K.NORMAL}],partial:["\u2202",{mathvariant:K.ITALIC}],infty:["\u221E",{mathvariant:K.NORMAL}],prime:["\u2032",{variantForm:!0}],emptyset:["\u2205",{mathvariant:K.NORMAL}],nabla:["\u2207",{mathvariant:K.NORMAL}],top:["\u22A4",{mathvariant:K.NORMAL}],bot:["\u22A5",{mathvariant:K.NORMAL}],angle:["\u2220",{mathvariant:K.NORMAL}],triangle:["\u25B3",{mathvariant:K.NORMAL}],backslash:["\\",{mathvariant:K.NORMAL}],forall:["\u2200",{mathvariant:K.NORMAL}],exists:["\u2203",{mathvariant:K.NORMAL}],neg:["\xAC",{mathvariant:K.NORMAL}],lnot:["\xAC",{mathvariant:K.NORMAL}],flat:["\u266D",{mathvariant:K.NORMAL}],natural:["\u266E",{mathvariant:K.NORMAL}],sharp:["\u266F",{mathvariant:K.NORMAL}],clubsuit:["\u2663",{mathvariant:K.NORMAL}],diamondsuit:["\u2662",{mathvariant:K.NORMAL}],heartsuit:["\u2661",{mathvariant:K.NORMAL}],spadesuit:["\u2660",{mathvariant:K.NORMAL}]}),new qs("mathchar0mo",Vt.mathchar0mo,{surd:"\u221A",coprod:["\u2210",{movesupsub:!0}],bigvee:["\u22C1",{movesupsub:!0}],bigwedge:["\u22C0",{movesupsub:!0}],biguplus:["\u2A04",{movesupsub:!0}],bigcap:["\u22C2",{movesupsub:!0}],bigcup:["\u22C3",{movesupsub:!0}],int:"\u222B",intop:["\u222B",{movesupsub:!0,movablelimits:!0}],iint:"\u222C",iiint:"\u222D",prod:["\u220F",{movesupsub:!0}],sum:["\u2211",{movesupsub:!0}],bigotimes:["\u2A02",{movesupsub:!0}],bigoplus:["\u2A01",{movesupsub:!0}],bigodot:["\u2A00",{movesupsub:!0}],oint:"\u222E",ointop:["\u222E",{movesupsub:!0,movablelimits:!0}],oiint:"\u222F",oiiint:"\u2230",bigsqcup:["\u2A06",{movesupsub:!0}],smallint:["\u222B",{largeop:!1}],triangleleft:"\u25C3",triangleright:"\u25B9",bigtriangleup:"\u25B3",bigtriangledown:"\u25BD",wedge:"\u2227",land:"\u2227",vee:"\u2228",lor:"\u2228",cap:"\u2229",cup:"\u222A",ddagger:"\u2021",dagger:"\u2020",sqcap:"\u2293",sqcup:"\u2294",uplus:"\u228E",amalg:"\u2A3F",diamond:"\u22C4",bullet:"\u2219",wr:"\u2240",div:"\xF7",odot:["\u2299",{largeop:!1}],oslash:["\u2298",{largeop:!1}],otimes:["\u2297",{largeop:!1}],ominus:["\u2296",{largeop:!1}],oplus:["\u2295",{largeop:!1}],mp:"\u2213",pm:"\xB1",circ:"\u2218",bigcirc:"\u25EF",setminus:"\u2216",cdot:"\u22C5",ast:"\u2217",times:"\xD7",star:"\u22C6",propto:"\u221D",sqsubseteq:"\u2291",sqsupseteq:"\u2292",parallel:"\u2225",mid:"\u2223",dashv:"\u22A3",vdash:"\u22A2",leq:"\u2264",le:"\u2264",geq:"\u2265",ge:"\u2265",lt:"<",gt:">",succ:"\u227B",prec:"\u227A",approx:"\u2248",succeq:"\u2AB0",preceq:"\u2AAF",supset:"\u2283",subset:"\u2282",supseteq:"\u2287",subseteq:"\u2286",in:"\u2208",ni:"\u220B",notin:"\u2209",owns:"\u220B",gg:"\u226B",ll:"\u226A",sim:"\u223C",simeq:"\u2243",perp:"\u27C2",equiv:"\u2261",asymp:"\u224D",smile:"\u2323",frown:"\u2322",ne:"\u2260",neq:"\u2260",cong:"\u2245",doteq:"\u2250",bowtie:"\u22C8",models:"\u22A7",notChar:"\u29F8",Leftrightarrow:"\u21D4",Leftarrow:"\u21D0",Rightarrow:"\u21D2",leftrightarrow:"\u2194",leftarrow:"\u2190",gets:"\u2190",rightarrow:"\u2192",to:["\u2192",{accent:!1}],mapsto:"\u21A6",leftharpoonup:"\u21BC",leftharpoondown:"\u21BD",rightharpoonup:"\u21C0",rightharpoondown:"\u21C1",nearrow:"\u2197",searrow:"\u2198",nwarrow:"\u2196",swarrow:"\u2199",rightleftharpoons:"\u21CC",hookrightarrow:"\u21AA",hookleftarrow:"\u21A9",longleftarrow:"\u27F5",Longleftarrow:"\u27F8",longrightarrow:"\u27F6",Longrightarrow:"\u27F9",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",ldots:"\u2026",cdots:"\u22EF",vdots:"\u22EE",ddots:"\u22F1",iddots:"\u22F0",dotsc:"\u2026",dotsb:"\u22EF",dotsm:"\u22EF",dotsi:"\u22EF",dotso:"\u2026",ldotp:[".",{texClass:T.PUNCT}],cdotp:["\u22C5",{texClass:T.PUNCT}],colon:[":",{texClass:T.PUNCT}]}),new qs("mathchar7",Vt.mathchar7,{_:"_","#":"#",$:"$","%":"%","&":"&",And:"&"}),new vn("delimiter",Vt.delimiter,{"(":"(",")":")","[":"[","]":"]","<":"\u27E8",">":"\u27E9","\\lt":"\u27E8","\\gt":"\u27E9","/":"/","|":["|",{texClass:T.ORD}],".":"","\\lmoustache":"\u23B0","\\rmoustache":"\u23B1","\\lgroup":"\u27EE","\\rgroup":"\u27EF","\\arrowvert":"\u23D0","\\Arrowvert":"\u2016","\\bracevert":"\u23AA","\\Vert":["\u2016",{texClass:T.ORD}],"\\|":["\u2016",{texClass:T.ORD}],"\\vert":["|",{texClass:T.ORD}],"\\uparrow":"\u2191","\\downarrow":"\u2193","\\updownarrow":"\u2195","\\Uparrow":"\u21D1","\\Downarrow":"\u21D3","\\Updownarrow":"\u21D5","\\backslash":"\\","\\rangle":"\u27E9","\\langle":"\u27E8","\\rbrace":"}","\\lbrace":"{","\\}":"}","\\{":"{","\\rceil":"\u2309","\\lceil":"\u2308","\\rfloor":"\u230B","\\lfloor":"\u230A","\\lbrack":"[","\\rbrack":"]"}),new pi("macros",{displaystyle:[y.SetStyle,"D",!0,0],textstyle:[y.SetStyle,"T",!1,0],scriptstyle:[y.SetStyle,"S",!1,1],scriptscriptstyle:[y.SetStyle,"SS",!1,2],rm:[y.SetFont,K.NORMAL],mit:[y.SetFont,K.ITALIC],oldstyle:[y.SetFont,K.OLDSTYLE],cal:[y.SetFont,K.CALLIGRAPHIC],it:[y.SetFont,K.MATHITALIC],bf:[y.SetFont,K.BOLD],sf:[y.SetFont,K.SANSSERIF],tt:[y.SetFont,K.MONOSPACE],frak:[y.MathFont,K.FRAKTUR],Bbb:[y.MathFont,K.DOUBLESTRUCK],mathrm:[y.MathFont,K.NORMAL],mathup:[y.MathFont,K.NORMAL],mathnormal:[y.MathFont,""],mathbf:[y.MathFont,K.BOLD],mathbfup:[y.MathFont,K.BOLD],mathit:[y.MathFont,K.MATHITALIC],mathbfit:[y.MathFont,K.BOLDITALIC],mathbb:[y.MathFont,K.DOUBLESTRUCK],mathfrak:[y.MathFont,K.FRAKTUR],mathbffrak:[y.MathFont,K.BOLDFRAKTUR],mathscr:[y.MathFont,K.SCRIPT],mathbfscr:[y.MathFont,K.BOLDSCRIPT],mathsf:[y.MathFont,K.SANSSERIF],mathsfup:[y.MathFont,K.SANSSERIF],mathbfsf:[y.MathFont,K.BOLDSANSSERIF],mathbfsfup:[y.MathFont,K.BOLDSANSSERIF],mathsfit:[y.MathFont,K.SANSSERIFITALIC],mathbfsfit:[y.MathFont,K.SANSSERIFBOLDITALIC],mathtt:[y.MathFont,K.MONOSPACE],mathcal:[y.MathFont,K.CALLIGRAPHIC],mathbfcal:[y.MathFont,K.BOLDCALLIGRAPHIC],symrm:[y.MathFont,K.NORMAL],symup:[y.MathFont,K.NORMAL],symnormal:[y.MathFont,""],symbf:[y.MathFont,K.BOLD,K.BOLDITALIC],symbfup:[y.MathFont,K.BOLD],symit:[y.MathFont,K.ITALIC],symbfit:[y.MathFont,K.BOLDITALIC],symbb:[y.MathFont,K.DOUBLESTRUCK],symfrak:[y.MathFont,K.FRAKTUR],symbffrak:[y.MathFont,K.BOLDFRAKTUR],symscr:[y.MathFont,K.SCRIPT],symbfscr:[y.MathFont,K.BOLDSCRIPT],symsf:[y.MathFont,K.SANSSERIF,K.SANSSERIFITALIC],symsfup:[y.MathFont,K.SANSSERIF],symbfsf:[y.MathFont,K.BOLDSANSSERIF],symbfsfup:[y.MathFont,K.BOLDSANSSERIF],symsfit:[y.MathFont,K.SANSSERIFITALIC],symbfsfit:[y.MathFont,K.SANSSERIFBOLDITALIC],symtt:[y.MathFont,K.MONOSPACE],symcal:[y.MathFont,K.CALLIGRAPHIC],symbfcal:[y.MathFont,K.BOLDCALLIGRAPHIC],textrm:[y.HBox,null,K.NORMAL],textup:[y.HBox,null,K.NORMAL],textnormal:[y.HBox],textit:[y.HBox,null,K.ITALIC],textbf:[y.HBox,null,K.BOLD],textsf:[y.HBox,null,K.SANSSERIF],texttt:[y.HBox,null,K.MONOSPACE],tiny:[y.SetSize,.5],Tiny:[y.SetSize,.6],scriptsize:[y.SetSize,.7],small:[y.SetSize,.85],normalsize:[y.SetSize,1],large:[y.SetSize,1.2],Large:[y.SetSize,1.44],LARGE:[y.SetSize,1.73],huge:[y.SetSize,2.07],Huge:[y.SetSize,2.49],arcsin:y.NamedFn,arccos:y.NamedFn,arctan:y.NamedFn,arg:y.NamedFn,cos:y.NamedFn,cosh:y.NamedFn,cot:y.NamedFn,coth:y.NamedFn,csc:y.NamedFn,deg:y.NamedFn,det:y.NamedOp,dim:y.NamedFn,exp:y.NamedFn,gcd:y.NamedOp,hom:y.NamedFn,inf:y.NamedOp,ker:y.NamedFn,lg:y.NamedFn,lim:y.NamedOp,liminf:[y.NamedOp,"lim&thinsp;inf"],limsup:[y.NamedOp,"lim&thinsp;sup"],ln:y.NamedFn,log:y.NamedFn,max:y.NamedOp,min:y.NamedOp,Pr:y.NamedOp,sec:y.NamedFn,sin:y.NamedFn,sinh:y.NamedFn,sup:y.NamedOp,tan:y.NamedFn,tanh:y.NamedFn,limits:[y.Limits,!0],nolimits:[y.Limits,!1],overline:[y.UnderOver,"2015"],underline:[y.UnderOver,"2015"],overbrace:[y.UnderOver,"23DE",!0],underbrace:[y.UnderOver,"23DF",!0],overparen:[y.UnderOver,"23DC"],underparen:[y.UnderOver,"23DD"],overrightarrow:[y.UnderOver,"2192"],underrightarrow:[y.UnderOver,"2192"],overleftarrow:[y.UnderOver,"2190"],underleftarrow:[y.UnderOver,"2190"],overleftrightarrow:[y.UnderOver,"2194"],underleftrightarrow:[y.UnderOver,"2194"],overset:y.Overset,underset:y.Underset,overunderset:y.Overunderset,stackrel:[y.Macro,"\\mathrel{\\mathop{#2}\\limits^{#1}}",2],stackbin:[y.Macro,"\\mathbin{\\mathop{#2}\\limits^{#1}}",2],over:y.Over,overwithdelims:y.Over,atop:y.Over,atopwithdelims:y.Over,above:y.Over,abovewithdelims:y.Over,brace:[y.Over,"{","}"],brack:[y.Over,"[","]"],choose:[y.Over,"(",")"],frac:y.Frac,sqrt:y.Sqrt,root:y.Root,uproot:[y.MoveRoot,"upRoot"],leftroot:[y.MoveRoot,"leftRoot"],left:y.LeftRight,right:y.LeftRight,middle:y.LeftRight,llap:y.Lap,rlap:y.Lap,raise:y.RaiseLower,lower:y.RaiseLower,moveleft:y.MoveLeftRight,moveright:y.MoveLeftRight,",":[y.Spacer,Jt.thinmathspace],":":[y.Spacer,Jt.mediummathspace],">":[y.Spacer,Jt.mediummathspace],";":[y.Spacer,Jt.thickmathspace],"!":[y.Spacer,Jt.negativethinmathspace],enspace:[y.Spacer,.5],quad:[y.Spacer,1],qquad:[y.Spacer,2],thinspace:[y.Spacer,Jt.thinmathspace],negthinspace:[y.Spacer,Jt.negativethinmathspace],"*":y.DiscretionaryTimes,allowbreak:y.AllowBreak,goodbreak:[y.Linebreak,Ne.LineBreak.GOODBREAK],badbreak:[y.Linebreak,Ne.LineBreak.BADBREAK],nobreak:[y.Linebreak,Ne.LineBreak.NOBREAK],break:y.Break,hskip:y.Hskip,hspace:y.Hskip,kern:[y.Hskip,!0],mskip:y.Hskip,mspace:y.Hskip,mkern:[y.Hskip,!0],rule:y.rule,Rule:[y.Rule],Space:[y.Rule,"blank"],nonscript:y.Nonscript,big:[y.MakeBig,T.ORD,.85],Big:[y.MakeBig,T.ORD,1.15],bigg:[y.MakeBig,T.ORD,1.45],Bigg:[y.MakeBig,T.ORD,1.75],bigl:[y.MakeBig,T.OPEN,.85],Bigl:[y.MakeBig,T.OPEN,1.15],biggl:[y.MakeBig,T.OPEN,1.45],Biggl:[y.MakeBig,T.OPEN,1.75],bigr:[y.MakeBig,T.CLOSE,.85],Bigr:[y.MakeBig,T.CLOSE,1.15],biggr:[y.MakeBig,T.CLOSE,1.45],Biggr:[y.MakeBig,T.CLOSE,1.75],bigm:[y.MakeBig,T.REL,.85],Bigm:[y.MakeBig,T.REL,1.15],biggm:[y.MakeBig,T.REL,1.45],Biggm:[y.MakeBig,T.REL,1.75],mathord:[y.TeXAtom,T.ORD],mathop:[y.TeXAtom,T.OP],mathopen:[y.TeXAtom,T.OPEN],mathclose:[y.TeXAtom,T.CLOSE],mathbin:[y.TeXAtom,T.BIN],mathrel:[y.TeXAtom,T.REL],mathpunct:[y.TeXAtom,T.PUNCT],mathinner:[y.TeXAtom,T.INNER],vtop:[y.VBox,"top"],vcenter:[y.VBox,"center"],vbox:[y.VBox,"bottom"],hsize:y.Hsize,parbox:y.ParBox,breakAlign:y.BreakAlign,buildrel:y.BuildRel,hbox:[y.HBox,0],text:y.HBox,mbox:[y.HBox,0],fbox:y.FBox,boxed:[y.Macro,"\\fbox{$\\displaystyle{#1}$}",1],framebox:y.FrameBox,makebox:y.MakeBox,strut:y.Strut,mathstrut:[y.Macro,"\\vphantom{(}"],phantom:y.Phantom,vphantom:[y.Phantom,1,0],hphantom:[y.Phantom,0,1],smash:y.Smash,acute:[y.Accent,"00B4"],grave:[y.Accent,"0060"],ddot:[y.Accent,"00A8"],dddot:[y.Accent,"20DB"],ddddot:[y.Accent,"20DC"],tilde:[y.Accent,"007E"],bar:[y.Accent,"00AF"],breve:[y.Accent,"02D8"],check:[y.Accent,"02C7"],hat:[y.Accent,"005E"],vec:[y.Accent,"2192",!1],dot:[y.Accent,"02D9"],widetilde:[y.Accent,"007E",!0],widehat:[y.Accent,"005E",!0],matrix:y.Matrix,array:y.Matrix,pmatrix:[y.Matrix,"(",")"],cases:[y.Matrix,"{","","left left",null,".2em",null,!0],eqalign:[y.Matrix,null,null,"right left",Ua,".5em","D"],displaylines:[y.Matrix,null,null,"center",null,".5em","D"],cr:y.Cr,"\\":y.CrLaTeX,newline:[y.CrLaTeX,!0],hline:y.HLine,hdashline:[y.HLine,"dashed"],eqalignno:[y.Matrix,null,null,"right left",Ua,".5em","D",null,"right"],leqalignno:[y.Matrix,null,null,"right left",Ua,".5em","D",null,"left"],hfill:y.HFill,hfil:y.HFill,hfilll:y.HFill,bmod:[y.Macro,'\\mmlToken{mo}[lspace="'+Ua+'" rspace="'+Ua+'"]{mod}'],pmod:[y.Macro,"\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}",1],mod:[y.Macro,"\\mathchoice{\\kern18mu}{\\kern12mu}{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1",1],pod:[y.Macro,"\\mathchoice{\\kern18mu}{\\kern8mu}{\\kern8mu}{\\kern8mu}(#1)",1],iff:[y.Macro,"\\;\\Longleftrightarrow\\;"],skew:[y.Macro,"{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}",3],pmb:[y.Macro,"\\rlap{#1}\\kern1px{#1}",1],TeX:[y.Macro,"T\\kern-.14em\\lower.5ex{E}\\kern-.115em X"],LaTeX:[y.Macro,"L\\kern-.325em\\raise.21em{\\scriptstyle{A}}\\kern-.17em\\TeX"],not:y.Not,dots:y.Dots,space:y.Tilde,"\xA0":y.Tilde," ":y.Tilde,begin:y.BeginEnd,end:y.BeginEnd,label:y.HandleLabel,ref:y.HandleRef,nonumber:y.HandleNoTag,newcolumntype:y.NewColumnType,mathchoice:y.MathChoice,mmlToken:y.MmlToken}),new Da("environment",Vt.environment,{displaymath:[y.Equation,null,!1],math:[y.Equation,null,!1,!1],array:[y.AlignedArray],darray:[y.AlignedArray,null,"D"],equation:[y.Equation,null,!0],eqnarray:[y.EqnArray,null,!0,!0,"rcl","bmt",ce.cols(0,Jt.thickmathspace),".5em"],indentalign:[y.IndentAlign]}),new qs("not_remap",null,{"\u2190":"\u219A","\u2192":"\u219B","\u2194":"\u21AE","\u21D0":"\u21CD","\u21D2":"\u21CF","\u21D4":"\u21CE","\u2208":"\u2209","\u220B":"\u220C","\u2223":"\u2224","\u2225":"\u2226","\u223C":"\u2241","~":"\u2241","\u2243":"\u2244","\u2245":"\u2247","\u2248":"\u2249","\u224D":"\u226D","=":"\u2260","\u2261":"\u2262","<":"\u226E",">":"\u226F","\u2264":"\u2270","\u2265":"\u2271","\u2272":"\u2274","\u2273":"\u2275","\u2276":"\u2278","\u2277":"\u2279","\u227A":"\u2280","\u227B":"\u2281","\u2282":"\u2284","\u2283":"\u2285","\u2286":"\u2288","\u2287":"\u2289","\u22A2":"\u22AC","\u22A8":"\u22AD","\u22A9":"\u22AE","\u22AB":"\u22AF","\u227C":"\u22E0","\u227D":"\u22E1","\u2291":"\u22E2","\u2292":"\u22E3","\u22B2":"\u22EA","\u22B3":"\u22EB","\u22B4":"\u22EC","\u22B5":"\u22ED","\u2203":"\u2204"});const wm=Ne.Variant;function _1(i,e){const t=i.stack.env.font,s=i.stack.env.italicFont,r=t?{mathvariant:t}:{},n=Pa.getMap("remap").lookup(e),a=au(e),o=a[3],l=i.create("token",o,r,n?n.char:e),h=ce.isLatinOrGreekChar(e)?i.configuration.mathStyle(e,!0)||s:"",d=a[4]||(t&&h===wm.NORMAL?"":h);d&&l.attributes.set("mathvariant",d),o==="mo"&&(w.setProperty(l,"fixStretchy",!0),i.configuration.addNode("fixStretchy",l)),i.Push(l)}new qs("remap",null,{"-":"\u2212","*":"\u2217","`":"\u2018"});class O1 extends _a{}const km=Ps.create("base",{[Ae.CONFIG]:function(i,e){const t=e.parseOptions.options;t.digits&&(t.numberPattern=t.digits),new Br("digit",Vt.digit,t.initialDigit),new Br("letter",Vt.variable,t.initialLetter),i.handlers.get(Te.CHARACTER).add(["letter","digit"],null,4)},[Ae.HANDLER]:{[Te.CHARACTER]:["command","special"],[Te.DELIMITER]:["delimiter"],[Te.MACRO]:["delimiter","macros","lcGreek","ucGreek","mathchar0mi","mathchar0mo","mathchar7"],[Te.ENVIRONMENT]:["environment"]},[Ae.FALLBACK]:{[Te.CHARACTER]:_1,[Te.MACRO]:function(i,e){throw new q("UndefinedControlSequence","Undefined control sequence %1","\\"+e)},[Te.ENVIRONMENT]:function(i,e){throw new q("UnknownEnv","Unknown environment '%1'",e)}},[Ae.ITEMS]:{[Ba.prototype.kind]:Ba,[Tn.prototype.kind]:Tn,[Jo.prototype.kind]:Jo,[Au.prototype.kind]:Au,[Lu.prototype.kind]:Lu,[Mu.prototype.kind]:Mu,[Ko.prototype.kind]:Ko,[Su.prototype.kind]:Su,[$o.prototype.kind]:$o,[Iu.prototype.kind]:Iu,[Ru.prototype.kind]:Ru,[_u.prototype.kind]:_u,[Yo.prototype.kind]:Yo,[Ou.prototype.kind]:Ou,[wn.prototype.kind]:wn,[Du.prototype.kind]:Du,[Pu.prototype.kind]:Pu,[Fa.prototype.kind]:Fa,[Bu.prototype.kind]:Bu,[Fu.prototype.kind]:Fu,[ju.prototype.kind]:ju,[Uu.prototype.kind]:Uu,[Ji.prototype.kind]:Ji,[Qo.prototype.kind]:Qo,[Hu.prototype.kind]:Hu,[qu.prototype.kind]:qu},[Ae.OPTIONS]:{maxMacros:1e3,digits:"",numberPattern:/^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,initialDigit:/[0-9.,]/,identifierPattern:/^[a-zA-Z]+/,initialLetter:/[a-zA-Z]/,baseURL:Os.document&&Os.document.getElementsByTagName("base").length!==0?String(Os.document.location).replace(/#.*$/,""):""},[Ae.TAGS]:{base:O1},[Ae.POSTPROCESSORS]:[[function({data:i}){for(const e of i.getList("nonscript"))if(e.attributes.get("scriptlevel")>0){const t=e.parent;if(t.childNodes.splice(t.childIndex(e),1),i.removeFromList(e.kind,[e]),e.isKind("mrow")){const s=e.childNodes[0];i.removeFromList("mstyle",[s]),i.removeFromList("mspace",s.childNodes[0].childNodes)}}else e.isKind("mrow")&&(e.parent.replaceChild(e.childNodes[0],e),i.removeFromList("mrow",[e]))},-4]]});class Ur extends ar{static configure(e){const t=new ku(e,["tex"]);return t.init(),t}static tags(e,t){Li.addTags(t.tags),Li.setDefault(e.options.tags),e.tags=Li.getDefault(),e.tags.configuration=e}constructor(e={}){const[t,s,r]=sa(e,Ur.OPTIONS,Ho.OPTIONS);super(s),this.findTeX=this.options.FindTeX||new Ho(r);const n=this.options.packages,a=this.configuration=Ur.configure(n),o=this._parseOptions=new Nu(a,[this.options,Li.OPTIONS]);Ds(o.options,t),a.config(this),Ur.tags(o,a),this.postFilters.addList([[hr.cleanSubSup,-7],[hr.setInherited,-6],[hr.checkScriptlevel,-5],[hr.moveLimits,-4],[hr.cleanStretchy,-3],[hr.cleanAttributes,-2],[hr.combineRelations,-1]])}setMmlFactory(e){super.setMmlFactory(e),this._parseOptions.nodeFactory.setMmlFactory(e)}get parseOptions(){return this._parseOptions}reset(e=0){this.parseOptions.tags.reset(e)}compile(e,t){let s,r;this.parseOptions.clear(),this.parseOptions.mathItem=e,this.executeFilters(this.preFilters,e,t,this.parseOptions),this.latex=e.math,this.parseOptions.tags.startEquation(e);try{r=new Xt(this.latex,{display:e.display,isInner:!1},this.parseOptions),s=r.mml()}catch(n){if(!(n instanceof q))throw n;this.parseOptions.error=!0,s=this.options.formatError(this,n)}return s=this.parseOptions.nodeFactory.create("node","math",[s]),s.attributes.set(Ne.Attr.LATEX,this.latex),e.display&&w.setAttribute(s,"display","block"),this.parseOptions.tags.finishEquation(e),this.parseOptions.root=s,this.executeFilters(this.postFilters,e,t,this.parseOptions),r&&r.stack.env.hsize&&(w.setAttribute(s,"maxwidth",r.stack.env.hsize),w.setAttribute(s,"overflow","linebreak")),this.mathNode=this.parseOptions.root,this.mathNode}findMath(e){return this.findTeX.findMath(e)}formatError(e){const t=e.message.replace(/\n.*/,"");return this.parseOptions.nodeFactory.create("error",t,e.id,this.latex)}}Ur.NAME="TeX",Ur.OPTIONS=Object.assign(Object.assign({},ar.OPTIONS),{FindTeX:null,packages:["base"],maxBuffer:5120,maxTemplateSubtitutions:1e4,mathStyle:"TeX",formatError:(i,e)=>i.formatError(e)});class Wu extends Ji{constructor(e,...t){super(e),this.factory.configuration.tags.start("multline",!0,t[0])}get kind(){return"multline"}EndEntry(){this.table.length&&ce.fixInitialMO(this.factory.configuration,this.nodes);const e=this.getProperty("shove"),t=this.create("node","mtd",this.nodes,e?{columnalign:e}:{});this.setProperty("shove",null),this.row.push(t),this.Clear()}EndRow(){if(this.row.length!==1)throw new q("MultlineRowsOneCol","The rows within the %1 environment must have exactly one column","multline");const e=this.create("node","mtr",this.row);this.table.push(e),this.row=[]}EndTable(){if(super.EndTable(),this.table.length){const e=this.table.length-1;let t=-1;w.getAttribute(w.getChildren(this.table[0])[0],"columnalign")||w.setAttribute(w.getChildren(this.table[0])[0],"columnalign",Ne.Align.LEFT),w.getAttribute(w.getChildren(this.table[e])[0],"columnalign")||w.setAttribute(w.getChildren(this.table[e])[0],"columnalign",Ne.Align.RIGHT);const s=this.factory.configuration.tags.getTag();if(s){t=this.arraydef.side===Ne.Align.LEFT?0:this.table.length-1;const r=this.table[t],n=this.create("node","mlabeledtr",[s].concat(w.getChildren(r)));w.copyAttributes(r,n),this.table[t]=n}}this.factory.configuration.tags.end()}}class zu extends Qo{get kind(){return"flalign"}constructor(e,t,s,r,n){super(e),this.name=t,this.numbered=s,this.padded=r,this.center=n,this.factory.configuration.tags.start(t,s,s)}EndEntry(){super.EndEntry();const e=this.getProperty("xalignat");if(e&&this.row.length>e)throw new q("XalignOverflow","Extra %1 in row of %2","&",this.name)}EndRow(){let e;const t=this.row,s=this.getProperty("xalignat");for(;t.length<s;)t.push(this.create("node","mtd"));for(this.row=[],this.padded&&this.row.push(this.create("node","mtd"));e=t.shift();)this.row.push(e),e=t.shift(),e&&this.row.push(e),(t.length||this.padded)&&this.row.push(this.create("node","mtd"));this.row.length>this.maxrow&&(this.maxrow=this.row.length),super.EndRow();const r=this.table[this.table.length-1];if(this.getProperty("zeroWidthLabel")&&r.isKind("mlabeledtr")){const n=w.getChildren(r)[0],a=this.factory.configuration.options.tagSide,o=Object.assign({width:0},a==="right"?{lspace:"-1width"}:{}),l=this.create("node","mpadded",w.getChildren(n),o);n.setChildren([l])}}EndTable(){super.EndTable(),this.center&&this.maxrow<=2&&(delete this.arraydef.width,delete this.global.indentalign)}}var Ls;(function(i){i.NEW_DELIMITER="new-Delimiter",i.NEW_COMMAND="new-Command",i.NEW_ENVIRONMENT="new-Environment"})(Ls||(Ls={}));const D1=-100,ft={GetCSname(i,e){if(i.GetNext()!=="\\")throw new q("MissingCS","%1 must be followed by a control sequence",e);const t=$e.trimSpaces(i.GetArgument(e)).substring(1);return this.checkProtectedMacros(i,t),t},GetCsNameArgument(i,e){let t=$e.trimSpaces(i.GetArgument(e));if(t.charAt(0)==="\\"&&(t=t.substring(1)),!t.match(/^(.|[a-z]+)$/i))throw new q("IllegalControlSequenceName","Illegal control sequence name for %1",e);return this.checkProtectedMacros(i,t),t},GetArgCount(i,e){let t=i.GetBrackets(e);if(t&&(t=$e.trimSpaces(t),!t.match(/^[0-9]+$/)))throw new q("IllegalParamNumber","Illegal number of parameters specified in %1",e);return t},GetTemplate(i,e,t){let s=i.GetNext();const r=[];let n=0,a=i.i;for(;i.i<i.string.length;){if(s=i.GetNext(),s==="#"){if(a!==i.i&&(r[n]=i.string.substring(a,i.i)),s=i.string.charAt(++i.i),!s.match(/^[1-9]$/))throw new q("CantUseHash2","Illegal use of # in template for %1",t);if(parseInt(s)!==++n)throw new q("SequentialParam","Parameters for %1 must be numbered sequentially",t);a=i.i+1}else if(s==="{")return a!==i.i&&(r[n]=i.string.substring(a,i.i)),r.length>0?[n.toString()].concat(r):n;i.i++}throw new q("MissingReplacementString","Missing replacement string for definition of %1",e)},GetParameter(i,e,t){if(t==null)return i.GetArgument(e);let s=i.i,r=0,n=!1;for(;i.i<i.string.length;){const a=i.string.charAt(i.i);if(a==="{")n=i.i===s,i.GetArgument(e),r=i.i-s;else{if(this.MatchParam(i,t))return n&&(s++,r-=2),i.string.substring(s,s+r);if(a==="\\"){i.i++,r++,n=!1;const o=i.string.substring(i.i).match(/[a-z]+|./i);o&&(i.i+=o[0].length,r=i.i-s)}else i.i++,r++,n=!1}}throw new q("RunawayArgument","Runaway argument for %1?",e)},MatchParam:(i,e)=>i.string.substring(i.i,i.i+e.length)!==e||e.match(/\\[a-z]+$/i)&&i.string.charAt(i.i+e.length).match(/[a-z]/i)?0:(i.i+=e.length,1),checkGlobal:(i,e,t)=>i.stack.env.isGlobal?i.configuration.packageData.get("begingroup").stack.checkGlobal(e,t):t.map((s=>i.configuration.handlers.retrieve(s))),checkProtectedMacros(i,e){var t;if(!((t=i.options.protectedMacros)===null||t===void 0)&&t.includes(e))throw new q("ProtectedMacro","The control sequence %1 can't be redefined",`\\${e}`)},addDelimiter(i,e,t,s){const r=e.substring(1);this.checkProtectedMacros(i,r);const[n,a]=ft.checkGlobal(i,[r,e],[Ls.NEW_COMMAND,Ls.NEW_DELIMITER]);r!==e&&n.remove(r),a.add(e,new Vo(e,t,s)),delete i.stack.env.isGlobal},addMacro(i,e,t,s,r=""){this.checkProtectedMacros(i,e);const n=ft.checkGlobal(i,[e],[Ls.NEW_COMMAND])[0];this.undefineDelimiter(i,"\\"+e),n.add(e,new Mi(r||e,t,s)),delete i.stack.env.isGlobal},addEnvironment(i,e,t,s){ft.checkGlobal(i,[e],[Ls.NEW_ENVIRONMENT])[0].add(e,new Mi(e,t,s)),delete i.stack.env.isGlobal},undefineMacro(i,e){const t=ft.checkGlobal(i,[e],[Ls.NEW_COMMAND])[0];t.remove(e),i.configuration.handlers.get(Te.MACRO).applicable(e)&&(t.add(e,new Mi(e,(()=>Cn.FALLBACK),[])),this.undefineDelimiter(i,"\\"+e)),delete i.stack.env.isGlobal},undefineDelimiter(i,e){const t=ft.checkGlobal(i,[e],[Ls.NEW_DELIMITER])[0];t.remove(e),i.configuration.handlers.get(Te.DELIMITER).applicable(e)&&t.add(e,new Vo(e,null,{})),delete i.stack.env.isGlobal}};function P1(i){if(!i||i.isInferred&&i.childNodes.length===0)return[null,null];if(i.isKind("msubsup")&&B1(i))return[i,null];const e=w.getChildAt(i,0);return i.isInferred&&e&&B1(e)?(i.childNodes.splice(0,1),[e,i]):[null,i]}function B1(i){const e=i.childNodes[0];return e&&e.isKind("mi")&&e.getText()===""}const ne={AmsEqnArray(i,e,t,s,r,n,a,o){const l=i.GetBrackets("\\begin{"+e.getName()+"}"),h=y.EqnArray(i,e,t,s,r,n,a,o);return ce.setArrayAlign(h,l,i)},AlignAt(i,e,t,s){const r=e.getName();let n,a="",o="";const l=[];s||(n=i.GetBrackets("\\begin{"+r+"}"));const h=i.GetArgument("\\begin{"+r+"}");if(h.match(/[^0-9]/))throw new q("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+r+"}");let d=parseInt(h,10);for(;d>0;)a+="rl",o+="bt",l.push("0em 0em"),d--;const x=l.join(" ");if(s)return ne.EqnArray(i,e,t,s,a,o,x);const k=ne.EqnArray(i,e,t,s,a,o,x);return ce.setArrayAlign(k,n,i)},Multline(i,e,t){ce.checkEqnEnv(i),i.Push(e);const s=i.options.ams.multlineIndent,r=i.itemFactory.create("multline",t,i.stack);return r.arraydef={displaystyle:!0,rowspacing:".5em",columnspacing:"100%",width:i.options.ams.multlineWidth,side:i.options.tagSide,minlabelspacing:i.options.tagIndent,"data-array-padding":`${s} ${s}`,"data-width-includes-label":!0},r},XalignAt(i,e,t,s){const r=i.GetArgument("\\begin{"+e.getName()+"}");if(r.match(/[^0-9]/))throw new q("PositiveIntegerArg","Argument to %1 must be a positive integer","\\begin{"+e.getName()+"}");const n=s?"crl":"rlc",a=s?"mbt":"btm",o=s?"fit auto auto":"auto auto fit",l=ne.FlalignArray(i,e,t,s,!1,n,a,o,!0);return l.setProperty("xalignat",2*parseInt(r)),l},FlalignArray(i,e,t,s,r,n,a,o,l=!1){ce.checkEqnEnv(i),i.Push(e),n=n.split("").join(" ").replace(/r/g,"right").replace(/l/g,"left").replace(/c/g,"center"),a=jr(a);const h=i.itemFactory.create("flalign",e.getName(),t,s,r,i.stack);return h.arraydef={width:"100%",displaystyle:!0,columnalign:n,columnspacing:"0em",columnwidth:o,rowspacing:"3pt","data-break-align":a,side:i.options.tagSide,minlabelspacing:l?"0":i.options.tagIndent,"data-width-includes-label":!0},h.setProperty("zeroWidthLabel",l),h},HandleDeclareOp(i,e){const t=i.GetStar()?"*":"",s=ft.GetCsNameArgument(i,e),r=i.GetArgument(e);ft.addMacro(i,s,ne.Macro,[`\\operatorname${t}{${r}}`]),i.Push(i.itemFactory.create("null"))},HandleOperatorName(i,e){const t=i.GetStar(),s=$e.trimSpaces(i.GetArgument(e));let r=new Xt(s,Object.assign(Object.assign({},i.stack.env),{font:Ne.Variant.NORMAL,multiLetterIdentifiers:i.options.ams.operatornamePattern,operatorLetters:!0}),i.configuration).mml();if(r.isKind("mi")||(r=i.create("node","TeXAtom",[r])),w.setProperties(r,{movesupsub:t,movablelimits:!0,texClass:T.OP}),!t){const n=i.GetNext(),a=i.i;n==="\\"&&++i.i&&i.GetCS()!=="limits"&&(i.i=a)}i.Push(i.itemFactory.create("fn",r))},SideSet(i,e){const[t,s]=P1(i.ParseArg(e)),[r,n]=P1(i.ParseArg(e)),a=i.ParseArg(e);let o=a;t&&(s?t.replaceChild(i.create("node","mphantom",[i.create("node","mpadded",[ce.copyNode(a,i)],{width:0})]),w.getChildAt(t,0)):(o=i.create("node","mmultiscripts",[a]),r&&w.appendChildren(o,[w.getChildAt(r,1)||i.create("node","none"),w.getChildAt(r,2)||i.create("node","none")]),w.setProperty(o,"scriptalign","left"),w.appendChildren(o,[i.create("node","mprescripts"),w.getChildAt(t,1)||i.create("node","none"),w.getChildAt(t,2)||i.create("node","none")]))),r&&o===a&&(r.replaceChild(a,w.getChildAt(r,0)),o=r);const l=i.create("node","TeXAtom",[],{texClass:T.OP,movesupsub:!0,movablelimits:!0});s&&(t&&l.appendChild(t),l.appendChild(s)),l.appendChild(o),n&&l.appendChild(n),i.Push(l)},operatorLetter:(i,e)=>!!i.stack.env.operatorLetters&&Vt.variable(i,e),MultiIntegral(i,e,t){let s=i.GetNext();if(s==="\\"){const r=i.i;s=i.GetArgument(e),i.i=r,s==="\\limits"&&(t="\\!\\!\\mathop{\\,\\,"+t+"}")}i.string=t+" "+i.string.slice(i.i),i.i=0},xArrow(i,e,t,s,r,n=0){const a={width:"+"+$e.em((s+r)/18),lspace:$e.em(s/18)},o=i.GetBrackets(e),l=i.ParseArg(e),h=i.create("node","mspace",[],{depth:".2em"});let d=i.create("token","mo",{stretchy:!0,texClass:T.REL},String.fromCodePoint(t));n&&d.attributes.set("minsize",$e.em(n)),d=i.create("node","mstyle",[d],{scriptlevel:0});const x=i.create("node","munderover",[d]);let k=i.create("node","mpadded",[l,h],a);if(w.setAttribute(k,"voffset","-.2em"),w.setAttribute(k,"height","-.2em"),w.setChild(x,x.over,k),o){const I=new Xt(o,i.stack.env,i.configuration).mml(),G=i.create("node","mspace",[],{height:".75em"});k=i.create("node","mpadded",[I,G],a),w.setAttribute(k,"voffset",".15em"),w.setAttribute(k,"depth","-.15em"),w.setChild(x,x.under,k)}w.setProperty(x,"subsupOK",!0),i.Push(x)},HandleShove(i,e,t){const s=i.stack.Top();if(s.kind!=="multline")throw new q("CommandOnlyAllowedInEnv","%1 only allowed in %2 environment",i.currentCS,"multline");if(s.Size())throw new q("CommandAtTheBeginingOfLine","%1 must come at the beginning of the line",i.currentCS);s.setProperty("shove",t)},CFrac(i,e){let t=$e.trimSpaces(i.GetBrackets(e,""));const s=i.GetArgument(e),r=i.GetArgument(e),n={l:Ne.Align.LEFT,r:Ne.Align.RIGHT,"":""},a=new Xt("\\strut\\textstyle{"+s+"}",i.stack.env,i.configuration).mml(),o=new Xt("\\strut\\textstyle{"+r+"}",i.stack.env,i.configuration).mml(),l=i.create("node","mfrac",[a,o]);if(t=n[t],t==null)throw new q("IllegalAlign","Illegal alignment specified in %1",i.currentCS);t&&w.setProperties(l,{numalign:t,denomalign:t}),i.Push(l)},Genfrac(i,e,t,s,r,n){t==null&&(t=i.GetDelimiterArg(e)),s==null&&(s=i.GetDelimiterArg(e)),r==null&&(r=i.GetArgument(e)),n==null&&(n=$e.trimSpaces(i.GetArgument(e)));const a=i.ParseArg(e),o=i.ParseArg(e);let l=i.create("node","mfrac",[a,o]);if(r!==""&&w.setAttribute(l,"linethickness",r),(t||s)&&(w.setProperty(l,"withDelims",!0),l=ce.fixedFence(i.configuration,t,l,s)),n!==""){const h=parseInt(n,10),d=["D","T","S","SS"][h];if(d==null)throw new q("BadMathStyleFor","Bad math style for %1",i.currentCS);l=i.create("node","mstyle",[l]),d==="D"?w.setProperties(l,{displaystyle:!0,scriptlevel:0}):w.setProperties(l,{displaystyle:!1,scriptlevel:h-1})}i.Push(l)},HandleTag(i,e){if(!i.tags.currentTag.taggable&&i.tags.env)throw new q("CommandNotAllowedInEnv","%1 not allowed in %2 environment",i.currentCS,i.tags.env);if(i.tags.currentTag.tag)throw new q("MultipleCommand","Multiple %1",i.currentCS);const t=i.GetStar(),s=$e.trimSpaces(i.GetArgument(e));i.tags.tag(s,t),i.Push(i.itemFactory.create("null"))},HandleNoTag:y.HandleNoTag,HandleRef:y.HandleRef,Macro:y.Macro,Accent:y.Accent,Tilde:y.Tilde,Array:y.Array,Spacer:y.Spacer,NamedOp:y.NamedOp,EqnArray:y.EqnArray,Equation:y.Equation};new qs("AMSmath-mathchar0mo",Vt.mathchar0mo,{iiiint:["\u2A0C",{texClass:T.OP}]}),new Br("AMSmath-operatorLetter",ne.operatorLetter,/[-*]/i),new pi("AMSmath-macros",{mathring:[ne.Accent,"02DA"],nobreakspace:ne.Tilde,negmedspace:[ne.Spacer,Jt.negativemediummathspace],negthickspace:[ne.Spacer,Jt.negativethickmathspace],idotsint:[ne.MultiIntegral,"\\int\\cdots\\int"],dddot:[ne.Accent,"20DB"],ddddot:[ne.Accent,"20DC"],sideset:ne.SideSet,boxed:[ne.Macro,"\\fbox{$\\displaystyle{#1}$}",1],tag:ne.HandleTag,notag:ne.HandleNoTag,eqref:[ne.HandleRef,!0],substack:[ne.Macro,"\\begin{subarray}{c}#1\\end{subarray}",1],injlim:[ne.NamedOp,"inj&thinsp;lim"],projlim:[ne.NamedOp,"proj&thinsp;lim"],varliminf:[ne.Macro,"\\mathop{\\underline{\\mmlToken{mi}{lim}}}"],varlimsup:[ne.Macro,"\\mathop{\\overline{\\mmlToken{mi}{lim}}}"],varinjlim:[ne.Macro,"\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}"],varprojlim:[ne.Macro,"\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}"],DeclareMathOperator:ne.HandleDeclareOp,operatorname:ne.HandleOperatorName,genfrac:ne.Genfrac,frac:[ne.Genfrac,"","","",""],tfrac:[ne.Genfrac,"","","","1"],dfrac:[ne.Genfrac,"","","","0"],binom:[ne.Genfrac,"(",")","0",""],tbinom:[ne.Genfrac,"(",")","0","1"],dbinom:[ne.Genfrac,"(",")","0","0"],cfrac:ne.CFrac,shoveleft:[ne.HandleShove,Ne.Align.LEFT],shoveright:[ne.HandleShove,Ne.Align.RIGHT],xrightarrow:[ne.xArrow,8594,5,10],xleftarrow:[ne.xArrow,8592,10,5]}),new Da("AMSmath-environment",Vt.environment,{"equation*":[ne.Equation,null,!1],"eqnarray*":[ne.EqnArray,null,!1,!0,"rcl","bmt",ce.cols(0,Jt.thickmathspace),".5em"],align:[ne.EqnArray,null,!0,!0,"rl","bt",ce.cols(0,2)],"align*":[ne.EqnArray,null,!1,!0,"rl","bt",ce.cols(0,2)],multline:[ne.Multline,null,!0],"multline*":[ne.Multline,null,!1],split:[ne.EqnArray,null,!1,!1,"rl","bt",ce.cols(0)],gather:[ne.EqnArray,null,!0,!0,"c","m"],"gather*":[ne.EqnArray,null,!1,!0,"c","m"],alignat:[ne.AlignAt,null,!0,!0],"alignat*":[ne.AlignAt,null,!1,!0],alignedat:[ne.AlignAt,null,!1,!1],aligned:[ne.AmsEqnArray,null,null,null,"rl","bt",ce.cols(0,2),".5em","D"],gathered:[ne.AmsEqnArray,null,null,null,"c","m",null,".5em","D"],xalignat:[ne.XalignAt,null,!0,!0],"xalignat*":[ne.XalignAt,null,!1,!0],xxalignat:[ne.XalignAt,null,!1,!1],flalign:[ne.FlalignArray,null,!0,!1,!0,"rlc","btm","auto auto fit"],"flalign*":[ne.FlalignArray,null,!1,!1,!0,"rlc","btm","auto auto fit"],subarray:[ne.Array,null,null,null,null,ce.cols(0),"0.1em","S",!0],smallmatrix:[ne.Array,null,null,null,"c",ce.cols(1/3),".2em","S",!0],matrix:[ne.Array,null,null,null,"c"],pmatrix:[ne.Array,null,"(",")","c"],bmatrix:[ne.Array,null,"[","]","c"],Bmatrix:[ne.Array,null,"\\{","\\}","c"],vmatrix:[ne.Array,null,"\\vert","\\vert","c"],Vmatrix:[ne.Array,null,"\\Vert","\\Vert","c"],cases:[ne.Array,null,"\\{",".","ll",null,".2em","T"]}),new vn("AMSmath-delimiter",Vt.delimiter,{"\\lvert":["|",{texClass:T.OPEN}],"\\rvert":["|",{texClass:T.CLOSE}],"\\lVert":["\u2016",{texClass:T.OPEN}],"\\rVert":["\u2016",{texClass:T.CLOSE}]}),new qs("AMSsymbols-mathchar0mi",Vt.mathchar0mi,{digamma:"\u03DD",varkappa:"\u03F0",varGamma:["\u0393",{mathvariant:Ne.Variant.ITALIC}],varDelta:["\u0394",{mathvariant:Ne.Variant.ITALIC}],varTheta:["\u0398",{mathvariant:Ne.Variant.ITALIC}],varLambda:["\u039B",{mathvariant:Ne.Variant.ITALIC}],varXi:["\u039E",{mathvariant:Ne.Variant.ITALIC}],varPi:["\u03A0",{mathvariant:Ne.Variant.ITALIC}],varSigma:["\u03A3",{mathvariant:Ne.Variant.ITALIC}],varUpsilon:["\u03A5",{mathvariant:Ne.Variant.ITALIC}],varPhi:["\u03A6",{mathvariant:Ne.Variant.ITALIC}],varPsi:["\u03A8",{mathvariant:Ne.Variant.ITALIC}],varOmega:["\u03A9",{mathvariant:Ne.Variant.ITALIC}],beth:"\u2136",gimel:"\u2137",daleth:"\u2138",backprime:["\u2035",{variantForm:!0}],hslash:"\u210F",varnothing:["\u2205",{variantForm:!0}],blacktriangle:"\u25B4",triangledown:["\u25BD",{variantForm:!0}],blacktriangledown:"\u25BE",square:"\u25FB",Box:"\u25FB",blacksquare:"\u25FC",lozenge:"\u25CA",Diamond:"\u25CA",blacklozenge:"\u29EB",circledS:["\u24C8",{mathvariant:Ne.Variant.NORMAL}],bigstar:"\u2605",sphericalangle:"\u2222",measuredangle:"\u2221",nexists:"\u2204",complement:"\u2201",mho:"\u2127",eth:["\xF0",{mathvariant:Ne.Variant.NORMAL}],Finv:"\u2132",diagup:"\u2571",Game:"\u2141",diagdown:"\u2572",Bbbk:["k",{mathvariant:Ne.Variant.DOUBLESTRUCK}],yen:"\xA5",circledR:"\xAE",checkmark:"\u2713",maltese:"\u2720"}),new qs("AMSsymbols-mathchar0mo",Vt.mathchar0mo,{dotplus:"\u2214",ltimes:"\u22C9",smallsetminus:["\u2216",{variantForm:!0}],rtimes:"\u22CA",Cap:"\u22D2",doublecap:"\u22D2",leftthreetimes:"\u22CB",Cup:"\u22D3",doublecup:"\u22D3",rightthreetimes:"\u22CC",barwedge:"\u22BC",curlywedge:"\u22CF",veebar:"\u22BB",curlyvee:"\u22CE",doublebarwedge:"\u2A5E",boxminus:"\u229F",circleddash:"\u229D",boxtimes:"\u22A0",circledast:"\u229B",boxdot:"\u22A1",circledcirc:"\u229A",boxplus:"\u229E",centerdot:["\u22C5",{variantForm:!0}],divideontimes:"\u22C7",intercal:"\u22BA",leqq:"\u2266",geqq:"\u2267",leqslant:"\u2A7D",geqslant:"\u2A7E",eqslantless:"\u2A95",eqslantgtr:"\u2A96",lesssim:"\u2272",gtrsim:"\u2273",lessapprox:"\u2A85",gtrapprox:"\u2A86",approxeq:"\u224A",lessdot:"\u22D6",gtrdot:"\u22D7",lll:"\u22D8",llless:"\u22D8",ggg:"\u22D9",gggtr:"\u22D9",lessgtr:"\u2276",gtrless:"\u2277",lesseqgtr:"\u22DA",gtreqless:"\u22DB",lesseqqgtr:"\u2A8B",gtreqqless:"\u2A8C",doteqdot:"\u2251",Doteq:"\u2251",eqcirc:"\u2256",risingdotseq:"\u2253",circeq:"\u2257",fallingdotseq:"\u2252",triangleq:"\u225C",backsim:"\u223D",thicksim:["\u223C",{variantForm:!0}],backsimeq:"\u22CD",thickapprox:["\u2248",{variantForm:!0}],subseteqq:"\u2AC5",supseteqq:"\u2AC6",Subset:"\u22D0",Supset:"\u22D1",sqsubset:"\u228F",sqsupset:"\u2290",preccurlyeq:"\u227C",succcurlyeq:"\u227D",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",precsim:"\u227E",succsim:"\u227F",precapprox:"\u2AB7",succapprox:"\u2AB8",vartriangleleft:"\u22B2",lhd:"\u22B2",vartriangleright:"\u22B3",rhd:"\u22B3",trianglelefteq:"\u22B4",unlhd:"\u22B4",trianglerighteq:"\u22B5",unrhd:"\u22B5",vDash:"\u22A8",Vdash:"\u22A9",Vvdash:"\u22AA",smallsmile:["\u2323",{variantForm:!0}],shortmid:["\u2223",{variantForm:!0}],smallfrown:["\u2322",{variantForm:!0}],shortparallel:["\u2225",{variantForm:!0}],bumpeq:"\u224F",between:"\u226C",Bumpeq:"\u224E",pitchfork:"\u22D4",varpropto:["\u221D",{variantForm:!0}],backepsilon:"\u220D",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",therefore:"\u2234",because:"\u2235",eqsim:"\u2242",vartriangle:["\u25B3",{variantForm:!0}],Join:"\u22C8",nless:"\u226E",ngtr:"\u226F",nleq:"\u2270",ngeq:"\u2271",nleqslant:["\u2A87",{variantForm:!0}],ngeqslant:["\u2A88",{variantForm:!0}],nleqq:["\u2270",{variantForm:!0}],ngeqq:["\u2271",{variantForm:!0}],lneq:"\u2A87",gneq:"\u2A88",lneqq:"\u2268",gneqq:"\u2269",lvertneqq:["\u2268",{variantForm:!0}],gvertneqq:["\u2269",{variantForm:!0}],lnsim:"\u22E6",gnsim:"\u22E7",lnapprox:"\u2A89",gnapprox:"\u2A8A",nprec:"\u2280",nsucc:"\u2281",npreceq:["\u22E0",{variantForm:!0}],nsucceq:["\u22E1",{variantForm:!0}],precneqq:"\u2AB5",succneqq:"\u2AB6",precnsim:"\u22E8",succnsim:"\u22E9",precnapprox:"\u2AB9",succnapprox:"\u2ABA",nsim:"\u2241",ncong:"\u2247",nshortmid:["\u2224",{variantForm:!0}],nshortparallel:["\u2226",{variantForm:!0}],nmid:"\u2224",nparallel:"\u2226",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",ntriangleleft:"\u22EA",ntriangleright:"\u22EB",ntrianglelefteq:"\u22EC",ntrianglerighteq:"\u22ED",nsubseteq:"\u2288",nsupseteq:"\u2289",nsubseteqq:["\u2288",{variantForm:!0}],nsupseteqq:["\u2289",{variantForm:!0}],subsetneq:"\u228A",supsetneq:"\u228B",varsubsetneq:["\u228A",{variantForm:!0}],varsupsetneq:["\u228B",{variantForm:!0}],subsetneqq:"\u2ACB",supsetneqq:"\u2ACC",varsubsetneqq:["\u2ACB",{variantForm:!0}],varsupsetneqq:["\u2ACC",{variantForm:!0}],leftleftarrows:"\u21C7",rightrightarrows:"\u21C9",leftrightarrows:"\u21C6",rightleftarrows:"\u21C4",Lleftarrow:"\u21DA",Rrightarrow:"\u21DB",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",leftarrowtail:"\u21A2",rightarrowtail:"\u21A3",looparrowleft:"\u21AB",looparrowright:"\u21AC",leftrightharpoons:"\u21CB",rightleftharpoons:["\u21CC",{variantForm:!0}],curvearrowleft:"\u21B6",curvearrowright:"\u21B7",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",Lsh:"\u21B0",Rsh:"\u21B1",upuparrows:"\u21C8",downdownarrows:"\u21CA",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",downharpoonleft:"\u21C3",restriction:"\u21BE",multimap:"\u22B8",downharpoonright:"\u21C2",leftrightsquigarrow:"\u21AD",rightsquigarrow:"\u21DD",leadsto:"\u21DD",dashrightarrow:"\u21E2",dashleftarrow:"\u21E0",nleftarrow:"\u219A",nrightarrow:"\u219B",nLeftarrow:"\u21CD",nRightarrow:"\u21CF",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE"}),new vn("AMSsymbols-delimiter",Vt.delimiter,{"\\ulcorner":"\u231C","\\urcorner":"\u231D","\\llcorner":"\u231E","\\lrcorner":"\u231F"}),new pi("AMSsymbols-macros",{implies:[ne.Macro,"\\;\\Longrightarrow\\;"],impliedby:[ne.Macro,"\\;\\Longleftarrow\\;"]});class qa extends Ie{get kind(){return"beginEnv"}get isOpen(){return!0}checkItem(e){if(e.isKind("end")){if(e.getName()!==this.getName())throw new q("EnvBadEnd","\\begin{%1} ended with \\end{%2}",this.getName(),e.getName());return[[this.factory.create("mml",this.toMml())],!0]}if(e.isKind("stop"))throw new q("EnvMissingEnd","Missing \\end{%1}",this.getName());return super.checkItem(e)}}const An={NewCommand(i,e){const t=ft.GetCsNameArgument(i,e),s=ft.GetArgCount(i,e),r=i.GetBrackets(e),n=i.GetArgument(e);ft.addMacro(i,t,An.Macro,[n,s,r]),i.Push(i.itemFactory.create("null"))},NewEnvironment(i,e){const t=$e.trimSpaces(i.GetArgument(e)),s=ft.GetArgCount(i,e),r=i.GetBrackets(e),n=i.GetArgument(e),a=i.GetArgument(e);ft.addEnvironment(i,t,An.BeginEnv,[!0,n,a,s,r]),i.Push(i.itemFactory.create("null"))},MacroDef(i,e){const t=ft.GetCSname(i,e),s=ft.GetTemplate(i,e,"\\"+t),r=i.GetArgument(e);s instanceof Array?ft.addMacro(i,t,An.MacroWithTemplate,[r].concat(s)):ft.addMacro(i,t,An.Macro,[r,s]),i.Push(i.itemFactory.create("null"))},Let(i,e){const t=ft.GetCSname(i,e);let s=i.GetNext();s==="="&&(i.i++,s=i.GetNext());const r=i.configuration.handlers;if(i.Push(i.itemFactory.create("null")),s==="\\"){if(t===(e=ft.GetCSname(i,e)))return;const a=r.get(Te.MACRO).applicable(e);if(a instanceof Fr){const l=a.lookup(e);return void ft.addMacro(i,t,l.func,l.args,l.token)}if(a instanceof qs&&!(a instanceof vn)){const l=a.lookup(e),h=d=>a.parser(d,l);return void ft.addMacro(i,t,h,[t,l.char])}const o=r.get(Te.DELIMITER).lookup("\\"+e);return o?void ft.addDelimiter(i,"\\"+t,o.char,o.attributes):(ft.checkProtectedMacros(i,t),ft.undefineMacro(i,t),void ft.undefineDelimiter(i,"\\"+t))}i.i++;const n=r.get(Te.DELIMITER).lookup(s);n?ft.addDelimiter(i,"\\"+t,n.char,n.attributes):ft.addMacro(i,t,An.Macro,[s])},MacroWithTemplate(i,e,t,s,...r){const n=parseInt(s,10);if(r.length){const a=[];if(i.GetNext(),r[0]&&!ft.MatchParam(i,r[0]))throw new q("MismatchUseDef","Use of %1 doesn't match its definition",e);if(n){for(let o=0;o<n;o++)a.push(ft.GetParameter(i,e,r[o+1]));t=ce.substituteArgs(i,a,t)}}i.string=ce.addArgs(i,t,i.string.slice(i.i)),i.i=0,ce.checkMaxMacros(i)},BeginEnv(i,e,t,s,r,n){const a=e.getName();if(i.stack.env.closing===a){if(delete i.stack.env.closing,i.stack.global.beginEnv&&(i.stack.global.beginEnv--,s)){const o=i.string.slice(i.i);i.string=ce.addArgs(i,i.string.substring(0,i.i),s),i.Parse(),i.string=o,i.i=0}return i.itemFactory.create("end").setProperty("name",a)}if(r){const o=[];if(n!=null){const l=i.GetBrackets(`\\begin{${a}}`);o.push(l==null?n:l)}for(let l=o.length;l<r;l++)o.push(i.GetArgument(`\\begin{${a}}`));t=ce.substituteArgs(i,o,t),s=ce.substituteArgs(i,[],s)}return i.string=ce.addArgs(i,t,i.string.slice(i.i)),i.i=0,i.stack.global.beginEnv=(i.stack.global.beginEnv||0)+1,i.itemFactory.create("beginEnv").setProperty("name",a)},Macro:y.Macro},Si=An;function Xu(i,e){e.parseOptions.packageData.has("newcommand")||(e.parseOptions.packageData.set("newcommand",{}),new vn(Ls.NEW_DELIMITER,Vt.delimiter,{}),new pi(Ls.NEW_COMMAND,{}),new Da(Ls.NEW_ENVIRONMENT,Vt.environment,{}),e.parseOptions.handlers.add({[Te.CHARACTER]:[],[Te.DELIMITER]:[Ls.NEW_DELIMITER],[Te.MACRO]:[Ls.NEW_DELIMITER,Ls.NEW_COMMAND],[Te.ENVIRONMENT]:[Ls.NEW_ENVIRONMENT]},{},D1))}new pi("Newcommand-macros",{newcommand:Si.NewCommand,renewcommand:Si.NewCommand,newenvironment:Si.NewEnvironment,renewenvironment:Si.NewEnvironment,def:Si.MacroDef,let:Si.Let});const Am=Ps.create("newcommand",{[Ae.HANDLER]:{macro:["Newcommand-macros"]},[Ae.ITEMS]:{[qa.prototype.kind]:qa},[Ae.OPTIONS]:{maxMacros:1e3,protectedMacros:["begingroupSandbox"]},[Ae.CONFIG]:Xu});class F1 extends _a{}const Lm=Ps.create("ams",{[Ae.HANDLER]:{[Te.CHARACTER]:["AMSmath-operatorLetter"],[Te.DELIMITER]:["AMSsymbols-delimiter","AMSmath-delimiter"],[Te.MACRO]:["AMSsymbols-mathchar0mi","AMSsymbols-mathchar0mo","AMSsymbols-delimiter","AMSsymbols-macros","AMSmath-mathchar0mo","AMSmath-macros","AMSmath-delimiter"],[Te.ENVIRONMENT]:["AMSmath-environment"]},[Ae.ITEMS]:{[Wu.prototype.kind]:Wu,[zu.prototype.kind]:zu},[Ae.TAGS]:{ams:F1},[Ae.OPTIONS]:{multlineWidth:"",ams:{operatornamePattern:/^[-*a-zA-Z]+/,multlineWidth:"100%",multlineIndent:"1em"}},[Ae.CONFIG]:Xu}),Mm=ct.config;function j1(i,e){const t=i.parseOptions.options.require,s=i.parseOptions.packageData.get("require").required,r=e.substring(t.prefix.length);if(!s.includes(r)){s.push(r);const n=(function(a,o=[]){const l=a.parseOptions.options.require.prefix,h=[];for(const d of o)if(d.substring(0,l.length)===l)try{j1(a,d)}catch(x){if(!x.retry)throw x;h.push(x.retry)}return h.length?Promise.all(h):null})(i,wt.dependencies[e]);n?ls.retryAfter(n.then((()=>U1(i,e,r)))):U1(i,e,r)}}function U1(i,e,t){const s=Go.get(t);if(s){let r=Mm[e]||{};s.options&&Object.keys(s.options).length===1&&s.options[t]&&(r={[t]:r}),i.configuration.add(t,i,r);const n=i.parseOptions.packageData.get("require").configured;s.preprocessors.length&&!n.has(t)&&(n.set(t,!0),ls.retryAfter(Promise.resolve()))}}function Vu(i,e){var t,s;const r=i.options.require,n=r.allow,a=(e.substring(0,1)==="["?"":r.prefix)+e;if(!(Object.hasOwn(n,a)?n[a]:Object.hasOwn(n,e)?n[e]:r.defaultAllow))throw new q("BadRequire",'Extension "%1" is not allowed to be loaded',a);const o=Mt.packages.get(a);if(o||ls.retryAfter(Gt.load(a).catch((d=>{}))),o.hasFailed)throw new q("RequireFail",'Extension "%1" failed to load',e);const l=(t=wt[a])===null||t===void 0?void 0:t.rendererExtensions,h=(s=ct.startup.document)===null||s===void 0?void 0:s.menu;l&&h&&h.addRequiredExtensions(l),j1(i.configuration.packageData.get("require").jax,a)}const q1={Require(i,e){const t=i.GetArgument(e);if(t.match(/[^_a-zA-Z0-9]/)||t==="")throw new q("BadPackageName","Argument for %1 is not a valid package name",e);Vu(i,t),i.Push(i.itemFactory.create("null"))}},H1={require:{allow:ts({base:!1,autoload:!1,configmacros:!1,tagformat:!1,setoptions:!1,texhtml:!1}),defaultAllow:!0,prefix:"tex"}};new pi("require",{require:q1.Require});const Gu=Ps.create("require",{[Ae.HANDLER]:{[Te.MACRO]:["require"]},[Ae.CONFIG]:function(i,e){e.parseOptions.packageData.set("require",{jax:e,required:[...e.options.packages],configured:new Map});const t=e.parseOptions.options.require,s=t.prefix;if(s.match(/[^_a-zA-Z0-9]/))throw Error("Illegal characters used in \\require prefix");wt.paths[s]||(wt.paths[s]="[mathjax]/input/tex/extensions"),t.prefix="["+s+"]/"},[Ae.OPTIONS]:H1});function Ju(i,e,t,s){if(Mt.packages.has(i.options.require.prefix+t)){const r=i.options.autoload[t],[n,a]=r.length===2&&Array.isArray(r[0])?r:[r,[]];for(const o of n)W1.remove(o);for(const o of a)z1.remove(o);i.string=(s?e+" ":"\\begin{"+e.slice(1)+"}")+i.string.slice(i.i),i.i=0}Vu(i,t)}const W1=new pi("autoload-macros",{}),z1=new pi("autoload-environments",{}),Sm=Ps.create("autoload",{[Ae.HANDLER]:{[Te.MACRO]:["autoload-macros"],[Te.ENVIRONMENT]:["autoload-environments"]},[Ae.OPTIONS]:{autoload:ts({action:["toggle","mathtip","texttip"],amscd:[[],["CD"]],bbox:["bbox"],boldsymbol:["boldsymbol"],braket:["bra","ket","braket","set","Bra","Ket","Braket","Set","ketbra","Ketbra"],bussproofs:[[],["prooftree"]],cancel:["cancel","bcancel","xcancel","cancelto"],color:["color","definecolor","textcolor","colorbox","fcolorbox"],enclose:["enclose"],extpfeil:["xtwoheadrightarrow","xtwoheadleftarrow","xmapsto","xlongequal","xtofrom","Newextarrow"],html:["data","href","class","style","cssId"],mhchem:["ce","pu"],newcommand:["newcommand","renewcommand","newenvironment","renewenvironment","def","let"],unicode:["unicode","U","char"],verb:["verb"]})},[Ae.CONFIG]:function(i,e){const t=e.parseOptions,s=t.handlers.get(Te.MACRO),r=t.handlers.get(Te.ENVIRONMENT),n=t.options.autoload;t.packageData.set("autoload",{Autoload:Ju});for(const a of Object.keys(n)){const o=n[a],[l,h]=o.length===2&&Array.isArray(o[0])?o:[o,[]];for(const d of l)s.lookup(d)&&d!=="color"||W1.add(d,new Mi(d,Ju,[a,!0]));for(const d of h)r.lookup(d)||z1.add(d,new Mi(d,Ju,[a,!1]))}t.packageData.get("require")||Gu.config(i,e)},[Ae.INIT]:function(i){i.options.require||is(i.options,Gu.options)},[Ae.PRIORITY]:10}),Ku="configmacros-map",$u="configmacros-active-map",Yu="configmacros-env-map";function X1(i,e,t){const s=t.parseOptions.handlers.retrieve(e),r=t.parseOptions.options[i];for(const n of Object.keys(r)){const a=typeof r[n]=="string"?[r[n]]:r[n],o=Array.isArray(a[2])?new Mi(n,Si.MacroWithTemplate,a.slice(0,2).concat(a[2])):new Mi(n,Si.Macro,a);s.add(n,o)}}const Im=Ps.create("configmacros",{[Ae.INIT]:function(i){new Fr($u,{}),new pi(Ku,{}),new Da(Yu,Vt.environment,{}),i.append(Ps.local({handler:{[Te.CHARACTER]:[$u],[Te.MACRO]:[Ku],[Te.ENVIRONMENT]:[Yu]},priority:3}))},[Ae.CONFIG]:function(i,e){(function(t){X1("active",$u,t)})(e),(function(t){X1("macros",Ku,t)})(e),(function(t){const s=t.parseOptions.handlers.retrieve(Yu),r=t.parseOptions.options.environments;for(const n of Object.keys(r))s.add(n,new Mi(n,Si.BeginEnv,[!0].concat(r[n])))})(e)},[Ae.ITEMS]:{[qa.prototype.kind]:qa},[Ae.OPTIONS]:{active:ts({}),macros:ts({}),environments:ts({})}}),Rm=Ps.create("noundefined",{[Ae.FALLBACK]:{[Te.MACRO]:function(i,e){const t=i.create("text","\\"+e),s=i.options.noundefined,r={};for(const n of["color","background","size"])s[n]&&(r["math"+n]=s[n]);i.Push(i.create("node","mtext",[],r,t))}},[Ae.OPTIONS]:{noundefined:{color:"red",background:"",size:""}},[Ae.PRIORITY]:3});class Ln extends Xt{get texParser(){return this.configuration.packageData.get("textmacros").texParser}get tags(){return this.texParser.tags}constructor(e,t,s,r){super(e,t,s),this.level=r}mml(){return this.copyLists(),this.configuration.popParser(),this.level!=null?this.create("node","mstyle",this.nodes,{displaystyle:!1,scriptlevel:this.level}):this.nodes.length===1?this.nodes[0]:this.create("node","mrow",this.nodes)}copyLists(){const e=this.texParser.configuration;for(const[t,s]of Object.entries(this.configuration.nodeLists))for(const r of s)e.addNode(t,r);this.configuration.nodeLists={}}Parse(){this.text="",this.nodes=[],this.envStack=[],super.Parse()}saveText(){if(this.text){const e=this.stack.env.mathvariant,t=ce.internalText(this,this.text,e?{mathvariant:e}:{});this.text="",this.Push(t)}}Push(e){if(this.text&&this.saveText(),e instanceof Tn)return super.Push(e);e instanceof wn?this.stack.env.mathcolor=this.stack.env.color:e instanceof Le&&(this.addAttributes(e),this.nodes.push(e))}PushMath(e){const t=this.stack.env;for(const s of["mathsize","mathcolor"])t[s]&&!e.attributes.hasExplicit(s)&&(e.isToken||e.isKind("mstyle")||(e=this.create("node","mstyle",[e])),w.setAttribute(e,s,t[s]));e.isInferred&&(e=this.create("node","mrow",e.childNodes)),e.isKind("TeXAtom")||(e=this.create("node","TeXAtom",[e])),this.nodes.push(e)}addAttributes(e){const t=this.stack.env;if(e.isToken)for(const s of["mathsize","mathcolor","mathvariant"])t[s]&&!e.attributes.hasExplicit(s)&&w.setAttribute(e,s,t[s])}ParseTextArg(e,t){const s=this.GetArgument(e);return t=Object.assign(Object.assign({},this.stack.env),t),new Ln(s,t,this.configuration).mml()}ParseArg(e){return new Ln(this.GetArgument(e),this.stack.env,this.configuration).mml()}Error(e,t,...s){throw new q(e,t,...s)}}const O={Comment(i,e){for(;i.i<i.string.length&&i.string.charAt(i.i)!==`
`;)i.i++;i.i++},Math(i,e){i.saveText();const t=i.i;let s,r,n=0;for(;r=i.GetNext();)switch(s=i.i++,r){case"\\":i.GetCS()===")"&&(r="\\(");case"$":if(n===0&&e===r){const a=i.texParser.configuration,o=new Xt(i.string.substring(t,s),i.stack.env,a).mml();return void i.PushMath(o)}break;case"{":n++;break;case"}":n===0&&i.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace"),n--}i.Error("MathNotTerminated","Math mode is not properly terminated")},MathModeOnly(i,e){i.Error("MathModeOnly","'%1' allowed only in math mode",e)},Misplaced(i,e){i.Error("Misplaced","Misplaced '%1'",e)},OpenBrace(i,e){const t=i.stack.env;i.envStack.push(t),i.stack.env=Object.assign({},t)},CloseBrace(i,e){i.envStack.length?(i.saveText(),i.stack.env=i.envStack.pop()):i.Error("ExtraCloseMissingOpen","Extra close brace or missing open brace")},OpenQuote(i,e){i.string.charAt(i.i)===e?(i.text+="\u201C",i.i++):i.text+="\u2018"},CloseQuote(i,e){i.string.charAt(i.i)===e?(i.text+="\u201D",i.i++):i.text+="\u2019"},Tilde(i,e){i.text+="\xA0"},Space(i,e){i.text+=" ",i.GetNext()},SelfQuote(i,e){i.text+=e.substring(1)},Insert(i,e,t){i.text+=t},Accent(i,e,t){const s=i.ParseArg(e),r=i.create("token","mo",{},t);i.addAttributes(r),i.Push(i.create("node","mover",[s,r]))},Emph(i,e){const t=i.stack.env.mathvariant==="-tex-mathit"?"normal":"-tex-mathit";i.Push(i.ParseTextArg(e,{mathvariant:t}))},TextFont(i,e,t){i.saveText(),i.Push(i.ParseTextArg(e,{mathvariant:t}))},SetFont(i,e,t){i.saveText(),i.stack.env.mathvariant=t},SetSize(i,e,t){i.saveText(),i.stack.env.mathsize=t},CheckAutoload(i,e){const t=i.configuration.packageData.get("autoload"),s=i.texParser;e=e.slice(1);const r=s.lookup(Te.MACRO,e);if(!r||t&&r._func===t.Autoload){if(s.parse(Te.MACRO,[s,e]),!r)return;yn(Promise.resolve())}s.parse(Te.MACRO,[i,e])},Macro:y.Macro,Spacer:y.Spacer,Hskip:y.Hskip,rule:y.rule,Rule:y.Rule,HandleRef:y.HandleRef,UnderOver:y.UnderOver,Lap:y.Lap,Phantom:y.Phantom,Smash:y.Smash,MmlToken:y.MmlToken},Ki=Ne.Variant;new Fr("text-special",{$:O.Math,"%":O.Comment,"^":O.MathModeOnly,_:O.MathModeOnly,"&":O.Misplaced,"#":O.Misplaced,"~":O.Tilde," ":O.Space,"	":O.Space,"\r":O.Space,"\n":O.Space,"\xA0":O.Tilde,"{":O.OpenBrace,"}":O.CloseBrace,"`":O.OpenQuote,"'":O.CloseQuote}),new pi("text-macros",{"(":O.Math,$:O.SelfQuote,_:O.SelfQuote,"%":O.SelfQuote,"{":O.SelfQuote,"}":O.SelfQuote," ":O.SelfQuote,"&":O.SelfQuote,"#":O.SelfQuote,"\\":[O.Macro,"$\\\\$"],"'":[O.Accent,"\xB4"],"\u2019":[O.Accent,"\xB4"],"`":[O.Accent,"`"],"\u2018":[O.Accent,"`"],"^":[O.Accent,"^"],'"':[O.Accent,"\xA8"],"~":[O.Accent,"~"],"=":[O.Accent,"\xAF"],".":[O.Accent,"\u02D9"],u:[O.Accent,"\u02D8"],v:[O.Accent,"\u02C7"],emph:O.Emph,rm:[O.SetFont,Ki.NORMAL],mit:[O.SetFont,Ki.ITALIC],oldstyle:[O.SetFont,Ki.OLDSTYLE],cal:[O.SetFont,Ki.CALLIGRAPHIC],it:[O.SetFont,"-tex-mathit"],bf:[O.SetFont,Ki.BOLD],sf:[O.SetFont,Ki.SANSSERIF],tt:[O.SetFont,Ki.MONOSPACE],frak:[O.TextFont,Ki.FRAKTUR],Bbb:[O.TextFont,Ki.DOUBLESTRUCK],tiny:[O.SetSize,.5],Tiny:[O.SetSize,.6],scriptsize:[O.SetSize,.7],small:[O.SetSize,.85],normalsize:[O.SetSize,1],large:[O.SetSize,1.2],Large:[O.SetSize,1.44],LARGE:[O.SetSize,1.73],huge:[O.SetSize,2.07],Huge:[O.SetSize,2.49],textnormal:[O.Macro,"{\\rm #1}",1],textup:[O.Macro,"{\\rm #1}",1],textrm:[O.Macro,"{\\rm #1}",1],textit:[O.Macro,"{\\it #1}",1],textbf:[O.Macro,"{\\bf #1}",1],textsf:[O.Macro,"{\\sf #1}",1],texttt:[O.Macro,"{\\tt #1}",1],dagger:[O.Insert,"\u2020"],ddagger:[O.Insert,"\u2021"],S:[O.Insert,"\xA7"],AA:[O.Insert,"\u212B"],ldots:[O.Insert,"\u2026"],vdots:[O.Insert,"\u22EE"],",":[O.Spacer,Jt.thinmathspace],":":[O.Spacer,Jt.mediummathspace],">":[O.Spacer,Jt.mediummathspace],";":[O.Spacer,Jt.thickmathspace],"!":[O.Spacer,Jt.negativethinmathspace],enspace:[O.Spacer,.5],quad:[O.Spacer,1],qquad:[O.Spacer,2],thinspace:[O.Spacer,Jt.thinmathspace],negthinspace:[O.Spacer,Jt.negativethinmathspace],hskip:O.Hskip,hspace:O.Hskip,kern:O.Hskip,mskip:O.Hskip,mspace:O.Hskip,mkern:O.Hskip,rule:O.rule,Rule:[O.Rule],Space:[O.Rule,"blank"],color:O.CheckAutoload,textcolor:O.CheckAutoload,colorbox:O.CheckAutoload,fcolorbox:O.CheckAutoload,href:O.CheckAutoload,style:O.CheckAutoload,class:O.CheckAutoload,data:O.CheckAutoload,cssId:O.CheckAutoload,unicode:O.CheckAutoload,U:O.CheckAutoload,char:O.CheckAutoload,ref:[O.HandleRef,!1],eqref:[O.HandleRef,!0],underline:[O.UnderOver,"2015"],llap:O.Lap,rlap:O.Lap,phantom:O.Phantom,vphantom:[O.Phantom,1,0],hphantom:[O.Phantom,0,1],smash:O.Smash,mmlToken:O.MmlToken});const _m=Ps.create("text-base",{[Ae.PARSER]:"text",[Ae.PRIORITY]:1,[Ae.HANDLER]:{[Te.CHARACTER]:["command","text-special"],[Te.MACRO]:["text-macros"]},[Ae.FALLBACK]:{[Te.CHARACTER]:(i,e)=>{i.text+=e},[Te.MACRO]:(i,e)=>{const t=i.texParser,s=t.lookup(Te.MACRO,e);s&&s._func!==O.Macro&&i.Error("MathMacro","%1 is only supported in math mode","\\"+e),t.parse(Te.MACRO,[i,e])}},[Ae.ITEMS]:{[Ba.prototype.kind]:Ba,[Tn.prototype.kind]:Tn,[Fa.prototype.kind]:Fa,[wn.prototype.kind]:wn}});function Om(i,e,t,s){const r=i.configuration.packageData.get("textmacros");return i instanceof Ln||(r.texParser=i),r.parseOptions.clear(),[new Ln(e,s?{mathvariant:s}:{},r.parseOptions,t).mml()]}const Dm=Ps.create("textmacros",{[Ae.PRIORITY]:1,[Ae.CONFIG]:(i,e)=>{const t=new ku(e.parseOptions.options.textmacros.packages,["tex","text"]);t.init();const s=new Nu(t,[]);s.options=e.parseOptions.options,t.config(e),Li.addTags(t.tags),s.tags=Li.getDefault(),s.tags.configuration=s,s.packageData=e.parseOptions.packageData,s.packageData.set("textmacros",{textConf:t,parseOptions:s,jax:e,texParser:null}),s.options.internalMath=Om},[Ae.PREPROCESSORS]:[i=>{const e=i.data.packageData.get("textmacros");e.parseOptions.nodeFactory.setMmlFactory(e.jax.mmlFactory)}],[Ae.OPTIONS]:{textmacros:{packages:["text-base"]}}});MathJax.loader&&MathJax.loader.checkVersion("input/tex",Zs,"input"),Us({_:{input:{tex_ts:Jn,tex:{ColumnParser:Bt,Configuration:jt,FilterUtil:er,FindTeX:vi,HandlerTypes:m,MapHandler:gs,NodeFactory:st,NodeUtil:Hi,ParseMethods:tr,ParseOptions:Cs,ParseUtil:zt,Stack:v,StackItem:B,StackItemFactory:Se,Tags:fs,TexConstants:ae,TexError:L,TexParser:Ge,Token:Ft,TokenMap:js,UnitUtil:b,ams:{AmsConfiguration:bs,AmsItems:Kn,AmsMethods:sr},autoload:{AutoloadConfiguration:en},base:{BaseConfiguration:Ys,BaseItems:ci,BaseMethods:Ci},configmacros:{ConfigMacrosConfiguration:tn},newcommand:{NewcommandConfiguration:rr,NewcommandItems:ir,NewcommandMethods:Yn,NewcommandUtil:$n},noundefined:{NoUndefinedConfiguration:sn},require:{RequireConfiguration:wr},textmacros:{TextMacrosConfiguration:nn,TextMacrosMethods:rn,TextParser:kr}}}}}),Gt.preLoaded("input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/textmacros","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"),(function(i=[],e=!0){if(MathJax.startup){e&&(MathJax.startup.registerConstructor("tex",MathJax._.input.tex_ts.TeX),MathJax.startup.useInput("tex")),MathJax.config.tex||(MathJax.config.tex={});let t=MathJax.config.tex.packages;MathJax.config.tex.packages=i,t&&(Array.isArray(t)&&(t={"[+]":t.filter((s=>!i.includes(s)))}),Sr(MathJax.config.tex,{packages:t}))}})(["base","ams","newcommand","textmacros","noundefined","require","autoload","configmacros"]);const gt={None:"",Vertical:"v",Horizontal:"h"},_=gt.Vertical,U=gt.Horizontal;var Pm=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};const Ha={dir:gt.None};function $i(i,e,t){return t?is(i,{[e]:t})[e]:i[e]}class nt{get CLASS(){return this.constructor}static charOptions(e,t){const s=e[t];if(!Array.isArray(s))throw Error(`Character data hasn't been loaded for 0x${t.toString(16).toUpperCase()}`);return s.length===3&&(s[3]={}),s[3]}static defineDynamicFiles(e,t=""){const s={};return(e||[]).forEach((([r,n,a])=>{s[r]={extension:t,file:r,variants:n,delimiters:a||[],promise:null,failed:!1,setup:o=>{s[r].failed=!0}}})),s}static dynamicSetup(e,t,s,r={},n=null){const a=e?this.dynamicExtensions.get(e):null;(e?a.files:this.dynamicFiles)[t].setup=o=>{Object.keys(s).forEach((l=>o.defineChars(l,s[l]))),o.defineDelimiters(r),e&&this.adjustDelimiters(o.delimiters,Object.keys(r),a.sizeN,a.stretchN),n&&o.addDynamicFontCss(n)}}static adjustDelimiters(e,t,s,r){t.forEach((n=>{const a=e[parseInt(n)];"dir"in a&&(a.variants&&(a.variants=this.adjustArrayIndices(a.variants,s)),a.stretchv&&(a.stretchv=this.adjustArrayIndices(a.stretchv,r)))}))}static adjustArrayIndices(e,t){return e.map((s=>s<0?t-1-s:s))}static addExtension(e,t=""){const s={name:e.name,prefix:t||`[${e.name}-extension]/${this.JAX.toLowerCase()}/dynamic`,files:this.defineDynamicFiles(e.ranges,e.name),sizeN:this.defaultSizeVariants.length,stretchN:this.defaultStretchVariants.length};this.dynamicExtensions.set(e.name,s);for(const[r,n]of[["options","OPTIONS"],["variants","defaultVariants"],["variantSmp","VariantSmp"],["cssFonts","defaultCssFonts"],["accentMap","defaultAccentMap"],["moMap","defaultMoMap"],["mnMap","defaultMnMap"],["parameters","defaultParams"],["chars","defaultChars"],["sizeVariants","defaultSizeVariants"],["stretchVariants","defaultStretchVariants"]])$i(this,n,e[r]);e.delimiters&&(Object.assign(this.defaultDelimiters,e.delimiters),this.adjustDelimiters(this.defaultDelimiters,Object.keys(e.delimiters),s.sizeN,s.stretchN))}constructor(e=null){this.variant={},this.delimiters={},this.cssFontMap={},this.cssFontPrefix="",this.remapChars={},this.skewIcFactor=.75;const t=this.CLASS;this.options=Ds(is({},t.OPTIONS),e),this.params=Object.assign({},t.defaultParams),this.sizeVariants=[...t.defaultSizeVariants],this.stretchVariants=[...t.defaultStretchVariants],this.defineCssFonts(t.defaultCssFonts),this.cssFamilyPrefix=t.defaultCssFamilyPrefix,this.createVariants(t.defaultVariants),this.defineDelimiters(t.defaultDelimiters),Object.keys(t.defaultChars).forEach((s=>this.defineChars(s,t.defaultChars[s]))),this.defineRemap("accent",t.defaultAccentMap),this.defineRemap("mo",t.defaultMoMap),this.defineRemap("mn",t.defaultMnMap),this.defineDynamicCharacters(t.dynamicFiles),t.dynamicExtensions.forEach((s=>this.defineDynamicCharacters(s.files)))}setOptions(e){is(this.options,e)}addExtension(e,t=""){const s=this.constructor.JAX.toLowerCase(),r={name:e.name,prefix:t||`[${e.name}-extension]/${s}/dynamic`,files:this.CLASS.defineDynamicFiles(e.ranges,t),sizeN:this.sizeVariants.length,stretchN:this.stretchVariants.length};this.CLASS.dynamicExtensions.set(e.name,r),is(this.options,e.options||{}),is(this.params,e.parameters||{}),$i(this,"sizeVariants",e.sizeVariants),$i(this,"stretchVariants",e.stretchVariants),$i(this.constructor,"VariantSmp",e.variantSmp),this.defineCssFonts($i({cssFonts:{}},"cssFonts",e.cssFonts)),this.createVariants($i({variants:[]},"variants",e.variants)),e.delimiters&&(this.defineDelimiters($i({delimiters:{}},"delimiters",e.delimiters)),this.CLASS.adjustDelimiters(this.delimiters,Object.keys(e.delimiters),r.sizeN,r.stretchN));for(const n of Object.keys(e.chars||{}))this.defineChars(n,e.chars[n]);return this.defineRemap("accent",e.accentMap),this.defineRemap("mo",e.moMap),this.defineRemap("mn",e.mnMap),e.ranges&&this.defineDynamicCharacters(r.files),[]}get styles(){return this._styles}set styles(e){this._styles=e}createVariant(e,t=null,s=null){const r={linked:[],chars:Object.create(t?this.variant[t].chars:{})};this.variant[s]&&(Object.assign(r.chars,this.variant[s].chars),this.variant[s].linked.push(r.chars),r.chars=Object.create(r.chars)),this.remapSmpChars(r.chars,e),this.variant[e]=r}remapSmpChars(e,t){const s=this.CLASS;let r=s.VariantSmp[t];if(typeof r=="string"&&(r=s.VariantSmp[r]),!r)return;const n=s.SmpRemap,a=[null,null,s.SmpRemapGreekU,s.SmpRemapGreekL];for(const[l,h,d]of s.SmpRanges){const x=r[l];if(x){for(let k=h;k<=d;k++){if(k===930)continue;const I=x+k-h;e[k]=this.smpChar(n[I]||I)}if(a[l])for(const k of Object.keys(a[l]).map((I=>parseInt(I))))e[k]=this.smpChar(x+a[l][k])}}const o=r[5]||{};for(const l of Object.keys(o))e[l]=this.smpChar(r[5][l])}smpChar(e){return[,,,{smp:e}]}createVariants(e){for(const t of e)this.createVariant(t[0],t[1],t[2])}defineChars(e,t){const s=this.variant[e];Object.assign(s.chars,t);for(const r of s.linked)Object.assign(r,t)}defineCssFonts(e){Object.assign(this.cssFontMap,e);for(const t of Object.keys(e))this.cssFontMap[t][0]==="unknown"&&(this.cssFontMap[t][0]=this.options.unknownFamily)}defineDelimiters(e){Object.assign(this.delimiters,e)}defineRemap(e,t){t&&(Object.hasOwn(this.remapChars,e)||(this.remapChars[e]={}),Object.assign(this.remapChars[e],t))}defineDynamicCharacters(e){for(const t of Object.keys(e)){const s=e[t];for(const r of Object.keys(s.variants))this.defineChars(r,this.flattenRanges(s.variants[r],s));this.defineDelimiters(this.flattenRanges(s.delimiters,s))}}flattenRanges(e,t){const s={};for(const r of e)if(Array.isArray(r))for(let n=r[0];n<=r[1];n++)s[n]=t;else s[r]=t;return s}dynamicFileName(e){const t=e.extension?this.CLASS.dynamicExtensions.get(e.extension).prefix:this.options.dynamicPrefix;return e.file.match(/^(?:[/[]|[a-z]+:\/\/|[a-z]:)/i)?e.file:t+"/"+e.file.replace(/(\.js)?$/,".js")}loadDynamicFile(e){return Pm(this,void 0,void 0,(function*(){return e.failed?Promise.reject(new Error(`dynamic file '${e.file}' failed to load`)):(e.promise||(e.promise=hu(this.dynamicFileName(e)).catch((t=>{e.failed=!0,console.warn(t)}))),e.promise.then((()=>e.setup(this))))}))}loadDynamicFiles(){const e=this.CLASS.dynamicFiles,t=Object.keys(e).map((s=>this.loadDynamicFile(e[s])));for(const s of this.CLASS.dynamicExtensions.values())t.push(...Object.keys(s.files).map((r=>this.loadDynamicFile(s.files[r]))));return Promise.all(t)}loadDynamicFilesSync(){if(!ls.asyncIsSynchronous)throw Error(`MathJax(loadDynamicFilesSync): mathjax.asyncLoad must be specified and synchronous
    Try importing #js/../components/require.mjs and #js/util/asyncLoad/node.js`);const e=this.CLASS.dynamicFiles;Object.keys(e).forEach((t=>this.loadDynamicFileSync(e[t])));for(const t of this.CLASS.dynamicExtensions.values())Object.keys(t.files).forEach((s=>this.loadDynamicFileSync(t.files[s])))}loadDynamicFileSync(e){if(!e.promise){e.promise=Promise.resolve();try{ls.asyncLoad(this.dynamicFileName(e))}catch(t){e.failed=!0,console.warn(t)}e.setup(this)}}addDynamicFontCss(e,t){}getDelimiter(e){const t=this.delimiters[e];return t&&!("dir"in t)?(this.delimiters[e]=null,yn(this.loadDynamicFile(t)),null):t}getSizeVariant(e,t){const s=this.getDelimiter(e);return s&&s.variants&&(t=s.variants[t]),this.sizeVariants[t]}getStretchVariant(e,t){const s=this.getDelimiter(e);return this.stretchVariants[s.stretchv?s.stretchv[t]:0]}getStretchVariants(e){return[0,1,2,3].map((t=>this.getStretchVariant(e,t)))}getChar(e,t){const s=this.variant[e].chars[t];if(s&&!Array.isArray(s)){const r=this.variant[e];return delete r.chars[t],r.linked.forEach((n=>delete n[t])),yn(this.loadDynamicFile(s)),null}return s}getVariant(e){return this.variant[e]}getCssFont(e){return this.cssFontMap[e]||["serif",!1,!1]}getFamily(e){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+e:e}getRemappedChar(e,t){return(this.remapChars[e]||{})[t]}}nt.OPTIONS={unknownFamily:"serif",dynamicPrefix:"."},nt.JAX="common",nt.NAME="",nt.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"],["-smallop","normal"],["-largeop","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]],nt.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1],"-smallop":["unknown",!1,!1],"-largeop":["unknown",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["unknown",!1,!1],"-tex-bold-oldstyle":["unknown",!1,!0],"-tex-mathit":["unknown",!0,!1],"-tex-variant":["unknown",!1,!1]},nt.defaultCssFamilyPrefix="",nt.VariantSmp={bold:[119808,119834,120488,120514,120782,{988:120778,989:120779}],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},nt.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],nt.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},nt.SmpRemapGreekU={8711:25,1012:17},nt.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},nt.defaultAccentMap={94:"\u02C6",126:"\u02DC",768:"\u02CB",769:"\u02CA",770:"\u02C6",771:"\u02DC",772:"\u02C9",774:"\u02D8",775:"\u02D9",776:"\xA8",778:"\u02DA",780:"\u02C7",8594:"\u20D7"},nt.defaultMoMap={45:"\u2212"},nt.defaultMnMap={45:"\u2212"},nt.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.06,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,rule_factor:1.25,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033,extender_factor:.333},nt.defaultDelimiters={},nt.defaultChars={},nt.defaultSizeVariants=[],nt.defaultStretchVariants=[],nt.dynamicFiles={},nt.dynamicExtensions=new Map;class Ms extends rt{static from(e,t,s=null){const r=new this;return Object.assign(r,e),r.lineLeading=t,s&&(r.indentData=s),r}constructor(e,t=null){super(e),this.indentData=null,this.isFirst=!1,this.originalL=this.L,t&&(this.start=t)}append(e){this.isFirst&&(e.originalL+=e.L,e.L=0),e.indentData&&(this.indentData=e.indentData),this.lineLeading=e.lineLeading,super.append(e),this.isFirst=e.isFirst}copy(){const e=Ms.from(this,this.lineLeading);return e.indentData=this.indentData,e.lineLeading=this.lineLeading,e}getIndentData(e){let{indentalign:t,indentshift:s,indentalignfirst:r,indentshiftfirst:n,indentalignlast:a,indentshiftlast:o}=e.attributes.getAllAttributes();r==="indentalign"&&(r=e.attributes.getInherited("indentalign")),n==="indentshift"&&(n=e.attributes.getInherited("indentshift")),a==="indentalign"&&(a=t),o==="indentshift"&&(o=s),this.indentData=[[r,n],[t,s],[a,o]]}copyIndentData(e){return e.indentData.map((([t,s])=>[t,s]))}}const qr=1e6;class V1 extends La{breakToWidth(e,t){}}class G1 extends V1{constructor(){super(...arguments),this.PENALTY={newline:e=>0,nobreak:e=>qr,goodbreak:e=>e-200*this.state.depth,badbreak:e=>e+200*this.state.depth,auto:e=>e},this.FACTORS={depth:e=>e+800*this.state.depth,width:e=>e+Math.floor((this.state.width-this.state.w)/this.state.width*2500),tail:e=>e+Math.floor(this.state.width/Math.max(1e-4,this.state.mathLeft-this.state.w)*500),open:(e,t)=>{const s=t.node.prevClass;if(s===T.BIN||s===T.REL||s===T.OP)return e+5e3;const r=this.getPrevious(t);if(r&&(r.attributes.get("form")!=="postfix"||r.attributes.get("linebreak")==="nobreak"))return e+5e3;const n=t.node.Parent;return n!=null&&n.isKind("mmultiscripts")&&t.node===this.getFirstToken(n)&&n.childNodes.filter((a=>a.isKind("mprescripts"))).length?qr:e-500},close:(e,t)=>{var s;const r=t.node.Parent;return!(r!=null&&r.isKind("msubsup"))||r.isKind("mmultiscripts")&&(!((s=r.childNodes[1])===null||s===void 0)&&s.isKind("mprescripts"))||t.node!==this.getLastToken(r.childNodes[0])?e+500:qr},space:(e,t)=>{const s=t;if(!s.canBreak)return qr;const r=s.getBBox().w;return r<0?qr:r<1?e:e-100*(r+4)},separator:e=>e+500,fuzz:e=>.99*e},this.TEXCLASS={[T.BIN]:e=>e-250,[T.REL]:e=>e-500}}breakToWidth(e,t){const s=this.state;this.state=this.createState(e),this.state.width=t;const r=e.breakCount;for(let n=0;n<=r;n++)(e.lineBBox[n]||e.getLineBBox(n)).w>t&&this.breakLineToWidth(e,n);for(const[n,a]of this.state.breaks){if(a===null){const o=n.coreMO();o.setBreakStyle(o.node.attributes.get("linebreakstyle")||"before")}else n.setBreakAt(a);n.invalidateBBox()}this.state=s}createState(e){const t=e.getBBox().w;return{breaks:new Set,potential:[],width:0,w:0,prevWidth:0,prevBreak:null,depth:0,mathWidth:t,mathLeft:t}}breakLineToWidth(e,t){const s=this.state;s.potential=[],s.w=0,s.prevWidth=0,s.prevBreak=null,s.depth=0,this.visitNode(e,t)}addWidth(e,t=null){t===null&&(t=e.L+e.w+e.R),t&&(t*=e.rscale,this.state.w+=t,this.state.potential.length&&(this.state.potential[0][4]+=t),this.processBreak())}processBreak(){const e=this.state;for(;e.potential.length&&e.w>this.state.width;){const t=e.potential.pop(),[s,,r,n,a]=t;e.breaks.add(s),e.w=e.potential.reduce(((o,l)=>o+l[4]),n+a),e.prevBreak&&e.prevWidth+r<=e.width?(e.breaks.delete(e.prevBreak[0]),e.prevWidth+=r):e.prevWidth=r+n,e.potential.forEach((o=>o[2]-=r)),e.prevBreak=t,e.mathLeft-=r}}pushBreak(e,t,s,r){var n;const a=this.state;if(!(t>=qr||a.w===0&&a.prevWidth===0)){for(;a.potential.length&&a.potential[0][1]>this.FACTORS.fuzz(t);){const o=a.potential.shift();a.potential.length&&(a.potential[0][4]+=o[4])}a.potential.unshift([[e,r],t,a.w-(((n=a.prevBreak)===null||n===void 0?void 0:n[3])||0),s,0])}}getBorderLR(e){var t;const s=e.styleData;if(!s)return[0,0];const r=((t=s==null?void 0:s.border)===null||t===void 0?void 0:t.width)||[0,0,0,0],n=(s==null?void 0:s.padding)||[0,0,0,0];return[r[3]+n[3],r[1]+n[1]]}getFirstToken(e){return e.isToken?e:this.getFirstToken(e.childNodes[0])}getLastToken(e){return e.isToken?e:this.getLastToken(e.childNodes[e.childNodes.length-1])}visitNode(e,t){e&&(this.state.depth++,e.node.isEmbellished&&!e.node.isKind("mo")?this.visitEmbellishedOperator(e,t):super.visitNode(e,t),this.state.depth--)}visitDefault(e,t){var s;const r=e.getLineBBox(t);if(e.node.isToken||e.node.linebreakContainer||!(!((s=e.childNodes)===null||s===void 0)&&s[0]))this.addWidth(r);else{const[n,a]=this.getBorderLR(e);t===0&&this.addWidth(r,r.L+n),this.visitNode(e.childNodes[0],t),t===e.breakCount&&this.addWidth(r,r.R+a)}}visitEmbellishedOperator(e,t){const s=e.coreMO(),r=Ms.from(e.getOuterBBox(),e.linebreakOptions.lineleading);r.getIndentData(s.node);const n=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),a=s.processIndent("",r.indentData[1][1],"",r.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if(n==="before")this.pushBreak(e,o,a-r.L,null),this.addWidth(r);else{this.addWidth(r);const l=(n==="after"?0:s.multChar?s.multChar.getBBox().w:r.w)+a;this.pushBreak(e,o,l,null)}}visitMoNode(e,t){const s=e,r=Ms.from(s.getOuterBBox(),s.linebreakOptions.lineleading);r.getIndentData(s.node);const n=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),a=s.processIndent("",r.indentData[1][1],"",r.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if(n==="before")this.pushBreak(e,o,a-r.L,null),this.addWidth(r);else{this.addWidth(r);const l=(n==="after"?0:s.multChar?s.multChar.getBBox().w:r.w)+a;this.pushBreak(e,o,l,null)}}moPenalty(e){const{linebreak:t,fence:s,form:r}=e.node.attributes.getList("linebreak","fence","form"),n=this.FACTORS;let a=n.tail(n.width(0));const o=s&&r==="prefix"||e.node.texClass===T.OPEN,l=s&&r==="postfix"||e.node.texClass===T.CLOSE;return o&&(a=n.open(a,e),this.state.depth++),l&&(a=n.close(a,e),this.state.depth--),a=(this.TEXCLASS[e.node.texClass]||(h=>h))(a),(this.PENALTY[t]||(h=>h))(n.depth(a))}getPrevious(e){let t=e.node,s=t.parent,r=s.childIndex(t);for(;s&&(s.notParent||s.isKind("mrow"))&&r===0;)t=s,s=t.parent,r=s.childIndex(t);if(!s||!r)return null;const n=s.childNodes[r-1];return n.isEmbellished?n.coreMO():null}visitMspaceNode(e,t){const s=e.getLineBBox(t),r=e;if(r.canBreak){const n=this.mspacePenalty(r);s.getIndentData(e.node);const a=e.processIndent("",s.indentData[1][1],"",s.indentData[0][1],this.state.width)[1];this.pushBreak(e,n,a-s.w,null)}this.addWidth(s)}mspacePenalty(e){const t=e.node.attributes.get("linebreak"),s=this.FACTORS,r=s.space(s.tail(s.width(0)),e);return(this.PENALTY[t]||(n=>n))(s.depth(r))}visitMtextNode(e,t){if(!e.getText().match(/ /))return void this.visitDefault(e,t);const s=e;s.clearBreakPoints();const r=s.textWidth(" "),n=e.getBBox(),[a,o]=this.getBorderLR(e);this.addWidth(n,n.L+a);const l=s.childNodes;for(const h of l.keys()){const d=l[h];if(d.node.isKind("text")){const x=d.node.getText().split(/ /),k=x.pop();for(const I of x.keys())this.addWidth(n,s.textWidth(x[I])),this.pushBreak(e,this.mtextPenalty(),-r,[h,I+1]),this.addWidth(n,r);this.addWidth(n,s.textWidth(k))}else this.addWidth(d.getBBox())}this.addWidth(n,n.R+o)}mtextPenalty(){const e=this.FACTORS;return e.depth(e.tail(e.width(0)))}visitMrowNode(e,t){const s=e.lineBBox[t]||e.getLineBBox(t),[r,n]=s.start||[0,0],[a,o]=s.end||[e.childNodes.length-1,0],[l,h]=this.getBorderLR(e);this.addWidth(s,s.L+l);for(let d=r;d<=a;d++)this.visitNode(e.childNodes[d],d===r?n:d===a?o:0);this.addWidth(s,s.R+h)}visitInferredMrowNode(e,t){this.state.depth--,this.visitMrowNode(e,t),this.state.depth++}visitMfracNode(e,t){const s=e;!s.node.attributes.get("bevelled")&&s.getOuterBBox().w>this.state.width&&(this.breakToWidth(s.childNodes[0],this.state.width),this.breakToWidth(s.childNodes[1],this.state.width)),this.visitDefault(e,t)}visitMsqrtNode(e,t){if(e.getOuterBBox().w>this.state.width){const s=e,r=s.childNodes[s.base];this.breakToWidth(r,this.state.width-s.rootWidth()),s.getStretchedSurd()}this.visitDefault(e,t)}visitMrootNode(e,t){this.visitMsqrtNode(e,t)}visitMsubNode(e,t){this.visitDefault(e,t);const s=e,r=s.getOffset()[0],n=s.scriptChild.getOuterBBox(),[a,o]=this.getBorderLR(e);this.addWidth(s.getLineBBox(t),r+a+n.rscale*n.w+s.font.params.scriptspace+o)}visitMsupNode(e,t){this.visitDefault(e,t);const s=e,r=s.getOffset()[0],n=s.scriptChild.getOuterBBox(),[a,o]=this.getBorderLR(e);this.addWidth(s.getLineBBox(t),r+a+n.rscale*n.w+s.font.params.scriptspace+o)}visitMsubsupNode(e,t){this.visitDefault(e,t);const s=e,r=s.subChild.getOuterBBox(),n=s.supChild.getOuterBBox(),a=s.getAdjustedIc(),o=Math.max(r.rscale*r.w,a+n.rscale*n.w)+s.font.params.scriptspace,[l,h]=this.getBorderLR(e);this.addWidth(e.getLineBBox(t),l+o+h)}visitMmultiscriptsNode(e,t){const s=e,r=s.scriptData;if(r.numPrescripts){const n=Math.max(r.psup.rscale*r.psup.w,r.psub.rscale*r.psub.w);this.addWidth(e.getLineBBox(t),n+s.font.params.scriptspace)}if(this.visitDefault(e,t),r.numScripts){const n=Math.max(r.sup.rscale*r.sup.w,r.sub.rscale*r.sub.w);this.addWidth(e.getLineBBox(t),n+s.font.params.scriptspace)}}visitMfencedNode(e,t){const s=e,r=e.getLineBBox(t),[n,a]=this.getBorderLR(e);t===0&&this.addWidth(r,r.L+n),this.visitNode(s.mrow,t),t===e.breakCount&&this.addWidth(r,r.R+a)}visitMactionNode(e,t){const s=e,r=e.getLineBBox(t),[n,a]=this.getBorderLR(e);t===0&&this.addWidth(r,r.L+n),this.visitNode(s.selected,t),t===e.breakCount&&this.addWidth(r,r.R+a)}}(function(){for(const i of Object.keys(Gs.postfix)){const e=Gs.postfix[i][3];e&&e.fence&&(e.linebreakstyle="after")}Gs.infix["\u2061"]=[...Gs.infix["\u2061"]],Gs.infix["\u2061"][3]={linebreak:"nobreak"}})();const J1="@mathjax/%%FONT%%-font";class Hr extends mn{get forceInlineBreaks(){return!1}constructor(e={},t=null,s=null){const[r,n]=e.fontData instanceof nt?[e.fontData.constructor,e.fontData]:[e.fontData||s,null],[a,o]=sa(e,r.OPTIONS);super(a),this.factory=this.options.wrapperFactory||new t,this.factory.jax=this,this.styleJson=this.options.styleJson||new lr,this.font=n||new r(o),this.font.setOptions({mathmlSpacing:this.options.mathmlSpacing}),this.unknownCache=new Map;const l=this.options.linebreaks.LinebreakVisitor||G1;this.linebreaks=new l(this.factory)}setAdaptor(e){super.setAdaptor(e),this.options.htmlHDW==="auto"&&(this.options.htmlHDW=e.canMeasureNodes?"ignore":"force")}addExtension(e,t=""){return this.font.addExtension(e,t)}typeset(e,t){this.setDocument(t);const s=this.createNode();return this.toDOM(e,s,t),s}createNode(){const e=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:e})}setScale(e,t){let s=this.getInitialScale()*this.options.scale;if(t.node.attributes.get("overflow")==="scale"&&this.math.display){const r=t.getOuterBBox().w,n=this.math.metrics.containerWidth/this.pxPerEm;r>n&&r&&(s*=n/r)}s!==1&&this.adaptor.setStyle(e,"fontSize",fu(s))}getInitialScale(){return this.math.metrics.scale}toDOM(e,t,s=null){var r;this.setDocument(s),this.math=e,this.container=t,this.pxPerEm=e.metrics.ex/this.font.params.x_height,this.executeFilters(this.preFilters,e,s,t),this.nodeMap=new Map,e.root.attributes.getAllInherited().overflow=this.options.displayOverflow;const n=e.root.attributes.get("overflow");this.adaptor.setAttribute(t,"overflow",n),n==="linebreak"&&this.getLinebreakWidth();const a=this.options.linebreaks.inline&&!e.display;let o=!!e.root.getProperty("inlineMarked");!o||a&&this.forceInlineBreaks===e.root.getProperty("inlineForced")||(this.unmarkInlineBreaks(e.root),e.root.removeProperty("inlineMarked"),e.root.removeProperty("inlineForced"),o=!1),a&&!o&&(this.markInlineBreaks((r=e.root.childNodes)===null||r===void 0?void 0:r[0]),e.root.setProperty("inlineMarked",!0),e.root.setProperty("inlineForced",this.forceInlineBreaks)),e.root.setTeXclass(null);const l=this.factory.wrap(e.root);this.setScale(t,l),this.processMath(l,t),this.nodeMap=null,this.executeFilters(this.postFilters,e,s,t)}getBBox(e,t){this.setDocument(t),this.math=e,e.root.setTeXclass(null),this.nodeMap=new Map;const s=this.factory.wrap(e.root).getOuterBBox();return this.nodeMap=null,s}getLinebreakWidth(){const e=this.math.metrics.containerWidth/this.pxPerEm,t=this.math.root.attributes.get("maxwidth")||this.options.linebreaks.width;this.containerWidth=mu(t,e,1,this.pxPerEm)}markInlineBreaks(e){if(!e)return;const t=this.forceInlineBreaks;let s=!1,r=!1,n="";for(const a of e.childNodes)if(n)r=this.markInlineBreak(r,t,n,e,a),n="",s=!1;else if(a.isEmbellished){if(a===e.childNodes[0])continue;const o=a.coreMO(),l=o.texClass,h=o.attributes.get("linebreak"),d=o.attributes.get("linebreakstyle");(l===T.BIN||l===T.REL||l===T.ORD&&o.hasSpacingAttributes()||h!=="auto")&&h!=="nobreak"&&(d==="before"?s&&h==="auto"||(r=this.markInlineBreak(r,t,h,e,a,o)):n=h),s=h==="newline"&&d==="after"}else if(a.isKind("mspace")){const o=a.attributes.get("linebreak");o!=="nobreak"&&a.canBreak&&(r=this.markInlineBreak(r,t,o,e,a)),s=o==="newline"}else s=!1,a.isKind("mstyle")&&!a.attributes.get("style")&&!a.attributes.hasExplicit("mathbackground")||a.isKind("semantics")?(this.markInlineBreaks(a.childNodes[0]),a.getProperty("process-breaks")&&(a.setProperty("inline-breaks",!0),a.childNodes[0].setProperty("inline-breaks",!0),e.parent.setProperty("process-breaks","true"))):a.isKind("mrow")&&a.attributes.get("data-semantic-added")&&(this.markInlineBreaks(a),a.getProperty("process-breaks")&&(a.setProperty("inline-breaks",!0),e.parent.setProperty("process-breaks","true")))}markInlineBreak(e,t,s,r,n,a=null){return n.setProperty("breakable",!0),t&&s!=="newline"?(n.setProperty("forcebreak",!0),a==null||a.setProperty("forcebreak",!0)):(n.removeProperty("forcebreak"),a==null||a.removeProperty("forcebreak"),s==="newline"&&n.setProperty("newline",!0)),e||(r.setProperty("process-breaks",!0),r.parent.setProperty("process-breaks",!0),e=!0),e}unmarkInlineBreaks(e){if(e&&(e.removeProperty("forcebreak"),e.removeProperty("breakable"),e.getProperty("process-breaks"))){e.removeProperty("process-breaks");for(const t of e.childNodes)this.unmarkInlineBreaks(t)}}getMetrics(e){this.setDocument(e);const t=this.adaptor,s=this.getMetricMaps(e);for(const r of e.math){const n=t.parent(r.start.node);if(r.state()<V.METRICS&&n){const a=s[r.display?1:0],{em:o,ex:l,containerWidth:h,scale:d,family:x}=a.get(n);r.setMetrics(o,l,h,d),this.options.mtextInheritFont&&(r.outputData.mtextFamily=x),this.options.merrorInheritFont&&(r.outputData.merrorFamily=x),r.state(V.METRICS)}}}getMetricsFor(e,t){const s=this.options.mtextInheritFont||this.options.merrorInheritFont,r=this.getTestElement(e,t),n=Object.assign(Object.assign({},this.measureMetrics(r,s)),{display:t});return this.adaptor.remove(r),n}getMetricMaps(e){const t=this.adaptor,s=[new Map,new Map];for(const a of e.math){const o=t.parent(a.start.node);if(o&&a.state()<V.METRICS){const l=s[a.display?1:0];l.has(o)||l.set(o,this.getTestElement(o,a.display))}}const r=this.options.mtextInheritFont||this.options.merrorInheritFont,n=[new Map,new Map];for(const a of n.keys())for(const o of s[a].keys())n[a].set(o,this.measureMetrics(s[a].get(o),r));for(const a of n.keys())for(const o of s[a].values())t.remove(o);return n}getTestElement(e,t){const s=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=s.clone(this.testInline),s.setStyle(this.testDisplay,"display","table"),s.setStyle(this.testDisplay,"margin-right",""),s.setStyle(s.firstChild(this.testDisplay),"display","none");const r=s.lastChild(this.testDisplay);s.setStyle(r,"display","table-cell"),s.setStyle(r,"width","10000em"),s.setStyle(r,"float","")}return s.append(e,s.clone(t?this.testDisplay:this.testInline))}measureMetrics(e,t){const s=this.adaptor,r=t?s.fontFamily(e):"",n=s.fontSize(e),[a,o]=s.nodeSize(s.childNode(e,1)),l=a?o/60:n*this.options.exFactor;return{em:n,ex:l,containerWidth:a?s.getStyle(e,"display")==="table"?s.nodeSize(s.lastChild(e))[0]-1:s.nodeBBox(s.lastChild(e)).left-s.nodeBBox(s.firstChild(e)).left-2:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?l/this.font.params.x_height/n:1),family:r}}styleSheet(e){if(this.setDocument(e),this.styleJson.clear(),this.styleJson.addStyles(this.constructor.commonStyles),"getStyles"in e)for(const t of e.getStyles())this.styleJson.addStyles(t);return this.addWrapperStyles(this.styleJson),this.addFontStyles(this.styleJson),this.html("style",{id:"MJX-styles"},[this.text(`
`+this.styleJson.cssText+`
`)])}addFontStyles(e){e.addStyles(this.font.styles)}addWrapperStyles(e){for(const t of this.factory.getKinds())this.addClassStyles(this.factory.getNodeClass(t),e)}addClassStyles(e,t){e.addStyles(t,this)}insertStyles(e){}setDocument(e){e&&(this.document=e,this.adaptor.document=e.document)}html(e,t={},s=[],r){return this.adaptor.node(e,t,s,r)}text(e){return this.adaptor.text(e)}fixed(e,t=3){return Math.abs(e)<6e-4?"0":e.toFixed(t).replace(/\.?0+$/,"")}measureText(e,t,s=["",!1,!1]){const r=this.unknownText(e,t);if(t==="-explicitFont"){const n=this.cssFontStyles(s);this.adaptor.setAttributes(r,{style:n})}return this.measureTextNodeWithCache(r,e,t,s)}measureTextNodeWithCache(e,t,s,r=["",!1,!1]){s==="-explicitFont"&&(s=[r[0],r[1]?"T":"F",r[2]?"T":"F",""].join("-")),this.unknownCache.has(s)||this.unknownCache.set(s,new Map);const n=this.unknownCache.get(s),a=n.get(t);if(a)return a;const o=this.measureTextNode(e);return n.set(t,o),o}cssFontStyles(e,t={}){const[s,r,n]=e;return t["font-family"]=this.font.getFamily(s),r&&(t["font-style"]="italic"),n&&(t["font-weight"]="bold"),t}getFontData(e){return e||(e=new Nt),[this.font.getFamily(e.get("font-family")),e.get("font-style")==="italic",e.get("font-weight")==="bold"]}}Hr.NAME="Common",Hr.OPTIONS=Object.assign(Object.assign({},mn.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",displayOverflow:"overflow",linebreaks:{inline:!0,width:"100%",lineleading:.2,LinebreakVisitor:null},font:"",htmlHDW:"auto",wrapperFactory:null,fontData:null,fontPath:J1,styleJson:null}),Hr.commonStyles={'mjx-container[overflow="scroll"][display]':{overflow:"auto clip","min-width":"initial !important"},'mjx-container[overflow="truncate"][display]':{overflow:"hidden clip","min-width":"initial !important"},"mjx-container[display]":{display:"block","text-align":"center","justify-content":"center",margin:"calc(1em - 2px) 0",padding:"2px 0"},'mjx-container[display][width="full"]':{display:"flex"},'mjx-container[justify="left"]':{"text-align":"left","justify-content":"left"},'mjx-container[justify="right"]':{"text-align":"right","justify-content":"right"}};class Qu extends u1{constructor(){super(...arguments),this.jax=null}get Wrappers(){return this.node}}Qu.defaultNodes={};const Zu=2/18,Bm=5/18;function K1(i,e,t){return e?i?Zu:Bm:i?t<Zu?0:Zu:t}const Wa={[Qe(0)]:"0",[Qe(2/18)]:"1",[Qe(3/18)]:"2",[Qe(4/18)]:"3",[Qe(5/18)]:"4",[Qe(6/18)]:"5"};class Ks extends l1{static addStyles(e,t){e.addStyles(this.styles)}get jax(){return this.factory.jax}get adaptor(){return this.factory.jax.adaptor}get metrics(){return this.factory.jax.math.metrics}get containerWidth(){return this.jax.containerWidth}get linebreaks(){return this.jax.linebreaks}get linebreakOptions(){return this.jax.options.linebreaks}get fixesPWidth(){return!this.node.notParent&&!this.node.isToken}get breakCount(){if(this._breakCount<0){const e=this.node;this._breakCount=e.isEmbellished?this.coreMO().embellishedBreakCount:e.arity<0&&!e.linebreakContainer&&this.childNodes[0].isStack?this.childNodes[0].breakCount:0}return this._breakCount}breakTop(e,t){return this.node.linebreakContainer||!this.parent?e:this.parent.breakTop(e,this)}constructor(e,t,s=null){super(e,t),this.parent=null,this.dom=null,this.removedStyles=null,this.styles=null,this.styleData=null,this.variant="",this.bboxComputed=!1,this._breakCount=-1,this.lineBBox=[],this.stretch=Ha,this.font=null,this.parent=s,this.font=e.jax.font,this.bbox=rt.zero(),this.getStyles(),this.getStyleData(),this.getVariant(),this.getScale(),this.getSpace(),this.childNodes=t.childNodes.map((r=>{const n=this.wrap(r);return n.bbox.pwidth&&(t.notParent||t.isKind("math"))&&(this.bbox.pwidth=rt.fullWidth),n}))}wrap(e,t=null){const s=this.factory.wrap(e,t||this);return t&&t.childNodes.push(s),this.jax.nodeMap.set(e,s),s}getBBox(e=!0){if(this.bboxComputed)return this.bbox;const t=e?this.bbox:rt.zero();return this.computeBBox(t),this.bboxComputed=e,t}getOuterBBox(e=!0){var t;const s=this.getBBox(e);if(!this.styleData)return s;const r=this.styleData.padding,n=((t=this.styleData.border)===null||t===void 0?void 0:t.width)||[0,0,0,0],a=s.copy();for(const[,o,l]of rt.boxSides)a[l]+=r[o]+n[o];return a}getUnbrokenHD(){const e=this.breakCount+1;let t=0,s=0;for(let r=0;r<e;r++){const{h:n,d:a}=this.getLineBBox(r);n>t&&(t=n),a>s&&(s=a)}return[t,s]}computeBBox(e,t=!1){e.empty();for(const s of this.childNodes)e.append(s.getOuterBBox());e.clean(),this.fixesPWidth&&this.setChildPWidths(t)&&this.computeBBox(e,!0)}getLineBBox(e){if(!this.lineBBox[e]){const t=this.breakCount;if(t){const s=this.embellishedBBox(e)||this.computeLineBBox(e);this.lineBBox[e]=s,e===0&&(!this.node.isKind("mo")&&this.node.isEmbellished?s.originalL=this.getBBox().L:s.L=this.getBBox().L),e===t&&(s.R=this.getBBox().R)}else{const s=this.getOuterBBox();this.lineBBox[e]=Ms.from(s,this.linebreakOptions.lineleading)}}return this.lineBBox[e]}embellishedBBox(e){if(!this.node.isEmbellished||this.node.isKind("mo"))return null;const t=this.coreMO();return t.moLineBBox(e,t.embellishedBreakStyle,this.getOuterBBox())}computeLineBBox(e){return this.getChildLineBBox(this.childNodes[0],e)}getBreakNode(e){var t,s;if(!e.start)return[this,null];const[r,n]=e.start;if(this.node.isEmbellished)return[this,this.coreMO()];const a=!((s=(t=this.childNodes[0])===null||t===void 0?void 0:t.node)===null||s===void 0)&&s.isInferred?this.childNodes[0].childNodes:this.childNodes;return this.node.isToken||!a[r]?[this,null]:a[r].getBreakNode(a[r].getLineBBox(n))}getChildLineBBox(e,t){const s=this.breakCount;let r=e.getLineBBox(t);return(this.styleData||this.bbox.L||this.bbox.R)&&(r=r.copy()),this.addMiddleBorders(r),t===0?(r.L+=this.bbox.L,this.addLeftBorders(r)):t===s&&(r.R+=this.bbox.R,this.addRightBorders(r)),r}addLeftBorders(e){var t;if(!this.styleData)return;const s=this.styleData.border,r=this.styleData.padding;e.w+=(((t=s==null?void 0:s.width)===null||t===void 0?void 0:t[3])||0)+((r==null?void 0:r[3])||0)}addMiddleBorders(e){var t,s;if(!this.styleData)return;const r=this.styleData.border,n=this.styleData.padding;e.h+=(((t=r==null?void 0:r.width)===null||t===void 0?void 0:t[0])||0)+((n==null?void 0:n[0])||0),e.d+=(((s=r==null?void 0:r.width)===null||s===void 0?void 0:s[2])||0)+((n==null?void 0:n[2])||0)}addRightBorders(e){var t;if(!this.styleData)return;const s=this.styleData.border,r=this.styleData.padding;e.w+=(((t=s==null?void 0:s.width)===null||t===void 0?void 0:t[1])||0)+((r==null?void 0:r[1])||0)}setChildPWidths(e,t=null,s=!0){if(e)return!1;s&&(this.bbox.pwidth="");let r=!1;for(const n of this.childNodes){const a=n.getBBox();a.pwidth&&n.setChildPWidths(e,t===null?a.w:t,s)&&(r=!0)}return r}breakToWidth(e){}invalidateBBox(e=!0){(this.bboxComputed||this._breakCount>=0)&&(this.bboxComputed=!1,this.lineBBox=[],this._breakCount=-1,this.parent&&e&&this.parent.invalidateBBox())}copySkewIC(e){var t,s,r;const n=this.childNodes[0];!((t=n==null?void 0:n.bbox)===null||t===void 0)&&t.sk&&(e.sk=n.bbox.sk),!((s=n==null?void 0:n.bbox)===null||s===void 0)&&s.dx&&(e.dx=n.bbox.dx);const a=this.childNodes[this.childNodes.length-1];!((r=a==null?void 0:a.bbox)===null||r===void 0)&&r.ic&&(e.ic=a.bbox.ic,e.w+=e.ic)}getStyles(){const e=this.node.attributes.getExplicit("style");if(!e)return;const t=this.styles=new Nt(e);for(let s=0,r=Ks.removeStyles.length;s<r;s++){const n=Ks.removeStyles[s];t.get(n)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[n]=t.get(n),t.set(n,""))}}getStyleData(){if(!this.styles)return;const e=Array(4).fill(0),t=Array(4).fill(0),s=Array(4),r=Array(4);let n=!1,a=!1;for(const[o,l]of rt.boxSides){const h="border"+o,d=this.styles.get(h+"Width");d&&(a=!0,t[l]=Math.max(0,this.length2em(d,1)),s[l]=this.styles.get(h+"Style")||"solid",r[l]=this.styles.get(h+"Color"));const x=this.styles.get("padding"+o);x&&(n=!0,e[l]=Math.max(0,this.length2em(x,1)))}this.styleData=n||a?{padding:e,border:a?{width:t,style:s,color:r}:null}:null}getVariant(){if(!this.node.isToken)return;const e=this.node.attributes;let t=e.get("mathvariant");if(e.hasExplicit("mathvariant"))this.font.getVariant(t)||(console.warn(`Invalid variant: ${t}`),t="normal");else{const s=e.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){const r=this.removedStyles;r.fontFamily&&(s.family=r.fontFamily),r.fontWeight&&(s.weight=r.fontWeight),r.fontStyle&&(s.style=r.fontStyle)}s.fontfamily&&(s.family=s.fontfamily),s.fontweight&&(s.weight=s.fontweight),s.fontstyle&&(s.style=s.fontstyle),s.weight&&s.weight.match(/^\d+$/)&&(s.weight=parseInt(s.weight)>600?"bold":"normal"),s.family?t=this.explicitVariant(s.family,s.weight,s.style):(this.node.getProperty("variantForm")&&(t="-tex-variant"),t=(Ks.BOLDVARIANTS[s.weight]||{})[t]||t,t=(Ks.ITALICVARIANTS[s.style]||{})[t]||t)}this.variant=t}explicitVariant(e,t,s){let r=this.styles;return r||(r=this.styles=new Nt),r.set("fontFamily",e),t&&r.set("fontWeight",t),s&&r.set("fontStyle",s),"-explicitFont"}getScale(){let e=1;const t=this.parent,s=t?t.bbox.scale:1,r=this.node.attributes,n=Math.min(r.get("scriptlevel"),2);let a=r.get("fontsize"),o=this.node.isToken||this.node.isKind("mstyle")?r.get("mathsize"):r.getInherited("mathsize");if(n!==0&&(e=Math.pow(r.get("scriptsizemultiplier"),n)),this.removedStyles&&this.removedStyles.fontSize&&!a&&(a=this.removedStyles.fontSize),a&&!r.hasExplicit("mathsize")&&(o=a),o!=="1"&&(e*=this.length2em(o,1,1)),n!==0){const l=this.length2em(r.get("scriptminsize"),.4,1);e<l&&(e=l)}this.bbox.scale=e,this.bbox.rscale=e/s}getSpace(){const e=this.isTopEmbellished(),t=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||t?e&&this.getMathMLSpacing():this.getTeXSpacing(e,t)}getMathMLSpacing(){const e=this.node.coreMO(),t=e.coreParent(),s=t.parent;if(!s||!s.isKind("mrow")||s.childNodes.length===1)return;const r=s.childIndex(t);if(r===null)return;const n=e.getProperty("noDictDef"),a=e.attributes,o=a.get("scriptlevel")>0;if(this.bbox.L=a.isSet("lspace")?Math.max(0,this.length2em(a.get("lspace"))):K1(o,n,e.lspace),this.bbox.R=a.isSet("rspace")?Math.max(0,this.length2em(a.get("rspace"))):K1(o,n,e.rspace),!r)return;const l=s.childNodes[r-1];if(!l.isEmbellished)return;const h=this.jax.nodeMap.get(l).getBBox();h.R&&(this.bbox.L=Math.max(0,this.bbox.L-h.R))}getTeXSpacing(e,t){if(!t){const s=this.node.texSpacing();s&&(this.bbox.L=this.length2em(s))}if(e||t){const s=this.node.coreMO().attributes;s.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(s.get("lspace")))),s.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(s.get("rspace"))))}}isTopEmbellished(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)}core(){return this.jax.nodeMap.get(this.node.core())}coreMO(){return this.jax.nodeMap.get(this.node.coreMO())}coreRScale(){let e=this.bbox.rscale,t=this.coreMO();for(;t!==this&&t;)e*=t.bbox.rscale,t=t.parent;return e}getRScale(){let e=1,t=this;for(;t;)e*=t.bbox.rscale,t=t.parent;return e}getText(){let e="";if(this.node.isToken)for(const t of this.node.childNodes)t instanceof gn&&(e+=t.getText());return e}canStretch(e){if(this.stretch=Ha,this.node.isEmbellished){const t=this.core();t&&t.node!==this.node&&t.canStretch(e)&&(this.stretch=t.stretch)}return this.stretch.dir!==gt.None}getAlignShift(){let{indentalign:e,indentshift:t,indentalignfirst:s,indentshiftfirst:r}=this.node.attributes.getAllAttributes();return s!=="indentalign"&&(e=s),r!=="indentshift"&&(t=r),this.processIndent(e,t)}processIndent(e,t,s="",r="",n=this.metrics.containerWidth){return this.jax.math.display?(s&&s!=="auto"||(s=this.jax.math.root.getProperty("inlineMarked")?"left":this.jax.options.displayAlign),r&&r!=="auto"||(r=this.jax.math.root.getProperty("inlineMarked")?"0":this.jax.options.displayIndent),e==="auto"&&(e=s),t==="auto"&&(t=r,e!=="right"||t.match(/^\s*0[a-z]*\s*$/)||(t=("-"+t.trim()).replace(/^--/,""))),[e,this.length2em(t,n)]):["left",0]}getAlignX(e,t,s){return s==="right"?e-(t.w+t.R)*t.rscale:s==="left"?t.L*t.rscale:(e-t.w*t.rscale)/2}getAlignY(e,t,s,r,n){return n==="top"?e-s:n==="bottom"?r-t:n==="center"?(e-s-(t-r))/2:0}getWrapWidth(e){return this.childNodes[e].getBBox().w}getChildAlign(e){return"left"}percent(e){return fu(e)}em(e){return Qe(e)}px(e,t=-si){return p1(e,t,this.metrics.em)}length2em(e,t=1,s=null){s===null&&(s=this.bbox.scale);const r=this.font.params.rule_thickness,n=Ir(e,{medium:1,thin:2/3,thick:5/3},0);return n?n*r:mu(e,t,s,this.jax.pxPerEm)}unicodeChars(e,t=this.variant){let s=ca(e);const r=this.font.getVariant(t);if(r&&r.chars){const n=r.chars;s=s.map((a=>{var o,l;return((l=(o=n[a])===null||o===void 0?void 0:o[3])===null||l===void 0?void 0:l.smp)||a}))}return s}remapChars(e){return e}mmlText(e){return this.node.factory.create("text").setText(e)}mmlNode(e,t={},s=[]){return this.node.factory.create(e,t,s)}createMo(e){const t=this.node.factory,s=t.create("text").setText(e),r=t.create("mo",{stretchy:!0},[s]);r.inheritAttributesFrom(this.node),r.parent=this.node.parent;const n=this.wrap(r);return n.parent=this,n}getVariantChar(e,t){const s=this.font.getChar(e,t)||[0,0,0,{unknown:!0}];return s.length===3&&(s[3]={}),s}html(e,t={},s=[]){return this.jax.html(e,t,s)}}Ks.kind="unknown",Ks.styles={},Ks.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],Ks.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},Ks.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},Ks.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}};const eh={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"};class Ze extends Ks{toCHTML(e){this.toEmbellishedCHTML(e)||this.addChildren(this.standardChtmlNodes(e))}toEmbellishedCHTML(e){if(e.length<=1||!this.node.isEmbellished)return!1;const t=this.adaptor;e.forEach((n=>t.append(n,this.html("mjx-linestrut"))));const s=this.coreMO().embellishedBreakStyle,r=[];for(const[n,a]of[[e[0],"before"],[e[1],"after"]])s!==a?(this.toCHTML([n]),r.push(this.dom[0]),a==="after"&&t.removeAttribute(this.dom[0],"space")):r.push(this.createChtmlNodes([n])[0]);return this.dom=r,!0}addChildren(e){for(const t of this.childNodes)t.toCHTML(e)}standardChtmlNodes(e){this.markUsed();const t=this.createChtmlNodes(e);return this.handleStyles(),this.handleScale(),this.handleBorders(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),t}markUsed(){this.jax.wrapperUsage.add(this.kind)}createChtmlNodes(e){this.dom=e.map((t=>this.html("mjx-"+this.node.kind))),e=this.handleHref(e);for(const t of e.keys())this.adaptor.append(e[t],this.dom[t]);return this.dom}handleHref(e){const t=this.node.attributes.get("href");return t?e.map((s=>this.adaptor.append(s,this.html("a",{href:t})))):e}handleStyles(){if(!this.styles)return;const e=this.styles.cssText;if(e){const t=this.adaptor;this.dom.forEach((r=>t.setAttribute(r,"style",e)));const s=this.styles.get("font-family");s&&this.dom.forEach((r=>t.setStyle(r,"font-family",this.font.cssFamilyPrefix+", "+s)))}}handleScale(){this.dom.forEach((e=>this.setScale(e,this.bbox.rscale)))}setScale(e,t){const s=Math.abs(t-1)<.001?1:t;if(e&&s!==1){const r=this.percent(s);eh[r]?this.adaptor.setAttribute(e,"size",eh[r]):this.adaptor.setStyle(e,"fontSize",r)}return e}handleSpace(){const e=this.adaptor,t=!!this.node.getProperty("breakable")&&!this.node.getProperty("newline"),s=this.dom.length-1;for(const r of[[this.getLineBBox(0).L,"space","marginLeft",0],[this.getLineBBox(s).R,"rspace","marginRight",s]]){const[n,a,o,l]=r,h=this.em(n);if(t&&a==="space"){const d=e.node("mjx-break",Wa[h]?{size:Wa[h]}:{style:`letter-spacing: ${this.em(n-1)}`},[e.text(" ")]);e.insert(d,this.dom[l])}else n&&(Wa[h]?e.setAttribute(this.dom[l],a,Wa[h]):e.setStyle(this.dom[l],o,h))}}handleBorders(){var e,t;const s=(e=this.styleData)===null||e===void 0?void 0:e.border,r=(t=this.styleData)===null||t===void 0?void 0:t.padding,n=this.dom.length-1;if(!s||!n)return;const a=this.adaptor;for(const o of this.dom.keys()){const l=this.dom[o];o&&(s.width[3]&&a.setStyle(l,"border-left"," none"),r[3]&&a.setStyle(l,"padding-left","0")),o!==n&&(s.width[1]&&a.setStyle(l,"border-right","none"),r[1]&&a.setStyle(l,"padding-right","0"))}}handleColor(){var e;const t=this.adaptor,s=this.node.attributes,r=s.getExplicit("mathcolor")||s.getExplicit("color"),n=s.getExplicit("mathbackground")||s.getExplicit("background")||((e=this.styles)===null||e===void 0?void 0:e.get("background-color"));r&&this.dom.forEach((a=>t.setStyle(a,"color",r))),n&&this.dom.forEach((a=>t.setStyle(a,"backgroundColor",n)))}handleAttributes(){const e=this.adaptor,t=this.node.attributes,s=t.getAllDefaults(),r=Ze.skipAttributes;for(const n of t.getExplicitNames())if(r[n]===!1||!(n in s)&&!r[n]&&!e.hasAttribute(this.dom[0],n)){const a=t.getExplicit(n);this.dom.forEach((o=>e.setAttribute(o,n,a)))}if(t.get("class")){const n=t.get("class").trim().split(/ +/);for(const a of n)this.dom.forEach((o=>e.addClass(o,a)))}this.node.getProperty("inline-breaks")&&this.dom.forEach((n=>e.setAttribute(n,"inline-breaks","true")))}handlePWidth(){if(this.bbox.pwidth){const e=this.adaptor;this.bbox.pwidth===rt.fullWidth?this.dom.forEach((t=>e.setAttribute(t,"width","full"))):this.dom.forEach((t=>e.setStyle(t,"width",this.bbox.pwidth)))}}setIndent(e,t,s){const r=this.adaptor;if(t==="center"||t==="left"){const n=this.getBBox().L;r.setStyle(e,"margin-left",this.em(s+n))}if(t==="center"||t==="right"){const n=this.getBBox().R;r.setStyle(e,"margin-right",this.em(-s+n))}}drawBBox(){const{w:e,h:t,d:s,R:r}=this.getOuterBBox(),n=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-e-r)}},[this.html("mjx-box",{style:{height:this.em(t),width:this.em(e),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(s),width:this.em(e),"margin-left":this.em(-e),"vertical-align":this.em(-s),"background-color":"green"}})]),a=this.dom[0]||this.parent.dom[0],o=this.adaptor.getAttribute(a,"size");o&&this.adaptor.setAttribute(n,"size",o);const l=this.adaptor.getStyle(a,"fontSize");l&&this.adaptor.setStyle(n,"fontSize",l),this.adaptor.append(this.adaptor.parent(a),n),this.adaptor.setStyle(a,"backgroundColor","#FFEE00")}html(e,t={},s=[]){return this.jax.html(e,t,s)}text(e){return this.jax.text(e)}char(e){return this.font.charSelector(e).substring(1)}}function $1(i){return class extends i{getWrapWidth(e){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm}computeBBox(e,t=!1){super.computeBBox(e,t);const s=this.node.attributes;if(!this.parent&&this.jax.math.display&&s.get("overflow")==="linebreak"){const r=this.containerWidth;e.w>r&&this.childNodes[0].breakToWidth(r),e.updateFrom(this.childNodes[0].getBBox())}}}}Ze.kind="unknown",Ze.autoStyle=!0;const th=(function(){var i;const e=$1(Ze);return(i=class extends e{handleDisplay(t){const s=this.adaptor,[r,n]=this.getAlignShift();if(r!=="center"&&s.setAttribute(t,"justify",r),this.bbox.pwidth===rt.fullWidth){if(s.setAttribute(t,"width","full"),this.jax.table){let{L:a,w:o,R:l}=this.jax.table.getOuterBBox();r==="right"?l=Math.max(l||-n,-n):r==="left"?a=Math.max(a||n,n):r==="center"&&(o+=2*Math.abs(n));const h=this.em(Math.max(0,a+o+l));s.setStyle(t,"min-width",h),s.setStyle(this.jax.table.dom[0],"min-width",h)}}else this.setIndent(this.dom[0],r,n)}handleInline(t){const s=this.adaptor,r=s.getStyle(this.dom[0],"margin-right");r&&(s.setStyle(this.dom[0],"margin-right",""),s.setStyle(t,"margin-right",r),s.setStyle(t,"width","0"))}toCHTML(t){super.toCHTML(t);const s=this.adaptor;this.node.attributes.get("display")==="block"?(s.setAttribute(this.dom[0],"display","true"),s.setAttribute(t[0],"display","true"),this.handleDisplay(t[0])):this.handleInline(t[0]),s.addClass(this.dom[0],`${this.font.cssFontPrefix}-N`)}setChildPWidths(t,s=null,r=!0){return!!this.parent&&super.setChildPWidths(t,s,r)}handleAttributes(){super.handleAttributes();const t=this.adaptor;this.node.getProperty("process-breaks")&&this.dom.forEach((s=>t.setAttribute(s,"breakable","true")))}}).kind=aa.prototype.kind,i.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},"mjx-math[breakable]":{display:"inline"},'mjx-container[jax="CHTML"] mjx-break':{"white-space":"normal","line-height":"0","clip-path":"rect(0 0 0 0)","font-family":"MJX-BRK !important"},'mjx-break[size="0"]':{"letter-spacing":"-0.999em"},'mjx-break[size="1"]':{"letter-spacing":"-0.889em"},'mjx-break[size="2"]':{"letter-spacing":"-0.833em"},'mjx-break[size="3"]':{"letter-spacing":"-0.778em"},'mjx-break[size="4"]':{"letter-spacing":"-0.722em"},'mjx-break[size="5"]':{"letter-spacing":"-0.667em"}},i})();function Y1(i){return class extends i{computeBBox(e,t=!1){super.computeBBox(e),this.copySkewIC(e)}}}const sh=(function(){var i;const e=Y1(Ze);return(i=class extends e{}).kind=ui.prototype.kind,i})();function Q1(i){return class extends i{get breakCount(){return this.breakStyle?1:0}get embellishedBreakCount(){return this.embellishedBreakStyle?1:0}get embellishedBreakStyle(){return this.breakStyle||this.getBreakStyle()}protoBBox(e){const t=this.stretch.dir!==gt.None;t&&this.size===null&&this.getStretchedVariant([0]),t&&this.size<0||(super.computeBBox(e),e.w!==0||!this.node.attributes.hasExplicit("fence")||this.node.getText()!==""||this.node.texClass!==T.OPEN&&this.node.texClass!==T.CLOSE||this.jax.options.mathmlSpacing||(e.R=this.font.params.nulldelimiterspace),this.copySkewIC(e))}getAccentOffset(){const e=rt.empty();return this.protoBBox(e),-e.w/2}getCenterOffset(e=null){return e||(e=rt.empty(),super.computeBBox(e)),(e.h+e.d)/2+this.font.params.axis_height-e.h}getStretchedVariant(e,t=!1){if(this.stretch.dir!==gt.None){let s=this.getWH(e);const r=this.getSize("minsize",0),n=this.getSize("maxsize",1/0),a=this.node.getProperty("mathaccent");s=Math.max(r,Math.min(n,s));const o=this.font.params.delimiterfactor/1e3,l=this.font.params.delimitershortfall,h=r||t?s:a?Math.min(s/o,s+l):Math.max(s*o,s-l),d=this.stretch,x=d.c||this.getText().codePointAt(0);let k=0;if(d.sizes)for(const I of d.sizes){if(I>=h)return a&&k&&k--,void this.setDelimSize(x,k);k++}d.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(e,this.checkExtendedHeight(s,d),d)):this.setDelimSize(x,k-1)}}setDelimSize(e,t){const s=this.stretch;this.variant=this.font.getSizeVariant(e,t),this.size=t;const r=s.schar&&s.schar[Math.min(t,s.schar.length-1)]||e;this.stretch=Object.assign(Object.assign({},s),{c:r}),this.childNodes[0].invalidateBBox()}getSize(e,t){const s=this.node.attributes;return s.isSet(e)&&(t=this.length2em(s.get(e),1,1)),t}getWH(e){if(e.length===0)return 0;if(e.length===1)return e[0];const[t,s]=e,r=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(t-r,s+r):t+s}getStretchBBox(e,t,s){Object.hasOwn(s,"min")&&s.min>t&&(t=s.min);let[r,n,a]=s.HDW;if(this.stretch.dir===gt.Vertical)[r,n]=this.getBaseline(e,t,s);else if(a=t,this.stretch.hd&&!this.jax.options.mathmlSpacing){const o=this.font.params.extender_factor;r=r*(1-o)+this.stretch.hd[0]*o,n=n*(1-o)+this.stretch.hd[1]*o}this.bbox.h=r,this.bbox.d=n,this.bbox.w=a}getBaseline(e,t,s){const r=e.length===2&&e[0]+e[1]===t,n=this.node.attributes.get("symmetric"),[a,o]=r?e:[t,0];let[l,h]=[a+o,0];if(n){const d=this.font.params.axis_height;r&&(l=2*Math.max(a-d,o+d)),h=l/2-d}else if(r)h=o;else{const[d,x]=s.HDW||[.75,.25];h=x*(l/(d+x))}return[l-h,h]}checkExtendedHeight(e,t){if(t.fullExt){const[s,r]=t.fullExt;e=r+Math.ceil(Math.max(0,e-r)/s)*s}return e}setBreakStyle(e=""){if(this.breakStyle=this.node.parent.isEmbellished&&!e?"":this.getBreakStyle(e),this.breakCount&&this.multChar){const t=this.parent.node.childIndex(this.node),s=this.parent.node.childNodes[t+1];s&&s.setTeXclass(this.multChar.node)}}getBreakStyle(e=""){const t=this.node.attributes;let s=e||(t.get("linebreak")==="newline"||this.node.getProperty("forcebreak")?t.get("linebreakstyle"):"");return s==="infixlinebreakstyle"&&(s=t.get(s)),s}getMultChar(){const e=this.node.attributes.get("linebreakmultchar");e&&this.getText()==="\u2062"&&e!=="\u2062"&&(this.multChar=this.createMo(e))}constructor(e,t,s=null){super(e,t,s),this.size=null,this.isAccent=this.node.isAccent,this.getMultChar(),this.setBreakStyle()}computeBBox(e,t=!1){if(this.protoBBox(e),this.node.attributes.get("symmetric")&&this.stretch.dir!==gt.Horizontal){const s=this.getCenterOffset(e);e.h+=s,e.d-=s}this.node.getProperty("mathaccent")&&(this.stretch.dir===gt.None||this.size>=0)&&(e.w=0)}computeLineBBox(e){return this.moLineBBox(e,this.breakStyle)}moLineBBox(e,t,s=null){const r=this.node.attributes.get("lineleading"),n=this.length2em(r,this.linebreakOptions.lineleading);if(e===0&&t==="before"){const o=Ms.from(rt.zero(),n);return o.originalL=this.bbox.L,this.bbox.L=0,o}let a=Ms.from(s||this.getOuterBBox(),n);return e===1&&(t==="after"?(a.w=a.h=a.d=0,a.isFirst=!0,this.bbox.R=0):t==="duplicate"?a.L=0:this.multChar&&(a=Ms.from(this.multChar.getOuterBBox(),n)),a.getIndentData(this.node)),a}canStretch(e){if(this.stretch.dir!==gt.None)return this.stretch.dir===e;if(!this.node.attributes.get("stretchy"))return!1;const t=this.getText();if(Array.from(t).length!==1)return!1;const s=this.font.getDelimiter(t.codePointAt(0));return this.stretch=s&&s.dir===e?s:Ha,this.stretch.dir!==gt.None}getVariant(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.hasExplicit("mathvariant")||this.node.getProperty("pseudoscript")!==!1?super.getVariant():this.variant="-tex-variant"}remapChars(e){const t=this.node.getProperty("primes");if(t)return ca(t);if(e.length===1){const s=this.node.coreParent().parent,r=this.isAccent&&!s.isKind("mrow")?"accent":"mo",n=this.font.getRemappedChar(r,e[0]);n&&(e=this.unicodeChars(n,this.variant))}return e}}}class Zo{constructor(){this.used=new Set,this.needsUpdate=[]}add(e){const t=JSON.stringify(e);this.used.has(t)||this.needsUpdate.push(e),this.used.add(t)}has(e){return this.used.has(JSON.stringify(e))}clear(){this.used.clear(),this.needsUpdate=[]}update(){const e=this.needsUpdate;return this.needsUpdate=[],e}}class mi extends nt{constructor(){super(...arguments),this.charUsage=new Zo,this.delimUsage=new Zo,this.fontUsage={},this.newFonts=0}static charOptions(e,t){return super.charOptions(e,t)}static addFontURLs(e,t,s){for(const r of Object.keys(t)){const n=Object.assign({},t[r]);n.src=n.src.replace(/%%URL%%/,s),e[r]=n}}static addDynamicFontCss(e,t,s){const r={};for(const n of t){const a=n.slice(4);r[`@font-face /* ${a} */`]={"font-family":n,src:`url("%%URL%%/${n.toLowerCase()}.woff2") format("woff2")`},e[`.${a}`]={"font-family":`${this.defaultCssFamilyPrefix}, ${n}`}}this.addFontURLs(e,r,s)}static addExtension(e,t=""){super.addExtension(e,t),e.fonts&&this.addDynamicFontCss(this.defaultStyles,e.fonts,e.fontURL)}addExtension(e,t=""){if(super.addExtension(e,t),!e.fonts||!this.options.adaptiveCSS)return[];const s={},r=new lr;return this.constructor.addDynamicFontCss(s,e.fonts,e.fontURL),r.addStyles(s),r.getStyleRules()}adaptiveCSS(e){this.options.adaptiveCSS=e}clearCache(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())}createVariant(e,t=null,s=null){super.createVariant(e,t,s),this.variant[e].letter=this.constructor.defaultVariantLetters[e]}defineChars(e,t){super.defineChars(e,t);const s=this.variant[e].letter,r=this.constructor;for(const n of Object.keys(t)){const a=parseInt(n);if(!Array.isArray(t[a]))continue;const o=r.charOptions(t,a);o.f===void 0&&(o.f=s);for(const[l,h]of r.combiningChars)if(a>=l&&a<=h){o.cmb=!0;break}}}addDynamicFontCss(e,t=this.options.fontURL){this.constructor.addDynamicFontCss(this.fontUsage,e,t)}updateDynamicStyles(){const e=this.fontUsage;return this.fontUsage={},this.options.adaptiveCSS||this.updateStyles(e),e}get styles(){const e=this.constructor,t=Object.assign(Object.assign({},e.defaultStyles),this.fontUsage);return this.fontUsage={},e.addFontURLs(t,e.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(t):this.allStyles(t),t}updateStyles(e){for(const t of this.delimUsage.update())this.addDelimiterStyles(e,t,this.getDelimiter(t));for(const[t,s]of this.charUsage.update()){const r=this.variant[t];this.addCharStyles(e,r.letter,s,r.chars[s])}return e}allStyles(e){var t;for(const s of Object.keys(this.delimiters)){const r=parseInt(s);this.addDelimiterStyles(e,r,this.delimiters[r])}for(const s of Object.keys(this.variant)){const r=this.variant[s],n=r.letter;for(const a of Object.keys(r.chars)){const o=parseInt(a),l=r.chars[o];!(!((t=l==null?void 0:l[3])===null||t===void 0)&&t.smp)&&Array.isArray(l)&&(l.length<4&&(l[3]={}),this.addCharStyles(e,n,o,l))}}}addDelimiterStyles(e,t,s){if(!s.stretch)return;const r=s.c&&s.c!==t?this.charSelector(s.c):this.charSelector(t);s.dir===gt.Vertical?this.addDelimiterVStyles(e,t,r,s):this.addDelimiterHStyles(e,t,r,s)}addDelimiterVStyles(e,t,s,r){const n=r.HDW,[a,o,l,h]=r.stretch,[d,x,k,I]=this.getStretchVariants(t),G=this.addDelimiterVPart(e,s,"beg",a,d,n);this.addDelimiterVPart(e,s,"ext",o,x,n);const de=this.addDelimiterVPart(e,s,"end",l,k,n);if(h){const je=this.addDelimiterVPart(e,s,"mid",h,I,n),ns=this.em(je/2-.03);e[`mjx-stretchy-v${s} > mjx-ext:first-of-type`]={height:"50%","border-width":`${this.em1(G-.03)} 0 ${ns}`},e[`mjx-stretchy-v${s} > mjx-ext:last-of-type`]={height:"50%","border-width":`${ns} 0 ${this.em1(de-.03)}`}}else(de||G)&&(e[`mjx-stretchy-v${s} > mjx-ext`]["border-width"]=`${this.em1(G-.03)} 0 ${this.em1(de-.03)}`)}addDelimiterVPart(e,t,s,r,n,a){if(!r)return 0;const[o,l,h]=this.getChar(n,r),d={width:this.em0(h)};if(s!=="ext"){const x=h>a[2]?this.em((a[2]-h)/2):"auto",k=s==="beg"?o:s==="end"?-l:(o-l)/2;d.margin=`${this.em(k)} ${x} ${this.em(-k)}`}else d["line-height"]=this.em0(o+l+.005),e[`mjx-stretchy-v${t} > mjx-${s} > mjx-spacer`]={"margin-top":this.em(-l)};return e[`mjx-stretchy-v${t} > mjx-${s}`]=d,o+l}addDelimiterHStyles(e,t,s,r){const n=[...r.HDW],[a,o,l,h]=r.stretch,[d,x,k,I]=this.getStretchVariants(t);if(r.hd&&!this.options.mathmlSpacing){const je=this.params.extender_factor;n[0]=n[0]*(1-je)+r.hd[0]*je,n[1]=n[1]*(1-je)+r.hd[1]*je}const G=this.addDelimiterHPart(e,s,"beg",a,d,n);this.addDelimiterHPart(e,s,"ext",o,x,n);const de=this.addDelimiterHPart(e,s,"end",l,k,n);if(h){const je=this.addDelimiterHPart(e,s,"mid",h,I,n),ns=this.em0(je/2-.03);e[`mjx-stretchy-h${s} > mjx-ext:first-of-type`]={width:"50%","border-width":`0 ${ns} 0 ${this.em0(G-.03)}`},e[`mjx-stretchy-h${s} > mjx-ext:last-of-type`]={width:"50%","border-width":`0 ${this.em0(de-.03)} 0 ${ns}`}}else(G||de)&&(e[`mjx-stretchy-h${s} > mjx-ext`]["border-width"]=`0 ${this.em0(de-.06)} 0 ${this.em0(G-.06)}`);r.ext&&(e[`mjx-stretchy-h${s} > mjx-ext > mjx-spacer`]["letter-spacing"]=this.em(-r.ext))}addDelimiterHPart(e,t,s,r,n,a){if(!r)return 0;let[,,o,l]=this.getChar(n,r);const h={padding:this.padding(a,o-a[2])};return s==="ext"?(!o&&l.dx&&(o=2*l.dx-.06),e[`mjx-stretchy-h${t} > mjx-${s} > mjx-spacer`]={"margin-left":this.em(-o/2)},l.cmb&&(e[`mjx-stretchy-h${t} > mjx-${s} > mjx-c`]={width:this.em(o),"text-align":"right"})):(s==="mid"?h.margin=`0 ${this.em(-o/2)}`:h[s=="end"?"margin-left":"margin-right"]=this.em(-o),this.checkCombiningChar(l,h)),e[`mjx-stretchy-h${t} > mjx-${s}`]=h,o}addCharStyles(e,t,s,r){const n=r[3],a=n.f!==void 0?n.f:t,o=n.ff||(a?`${this.cssFontPrefix}-${a}`:""),l="mjx-c"+this.charSelector(s)+(o?"."+o:""),h=n.oc||n.ic||0;e[l]={padding:this.padding(r,h)},n.oc&&(e[l+"[noic]"]={"padding-right":this.em(r[2])}),this.checkCombiningChar(n,e[l])}checkCombiningChar(e,t){if(!e.cmb)return;const s=t.padding.split(/ /);t.width=s[1],s[1]="0",s[3]||s.pop(),t.padding=s.join(" ")}em(e){return Qe(e)}em0(e){return Qe(Math.max(0,e))}em1(e){const t=Qe(Math.max(0,e));return t==="0"?".1px":t}padding([e,t,s],r=0){return[e,s+r,t,0].map(this.em0).join(" ")}charSelector(e){return".mjx-c"+e.toString(16).toUpperCase()}}function Fm(i,e){for(const t of Object.keys(e)){const s=parseInt(t),r=e[s];r.c&&(r.c=r.c.replace(/\\[0-9A-F]+/gi,(n=>String.fromCodePoint(parseInt(n.substring(1),16))))),Object.assign(nt.charOptions(i,s),r)}return i}mi.OPTIONS=Object.assign(Object.assign({},nt.OPTIONS),{dynamicPrefix:"./chtml/dynamic",fontURL:"./chtml/woff2"}),mi.JAX="CHTML",mi.defaultVariantLetters={},mi.defaultStyles={},mi.defaultFonts={},mi.combiningChars=[[768,879],[8400,8447]];const ih=(function(){var i;const e=Q1(Ze);return i=class extends e{toCHTML(t){const s=this.adaptor,r=this.node.attributes,n=r.get("symmetric")&&this.stretch.dir!==gt.Horizontal,a=this.stretch.dir!==gt.None;a&&this.size===null&&this.getStretchedVariant([]),t.length>1&&t.forEach((l=>s.append(l,this.html("mjx-linestrut"))));const o=this.standardChtmlNodes(t);if(o.length>1&&this.breakStyle!=="duplicate"){const l=this.breakStyle==="after"?1:0;s.remove(o[l]),o[l]=null}if(a&&this.size<0)this.stretchHTML(o);else{if(n||r.get("largeop")){const l=this.em(this.getCenterOffset());l!=="0"&&o.forEach((h=>h&&s.setStyle(h,"verticalAlign",l)))}this.node.getProperty("mathaccent")&&o.forEach((l=>{s.setStyle(l,"width","0"),s.setStyle(l,"margin-left",this.em(this.getAccentOffset()))})),o[0]&&this.addChildren([o[0]]),o[1]&&(this.multChar||this).addChildren([o[1]])}}stretchHTML(t){const s=this.getText().codePointAt(0);this.font.delimUsage.add(s),this.childNodes[0].markUsed();const r=this.stretch,n=r.stretch,a=this.font.getStretchVariants(s),o=[],l=[];for(let je=0;je<n.length;je++)n[je]&&(l[je]=this.font.getChar(a[je],n[je]));const{h,d,w:x}=this.bbox,k={};r.dir===gt.Vertical?(this.createAssembly(l,n,a,o,h+d,.05,`
`),o.push(this.html("mjx-mark")),k.height=this.em(h+d),k.verticalAlign=this.em(-d)):(this.createAssembly(l,n,a,o,x,r.ext||0),k.width=this.em(x));const I={class:this.char(r.c||s),style:k},G=this.html("mjx-stretchy-"+r.dir,I,o),de=this.adaptor;t[0]&&de.append(t[0],G),t[1]&&de.append(t[1],t[0]?de.clone(G):G)}createAssembly(t,s,r,n,a,o,l=""){t=[...t,null,null,null].slice(0,4);let[h,d,x,k]=t.map((de=>de?l?de[0]+de[1]:de[2]:0));d=Math.max(0,d-o);const[I,G]=t[3]?[(a-k)/2-h,(a-k)/2-x]:[a-h-x,0];this.createPart("mjx-beg",t[0],s[0],r[0],n),this.createPart("mjx-ext",t[1],s[1],r[1],n,I,d,l),t[3]&&(this.createPart("mjx-mid",t[3],s[3],r[3],n),this.createPart("mjx-ext",t[1],s[1],r[1],n,G,d,l)),this.createPart("mjx-end",t[2],s[2],r[2],n)}createPart(t,s,r,n,a,o=0,l=0,h=""){if(r){const d=s[3],x=d.f||(n==="normal"?"":this.font.getVariant(n).letter),k=d.ff||(x?`${this.font.cssFontPrefix}-${x}`:""),I=d.c||String.fromCodePoint(r);let G=[];if(t==="mjx-ext"&&(l||d.dx)){l||(l=Math.max(.06,2*d.dx-.06));const de=Math.min(Math.ceil(o/l)+1,500);if(d.cmb){G.push(this.html("mjx-spacer"));for(let je=0;je<de;je++)G.push(this.html("mjx-c",{},[this.text(I)]))}else G=[this.html("mjx-spacer",{},[this.text(Array(de).fill(I).join(h))])]}else G=[this.text(I)];a.push(this.html(t,k?{class:k}:{},G))}}},i.kind=As.prototype.kind,i.styles={"mjx-stretchy-h":{display:"inline-block"},"mjx-stretchy-h > *":{display:"inline-block",width:0,"text-align":"right"},"mjx-stretchy-h > mjx-ext":{"clip-path":"padding-box xywh(0 -1em 100% calc(100% + 2em))",width:"100%",border:"0px solid transparent","box-sizing":"border-box","text-align":"left"},"mjx-stretchy-v":{display:"inline-block","text-align":"center"},"mjx-stretchy-v > *":{display:"block",height:0,margin:"0 auto"},"mjx-stretchy-v > mjx-ext > mjx-spacer":{display:"block"},"mjx-stretchy-v > mjx-ext":{"clip-path":"padding-box xywh(-1em 0 calc(100% + 2em) 100%)",height:"100%",border:"0.1px solid transparent","box-sizing":"border-box","white-space":"wrap"},"mjx-mark":{display:"inline-block",height:0}},i})();function Z1(i){return class extends i{remapChars(e){if(e.length){const t=this.font.getRemappedChar("mn",e[0]);if(t){const s=this.unicodeChars(t,this.variant);s.length===1?e[0]=s[0]:e=s.concat(e.slice(1))}}return e}}}const rh=(function(){var i;const e=Z1(Ze);return(i=class extends e{}).kind=oa.prototype.kind,i})();function e2(i){return class extends i{createText(e){const t=this.wrap(this.mmlText(e));return t.parent=this,t}constructor(e,t,s=null){super(e,t,s);const r=this.node.attributes,n=r.getList("lquote","rquote");this.variant!=="monospace"&&(r.isSet("lquote")||n.lquote!=='"'||(n.lquote="\u201C"),r.isSet("rquote")||n.rquote!=='"'||(n.rquote="\u201D")),this.childNodes.unshift(this.createText(n.lquote)),this.childNodes.push(this.createText(n.rquote))}}}const nh=(function(){var i;const e=e2(Ze);return(i=class extends e{}).kind=la.prototype.kind,i})();function t2(i){var e;return e=class extends i{constructor(){super(...arguments),this.breakPoints=[]}textWidth(t){let s=this.textNode;if(!s){const r=this.node.factory.create("text");r.parent=this.node,s=this.textNode=this.factory.wrap(r),s.parent=this}return s.node.setText(t),s.invalidateBBox(!1),s.getBBox().w}get breakCount(){return this.breakPoints.length}getVariant(){const t=this.jax.options,s=this.jax.math.outputData,r=(!!s.merrorFamily||!!t.merrorFont)&&this.node.Parent.isKind("merror");if(s.mtextFamily||t.mtextFont||r){const n=this.node.attributes.get("mathvariant"),a=this.constructor.INHERITFONTS[n]||this.jax.font.getCssFont(n),o=a[0]||(r?s.merrorFamily||t.merrorFont:s.mtextFamily||t.mtextFont);this.variant=this.explicitVariant(o,a[2]?"bold":"",a[1]?"italic":"")}else super.getVariant()}setBreakAt(t){this.breakPoints.push(t)}clearBreakPoints(){this.breakPoints=[]}computeLineBBox(t){const s=Ms.from(this.getOuterBBox(),this.linebreakOptions.lineleading);return this.breakCount&&(s.w=this.getBreakWidth(t),t===0?(s.R=0,this.addLeftBorders(s)):(s.L=0,s.indentData=[["left","0"],["left","0"],["left","0"]],t===this.breakCount&&this.addRightBorders(s))),s}getBreakWidth(t){const s=this.childNodes;let[r,n]=this.breakPoints[t-1]||[0,0];const[a,o]=this.breakPoints[t]||[s.length,0];let l=s[r].node.getText().split(/ /);if(r===a)return this.textWidth(l.slice(n,o).join(" "));let h=this.textWidth(l.slice(n).join(" "));for(;++r<a&&r<s.length;)h+=s[r].getBBox().w;return r<s.length&&(l=s[r].node.getText().split(/ /),h+=this.textWidth(l.slice(0,o).join(" "))),h}},e.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},e}const ah=(function(){var i;const e=t2(Ze);return(i=class extends e{toCHTML(t){if(!this.breakCount)return void super.toCHTML(t);const s=this.standardChtmlNodes(t),r=this.textNode.node,n=this.childNodes;for(const a of s.keys()){const o=[s[a]];this.adaptor.append(s[a],this.html("mjx-linestrut"));let[l,h]=this.breakPoints[a-1]||[0,0];const[d,x]=this.breakPoints[a]||[n.length,0];let k=n[l].node.getText().split(/ /);if(l!==d){for(r.setText(k.slice(h).join(" ")),this.textNode.toCHTML(o);++l<d&&l<n.length;)n[l].toCHTML(o);l<n.length&&(k=n[l].node.getText().split(/ /),r.setText(k.slice(0,x).join(" ")),this.textNode.toCHTML(o))}else r.setText(k.slice(h,x).join(" ")),this.textNode.toCHTML(o)}}}).kind=or.prototype.kind,i})();function s2(i){return class extends i{get canBreak(){return this.node.canBreak}get breakCount(){return this.breakStyle?1:0}setBreakStyle(e=""){this.breakStyle=e||(this.node.hasNewline||this.node.getProperty("forcebreak")?"before":"")}constructor(e,t,s=null){super(e,t,s),this.setBreakStyle()}computeBBox(e,t=!1){const s=this.node.attributes;e.w=this.length2em(s.get("width"),0),e.h=this.length2em(s.get("height"),0),e.d=this.length2em(s.get("depth"),0)}computeLineBBox(e){const t=this.node.attributes.get("data-lineleading"),s=this.length2em(t,this.linebreakOptions.lineleading),r=Ms.from(rt.zero(),s);return e===1&&(r.getIndentData(this.node),r.w=this.getBBox().w,r.isFirst=r.w===0),r}}}const oh=(function(){var i;const e=s2(Ze);return(i=class extends e{toCHTML(t){t.length>1&&t.forEach((o=>this.adaptor.append(o,this.html("mjx-linestrut"))));const s=this.standardChtmlNodes(t);let{w:r,h:n,d:a}=this.getBBox();r<0&&(this.adaptor.setStyle(s[0],"marginRight",this.em(r)),r=0),r&&!this.breakCount&&this.adaptor.setStyle(s[0],"width",this.em(r)),n=Math.max(0,n+a),n&&this.adaptor.setStyle(s[0],"height",this.em(Math.max(0,n))),a&&this.adaptor.setStyle(s[0],"verticalAlign",this.em(-a))}}).kind=cr.prototype.kind,i})();function i2(i){return class extends i{getDimens(){const e=this.node.attributes.getList("width","height","depth","lspace","voffset"),t=this.childNodes[0].getOuterBBox();let{w:s,h:r,d:n}=t;const a=s,o=r,l=n;let h=0,d=0,x=0;e.width!==""&&(s=this.dimen(e.width,t,"w",0)),e.height!==""&&(r=this.dimen(e.height,t,"h",0)),e.depth!==""&&(n=this.dimen(e.depth,t,"d",0)),e.voffset!==""&&(d=this.dimen(e.voffset,t)),e.lspace!==""&&(h=this.dimen(e.lspace,t));const k=this.node.attributes.get("data-align");return k&&(x=this.getAlignX(s,t,k)),[o,l,a,r-o,n-l,s-a,h,d,x]}dimen(e,t,s="",r=null){const n=(e=String(e)).match(/width|height|depth/),a=n?t[n[0].charAt(0)]:s?t[s]:0;let o=this.length2em(e,a)||0;return e.match(/^[-+]/)&&s&&(o+=a),r!=null&&(o=Math.max(r,o)),o}setBBoxDimens(e){const[t,s,r,n,a,o]=this.getDimens();e.w=r+o,e.h=t+n,e.d=s+a}computeBBox(e,t=!1){if(this.setBBoxDimens(e),this.childNodes[0].getOuterBBox().w>e.w){const s=this.node.attributes.get("data-overflow");(s==="linebreak"||s==="auto"&&this.jax.math.root.attributes.get("overflow")==="linebreak")&&(this.childNodes[0].breakToWidth(e.w),this.setBBoxDimens(e))}this.setChildPWidths(t,e.w)}getWrapWidth(e){return this.getBBox().w}getChildAlign(e){return this.node.attributes.get("data-align")||"left"}}}const ch=(function(){var i;const e=i2(Ze);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;let s=this.standardChtmlNodes(t);const r=[],n={},[,,a,o,l,h,d,x,k]=this.getDimens();if((h||this.childNodes[0].getBBox().pwidth)&&(n.width=this.em(a+h)),(o||l)&&(n.margin=this.em(o)+" 0 "+this.em(l)),d+k||x){n.position="relative";const I=this.html("mjx-rbox",{style:{left:this.em(d+k),top:this.em(-x),"max-width":n.width}});d+k&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(I,"width","full"),this.adaptor.setStyle(I,"left",this.em(d))),r.push(I)}s=[this.adaptor.append(s[0],this.html("mjx-block",{style:n},r))],this.childNodes[0].childNodes.length?this.childNodes[0].toCHTML([r[0]||s[0]]):(o||l)&&this.adaptor.append(r[0]||s[0],this.html("mjx-box"))}}).kind=ma.prototype.kind,i.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}},i})(),Ii=4,Mn=1,Ri=2,St=.067,dr=.2,pr=St+"em solid",Wr={top:0,right:1,bottom:2,left:3},lh=Object.keys(Wr),Sn=i=>new Array(4).fill(i.thickness+i.padding),r2=i=>new Array(4).fill(i.padding),uh=i=>new Array(4).fill(i.thickness),_i=i=>Math.max(i.padding,i.thickness*(i.arrowhead.x+i.arrowhead.dx+1)),za=(i,e)=>{if(i.childNodes[0]){const{h:t,d:s}=i.childNodes[0].getBBox();e[0]=e[2]=Math.max(0,i.thickness*i.arrowhead.y-(t+s)/2)}return e},Xa=(i,e)=>{if(i.childNodes[0]){const{w:t}=i.childNodes[0].getBBox();e[1]=e[3]=Math.max(0,i.thickness*i.arrowhead.y-t/2)}return e},hh={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},dh={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},ph={up:i=>Xa(i,[_i(i),0,i.padding,0]),down:i=>Xa(i,[i.padding,0,_i(i),0]),right:i=>za(i,[0,_i(i),0,i.padding]),left:i=>za(i,[0,i.padding,0,_i(i)]),updown:i=>Xa(i,[_i(i),0,_i(i),0]),leftright:i=>za(i,[0,_i(i),0,_i(i)])},mh=function(i){return e=>{const t=Wr[e];return[e,{renderer:i,bbox:s=>{const r=[0,0,0,0];return r[t]=s.thickness+s.padding,r},border:s=>{const r=[0,0,0,0];return r[t]=s.thickness,r}}]}},fh=function(i){return(e,t,s)=>{const r=Wr[t],n=Wr[s];return[e,{renderer:i,bbox:a=>{const o=a.thickness+a.padding,l=[0,0,0,0];return l[r]=l[n]=o,l},border:a=>{const o=[0,0,0,0];return o[r]=o[n]=a.thickness,o},remove:t+" "+s}]}},gh=function(i){return e=>{const t="mjx-"+e.charAt(0)+"strike";return[e+"diagonalstrike",{renderer:i(t),bbox:Sn}]}},bh=function(i){return e=>{const[t,s,r,n]=dh[e];return[e+"arrow",{renderer:(a,o)=>{const[l,h]=a.arrowAW(),d=a.arrow(h,t*(l-s),r);i(a,d)},bbox:a=>{const{a:o,x:l,y:h}=a.arrowData(),[d,x,k]=[a.arrowhead.x,a.arrowhead.y,a.arrowhead.dx],[I,G]=a.getArgMod(d+k,x),de=h+(I>o?a.thickness*G*Math.sin(I-o):0),je=l+(I>Math.PI/2-o?a.thickness*G*Math.sin(I+o-Math.PI/2):0);return[de,je,de,je]},remove:n}]}},Eh=function(i){return e=>{const[t,s,r,n]=hh[e];return[e+"arrow",{renderer:(a,o)=>{const{w:l,h,d}=a.getBBox(),[x,k]=r?[h+d,"X"]:[l,"Y"],I=a.getOffset(k),G=a.arrow(x,t,s,k,I);i(a,G)},bbox:ph[e],remove:n}]}};function n2(i){return class extends i{getParameters(){const e=this.node.attributes,t=e.get("data-padding");t!==void 0&&(this.padding=this.length2em(t,dr));const s=e.get("data-thickness");s!==void 0&&(this.thickness=this.length2em(s,St));const r=e.get("data-arrowhead");if(r!==void 0){const[n,a,o]=ti(r);this.arrowhead={x:n?parseFloat(n):Ii,y:a?parseFloat(a):Ri,dx:o?parseFloat(o):Mn}}}getNotations(){const e=this.constructor.notations;for(const t of ti(this.node.attributes.get("notation"))){const s=e.get(t);s&&(this.notations[t]=s,s.renderChild&&(this.renderChild=s.renderer))}}removeRedundantNotations(){for(const e of Object.keys(this.notations))if(this.notations[e]){const t=this.notations[e].remove||"";for(const s of t.split(/ /))delete this.notations[s]}}initializeNotations(){for(const e of Object.keys(this.notations)){const t=this.notations[e].init;t&&t(this)}}getBBoxExtenders(){const e=[0,0,0,0];for(const t of Object.keys(this.notations))this.maximizeEntries(e,this.notations[t].bbox(this));return e}getPadding(){const e=[0,0,0,0];for(const t of Object.keys(this.notations)){const s=this.notations[t].border;s&&this.maximizeEntries(e,s(this))}return[0,1,2,3].map((t=>this.TRBL[t]-e[t]))}maximizeEntries(e,t){for(let s=0;s<e.length;s++)e[s]<t[s]&&(e[s]=t[s])}getOffset(e){const[t,s,r,n]=this.TRBL,a=(e==="X"?s-n:r-t)/2;return Math.abs(a)>.001?a:0}getArgMod(e,t){return[Math.atan2(t,e),Math.sqrt(e*e+t*t)]}arrow(e,t,s,r="",n=0){return null}arrowData(){const[e,t]=[this.padding,this.thickness],s=t*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),{h:r,d:n,w:a}=this.childNodes[0].getBBox(),o=r+n,l=Math.sqrt(o*o+a*a),h=Math.max(e,s*a/l),d=Math.max(e,s*o/l),[x,k]=this.getArgMod(a+2*h,o+2*d);return{a:x,W:k,x:h,y:d}}arrowAW(){const{h:e,d:t,w:s}=this.childNodes[0].getBBox(),[r,n,a,o]=this.TRBL;return this.getArgMod(o+s+n,r+e+t+a)}createMsqrt(e){const t=this.node.factory.create("msqrt");t.inheritAttributesFrom(this.node),t.childNodes[0]=e.node;const s=this.wrap(t);return s.parent=this,s}sqrtTRBL(){const e=this.msqrt.getBBox(),t=this.msqrt.childNodes[0].getBBox();return[e.h-t.h,0,e.d-t.d,e.w-t.w]}constructor(e,t,s=null){super(e,t,s),this.notations={},this.renderChild=null,this.msqrt=null,this.padding=dr,this.thickness=St,this.arrowhead={x:Ii,y:Ri,dx:Mn},this.TRBL=[0,0,0,0],this.getParameters(),this.getNotations(),this.removeRedundantNotations(),this.initializeNotations(),this.TRBL=this.getBBoxExtenders()}computeBBox(e,t=!1){const[s,r,n,a]=this.TRBL,o=this.childNodes[0].getBBox();e.combine(o,a,0),e.h+=s,e.d+=n,e.w+=r,this.setChildPWidths(t)}}}const Va=function(i,e=""){return(t,s)=>{const r=t.adjustBorder(t.html("mjx-"+i));if(e){const n=t.getOffset(e);if(t.thickness!==St||n){const a=`translate${e}(${t.Em(t.thickness/2-n)})`;t.adaptor.setStyle(r,"transform",a)}}t.adaptor.append(t.dom[0],r)}},Ga=function(i){return mh(((e,t)=>{e.adaptor.setStyle(t,"border-"+i,e.Em(e.thickness)+" solid")}))(i)},xh=function(i,e,t){return fh(((s,r)=>{const n=s.Em(s.thickness)+" solid";s.adaptor.setStyle(r,"border-"+e,n),s.adaptor.setStyle(r,"border-"+t,n)}))(i,e,t)},yh=function(i,e){return gh((t=>(s,r)=>{const{w:n,h:a,d:o}=s.getBBox(),[l,h]=s.getArgMod(n,a+o),d=e*s.thickness/2,x=s.adjustBorder(s.html(t,{style:{width:s.Em(h),transform:"rotate("+s.fixed(-e*l)+"rad) translateY("+d+"em)"}}));s.adaptor.append(s.dom[0],x)}))(i)},mr=function(i){return bh(((e,t)=>{e.adaptor.append(e.dom[0],t)}))(i)},zr=function(i){return Eh(((e,t)=>{e.adaptor.append(e.dom[0],t)}))(i)};function a2(i,e){return Math.atan2(i,e).toFixed(3).replace(/\.?0+$/,"")}const ec=a2(Mn,Ri),Nh=(function(){var i;const e=n2(Ze);return(i=class extends e{adjustArrow(t,s){const r=this.thickness,n=this.arrowhead;if(n.x===Ii&&n.y===Ri&&n.dx===Mn&&r===St)return;const[a,o]=[r*n.x,r*n.y].map((G=>this.em(G))),l=a2(n.dx,n.y),[h,d,x,k,I]=this.adaptor.childNodes(t);this.adjustHead(d,[o,"0","1px",a],l),this.adjustHead(x,["1px","0",o,a],"-"+l),this.adjustHead(k,[o,a,"1px","0"],"-"+l),this.adjustHead(I,["1px",a,o,"0"],l),this.adjustLine(h,r,n.x,s)}adjustHead(t,s,r){t&&(this.adaptor.setStyle(t,"border-width",s.join(" ")),this.adaptor.setStyle(t,"transform","skewX("+r+"rad)"))}adjustLine(t,s,r,n){this.adaptor.setStyle(t,"borderTop",this.em(s)+" solid"),this.adaptor.setStyle(t,"top",this.em(-s/2)),this.adaptor.setStyle(t,"right",this.em(s*(r-1))),n&&this.adaptor.setStyle(t,"left",this.em(s*(r-1)))}moveArrow(t,s,r){if(!r)return;const n=this.adaptor.getStyle(t,"transform");this.adaptor.setStyle(t,"transform",`translate${s}(${this.em(-r)})${n?" "+n:""}`)}adjustBorder(t){return this.thickness!==St&&this.adaptor.setStyle(t,"borderWidth",this.em(this.thickness)),t}adjustThickness(t){return this.thickness!==St&&this.adaptor.setStyle(t,"strokeWidth",this.fixed(this.thickness)),t}fixed(t,s=3){return Math.abs(t)<6e-4?"0":t.toFixed(s).replace(/\.?0+$/,"")}Em(t){return super.em(t)}toCHTML(t){const s=this.adaptor,r=this.standardChtmlNodes(t),n=s.append(r[0],this.html("mjx-box"));this.renderChild?this.renderChild(this,n):this.childNodes[0].toCHTML([n]);for(const o of Object.keys(this.notations)){const l=this.notations[o];l.renderChild||l.renderer(this,n)}const a=this.getPadding();for(const o of lh){const l=Wr[o];a[l]>0&&s.setStyle(n,"padding-"+o,this.em(a[l]))}}arrow(t,s,r,n="",a=0){const o=this.getBBox().w,l={width:this.em(t)};o!==t&&(l.left=this.em((o-t)/2)),s&&(l.transform="rotate("+this.fixed(s)+"rad)");const h=this.html("mjx-arrow",{style:l},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return r&&(this.adaptor.append(h,this.html("mjx-lthead")),this.adaptor.append(h,this.html("mjx-lbhead")),this.adaptor.setAttribute(h,"double","true")),this.adjustArrow(h,r),this.moveArrow(h,n,a),h}}).kind=ga.prototype.kind,i.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":pr,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":pr,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":pr,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+Qe(St/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":pr,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+Qe(St/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:pr,"border-radius":Qe(St+dr)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:pr,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":Qe(St*Ii)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:Qe(-St/2),right:Qe(St*(Ii-1)),height:0,"border-top":Qe(St)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:Qe(St*(Ii-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+ec+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":Qe(St*Ri)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+ec+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":Qe(St*Ri)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+ec+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":Qe(St*Ii)+" solid","border-bottom":"1px solid transparent","border-top":Qe(St*Ri)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+ec+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":Qe(St*Ii)+" solid","border-top":"1px solid transparent","border-bottom":Qe(St*Ri)+" solid transparent"},"mjx-menclose > mjx-dbox-top":{position:"absolute",top:0,bottom:"50%",left:0,width:Qe(1.5*dr),border:Qe(St)+" solid","border-style":"solid solid none none","border-radius":"0 100% 0 0","box-sizing":"border-box"},"mjx-menclose > mjx-dbox-bot":{position:"absolute",top:"50%",bottom:0,left:0,width:Qe(1.5*dr),"border-width":Qe(St),"border-style":"none solid solid none","border-radius":"0 0 100% 0","box-sizing":"border-box"}},i.notations=new Map([Ga("top"),Ga("right"),Ga("bottom"),Ga("left"),xh("actuarial","top","right"),xh("madruwb","bottom","right"),yh("up",1),yh("down",-1),["horizontalstrike",{renderer:Va("hstrike","Y"),bbox:t=>[0,t.padding,0,t.padding]}],["verticalstrike",{renderer:Va("vstrike","X"),bbox:t=>[t.padding,0,t.padding,0]}],["box",{renderer:(t,s)=>{t.adaptor.setStyle(s,"border",t.Em(t.thickness)+" solid")},bbox:Sn,border:uh,remove:"left right top bottom"}],["roundedbox",{renderer:Va("rbox"),bbox:Sn}],["circle",{renderer:Va("cbox"),bbox:Sn}],["phasorangle",{renderer:(t,s)=>{const{h:r,d:n}=t.getBBox(),[a,o]=t.getArgMod(1.75*t.padding,r+n),l=t.thickness*Math.sin(a)*.9;t.adaptor.setStyle(s,"border-bottom",t.Em(t.thickness)+" solid");const h=t.adjustBorder(t.html("mjx-ustrike",{style:{width:t.Em(o),transform:`translateX(${t.Em(l)}) rotate(${t.fixed(-a)}rad)`}}));t.adaptor.append(t.dom[0],h)},bbox:t=>{const s=t.padding/2,r=t.thickness;return[2*s,s,s+r,3*s+r]},border:t=>[0,0,t.thickness,0],remove:"bottom"}],zr("up"),zr("down"),zr("left"),zr("right"),zr("updown"),zr("leftright"),mr("updiagonal"),mr("northeast"),mr("southeast"),mr("northwest"),mr("southwest"),mr("northeastsouthwest"),mr("northwestsoutheast"),["longdiv",{renderer:(t,s)=>{const r=t.adaptor;r.setStyle(s,"border-top",t.Em(t.thickness)+" solid");const n=r.append(t.dom[0],t.html("mjx-dbox-top")),a=r.append(t.dom[0],t.html("mjx-dbox-bot")),o=t.thickness,l=t.padding;o!==St&&(r.setStyle(n,"border-width",t.Em(o)),r.setStyle(a,"border-width",t.Em(o))),l!==dr&&(r.setStyle(n,"width",t.Em(1.5*l)),r.setStyle(a,"width",t.Em(1.5*l)))},bbox:t=>{const s=t.padding,r=t.thickness;return[s+r,s,s,2*s+r/2]}}],["radical",{renderer:(t,s)=>{t.msqrt.toCHTML([s]);const r=t.sqrtTRBL();t.adaptor.setStyle(t.msqrt.dom[0],"margin",r.map((n=>t.Em(-n))).join(" "))},init:t=>{t.msqrt=t.createMsqrt(t.childNodes[0])},bbox:t=>t.sqrtTRBL(),renderChild:!0}]]),i})();function o2(i){return class extends i{stretchChildren(){const e=[];for(const r of this.childNodes)r.canStretch(gt.Vertical)&&e.push(r);const t=e.length,s=this.childNodes.length;if(t&&s>1){let r=0,n=0;const a=t>1&&t===s;for(const o of this.childNodes){const l=o.stretch.dir===gt.None;if(a||l){const h=o.getBBox().rscale;let[d,x]=o.getUnbrokenHD();d*=h,x*=h,d>r&&(r=d),x>n&&(n=x)}}for(const o of e){const l=o.coreRScale();o.coreMO().getStretchedVariant([r/l,n/l])}}}get fixesPWidth(){return!1}get breakCount(){return this._breakCount<0&&(this._breakCount=this.childNodes.length?this.childNodes.reduce(((e,t)=>e+t.breakCount),0):0),this._breakCount}breakTop(e,t){const s=this;return this.isStack?this.parent.breakTop(s,s):s}constructor(e,t,s=null){super(e,t,s),this.dh=0;const r=this;this.isStack=!this.parent||this.parent.node.isInferred||this.parent.breakTop(r,r)!==r,this.stretchChildren();for(const n of this.childNodes)if(n.bbox.pwidth){this.bbox.pwidth=rt.fullWidth;break}}computeBBox(e,t=!1){const s=this.breakCount;this.lineBBox=s?[new Ms({h:.75,d:.25,w:0},[0,0])]:[],e.empty();for(const r of this.childNodes.keys()){const n=this.childNodes[r];e.append(n.getOuterBBox()),s&&this.computeChildLineBBox(n,r)}e.clean(),s&&!this.coreMO().node.isEmbellished&&this.computeLinebreakBBox(e),this.fixesPWidth&&this.setChildPWidths(t)&&this.computeBBox(e,!0),this.vboxAdjust(e)}computeLinebreakBBox(e){var t;e.empty();const s=this.isStack,r=this.lineBBox,n=r.length-1;if(s)for(const o of r.keys()){const l=r[o];this.addMiddleBorders(l),o===0&&this.addLeftBorders(l),o===n&&this.addRightBorders(l)}let a=0;for(const o of r.keys()){const l=r[o];e.combine(l,0,a),a-=Math.max(.25,l.d)+l.lineLeading+Math.max(.75,((t=r[o+1])===null||t===void 0?void 0:t.h)||0)}s?(r[0].L=this.bbox.L,r[n].R=this.bbox.R):(e.w=Math.max(...this.lineBBox.map((o=>o.w))),this.shiftLines(e.w),this.jax.math.display||this.linebreakOptions.inline||(e.pwidth=rt.fullWidth,this.node.isInferred&&(this.parent.bbox.pwidth=rt.fullWidth))),e.clean()}vboxAdjust(e){if(!this.parent)return;const t=this.breakCount,s=this.parent.node.attributes.get("data-vertical-align");if(t&&s==="bottom")this.dh=t?e.d-this.lineBBox[t-1].d:0;else{if(!(s==="center"||t&&s==="middle"))return void(this.dh=0);{const{h:r,d:n}=e,a=this.font.params.axis_height;this.dh=(r+n)/2+a-r}}e.h+=this.dh,e.d-=this.dh}computeChildLineBBox(e,t){const s=this.lineBBox[this.lineBBox.length-1];s.end=[t,0],s.append(e.getLineBBox(0));const r=e.breakCount+1;if(r!==1)for(let n=1;n<r;n++){const a=new Ms({h:.75,d:.25,w:0});a.start=a.end=[t,n],a.isFirst=!0,a.append(e.getLineBBox(n)),this.lineBBox.push(a)}}getLineBBox(e){return this.getBBox(),this.isStack?super.getLineBBox(e):Ms.from(this.getOuterBBox(),this.linebreakOptions.lineleading)}shiftLines(e){var t,s;const r=this.lineBBox,n=r.length-1,[a,o]=((t=r[1].indentData)===null||t===void 0?void 0:t[0])||["left","0"];for(const l of r.keys()){const h=r[l],[d,x]=l===0?[a,o]:((s=h.indentData)===null||s===void 0?void 0:s[l===n?2:1])||["left","0"],[k,I]=this.processIndent(d,x,a,o,e);h.L=0,h.L=this.getAlignX(e,h,k)+I}}setChildPWidths(e,t=null,s=!0){return this.breakCount?!e&&(t!==null&&this.bbox.w!==t&&(this.bbox.w=t,this.shiftLines(t)),!0):super.setChildPWidths(e,t,s)}breakToWidth(e){this.linebreaks.breakToWidth(this,e)}}}function c2(i){return class extends i{getScale(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1}}}const tc=(function(){var i;const e=o2(Ze);return i=class extends e{constructor(){super(...arguments),this.linebreakCount=0}toCHTML(t){const s=this.linebreakCount=this.isStack?0:this.breakCount;s||!this.node.isInferred?t=this.standardChtmlNodes(t):this.dom=t,this.addChildren(t),s?this.placeLines(t,s):(this.handleVerticalAlign(t[0]),this.handleNegativeWidth(t[0]))}placeLines(t,s){var r,n;this.getBBox();const a=this.lineBBox,o=this.adaptor,[l,h]=((r=a[1].indentData)===null||r===void 0?void 0:r[0])||["left","0"];for(const d of t.keys()){const x=a[d],[k,I]=d===0?[l,h]:((n=x.indentData)===null||n===void 0?void 0:n[d===s?2:1])||["left","0"],[G,de]=this.processIndent(k,I,l,h);o.setAttribute(t[d],"align",G),de&&(o.setStyle(t[d],"position","relative"),o.setStyle(t[d],"left",this.em(de))),d<s&&this.jax.math.display&&o.setStyle(t[d],"margin-bottom",this.em(x.lineLeading))}}handleVerticalAlign(t){this.dh&&this.adaptor.setStyle(this.adaptor.parent(t),"vertical-align",this.em(this.dh))}handleNegativeWidth(t){const{w:s}=this.getBBox();s<0&&(this.adaptor.setStyle(t,"width",this.em(Math.max(0,s))),this.adaptor.setStyle(t,"marginRight",this.em(s)))}createChtmlNodes(t){const s=this.linebreakCount;if(!s)return super.createChtmlNodes(t);const r=this.adaptor,n=this.node.isInferred?"mjx-linestack":"mjx-"+this.node.kind;if(this.dom=[r.append(t[0],this.html(n))],n!=="mjx-mrow"||this.isStack||r.setAttribute(this.dom[0],"break-top","true"),this.node.getProperty("process-breaks")&&r.setAttribute(this.dom[0],"breakable","true"),this.node.isInferred||!this.isStack){const o=this.parent.node.attributes.get("data-vertical-align");o!=="middle"&&o!=="center"&&o!=="bottom"||r.setAttribute(this.dom[0],"break-align",o)}this.dom=[r.append(this.handleHref(t)[0],this.dom[0])];const a=Array(s);for(let o=0;o<=s;o++)a[o]=r.append(this.dom[0],this.html("mjx-linebox",{lineno:o}));return a}addChildren(t){let s=0;for(const r of this.childNodes){const n=r.breakCount;r.toCHTML(t.slice(s,s+n+1)),s+=n}}},i.kind=Rr.prototype.kind,i.styles={"mjx-linestack, mjx-mrow[break-top]":{display:"inline-table",width:"100%"},'mjx-linestack[break-align="bottom"], mjx-mrow[break-top][break-align="bottom"]':{display:"inline-block"},'mjx-linestack[break-align="middle"], mjx-mrow[break-top][break-align="middle"]':{"vertical-align":"middle"},'mjx-linestack[break-align="center"], mjx-mrow[break-top][break-align="center"]':{"vertical-align":"middle"},"mjx-linestack[breakable]":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox::before":{"white-space":"pre",content:'"\\A"'},"mjx-linestack[breakable] > mjx-linebox::after":{"white-space":"normal",content:'" "',"letter-spacing":"-.999em","font-family":"MJX-BRK"},"mjx-linestack[breakable] > mjx-linebox:first-of-type::before":{display:"none"},"mjx-linestack[breakable] > mjx-linebox:last-of-type::after":{display:"none"},"mjx-linebox":{display:"block"},'mjx-linebox[align="left"]':{"text-align":"left"},'mjx-linebox[align="center"]':{"text-align":"center"},'mjx-linebox[align="right"]':{"text-align":"right"},"mjx-linestrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"}},i})(),vh=(function(){var i;const e=c2(tc);return(i=class extends e{}).kind=ua.prototype.kind,i})();function l2(i){return class extends i{createMrow(){const e=this.node.factory.create("inferredMrow");e.inheritAttributesFrom(this.node),this.mrow=this.wrap(e),this.mrow.parent=this}addMrowChildren(){const e=this.node,t=this.mrow;this.addMo(e.open),this.childNodes.length&&t.childNodes.push(this.childNodes[0]);let s=0;for(const r of this.childNodes.slice(1))this.addMo(e.separators[s++]),t.childNodes.push(r);this.addMo(e.close),t.stretchChildren()}addMo(e){if(!e)return;const t=this.wrap(e);this.mrow.childNodes.push(t),t.parent=this.mrow}constructor(e,t,s=null){super(e,t,s),this.mrow=null,this.createMrow(),this.addMrowChildren()}computeBBox(e,t=!1){e.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(t)}get breakCount(){return this.mrow.breakCount}computeLineBBox(e){return this.mrow.getLineBBox(e)}}}const Ch=(function(){var i;const e=l2(Ze);return(i=class extends e{toCHTML(t){const s=this.standardChtmlNodes(t);this.mrow.toCHTML(s)}}).kind=fa.prototype.kind,i})();function u2(i){return class extends i{getFractionBBox(e,t,s){const r=this.childNodes[0].getOuterBBox(),n=this.childNodes[1].getOuterBBox(),a=this.font.params.axis_height,{T:o,u:l,v:h}=this.getTUV(t,s);e.combine(r,0,a+o+Math.max(r.d*r.rscale,l)),e.combine(n,0,a-o-Math.max(n.h*n.rscale,h)),e.w+=2*this.pad+.2}getTUV(e,t){const s=this.font.params,r=s.axis_height,n=(e?3.5:1.5)*t;return{T:(e?3.5:1.5)*t,u:(e?s.num1:s.num2)-r-n,v:(e?s.denom1:s.denom2)+r-n}}getAtopBBox(e,t){const{u:s,v:r,nbox:n,dbox:a}=this.getUVQ(t);e.combine(n,0,s),e.combine(a,0,-r),e.w+=2*this.pad}getUVQ(e){const t=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),r=this.font.params;let[n,a]=e?[r.num1,r.denom1]:[r.num3,r.denom2];const o=(e?7:3)*r.rule_thickness;let l=n-t.d*t.scale-(s.h*s.scale-a);return l<o&&(n+=(o-l)/2,a+=(o-l)/2,l=o),{u:n,v:a,q:l,nbox:t,dbox:s}}getBevelledBBox(e,t){const{u:s,v:r,delta:n,nbox:a,dbox:o}=this.getBevelData(t),l=this.bevel.getOuterBBox();e.combine(a,0,s),e.combine(l,e.w-n/2,0),e.combine(o,e.w-n/2,r)}getBevelData(e){const t=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),r=e?.4:.15,n=Math.max(t.scale*(t.h+t.d),s.scale*(s.h+s.d))+2*r,a=this.font.params.axis_height;return{H:n,delta:r,u:t.scale*(t.d-t.h)/2+a+r,v:s.scale*(s.d-s.h)/2+a-r,nbox:t,dbox:s}}isDisplay(){const{displaystyle:e,scriptlevel:t}=this.node.attributes.getList("displaystyle","scriptlevel");return e&&t===0}constructor(e,t,s=null){if(super(e,t,s),this.bevel=null,this.pad=this.node.getProperty("withDelims")?0:this.font.params.nulldelimiterspace,this.node.attributes.get("bevelled")){const{H:r}=this.getBevelData(this.isDisplay()),n=this.bevel=this.createMo("/");n.node.attributes.set("symmetric",!0),n.canStretch(gt.Vertical),n.getStretchedVariant([r],!0)}}computeBBox(e,t=!1){e.empty();const{linethickness:s,bevelled:r}=this.node.attributes.getList("linethickness","bevelled"),n=this.isDisplay();let a=null;if(r)this.getBevelledBBox(e,n);else{const o=this.length2em(String(s),.06);a=-2*this.pad,o===0?this.getAtopBBox(e,n):(this.getFractionBBox(e,n,o),a-=.2),a+=e.w}e.clean(),this.setChildPWidths(t,a)}canStretch(e){return!1}getChildAlign(e){const t=this.node.attributes;return t.get("bevelled")?"left":t.get(["numalign","denomalign"][e])}getWrapWidth(e){const t=this.node.attributes;return t.get("bevelled")?this.childNodes[e].getOuterBBox().w:this.getBBox().w-(this.length2em(t.get("linethickness"))?.2:0)-2*this.pad}}}const Th=(function(){var i;const e=u2(Ze);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;this.standardChtmlNodes(t);const{linethickness:s,bevelled:r}=this.node.attributes.getList("linethickness","bevelled"),n=this.isDisplay();if(r)this.makeBevelled(n);else{const a=this.length2em(String(s),.06);a===0?this.makeAtop(n):this.makeFraction(n,a)}}makeFraction(t,s){const{numalign:r,denomalign:n}=this.node.attributes.getList("numalign","denomalign"),a=t?{type:"d"}:{},o=this.node.getProperty("withDelims")?Object.assign(Object.assign({},a),{delims:"true"}):Object.assign({},a),l=r!=="center"?{align:r}:{},h=n!=="center"?{align:n}:{},d=Object.assign({},a),x=Object.assign({},a),k=this.font.params;if(s!==.06){const de=k.axis_height,je=this.font.params.rule_factor,ns=this.em(s),{T:xi,u:us,v:Zr}=this.getTUV(t,s),Bd=(t?this.em(3*s):ns)+" -.1em";a.style={height:ns,"border-top":this.em(s*je)+" solid",margin:Bd};const fo=this.em(Math.max(0,us));x.style={height:fo,"vertical-align":"-"+fo},d.style={height:this.em(Math.max(0,Zr))},o.style={"vertical-align":this.em(de-xi)}}let I,G;this.adaptor.append(this.dom[0],this.html("mjx-frac",o,[I=this.html("mjx-num",l,[this.html("mjx-nstrut",x)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",a),this.html("mjx-row",{},[G=this.html("mjx-den",h,[this.html("mjx-dstrut",d)])])])])])),this.childNodes[0].toCHTML([I]),this.childNodes[1].toCHTML([G])}makeAtop(t){const{numalign:s,denomalign:r}=this.node.attributes.getList("numalign","denomalign"),n=t?{type:"d",atop:!0}:{atop:!0},a=this.node.getProperty("withDelims")?Object.assign(Object.assign({},n),{delims:!0}):Object.assign({},n),o=s!=="center"?{align:s}:{},l=r!=="center"?{align:r}:{},{v:h,q:d}=this.getUVQ(t);let x,k;o.style={"padding-bottom":this.em(d)},a.style={"vertical-align":this.em(-h)},this.adaptor.append(this.dom[0],this.html("mjx-frac",a,[x=this.html("mjx-num",o),k=this.html("mjx-den",l)])),this.childNodes[0].toCHTML([x]),this.childNodes[1].toCHTML([k])}makeBevelled(t){const s=this.adaptor;s.setAttribute(this.dom[0],"bevelled","ture");const r=s.append(this.dom[0],this.html("mjx-num"));this.childNodes[0].toCHTML([r]),this.bevel.toCHTML(this.dom);const n=s.append(this.dom[0],this.html("mjx-den"));this.childNodes[1].toCHTML([n]);const{u:a,v:o,delta:l,nbox:h,dbox:d}=this.getBevelData(t);a&&s.setStyle(r,"verticalAlign",this.em(a/h.scale)),o&&s.setStyle(n,"verticalAlign",this.em(o/d.scale));const x=this.em(-l/2);s.setStyle(this.bevel.dom[0],"marginLeft",x),s.setStyle(this.bevel.dom[0],"marginRight",x)}}).kind=ha.prototype.kind,i.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".075em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}},i})();function h2(i){return class extends i{get base(){return 0}get root(){return null}combineRootBBox(e,t,s){}getPQ(e){const t=this.font.params.rule_thickness,s=this.font.params.surd_height,r=this.node.attributes.get("displaystyle")?this.font.params.x_height:t;return[r,e.h+e.d>this.surdH?(e.h+e.d-(this.surdH-t-s-r/2))/2:s+r/4]}getRootDimens(e,t){return[0,0,0,0]}rootWidth(){return 1.25}getStretchedSurd(){const e=this.font.params.rule_thickness,t=this.font.params.surd_height,s=this.node.attributes.get("displaystyle")?this.font.params.x_height:e,{h:r,d:n}=this.childNodes[this.base].getOuterBBox();this.surdH=r+n+e+t+s/4,this.surd.getStretchedVariant([this.surdH-n,n],!0)}constructor(e,t,s=null){super(e,t,s),this.surd=this.createMo("\u221A"),this.surd.canStretch(gt.Vertical),this.getStretchedSurd()}computeBBox(e,t=!1){e.empty();const s=this.surd.getBBox(),r=new rt(this.childNodes[this.base].getOuterBBox()),n=this.getPQ(s)[1],a=this.font.params.rule_thickness,o=this.font.params.surd_height,l=r.h+n+a,[h]=this.getRootDimens(s,l);e.h=l+o,this.combineRootBBox(e,s,l),e.combine(s,h,l-s.h),e.combine(r,h+s.w,0),e.clean(),this.setChildPWidths(t)}invalidateBBox(){super.invalidateBBox(),this.surd.childNodes[0].invalidateBBox()}}}const sc=(function(){var i;const e=h2(Ze);return i=class extends e{toCHTML(t){const s=this.surd,r=this.childNodes[this.base],n=s.getBBox(),a=r.getOuterBBox(),[,o]=this.getPQ(n),l=this.font.params.surd_height,h=a.h+o+l,d=this.adaptor,x=this.standardChtmlNodes(t);let k,I,G,de;this.root!=null&&(G=d.append(x[0],this.html("mjx-root")),de=this.childNodes[this.root]);const je=d.append(x[0],this.html("mjx-sqrt",{},[k=this.html("mjx-surd"),I=this.html("mjx-box",{style:{paddingTop:this.em(o)}})]));l!==.06&&d.setStyle(I,"border-top-width",this.em(l*this.font.params.rule_factor)),this.addRoot(G,de,n,h),s.toCHTML([k]),r.toCHTML([I]),s.size<0&&d.addClass(je,"mjx-tall")}addRoot(t,s,r,n){}},i.kind=da.prototype.kind,i.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".075em"},"mjx-sqrt > mjx-box":{"border-top":".075em solid","padding-left":".03em","margin-left":"-.03em"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}},i})();function d2(i){return class extends i{get root(){return 1}combineRootBBox(e,t,s){const r=this.childNodes[this.root].getOuterBBox(),n=this.getRootDimens(t,s)[1];e.combine(r,0,n)}getRootDimens(e,t){const s=this.surd,r=this.childNodes[this.root].getOuterBBox(),n=(s.size<0?.5:.6)*e.w,{w:a,rscale:o}=r,l=Math.max(a,n/o),h=Math.max(0,l-a);return[l*o-n,this.rootHeight(r,e,s.size,t),h]}rootHeight(e,t,s,r){const n=t.h+t.d;return(s<0?1.9:.55*n)-(n-r)+Math.max(0,e.d*e.rscale)}rootWidth(){const e=this.childNodes[this.root].getOuterBBox();return .4+e.w*e.rscale}}}const wh=(function(){var i;const e=d2(sc);return i=class extends e{addRoot(t,s,r,n){s.toCHTML([t]);const a=this.adaptor,[o,l,h]=this.getRootDimens(r,n);a.setStyle(t,"verticalAlign",this.em(l)),a.setStyle(t,"width",this.em(o)),h&&a.setStyle(a.firstChild(t),"paddingLeft",this.em(h))}},i.kind=pa.prototype.kind,i})();function p2(i){var e;return(e=class extends i{get scriptChild(){return this.childNodes[this.node.sub]}getOffset(){return[this.baseIsChar?0:this.getAdjustedIc(),-this.getV()]}}).useIC=!1,e}function m2(i){return class extends i{get scriptChild(){return this.childNodes[this.node.sup]}getOffset(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]}}}function f2(i){var e;return e=class extends i{constructor(){super(...arguments),this.UVQ=null}get subChild(){return this.childNodes[this.node.sub]}get supChild(){return this.childNodes[this.node.sup]}get scriptChild(){return this.supChild}getUVQ(t=this.subChild.getOuterBBox(),s=this.supChild.getOuterBBox()){const r=this.baseCore,n=r.getLineBBox(r.breakCount);if(this.UVQ)return this.UVQ;const a=this.font.params,o=3*a.rule_thickness,l=this.length2em(this.node.attributes.get("subscriptshift"),a.sub2),h=this.baseCharZero(n.d*this.baseScale+a.sub_drop*t.rscale),d=s.d*s.rscale,x=t.h*t.rscale;let[k,I]=[this.getU(),Math.max(h,l)],G=k-d-(x-I);if(G<o){I+=o-G;const de=.8*a.x_height-(k-d);de>0&&(k+=de,I-=de)}return k=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),k),k),I=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),I),I),G=k-d-(x-I),this.UVQ=[k,-I,G],this.UVQ}appendScripts(t){const[s,r]=[this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],n=this.getBaseWidth(),a=this.getAdjustedIc(),[o,l]=this.getUVQ(),h=t.d-this.baseChild.getLineBBox(this.baseChild.breakCount).d;return t.combine(s,n+(this.baseIsChar?0:a),l-h),t.combine(r,n+a,o-h),t.w+=this.font.params.scriptspace,t}},e.useIC=!1,e}function g2(i){var e;return e=class extends i{get baseChild(){return this.childNodes[this.node.base]}get scriptChild(){return this.childNodes[1]}getBaseCore(){let t=this.getSemanticBase()||this.childNodes[0],s=t==null?void 0:t.node;for(;t&&(t.childNodes.length===1&&(s.isKind("mrow")||s.isKind("TeXAtom")||s.isKind("mstyle")||s.isKind("mpadded")&&!s.getProperty("vbox")||s.isKind("mphantom")||s.isKind("semantics"))||s.isKind("munderover")&&t.isMathAccent);)this.setBaseAccentsFor(t),t=t.childNodes[0],s=t==null?void 0:t.node;return t||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),t||this.childNodes[0]}setBaseAccentsFor(t){t.node.isKind("munderover")&&(this.baseHasAccentOver===null&&(this.baseHasAccentOver=!!t.node.attributes.get("accent")),this.baseHasAccentUnder===null&&(this.baseHasAccentUnder=!!t.node.attributes.get("accentunder")))}getSemanticBase(){const t=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,t)}getBaseFence(t,s){if(!t||!t.node.attributes||!s)return null;if(t.node.attributes.getExplicit("data-semantic-id")===s)return t;for(const r of t.childNodes){const n=this.getBaseFence(r,s);if(n)return n}return null}getBaseScale(){let t=this.baseCore,s=1;for(;t&&t!==this;)s*=t.getOuterBBox().rscale,t=t.parent;return s}getBaseIc(){return this.baseCore.getOuterBBox().ic*this.baseScale}getAdjustedIc(){return this.baseIc?1.05*this.baseIc+.05:0}isCharBase(){const t=this.baseCore;return(t.node.isKind("mo")&&t.size===null||t.node.isKind("mi")||t.node.isKind("mn"))&&t.bbox.rscale===1&&Array.from(t.getText()).length===1}checkLineAccents(){if(this.node.isKind("munderover"))if(this.node.isKind("mover"))this.isLineAbove=this.isLineAccent(this.scriptChild);else if(this.node.isKind("munder"))this.isLineBelow=this.isLineAccent(this.scriptChild);else{const t=this;this.isLineAbove=this.isLineAccent(t.overChild),this.isLineBelow=this.isLineAccent(t.underChild)}}isLineAccent(t){const s=t.coreMO().node;return s.isToken&&s.getText()==="\u2015"}getBaseWidth(){const t=this.baseChild.getLineBBox(this.baseChild.breakCount);return t.w*t.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic}getOffset(){return[0,0]}baseCharZero(t){const s=!!this.baseCore.node.attributes.get("largeop"),r=!(!this.baseCore.node.isKind("mo")||!this.baseCore.size),n=this.baseScale;return!this.baseIsChar||s||r||n!==1?t:0}getV(){const t=this.baseCore,s=t.getLineBBox(t.breakCount),r=this.scriptChild.getOuterBBox(),n=this.font.params,a=this.length2em(this.node.attributes.get("subscriptshift"),n.sub1);return Math.max(this.baseCharZero(s.d*this.baseScale+n.sub_drop*r.rscale),a,r.h*r.rscale-.8*n.x_height)}getU(){const t=this.baseCore,s=t.getLineBBox(t.breakCount),r=this.scriptChild.getOuterBBox(),n=this.font.params,a=this.node.attributes.getList("displaystyle","superscriptshift"),o=this.node.getProperty("texprimestyle")?n.sup3:a.displaystyle?n.sup1:n.sup2,l=this.length2em(a.superscriptshift,o);return Math.max(this.baseCharZero(s.h*this.baseScale-n.sup_drop*r.rscale),l,r.d*r.rscale+1/4*n.x_height)}hasMovableLimits(){const t=this.node.attributes.get("displaystyle"),s=this.baseChild.coreMO().node;return!t&&!!s.attributes.get("movablelimits")}getOverKU(t,s){const r=this.node.attributes.get("accent"),n=this.font.params,a=s.d*s.rscale,o=n.rule_thickness*n.separation_factor,l=this.baseHasAccentOver?o:0,h=this.isLineAbove?3*n.rule_thickness:o,d=(r?h:Math.max(n.big_op_spacing1,n.big_op_spacing3-Math.max(0,a)))-l;return[d,t.h*t.rscale+d+a]}getUnderKV(t,s){const r=this.node.attributes.get("accentunder"),n=this.font.params,a=s.h*s.rscale,o=n.rule_thickness*n.separation_factor,l=this.baseHasAccentUnder?o:0,h=this.isLineBelow?3*n.rule_thickness:o,d=(r?h:Math.max(n.big_op_spacing2,n.big_op_spacing4-a))-l;return[d,-(t.d*t.rscale+d+a)]}getDeltaW(t,s=[0,0,0]){const r=this.node.attributes.get("align"),n=t.map((h=>h.w*h.rscale));n[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0;const a=Math.max(...n),o=[];let l=0;for(const h of n.keys())o[h]=(r==="center"?(a-n[h])/2:r==="right"?a-n[h]:0)+s[h],o[h]<l&&(l=-o[h]);if(l)for(const h of o.keys())o[h]+=l;return[1,2].map((h=>o[h]+=t[h]?t[h].dx*t[0].rscale:0)),o}getDelta(t,s=!1){const r=this.node.attributes.get("accent");let{sk:n,ic:a}=this.baseCore.getOuterBBox();return r&&(n-=t.getOuterBBox().sk),((r&&!s?n:0)+this.font.skewIcFactor*a)*this.baseScale}stretchChildren(){const t=[];for(const n of this.childNodes)n.canStretch(gt.Horizontal)&&t.push(n);const s=t.length,r=this.childNodes.length;if(s&&r>1){let n=0;const a=s>1&&s===r;for(const o of this.childNodes){const l=o.stretch.dir===gt.None;if(a||l){const{w:h,rscale:d}=o.getOuterBBox(l);h*d>n&&(n=h*d)}}for(const o of t){const l=o.coreMO();l.size===null&&l.getStretchedVariant([n/o.coreRScale()])}}}constructor(t,s,r=null){super(t,s,r),this.baseScale=1,this.baseIc=0,this.baseRemoveIc=!1,this.baseIsChar=!1,this.baseHasAccentOver=null,this.baseHasAccentUnder=null,this.isLineAbove=!1,this.isLineBelow=!1,this.isMathAccent=!1;const n=this.baseCore=this.getBaseCore();n&&(this.setBaseAccentsFor(n),this.baseScale=this.getBaseScale(),this.baseIc=this.getBaseIc(),this.baseIsChar=this.isCharBase(),this.isMathAccent=this.baseIsChar&&this.scriptChild&&this.scriptChild.coreMO().node.getProperty("mathaccent")!==void 0,this.checkLineAccents(),this.baseRemoveIc=!this.isLineAbove&&!this.isLineBelow&&(!this.constructor.useIC||this.isMathAccent))}computeBBox(t,s=!1){t.empty(),t.append(this.baseChild.getOuterBBox()),this.appendScripts(t),t.clean(),this.setChildPWidths(s)}appendScripts(t){const s=this.getBaseWidth(),[r,n]=this.getOffset();return t.combine(this.scriptChild.getOuterBBox(),s+r,n),t.w+=this.font.params.scriptspace,t}get breakCount(){return this._breakCount<0&&(this._breakCount=this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.node.linebreakContainer?0:this.childNodes[0].breakCount),this._breakCount}breakTop(t,s){return this.node.linebreakContainer||!this.parent||this.node.childIndex(s.node)?t:this.parent.breakTop(t,this)}computeLineBBox(t){const s=this.breakCount;if(!s)return Ms.from(this.getOuterBBox(),this.linebreakOptions.lineleading);const r=this.baseChild.getLineBBox(t).copy();return t<s?(t===0&&this.addLeftBorders(r),this.addMiddleBorders(r)):(this.appendScripts(r),this.addMiddleBorders(r),this.addRightBorders(r)),r}},e.useIC=!0,e}const ic=(function(){var i;const e=g2(Ze);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;this.dom=this.standardChtmlNodes(t);const[s,r]=this.getOffset(),n=s-(this.baseRemoveIc?this.baseIc:0),a={"vertical-align":this.em(r)};n&&(a["margin-left"]=this.em(n)),this.baseChild.toCHTML(this.dom);const o=this.dom[this.dom.length-1];this.scriptChild.toCHTML([this.adaptor.append(o,this.html("mjx-script",{style:a}))])}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(In.kind)}setDeltaW(t,s){for(let r=0;r<s.length;r++)s[r]&&this.adaptor.setStyle(t[r],"paddingLeft",this.em(s[r]))}adjustOverDepth(t,s){s.d>=0||this.adaptor.setStyle(t,"marginBottom",this.em(s.d*s.rscale))}adjustUnderDepth(t,s){if(s.d>=0)return;const r=this.adaptor,n=this.em(s.d),a=this.html("mjx-box",{style:{"margin-bottom":n,"vertical-align":n}});for(const o of r.childNodes(r.firstChild(t)))r.append(a,o);r.append(r.firstChild(t),a)}adjustBaseHeight(t,s){if(this.node.attributes.get("accent")){const r=this.font.params.x_height*this.baseScale;s.h<r&&(this.adaptor.setStyle(t,"paddingTop",this.em(r-s.h)),s.h=r)}}}).kind="scriptbase",i})(),rc=(function(){var i;const e=p2(ic);return(i=class extends e{}).kind=Ea.prototype.kind,i})(),nc=(function(){var i;const e=m2(ic);return(i=class extends e{}).kind=xa.prototype.kind,i})(),In=(function(){var i;const e=f2(ic);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const s=this.adaptor,r=this.standardChtmlNodes(t),[n,a,o]=[this.baseChild,this.supChild,this.subChild],[,l,h]=this.getUVQ(),d={"vertical-align":this.em(l)};n.toCHTML(r);const x=s.append(r[r.length-1],this.html("mjx-script",{style:d}));a.toCHTML([x]),s.append(x,this.html("mjx-spacer",{style:{"margin-top":this.em(h)}})),o.toCHTML([x]);const k=this.getAdjustedIc();k&&(s.setStyle(a.dom[0],"marginLeft",this.em(k/a.bbox.rscale)),this.baseIsChar||s.setStyle(o.dom[0],"marginLeft",this.em(k/a.bbox.rscale))),this.baseRemoveIc&&s.setStyle(x,"marginLeft",this.em(-this.baseIc))}}).kind=hi.prototype.kind,i.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > mjx-spacer":{display:"block"}},i})();function b2(i){return class extends i{get scriptChild(){return this.childNodes[this.node.under]}constructor(...e){super(...e),this.stretchChildren()}computeBBox(e,t=!1){if(this.hasMovableLimits())return void super.computeBBox(e,t);e.empty();const s=this.baseChild.getOuterBBox(),r=this.scriptChild.getOuterBBox(),n=this.getUnderKV(s,r)[1],a=this.isLineBelow?0:this.getDelta(this.scriptChild,!0),[o,l]=this.getDeltaW([s,r],[0,-a]);e.combine(s,o,0),e.combine(r,l,n),e.d+=this.font.params.big_op_spacing5,e.clean(),this.setChildPWidths(t)}}}function E2(i){return class extends i{get scriptChild(){return this.childNodes[this.node.over]}constructor(...e){super(...e),this.stretchChildren()}computeBBox(e){if(this.hasMovableLimits())return void super.computeBBox(e);e.empty();const t=this.baseChild.getOuterBBox(),s=this.scriptChild.getOuterBBox();this.node.attributes.get("accent")&&(t.h=Math.max(t.h,this.font.params.x_height*this.baseScale));const r=this.getOverKU(t,s)[1],n=this.isLineAbove?0:this.getDelta(this.scriptChild),[a,o]=this.getDeltaW([t,s],[0,n]);e.combine(t,a,0),e.combine(s,o,r),e.h+=this.font.params.big_op_spacing5,e.clean()}}}function x2(i){return class extends i{get underChild(){return this.childNodes[this.node.under]}get overChild(){return this.childNodes[this.node.over]}get subChild(){return this.underChild}get supChild(){return this.overChild}constructor(...e){super(...e),this.stretchChildren()}computeBBox(e){if(this.hasMovableLimits())return void super.computeBBox(e);e.empty();const t=this.overChild.getOuterBBox(),s=this.baseChild.getOuterBBox(),r=this.underChild.getOuterBBox();this.node.attributes.get("accent")&&(s.h=Math.max(s.h,this.font.params.x_height*this.baseScale));const n=this.getOverKU(s,t)[1],a=this.getUnderKV(s,r)[1],o=this.getDelta(this.overChild),l=this.getDelta(this.underChild,!0),[h,d,x]=this.getDeltaW([s,r,t],[0,this.isLineBelow?0:-l,this.isLineAbove?0:o]);e.combine(s,h,0),e.combine(t,x,n),e.combine(r,d,a);const k=this.font.params.big_op_spacing5;e.h+=k,e.d+=k,e.clean()}}}const kh=(function(){var i;const e=b2(rc);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const s=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-base")),r=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-under"));this.baseChild.toCHTML([s]),this.scriptChild.toCHTML([r]);const n=this.baseChild.getOuterBBox(),a=this.scriptChild.getOuterBBox(),o=this.getUnderKV(n,a)[0],l=this.isLineBelow?0:this.getDelta(this.scriptChild,!0);this.adaptor.setStyle(r,"paddingTop",this.em(o)),this.setDeltaW([s,r],this.getDeltaW([n,a],[0,-l])),this.adjustUnderDepth(r,a)}}).kind=ya.prototype.kind,i.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}},i})(),Ah=(function(){var i;const e=E2(nc);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const s=this.adaptor.append(this.dom[0],this.html("mjx-over")),r=this.adaptor.append(this.dom[0],this.html("mjx-base"));this.scriptChild.toCHTML([s]),this.baseChild.toCHTML([r]);const n=this.scriptChild.getOuterBBox(),a=this.baseChild.getOuterBBox();this.adjustBaseHeight(r,a);const o=this.getOverKU(a,n)[0],l=this.isLineAbove?0:this.getDelta(this.scriptChild);this.adaptor.setStyle(s,"paddingBottom",this.em(o)),this.setDeltaW([r,s],this.getDeltaW([a,n],[0,l])),this.adjustOverDepth(s,n)}}).kind=bn.prototype.kind,i.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},i})(),Lh=(function(){var i;const e=x2(In);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);const s=this.adaptor.append(this.dom[0],this.html("mjx-over")),r=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-box")),this.html("mjx-munder")),n=this.adaptor.append(this.adaptor.append(r,this.html("mjx-row")),this.html("mjx-base")),a=this.adaptor.append(this.adaptor.append(r,this.html("mjx-row")),this.html("mjx-under"));this.overChild.toCHTML([s]),this.baseChild.toCHTML([n]),this.underChild.toCHTML([a]);const o=this.overChild.getOuterBBox(),l=this.baseChild.getOuterBBox(),h=this.underChild.getOuterBBox();this.adjustBaseHeight(n,l);const d=this.getOverKU(l,o)[0],x=this.getUnderKV(l,h)[0],k=this.getDelta(this.overChild),I=this.getDelta(this.underChild,!0);this.adaptor.setStyle(s,"paddingBottom",this.em(d)),this.adaptor.setStyle(a,"paddingTop",this.em(x)),this.setDeltaW([n,a,s],this.getDeltaW([l,h,o],[0,this.isLineBelow?0:-I,this.isLineAbove?0:k])),this.adjustOverDepth(s,o),this.adjustUnderDepth(a,h)}}).kind=ki.prototype.kind,i.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},i})(),y2={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},jm=["sup","sup","psup","psub"];function N2(i){return class extends i{combinePrePost(e,t){const s=new rt(e);return s.combine(t,0,0),s}getScriptData(){const e=this.scriptData={base:null,sub:rt.empty(),sup:rt.empty(),psub:rt.empty(),psup:rt.empty(),numPrescripts:0,numScripts:0},t=this.getScriptBBoxLists();this.combineBBoxLists(e.sub,e.sup,t.subList,t.supList),this.combineBBoxLists(e.psub,e.psup,t.psubList,t.psupList),e.base=t.base[0],e.numPrescripts=t.psubList.length,e.numScripts=t.subList.length}getScriptBBoxLists(){const e={base:[],subList:[],supList:[],psubList:[],psupList:[]};let t="base";for(const s of this.childNodes)s.node.isKind("mprescripts")?t="psubList":(e[t].push(s.getOuterBBox()),t=y2[t]);return this.firstPrescript=e.subList.length+e.supList.length+2,this.padLists(e.subList,e.supList),this.padLists(e.psubList,e.psupList),e}padLists(e,t){e.length>t.length&&t.push(rt.empty())}combineBBoxLists(e,t,s,r){for(let n=0;n<s.length;n++){const[a,o,l]=this.getScaledWHD(s[n]),[h,d,x]=this.getScaledWHD(r[n]),k=Math.max(a,h);e.w+=k,t.w+=k,o>e.h&&(e.h=o),l>e.d&&(e.d=l),d>t.h&&(t.h=d),x>t.d&&(t.d=x)}}getScaledWHD(e){const{w:t,h:s,d:r,rscale:n}=e;return[t*n,s*n,r*n]}getCombinedUV(){const e=this.scriptData,t=this.combinePrePost(e.sub,e.psub),s=this.combinePrePost(e.sup,e.psup);return this.getUVQ(t,s)}addPrescripts(e,t,s){const r=this.scriptData;if(r.numPrescripts){const n=this.font.params.scriptspace;e.combine(r.psup,n,t),e.combine(r.psub,n,s)}return e}addPostscripts(e,t,s){const r=this.scriptData;if(r.numScripts){const n=e.w;e.combine(r.sup,n,t),e.combine(r.sub,n,s),e.w+=this.font.params.scriptspace}return e}constructor(...e){super(...e),this.scriptData=null,this.firstPrescript=0,this.getScriptData()}appendScripts(e){e.empty();const[t,s]=this.getCombinedUV();return this.addPrescripts(e,t,s),e.append(this.scriptData.base),this.addPostscripts(e,t,s),e.clean(),e}computeLineBBox(e){const t=this.baseChild.breakCount,s=this.baseChild.getLineBBox(e).copy();let r=s;const[n,a]=this.getCombinedUV();return e===0?(r=Ms.from(this.addPrescripts(rt.zero(),n,a),this.linebreakOptions.lineleading),r.append(s),this.addLeftBorders(r),r.L=this.bbox.L):e===t&&(r=this.addPostscripts(r,n,a),this.addRightBorders(r),r.R=this.bbox.R),this.addMiddleBorders(r),r}getUVQ(e,t){if(!this.UVQ){let[s,r,n]=[0,0,0];e.w===0?s=this.getU():t.w===0?s=-this.getV():[s,r,n]=super.getUVQ(e,t),this.UVQ=[s,r,n]}return this.UVQ}}}const Mh=(function(){var i;const e=N2(In);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const s=this.standardChtmlNodes(t),r=this.scriptData,n=this.node.getProperty("scriptalign")||"right left",[a,o]=ti(n+" "+n),[l,h]=this.getCombinedUV();if(r.numPrescripts){const d=this.addScripts(this.dom[0],l,-h,!0,r.psub,r.psup,this.firstPrescript,r.numPrescripts);a!=="right"&&this.adaptor.setAttribute(d,"script-align",a)}if(this.childNodes[0].toCHTML(s),r.numScripts){const d=this.addScripts(this.dom[this.dom.length-1],l,-h,!1,r.sub,r.sup,1,r.numScripts);o!=="left"&&this.adaptor.setAttribute(d,"script-align",o)}}addScripts(t,s,r,n,a,o,l,h){const d=this.adaptor,x=s-o.d+(r-a.h),k=s<0&&r===0?a.h+s:s,I=x>0?{style:{height:this.em(x)}}:{},G=k?{style:{"vertical-align":this.em(k)}}:{},de=this.html("mjx-row"),je=this.html("mjx-row",I),ns=this.html("mjx-row"),xi="mjx-"+(n?"pre":"")+"scripts",us=l+2*h;for(;l<us;)this.childNodes[l++].toCHTML([d.append(ns,this.html("mjx-cell"))]),this.childNodes[l++].toCHTML([d.append(de,this.html("mjx-cell"))]);return d.append(t,this.html(xi,G,[de,je,ns]))}}).kind=Na.prototype.kind,i.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":"left"},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":"center"},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":"right"},"mjx-none":{display:"inline-block",height:"1px"}},i})(),v2=.333;function C2(i){return class extends i{get tableRows(){return this.childNodes}findContainer(){let e=this,t=e.parent;for(;t&&(t.node.notParent||t.node.isKind("mrow"));)e=t,t=t.parent;this.container=t,this.containerI=e.node.childPosition()}getPercentageWidth(){if(this.hasLabels)this.bbox.pwidth=rt.fullWidth;else{const e=this.node.attributes.get("width");Js(e)&&(this.bbox.pwidth=e)}}stretchRows(){const e=this.node.attributes.get("equalrows"),t=e?this.getEqualRowHeight():0,{H:s,D:r}=e?this.getTableData():{H:[0],D:[0]},n=this.tableRows;for(let a=0;a<this.numRows;a++){const o=e?[(t+s[a]-r[a])/2,(t-s[a]+r[a])/2]:null;n[a].stretchChildren(o)}}stretchColumns(){const e=this.getColumnAttributes("columnwidth",0);for(let t=0;t<this.numCols;t++){const s=typeof this.cWidths[t]=="number"?this.cWidths[t]:null;this.stretchColumn(t,s),s!==null&&this.breakColumn(t,s,e[t])}}stretchColumn(e,t){const s=[];for(const a of this.tableRows){const o=a.getChild(e);if(o){const l=o.childNodes[0];l.stretch.dir===gt.None&&l.canStretch(gt.Horizontal)&&s.push(l)}}const r=s.length,n=this.childNodes.length;if(r&&n>1&&t===null){t=0;const a=r>1&&r===n;for(const o of this.tableRows){const l=o.getChild(e);if(l){const h=l.childNodes[0],d=h.stretch.dir===gt.None;if(a||d){const{w:x}=h.getBBox(d);x>t&&(t=x)}}}}if(t!==null)for(const a of s)a.coreMO().getStretchedVariant([Math.max(t,a.getBBox().w)/a.coreRScale()])}breakColumn(e,t,s){if(this.jax.math.root.attributes.get("overflow")!=="linebreak"||!this.jax.math.display)return;const{D:r}=this.getTableData();let n=0,a=0;for(const o of this.tableRows){const l=o.getChild(e);if(l&&l.getBBox().w>t){l.childNodes[0].breakToWidth(t);const h=l.getBBox();r[n]=Math.max(r[n],h.d),h.w>a&&(a=h.w)}n++}(s==="fit"||s==="auto"||Js(s)||a>this.cWidths[e])&&(this.cWidths[e]=a)}getTableData(){if(this.data)return this.data;const e=new Array(this.numRows).fill(0),t=new Array(this.numRows).fill(0),s=new Array(this.numCols).fill(0),r=new Array(this.numRows),n=new Array(this.numRows),a=[0],o=this.tableRows;for(let h=0;h<o.length;h++){let d=0;const x=o[h],k=x.node.attributes.get("rowalign");for(let I=0;I<x.numCells;I++){const G=x.getChild(I);d=this.updateHDW(G,I,h,k,e,t,s,d),this.recordPWidthCell(G,I)}r[h]=e[h],n[h]=t[h],x.labeled&&(d=this.updateHDW(x.childNodes[0],0,h,k,e,t,a,d)),this.extendHD(h,e,t,d),this.extendHD(h,r,n,d)}const l=a[0];return this.data={H:e,D:t,W:s,NH:r,ND:n,L:l},this.data}updateHDW(e,t,s,r,n,a,o,l){let{h,d,w:x}=e.getBBox();const k=e.parent.bbox.rscale;e.parent.bbox.rscale!==1&&(h*=k,d*=k,x*=k),this.node.getProperty("useHeight")&&(h<.75&&(h=.75),d<.25&&(d=.25));let I=0;return(r=e.node.attributes.get("rowalign")||r)!=="baseline"&&r!=="axis"&&(I=h+d,h=d=0),h>n[s]&&(n[s]=h),d>a[s]&&(a[s]=d),I>l&&(l=I),o&&x>o[t]&&(o[t]=x),l}extendHD(e,t,s,r){const n=(r-(t[e]+s[e]))/2;n<1e-5||(t[e]+=n,s[e]+=n)}recordPWidthCell(e,t){e.childNodes[0]&&e.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([e,t])}setColumnPWidths(){const e=this.cWidths;for(const[t,s]of this.pwidthCells)t.setChildPWidths(!1,e[s])&&(t.invalidateBBox(),t.getBBox())}getBBoxHD(e){const[t,s]=this.getAlignmentRow();if(s===null){const r=this.font.params.axis_height,n=e/2;return{top:[0,e],center:[n,n],bottom:[e,0],baseline:[n,n],axis:[n+r,n-r]}[t]||[n,n]}{const r=this.getVerticalPosition(s,t);return[r,e-r]}}getBBoxLR(){var e;if(this.hasLabels){const t=this.node.attributes,s=t.get("side");let[r,n]=this.getPadAlignShift(s);const a=this.hasLabels&&!!t.get("data-width-includes-label");return a&&this.frame&&this.fSpace[0]&&(r-=this.fSpace[0]),n!=="center"||a?s==="left"?[r,0]:[0,r]:[r,r]}return[((e=this.bbox)===null||e===void 0?void 0:e.L)||0,0]}getPadAlignShift(e){const{L:t}=this.getTableData();let s=t+this.length2em(this.node.attributes.get("minlabelspacing"));const[r,n]=this.styles==null?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")];(r||n)&&(s=Math.max(s,this.length2em(r||"0"),this.length2em(n||"0")));let[a,o]=this.getAlignShift();return a===e&&(o=e==="left"?Math.max(s,o)-s:Math.min(-s,o)+s),[s,a,o]}getWidth(){return this.pWidth||this.getBBox().w}adjustWideTable(){const e=this.node.attributes;if(e.get("width")!=="auto")return;const[t,s]=this.getPadAlignShift(e.get("side")),r=Math.max(this.containerWidth/10,this.containerWidth-t-(s==="center"?t:0));this.naturalWidth()>r&&this.adjustColumnWidths(r)}naturalWidth(){return ur(this.getComputedWidths().concat(this.cLines,this.cSpace))+2*this.fLine+this.fSpace[0]+this.fSpace[2]}getEqualRowHeight(){const{H:e,D:t}=this.getTableData(),s=Array.from(e.keys()).map((r=>e[r]+t[r]));return Math.max(...s)}getComputedWidths(){const e=this.getTableData().W;let t=Array.from(e.keys()).map((s=>typeof this.cWidths[s]=="number"?this.cWidths[s]:e[s]));return this.node.attributes.get("equalcolumns")&&(t=Array(t.length).fill(qo(t))),t}getColumnWidths(){const e=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(e);const t=this.getColumnAttributes("columnwidth",0);return e==="auto"?this.getColumnWidthsAuto(t):Js(e)?this.getColumnWidthsPercent(t):this.getColumnWidthsFixed(t,this.length2em(e))}getEqualColumns(e){const t=Math.max(1,this.numCols);let s;if(e==="auto"){const{W:r}=this.getTableData();s=qo(r)}else if(Js(e))s=this.percent(1/t);else{const r=ur([].concat(this.cLines,this.cSpace))+this.fSpace[0]+this.fSpace[2];s=Math.max(0,this.length2em(e)-r)/t}return Array(this.numCols).fill(s)}getColumnWidthsAuto(e){return e.map((t=>t==="auto"||t==="fit"?null:Js(t)?t:this.length2em(t)))}getColumnWidthsPercent(e){const t=e.includes("fit"),{W:s}=t?this.getTableData():{W:null};return Array.from(e.keys()).map((r=>{const n=e[r];return n==="fit"?null:n==="auto"?t?s[r]:null:Js(n)?n:this.length2em(n)}))}getColumnWidthsFixed(e,t){const s=Array.from(e.keys()),r=s.filter((x=>e[x]==="fit")),n=s.filter((x=>e[x]==="auto")),a=r.length||n.length,{W:o}=a?this.getTableData():{W:null},l=t-ur([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let h=l;s.forEach((x=>{const k=e[x];h-=k==="fit"||k==="auto"?o[x]:this.length2em(k,l)}));const d=a&&h>0?h/a:0;return s.map((x=>{const k=e[x];return k==="fit"?o[x]+d:k==="auto"?o[x]+(r.length===0?d:0):this.length2em(k,l)}))}adjustColumnWidths(e){const{W:t}=this.getTableData(),s=this.getColumnAttributes("columnwidth",0),r=Array.from(s.keys()),n=[...r.filter((d=>s[d]==="fit")).sort(((d,x)=>t[x]-t[d])),...r.filter((d=>s[d]==="auto")).sort(((d,x)=>t[x]-t[d])),...r.filter((d=>Js(s[d]))).sort(((d,x)=>t[x]-t[d])),...r.filter((d=>s[d]!=="fit"&&s[d]!=="auto"&&!Js(s[d]))).sort(((d,x)=>t[x]-t[d]))];if(!n.length)return;this.cWidths=r.map((d=>typeof this.cWidths[d]=="number"?this.cWidths[d]:t[d]));const a=e-ur([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let o=ur(this.cWidths)-a,l=0,h=0;for(;h<n.length&&(l+=t[n[h++]],!(l&&o/l<v2)););o=1-o/l,n.slice(0,h).forEach((d=>this.cWidths[d]*=o))}getVerticalPosition(e,t){const s=this.node.attributes.get("equalrows"),{H:r,D:n}=this.getTableData(),a=s?this.getEqualRowHeight():0,o=this.getRowHalfSpacing();let l=this.fLine;for(let x=0;x<e;x++)l+=o[x]+(s?a:r[x]+n[x])+o[x+1]+this.rLines[x];const[h,d]=s?[(a+r[e]-n[e])/2,(a-r[e]+n[e])/2]:[r[e],n[e]];return l+={top:0,center:o[e]+(h+d)/2,bottom:o[e]+h+d+o[e+1],baseline:o[e]+h,axis:o[e]+h-.25}[t]||0,l}getFrameSpacing(){const e=this.fframe?this.convertLengths(this.getAttributeArray("framespacing")):[0,0];e[2]=e[0];const t=this.node.attributes.get("data-array-padding");if(t){const[s,r]=this.convertLengths(ti(t));e[0]=s,e[2]=r}return e}getEmHalfSpacing(e,t,s=1){const r=this.addEm(t,2/s);return r.unshift(this.em(e[0]*s)),r.push(this.em(e[1]*s)),r}getRowHalfSpacing(){const e=this.rSpace.map((t=>t/2));return e.unshift(this.fSpace[1]),e.push(this.fSpace[1]),e}getColumnHalfSpacing(){const e=this.cSpace.map((t=>t/2));return e.unshift(this.fSpace[0]),e.push(this.fSpace[2]),e}getAlignmentRow(){const[e,t]=ti(this.node.attributes.get("align"));if(t==null)return[e,null];let s=parseInt(t);return s<0&&(s+=this.numRows+1),[e,s<1||s>this.numRows?null:s-1]}getColumnAttributes(e,t=1){const s=this.numCols-t,r=this.getAttributeArray(e);if(r.length===0)return null;for(;r.length<s;)r.push(r[r.length-1]);return r.length>s&&r.splice(s),r}getRowAttributes(e,t=1){const s=this.numRows-t,r=this.getAttributeArray(e);if(r.length===0)return null;for(;r.length<s;)r.push(r[r.length-1]);return r.length>s&&r.splice(s),r}getAttributeArray(e){const t=this.node.attributes.get(e);return t?ti(t):[this.node.attributes.getDefault(e)]}addEm(e,t=1){return e?e.map((s=>this.em(s/t))):null}convertLengths(e){return e?e.map((t=>this.length2em(t))):null}constructor(e,t,s=null){super(e,t,s),this.numCols=0,this.numRows=0,this.data=null,this.pwidthCells=[],this.pWidth=0,this.numCols=qo(this.tableRows.map((a=>a.numCells))),this.numRows=this.childNodes.length,this.hasLabels=this.childNodes.reduce(((a,o)=>a||o.node.isKind("mlabeledtr")),!1),this.findContainer(),this.isTop=!this.container||this.container.node.isKind("math")&&!this.container.parent,this.isTop&&(this.jax.table=this),this.getPercentageWidth();const r=this.node.attributes,n=r.get("frame");this.frame=n!=="none",this.fframe=this.frame||r.get("data-frame-styles")!==void 0,this.fLine=this.frame?.07:0,this.fSpace=this.getFrameSpacing(),this.cSpace=this.convertLengths(this.getColumnAttributes("columnspacing")),this.rSpace=this.convertLengths(this.getRowAttributes("rowspacing")),this.cLines=this.getColumnAttributes("columnlines").map((a=>a==="none"?0:.07)),this.rLines=this.getRowAttributes("rowlines").map((a=>a==="none"?0:.07)),this.cWidths=this.getColumnWidths(),this.adjustWideTable(),this.stretchColumns(),this.stretchRows()}getStyles(){super.getStyles();const e=this.node.attributes.get("data-frame-styles");if(!e)return;this.styles||(this.styles=new Nt(""));const t=e.split(/ /);for(const s of Gi.keys()){const r=t[s];r!=="none"&&this.styles.set(`border-${Gi[s]}`,`.07em ${r}`)}}computeBBox(e,t=!1){const{H:s,D:r}=this.getTableData();let n,a;if(this.node.attributes.get("equalrows")){const k=this.getEqualRowHeight();n=ur([].concat(this.rLines,this.rSpace))+k*this.numRows}else n=ur(s.concat(r,this.rLines,this.rSpace));n+=2*(this.fLine+this.fSpace[1]),a=this.naturalWidth();const o=this.node.attributes.get("width");o!=="auto"&&(a=Math.max(this.length2em(o,0)+2*this.fLine,a));const[l,h]=this.getBBoxHD(n);e.h=l,e.d=h,e.w=a;const[d,x]=this.getBBoxLR();e.L=d,e.R=x,Js(o)||this.setColumnPWidths()}setChildPWidths(e,t,s){const r=this.node.attributes.get("width");if(!Js(r))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");const{w:n,L:a,R:o}=this.bbox,l=this.node.attributes.get("data-width-includes-label"),h=Math.max(n,this.length2em(r,Math.max(t,a+n+o)))-(l?a+o:0),d=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);return this.cWidths=this.getColumnWidthsFixed(d,h),this.pWidth=this.naturalWidth(),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==n&&this.parent.invalidateBBox(),this.pWidth!==n}getAlignShift(){return this.isTop?super.getAlignShift():[this.container.getChildAlign(this.containerI),0]}}}const Sh=(function(){var i;const e=C2(Ze);return i=class extends e{constructor(t,s,r=null){super(t,s,r),this.itable=this.html("mjx-itable"),this.labels=this.html("mjx-itable")}getAlignShift(){const t=super.getAlignShift();return this.isTop||(t[1]=0),t}toCHTML(t){const s=this.standardChtmlNodes(t);this.adaptor.append(s[0],this.html("mjx-table",{},[this.itable]));for(const r of this.childNodes)r.toCHTML([this.itable]);this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()}shiftColor(){const t=this.adaptor,s=t.getStyle(this.dom[0],"backgroundColor");s&&(t.setStyle(this.dom[0],"backgroundColor",""),t.setStyle(this.itable,"backgroundColor",s))}padRows(){const t=this.adaptor;for(const s of t.childNodes(this.itable))for(;t.childNodes(s).length<this.numCols;)t.append(s,this.html("mjx-mtd",{extra:!0}))}handleColumnSpacing(){const t=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,s=this.getEmHalfSpacing([this.fSpace[0],this.fSpace[2]],this.cSpace,t);for(const r of this.tableRows){let n=0;for(const a of r.tableCells){const o=s[n++],l=s[n],h=a?a.dom[0]:this.adaptor.childNodes(r.dom[0])[n];(n>1&&o!=="0.4em"||o!=="0"&&n===1)&&this.adaptor.setStyle(h,"paddingLeft",o),(n<this.numCols&&l!=="0.4em"||l!=="0"&&n===this.numCols)&&this.adaptor.setStyle(h,"paddingRight",l)}}}handleColumnLines(){if(this.node.attributes.get("columnlines")==="none")return;const t=this.getColumnAttributes("columnlines");for(const s of this.childNodes){let r=0;const n=this.adaptor.childNodes(s.dom[0]).slice(1);for(const a of n){const o=t[r++];o!=="none"&&this.adaptor.setStyle(a,"borderLeft",".07em "+o)}}}handleColumnWidths(){for(const t of this.childNodes){let s=0;for(const r of this.adaptor.childNodes(t.dom[0])){const n=this.cWidths[s++];if(n!==null){const a=typeof n=="number"?this.em(n):n;this.adaptor.setStyle(r,"width",a),this.adaptor.setStyle(r,"maxWidth",a),this.adaptor.setStyle(r,"minWidth",a)}}}}handleRowSpacing(){const t=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,s=this.getEmHalfSpacing([this.fSpace[1],this.fSpace[1]],this.rSpace,t),r=this.fframe;let n=0;for(const a of this.childNodes){const o=s[n++],l=s[n];for(const h of a.childNodes)(n>1&&o!=="0.215em"||r&&n===1)&&this.adaptor.setStyle(h.dom[0],"paddingTop",o),(n<this.numRows&&l!=="0.215em"||r&&n===this.numRows)&&this.adaptor.setStyle(h.dom[0],"paddingBottom",l)}}handleRowLines(){if(this.node.attributes.get("rowlines")==="none")return;const t=this.getRowAttributes("rowlines");let s=0;for(const r of this.childNodes.slice(1)){const n=t[s++];if(n!=="none")for(const a of this.adaptor.childNodes(r.dom[0]))this.adaptor.setStyle(a,"borderTop",".07em "+n)}}handleRowHeights(){this.node.attributes.get("equalrows")&&this.handleEqualRows()}handleEqualRows(){const t=this.getRowHalfSpacing(),{H:s,D:r,NH:n,ND:a}=this.getTableData(),o=this.getEqualRowHeight();for(let l=0;l<this.numRows;l++){const h=this.childNodes[l];this.setRowHeight(h,o+t[l]+t[l+1]+this.rLines[l]),o!==n[l]+a[l]&&this.setRowBaseline(h,o,(o-s[l]+r[l])/2)}}setRowHeight(t,s){this.adaptor.setStyle(t.dom[0],"height",this.em(s))}setRowBaseline(t,s,r){const n=t.node.attributes.get("rowalign");for(const a of t.childNodes)if(this.setCellBaseline(a,n,s,r))break}setCellBaseline(t,s,r,n){const a=t.node.attributes.get("rowalign");if(a==="baseline"||a==="axis"){const o=this.adaptor,l=o.lastChild(t.dom[0]);o.setStyle(l,"height",this.em(r)),o.setStyle(l,"verticalAlign",this.em(-n));const h=t.parent;if(!(h.node.isKind("mlabeledtr")&&t===h.childNodes[0]||s!=="baseline"&&s!=="axis"))return!0}return!1}handleFrame(){if(this.frame&&this.fLine){const t=this.node.attributes.get("frame");this.adaptor.setStyle(this.itable,"border",`${this.em(this.fLine)} ${t}`)}}handleWidth(){const t=this.adaptor,s=this.dom[0],{w:r,L:n,R:a}=this.getBBox();t.setStyle(s,"minWidth",this.em(n+r+a));let o=this.node.attributes.get("width");if(Js(o))t.setStyle(s,"width",""),t.setAttribute(s,"width","full");else if(!this.hasLabels){if(o==="auto")return;o=this.em(this.length2em(o)+2*this.fLine)}const l=t.firstChild(s);if(t.setStyle(l,"width",o),t.setStyle(l,"minWidth",this.em(r)),n||a){t.setStyle(s,"margin","");const h=this.node.attributes.get("data-width-includes-label")?"padding":"margin";n===a?t.setStyle(l,h,"0 "+this.em(a)):t.setStyle(l,h,"0 "+this.em(a)+" 0 "+this.em(n))}t.setAttribute(this.itable,"width","full")}handleAlign(){const[t,s]=this.getAlignmentRow(),r=this.dom[0];if(s===null)t!=="axis"&&this.adaptor.setAttribute(r,"align",t);else{const n=this.getVerticalPosition(s,t);this.adaptor.setAttribute(r,"align","top"),this.adaptor.setStyle(r,"verticalAlign",this.em(n))}}handleJustify(){const t=this.getAlignShift()[0];t!=="center"&&this.adaptor.setAttribute(this.dom[0],"justify",t)}handleLabels(){if(!this.hasLabels)return;const t=this.labels,s=this.node.attributes,r=this.adaptor,n=s.get("side");r.setAttribute(this.dom[0],"side",n),r.setAttribute(t,"align",n),r.setStyle(t,n,"0");const[a,o]=this.addLabelPadding(n);if(o){const l=r.firstChild(this.dom[0]);this.setIndent(l,a,o)}this.updateRowHeights(),this.addLabelSpacing()}addLabelPadding(t){const[,s,r]=this.getPadAlignShift(t),n={};if(t==="right"&&!this.node.attributes.get("data-width-includes-label")){const a=this.node.attributes.get("width"),{w:o,L:l,R:h}=this.getBBox();n.style={width:Js(a)?"calc("+a+" + "+this.em(l+h)+")":this.em(l+o+h)}}return this.adaptor.append(this.dom[0],this.html("mjx-labels",n,[this.labels])),[s,r]}updateRowHeights(){const{H:t,D:s,NH:r,ND:n}=this.getTableData(),a=this.getRowHalfSpacing();for(let o=0;o<this.numRows;o++){const l=this.childNodes[o];this.setRowHeight(l,t[o]+s[o]+a[o]+a[o+1]+this.rLines[o]),t[o]!==r[o]||s[o]!==n[o]?this.setRowBaseline(l,t[o]+s[o],s[o]):l.node.isKind("mlabeledtr")&&this.setCellBaseline(l.childNodes[0],"",t[o]+s[o],s[o])}}addLabelSpacing(){const t=this.adaptor,s=this.node.attributes.get("equalrows"),{H:r,D:n}=this.getTableData(),a=s?this.getEqualRowHeight():0,o=this.getRowHalfSpacing();let l=this.fLine,h=t.firstChild(this.labels);for(let d=0;d<this.numRows;d++)this.childNodes[d].node.isKind("mlabeledtr")?(l&&t.insert(this.html("mjx-mtr",{style:{height:this.em(l)}}),h),t.setStyle(h,"height",this.em((s?a:r[d]+n[d])+o[d]+o[d+1])),h=t.next(h),l=this.rLines[d]):l+=o[d]+(s?a:r[d]+n[d])+o[d+1]+this.rLines[d]}},i.kind=va.prototype.kind,i.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex","box-sizing":"border-box"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}},i})();function T2(i){return class extends i{get numCells(){return this.childNodes.length}get labeled(){return!1}get tableCells(){return this.childNodes}getChild(e){return this.childNodes[e]}getChildBBoxes(){return this.childNodes.map((e=>e.getBBox()))}stretchChildren(e=null){const t=[],s=this.labeled?this.childNodes.slice(1):this.childNodes;for(const a of s){const o=a.childNodes[0];o.canStretch(gt.Vertical)&&t.push(o)}const r=t.length,n=this.childNodes.length;if(r&&n>1&&!e){let a=0,o=0;const l=r>1&&r===n;for(const h of s){const d=h.childNodes[0],x=d.stretch.dir===gt.None;if(l||x){const{h:k,d:I}=d.getBBox(x);k>a&&(a=k),I>o&&(o=I)}}e=[a,o]}if(e)for(const a of t){const o=a.coreRScale();a.coreMO().getStretchedVariant(e.map((l=>l*o)))}}get fixesPWidth(){return!1}}}function w2(i){return class extends i{get numCells(){return Math.max(0,this.childNodes.length-1)}get labeled(){return!0}get tableCells(){return this.childNodes.slice(1)}getChild(e){return this.childNodes[e+1]}getChildBBoxes(){return this.childNodes.slice(1).map((e=>e.getBBox()))}}}const Ja=(function(){var i;const e=T2(Ze);return(i=class extends e{toCHTML(t){super.toCHTML(t);const s=this.node.attributes.get("rowalign");s!=="baseline"&&this.adaptor.setAttribute(this.dom[0],"rowalign",s)}}).kind=En.prototype.kind,i.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},i})(),Ih=(function(){var i;const e=w2(Ja);return(i=class extends e{toCHTML(t){super.toCHTML(t);const s=this.adaptor.firstChild(this.dom[0]);if(s){this.adaptor.remove(s);const r=this.node.attributes.get("rowalign"),n=r!=="baseline"&&r!=="axis"?{rowalign:r}:{},a=this.html("mjx-mtr",n,[s]);this.adaptor.append(this.parent.labels,a)}}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(Ja.kind)}}).kind=Mo.prototype.kind,i.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},i})();function k2(i){return class extends i{get fixesPWidth(){return!1}invalidateBBox(){this.bboxComputed=!1,this.lineBBox=[]}getWrapWidth(e){const t=this.parent.parent,s=this.parent,r=this.node.childPosition()-(s.labeled?1:0);return typeof t.cWidths[r]=="number"?t.cWidths[r]:t.getTableData().W[r]}getChildAlign(e){return this.node.attributes.get("columnalign")}}}const Rh=(function(){var i;const e=k2(Ze);return(i=class extends e{toCHTML(t){super.toCHTML(t);const s=this.node.attributes.get("rowalign"),r=this.node.attributes.get("columnalign");s!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.dom[0],"rowalign",s),r==="center"||this.parent.kind==="mlabeledtr"&&this===this.parent.childNodes[0]&&r===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.dom[0],"textAlign",r),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.dom[0],this.html("mjx-tstrut"))}}).kind=Ca.prototype.kind,i.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}},i})(),ac={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:(i,e)=>{e.clearTimer.has(i)&&(clearTimeout(e.clearTimer.get(i)),e.clearTimer.delete(i)),e.hoverTimer.has(i)&&(clearTimeout(e.hoverTimer.get(i)),e.hoverTimer.delete(i))}};function A2(i){return class extends i{get selected(){const e=this.node.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,e))-1;return this.childNodes[t]||this.wrap(this.node.selected)}getParameters(){const e=this.node.attributes.get("data-offsets"),[t,s]=ti(e||"");this.tipDx=this.length2em(t||ac.dx),this.tipDy=this.length2em(s||ac.dy)}constructor(e,t,s=null){super(e,t,s);const r=this.constructor.actions,n=this.node.attributes.get("actiontype"),[a,o]=r.get(n)||[(l,h)=>{},{}];this.action=a,this.data=o,this.getParameters()}computeBBox(e,t=!1){e.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(t)}get breakCount(){return this.node.isEmbellished?this.selected.coreMO().embellishedBreakCount:this.selected.breakCount}computeLineBBox(e){return this.getChildLineBBox(this.selected,e)}}}const _h=(function(){var i;const e=A2(Ze);return(i=class extends e{setEventHandler(t,s,r=null){(r?[r]:this.dom).forEach((n=>n.addEventListener(t,s)))}Em(t){return this.em(t)}toCHTML(t){if(this.toEmbellishedCHTML(t))return;const s=this.standardChtmlNodes(t);this.selected.toCHTML(s),this.action(this,this.data)}}).kind=ba.prototype.kind,i.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block","line-height":0,padding:".2em",border:"1px solid #888","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},i.actions=new Map([["toggle",[(t,s)=>{t.dom.forEach((o=>{t.adaptor.setAttribute(o,"toggle",t.node.attributes.get("selection"))}));const r=t.factory.jax.math,n=t.factory.jax.document,a=t.node;t.setEventHandler("click",(o=>{r.end.node||(r.start.node=r.end.node=r.typesetRoot,r.start.n=r.end.n=0),a.nextToggleSelection(),r.rerender(n,a.attributes.get("data-maction-id")?V.ENRICHED:V.RERENDER),o.stopPropagation()}))},{}]],["tooltip",[(t,s)=>{const r=t.childNodes[1];if(r)if(r.node.isKind("mtext")){const n=r.node.getText();t.dom.forEach((a=>t.adaptor.setAttribute(a,"title",n)))}else{const n=t.adaptor;for(const a of t.dom){const o=n.append(a,t.html("mjx-tool",{style:{bottom:t.Em(-t.tipDy),right:t.Em(-t.tipDx)}},[t.html("mjx-tip")]));r.toCHTML([n.firstChild(o)]),t.setEventHandler("mouseover",(l=>{s.stopTimers(a,s);const h=setTimeout((()=>n.setStyle(o,"display","block")),s.postDelay);s.hoverTimer.set(a,h),l.stopPropagation()}),a),t.setEventHandler("mouseout",(l=>{s.stopTimers(a,s);const h=setTimeout((()=>n.setStyle(o,"display","")),s.clearDelay);s.clearTimer.set(a,h),l.stopPropagation()}),a)}}},ac]],["statusline",[(t,s)=>{const r=t.childNodes[1];if(r&&r.node.isKind("mtext")){const n=t.adaptor,a=r.node.getText();t.dom.forEach((o=>n.setAttribute(o,"statusline",a))),t.setEventHandler("mouseover",(o=>{if(s.status===null){const l=n.body(n.document);s.status=n.append(l,t.html("mjx-status",{},[t.text(a)]))}o.stopPropagation()})),t.setEventHandler("mouseout",(o=>{s.status&&(n.remove(s.status),s.status=null),o.stopPropagation()}))}},{status:null}]]]),i})();function L2(i){return class extends i{constructor(e,t,s=null){super(e,t,s),this.getParameters()}getParameters(){const{width:e,height:t,valign:s,src:r,index:n}=this.node.attributes.getList("width","height","valign","src","index");if(r)this.width=e==="auto"?1:this.length2em(e),this.height=t==="auto"?1:this.length2em(t),this.valign=this.length2em(s||"0");else{const a=String.fromCodePoint(parseInt(n)),o=this.node.factory;this.charWrapper=this.wrap(o.create("text").setText(a)),this.charWrapper.parent=this}}computeBBox(e,t=!1){this.charWrapper?e.updateFrom(this.charWrapper.getBBox()):(e.w=this.width,e.h=this.height+this.valign,e.d=-this.valign)}}}const Oh=(function(){var i;const e=L2(Ze);return(i=class extends e{toCHTML(t){const s=this.standardChtmlNodes(t);if(this.charWrapper)return void this.charWrapper.toCHTML(s);const{src:r,alt:n}=this.node.attributes.getList("src","alt"),a={width:this.em(this.width),height:this.em(this.height)};this.valign&&(a.verticalAlign=this.em(this.valign));const o=this.html("img",{src:r,style:a,alt:n,title:n});this.adaptor.append(s[0],o)}}).kind=Ta.prototype.kind,i.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}},i})();function M2(i){return class extends i{computeBBox(e,t=!1){if(this.childNodes.length){const{w:s,h:r,d:n}=this.childNodes[0].getBBox();e.w=s,e.h=r,e.d=n}}get breakCount(){return this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.childNodes[0].breakCount}}}function S2(i){class e extends i{constructor(s,r,n=null){super(s,r,n),this.rscale=this.getRScale()}computeBBox(s,r=!1){const n=this.node.getXML(),a=this.getHDW(n,"use","force"),{h:o,d:l,w:h}=a?this.splitHDW(a):this.measureXmlNode(n);s.w=h,s.h=o,s.d=l}getHTML(){let s=this.adaptor.clone(this.node.getXML());const r=this.getFontStyles();return(this.getHDW(s,"force")||this.jax.options.scale!==1)&&(s=this.addHDW(s,r)),this.html("mjx-html",{variant:this.parent.variant,style:r},[s])}getHDW(s,r,n=r){const a=this.jax.options.htmlHDW,o=this.adaptor.getAttribute(s,"data-mjx-hdw");return!o||a!==r&&a!==n?null:o}splitHDW(s){const r=1/this.metrics.scale,[n,a,o]=ti(s).map((l=>this.length2em(l||"0")*r));return{h:n,d:a,w:o}}getFontStyles(){var s;const r=this.adaptor,n=this.metrics;return{"font-family":((s=this.parent.styles)===null||s===void 0?void 0:s.get("font-family"))||n.family||r.fontFamily(r.parent(this.jax.math.start.node))||"initial","font-size":this.jax.fixed(n.em*this.rscale)+"px"}}measureXmlNode(s){const r=this.adaptor,n=this.html("mjx-xml-block",{style:{display:"inline-block"}},[r.clone(s)]),a=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),o=this.getFontStyles(),l=this.html("mjx-measure-xml",{style:o},[a,n]),h=this.jax.container;r.append(r.parent(this.jax.math.start.node),h),r.append(h,l);const d=this.metrics,x=d.em*d.scale*this.rscale,{left:k,right:I,bottom:G,top:de}=r.nodeBBox(n),je=(I-k)/x,ns=(r.nodeBBox(a).top-de)/x,xi=(G-de)/x-ns;return r.remove(h),r.remove(l),{w:je,h:ns,d:xi}}getStyles(){}getScale(){}getVariant(){}}return e.autoStyle=!1,e.styles={"mjx-measure-xml":{position:"absolute",left:0,top:0,display:"inline-block","line-height":"normal","white-space":"normal"},"mjx-html":{display:"inline-block","line-height":"normal","text-align":"initial","white-space":"initial"},"mjx-html-holder":{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0}},e}const Dh=(function(){var i;const e=M2(Ze);return(i=class extends e{toCHTML(t){if(this.toEmbellishedCHTML(t))return;const s=this.standardChtmlNodes(t);this.childNodes.length&&this.childNodes[0].toCHTML(s)}}).kind=wa.prototype.kind,i})(),Ph=((I2=class extends Ze{toCHTML(i){super.toCHTML(i)}computeBBox(){return this.bbox}}).kind=ka.prototype.kind,I2);var I2;const Bh=(function(){var i;return(i=class extends Ze{}).kind=_r.prototype.kind,i.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},i})(),oc=(function(){var i;const e=S2(Ze);return(i=class extends e{toCHTML(t){this.markUsed(),this.dom=[this.adaptor.append(t[0],this.getHTML())]}addHDW(t,s){const r=this.jax.options.scale,{h:n,d:a,w:o}=this.bbox,l=r*this.metrics.scale;return s.width=this.em(o*l),s.height=this.em((n+a)*l),s["vertical-align"]=this.em(-a*l),s.position="relative",this.html("mjx-html-holder",{style:{transform:`scale(${this.jax.fixed(r)})`,"transform-origin":"top left"}},[t])}}).kind=na.prototype.kind,i})();function R2(i){return class extends i{computeBBox(e,t=!1){super.computeBBox(e,t),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(e.ic=this.childNodes[0].bbox.ic)}}}const Fh=(function(){var i;const e=R2(Ze);return(i=class extends e{toCHTML(t){super.toCHTML(t),this.dom.forEach((s=>this.adaptor.setAttribute(s,"texclass",nu[this.node.texClass])))}}).kind=xn.prototype.kind,i})();function _2(i){return class extends i{remappedText(e,t){const s=this.parent.stretch.c;return s?[s]:this.parent.remapChars(this.unicodeChars(e,t))}computeBBox(e,t=!1){const s=this.parent.variant,r=this.node.getText();if(s==="-explicitFont"){const n=this.jax.getFontData(this.parent.styles),{w:a,h:o,d:l}=this.jax.measureText(r,s,n);e.h=o,e.d=l,e.w=a}else{const n=this.remappedText(r,s);let a="";e.empty();for(let o=0;o<n.length;o++){const[l,h,d,x]=this.getVariantChar(s,n[o]);if(x.unknown)a+=String.fromCodePoint(n[o]);else{if(a=this.addUtextBBox(e,a,s),this.updateBBox(e,l,h,d),e.ic=x.ic||0,e.sk=x.sk||0,e.dx=x.dx||0,!x.oc||o<n.length-1)continue;const k=this.parent.childNodes;if(this.node!==k[k.length-1].node)continue;const I=this.parent.parent.node;let G=I.isKind("mrow")||I.isInferred?I.childNodes[I.childIndex(this.parent.node)+1]:null;G!=null&&G.isKind("mo")&&G.getText()==="\u2062"&&(G=I.childNodes[I.childIndex(G)+1]),G&&G.attributes.get("mathvariant")===s?e.oc=x.oc:e.ic=x.oc}}this.addUtextBBox(e,a,s),n.length>1&&(e.sk=0),e.clean()}}addUtextBBox(e,t,s){if(t){const{h:r,d:n,w:a}=this.jax.measureText(t,s);this.updateBBox(e,r,n,a)}return""}updateBBox(e,t,s,r){e.w+=r,t>e.h&&(e.h=t),s>e.d&&(e.d=s)}getStyles(){}getVariant(){}getScale(){}getSpace(){}}}const jh=(function(){var i;const e=_2(Ze);return i=class extends e{toCHTML(t){this.markUsed();const s=t[0],r=this.adaptor,n=this.parent.variant,a=this.node.getText();if(a.length===0)return;const o=this.getBBox();if(n==="-explicitFont")r.append(s,this.jax.unknownText(a,n,o.w));else{let l="";const h=this.remappedText(a,n),d=h.length>1?this.em(this.parent.getBBox().h):"",x=h.length;for(let k=0;k<x;k++){const I=h[k],G=this.getVariantChar(n,I)[3];if(G.unknown)l+=String.fromCodePoint(I);else{l=this.addUtext(l,n,s);const de=G.ff||(G.f?`${this.font.cssFontPrefix}-${G.f}`:""),je=r.append(s,this.html("mjx-c",{class:this.char(I)+(de?" "+de:"")},[this.text(G.c||String.fromCodePoint(I))]));(k<x-1||o.oc)&&r.setAttribute(je,"noic","true"),d&&r.setStyle(je,"padding-top",d),this.font.charUsage.add([n,I])}}this.addUtext(l,n,s)}}addUtext(t,s,r){return t&&this.adaptor.append(r,this.jax.unknownText(t,s)),""}},i.kind=gn.prototype.kind,i.autoStyle=!1,i.styles={"mjx-c":{display:"inline-block",width:0,"text-align":"right"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}},i})(),Uh=(function(){var i;return(i=class extends oc{}).kind=_o.prototype.kind,i})(),O2={[th.kind]:th,[tc.kind]:tc,[vh.kind]:vh,[sh.kind]:sh,[ih.kind]:ih,[rh.kind]:rh,[nh.kind]:nh,[ah.kind]:ah,[oh.kind]:oh,[ch.kind]:ch,[Nh.kind]:Nh,[Th.kind]:Th,[sc.kind]:sc,[wh.kind]:wh,[rc.kind]:rc,[nc.kind]:nc,[In.kind]:In,[kh.kind]:kh,[Ah.kind]:Ah,[Lh.kind]:Lh,[Mh.kind]:Mh,[Ch.kind]:Ch,[Sh.kind]:Sh,[Ja.kind]:Ja,[Ih.kind]:Ih,[Rh.kind]:Rh,[_h.kind]:_h,[Oh.kind]:Oh,[Dh.kind]:Dh,[Ph.kind]:Ph,[Bh.kind]:Bh,[oc.kind]:oc,[Fh.kind]:Fh,[jh.kind]:jh,[Uh.kind]:Uh,[Ze.kind]:Ze};class qh extends Qu{}qh.defaultNodes=O2;const Um={40:{dir:_,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9115,9116,9117],HDW:[.748,.248,.875]},41:{dir:_,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9118,9119,9120],HDW:[.748,.248,.875]},45:{c:8722,dir:U,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},47:{dir:_,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},61:{dir:U,stretch:[0,61],HDW:[.367,-.133,.778],ext:.112,hd:[.367,-.133]},91:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122,9123],HDW:[.75,.25,.667]},92:{dir:_,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},93:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125,9126],HDW:[.75,.25,.667]},94:{c:770,dir:U,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},95:{c:8211,dir:U,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},123:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9127,123,9129,9128],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},124:{dir:_,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],schar:[124,8739],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},125:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9131,123,9133,9132],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},126:{c:771,dir:U,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},175:{c:773,dir:U,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},710:{c:770,dir:U,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},711:{c:780,dir:U,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},713:{c:773,dir:U,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},728:{c:774,dir:U,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},732:{c:771,dir:U,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},770:{dir:U,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},771:{dir:U,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},773:{dir:U,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},774:{dir:U,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},780:{dir:U,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},8211:{dir:U,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},8212:{dir:U,stretch:[0,8212],HDW:[.277,-.255,1],ext:.001,hd:[.277,-.255]},8213:{dir:U,stretch:[0,8213],HDW:[.27,-.23,1.152],ext:.112,hd:[.27,-.23]},8214:{dir:_,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],schar:[8214,8741],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8254:{c:175,dir:U,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},8260:{dir:_,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8400:{dir:U,sizes:[.422,.667],stretch:[8400,8400],stretchv:[3,1],HDW:[.711,-.601,0],hd:[.631,-.601]},8401:{dir:U,sizes:[.422,.667],stretch:[0,8400,8401],stretchv:[0,1,4],HDW:[.711,-.601,0],hd:[.631,-.601]},8406:{dir:U,sizes:[.416,.659],stretch:[8406,8400],stretchv:[3,1],HDW:[.711,-.521,0],hd:[.631,-.601]},8407:{dir:U,sizes:[.416,.659],stretch:[0,8400,8407],stretchv:[0,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8417:{dir:U,sizes:[.47,.715],stretch:[8406,8400,8407],stretchv:[3,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8428:{dir:U,sizes:[.422,.667],stretch:[0,845,8428],stretchv:[0,1,4],HDW:[-.171,.281,0],hd:[-.171,.201]},8429:{dir:U,sizes:[.422,.667],stretch:[8429,845],stretchv:[3,1],HDW:[-.171,.281,0],hd:[-.171,.201]},8430:{dir:U,sizes:[.416,.659],stretch:[8430,845],stretchv:[3,1],HDW:[-.091,.281,0],hd:[-.171,.201]},8431:{dir:U,sizes:[.416,.659],stretch:[0,845,8431],stretchv:[0,1,4],HDW:[-.091,.281,0],hd:[-.171,.201]},8512:{dir:_,sizes:[.684,1.401],variants:[0,2]},8592:{dir:U,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},8593:{dir:_,sizes:[.883,1.349],variants:[0,2],stretch:[8593,8593],stretchv:[3,1],HDW:[.679,.203,.5]},8594:{dir:U,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8595:{dir:_,sizes:[.883,1.349],variants:[0,2],stretch:[0,8593,8595],stretchv:[0,1,4],HDW:[.703,.179,.5]},8596:{dir:U,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8597:{dir:_,sizes:[1.015,1.015],variants:[0,2],stretch:[8593,8593,8595],stretchv:[3,1,4],HDW:[.757,.257,.5]},8598:{dir:_,sizes:[.918,1.384],variants:[0,2]},8599:{dir:_,sizes:[.918,1.384],variants:[0,2]},8600:{dir:_,sizes:[.918,1.384],variants:[0,2]},8601:{dir:_,sizes:[.918,1.384],variants:[0,2]},8602:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8602,8592,0,8602],stretchv:[3,1,0,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8603:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[0,8592,8603,8602],stretchv:[0,1,4,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8606:{dir:U,sizes:[1.017,1.463],variants:[0,2],stretch:[8606,8592],stretchv:[3,1],HDW:[.51,.01,1.017],hd:[.274,-.226]},8608:{dir:U,sizes:[1.017,1.463],variants:[0,2],stretch:[0,8592,8608],stretchv:[0,1,4],HDW:[.51,.01,1.017],hd:[.274,-.226]},8610:{dir:U,sizes:[1.192,1.658],variants:[0,2],stretch:[8592,8592,8610],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8611:{dir:U,sizes:[1.192,1.658],variants:[0,2],stretch:[8611,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8612:{dir:U,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8614:{dir:U,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8617:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8617],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8618:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8618,8617,8594],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8619:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8619],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8620:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8620,8617,8594],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8630:{dir:U,sizes:[.98,1.33],variants:[0,2]},8631:{dir:U,sizes:[.98,1.33],variants:[0,2]},8636:{dir:U,sizes:[1,1.478],variants:[0,2],stretch:[8636,8636],stretchv:[3,1],HDW:[.499,-.226,1],hd:[.273,-.226]},8637:{dir:U,sizes:[1.012,1.478],variants:[0,2],stretch:[8637,8636],stretchv:[3,1],HDW:[.273,0,1.012],hd:[.273,-.226]},8638:{dir:_,sizes:[.901,1.367],variants:[0,2],stretch:[8638,8638],stretchv:[3,1],HDW:[.697,.203,.441]},8639:{dir:_,sizes:[.901,1.367],variants:[0,2],stretch:[8639,8639],stretchv:[3,1],HDW:[.697,.203,.441]},8640:{dir:U,sizes:[1,1.478],variants:[0,2],stretch:[0,8636,8640],stretchv:[0,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},8641:{dir:U,sizes:[1.012,1.478],variants:[0,2],stretch:[0,8636,8641],stretchv:[0,1,4],HDW:[.273,0,1.012],hd:[.273,-.226]},8642:{dir:_,sizes:[.901,1.367],variants:[0,2],stretch:[0,8638,8642],stretchv:[0,1,4],HDW:[.703,.197,.441]},8643:{dir:_,sizes:[.901,1.367],variants:[0,2],stretch:[0,8639,8643],stretchv:[0,1,4],HDW:[.703,.197,.441]},8644:{dir:U,sizes:[1.018,1.484],variants:[0,2],stretch:[8644,8644,8644],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8645:{dir:_,sizes:[.907,1.373],variants:[0,2],stretch:[8645,8645,8645],stretchv:[3,1,4],HDW:[.703,.203,.896]},8646:{dir:U,sizes:[1.018,1.484],variants:[0,2],stretch:[8646,8644,8646],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8647:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[8647,8647],stretchv:[3,1],HDW:[.75,.25,.997],hd:[.512,.012]},8648:{dir:_,sizes:[.883,1.349],variants:[0,2],stretch:[8648,8648],stretchv:[3,1],HDW:[.679,.203,.992]},8649:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[0,8647,8649],stretchv:[0,1,4],HDW:[.75,.25,.997],hd:[.512,.012]},8650:{dir:_,sizes:[.883,1.349],variants:[0,2],stretch:[0,8648,8650],stretchv:[0,1,4],HDW:[.703,.179,.992]},8651:{dir:U,sizes:[1.018,1.484],variants:[0,2],stretch:[8651,8651,8651],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8652:{dir:U,sizes:[1.018,1.484],variants:[0,2],stretch:[8652,8651,8652],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8653:{dir:U,sizes:[.991,1.457],variants:[0,2],stretch:[8653,8654,0,8653],stretchv:[3,1,0,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8654:{dir:U,sizes:[1.068,1.534],variants:[0,2],stretch:[8656,8654,8658,8653],stretchv:[3,1,4,1],HDW:[.52,.02,1.068],hd:[.369,-.131]},8655:{dir:U,sizes:[.991,1.457],variants:[0,2],stretch:[0,8654,8658,8653],stretchv:[0,1,4,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8656:{dir:U,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},8657:{dir:_,sizes:[.88,1.346],variants:[0,2],stretch:[8657,8657],stretchv:[3,1],HDW:[.676,.203,.652]},8658:{dir:U,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8659:{dir:_,sizes:[.88,1.346],variants:[0,2],stretch:[0,8657,8659],stretchv:[0,1,4],HDW:[.703,.176,.652]},8660:{dir:U,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8661:{dir:_,sizes:[.957,1.423],variants:[0,2],stretch:[8657,8657,8659],stretchv:[3,1,4],HDW:[.728,.228,.652]},8666:{dir:U,sizes:[1.015,1.461],variants:[0,2],stretch:[8666,8666],stretchv:[3,1],HDW:[.617,.117,1.015],hd:[.466,-.034]},8667:{dir:U,sizes:[1.015,1.461],variants:[0,2],stretch:[0,8666,8667],stretchv:[0,1,4],HDW:[.617,.117,1.015],hd:[.466,-.034]},8693:{dir:_,sizes:[.907,1.373],variants:[0,2],stretch:[8693,8645,8693],stretchv:[3,1,4],HDW:[.703,.203,.896]},8694:{dir:U,sizes:[.997,1.463],variants:[0,2],stretch:[0,8694,8694],stretchv:[0,1,4],HDW:[.99,.49,.997],hd:[.751,.251]},8719:{dir:_,sizes:[1.001,1.401],variants:[0,2]},8720:{dir:_,sizes:[1.001,1.401],variants:[0,2]},8721:{dir:_,sizes:[1.001,1.401],variants:[0,2]},8722:{dir:U,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},8725:{c:47,dir:_,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8730:{dir:_,sizes:[1.001,1.201,1.801,2.401,3.001],stretch:[8730,8730,9143],stretchv:[3,1,0],HDW:[.04,.96,1.056],fullExt:[.64,2.44]},8739:{dir:_,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},8741:{dir:_,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8747:{dir:_,sizes:[1.112,2.223],variants:[0,2],stretch:[8992,9134,8993],HDW:[.805,.306,1.185]},8748:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8749:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8750:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8751:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8752:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8753:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8754:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8755:{dir:_,sizes:[1.112,2.223],variants:[0,2]},8801:{dir:U,stretch:[0,8801],HDW:[.464,-.036,.778],ext:.112,hd:[.464,-.036]},8803:{dir:U,stretch:[0,8803],HDW:[.561,.061,.778],ext:.112,hd:[.561,.061]},8866:{dir:_,sizes:[.685,.869],variants:[0,0],schar:[8866,10205]},8867:{dir:_,sizes:[.685,.869],variants:[0,0],schar:[8867,10206]},8868:{dir:_,sizes:[.685,.869],variants:[0,0],schar:[8868,10201]},8869:{dir:_,sizes:[.685,.869],variants:[0,0],schar:[8869,10200]},8896:{dir:_,sizes:[1.045,1.394],variants:[0,2]},8897:{dir:_,sizes:[1.045,1.394],variants:[0,2]},8898:{dir:_,sizes:[1.023,1.357],variants:[0,2]},8899:{dir:_,sizes:[1.023,1.357],variants:[0,2]},8968:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122],HDW:[.75,.25,.667]},8969:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125],HDW:[.75,.25,.667]},8970:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9122,9123],HDW:[.75,.25,.667]},8971:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9125,9126],HDW:[.75,.25,.667]},8978:{c:9180,dir:U,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8994:{c:9180,dir:U,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8995:{c:9181,dir:U,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9001:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9001,10216]},9002:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9002,10217]},9130:{dir:_,sizes:[.748],stretch:[0,9130],HDW:[.748,0,.902]},9135:{c:8211,dir:U,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},9136:{dir:_,sizes:[1.125],stretch:[9127,9130,9133],HDW:[.75,.375,.902]},9137:{dir:_,sizes:[1.125],stretch:[9131,9130,9129],HDW:[.75,.375,.902]},9140:{dir:U,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9140,9140,9140],stretchv:[3,1,4],HDW:[.772,-.504,.36],hd:[.772,-.706]},9141:{dir:U,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9141,9141,9141],stretchv:[3,1,4],HDW:[-.074,.342,.36],hd:[-.276,.342]},9168:{dir:_,sizes:[.642],stretch:[0,9168],HDW:[.642,0,.333]},9180:{dir:U,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},9181:{dir:U,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9182:{dir:U,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},9183:{dir:U,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},9184:{dir:U,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9184,9184,9184],stretchv:[3,1,4],HDW:[.873,-.605,.546],hd:[.873,-.766]},9185:{dir:U,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9185,9185,9185],stretchv:[3,1,4],HDW:[-.175,.443,.546],hd:[-.336,.443]},9472:{c:8211,dir:U,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},10072:{c:8739,dir:_,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},10197:{dir:_,sizes:[.511,.628],variants:[0,2]},10198:{dir:_,sizes:[.511,.628],variants:[0,2]},10199:{dir:_,sizes:[.511,.628],variants:[0,2]},10214:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10214,10214,10214],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10215:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10215,10215,10215],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10216:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10217:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10218:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10219:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10222:{dir:_,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10222,10222,10222],stretchv:[3,1,4],HDW:[.762,.262,.647]},10223:{dir:_,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10223,10223,10223],stretchv:[3,1,4],HDW:[.762,.262,.647]},10229:{c:8592,dir:U,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},10230:{c:8594,dir:U,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10231:{c:8596,dir:U,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10232:{c:8656,dir:U,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},10233:{c:8658,dir:U,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10234:{c:8660,dir:U,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10235:{c:8612,dir:U,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10236:{c:8614,dir:U,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10570:{dir:U,sizes:[1.012],stretch:[8636,8636,8641],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10571:{dir:U,sizes:[1.012],stretch:[8637,8636,8640],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10574:{dir:U,sizes:[1],stretch:[8636,8636,8640],stretchv:[3,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},10576:{dir:U,sizes:[1],stretch:[8637,8636,8641],stretchv:[3,1,4],HDW:[.273,0,1],hd:[.273,-.226]},10586:{dir:U,sizes:[1],stretch:[8636,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10587:{dir:U,sizes:[1],stretch:[8614,8636,8640],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10590:{dir:U,sizes:[1],stretch:[8637,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10591:{dir:U,sizes:[1],stretch:[8614,8636,8641],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10627:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10628:{dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10629:{dir:_,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10630:{dir:_,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10744:{dir:_,sizes:[1.076,1.917],variants:[0,2]},10745:{dir:_,sizes:[1.076,1.917],variants:[0,2]},10748:{dir:_,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10749:{dir:_,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10752:{dir:_,sizes:[.987,1.305],variants:[0,2]},10753:{dir:_,sizes:[.987,1.305],variants:[0,2]},10754:{dir:_,sizes:[.987,1.305],variants:[0,2]},10755:{dir:_,sizes:[1.023,1.357],variants:[0,2]},10756:{dir:_,sizes:[1.023,1.357],variants:[0,2]},10757:{dir:_,sizes:[1.029,1.373],variants:[0,2]},10758:{dir:_,sizes:[1.029,1.373],variants:[0,2]},10759:{dir:_,sizes:[1.045,1.907],variants:[0,2]},10760:{dir:_,sizes:[1.045,1.907],variants:[0,2]},10761:{dir:_,sizes:[.981,1.261],variants:[0,2]},10762:{dir:_,sizes:[1.001,1.401],variants:[0,2]},10763:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10764:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10765:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10766:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10767:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10768:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10769:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10770:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10771:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10772:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10773:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10774:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10775:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10776:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10777:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10778:{dir:_,sizes:[1.112,2.223],variants:[0,2]},10779:{dir:_,sizes:[1.274,2.464],variants:[0,2]},10780:{dir:_,sizes:[1.274,2.486],variants:[0,2]},10781:{dir:_,sizes:[.767,1.073],variants:[0,2]},10782:{dir:_,sizes:[.767,1.074],variants:[0,2]},10784:{dir:_,sizes:[.595,.835],variants:[0,2]},10785:{dir:_,sizes:[.901,1.261],variants:[0,2]},11004:{dir:_,sizes:[1.001,1.915],variants:[0,2]},11007:{dir:_,sizes:[1.241,1.915],variants:[0,2]},12296:{c:10216,dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},12297:{c:10217,dir:_,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},65079:{c:9182,dir:U,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},65080:{c:9183,dir:U,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},126704:{dir:_,sizes:[.527,.738]},126705:{dir:_,sizes:[.531,.744]}},D2=(function(i){var e;return(e=class extends i{}).defaultVariants=[...nt.defaultVariants,["-size3","normal"],["-size4","normal"],["-size5","normal"],["-size6","normal"],["-size7","normal"],["-lf-tp","normal"],["-rt-bt","normal"],["-ex-md","normal"],["-bbold","normal"],["-upsmall","normal"],["-uplarge","normal"]],e.VariantSmp=Object.assign(Object.assign({},nt.VariantSmp),{"-bbold":[120120,120146,,,120792]}),e.defaultCssFonts=Object.assign(Object.assign({},nt.defaultCssFonts),{"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-size5":["serif",!1,!1],"-size6":["serif",!1,!1],"-size7":["serif",!1,!1],"-lf-tp":["serif",!1,!1],"-rt-bt":["serif",!1,!1],"-ex-md":["serif",!1,!1],"-bbold":["serif",!1,!1],"-upsmall":["serif",!1,!1],"-uplarge":["serif",!1,!1]}),e.defaultAccentMap={94:"\u02C6",126:"\u02DC",768:"\u02CB",769:"\u02CA",770:"\u02C6",771:"\u02DC",772:"\u02C9",774:"\u02D8",775:"\u02D9",776:"\xA8",778:"\u02DA",780:"\u02C7",8594:"\u20D7"},e.defaultParams=Object.assign(Object.assign({},nt.defaultParams),{x_height:.442}),e.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-size5","-size6","-size7"],e.defaultStretchVariants=["normal","-ex-md","-size3","-lf-tp","-rt-bt"],e})(mi);class Oi extends D2{constructor(){super(...arguments),this.cssFontPrefix="NCM"}}Oi.NAME="MathJaxNewcm",Oi.OPTIONS=Object.assign(Object.assign({},D2.OPTIONS),{fontURL:"@mathjax/mathjax-newcm-font/js/chtml/woff2",dynamicPrefix:"@mathjax/mathjax-newcm-font/js/chtml/dynamic"}),Oi.defaultCssFamilyPrefix="MJX-NCM-ZERO",Oi.defaultVariantLetters={normal:"",bold:"B",italic:"I","bold-italic":"BI","double-struck":"DS",fraktur:"F","bold-fraktur":"FB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"M","-smallop":"SO","-largeop":"LO","-size3":"S3","-size4":"S4","-size5":"S5","-size6":"S6","-size7":"S7","-tex-mathit":"MI","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-oldstyle":"OS","-tex-bold-oldstyle":"OB","-tex-variant":"V","-lf-tp":"LT","-rt-bt":"RB","-ex-md":"EM","-bbold":"Be","-upsmall":"U","-uplarge":"Ue",script:"S","bold-script":"SB"},Oi.defaultDelimiters=Um,Oi.defaultChars={normal:{32:[0,0,.332],33:[.716,0,.278],34:[.705,-.423,.374],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.705,-.423,.278],40:[.748,.248,.389],41:[.748,.248,.389],42:[.75,-.32,.5],43:[.583,.083,.778],44:[.106,.193,.278],45:[.245,-.187,.333],46:[.106,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5,{sk:-.01}],51:[.666,.022,.5],52:[.677,0,.5,{sk:.103}],53:[.666,.022,.5],54:[.666,.022,.5,{sk:.068}],55:[.676,.022,.5,{sk:-.147}],56:[.666,.022,.5,{sk:.011}],57:[.666,.022,.5],58:[.431,0,.278],59:[.431,.193,.278],60:[.547,.052,.778],61:[.367,-.133,.778],62:[.547,.047,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708,{sk:-.014}],67:[.705,.022,.722,{sk:.044}],68:[.683,0,.764],69:[.68,0,.681,{sk:.013}],70:[.68,0,.653],71:[.705,.022,.785,{sk:.013}],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514,{sk:.06}],75:[.683,0,.778,{sk:-.011}],76:[.683,0,.625,{sk:-.119}],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.194,.778],82:[.683,.022,.736,{sk:-.026}],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75,{sk:.02}],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611,{sk:.011}],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.745,-.561,.556,{ic:.006}],95:[-.1,.14,.333],96:[.698,-.509,.5,{sk:-.031}],97:[.448,.011,.5,{sk:-.036}],98:[.694,.011,.556,{sk:-.142}],99:[.448,.011,.444,{sk:.027}],100:[.694,.011,.556,{sk:.109}],101:[.448,.011,.444,{sk:.014}],102:[.705,0,.306,{ic:.051,sk:.043}],103:[.453,.206,.5,{sk:-.024}],104:[.694,0,.556,{sk:-.132}],105:[.657,0,.278],106:[.657,.205,.306],107:[.694,0,.528,{sk:-.128}],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556,{sk:.013}],111:[.448,.011,.5],112:[.442,.194,.556,{sk:.032}],113:[.442,.194,.528],114:[.442,0,.392,{sk:-.015}],115:[.448,.011,.394],116:[.615,.011,.389,{sk:-.034}],117:[.442,.011,.556,{sk:-.017}],118:[.431,.011,.528,{sk:.014}],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.205,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.25,.278],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.001}],160:[0,0,.332],163:[.683,.035,.75],165:[.683,0,.75],167:[.705,.205,.444],168:[.652,-.557,.5],172:[.367,-.133,.667],175:[.62,-.589,.5],176:[.683,-.406,.375],177:[.583,.084,.778],180:[.698,-.509,.5,{sk:.031}],181:[.441,.194,.556],182:[.694,.194,.611],183:[.303,-.197,.278],215:[.491,-.009,.778],240:[.696,.011,.5],247:[.504,.004,.778],305:[.442,0,.278],567:[.442,.205,.306],710:[.694,-.515,.5],711:[.693,-.514,.5],713:[.62,-.589,.5],714:[.698,-.509,.5,{sk:.031}],715:[.698,-.509,.5,{sk:-.031}],717:[-.193,.233,.333,{ic:.018}],728:[.69,-.518,.5],729:[.657,-.551,.278],730:[.705,-.529,.75],732:[.653,-.556,.5],767:[-.025,.275,0,{dx:.274}],768:[.733,-.544,0,{dx:.294}],769:[.733,-.544,0,{dx:.234}],770:[.694,-.515,.5],771:[.653,-.556,.5,{sk:.016}],772:[.64,-.609,0,{dx:.264}],773:[.67,-.63,0,{dx:.264}],774:[.73,-.592,0,{dx:.264}],775:[.677,-.571,0,{dx:.265}],776:[.672,-.577,0,{dx:.264}],778:[.725,-.549,0,{dx:.264}],780:[.726,-.577,0,{dx:.264}],824:[.75,.25,0,{sk:-.263}],913:[.716,0,.75],914:[.683,0,.708,{sk:-.068}],915:[.68,0,.625,{sk:-.015}],916:[.716,0,.833],917:[.68,0,.681,{sk:-.022}],918:[.683,0,.611,{sk:.011}],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778,{sk:-.011}],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681,{sk:-.058}],931:[.683,0,.722,{sk:-.011}],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75,{sk:-.014}],936:[.683,0,.778],937:[.705,0,.722],945:[.442,.011,.641,{ic:.006,sk:.031}],946:[.706,.194,.558],947:[.442,.215,.586],948:[.712,.011,.474],949:[.453,.022,.535,{sk:-.024}],950:[.697,.205,.53,{sk:-.041}],951:[.442,.216,.53,{sk:-.047}],952:[.705,.011,.488],953:[.442,.011,.308,{sk:-.056}],954:[.442,.011,.53,{sk:-.018}],955:[.694,.013,.537,{ic:.029,sk:-.204}],956:[.442,.216,.53,{sk:-.028}],957:[.442,0,.502,{sk:-.042}],958:[.697,.205,.53,{sk:-.069}],959:[.448,.011,.5],960:[.431,.011,.586,{sk:-.014}],961:[.442,.216,.488],962:[.442,.108,.474],963:[.431,.011,.599],964:[.431,.012,.53,{sk:-.033}],965:[.442,.011,.53,{sk:-.014}],966:[.442,.218,.641,{sk:-.018}],967:[.442,.205,.641,{ic:.004,sk:-.057}],968:[.694,.205,.641,{sk:.028}],969:[.442,.011,.641],977:[.705,.011,.53,{sk:.026}],978:[.715,0,.778],981:[.694,.205,.641],982:[.431,.011,.836,{sk:-.014}],1008:[.442,.012,.624,{sk:-.015}],1009:[.442,.194,.488],1012:[.705,.022,.778],1013:[.431,.011,.414,{ic:.015,sk:.024}],1014:[.431,.011,.414,{ic:.058}],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.25],8201:[0,0,.2],8202:[0,0,.1],8203:[0,0,0],8208:[.245,-.187,.333],8209:[.245,-.187,.333],8210:[.342,-.302,.68],8211:[.277,-.255,.5],8212:[.277,-.255,1],8213:[.27,-.23,1.152],8214:[.75,.25,.398],8216:[.693,-.394,.278],8217:[.694,-.395,.278],8220:[.693,-.394,.472],8221:[.694,-.395,.472],8224:[.705,.216,.444],8225:[.705,.205,.444],8230:[.106,0,.837],8231:[.266,-.16,.276],8239:[0,0,.2],8242:[.748,-.43,.311],8243:[.748,-.43,.511],8244:[.748,-.43,.711],8245:[.748,-.43,.311],8246:[.748,-.43,.511],8247:[.748,-.43,.711],8260:[.75,.25,.5],8279:[.748,-.43,.911],8287:[0,0,.222],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8356:[.683,.035,.75],8364:[.705,.022,.627],8400:[.711,-.601,0,{dx:.264}],8401:[.711,-.601,0,{dx:.264}],8402:[.75,.25,0,{sk:-.264}],8406:[.711,-.521,0,{dx:.264}],8407:[.711,-.521,0,{dx:.264}],8411:[.696,-.604,0,{dx:.264}],8412:[.696,-.604,0,{dx:.264}],8417:[.711,-.521,0,{dx:.264}],8428:[-.171,.281,0,{dx:.264}],8429:[-.171,.281,0,{dx:.264}],8430:[-.091,.281,0,{dx:.264}],8431:[-.091,.281,0,{dx:.264}],8455:[.705,.022,.53],8462:[.694,.011,.576,{sk:-.033}],8463:[.694,.011,.576],8486:[.705,0,.722],8487:[.684,.021,.722],8490:[.683,0,.778,{sk:-.011}],8491:[.892,0,.75],8498:[.68,0,.653],8501:[.693,0,.611],8502:[.723,.04,.604],8503:[.721,.03,.528],8504:[.71,.035,.574],8592:[.51,.01,1],8593:[.679,.203,.5],8594:[.51,.01,1],8595:[.703,.179,.5],8596:[.51,.01,1],8597:[.757,.257,.5],8598:[.714,.203,1],8599:[.714,.203,1],8600:[.703,.214,1],8601:[.703,.214,1],8602:[.51,.01,.997],8603:[.51,.01,.997],8606:[.51,.01,1.017],8608:[.51,.01,1.017],8610:[.51,.01,1.192],8611:[.51,.01,1.192],8612:[.51,.011,.977],8614:[.51,.011,.977],8617:[.55,.01,.997],8618:[.55,.01,.997],8619:[.55,.05,.997],8620:[.55,.05,.997],8622:[.51,.01,.996],8630:[.562,-.229,.98],8631:[.562,-.229,.98],8634:[.68,.06,.771],8635:[.68,.06,.771],8636:[.503,-.23,1],8637:[.27,.003,1.012],8638:[.697,.203,.441],8639:[.697,.203,.441],8640:[.503,-.23,1],8641:[.27,.003,1.012],8642:[.703,.197,.441],8643:[.703,.197,.441],8644:[.672,.172,1.018],8645:[.703,.203,.896],8646:[.672,.172,1.018],8647:[.75,.25,.997],8648:[.679,.203,.992],8649:[.75,.25,.997],8650:[.703,.179,.992],8651:[.6,.1,1.018],8652:[.6,.1,1.018],8653:[.52,.02,.991],8654:[.52,.02,1.068],8655:[.52,.02,.991],8656:[.52,.02,1],8657:[.676,.203,.611],8658:[.52,.02,1],8659:[.703,.176,.611],8660:[.52,.02,1],8661:[.728,.228,.611],8666:[.617,.117,1.015],8667:[.617,.117,1.015],8672:[.51,.01,1],8673:[.692,.192,.684],8674:[.51,.01,1],8675:[.692,.192,.684],8676:[.51,.01,1.018],8677:[.51,.01,1.018],8693:[.703,.203,.896],8694:[.99,.49,.997],8704:[.688,-.002,.666],8705:[.684,0,.556],8706:[.716,.022,.586],8707:[.684,0,.556],8708:[.789,.105,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.543,.043,.667],8713:[.73,.23,.667],8715:[.543,.043,.667],8716:[.73,.23,.667],8718:[.554,0,.666],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.083,.778],8723:[.584,.083,.778],8724:[.785,.083,.778],8725:[.603,.103,.568],8726:[.603,.103,.568],8727:[.462,-.039,.5],8728:[.4,-.1,.412],8729:[.445,-.055,.5],8730:[.04,.96,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8735:[.679,-.013,.778],8736:[.724,-.013,.778],8737:[.724,.109,.778],8738:[.562,.062,.778],8739:[.75,.25,.278],8740:[.75,.25,.388],8741:[.75,.25,.5],8742:[.75,.25,.556],8743:[.602,.02,.667],8744:[.601,.02,.667],8745:[.604,.02,.667],8746:[.604,.02,.667],8747:[.805,.306,.545,{ic:.12}],8748:[.805,.306,.915,{ic:.12}],8749:[.805,.306,1.285,{ic:.12}],8750:[.805,.306,.615,{ic:.05}],8751:[.805,.306,.985,{ic:.05}],8752:[.805,.306,1.355,{ic:.05}],8753:[.805,.306,.675,{ic:.02}],8754:[.805,.306,.662,{ic:.02}],8755:[.805,.306,.662,{ic:.02}],8756:[.416,-.084,.516],8757:[.416,-.084,.516],8758:[.422,-.078,.278],8759:[.422,-.078,.516],8760:[.504,-.23,.778],8761:[.422,-.078,.906],8764:[.366,-.134,.773],8765:[.366,-.134,.773],8766:[.466,-.034,.901],8767:[.492,-.008,.778],8768:[.583,.083,.28],8769:[.482,-.018,.773],8770:[.38,-.032,.778],8771:[.468,-.12,.778],8772:[.603,.103,.778],8773:[.552,-.036,.778],8774:[.614,.048,.778],8775:[.603,.103,.778],8776:[.457,-.043,.773],8777:[.603,.103,.773],8778:[.541,-.036,.778],8779:[.541,.041,.773],8780:[.541,-.036,.778],8781:[.498,-.002,.778],8784:[.601,-.133,.778],8788:[.422,-.078,.906],8789:[.422,-.078,.906],8797:[.793,-.133,.778],8799:[.803,-.133,.778],8800:[.73,.23,.778],8801:[.464,-.036,.778],8802:[.73,.23,.778],8803:[.561,.061,.778],8804:[.631,.119,.778],8805:[.631,.119,.778],8806:[.715,.203,.778],8807:[.715,.203,.778],8808:[.715,.287,.778],8809:[.715,.287,.778],8810:[.554,.047,1],8811:[.546,.054,1],8812:[.77,.27,.434],8813:[.73,.23,.778],8814:[.73,.23,.778],8815:[.73,.23,.778],8816:[.73,.23,.778],8817:[.73,.23,.778],8818:[.636,.125,.776],8819:[.636,.125,.776],8820:[.691,.191,.776],8821:[.691,.191,.776],8822:[.741,.241,.778],8823:[.741,.241,.778],8824:[.776,.276,.778],8825:[.776,.276,.778],8826:[.547,.047,.778],8827:[.547,.047,.778],8828:[.639,.139,.738],8829:[.639,.139,.738],8830:[.682,.17,.773],8831:[.682,.17,.773],8832:[.73,.23,.778],8833:[.73,.23,.778],8834:[.543,.043,.778],8835:[.543,.043,.778],8836:[.73,.23,.778],8837:[.73,.23,.778],8838:[.627,.127,.778],8839:[.627,.127,.778],8840:[.73,.23,.778],8841:[.73,.23,.778],8842:[.627,.211,.778],8843:[.627,.211,.778],8845:[.604,.02,.667],8846:[.604,.02,.667],8847:[.543,.043,.778],8848:[.543,.043,.778],8849:[.627,.127,.778],8850:[.627,.127,.778],8851:[.604,.02,.667],8852:[.604,.02,.667],8853:[.591,.093,.782],8854:[.591,.093,.782],8855:[.591,.093,.782],8856:[.591,.093,.782],8857:[.591,.093,.782],8858:[.591,.093,.782],8859:[.591,.093,.782],8860:[.591,.093,.782],8861:[.591,.093,.782],8862:[.583,.083,.778],8863:[.583,.083,.778],8864:[.583,.083,.778],8865:[.583,.083,.778],8866:[.684,0,.611],8867:[.684,0,.611],8868:[.664,.02,.778],8869:[.684,0,.778],8870:[.684,0,.445],8871:[.684,0,.445],8872:[.684,0,.612],8873:[.684,0,.673],8874:[.684,0,.841],8875:[.684,0,.653],8876:[.684,0,.565],8877:[.684,0,.732],8878:[.684,0,.793],8879:[.684,0,.773],8880:[.563,.063,.778],8881:[.563,.063,.778],8882:[.547,.047,.738],8883:[.547,.047,.738],8884:[.605,.105,.738],8885:[.605,.105,.738],8890:[.664,.02,.778],8896:[.78,.282,.833],8897:[.783,.28,.833],8898:[.772,.25,.833],8899:[.75,.272,.833],8900:[.48,-.02,.5],8901:[.303,-.197,.278],8902:[.486,-.008,.5],8904:[.505,.005,.623],8905:[.505,.005,.623],8906:[.505,.005,.623],8907:[.505,.005,.623],8908:[.505,.005,.623],8909:[.468,-.12,.778],8910:[.584,.02,.733],8911:[.584,.02,.733],8930:[.73,.23,.778],8931:[.73,.23,.778],8938:[.73,.23,.738],8939:[.73,.23,.738],8940:[.73,.23,.738],8941:[.73,.23,.738],8942:[.582,.082,.218],8943:[.303,-.197,.776],8944:[.5,0,.613],8945:[.5,0,.613],8967:[.783,.313,.28],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8972:[.274,.103,.818],8973:[.274,.103,.818],8974:[.603,-.226,.818],8975:[.603,-.226,.818],8976:[.367,-.133,.667],8985:[.367,-.133,.667],8988:[.77,-.49,.392],8989:[.77,-.49,.392],8990:[.01,.27,.392],8991:[.01,.27,.392],8992:[1.344,0,1.185],8993:[.806,.538,1.185],8994:[.381,-.13,1],8995:[.371,-.133,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9115:[1.495,0,.875],9116:[.498,0,.875],9117:[1.495,0,.875],9118:[1.495,0,.875],9119:[.498,0,.875],9120:[1.495,0,.875],9121:[1.5,0,.667],9122:[1,0,.667],9123:[1.5,0,.667],9124:[1.5,0,.667],9125:[1,0,.667],9126:[1.5,0,.667],9127:[.75,0,.902],9128:[1.5,0,.902],9129:[.75,0,.902],9130:[.748,0,.902],9131:[.75,0,.902],9132:[1.5,0,.902],9133:[.75,0,.902],9134:[.806,0,1.185],9135:[.27,-.23,.396],9136:[.75,.375,.752],9137:[.75,.375,.752],9138:[.846,0,1.576],9139:[.847,0,1.576],9140:[.726,-.552,.36],9141:[-.122,.296,.36],9143:[1.82,0,1.056],9144:[1.765,.235,.659],9145:[1.765,.235,.659],9168:[.642,0,.333],9180:[.727,-.572,.504],9181:[-.142,.297,.504],9182:[.783,-.539,.492],9183:[-.109,.353,.492],9184:[.829,-.657,.546,{ic:.006}],9185:[-.227,.399,.546,{ic:.006}],9204:[.422,-.082,.356],9205:[.422,-.078,.356],9206:[.38,-.12,.356],9207:[.38,-.12,.356],9632:[.583,.083,.778],9633:[.583,.083,.778],9642:[.358,-.142,.328],9643:[.358,-.142,.328],9650:[.741,.005,.968],9651:[.741,.005,.968],9652:[.592,-.144,.626],9653:[.592,-.144,.626],9654:[.678,.178,.858],9655:[.678,.178,.858],9656:[.625,-.111,.626],9657:[.625,-.111,.626],9658:[.625,-.111,.866],9659:[.625,-.111,.866],9660:[.505,.241,.968],9661:[.505,.241,.968],9662:[.592,-.144,.626],9663:[.592,-.144,.626],9664:[.678,.178,.858],9665:[.678,.178,.858],9666:[.625,-.111,.626],9667:[.625,-.111,.626],9668:[.625,-.111,.866],9669:[.625,-.111,.866],9670:[.713,.213,1.025],9671:[.713,.213,1.025],9674:[.61,.11,.572],9675:[.592,.092,.796],9679:[.592,.092,.796],9702:[.445,-.055,.5],9711:[.701,.201,1.013],9720:[.679,-.013,.778],9721:[.679,-.013,.778],9722:[.679,-.013,.778],9723:[.533,.033,.706],9724:[.533,.033,.706],9725:[.483,-.017,.566],9726:[.483,-.017,.566],9727:[.679,-.013,.778],10072:[.694,.083,.525],10200:[.684,.184,.946],10201:[.684,.184,.986],10205:[.684,.184,.946],10206:[.684,.184,.946],10214:[.75,.25,.41],10215:[.75,.25,.41],10216:[.75,.25,.389],10217:[.75,.25,.389],10218:[.75,.25,.57],10219:[.75,.25,.57],10220:[.748,.248,.389],10221:[.748,.248,.389],10222:[.762,.262,.287],10223:[.762,.262,.287],10229:[.51,.01,1.463],10230:[.51,.01,1.463],10231:[.51,.01,1.442],10232:[.52,.02,1.457],10233:[.52,.02,1.457],10234:[.52,.02,1.534],10235:[.51,.011,1.443],10236:[.51,.011,1.443],10237:[.52,.021,1.437],10238:[.52,.021,1.437],10506:[.702,.202,.846],10507:[.702,.202,.846],10570:[.503,.003,1.012],10571:[.503,.003,1.012],10574:[.503,-.23,1],10576:[.27,.003,1],10578:[.503,.019,1.088],10579:[.503,.019,1.088],10582:[.502,.019,1.088],10583:[.502,.019,1.088],10586:[.51,.011,1],10587:[.51,.011,1],10590:[.51,.011,1],10591:[.51,.011,1],10602:[.6,-.133,1.018],10603:[.368,.099,1.018],10604:[.6,-.133,1.018],10605:[.368,.099,1.018],10606:[.703,.203,.8],10607:[.703,.203,.8],10620:[.563,.063,.778],10621:[.563,.063,.778],10622:[.546,.046,.726],10623:[.546,.046,.726],10624:[.75,.25,.694],10647:[.748,.248,.278],10648:[.748,.248,.278],10741:[.603,.103,.556],10743:[.603,.103,.556],10744:[.75,.325,.5],10745:[.75,.325,.5],10752:[.743,.243,1.111],10753:[.743,.243,1.111],10754:[.743,.243,1.111],10755:[.75,.272,.833],10756:[.75,.272,.833],10757:[.764,.264,.833],10758:[.764,.264,.833],10759:[.78,.282,1.082],10760:[.799,.264,1.082],10761:[.74,.24,1.092],10764:[.805,.306,1.655,{ic:.12}],10765:[.805,.306,.615,{ic:.05}],10766:[.805,.306,.615,{ic:.05}],10767:[.805,.306,.615,{ic:.05}],10768:[.805,.306,.615,{ic:.05}],10769:[.805,.306,.675,{ic:.02}],10770:[.805,.306,.615,{ic:.05}],10771:[.805,.306,.615,{ic:.05}],10772:[.805,.306,.615,{ic:.05}],10773:[.805,.306,.545,{ic:.12}],10774:[.805,.306,.545,{ic:.12}],10775:[.805,.306,.794],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.645,{ic:.02}],10779:[.967,.306,.545,{ic:.12}],10780:[.805,.468,.645,{ic:.02}],10799:[.496,-.004,.778],10815:[.683,0,.75],10877:[.634,.134,.778],10878:[.634,.134,.778],10885:[.721,.205,.776],10886:[.721,.205,.776],10887:[.667,.167,.778],10888:[.667,.167,.778],10889:[.753,.321,.776],10890:[.721,.289,.776],10891:[.977,.477,.778],10892:[.977,.477,.778],10901:[.629,.134,.778],10902:[.629,.129,.778],10927:[.631,.119,.778],10928:[.631,.119,.778],10929:[.631,.203,.778],10930:[.631,.203,.778],10931:[.716,.203,.778],10932:[.716,.203,.778],10933:[.716,.287,.778],10934:[.716,.287,.778],10935:[.816,.205,.776],10936:[.816,.205,.776],10937:[.816,.321,.776],10938:[.816,.321,.776],10949:[.543,.203,.698],10950:[.543,.203,.698],10955:[.543,.287,.698],10956:[.543,.287,.698],10974:[.684,0,.381],10975:[.342,.02,.778],10976:[.342,.02,.778],10977:[.684,0,.778],10978:[.684,0,.612],10979:[.684,0,.673],10980:[.684,0,.612],10981:[.684,0,.653],10982:[.684,0,.673],10983:[.622,-.062,.784],10984:[.622,-.062,.784],10985:[.812,.02,.778],10986:[.592,-.092,.784],10987:[.592,-.092,.784],10994:[.75,.25,.62],10995:[.75,.25,.773],10996:[.75,.25,.694],10997:[.75,.25,.694],11004:[.75,.25,.694],119808:[.698,0,.869],119809:[.686,0,.818,{sk:-.026}],119810:[.697,.011,.831,{sk:.051}],119811:[.686,0,.882,{sk:-.04}],119812:[.68,0,.756],119813:[.68,0,.724,{sk:-.02}],119814:[.697,.011,.904,{sk:.015}],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594,{sk:.051}],119818:[.686,0,.901,{sk:-.013}],119819:[.686,0,.692,{sk:-.114}],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.697,.011,.864],119823:[.686,0,.786,{sk:-.021}],119824:[.697,.194,.864],119825:[.686,.011,.863,{sk:-.044}],119826:[.697,.011,.639,{sk:-.025}],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.008,.869],119830:[.686,.008,1.189],119831:[.686,0,.869,{sk:-.017}],119832:[.686,0,.869],119833:[.686,0,.703,{sk:.013}],119834:[.453,.006,.559,{sk:-.049}],119835:[.694,.006,.639,{sk:-.194}],119836:[.453,.006,.511,{sk:.043}],119837:[.694,.006,.639,{sk:.124}],119838:[.453,.006,.527,{sk:.018}],119839:[.7,0,.351,{ic:.086,sk:.033}],119840:[.455,.201,.575,{sk:-.032}],119841:[.694,0,.639,{sk:-.172}],119842:[.685,0,.319],119843:[.685,.2,.351,{sk:.013}],119844:[.694,0,.607,{sk:-.177}],119845:[.694,0,.319,{sk:-.024}],119846:[.45,0,.958,{sk:.012}],119847:[.45,0,.639],119848:[.453,.006,.575],119849:[.45,.194,.639,{sk:.043}],119850:[.45,.194,.607,{sk:-.013}],119851:[.45,0,.474,{sk:-.021}],119852:[.453,.006,.454],119853:[.635,.006,.447,{sk:-.029}],119854:[.45,.006,.639,{sk:-.024}],119855:[.444,.004,.607],119856:[.444,.004,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.175}],119861:[.683,0,.759,{sk:.115}],119862:[.705,.022,.715,{ic:.045,sk:.105}],119863:[.683,0,.828,{sk:.088}],119864:[.68,0,.738,{ic:.028,sk:.115}],119865:[.68,0,.643,{ic:.108,sk:.102}],119866:[.705,.022,.786,{sk:.093}],119867:[.683,0,.831,{ic:.05,sk:.089}],119868:[.684,.001,.44,{ic:.057,sk:.084}],119869:[.683,.022,.555,{ic:.078,sk:.151}],119870:[.684,0,.849,{ic:.04,sk:.09}],119871:[.684,0,.681,{sk:.019}],119872:[.683,0,.97,{ic:.074,sk:.085}],119873:[.683,0,.803,{ic:.078,sk:.082}],119874:[.705,.022,.763,{sk:.114}],119875:[.683,0,.642,{ic:.112,sk:.072}],119876:[.705,.194,.791,{sk:.1}],119877:[.683,.022,.759,{sk:.084}],119878:[.705,.022,.613,{ic:.032,sk:.093}],119879:[.677,0,.584,{ic:.12,sk:.016}],119880:[.683,.022,.683,{ic:.077,sk:.022}],119881:[.683,.022,.583,{ic:.187,sk:-.019}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.023,sk:.097}],119884:[.683,.001,.581,{ic:.181,sk:-.027}],119885:[.683,0,.683,{ic:.04,sk:.114}],119886:[.442,.011,.529,{sk:.022}],119887:[.694,.011,.429,{sk:-.011}],119888:[.442,.011,.433,{sk:.101}],119889:[.694,.011,.52,{sk:.182}],119890:[.442,.011,.466,{sk:.067}],119891:[.705,.205,.49,{ic:.062,sk:.172}],119892:[.442,.205,.477,{sk:.077}],119894:[.661,.011,.345,{sk:.074}],119895:[.661,.205,.412,{sk:.153}],119896:[.694,.011,.521,{sk:-.011}],119897:[.694,.011,.298,{sk:.055}],119898:[.442,.011,.878,{sk:.017}],119899:[.442,.011,.6,{sk:.025}],119900:[.442,.011,.485,{sk:.072}],119901:[.442,.194,.503,{sk:.092}],119902:[.442,.194,.446,{ic:.006,sk:.053}],119903:[.442,.011,.451,{sk:.021}],119904:[.442,.011,.469,{sk:.061}],119905:[.626,.011,.361,{sk:.044}],119906:[.442,.011,.572,{sk:.019}],119907:[.442,.011,.485,{sk:.051}],119908:[.442,.011,.716,{sk:.047}],119909:[.442,.011,.572,{sk:.043}],119910:[.442,.205,.49,{sk:.059}],119911:[.442,.011,.465,{ic:.002,sk:.102}],119912:[.711,0,.869,{sk:.173}],119913:[.686,0,.866,{sk:.11}],119914:[.703,.017,.817,{ic:.038,sk:.113}],119915:[.686,0,.938,{sk:.063}],119916:[.68,0,.81,{ic:.015,sk:.124}],119917:[.68,0,.689,{ic:.12,sk:.104}],119918:[.703,.017,.887,{sk:.102}],119919:[.686,0,.982,{ic:.045,sk:.091}],119920:[.686,0,.511,{ic:.055,sk:.086}],119921:[.686,.017,.631,{ic:.063,sk:.176}],119922:[.686,0,.971,{ic:.032,sk:.137}],119923:[.686,0,.756,{sk:.018}],119924:[.686,0,1.142,{ic:.074,sk:.086}],119925:[.686,0,.95,{ic:.077,sk:.083}],119926:[.703,.017,.837,{sk:.11}],119927:[.686,0,.723,{ic:.126,sk:.07}],119928:[.703,.194,.869,{sk:.093}],119929:[.686,.017,.872,{ic:.009,sk:.1}],119930:[.703,.017,.693,{ic:.021,sk:.097}],119931:[.675,0,.637,{ic:.135,sk:.014}],119932:[.686,.017,.8,{ic:.077,sk:.06}],119933:[.686,.017,.678,{ic:.207,sk:.016}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{ic:.006,sk:.132}],119936:[.686,0,.675,{ic:.2,sk:.022}],119937:[.686,0,.773,{ic:.032,sk:.122}],119938:[.452,.008,.633,{sk:.019}],119939:[.694,.008,.521,{sk:-.035}],119940:[.452,.008,.513,{sk:.101}],119941:[.694,.008,.61,{sk:.219}],119942:[.452,.008,.554,{sk:.063}],119943:[.702,.202,.568,{ic:.058,sk:.169}],119944:[.452,.202,.545,{sk:.067}],119945:[.694,.008,.668,{sk:-.078}],119946:[.694,.008,.405,{sk:.08}],119947:[.694,.202,.471,{sk:.163}],119948:[.694,.008,.604,{sk:-.026}],119949:[.694,.008,.348,{sk:.074}],119950:[.452,.008,1.032,{sk:.06}],119951:[.452,.008,.713,{sk:.032}],119952:[.452,.008,.585,{sk:.074}],119953:[.452,.194,.601,{sk:.112}],119954:[.452,.194,.542,{ic:.001,sk:.059}],119955:[.452,.008,.529,{sk:.018}],119956:[.452,.008,.531,{sk:.059}],119957:[.643,.008,.415,{sk:.063}],119958:[.452,.008,.681,{sk:.038}],119959:[.453,.008,.567,{sk:.069}],119960:[.453,.008,.831,{sk:.101}],119961:[.452,.008,.659,{sk:.029}],119962:[.452,.202,.59,{sk:.078}],119963:[.452,.008,.555,{sk:.076}],120484:[.442,.011,.322],120485:[.442,.205,.384,{sk:.083}],120488:[.698,0,.869],120489:[.686,0,.818,{sk:-.075}],120490:[.68,0,.692,{sk:-.019}],120491:[.698,0,.958],120492:[.68,0,.756,{sk:-.027}],120493:[.686,0,.703,{sk:.013}],120494:[.686,0,.9],120495:[.697,.011,.894],120496:[.686,0,.436],120497:[.686,0,.901,{sk:-.013}],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.697,.011,.864],120503:[.68,0,.9],120504:[.686,0,.786,{sk:-.063}],120505:[.697,.011,.894],120506:[.686,0,.831,{sk:-.015}],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869,{sk:-.017}],120511:[.686,0,.894],120512:[.697,0,.831],120513:[.686,.025,.958],120514:[.452,.008,.743,{ic:.007,sk:.015}],120515:[.703,.194,.647],120516:[.452,.211,.679],120517:[.718,.008,.551,{sk:-.011}],120518:[.461,.017,.597,{sk:-.025}],120519:[.703,.202,.615,{sk:-.041}],120520:[.452,.211,.615,{sk:-.051}],120521:[.702,.008,.567],120522:[.452,.008,.359,{ic:.004,sk:-.068}],120523:[.452,.008,.615,{ic:.004,sk:-.034}],120524:[.694,.012,.618,{ic:.048,sk:-.227}],120525:[.452,.211,.615,{ic:.004,sk:-.036}],120526:[.453,0,.583,{sk:-.04}],120527:[.703,.202,.615,{sk:-.072}],120528:[.453,.006,.575],120529:[.444,.009,.679,{sk:-.011}],120530:[.452,.211,.567],120531:[.452,.105,.551],120532:[.444,.008,.695],120533:[.444,.012,.615,{sk:-.035}],120534:[.453,.008,.615,{sk:-.019}],120535:[.452,.216,.743,{sk:-.015}],120536:[.452,.202,.743,{ic:.003,sk:-.063}],120537:[.694,.202,.743,{sk:.032}],120538:[.453,.008,.743],120539:[.711,.017,.679],120540:[.444,.008,.506,{ic:.003,sk:.04}],120541:[.702,.008,.615,{sk:.033}],120542:[.452,.01,.724,{sk:-.018}],120543:[.694,.202,.743],120544:[.452,.194,.567],120545:[.444,.008,.966,{sk:-.01}],120546:[.716,0,.75,{sk:.177}],120547:[.683,0,.759,{sk:.077}],120548:[.68,0,.615,{ic:.108,sk:.072}],120549:[.716,0,.833,{sk:.17}],120550:[.68,0,.738,{ic:.028,sk:.092}],120551:[.683,0,.683,{ic:.04,sk:.11}],120552:[.683,0,.831,{ic:.05,sk:.089}],120553:[.705,.022,.763,{sk:.117}],120554:[.684,.001,.44,{ic:.057,sk:.084}],120555:[.684,0,.849,{ic:.04,sk:.09}],120556:[.716,0,.694,{sk:.17}],120557:[.683,0,.97,{ic:.074,sk:.085}],120558:[.683,0,.803,{ic:.078,sk:.082}],120559:[.677,0,.742,{ic:.035,sk:.097}],120560:[.705,.022,.763,{sk:.117}],120561:[.68,0,.831,{ic:.049,sk:.089}],120562:[.683,0,.642,{ic:.112,sk:.049}],120563:[.705,.022,.763,{sk:.117}],120564:[.683,0,.78,{ic:.026,sk:.104}],120565:[.677,0,.584,{ic:.12,sk:.012}],120566:[.705,0,.583,{ic:.118}],120567:[.683,0,.667,{sk:.082}],120568:[.683,0,.828,{ic:.023,sk:.097}],120569:[.683,0,.612,{ic:.081,sk:.025}],120570:[.705,0,.772,{ic:.014,sk:.137}],120571:[.683,.033,.833],120572:[.442,.011,.64,{sk:.072}],120573:[.706,.194,.566,{ic:.008,sk:.148}],120574:[.442,.215,.518,{ic:.025,sk:.111}],120575:[.712,.011,.444,{ic:.008,sk:.107}],120576:[.453,.022,.466,{sk:.051}],120577:[.697,.205,.438,{ic:.036,sk:.067}],120578:[.442,.216,.497,{sk:.1}],120579:[.705,.011,.469,{sk:.075}],120580:[.442,.011,.354],120581:[.442,.011,.576,{sk:.043}],120582:[.694,.013,.583,{sk:-.053}],120583:[.442,.216,.603,{sk:.048}],120584:[.442,0,.494,{ic:.03,sk:.028}],120585:[.697,.205,.438,{ic:.008,sk:.06}],120586:[.442,.011,.485],120587:[.431,.011,.57,{sk:.043}],120588:[.442,.216,.517,{sk:.096}],120589:[.442,.108,.363,{ic:.046,sk:.044}],120590:[.431,.011,.571],120591:[.431,.012,.437,{ic:.074}],120592:[.442,.011,.54,{sk:.036}],120593:[.442,.218,.654,{sk:.028}],120594:[.442,.205,.626,{sk:.018}],120595:[.694,.205,.651,{sk:.143}],120596:[.442,.011,.622,{sk:.034}],120597:[.716,.022,.531,{ic:.035,sk:.069}],120598:[.431,.011,.406,{sk:.066}],120599:[.705,.011,.591,{sk:.116}],120600:[.442,.012,.624,{sk:.053}],120601:[.694,.205,.596,{sk:.125}],120602:[.442,.194,.517,{sk:.102}],120603:[.431,.011,.828,{sk:.039}],120604:[.711,0,.869,{sk:.174}],120605:[.686,0,.866,{sk:.069}],120606:[.68,0,.657,{ic:.12,sk:.071}],120607:[.711,0,.958,{sk:.168}],120608:[.68,0,.81,{ic:.015,sk:.098}],120609:[.686,0,.773,{ic:.032,sk:.117}],120610:[.686,0,.982,{ic:.045,sk:.09}],120611:[.703,.017,.867,{sk:.108}],120612:[.686,0,.511,{ic:.055,sk:.085}],120613:[.686,0,.971,{ic:.032,sk:.093}],120614:[.711,0,.806,{sk:.167}],120615:[.686,0,1.142,{ic:.074,sk:.085}],120616:[.686,0,.95,{ic:.077,sk:.082}],120617:[.675,0,.841,{ic:.026,sk:.104}],120618:[.703,.017,.837,{sk:.111}],120619:[.68,0,.982,{ic:.044,sk:.09}],120620:[.686,0,.723,{ic:.126,sk:.039}],120621:[.703,.017,.867,{sk:.108}],120622:[.686,0,.885,{ic:.019,sk:.108}],120623:[.675,0,.637,{ic:.135,sk:.01}],120624:[.703,0,.671,{ic:.131}],120625:[.686,0,.767,{sk:.08}],120626:[.686,0,.947,{ic:.006,sk:.106}],120627:[.686,0,.714,{ic:.078,sk:.029}],120628:[.703,0,.879,{ic:.007,sk:.135}],120629:[.686,.025,.958],120630:[.452,.008,.761,{sk:.059}],120631:[.703,.194,.66,{sk:.153}],120632:[.452,.211,.59,{ic:.027,sk:-.02}],120633:[.718,.008,.522,{sk:.115}],120634:[.461,.017,.529,{sk:.058}],120635:[.703,.202,.508,{ic:.014,sk:.083}],120636:[.452,.211,.6,{sk:.019}],120637:[.702,.008,.562,{sk:.062}],120638:[.452,.008,.412],120639:[.452,.008,.668,{sk:.025}],120640:[.694,.012,.671,{sk:-.072}],120641:[.452,.211,.708,{sk:.042}],120642:[.453,0,.577,{ic:.026,sk:.028}],120643:[.703,.202,.508,{sk:.061}],120644:[.452,.008,.585],120645:[.444,.009,.682,{sk:.046}],120646:[.452,.211,.612,{sk:.1}],120647:[.452,.105,.424,{ic:.038,sk:-.029}],120648:[.444,.008,.686],120649:[.444,.012,.521,{ic:.083}],120650:[.453,.008,.631,{sk:.037}],120651:[.452,.216,.747,{sk:.033}],120652:[.452,.202,.718,{sk:.011}],120653:[.694,.202,.758,{sk:.151}],120654:[.453,.008,.718,{sk:.039}],120655:[.711,.017,.628,{ic:.029,sk:.079}],120656:[.444,.008,.483,{sk:.074}],120657:[.702,.008,.692,{sk:.119}],120658:[.452,.01,.724,{sk:.053}],120659:[.694,.202,.713,{sk:.126}],120660:[.452,.194,.612,{sk:.094}],120661:[.444,.008,.975,{sk:.043}],120778:[.68,0,.783],120779:[.445,.267,.628],120782:[.655,.011,.575],120783:[.655,0,.575],120784:[.655,0,.575,{sk:-.011}],120785:[.655,.011,.575],120786:[.656,0,.575,{sk:.127}],120787:[.655,.011,.575],120788:[.655,.011,.575,{sk:.048}],120789:[.676,.011,.575,{sk:-.164}],120790:[.655,.011,.575,{sk:.011}],120791:[.655,.011,.575]},bold:{32:[0,0,.383],33:[.705,0,.35],34:[.697,-.418,.481],35:[.694,.194,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.697,-.418,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.132,.894],44:[.156,.194,.319],45:[.271,-.174,.383],46:[.156,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.086,.894],61:[.393,-.108,.894],62:[.587,.086,.894],63:[.7,0,.543],64:[.7,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.744,-.562,.556,{ic:.005}],95:[-.101,.189,.869],96:[.704,-.509,.575],123:[.75,.25,.575],124:[.76,.26,.319],125:[.75,.25,.575],126:[.311,-.189,.556,{ic:.001}],160:[0,0,.575],163:[.686,.031,.869],165:[.686,0,.869],167:[.712,.212,.695],168:[.677,-.537,.575],172:[.403,-.098,.894],175:[.633,-.581,.575],176:[.686,-.367,.431],177:[.693,0,.894],180:[.704,-.509,.575],181:[.45,.194,.639],182:[.694,.194,.703],183:[.396,-.24,.278],215:[.543,.042,.894],240:[.702,.006,.575],247:[.582,.08,.894],305:[.45,0,.319],567:[.45,.2,.351],710:[.71,-.503,.575],711:[.71,-.503,.575],713:[.633,-.581,.575],714:[.704,-.509,.575],715:[.704,-.509,.575],717:[-.247,.307,.383,{ic:.029}],728:[.7,-.513,.575],729:[.685,-.529,.319],730:[.714,-.492,.338],732:[.661,-.553,.575],767:[-.035,.286,0,{dx:.287}],768:[.704,-.509,0,{dx:.317}],769:[.704,-.509,0,{dx:.242}],770:[.71,-.503,0,{dx:.279}],771:[.661,-.553,0,{dx:.279}],772:[.633,-.581,0,{dx:.279}],773:[.697,-.636,.894],774:[.7,-.513,0,{dx:.279}],775:[.685,-.529,0,{dx:.279}],776:[.677,-.537,0,{dx:.28}],778:[.764,-.542,0,{dx:.28}],780:[.71,-.503,0,{dx:.279}],824:[.748,.249,0],978:[.697,0,.87],1014:[.442,.011,.43],8192:[0,0,.575],8193:[0,0,1.15],8194:[0,0,.575],8195:[0,0,1.15],8196:[0,0,.383],8197:[0,0,.288],8198:[0,0,.192],8199:[0,0,.575],8200:[0,0,.319],8201:[0,0,.23],8202:[0,0,.032],8203:[0,0,0],8208:[.271,-.174,.383],8209:[.271,-.174,.383],8210:[.312,-.236,.575],8211:[.312,-.236,.575],8212:[.312,-.236,1.15],8214:[.75,.25,.499],8216:[.694,-.344,.319],8217:[.694,-.344,.319],8220:[.694,-.344,.571],8221:[.694,-.344,.571],8224:[.702,.211,.511],8225:[.702,.202,.511],8230:[.156,0,.838],8260:[.696,.01,.648],8356:[.686,.031,.869],8364:[.697,.011,.72],8486:[.697,0,.831],8487:[.686,.011,.831],8592:[.5,0,1.15],8593:[.694,.204,.575],8594:[.5,0,1.15],8595:[.704,.194,.575],8599:[.725,0,.894],8600:[.694,.031,.894],8710:[.698,0,1.028],8722:[.281,-.22,.894],8730:[.757,.094,.543,{ic:.064}],8734:[.47,.026,1.15],8738:[.634,.132,.894],8902:[.501,-.001,.575],8994:[.365,-.15,.894],9001:[.751,.25,.447],9002:[.751,.25,.447],9675:[.761,.261,1.277],9702:[.381,-.077,.894],10214:[.751,.249,.463],10215:[.751,.249,.463]},italic:{32:[0,0,.358],33:[.716,0,.307,{ic:.068}],34:[.705,-.423,.401,{ic:.048}],35:[.694,.194,.818,{ic:.01}],36:[.75,.056,.5,{ic:.091}],37:[.75,.056,.818,{ic:.028}],38:[.716,.022,.767,{ic:.037}],39:[.705,-.423,.307,{ic:.048}],40:[.75,.25,.409,{ic:.107}],41:[.75,.25,.409],42:[.75,-.319,.511,{ic:.072}],43:[.557,.057,.767],44:[.106,.193,.307],45:[.243,-.187,.358],46:[.106,0,.307],47:[.75,.25,.511,{ic:.105}],48:[.666,.022,.511,{ic:.044}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.665,.022,.511,{ic:.056}],54:[.666,.022,.511,{ic:.057}],55:[.666,.022,.511,{ic:.114}],56:[.666,.022,.511,{ic:.043}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.193,.307],60:[.54,.04,.778,{ic:.049}],61:[.367,-.133,.767,{ic:.01}],62:[.54,.04,.778],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],92:[.75,.25,.5],93:[.75,.25,.307,{ic:.052}],94:[.745,-.561,.556,{ic:.153}],95:[-.11,.14,.743],96:[.696,-.505,.511],123:[.75,.25,.5,{ic:.113}],124:[.75,.25,.278,{ic:.066}],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.072}],160:[0,0,.511],168:[.649,-.553,.511,{ic:.032}],175:[.616,-.586,.511,{ic:.061}],176:[.683,-.428,.383,{ic:.079}],180:[.696,-.505,.511,{ic:.028}],305:[.442,.011,.322],567:[.442,.205,.384,{sk:.083}],710:[.686,-.509,.511,{ic:.024}],711:[.692,-.515,.511,{ic:.061}],713:[.616,-.586,.511,{ic:.061}],714:[.696,-.505,.511,{ic:.028}],715:[.696,-.505,.511],728:[.686,-.516,.511,{ic:.052}],729:[.654,-.548,.307,{ic:.051}],730:[.705,-.529,.831],732:[.651,-.55,.511,{ic:.057}],767:[-.025,.275,0,{dx:.275}],768:[.696,-.505,0,{dx:.136}],769:[.696,-.505,0,{dx:.077}],770:[.686,-.509,0,{dx:.123}],771:[.651,-.55,0,{dx:.105}],772:[.616,-.586,0,{dx:.105}],773:[.681,-.641,.766,{ic:.062}],774:[.686,-.516,0,{dx:.089}],775:[.654,-.548,0,{dx:.105}],776:[.649,-.553,0,{dx:.096}],778:[.705,-.529,0,{dx:.101}],780:[.692,-.515,0,{dx:.086}],824:[.748,.248,0],978:[.722,0,.778,{ic:.007}],1014:[.442,.011,.43],8192:[0,0,.511],8193:[0,0,1.022],8194:[0,0,.511],8195:[0,0,1.022],8196:[0,0,.341],8197:[0,0,.256],8198:[0,0,.17],8199:[0,0,.511],8200:[0,0,.307],8201:[0,0,.204],8202:[0,0,.026],8203:[0,0,0],8208:[.243,-.187,.358,{ic:.001}],8209:[.243,-.187,.358,{ic:.001}],8210:[.277,-.255,.511,{ic:.04}],8211:[.277,-.255,.511,{ic:.04}],8212:[.277,-.255,1.022,{ic:.014}],8214:[.75,.25,.398,{ic:.066}],8216:[.693,-.394,.307,{ic:.053}],8217:[.694,-.395,.307,{ic:.066}],8220:[.693,-.394,.49,{ic:.053}],8221:[.694,-.395,.49,{ic:.064}],8230:[.106,0,.684],8260:[.683,0,.603,{ic:.093}],8356:[.683,.032,.743,{ic:.003}],8364:[.705,.022,.576,{ic:.126}],8486:[.705,0,.716,{ic:.043}],8487:[.684,.021,.716,{ic:.071}],8592:[.512,.011,.971],8593:[.694,.195,.512,{ic:.07}],8594:[.513,.01,.971],8595:[.695,.194,.512],8710:[.716,0,.833],8722:[.27,-.23,.767],8730:[.735,.104,.46,{ic:.226}],8734:[.456,.025,.92,{ic:.022}],8738:[.557,.057,.767,{ic:.047}],8902:[.483,-.019,.511,{ic:.063}],9001:[.751,.249,.409,{ic:.105}],9002:[.751,.249,.409],9675:[.772,.272,1.073,{ic:.003}],9702:[.379,-.081,.767],10214:[.751,.249,.422,{ic:.138}],10215:[.751,.249,.422,{ic:.052}]},"bold-italic":{32:[0,0,.414],33:[.711,0,.386,{ic:.044}],34:[.703,-.422,.518,{ic:.048}],35:[.694,.194,.944],36:[.75,.056,.575,{ic:.079}],37:[.75,.056,.944,{ic:.002}],38:[.711,.017,.886,{ic:.011}],39:[.703,-.422,.356,{ic:.048}],40:[.75,.249,.473,{ic:.094}],41:[.75,.249,.473],42:[.75,-.306,.591,{ic:.057}],43:[.603,.102,.886],44:[.147,.194,.356],45:[.269,-.175,.414],46:[.147,0,.356],47:[.75,.25,.591,{ic:.09}],48:[.661,.017,.591,{ic:.045}],49:[.661,0,.591],50:[.661,.017,.591,{ic:.027}],51:[.661,.017,.591,{ic:.037}],52:[.661,.194,.591],53:[.661,.017,.591,{ic:.037}],54:[.661,.017,.591,{ic:.037}],55:[.661,.017,.591,{ic:.115}],56:[.661,.017,.591,{ic:.027}],57:[.661,.017,.591,{ic:.03}],58:[.444,0,.356],59:[.444,.194,.356],60:[.587,.086,.894,{ic:.046}],61:[.393,-.108,.886],62:[.587,.086,.894],63:[.711,0,.591,{ic:.023}],64:[.702,.008,.886,{ic:.01}],91:[.75,.25,.356,{ic:.129}],92:[.75,.25,.575],93:[.75,.25,.356,{ic:.036}],94:[.744,-.562,.556,{ic:.151}],95:[-.097,.153,.866],96:[.699,-.502,.591],123:[.75,.25,.575,{ic:.109}],124:[.75,.25,.319,{ic:.059}],125:[.75,.25,.575],126:[.307,-.193,.556,{ic:.071}],160:[0,0,.591],168:[.667,-.535,.591,{ic:.045}],175:[.626,-.576,.591,{ic:.047}],176:[.686,-.392,.443,{ic:.081}],180:[.699,-.502,.591,{ic:.005}],305:[.452,.008,.394,{sk:-.012}],567:[.452,.202,.439,{sk:.063}],710:[.704,-.497,.591,{ic:.012}],711:[.704,-.497,.591,{ic:.052}],713:[.626,-.576,.591,{ic:.047}],714:[.699,-.502,.591,{ic:.005}],715:[.699,-.502,.591],717:[-.247,.307,.383,{ic:.032}],728:[.69,-.511,.591,{ic:.037}],729:[.674,-.527,.356,{ic:.048}],730:[.702,-.534,.949],732:[.66,-.541,.591,{ic:.042}],767:[-.035,.286,0,{dx:.272}],768:[.699,-.502,0,{dx:.188}],769:[.699,-.502,0,{dx:.113}],770:[.704,-.497,0,{dx:.165}],771:[.66,-.541,0,{dx:.145}],772:[.626,-.576,0,{dx:.145}],773:[.708,-.647,.885,{ic:.049}],774:[.69,-.511,0,{dx:.13}],775:[.674,-.527,0,{dx:.144}],776:[.667,-.535,0,{dx:.145}],778:[.702,-.534,0,{dx:.141}],780:[.704,-.497,0,{dx:.124}],824:[.749,.249,0],978:[.697,0,.87,{ic:.103}],1014:[.442,.011,.43,{ic:.04}],8192:[0,0,.591],8193:[0,0,1.182],8194:[0,0,.591],8195:[0,0,1.182],8196:[0,0,.394],8197:[0,0,.296],8198:[0,0,.197],8199:[0,0,.591],8200:[0,0,.355],8201:[0,0,.236],8202:[0,0,.029],8203:[0,0,0],8208:[.269,-.175,.414],8209:[.269,-.175,.414],8210:[.293,-.257,.591,{ic:.036}],8211:[.292,-.256,.591,{ic:.037}],8212:[.292,-.256,1.182,{ic:.006}],8214:[.75,.25,.499,{ic:.059}],8216:[.694,-.353,.356,{ic:.037}],8217:[.694,-.353,.356,{ic:.059}],8220:[.694,-.353,.59,{ic:.038}],8221:[.694,-.353,.59,{ic:.059}],8230:[.147,0,.842],8260:[.696,.01,.713,{ic:.08}],8356:[.686,.031,.866,{ic:.008}],8364:[.703,.017,.664,{ic:.115}],8486:[.703,0,.827,{ic:.031}],8487:[.686,.017,.827,{ic:.056}],8592:[.518,.017,1.121],8593:[.694,.204,.592,{ic:.069}],8594:[.518,.017,1.121],8595:[.704,.194,.592],8710:[.699,0,1.028],8722:[.281,-.22,.886],8730:[.757,.094,.531,{ic:.243}],8734:[.473,.029,1.06,{ic:.044}],8738:[.604,.102,.886,{ic:.035}],8902:[.501,-.001,.591,{ic:.048}],9001:[.75,.25,.473,{ic:.09}],9002:[.751,.25,.473],9675:[.772,.272,1.239],9702:[.386,-.072,.886],10214:[.751,.249,.488,{ic:.129}],10215:[.751,.249,.488,{ic:.037}]},"double-struck":{},fraktur:{},"bold-fraktur":{},"sans-serif":{717:[-.208,.286,.333,{ic:.038}],767:[-.023,.277,0,{dx:.274}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.278],8201:[0,0,.2],8202:[0,0,.028],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778],8600:[.694,.024,.778],8710:[.694,0,.833],8902:[.491,.006,.5,{ic:.023}],8994:[.363,-.133,.778],9675:[.772,.272,1.111]},"bold-sans-serif":{717:[-.253,.389,.367,{ic:.067}],767:[-.025,.319,0,{dx:.294}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856],8600:[.72,.037,.856],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.015}],8994:[.381,-.095,.856],9675:[.772,.272,1.222]},"sans-serif-italic":{717:[-.208,.286,.333],767:[-.023,.277,0,{dx:.272}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,.5],8194:[0,0,.333],8195:[0,0,.25],8196:[0,0,.167],8197:[0,0,.5],8198:[0,0,.278],8199:[0,0,.2],8200:[0,0,.028],8201:[0,0,0],8202:[0,0,0],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778,{ic:.095}],8600:[.694,.025,.778,{ic:.029}],8710:[.694,0,.833],8902:[.515,.008,.5,{ic:.09}],8994:[.364,-.133,.778],9675:[.772,.272,1.111,{ic:.008}]},"sans-serif-bold-italic":{717:[-.253,.389,.367,{ic:.003}],767:[-.025,.319,0,{dx:.327}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856,{ic:.086}],8600:[.72,.037,.856,{ic:.049}],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.076}],8994:[.381,-.095,.856],9675:[.772,.272,1.222,{ic:.046}]},monospace:{717:[-.025,.095,.525,{ic:.035}],767:[-.008,.359,.525],824:[.694,.083,.525],8193:[0,0,.525],8195:[0,0,.525],8199:[0,0,.525],8200:[0,0,.525],8356:[.611,.011,.525],8599:[.619,0,.525,{ic:.035}],8600:[.611,.008,.525,{ic:.035}],8710:[.651,0,.525],8902:[.555,-.057,.525],8994:[.414,-.195,.525],9675:[.705,.233,.525,{ic:.075}],64263:[0,0,.525]},"-smallop":{40:[.797,.297,.422],41:[.797,.297,.422],47:[.905,.405,.617],91:[.8,.3,.34],92:[.905,.405,.617],93:[.8,.3,.34],123:[.801,.301,.54],125:[.801,.301,.54],770:[.746,-.571,.644,{ic:.001}],771:[.751,-.55,.652],773:[.67,-.63,.568],774:[.743,-.578,.658,{ic:.001}],780:[.741,-.566,.644,{ic:.001}],8260:[.905,.405,.617],8400:[.711,-.601,.667],8401:[.711,-.601,.667],8406:[.711,-.521,.659],8407:[.711,-.521,.659],8417:[.711,-.521,.715],8428:[-.171,.281,.667],8429:[-.171,.281,.667],8430:[-.091,.281,.659],8431:[-.091,.281,.659],8725:[.605,.105,.572],8726:[.605,.105,.572],8730:[.85,.35,1,{ic:.02}],8739:[.851,.351,.333],8741:[.851,.351,.555],8968:[.8,.3,.458],8969:[.8,.3,.458],8970:[.8,.3,.458],8971:[.8,.3,.458],9140:[.73,-.546,.735],9141:[-.116,.3,.735],9180:[.745,-.54,1.006],9181:[-.11,.315,1.006],9182:[.815,-.509,.993,{ic:.001}],9183:[-.079,.385,.993],9184:[.853,-.613,1.048,{ic:.006}],9185:[-.183,.423,1.048,{ic:.006}],10214:[.8,.3,.444],10215:[.8,.3,.444],10216:[.8,.3,.428],10217:[.8,.3,.428],10218:[.8,.3,.623],10219:[.8,.3,.623],10222:[.813,.313,.305],10223:[.813,.313,.305],10627:[.801,.301,.54],10628:[.801,.301,.54],10629:[.797,.297,.422],10630:[.797,.297,.422],10748:[.791,.291,.422],10749:[.791,.291,.422],126704:[.72,.017,1.953,{sk:-.102}],126705:[.708,.035,2.524]},"-largeop":{40:[.847,.347,.458],41:[.847,.347,.458],47:[1.108,.608,.768],91:[.85,.35,.417],92:[1.108,.608,.768],93:[.85,.35,.417],123:[.85,.35,.583],125:[.85,.35,.583],770:[.746,-.571,.768,{ic:.001}],771:[.753,-.548,.778],774:[.743,-.578,.784,{ic:.001}],780:[.741,-.566,.768,{ic:.001}],8260:[1.108,.608,.768],8512:[.95,.45,1.353,{sk:.067}],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8725:[.608,.107,.577],8726:[.608,.107,.577],8730:[1.15,.651,1,{ic:.02}],8739:[.971,.471,.333],8741:[.971,.471,.555],8747:[1.361,.861,.669,{ic:.33}],8748:[1.361,.861,1.089,{ic:.33}],8749:[1.361,.861,1.509,{ic:.33}],8750:[1.361,.861,.669,{ic:.33}],8751:[1.361,.861,1.089,{ic:.33}],8752:[1.361,.861,1.509,{ic:.33}],8753:[1.361,.861,.669,{ic:.33}],8754:[1.361,.861,.669,{ic:.33}],8755:[1.361,.861,.669,{ic:.33}],8896:[.958,.456,1.111],8897:[.956,.458,1.111],8898:[.939,.417,1.111],8899:[.917,.439,1.111],8968:[.85,.35,.472],8969:[.85,.35,.472],8970:[.85,.35,.472],8971:[.85,.35,.472],9140:[.735,-.541,1.11],9141:[-.111,.305,1.11],9180:[.761,-.511,1.508],9181:[-.081,.331,1.508],9182:[.818,-.509,1.494],9183:[-.078,.387,1.494],9184:[.854,-.612,1.55,{ic:.006}],9185:[-.182,.424,1.55,{ic:.006}],10145:[.469,-.031,1.423],10197:[.621,.006,.888,{sk:.09}],10198:[.621,.006,.888,{sk:-.07}],10199:[.621,.006,1.03],10214:[.85,.35,.48],10215:[.85,.35,.48],10216:[.85,.35,.472],10217:[.85,.35,.472],10218:[.85,.35,.682],10219:[.85,.35,.682],10222:[.864,.364,.323],10223:[.864,.364,.323],10627:[.85,.35,.583],10628:[.85,.35,.583],10629:[.847,.347,.458],10630:[.847,.347,.458],10744:[1.239,.677,.597,{ic:.053}],10745:[1.239,.677,.5,{ic:.15}],10748:[.842,.342,.422],10749:[.842,.342,.422],10752:[.902,.402,1.511],10753:[.902,.402,1.511],10754:[.902,.402,1.511],10755:[.917,.439,1.111],10756:[.917,.439,1.111],10757:[.936,.436,1.111],10758:[.936,.436,1.111],10759:[1.225,.693,1.945,{sk:.015}],10760:[1.23,.681,1.945],10761:[.88,.38,1.371],10762:[.95,.45,1.474,{sk:-.011}],10763:[1.361,.861,1.056],10764:[1.361,.861,1.929,{ic:.33}],10765:[1.361,.861,.669,{ic:.33}],10766:[1.361,.861,.669,{ic:.33}],10767:[1.361,.861,.669,{ic:.33}],10768:[1.361,.861,.669,{ic:.33}],10769:[1.361,.861,.669,{ic:.33}],10770:[1.361,.861,.669,{ic:.33}],10771:[1.361,.861,.669,{ic:.33}],10772:[1.361,.861,.669,{ic:.33}],10773:[1.361,.861,.669,{ic:.33}],10774:[1.361,.861,.669,{ic:.33}],10775:[1.361,.861,.669,{ic:.33}],10776:[1.361,.861,.669,{ic:.33}],10777:[1.361,.861,.849,{ic:.15}],10778:[1.361,.861,.849,{ic:.15}],10779:[1.602,.861,.763,{ic:.44}],10780:[1.361,1.124,.789,{ic:.33}],10781:[.921,.151,1.291],10782:[.885,.188,1.046,{sk:.083}],10784:[.774,.081,1.52],10785:[.976,.284,.784],11004:[1.237,.677,.694],11007:[1.237,.677,.478]},"-size3":{40:[.972,.472,.523],41:[.972,.472,.523],47:[1.374,.874,.964],91:[.975,.475,.444],92:[1.374,.874,.964],93:[.975,.475,.444],123:[.975,.475,.624],125:[.975,.475,.624],770:[.747,-.571,.919,{ic:.001}],771:[.757,-.543,.931],774:[.743,-.577,.937,{ic:.001}],780:[.741,-.565,.919,{ic:.001}],8260:[1.374,.874,.964],8725:[.61,.109,.581],8726:[.61,.109,.581],8730:[1.45,.951,1,{ic:.02}],8739:[1.117,.617,.333],8741:[1.117,.617,.555],8968:[.975,.475,.499],8969:[.975,.475,.499],8970:[.975,.475,.499],8971:[.975,.475,.499],9140:[.742,-.535,1.485],9141:[-.105,.312,1.485],9180:[.767,-.509,2.012],9181:[-.079,.337,2.012],9182:[.825,-.506,1.996],9183:[-.075,.394,1.996],9184:[.858,-.61,2.056,{ic:.006}],9185:[-.18,.428,2.056,{ic:.006}],10214:[.975,.475,.555],10215:[.975,.475,.555],10216:[.975,.475,.537],10217:[.975,.475,.537],10218:[.975,.475,.781],10219:[.975,.475,.781],10222:[.991,.491,.37],10223:[.991,.491,.37],10627:[.975,.475,.624],10628:[.975,.475,.624],10629:[.972,.472,.523],10630:[.972,.472,.523],10748:[.966,.466,.467],10749:[.966,.466,.467]},"-size4":{40:[1.146,.646,.597],41:[1.146,.646,.597],47:[1.722,1.222,1.222],91:[1.15,.65,.472],92:[1.722,1.222,1.222],93:[1.15,.65,.472],123:[1.15,.65,.667],125:[1.15,.65,.667],770:[.747,-.57,1.1,{ic:.001}],771:[.762,-.539,1.115],774:[.743,-.576,1.12,{ic:.001}],780:[.742,-.565,1.1,{ic:.001}],8260:[1.722,1.222,1.222],8725:[.613,.113,.588],8726:[.613,.113,.588],8730:[1.75,1.25,1,{ic:.02}],8739:[1.292,.792,.333],8741:[1.292,.792,.555],8968:[1.15,.65,.528],8969:[1.15,.65,.528],8970:[1.15,.65,.528],8971:[1.15,.65,.528],9140:[.75,-.527,1.86],9141:[-.097,.32,1.86],9180:[.774,-.506,2.516],9181:[-.076,.344,2.516],9182:[.833,-.502,2.498],9183:[-.071,.402,2.498],9184:[.863,-.607,2.564,{ic:.006}],9185:[-.177,.433,2.564,{ic:.006}],10214:[1.15,.65,.66],10215:[1.15,.65,.66],10216:[1.15,.65,.611],10217:[1.15,.65,.611],10218:[1.15,.65,.905],10219:[1.15,.65,.905],10222:[1.168,.668,.432],10223:[1.168,.668,.432],10627:[1.15,.65,.667],10628:[1.15,.65,.667],10629:[1.146,.646,.597],10630:[1.146,.646,.597],10748:[1.146,.646,.467,{ic:.023}],10749:[1.146,.646,.467,{ic:.023}]},"-size5":{40:[1.296,.796,.663],41:[1.296,.796,.663],47:[2.179,1.679,1.557],91:[1.3,.8,.499],92:[2.179,1.679,1.557],93:[1.3,.8,.499],123:[1.3,.8,.707],125:[1.3,.8,.707],770:[.748,-.569,1.32,{ic:.001}],771:[.766,-.534,1.335],774:[.743,-.575,1.341,{ic:.001}],780:[.743,-.564,1.32,{ic:.001}],8260:[2.179,1.679,1.557],8725:[.616,.115,.593],8726:[.616,.115,.593],8739:[1.502,1.002,.333],8741:[1.501,1.001,.555],8968:[1.3,.8,.555],8969:[1.3,.8,.555],8970:[1.3,.8,.555],8971:[1.3,.8,.555],9140:[.757,-.521,2.235],9141:[-.091,.327,2.235],9180:[.78,-.506,3.02],9181:[-.076,.35,3.02],9182:[.838,-.5,3],9183:[-.07,.408,3],9184:[.866,-.607,3.068,{ic:.006}],9185:[-.177,.436,3.068,{ic:.006}],10214:[1.3,.8,.75],10215:[1.3,.8,.75],10216:[1.3,.8,.677],10217:[1.3,.8,.677],10218:[1.3,.8,1.011],10219:[1.3,.8,1.011],10222:[1.32,.82,.485],10223:[1.32,.82,.485],10627:[1.3,.8,.707],10628:[1.3,.8,.707],10629:[1.296,.796,.663],10630:[1.296,.796,.663],10748:[1.296,.796,.467,{ic:.077}],10749:[1.296,.796,.467,{ic:.077}]},"-size6":{40:[1.446,.946,.736],41:[1.446,.946,.736],47:[2.777,2.277,1.997],91:[1.45,.95,.528],92:[2.777,2.277,1.997],93:[1.45,.95,.528],123:[1.45,.95,.75],125:[1.45,.95,.75],770:[.748,-.57,1.581,{ic:.001}],771:[.769,-.532,1.599],774:[.744,-.574,1.604,{ic:.001}],780:[.742,-.564,1.581,{ic:.001}],8260:[2.777,2.277,1.997],8725:[.619,.119,.6],8726:[.619,.119,.6],8739:[1.752,1.252,.333],8741:[1.751,1.252,.555],8968:[1.45,.95,.583],8969:[1.45,.95,.583],8970:[1.45,.95,.583],8971:[1.45,.95,.583],9140:[.764,-.513,2.61],9141:[-.083,.334,2.61],9180:[.787,-.505,3.524],9181:[-.075,.357,3.524],9182:[.845,-.498,3.502],9183:[-.067,.414,3.502],9184:[.869,-.606,3.574,{ic:.006}],9185:[-.176,.439,3.574,{ic:.006}],10214:[1.45,.95,.838],10215:[1.45,.95,.838],10216:[1.45,.95,.75],10217:[1.45,.95,.75],10218:[1.45,.95,1.124],10219:[1.45,.95,1.124],10222:[1.472,.972,.541],10223:[1.472,.972,.541],10627:[1.45,.95,.75],10628:[1.45,.95,.75],10629:[1.446,.946,.736],10630:[1.446,.946,.736],10748:[1.447,.936,.467,{ic:.131}],10749:[1.447,.936,.467,{ic:.131}]},"-size7":{40:[1.745,1.245,.875],41:[1.745,1.245,.875],47:[3.56,3.06,2.572],91:[1.75,1.25,.667],92:[3.56,3.06,2.572],93:[1.75,1.25,.667],123:[1.75,1.25,.902],125:[1.75,1.25,.902],770:[.749,-.569,1.896],771:[.773,-.527,1.915],774:[.744,-.573,1.92,{ic:.001}],780:[.743,-.563,1.896],8260:[3.56,3.06,2.572],8725:[.623,.122,.607],8726:[.623,.122,.607],8739:[2.052,1.552,.333],8741:[2.053,1.553,.555],8968:[1.75,1.25,.623],8969:[1.75,1.25,.623],8970:[1.75,1.25,.623],8971:[1.75,1.25,.623],9140:[.772,-.504,2.985],9141:[-.074,.342,2.985],9180:[.796,-.502,4.032],9181:[-.072,.366,4.032],9182:[.854,-.493,4.006],9183:[-.062,.423,4.006],9184:[.873,-.605,4.082,{ic:.006}],9185:[-.175,.443,4.082,{ic:.006}],10214:[1.75,1.25,1.007],10215:[1.75,1.25,1.007],10216:[1.75,1.25,.908],10217:[1.75,1.25,.908],10218:[1.75,1.25,1.362],10219:[1.75,1.25,1.362],10222:[1.776,1.276,.647],10223:[1.776,1.276,.647],10627:[1.75,1.25,.902],10628:[1.75,1.25,.902],10629:[1.745,1.245,.875],10630:[1.745,1.245,.875],10748:[1.751,1.251,.467,{ic:.257}],10749:[1.751,1.251,.467,{ic:.592}]},"-tex-mathit":{65:[.716,0,.743],66:[.683,0,.704,{oc:.03}],67:[.705,.022,.716,{oc:.096}],68:[.683,0,.755,{oc:.02}],69:[.68,0,.678,{oc:.069}],70:[.68,0,.653,{oc:.082}],71:[.705,.022,.774,{oc:.038}],72:[.683,0,.743,{oc:.109}],73:[.683,0,.386,{oc:.115}],74:[.683,.022,.525,{oc:.097}],75:[.683,0,.769,{oc:.09}],76:[.683,0,.627],77:[.683,0,.897,{oc:.105}],78:[.683,0,.743,{oc:.109}],79:[.705,.022,.767,{oc:.021}],80:[.683,0,.678,{oc:.052}],81:[.705,.194,.767,{oc:.021}],82:[.683,.022,.729],83:[.705,.022,.562,{oc:.07}],84:[.677,0,.716,{oc:.09}],85:[.683,.022,.743,{oc:.109}],86:[.683,.022,.743,{oc:.125}],87:[.683,.022,.999,{oc:.125}],88:[.683,0,.743,{oc:.082}],89:[.683,0,.743,{oc:.131}],90:[.683,0,.613,{oc:.091}],97:[.442,.011,.511,{oc:.014}],98:[.694,.011,.46],99:[.442,.011,.46,{oc:.01}],100:[.694,.011,.511,{oc:.049}],101:[.442,.011,.46,{oc:.008}],102:[.705,.205,.307,{oc:.145}],103:[.442,.205,.46,{oc:.027}],104:[.694,.011,.511,{oc:.024}],105:[.654,.011,.307,{oc:.051}],106:[.654,.205,.307,{oc:.051}],107:[.694,.011,.46,{oc:.042}],108:[.694,.011,.256,{oc:.05}],109:[.442,.011,.818,{oc:.024}],110:[.442,.011,.562,{oc:.024}],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46,{oc:.037}],114:[.442,.011,.422,{oc:.067}],115:[.442,.011,.409,{oc:.01}],116:[.626,.011,.332,{oc:.041}],117:[.442,.011,.537,{oc:.024}],118:[.442,.011,.46,{oc:.033}],119:[.442,.011,.664,{oc:.033}],120:[.442,.011,.464,{oc:.054}],121:[.442,.205,.486,{oc:.03}],122:[.442,.011,.409,{oc:.055}]},"-tex-calligraphic":{},"-tex-bold-calligraphic":{},"-tex-oldstyle":{48:[.472,.022,.57],49:[.472,0,.404],50:[.472,0,.554],51:[.472,.216,.563],52:[.485,.194,.517],53:[.472,.216,.547],54:[.666,.022,.563],55:[.485,.213,.503],56:[.666,.022,.563],57:[.472,.216,.563]},"-tex-bold-oldstyle":{48:[.461,.011,.654],49:[.461,0,.494],50:[.461,0,.636],51:[.461,.205,.648],52:[.488,.194,.595],53:[.461,.205,.63],54:[.655,.011,.648],55:[.488,.199,.579],56:[.655,.011,.648],57:[.461,.205,.648]},"-tex-variant":{8216:[.549,-.096,.407],8217:[.549,-.096,.407],8218:[.549,-.096,.407],8219:[.549,-.096,.407],8220:[.549,-.096,.647],8221:[.549,-.096,.647],8222:[.549,-.096,.647],8223:[.549,-.096,.647],8242:[.549,-.096,.407],8243:[.549,-.096,.647],8244:[.549,-.096,.887],8245:[.549,-.096,.407],8246:[.549,-.096,.647],8247:[.549,-.096,.887],8279:[.549,-.096,1.127],8463:[.694,.011,.511,{ic:.024}],8592:[.437,-.063,.5],8594:[.437,-.063,.5],8709:[.597,.097,.778],8722:[.27,-.23,.5],8726:[.431,.022,.777],8730:[.75,.25,.833,{ic:.02}],8733:[.472,-.028,.777],8739:[.431,.022,.222],8740:[.431,.022,.222,{ic:.019}],8741:[.431,.022,.388],8742:[.431,.022,.388,{ic:.02}],8764:[.367,-.133,.777],8776:[.483,-.056,.777],8808:[.753,.276,.777],8809:[.753,.276,.777],8816:[.92,.42,.777],8817:[.92,.42,.777],8840:[.828,.328,.777],8841:[.828,.328,.777],8842:[.636,.248,.777],8843:[.636,.248,.777],8902:[.485,-.019,.5],8994:[.378,-.122,.777],8995:[.378,-.142,.777],10887:[.803,.303,.777],10888:[.803,.303,.777],10955:[.753,.325,.777],10956:[.753,.325,.777]},"-lf-tp":{8400:[.711,-.601,.208],8406:[.711,-.521,.205],8429:[-.171,.281,.208],8430:[-.091,.281,.205],8592:[.51,.01,.507],8593:[.505,0,.5],8602:[.51,.01,.386],8606:[.51,.01,.507],8607:[.505,0,.572],8611:[.51,.01,.58],8614:[.51,.011,.499],8615:[.498,0,.632],8618:[.546,-.226,.507],8620:[.55,.05,.507],8636:[.499,-.226,.513],8637:[.273,0,.512],8638:[.513,0,.441],8639:[.513,0,.441],8644:[.432,.172,.515],8645:[.514,0,.896],8646:[.669,-.065,.514],8647:[.75,.25,.507],8648:[.505,0,.992],8651:[.598,-.131,.515],8652:[.369,.098,.514],8653:[.52,.02,.384],8656:[.52,.02,.504],8657:[.504,0,.652],8666:[.617,.117,.506],8693:[.515,0,.896],8730:[.62,0,1.056,{ic:.013}],9140:[.772,-.504,1.493],9141:[-.074,.342,1.493],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.002],9183:[-.062,.294,1.002],9184:[.873,-.605,2.041],9185:[-.175,.443,2.041],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616],11057:[.99,.49,.507]},"-rt-bt":{8401:[.711,-.601,.208],8407:[.711,-.521,.205],8428:[-.171,.281,.208],8431:[-.091,.281,.205],8594:[.51,.01,.507],8595:[.505,0,.5],8603:[.51,.01,.386],8608:[.51,.01,.507],8609:[.505,0,.572],8610:[.51,.01,.58],8612:[.51,.011,.499],8613:[.498,0,.632],8617:[.546,-.226,.507],8619:[.55,.05,.507],8640:[.499,-.226,.513],8641:[.273,0,.513],8642:[.513,0,.441],8643:[.513,0,.441],8644:[.669,-.065,.514],8645:[.515,0,.896],8646:[.432,.172,.515],8649:[.75,.25,.507],8650:[.505,0,.992],8651:[.369,.098,.514],8652:[.598,-.131,.515],8654:[.52,.02,.406],8658:[.52,.02,.504],8659:[.504,0,.652],8667:[.617,.117,.506],8693:[.514,0,.896],8694:[.99,.49,.507],9140:[.772,-.504,1.492],9141:[-.074,.342,1.492],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.001],9183:[-.062,.294,1.001],9184:[.873,-.605,2.041,{ic:.006}],9185:[-.175,.443,2.041,{ic:.006}],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616]},"-ex-md":{95:[-.188,.294,.994],123:[.748,0,.902],175:[.724,-.618,.994],773:[.67,-.63,.19],8400:[.631,-.601,.139],8592:[.274,-.226,.337],8593:[.337,0,.5],8602:[.51,.01,.386],8617:[.274,-.226,.337],8636:[.273,-.226,.341],8638:[.341,0,.441],8639:[.341,0,.441],8644:[.432,-.065,.343],8645:[.343,0,.896],8647:[.512,.012,.337],8648:[.337,0,.992],8651:[.369,-.131,.343],8653:[.52,.02,.384],8654:[.369,-.131,.102],8656:[.369,-.131,.336],8657:[.336,0,.652],8666:[.466,-.034,.337],8694:[.751,.251,.337],8730:[.64,0,1.056],9140:[.772,-.706,.995],9141:[-.276,.342,.995],9180:[.796,-.689,.994],9181:[-.259,.366,.994],9182:[.85,-.618,2.003],9183:[-.188,.419,2.003],9184:[.873,-.766,1.36],9185:[-.336,.443,1.36],10214:[1,0,1.007],10215:[1,0,1.007],10222:[.998,0,.647],10223:[.998,0,.647],10572:[.337,0,.616]},"-bbold":{8450:[.705,.022,.722,{sk:.042}],8461:[.683,0,.833,{sk:.052}],8469:[.683,0,.833],8473:[.683,0,.736],8474:[.705,.194,.778],8477:[.683,.022,.792],8484:[.683,0,.75,{sk:.021}],8508:[.431,.011,.687,{sk:.085}],8509:[.442,.215,.518,{ic:.025,sk:.098}],8510:[.68,0,.737,{sk:.026}],8511:[.68,0,.862,{sk:.056}],8512:[.683,0,.839,{sk:.048}],8517:[.683,0,.794,{ic:.023,sk:.115}],8518:[.694,.011,.673,{ic:.042,sk:.245}],8519:[.448,.011,.444,{ic:.03,sk:.082}],8520:[.691,0,.395,{ic:.028,sk:.119}],8521:[.691,.205,.423,{ic:.038,sk:.12}],120120:[.683,0,.863,{sk:-.025}],120121:[.683,0,.764],120123:[.683,0,.794,{sk:-.043}],120124:[.68,0,.736,{sk:.03}],120125:[.68,0,.709,{sk:.013}],120126:[.705,.022,.785],120128:[.683,0,.467,{sk:.015}],120129:[.683,.022,.597,{sk:.065}],120130:[.683,0,.833,{sk:.022}],120131:[.683,0,.68,{sk:-.08}],120132:[.684,0,1,{sk:.051}],120134:[.705,.022,.778],120138:[.705,.022,.556,{sk:-.018}],120139:[.677,0,.754,{sk:.023}],120140:[.683,.022,.806,{sk:.045}],120141:[.683,.008,.804,{sk:.059}],120142:[.683,.022,1.058,{sk:.015}],120143:[.683,0,.866,{sk:.043}],120144:[.683,0,.868,{sk:.057}],120146:[.448,.011,.614,{sk:-.013}],120147:[.694,.011,.673,{sk:-.126}],120148:[.448,.011,.444,{sk:.026}],120149:[.694,.011,.673,{sk:.152}],120150:[.448,.011,.444,{sk:.014}],120151:[.705,0,.423,{ic:.051,sk:-.028}],120152:[.453,.206,.5,{sk:-.026}],120153:[.694,0,.676,{sk:-.117}],120154:[.691,0,.395],120155:[.691,.205,.423,{sk:.015}],120156:[.694,0,.648,{sk:-.109}],120157:[.694,0,.394,{sk:.018}],120158:[.442,0,.95,{sk:-.037}],120159:[.442,0,.673],120160:[.448,.011,.5],120161:[.442,.194,.673],120162:[.442,.194,.645,{sk:.019}],120163:[.442,0,.509,{sk:-.051}],120164:[.448,.011,.394],120165:[.615,.011,.506,{sk:-.037}],120166:[.442,.011,.673,{sk:.024}],120167:[.431,.011,.635,{sk:.053}],120168:[.431,.011,.635,{ic:.155,sk:.012}],120169:[.431,0,.645,{sk:.049}],120170:[.431,.205,.635,{sk:.05}],120171:[.431,0,.561,{sk:.046}],120792:[.666,.022,.5],120793:[.666,0,.624,{sk:.025}],120794:[.666,0,.5],120795:[.666,.022,.5],120796:[.677,0,.627,{sk:.11}],120797:[.666,.022,.5,{sk:.011}],120798:[.666,.022,.5,{sk:.013}],120799:[.676,.022,.55,{sk:.038}],120800:[.666,.022,.5],120801:[.666,.022,.5]},"-upsmall":{8747:[.805,.306,.665],8748:[.805,.306,1.035],8749:[.805,.306,1.405],8750:[.81,.312,.665],8751:[.805,.306,1.035],8752:[.805,.306,1.405],8753:[.805,.306,.695],8754:[.805,.306,.665],8755:[.805,.306,.665],10764:[.805,.306,1.775],10765:[.805,.306,.665],10766:[.805,.306,.665],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.665],10779:[.967,.306,.665,{ic:.002}],10780:[.805,.468,.665],58230:[.805,.306,.665],58231:[.805,.306,.665],58261:[.805,.306,.665],58263:[.805,.306,.665],58264:[.805,.306,.665],58265:[.805,.306,.665],58266:[.805,.306,.665,{ic:.085}],58267:[.798,.299,.695],58323:[.805,.306,.665],59991:[.805,.306,.707]},"-uplarge":{8747:[1.361,.861,.763],8748:[1.361,.861,1.175],8749:[1.361,.861,1.623],8750:[1.363,.861,.899],8751:[1.361,.861,1.295],8752:[1.361,.861,1.699],8753:[1.361,.861,.999],8754:[1.361,.861,.999],8755:[1.361,.861,.999],10763:[1.361,.861,1.056],10764:[1.361,.861,2.019],10765:[1.361,.861,.999],10766:[1.361,.861,.999],10767:[1.361,.861,.999],10768:[1.361,.861,.999],10769:[1.361,.861,.999],10770:[1.361,.861,.895],10771:[1.361,.861,.871],10772:[1.361,.861,.831,{ic:.077}],10773:[1.361,.861,.903],10774:[1.361,.861,.883],10775:[1.361,.861,.967],10776:[1.361,.861,.875],10777:[1.361,.861,.955],10778:[1.361,.861,.967],10779:[1.602,.861,.999],10780:[1.361,1.124,.807]},script:{},"bold-script":{}},Oi.defaultStyles=Object.assign(Object.assign({},mi.defaultStyles),{'mjx-container[jax="CHTML"] > mjx-math.NCM-N[breakable] > *':{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-N":{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-B":{"font-family":"MJX-NCM-ZERO, MJX-NCM-B"},".NCM-I":{"font-family":"MJX-NCM-ZERO, MJX-NCM-I"},".NCM-BI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-BI"},".NCM-DS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-DS"},".NCM-F":{"font-family":"MJX-NCM-ZERO, MJX-NCM-F"},".NCM-FB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-FB"},".NCM-SS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SS"},".NCM-SSB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSB"},".NCM-SSI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSI"},".NCM-SSBI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSBI"},".NCM-M":{"font-family":"MJX-NCM-ZERO, MJX-NCM-M"},".NCM-SO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SO"},".NCM-LO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LO"},".NCM-S3":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S3"},".NCM-S4":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S4"},".NCM-S5":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S5"},".NCM-S6":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S6"},".NCM-S7":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S7"},".NCM-MI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-MI"},".NCM-C":{"font-family":"MJX-NCM-ZERO, MJX-NCM-C"},".NCM-CB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-CB"},".NCM-OS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OS"},".NCM-OB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OB"},".NCM-V":{"font-family":"MJX-NCM-ZERO, MJX-NCM-V"},".NCM-LT":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LT"},".NCM-RB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-RB"},".NCM-EM":{"font-family":"MJX-NCM-ZERO, MJX-NCM-EM"},".NCM-Be":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Be"},".NCM-U":{"font-family":"MJX-NCM-ZERO, MJX-NCM-U"},".NCM-Ue":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Ue"},".NCM-S":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S"},".NCM-SB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SB"}}),Oi.defaultFonts=Object.assign(Object.assign({},mi.defaultFonts),{"@font-face /* MJX-NCM-ZERO */":{"font-family":"MJX-NCM-ZERO",src:'url("%%URL%%/mjx-ncm-zero.woff2") format("woff2")'},"@font-face /* MJX-BRK */":{"font-family":"MJX-BRK",src:'url("%%URL%%/mjx-ncm-brk.woff2") format("woff2")'},"@font-face /* MJX-NCM-N */":{"font-family":"MJX-NCM-N",src:'url("%%URL%%/mjx-ncm-n.woff2") format("woff2")'},"@font-face /* MJX-NCM-B */":{"font-family":"MJX-NCM-B",src:'url("%%URL%%/mjx-ncm-b.woff2") format("woff2")'},"@font-face /* MJX-NCM-I */":{"font-family":"MJX-NCM-I",src:'url("%%URL%%/mjx-ncm-i.woff2") format("woff2")'},"@font-face /* MJX-NCM-BI */":{"font-family":"MJX-NCM-BI",src:'url("%%URL%%/mjx-ncm-bi.woff2") format("woff2")'},"@font-face /* MJX-NCM-DS */":{"font-family":"MJX-NCM-DS",src:'url("%%URL%%/mjx-ncm-ds.woff2") format("woff2")'},"@font-face /* MJX-NCM-F */":{"font-family":"MJX-NCM-F",src:'url("%%URL%%/mjx-ncm-f.woff2") format("woff2")'},"@font-face /* MJX-NCM-FB */":{"font-family":"MJX-NCM-FB",src:'url("%%URL%%/mjx-ncm-fb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SS */":{"font-family":"MJX-NCM-SS",src:'url("%%URL%%/mjx-ncm-ss.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSB */":{"font-family":"MJX-NCM-SSB",src:'url("%%URL%%/mjx-ncm-ssb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSI */":{"font-family":"MJX-NCM-SSI",src:'url("%%URL%%/mjx-ncm-ssi.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSBI */":{"font-family":"MJX-NCM-SSBI",src:'url("%%URL%%/mjx-ncm-ssbi.woff2") format("woff2")'},"@font-face /* MJX-NCM-M */":{"font-family":"MJX-NCM-M",src:'url("%%URL%%/mjx-ncm-m.woff2") format("woff2")'},"@font-face /* MJX-NCM-SO */":{"font-family":"MJX-NCM-SO",src:'url("%%URL%%/mjx-ncm-so.woff2") format("woff2")'},"@font-face /* MJX-NCM-LO */":{"font-family":"MJX-NCM-LO",src:'url("%%URL%%/mjx-ncm-lo.woff2") format("woff2")'},"@font-face /* MJX-NCM-S3 */":{"font-family":"MJX-NCM-S3",src:'url("%%URL%%/mjx-ncm-s3.woff2") format("woff2")'},"@font-face /* MJX-NCM-S4 */":{"font-family":"MJX-NCM-S4",src:'url("%%URL%%/mjx-ncm-s4.woff2") format("woff2")'},"@font-face /* MJX-NCM-S5 */":{"font-family":"MJX-NCM-S5",src:'url("%%URL%%/mjx-ncm-s5.woff2") format("woff2")'},"@font-face /* MJX-NCM-S6 */":{"font-family":"MJX-NCM-S6",src:'url("%%URL%%/mjx-ncm-s6.woff2") format("woff2")'},"@font-face /* MJX-NCM-S7 */":{"font-family":"MJX-NCM-S7",src:'url("%%URL%%/mjx-ncm-s7.woff2") format("woff2")'},"@font-face /* MJX-NCM-MI */":{"font-family":"MJX-NCM-MI",src:'url("%%URL%%/mjx-ncm-mi.woff2") format("woff2")'},"@font-face /* MJX-NCM-C */":{"font-family":"MJX-NCM-C",src:'url("%%URL%%/mjx-ncm-c.woff2") format("woff2")'},"@font-face /* MJX-NCM-CB */":{"font-family":"MJX-NCM-CB",src:'url("%%URL%%/mjx-ncm-cb.woff2") format("woff2")'},"@font-face /* MJX-NCM-OS */":{"font-family":"MJX-NCM-OS",src:'url("%%URL%%/mjx-ncm-os.woff2") format("woff2")'},"@font-face /* MJX-NCM-OB */":{"font-family":"MJX-NCM-OB",src:'url("%%URL%%/mjx-ncm-ob.woff2") format("woff2")'},"@font-face /* MJX-NCM-V */":{"font-family":"MJX-NCM-V",src:'url("%%URL%%/mjx-ncm-v.woff2") format("woff2")'},"@font-face /* MJX-NCM-LT */":{"font-family":"MJX-NCM-LT",src:'url("%%URL%%/mjx-ncm-lt.woff2") format("woff2")'},"@font-face /* MJX-NCM-RB */":{"font-family":"MJX-NCM-RB",src:'url("%%URL%%/mjx-ncm-rb.woff2") format("woff2")'},"@font-face /* MJX-NCM-EM */":{"font-family":"MJX-NCM-EM",src:'url("%%URL%%/mjx-ncm-em.woff2") format("woff2")'},"@font-face /* MJX-NCM-Be */":{"font-family":"MJX-NCM-Be",src:'url("%%URL%%/mjx-ncm-be.woff2") format("woff2")'},"@font-face /* MJX-NCM-U */":{"font-family":"MJX-NCM-U",src:'url("%%URL%%/mjx-ncm-u.woff2") format("woff2")'},"@font-face /* MJX-NCM-Ue */":{"font-family":"MJX-NCM-Ue",src:'url("%%URL%%/mjx-ncm-ue.woff2") format("woff2")'},"@font-face /* MJX-NCM-S */":{"font-family":"MJX-NCM-S",src:'url("%%URL%%/mjx-ncm-s.woff2") format("woff2")'},"@font-face /* MJX-NCM-SB */":{"font-family":"MJX-NCM-SB",src:'url("%%URL%%/mjx-ncm-sb.woff2") format("woff2")'}}),Oi.dynamicFiles=mi.defineDynamicFiles([["latin",{normal:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7835],7838,[7840,7929],11377]}],["latin-b",{bold:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["latin-i",{italic:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["latin-bi",{"bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["double-struck",{normal:[8450,8461,8469,8473,8474,8477,8484,[8508,8512],[8517,8521],120120,120121,[120123,120126],[120128,120132],120134,[120138,120144],[120146,120171],[120792,120801]],"double-struck":[305,567]}],["fraktur",{normal:[8460,8465,8476,8488,8493,120068,120069,[120071,120074],[120077,120084],[120086,120092],[120094,120119],[120172,120223]],fraktur:[305,567],"bold-fraktur":[305,567]}],["script",{normal:[8458,8459,8464,8466,8467,8472,8475,8492,[8495,8497],8499,8500,119964,119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120067]],script:[],"bold-script":[]}],["sans-serif",{normal:[[8513,8516],[120224,120431],[120662,120777],[120802,120821]],"sans-serif":[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"bold-sans-serif":[32,33,[35,47],58,59,61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-italic":[[32,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-bold-italic":[32,33,[35,59],61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["sans-serif-r",{"sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-b",{"bold-sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-i",{"sans-serif-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-bi",{"sans-serif-bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-ex",{"sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59959,59962,59966,59970,59973,60163,60164,60168,60175,60177,60178,60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"bold-sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-bold-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126]}],["monospace",{normal:[[120432,120483],[120822,120831]],monospace:[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["monospace-l",{monospace:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["monospace-ex",{monospace:[161,162,164,166,[169,171],173,174,184,[186,191],[592,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,995],1010,1011,[1015,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309],3647,7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575,7620,7621,7624,7625,[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,[9552,9579],9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64262],65126]}],["calligraphic",{"-tex-calligraphic":[[65,90]],"-tex-bold-calligraphic":[[65,90]]}],["math",{normal:[8714,8717,8731,8732,8762,8763,8782,8783,[8785,8787],[8790,8796],8798,8844,[8886,8889],[8891,8895],8903,[8912,8929],[8932,8937],[8946,8959],[10176,10199],[10202,10204],[10207,10213],[10625,10646],[10649,10740],10742,[10746,10751],10762,10763,[10781,10798],[10800,10814],[10816,10876],[10879,10884],[10893,10900],[10903,10926],[10939,10948],[10951,10954],[10957,10973],[10988,10993],[10998,11003],[11005,11007]]}],["symbols",{normal:[127,161,162,164,166,[169,171],173,174,178,179,[185,191],3647,8204,8205,8215,8218,8219,8222,8223,[8226,8229],8233,8240,8241,[8248,8259],[8261,8278],[8280,8286],8319,8320,8353,8358,[8361,8363],8369,8370,8448,8449,[8451,8454],8456,8457,8468,8470,8471,[8478,8483],8485,8489,8494,[8505,8507],[8522,8527],[8960,8966],[8977,8984],8986,8987,[8996,9e3],[9003,9114],9142,[9146,9165],9167,[9169,9179],[9186,9203],[9208,9215],9250,9251,11159,11193,11209,[11216,11241],[11248,11263],11800,12306,12310,12311,12336,[64256,64262],65126,65279]},[8215]],["symbols-b-i",{bold:[161,162,164,166,[169,171],173,174,[186,191],3647,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],italic:[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],"bold-italic":[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126]}],["greek",{normal:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],bold:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,987],[990,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],italic:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],"bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]]}],["greek-ss",{"sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"bold-sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]]}],["cyrillic",{normal:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],bold:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],italic:[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-italic":[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["cyrillic-ss",{"sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-bold-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["phonetics",{normal:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],bold:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],italic:[[592,685],687],"bold-italic":[[592,687]]}],["phonetics-ss",{"sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"bold-sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-bold-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575]}],["hebrew",{normal:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],bold:[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]],italic:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],"bold-italic":[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]]}],["devanagari",{normal:[[2304,2431]],bold:[],italic:[],"bold-italic":[]}],["cherokee",{normal:[[5024,5109],[5112,5117]],bold:[[5024,5109],[5112,5117]],italic:[[5024,5115]],"bold-italic":[[5024,5115]]}],["arabic",{normal:[[126464,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],126704,126705],bold:[],italic:[],"bold-italic":[]}],["braille-d",{normal:[[10240,10495]]}],["braille",{"sans-serif":[[10240,10495]]}],["arrows",{normal:[8604,8605,8607,8609,8613,8615,8616,8621,[8623,8629],8632,8633,[8662,8665],[8668,8671],[8678,8692],[8695,8703],9166,10145,[10224,10228],10239,[10496,10505],[10508,10569],10572,10573,10575,10577,10580,10581,10584,10585,10588,10589,[10592,10601],[10608,10619],[11008,11026],[11056,11087],[11098,11123],[11126,11157],[11160,11192],[11244,11247]],"-largeop":[8593,8595,[8597,8603],[8606,8611],8613,8615,[8617,8622],[8624,8627],8630,8631,[8636,8655],8657,8659,[8661,8667],[8678,8681],8691,8693,8694,[11012,11015],11020,11021,11057],"-lf-tp":[[8678,8681],10503,11013,11014],"-rt-bt":[[8678,8681],10502,11015,11020],"-ex-md":[8678,8679,11013,11014]},[8607,8609,8613,8615,8621,8622,[8624,8627],[8662,8665],8668,8669,[8678,8681],8691,10145,10237,10238,10502,10503,10572,10573,10575,10577,10588,10589,10592,10593,[11012,11015],11020,11021,11057]],["marrows",{normal:[[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],129200,129201]}],["accents",{normal:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],7620,7621,7624,7625,[8403,8405],8408,[8413,8415],[8420,8427],8432],"-smallop":[785,[812,816],818,819,831,845],"-largeop":[785,[812,816]],"-size3":[785,[812,816]],"-size4":[785,[812,816]],"-size5":[785,[812,816]],"-size6":[785,[812,816]],"-size7":[785,[812,816]],"-ex-md":[818,819,831,845]},[785,[812,816],818,819,831,845,8425]],["accents-b-i",{bold:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],7620,7621,7624,7625],italic:[184,[688,700],[702,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]],"bold-italic":[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]]}],["shapes",{normal:[8962,[8998,9e3],9003,[9211,9214],[9472,9631],[9634,9641],[9644,9649],9672,9673,[9676,9678],[9680,9701],[9703,9710],[9712,9719],9728,9733,9734,9737,9761,9773,[9785,9790],9792,9794,[9824,9831],[9833,9835],[9837,9839],9854,[9856,9865],9893,[9898,9902],9906,10003,10013,10016,10026,10038,10045,10098,10099,10139,10145,[11026,11055],[11088,11097],[11194,11208],[11210,11215],11242,11243],bold:[9474,9553,9773,9792,9834,9901,9902,9906,10013],italic:[9773,9834,9901,9902,10013],"bold-italic":[9773,9834,9901,9902,10013]}],["mshapes",{normal:[[128896,128984],[128992,129003]]}],["variants",{"-tex-variant":[34,39,42,96,126,170,176,178,179,185,186,8212,8289,8304,8305,[8308,8334]]}],["PUA",{normal:[[57344,57395],[57409,57458],[59264,59274],59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],bold:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],italic:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198],"bold-italic":[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198]}]]);const P2={fontName:"mathjax-newcm",DefaultFont:Oi},Hh=P2.fontName,Wh=P2.DefaultFont;class fr extends Hr{constructor(e={}){super(e,qh,Wh),this.chtmlStyles=null,this.font.adaptiveCSS(this.options.adaptiveCSS),this.wrapperUsage=new Zo}addExtension(e,t=""){const s=super.addExtension(e,t);return s.length&&this.options.adaptiveCSS&&this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,s),[]}escaped(e,t){return this.setDocument(t),this.html("span",{},[this.text(e.math)])}styleSheet(e){if(this.chtmlStyles){const s=new lr;return this.options.adaptiveCSS&&(this.addWrapperStyles(s),this.updateFontStyles(s)),s.addStyles(this.font.updateDynamicStyles()),this.adaptor.insertRules(this.chtmlStyles,s.getStyleRules()),this.chtmlStyles}const t=this.chtmlStyles=super.styleSheet(e);return this.adaptor.setAttribute(t,"id",fr.STYLESHEETID),this.wrapperUsage.update(),t}updateFontStyles(e){e.addStyles(this.font.updateStyles({}))}addWrapperStyles(e){if(this.options.adaptiveCSS)for(const t of this.wrapperUsage.update()){const s=this.factory.getNodeClass(t);s&&this.addClassStyles(s,e)}else super.addWrapperStyles(e)}addClassStyles(e,t){const s=e;s.autoStyle&&s.kind!=="unknown"&&t.addStyles({["mjx-"+s.kind]:{display:"inline-block","text-align":"left"}}),this.wrapperUsage.add(s.kind),super.addClassStyles(e,t)}insertStyles(e){this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,new lr(e).getStyleRules())}processMath(e,t){e.toCHTML([t])}clearCache(){this.styleJson.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null}reset(){this.clearCache()}unknownText(e,t,s=null){const r={},n=100/this.math.metrics.scale;if(n!==100&&(r["font-size"]=this.fixed(n,1)+"%",r.padding=Qe(75/n)+" 0 "+Qe(20/n)+" 0"),t!=="-explicitFont"){const a=ca(e);(a.length!==1||a[0]<119808||a[0]>120831)&&this.cssFontStyles(this.font.getCssFont(t),r)}return s!==null&&(r.width=this.fixed(s*this.math.metrics.scale)+"em"),this.html("mjx-utext",{variant:t,style:r},[this.text(e)])}measureTextNode(e){const t=this.adaptor,s=t.clone(e);t.setStyle(s,"font-family",t.getStyle(s,"font-family").replace(/MJXZERO, /g,""));const r=this.math.metrics.em,n={position:"absolute",top:0,left:0,"white-space":"nowrap","font-size":this.fixed(r,3)+"px"},a=this.html("mjx-measure-text",{style:n},[s]);t.append(t.parent(this.math.start.node),this.container),t.append(this.container,a);const o=t.nodeSize(s,r)[0];return t.remove(this.container),t.remove(a),{w:o,h:.75,d:.2}}}function qm(i,e){const t={};for(const s of Object.keys(i)){const r=i[s];for(const n of Object.keys(r)){t[n]||(t[n]={});const a=r[n];if(s)for(const o of Object.keys(a)){const l=a[parseInt(o)];l[3]||(l[3]={}),e?l[3].ff=e+"-"+s:l[3].f=s}Object.assign(t[n],a)}}return t}fr.NAME="CHTML",fr.OPTIONS=Object.assign(Object.assign({},Hr.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),fr.commonStyles=Object.assign(Object.assign({},Hr.commonStyles),{'mjx-container[jax="CHTML"]':{"white-space":"nowrap"},[["mjx-mo > mjx-c","mjx-mi > mjx-c","mjx-mn > mjx-c","mjx-ms > mjx-c","mjx-mtext > mjx-c"].join(", ")]:{"clip-path":"padding-box xywh(-1em -2px calc(100% + 2em) calc(100% + 4px))"},"mjx-stretchy-h":{"clip-path":"padding-box xywh(0 -2px 100% calc(100% + 4px))"},"mjx-stretchy-v":{"clip-path":"padding-box xywh(-2px 0 calc(100% + 4px) 100%)"},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-container [inline-breaks]":{display:"inline"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"}}),fr.STYLESHEETID="MJX-CHTML-styles",MathJax.loader&&MathJax.loader.checkVersion("output/chtml",Zs,"output"),Us({_:{output:{chtml_ts:Tl,chtml:{DefaultFont:Cl,DynamicFonts:wl,FontData:A,Notation:Bc,Usage:C,Wrapper:Wi,WrapperFactory:vl,Wrappers_ts:Nl,Wrappers:{HtmlNode:yl,TeXAtom:bl,TextNode:xl,maction:ul,math:Qs,menclose:Fc,mfenced:Hc,mfrac:zc,mglyph:dl,mi:p,mmultiscripts:sl,mn:ie,mo:S,mpadded:Oc,mroot:Jc,mrow:Uc,ms:_t,mspace:Ti,msqrt:Vc,msubsup:Qc,mtable:rl,mtd:cl,mtext:Es,mtr:al,munderover:el,scriptbase:Yc,semantics:fl}},common_ts:Ts,common:{Direction:Ar,FontData:an,LineBBox:on,LinebreakVisitor:cn,Notation:Dc,Wrapper:Lr,WrapperFactory:Qn,Wrappers:{TeXAtom:gl,TextNode:El,XmlNode:ml,maction:ll,math:zi,menclose:Pc,mfenced:qc,mfrac:Wc,mglyph:hl,mi:u,mmultiscripts:tl,mn:ue,mo:f,mpadded:_c,mroot:Gc,mrow:jc,ms:it,mspace:ln,msqrt:Xc,msubsup:Kc,mtable:il,mtd:ol,mtext:Zt,mtr:nl,munderover:Zc,scriptbase:$c,semantics:pl}}}}});const Hm=Vi?"https://cdn.jsdelivr.net/npm/@mathjax/%%FONT%%-font":"@mathjax/%%FONT%%-font",B2={config(i,e,t,s){var r;if(MathJax.loader){Xs(MathJax.config,i,MathJax.config.output||{});let n=MathJax.config[i],a=n.font||n.fontData||t;if(typeof a!="string"&&(n.fontData=a,n.font=a=a.NAME),a.charAt(0)!=="["){const l=n.fontPath||Hm,h=a.match(/^[a-z]+:/)?(a.match(/[^/:\\]*$/)||[i])[0]:a;Xs(MathJax.config.loader,"paths",{[h]:h===a?l.replace(/%%FONT%%/g,a):a}),a=`[${h}]`}const o=a.substring(1,a.length-1);if(o===t&&s){const l=(r=MathJax.config.loader[`${a}/${i}`])==null?void 0:r.extraLoads;l&&MathJax.loader.addPackageData(`output/${i}`,{extraLoads:l}),Us({_:{output:{fonts:{[o]:{[i+"_ts"]:{[s.NAME+"Font"]:s}}}}}}),Xs(MathJax,"config",{output:{font:a},[i]:{fontData:s,dynamicPrefix:`${a}/${i}/dynamic`}}),i==="chtml"&&Xs(MathJax.config,i,{fontURL:Mt.resolvePath(`${a}/${i}/woff2`,!1)})}else MathJax.loader.addPackageData(`output/${i}`,{extraLoads:[`${a}/${i}`]})}MathJax.startup&&(MathJax.startup.registerConstructor(i,e),MathJax.startup.useOutput(i))},loadFont:(i,e,t,s)=>MathJax.loader?(s&&MathJax.loader.preLoaded(`[${t}]/${e}`),Mt.loadPromise(`output/${e}`).then(i)):i};var Ss;B2.config("chtml",fr,Hh,Wh),(function(i){i[i.RETURN=13]="RETURN",i[i.ESCAPE=27]="ESCAPE",i[i.SPACE=32]="SPACE",i[i.LEFT=37]="LEFT",i[i.UP=38]="UP",i[i.RIGHT=39]="RIGHT",i[i.DOWN=40]="DOWN"})(Ss||(Ss={}));const Wm="click",zm="dblclick",Xm="mousedown",Vm="mouseup",Gm="mouseover",Jm="mouseout",Km="selectstart";class $m{constructor(){this.bubble=!1}bubbleKey(){this.bubble=!0}keydown(e){switch(e.keyCode){case Ss.ESCAPE:this.escape(e);break;case Ss.RIGHT:this.right(e);break;case Ss.LEFT:this.left(e);break;case Ss.UP:this.up(e);break;case Ss.DOWN:this.down(e);break;case Ss.RETURN:case Ss.SPACE:this.space(e);break;default:return}this.bubble?this.bubble=!1:this.stop(e)}escape(e){}space(e){}left(e){}right(e){}up(e){}down(e){}stop(e){e&&(e.stopPropagation(),e.preventDefault(),e.cancelBubble=!0)}mousedown(e){return this.stop(e)}mouseup(e){return this.stop(e)}mouseover(e){return this.stop(e)}mouseout(e){return this.stop(e)}click(e){return this.stop(e)}addEvents(e){e.addEventListener(Xm,this.mousedown.bind(this)),e.addEventListener(Vm,this.mouseup.bind(this)),e.addEventListener(Gm,this.mouseover.bind(this)),e.addEventListener(Jm,this.mouseout.bind(this)),e.addEventListener(Wm,this.click.bind(this)),e.addEventListener("keydown",this.keydown.bind(this)),e.addEventListener("dragstart",this.stop.bind(this)),e.addEventListener(Km,this.stop.bind(this)),e.addEventListener("contextmenu",this.stop.bind(this)),e.addEventListener(zm,this.stop.bind(this))}}class F2 extends $m{addAttributes(e){for(const t in e)this.html.setAttribute(t,e[t])}get html(){return this._html||this.generateHtml(),this._html}set html(e){this._html=e,this.addEvents(e)}generateHtml(){const e=document.createElement("div");e.classList.add(this.className),e.setAttribute("role",this.role),this.html=e}focus(){const e=this.html;e.setAttribute("tabindex","0"),e.focus()}unfocus(){const e=this.html;e.hasAttribute("tabindex")&&e.setAttribute("tabindex","-1");try{e.blur()}catch(t){}e.blur()}}class zh extends F2{constructor(){super(...arguments),this.posted=!1}isPosted(){return this.posted}post(e,t){this.posted||(e!==void 0&&t!==void 0&&this.html.setAttribute("style","left: "+e+"px; top: "+t+"px;"),this.display(),this.posted=!0)}unpost(){if(!this.posted)return;const e=this.html;e.parentNode&&e.parentNode.removeChild(e),this.posted=!1}}function j2(i){return"CtxtMenu_"+i}function lt(i){return j2(i)}function Ka(i){return j2(i)}const Ye={ATTACHED:lt("Attached"),CONTEXTMENU:lt("ContextMenu"),MENU:lt("Menu"),MENUARROW:lt("MenuArrow"),MENUACTIVE:lt("MenuActive"),MENUCHECK:lt("MenuCheck"),MENUCLOSE:lt("MenuClose"),MENUCOMBOBOX:lt("MenuComboBox"),MENUDISABLED:lt("MenuDisabled"),MENUFRAME:lt("MenuFrame"),MENUITEM:lt("MenuItem"),MENULABEL:lt("MenuLabel"),MENURADIOCHECK:lt("MenuRadioCheck"),MENUINPUTBOX:lt("MenuInputBox"),MENURULE:lt("MenuRule"),MENUSLIDER:lt("MenuSlider"),MOUSEPOST:lt("MousePost"),RTL:lt("RTL"),INFO:lt("Info"),INFOCLOSE:lt("InfoClose"),INFOCONTENT:lt("InfoContent"),INFOSIGNATURE:lt("InfoSignature"),INFOTITLE:lt("InfoTitle"),SLIDERVALUE:lt("SliderValue"),SLIDERBAR:lt("SliderBar"),SELECTION:lt("Selection"),SELECTIONBOX:lt("SelectionBox"),SELECTIONMENU:lt("SelectionMenu"),SELECTIONDIVIDER:lt("SelectionDivider"),SELECTIONITEM:lt("SelectionItem")},fi={COUNTER:Ka("Counter"),KEYDOWNFUNC:Ka("keydownFunc"),CONTEXTMENUFUNC:Ka("contextmenuFunc"),OLDTAB:Ka("Oldtabindex"),TOUCHFUNC:Ka("TouchFunc")};class U2 extends F2{constructor(e,t){super(),this._menu=e,this._type=t,this.className=Ye.MENUITEM,this.role="menuitem",this.hidden=!1}get menu(){return this._menu}set menu(e){this._menu=e}get type(){return this._type}hide(){this.hidden=!0,this.menu.generateMenu()}show(){this.hidden=!1,this.menu.generateMenu()}isHidden(){return this.hidden}}function Rn(i){const e=i.menu;e.baseMenu?e.baseMenu.unpost():e.unpost()}function $a(i){const e=i.menu;return(e.baseMenu?e.baseMenu:e).store.active}function cc(i,e){console.error("ContextMenu Error: "+e)}function lc(){return Ym++}let Ym=0;class _n extends U2{constructor(e,t,s,r){super(e,t),this._content=s,this.disabled=!1,this.callbacks=[],this._id=r||s}get content(){return this._content}set content(e){this._content=e,this.generateHtml(),this.menu&&this.menu.generateHtml()}get id(){return this._id}press(){this.disabled||(this.executeAction(),this.executeCallbacks_())}executeAction(){}registerCallback(e){this.callbacks.indexOf(e)===-1&&this.callbacks.push(e)}unregisterCallback(e){const t=this.callbacks.indexOf(e);t!==-1&&this.callbacks.splice(t,1)}mousedown(e){this.press(),this.stop(e)}mouseover(e){this.focus(),this.stop(e)}mouseout(e){this.deactivate(),this.stop(e)}generateHtml(){super.generateHtml();const e=this.html;e.setAttribute("aria-disabled","false"),e.textContent=this.content}activate(){this.disabled||this.html.classList.add(Ye.MENUACTIVE)}deactivate(){this.html.classList.remove(Ye.MENUACTIVE)}focus(){this.menu.focused=this,super.focus(),this.activate()}unfocus(){this.deactivate(),super.unfocus()}escape(e){Rn(this)}up(e){this.menu.up(e)}down(e){this.menu.down(e)}left(e){this.menu.left(e)}right(e){this.menu.right(e)}space(e){this.press()}disable(){this.disabled=!0;const e=this.html;e.classList.add(Ye.MENUDISABLED),e.setAttribute("aria-disabled","true")}enable(){this.disabled=!1;const e=this.html;e.classList.remove(Ye.MENUDISABLED),e.removeAttribute("aria-disabled")}executeCallbacks_(){for(const e of this.callbacks)try{e(this)}catch(t){cc(0,"Callback for menu entry "+this.id+" failed.")}}}class Ya extends _n{static fromJson(e,{content:t,menu:s,id:r},n){const a=new this(n,t,r),o=e.get("subMenu")(e,s,a);return a.submenu=o,a}constructor(e,t,s){super(e,"submenu",t,s),this._submenu=null}set submenu(e){this._submenu=e}get submenu(){return this._submenu}mouseover(e){this.focus(),this.stop(e)}mouseout(e){this.stop(e)}unfocus(){if(this.submenu.isPosted()){if(this.menu.focused!==this)return super.unfocus(),void this.menu.unpostSubmenus();this.html.setAttribute("tabindex","-1"),this.html.blur()}else super.unfocus()}focus(){super.focus(),this.submenu.isPosted()||this.disabled||this.submenu.post()}executeAction(){this.submenu.isPosted()?this.submenu.unpost():this.submenu.post()}generateHtml(){super.generateHtml();const e=this.html;this.span=document.createElement("span"),this.span.textContent="\u25BA",this.span.classList.add(Ye.MENUARROW),e.appendChild(this.span),e.setAttribute("aria-haspopup","true")}left(e){this.submenu.isPosted()?this.submenu.unpost():super.left(e)}right(e){this.submenu.isPosted()?this.submenu.down(e):this.submenu.post()}toJson(){return{type:""}}}class Xh extends zh{constructor(){super(...arguments),this.className=Ye.CONTEXTMENU,this.role="menu",this._items=[],this._baseMenu=null}set baseMenu(e){this._baseMenu=e}get baseMenu(){return this._baseMenu}get items(){return this._items}set items(e){this._items=e}get pool(){return this.variablePool}get focused(){return this._focused}set focused(e){if(this._focused===e)return;this._focused||this.unfocus();const t=this._focused;this._focused=e,t&&t.unfocus()}up(e){const t=this.items.filter((r=>r instanceof _n&&!r.isHidden()));if(t.length===0)return;if(!this.focused)return void t[t.length-1].focus();let s=t.indexOf(this.focused);s!==-1&&(s=s?--s:t.length-1,t[s].focus())}down(e){const t=this.items.filter((r=>r instanceof _n&&!r.isHidden()));if(t.length===0)return;if(!this.focused)return void t[0].focus();let s=t.indexOf(this.focused);s!==-1&&(s++,s=s===t.length?0:s,t[s].focus())}generateHtml(){super.generateHtml(),this.generateMenu()}generateMenu(){const e=this.html;e.classList.add(Ye.MENU);for(const t of this.items){if(!t.isHidden()){e.appendChild(t.html);continue}const s=t.html;s.parentNode&&s.parentNode.removeChild(s)}}post(e,t){this.variablePool.update(),super.post(e,t)}unpostSubmenus(){const e=this.items.filter((t=>t instanceof Ya));for(const t of e)t.submenu.unpost(),t!==this.focused&&t.unfocus()}unpost(){super.unpost(),this.unpostSubmenus(),this.focused=null}find(e){for(const t of this.items)if(t.type!=="rule"){if(t.id===e)return t;if(t.type==="submenu"){const s=t.submenu.find(e);if(s)return s}}return null}}class Qm{constructor(e){this.menu=e,this.store=[],this._active=null,this.counter=0,this.attachedClass=Ye.ATTACHED+"_"+lc(),this.taborder=!0,this.attrMap={}}set active(e){do{if(this.store.indexOf(e)!==-1){this._active=e;break}e=e.parentNode}while(e)}get active(){return this._active}next(){const e=this.store.length;if(e===0)return this.active=null,null;let t=this.store.indexOf(this.active);return t=t===-1?0:t<e-1?t+1:0,this.active=this.store[t],this.active}previous(){const e=this.store.length;if(e===0)return this.active=null,null;const t=e-1;let s=this.store.indexOf(this.active);return s=s===-1||s===0?t:s-1,this.active=this.store[s],this.active}clear(){this.remove(this.store)}insert(e){const t=e instanceof HTMLElement?[e]:e;for(const s of t)this.insertElement(s);this.sort()}remove(e){const t=e instanceof HTMLElement?[e]:e;for(const s of t)this.removeElement(s);this.sort()}inTaborder(e){this.taborder&&!e&&this.removeTaborder(),!this.taborder&&e&&this.insertTaborder(),this.taborder=e}insertTaborder(){this.taborder&&this.insertTaborder_()}removeTaborder(){this.taborder&&this.removeTaborder_()}insertElement(e){e.classList.contains(this.attachedClass)||(e.classList.add(this.attachedClass),this.taborder&&this.addTabindex(e),this.addEvents(e))}removeElement(e){e.classList.contains(this.attachedClass)&&(e.classList.remove(this.attachedClass),this.taborder&&this.removeTabindex(e),this.removeEvents(e))}sort(){const e=document.getElementsByClassName(this.attachedClass);this.store=[].slice.call(e)}insertTaborder_(){this.store.forEach((e=>e.setAttribute("tabindex","0")))}removeTaborder_(){this.store.forEach((e=>e.setAttribute("tabindex","-1")))}addTabindex(e){e.hasAttribute("tabindex")&&e.setAttribute(fi.OLDTAB,e.getAttribute("tabindex")),e.setAttribute("tabindex","0")}removeTabindex(e){e.hasAttribute(fi.OLDTAB)?(e.setAttribute("tabindex",e.getAttribute(fi.OLDTAB)),e.removeAttribute(fi.OLDTAB)):e.removeAttribute("tabindex")}addEvents(e){e.hasAttribute(fi.COUNTER)||(this.addEvent(e,"contextmenu",this.menu.post.bind(this.menu)),this.addEvent(e,"keydown",this.keydown.bind(this)),e.setAttribute(fi.COUNTER,this.counter.toString()),this.counter++)}addEvent(e,t,s){const r=fi[t.toUpperCase()+"FUNC"];this.attrMap[r+this.counter]=s,e.addEventListener(t,s)}removeEvents(e){if(!e.hasAttribute(fi.COUNTER))return;const t=e.getAttribute(fi.COUNTER);this.removeEvent(e,"contextmenu",t),this.removeEvent(e,"keydown",t),e.removeAttribute(fi.COUNTER)}removeEvent(e,t,s){const r=fi[t.toUpperCase()+"FUNC"],n=this.attrMap[r+s];e.removeEventListener(t,n)}keydown(e){e.keyCode===Ss.SPACE&&(this.menu.post(e),e.preventDefault(),e.stopImmediatePropagation())}}class Zm{constructor(){this.pool={}}insert(e){this.pool[e.name]=e}lookup(e){return this.pool[e]}remove(e){delete this.pool[e]}update(){for(const e in this.pool)this.pool[e].update()}}class Vh extends Xh{static fromJson(e,{pool:t,items:s,id:r=""}){const n=new this(e);n.id=r;const a=e.get("variable");t.forEach((l=>a(e,l,n.pool)));const o=e.get("items")(e,s,n);return n.items=o,n}constructor(e){super(),this.factory=e,this.id="",this.moving=!1,this._store=new Qm(this),this.widgets=[],this.variablePool=new Zm}generateHtml(){this.isPosted()&&this.unpost(),super.generateHtml(),this._frame=document.createElement("div"),this._frame.classList.add(Ye.MENUFRAME);const e="left: 0px; top: 0px; z-index: 200; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px;";this._frame.setAttribute("style","position: absolute; "+e);const t=document.createElement("div");t.setAttribute("style","position: fixed; "+e),this._frame.appendChild(t),t.addEventListener("mousedown",function(s){this.unpost(),this.unpostWidgets(),this.stop(s)}.bind(this))}display(){document.body.appendChild(this.frame),this.frame.appendChild(this.html),this.focus()}escape(e){this.unpost(),this.unpostWidgets()}unpost(){if(super.unpost(),this.widgets.length>0)return;this.frame.parentNode.removeChild(this.frame);const e=this.store;this.moving||e.insertTaborder(),e.active.focus()}left(e){this.move_(this.store.previous())}right(e){this.move_(this.store.next())}get frame(){return this._frame}get store(){return this._store}post(e,t){if(t!==void 0)return this.moving||this.store.removeTaborder(),void super.post(e,t);const s=e;let r,n,a;if(s instanceof Event?(r=s.target,this.stop(s)):r=s,s instanceof MouseEvent&&(n=s.pageX,a=s.pageY,n||a||!s.clientX||(n=s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=s.clientY+document.body.scrollTop+document.documentElement.scrollTop)),!n&&!a&&r){const l=window.pageXOffset||document.documentElement.scrollLeft,h=window.pageYOffset||document.documentElement.scrollTop,d=r.getBoundingClientRect();n=(d.right+d.left)/2+l,a=(d.bottom+d.top)/2+h}this.store.active=r,this.anchor=this.store.active;const o=this.html;n+o.offsetWidth>document.body.offsetWidth-5&&(n=document.body.offsetWidth-o.offsetWidth-5),this.post(n,a)}registerWidget(e){this.widgets.push(e)}unregisterWidget(e){const t=this.widgets.indexOf(e);t>-1&&this.widgets.splice(t,1),this.widgets.length===0&&this.unpost()}unpostWidgets(){this.widgets.forEach((e=>e.unpost()))}toJson(){return{type:""}}move_(e){this.anchor&&e!==this.anchor&&(this.moving=!0,this.unpost(),this.post(e),this.moving=!1)}}class uc extends Xh{static fromJson(e,{items:t},s){const r=new this(s),n=e.get("items")(e,t,r);return r.items=n,r}constructor(e){super(),this._anchor=e,this.variablePool=this.anchor.menu.pool,this.setBaseMenu()}get anchor(){return this._anchor}post(){if(!this.anchor.menu.isPosted())return;let e=this.anchor.html;const t=this.html,s=this.baseMenu.frame,r=e.offsetWidth;let n=r-2,a=0;for(;e&&e!==s;)n+=e.offsetLeft,a+=e.offsetTop,e=e.parentNode;n+t.offsetWidth>document.body.offsetWidth-5&&(n=Math.max(5,n-r-t.offsetWidth+6)),super.post(n,a)}display(){this.baseMenu.frame.appendChild(this.html)}setBaseMenu(){let e=this;do e=e.anchor.menu;while(e instanceof uc);this.baseMenu=e}left(e){this.focused=null,this.anchor.focus()}toJson(){return{type:""}}}class ef extends zh{constructor(e){super(),this.element=e,this.className=Ye.MENUCLOSE,this.role="button"}generateHtml(){const e=document.createElement("span");e.classList.add(this.className),e.setAttribute("role",this.role),e.setAttribute("tabindex","0");const t=document.createElement("span");t.textContent="\xD7",e.appendChild(t),this.html=e}display(){}unpost(){super.unpost(),this.element.unpost()}keydown(e){this.bubbleKey(),super.keydown(e)}space(e){this.unpost(),this.stop(e)}mousedown(e){this.unpost(),this.stop(e)}}class Qa extends zh{constructor(e,t,s){super(),this.title=e,this.signature=s,this.className=Ye.INFO,this.role="dialog",this.contentDiv=this.generateContent(),this.close=this.generateClose(),this.content=t||function(){return""}}attachMenu(e){this.menu=e}generateHtml(){super.generateHtml();const e=this.html;e.appendChild(this.generateTitle()),e.appendChild(this.contentDiv),e.appendChild(this.generateSignature()),e.appendChild(this.close.html),e.setAttribute("tabindex","0")}post(){super.post();const e=document.documentElement,t=this.html,s=window.innerHeight||e.clientHeight||e.scrollHeight||0,r=Math.floor(-t.offsetWidth/2),n=Math.floor((s-t.offsetHeight)/3);t.setAttribute("style","margin-left: "+r+"px; top: "+n+"px;"),window.event instanceof MouseEvent&&t.classList.add(Ye.MOUSEPOST),t.focus()}display(){this.menu.registerWidget(this),this.contentDiv.innerHTML=this.content();const e=this.menu.html;e.parentNode&&e.parentNode.removeChild(e),this.menu.frame.appendChild(this.html)}click(e){}keydown(e){this.bubbleKey(),super.keydown(e)}escape(e){this.unpost()}unpost(){super.unpost(),this.html.classList.remove(Ye.MOUSEPOST),this.menu.unregisterWidget(this)}generateClose(){const e=new ef(this),t=e.html;return t.classList.add(Ye.INFOCLOSE),t.setAttribute("aria-label","Close Dialog Box"),e}generateTitle(){const e=document.createElement("span");return e.innerHTML=this.title,e.classList.add(Ye.INFOTITLE),e}generateContent(){const e=document.createElement("div");return e.classList.add(Ye.INFOCONTENT),e.setAttribute("tabindex","0"),e}generateSignature(){const e=document.createElement("span");return e.innerHTML=this.signature,e.classList.add(Ye.INFOSIGNATURE),e}toJson(){return{type:""}}}class hc extends _n{generateHtml(){super.generateHtml();const e=this.html;this.span||this.generateSpan(),e.appendChild(this.span),this.update()}register(){this.variable.register(this)}unregister(){this.variable.unregister(this)}update(){this.updateAria(),this.span&&this.updateSpan()}}class Gh extends hc{static fromJson(e,{content:t,variable:s,id:r},n){return new this(n,t,s,r)}constructor(e,t,s,r){super(e,"radio",t,r),this.role="menuitemradio",this.variable=e.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.id),Rn(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="\u2713",this.span.classList.add(Ye.MENURADIOCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()===this.id?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()===this.id?"":"none"}toJson(){return{type:""}}}class Jh extends U2{static fromJson(e,t,s){return new this(s)}constructor(e){super(e,"rule"),this.className=Ye.MENUITEM,this.role="separator"}generateHtml(){super.generateHtml();const e=this.html;e.classList.add(Ye.MENURULE),e.setAttribute("aria-orientation","vertical")}addEvents(e){}toJson(){return{type:"rule"}}}class q2 extends _n{static fromJson(e,{content:t,action:s,id:r},n){return new this(n,t,s,r)}constructor(e,t,s,r){super(e,"command",t,r),this.command=s}executeAction(){try{this.command($a(this))}catch(e){cc(0,"Illegal command callback.")}Rn(this)}toJson(){return{type:""}}}class H2{static fromJson(e,{name:t,getter:s,setter:r},n){const a=new this(t,s,r);n.insert(a)}constructor(e,t,s){this._name=e,this.getter=t,this.setter=s,this.items=[]}get name(){return this._name}getValue(e){try{return this.getter(e)}catch(t){return cc(0,"Command of variable "+this.name+" failed."),null}}setValue(e,t){try{this.setter(e,t)}catch(s){cc(0,"Command of variable "+this.name+" failed.")}this.update()}register(e){this.items.indexOf(e)===-1&&this.items.push(e)}unregister(e){const t=this.items.indexOf(e);t!==-1&&this.items.splice(t,1)}update(){this.items.forEach((e=>e.update()))}registerCallback(e){this.items.forEach((t=>t.registerCallback(e)))}unregisterCallback(e){this.items.forEach((t=>t.unregisterCallback(e)))}toJson(){return{type:"variable",name:this.name,getter:this.getter.toString(),setter:this.setter.toString()}}}class W2 extends hc{static fromJson(e,{content:t,variable:s,id:r},n){return new this(n,t,s,r)}constructor(e,t,s,r){super(e,"checkbox",t,r),this.role="menuitemcheckbox",this.variable=e.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(!this.variable.getValue()),Rn(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="\u2713",this.span.classList.add(Ye.MENUCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()?"":"none"}toJson(){return{type:""}}}class z2 extends hc{static fromJson(e,{content:t,variable:s,id:r},n){return new this(n,t,s,r)}constructor(e,t,s,r){super(e,"combobox",t,r),this.role="combobox",this.inputEvent=!1,this.variable=e.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,$a(this))}space(e){super.space(e),Rn(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(Ye.MENUCOMBOBOX)}generateSpan(){this.span=document.createElement("span"),this.span.classList.add(Ye.MENUINPUTBOX),this.input=document.createElement("input"),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.setAttribute("size","10em"),this.input.setAttribute("type","text"),this.input.setAttribute("tabindex","-1"),this.span.appendChild(this.input)}inputKey(e){this.bubbleKey(),this.inputEvent=!0}keydown(e){if(this.inputEvent&&e.keyCode!==Ss.ESCAPE&&e.keyCode!==Ss.RETURN)return this.inputEvent=!1,void e.stopPropagation();super.keydown(e),e.stopPropagation()}updateAria(){}updateSpan(){let e;try{e=this.variable.getValue($a(this))}catch(t){e=""}this.input.value=e}toJson(){return{type:""}}}class X2 extends _n{static fromJson(e,{content:t,id:s},r){return new this(r,t,s)}constructor(e,t,s){super(e,"label",t,s)}generateHtml(){super.generateHtml(),this.html.classList.add(Ye.MENULABEL)}toJson(){return{type:""}}}class V2 extends hc{static fromJson(e,{content:t,variable:s,id:r},n){return new this(n,t,s,r)}constructor(e,t,s,r){super(e,"slider",t,r),this.role="slider",this.labelId="ctx_slideLabel"+lc(),this.valueId="ctx_slideValue"+lc(),this.inputEvent=!1,this.variable=e.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,$a(this)),this.update()}space(e){super.space(e),Rn(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(Ye.MENUSLIDER),this.valueSpan=document.createElement("span"),this.valueSpan.setAttribute("id",this.valueId),this.valueSpan.classList.add(Ye.SLIDERVALUE),this.html.appendChild(this.valueSpan)}generateSpan(){this.span=document.createElement("span"),this.labelSpan=document.createElement("span"),this.labelSpan.setAttribute("id",this.labelId),this.labelSpan.appendChild(this.html.childNodes[0]),this.html.appendChild(this.labelSpan),this.input=document.createElement("input"),this.input.setAttribute("type","range"),this.input.setAttribute("min","0"),this.input.setAttribute("max","100"),this.input.setAttribute("aria-valuemin","0"),this.input.setAttribute("aria-valuemax","100"),this.input.setAttribute("aria-labelledby",this.labelId),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.addEventListener("input",this.executeAction.bind(this)),this.input.classList.add(Ye.SLIDERBAR),this.span.appendChild(this.input)}inputKey(e){this.inputEvent=!0}mousedown(e){e.stopPropagation()}mouseup(e){event.stopPropagation()}keydown(e){const t=e.keyCode;return t===Ss.UP||t===Ss.DOWN?(e.preventDefault(),void super.keydown(e)):this.inputEvent&&t!==Ss.ESCAPE&&t!==Ss.RETURN?(this.inputEvent=!1,void e.stopPropagation()):(super.keydown(e),void e.stopPropagation())}updateAria(){const e=this.variable.getValue();e&&this.input&&(this.input.setAttribute("aria-valuenow",e),this.input.setAttribute("aria-valuetext",e+"%"))}updateSpan(){let e;try{e=this.variable.getValue($a(this)),this.valueSpan.innerHTML=e+"%"}catch(t){e=""}this.input.value=e}toJson(){return{type:""}}}class G2 extends Xh{static fromJson(e,{title:t,values:s,variable:r},n){const a=new this(n),o=e.get("label")(e,{content:t||"",id:t||"id"},a),l=e.get("rule")(e,{},a),h=s.map((x=>e.get("radio")(e,{content:x,variable:r,id:x},a))),d=[o,l].concat(h);return a.items=d,a}constructor(e){super(),this.anchor=e,this.className=Ye.SELECTIONMENU,this.variablePool=this.anchor.menu.pool,this.baseMenu=this.anchor.menu}generateHtml(){super.generateHtml(),this.items.forEach((e=>e.html.classList.add(Ye.SELECTIONITEM)))}display(){}right(e){this.anchor.right(e)}left(e){this.anchor.left(e)}}class gr extends Qa{static fromJson(e,{title:t,signature:s,selections:r,order:n,grid:a},o){const l=new this(t,s,n,a);l.attachMenu(o);const h=r.map((d=>e.get("selectionMenu")(e,d,l)));return l.selections=h,l}constructor(e,t,s="none",r="vertical"){super(e,null,t),this.style=s,this.grid=r,this._selections=[],this.prefix="ctxt-selection",this._balanced=!0}attachMenu(e){this.menu=e}get selections(){return this._selections}set selections(e){this._selections=[],e.forEach((t=>this.addSelection(t)))}addSelection(e){e.anchor=this,this._selections.push(e)}rowDiv(e){const t=document.createElement("div");this.contentDiv.appendChild(t);const s=e.map((o=>(t.appendChild(o.html),o.html.id||(o.html.id=this.prefix+lc()),o.html.getBoundingClientRect()))),r=s.map((o=>o.width)),n=r.reduce(((o,l)=>o+l),0),a=s.reduce(((o,l)=>Math.max(o,l.height)),0);return t.classList.add(Ye.SELECTIONDIVIDER),t.setAttribute("style","height: "+a+"px;"),[t,n,a,r]}display(){if(super.display(),this.order(),!this.selections.length)return;const e=[];let t=0,s=[];const r=this.getChunkSize(this.selections.length);for(let n=0;n<this.selections.length;n+=r){const a=this.selections.slice(n,n+r),[o,l,h,d]=this.rowDiv(a);e.push(o),t=Math.max(t,l),a.forEach((x=>x.html.style.height=h+"px")),s=this.combineColumn(s,d)}this._balanced&&(this.balanceColumn(e,s),t=s.reduce(((n,a)=>n+a),20)),e.forEach((n=>n.style.width=t+"px"))}getChunkSize(e){switch(this.grid){case"square":return Math.floor(Math.sqrt(e));case"horizontal":return Math.floor(e/gr.chunkSize);default:return gr.chunkSize}}balanceColumn(e,t){e.forEach((s=>{const r=Array.from(s.children);for(let n,a=0;n=r[a];a++)n.style.width=t[a]+"px"}))}combineColumn(e,t){let s=[],r=0;for(;e[r]||t[r];){if(!e[r]){s=s.concat(t.slice(r));break}if(!t[r]){s=s.concat(e.slice(r));break}s.push(Math.max(e[r],t[r])),r++}return s}left(e){this.move(e,(t=>(t===0?this.selections.length:t)-1))}right(e){this.move(e,(t=>t===this.selections.length-1?0:t+1))}generateHtml(){super.generateHtml(),this.html.classList.add(Ye.SELECTION)}generateContent(){const e=super.generateContent();return e.classList.add(Ye.SELECTIONBOX),e.removeAttribute("tabindex"),e}findSelection(e){const t=e.target;let s=null;if(t.id&&(s=this.selections.find((r=>r.html.id===t.id))),!s){const r=t.parentElement.id;s=this.selections.find((n=>n.html.id===r))}return s}move(e,t){const s=this.findSelection(e);s.focused&&s.focused.unfocus();const r=t(this.selections.indexOf(s));this.selections[r].focus()}order(){this.selections.sort(gr.orderMethod.get(this.style))}toJson(){return{type:""}}}gr.chunkSize=4,gr.orderMethod=new Map([["alphabetical",(i,e)=>i.items[0].content.localeCompare(e.items[0].content)],["none",(i,e)=>1],["decreasing",(i,e)=>{const t=i.items.length,s=e.items.length;return t<s?1:s<t?-1:0}],["increasing",(i,e)=>{const t=i.items.length,s=e.items.length;return t<s?-1:s<t?1:0}]]);class tf{constructor(e){this._parser=new Map(e)}get(e){return this._parser.get(e)}add(e,t){this._parser.set(e,t)}}var sf=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]])}return t};class rf{constructor(e=[]){this._initList=[["command",q2.fromJson.bind(q2)],["checkbox",W2.fromJson.bind(W2)],["combo",z2.fromJson.bind(z2)],["slider",V2.fromJson.bind(V2)],["label",X2.fromJson.bind(X2)],["radio",Gh.fromJson.bind(Gh)],["rule",Jh.fromJson.bind(Jh)],["submenu",Ya.fromJson.bind(Ya)],["contextMenu",Vh.fromJson.bind(Vh)],["subMenu",uc.fromJson.bind(uc)],["variable",H2.fromJson.bind(H2)],["items",this.items.bind(this)],["selectionMenu",G2.fromJson.bind(G2)],["selectionBox",gr.fromJson.bind(gr)]],this._factory=new tf(this._initList),e.forEach((([t,s])=>this.factory.add(t,s)))}get factory(){return this._factory}items(e,t,s){const r=[];for(const n of t){const a=this.parse(n,s);a&&(s.items.push(a),n.disabled&&a.disable(),n.hidden&&r.push(a))}return r.forEach((n=>n.hide())),s.items}parse(e,...t){var{type:s}=e,r=sf(e,["type"]);const n=this.factory.get(s);return n?n(this.factory,r,...t):null}}function Me(i){return"."+(Ye[i]||i)}const Za={};Za[Me("INFOCLOSE")]="{  top:.2em; right:.2em;}",Za[Me("INFOCONTENT")]="{  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}",Za[Me("INFO")+Me("MOUSEPOST")]="{outline:none;}",Za[Me("INFO")]='{  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}';const ut={};ut[Me("MENU")]="{  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}",ut[Me("MENUITEM")]="{  padding: 1px 2em;  background:transparent;}",ut[Me("MENUARROW")]="{  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}",ut[Me("MENUACTIVE")+" "+Me("MENUARROW")]="{color:white}",ut[Me("MENUARROW")+Me("RTL")]="{left:.5em; right:auto}",ut[Me("MENUCHECK")]="{  position:absolute; left:.7em;  font-family: null}",ut[Me("MENUCHECK")+Me("RTL")]="{ right:.7em; left:auto }",ut[Me("MENURADIOCHECK")]="{  position:absolute; left: .7em;}",ut[Me("MENURADIOCHECK")+Me("RTL")]="{  right: .7em; left:auto}",ut[Me("MENUINPUTBOX")]="{  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}",ut[Me("MENUINPUTBOX")+Me("RTL")]="{  left: .1em;}",ut[Me("MENUCOMBOBOX")]="{  left:.1em; padding-bottom:.5em;}",ut[Me("MENUSLIDER")]="{  left: .1em;}",ut[Me("SLIDERVALUE")]="{  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}",ut[Me("SLIDERBAR")]="{  outline: none; background: #d3d3d3}",ut[Me("MENULABEL")]="{  padding: 1px 2em 3px 1.33em;  font-style:italic}",ut[Me("MENURULE")]="{  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}",ut[Me("MENUDISABLED")]="{  color:GrayText}",ut[Me("MENUACTIVE")]="{  background-color: #606872;  color: white;}",ut[Me("MENUDISABLED")+":focus"]="{  background-color: #E8E8E8}",ut[Me("MENULABEL")+":focus"]="{  background-color: #E8E8E8}",ut[Me("CONTEXTMENU")+":focus"]="{  outline:none}",ut[Me("CONTEXTMENU")+" "+Me("MENUITEM")+":focus"]="{  outline:none}",ut[Me("SELECTIONMENU")]="{  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }",ut[Me("SELECTIONITEM")]="{  padding-right: 1em;}",ut[Me("SELECTION")]="{  right: 40%; width:50%; }",ut[Me("SELECTIONBOX")]="{  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}",ut[Me("SELECTIONDIVIDER")]="{  clear: both; border-top: 2px solid #000000;}",ut[Me("MENU")+" "+Me("MENUCLOSE")]="{  top:-10px; left:-10px}";const On={};On[Me("MENUCLOSE")]='{  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}',On[Me("MENUCLOSE")+" span"]="{  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}",On[Me("MENUCLOSE")+":hover"]="{  color:white!important;  border:2px solid #CCC!important}",On[Me("MENUCLOSE")+":hover span"]="{  background-color:#CCC!important}",On[Me("MENUCLOSE")+":hover:focus"]="{  outline:none}";let J2=!1,K2=!1,$2=!1;function Y2(i){$2||(Kh(On,i),$2=!0)}function Kh(i,e){const t=e||document,s=t.createElement("style");s.type="text/css";let r="";for(const n in i)r+=n,r+=" ",r+=i[n],r+=`
`;s.innerHTML=r,t.head.appendChild(s)}class Di extends Vh{constructor(){super(...arguments),this.mathItem=null,this.nofocus=!1,this.errorMsg=""}post(e,t){var s,r;if(this.mathItem){const n=(r=(s=this.mathItem)===null||s===void 0?void 0:s.explorers)===null||r===void 0?void 0:r.speech;n!=null&&n.active&&(n.restarted=n.semanticFocus()),t!==void 0&&(this.getOriginalMenu(),this.getSemanticsMenu(),this.getSpeechMenu(),this.getBrailleMenu(),this.getSvgMenu(),this.getErrorMessage(),this.dynamicSubmenus()),super.post(e,t)}}unpost(){super.unpost(),this.mathItem&&(this.mathItem.outputData.nofocus=this.nofocus),this.mathItem=null,this.nofocus=!1}findID(...e){let t=this,s=null;for(const r of e){if(!t)return null;for(s of t.items){if(s.id===r){t=s instanceof Ya?s.submenu:null;break}t=s=null}}return s}setJax(e){this.jax=e}getOriginalMenu(){const e=this.mathItem.inputJax.name,t=this.findID("Show","Original");t.content=e==="MathML"?"Original MathML":e+" Commands",this.findID("Copy","Original").content=t.content}getSemanticsMenu(){const e=this.findID("Settings","MathmlIncludes","semantics");this.mathItem.inputJax.name==="MathML"?e.disable():e.enable()}getSpeechMenu(){const e=this.mathItem.outputData.speech;this.findID("Show","Speech")[e?"enable":"disable"](),this.findID("Copy","Speech")[e?"enable":"disable"]()}getBrailleMenu(){const e=this.mathItem.outputData.braille;this.findID("Show","Braille")[e?"enable":"disable"](),this.findID("Copy","Braille")[e?"enable":"disable"]()}getSvgMenu(){const e=this.jax.SVG;this.findID("Show","SVG")[e?"enable":"disable"](),this.findID("Copy","SVG")[e?"enable":"disable"]()}getErrorMessage(){const e=this.mathItem.root.childNodes[0].childNodes;let t=!0;if(this.errorMsg="",e.length===1&&e[0].isKind("merror")){const s=e[0].attributes;this.errorMsg=s.get("data-mjx-error")||s.get("data-mjx-message")||"",t=!this.errorMsg}this.findID("Show","Error")[t?"disable":"enable"](),this.findID("Copy","Error")[t?"disable":"enable"]()}dynamicSubmenus(){for(const[e,[t,s]]of Di.DynamicSubmenus){const r=this.find(e);r&&t(this,r,(n=>{var a;r.submenu=n,!(!((a=n==null?void 0:n.items)===null||a===void 0)&&a.length)||s&&!this.settings[s]?r.disable():r.enable()}))}}}var es,Dn,Xr;Di.DynamicSubmenus=new Map,(function(i){i.DOMAIN="domain",i.STYLE="style",i.LOCALE="locale",i.TOPIC="topic",i.MODALITY="modality"})(es||(es={}));class Vr{static createProp(...e){const t=bt.DEFAULT_ORDER,s={};for(let r=0,n=e.length,a=t.length;r<n&&r<a;r++)s[t[r]]=e[r];return new Vr(s)}constructor(e,t=Object.keys(e)){this.properties=e,this.order=t}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(e){return this.properties[e]}updateProperties(e){this.properties=e}allProperties(){const e=[];return this.order.forEach((t=>e.push(this.getProperty(t).slice()))),e}toString(){const e=[];return this.order.forEach((t=>e.push(t+": "+this.getProperty(t).toString()))),e.join(`
`)}}class bt extends Vr{static createCstr(...e){const t=bt.DEFAULT_ORDER,s={};for(let r=0,n=e.length,a=t.length;r<n&&r<a;r++)s[t[r]]=e[r];return new bt(s)}static defaultCstr(){return bt.createCstr.apply(null,bt.DEFAULT_ORDER.map((function(e){return bt.DEFAULT_VALUES[e]})))}static validOrder(e){const t=bt.DEFAULT_ORDER.slice();return e.every((s=>{const r=t.indexOf(s);return r!==-1&&t.splice(r,1)}))}constructor(e,t){const s={};for(const[r,n]of Object.entries(e))s[r]=[n];super(s,t),this.components=e}getComponents(){return this.components}getValue(e){return this.components[e]}getValues(){return this.order.map((e=>this.getValue(e)))}allProperties(){const e=super.allProperties();for(let t,s,r=0;t=e[r],s=this.order[r];r++){const n=this.getValue(s);t.indexOf(n)===-1&&t.unshift(n)}return e}toString(){return this.getValues().join(".")}equal(e){const t=e.getAxes();if(this.order.length!==t.length)return!1;for(let s,r=0;s=t[r];r++){const n=this.getValue(s);if(!n||e.getValue(s)!==n)return!1}return!0}}bt.DEFAULT_ORDER=[es.LOCALE,es.MODALITY,es.DOMAIN,es.STYLE,es.TOPIC],bt.BASE_LOCALE="base",bt.DEFAULT_VALUE="default",bt.DEFAULT_VALUES={[es.LOCALE]:"en",[es.DOMAIN]:bt.DEFAULT_VALUE,[es.STYLE]:bt.DEFAULT_VALUE,[es.TOPIC]:bt.DEFAULT_VALUE,[es.MODALITY]:"speech"};class nf{constructor(e){this.order=e}parse(e){const t=e.split("."),s={};if(t.length>this.order.length)throw new Error("Invalid dynamic constraint: "+s);let r=0;for(let n,a=0;n=this.order[a],t.length;a++,r++){const o=t.shift();s[n]=o}return new bt(s,this.order.slice(0,r))}}class af{constructor(e,t=new Vr(e.getProperties(),e.getOrder())){this.reference=e,this.fallback=t,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(e,t){this.reference=e,this.fallback=t||new Vr(e.getProperties(),e.getOrder()),this.order=this.reference.getOrder()}match(e){const t=e.getAxes();return t.length===this.reference.getAxes().length&&t.every((s=>{const r=e.getValue(s);return r===this.reference.getValue(s)||this.fallback.getProperty(s).indexOf(r)!==-1}))}compare(e,t){let s=!1;for(let r,n=0;r=this.order[n];n++){const a=e.getValue(r),o=t.getValue(r);if(!s){const x=this.reference.getValue(r);if(x===a&&x!==o)return-1;if(x===o&&x!==a)return 1;if(x===a&&x===o)continue;x!==a&&x!==o&&(s=!0)}const l=this.fallback.getProperty(r),h=l.indexOf(a),d=l.indexOf(o);if(h<d)return-1;if(d<h)return 1}return 0}toString(){return this.reference.toString()+`
`+this.fallback.toString()}}(function(i){i.SYNC="sync",i.ASYNC="async",i.HTTP="http"})(Dn||(Dn={})),(function(i){i.PITCH="pitch",i.RATE="rate",i.VOLUME="volume",i.PAUSE="pause",i.JOIN="join",i.LAYOUT="layout"})(Xr||(Xr={})),Xr.PITCH,Xr.RATE,Xr.VOLUME,Xr.PAUSE,Xr.JOIN;var $h,Yh;(function(i){i.NONE="none",i.SHALLOW="shallow",i.DEEP="deep"})($h||($h={})),(function(i){i.NONE="none",i.LAYOUT="layout",i.COUNTING="counting",i.PUNCTUATION="punctuation",i.SSML="ssml",i.ACSS="acss",i.SABLE="sable",i.VOICEXML="voicexml"})(Yh||(Yh={}));var br=__webpack_require__(74);function of(i){return i.match("/$")?i:i+"/"}class et{static getInstance(){return et.instance=et.instance||new et,et.instance}init(e){return e&&this.startDebugFile_(e),this.isActive_=!0,this.fileHandle}output(...e){this.isActive_&&this.output_(e)}generate(e){this.isActive_&&this.output_(e.apply(e,[]))}exit(e=()=>{}){this.fileHandle.then((()=>{this.isActive_&&this.stream_&&this.stream_.end("","",e)}))}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(e){this.fileHandle=br.f.fs.promises.open(e,"w"),this.fileHandle=this.fileHandle.then((t=>{this.stream_=t.createWriteStream(e),this.outputFunction=function(...s){this.stream_.write(s.join(" ")),this.stream_.write(`
`)}.bind(this),this.stream_.on("error",function(s){console.info("Invalid log file. Debug information sent to console."),this.outputFunction=console.info}.bind(this)),this.stream_.on("finish",(function(){console.info("Finalizing debug file.")}))}))}output_(e){this.stream_?this.fileHandle.then((()=>this.outputFunction.apply(this.outputFunction,["Speech Rule Engine Debugger:"].concat(e)))):console.info.apply(console,["Speech Rule Engine Debugger:"].concat(e))}}var Q2=__webpack_require__(714);class gi{constructor(e={}){this.delay=!1,this.domain="clearspeak",this.style=bt.DEFAULT_VALUES[es.STYLE],this.locale=bt.DEFAULT_VALUES[es.LOCALE],this.subiso="",this.modality=bt.DEFAULT_VALUES[es.MODALITY],this.speech=$h.NONE,this.markup=Yh.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules="",this.prune="",this.set(e)}set(e){this.ensureDomain(e);for(const[t,s]of Object.entries(e))(gi.BINARY_FEATURES.includes(t)||gi.STRING_FEATURES.includes(t))&&(this[t]=s)}json(){const e={};return[].concat(gi.STRING_FEATURES,gi.BINARY_FEATURES).forEach((t=>e[t]=this[t])),e}ensureDomain(e){if(e.modality&&e.modality!=="speech"||!e.modality&&this.modality!=="speech"||!e.domain&&!e.locale)return;if(e.domain==="default")return void(e.domain="mathspeak");const t=e.locale||this.locale,s=e.domain||this.domain;cf.indexOf(t)===-1||s==="mathspeak"?t!=="en"?s!=="mathspeak"&&s!=="clearspeak"&&(e.domain="mathspeak"):lf.indexOf(s)===-1&&(e.domain="mathspeak"):e.domain="mathspeak"}}gi.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks","tree"],gi.STRING_FEATURES=["markup","style","domain","speech","walker","locale","delay","modality","rate","rules","subiso","prune"];const cf=["ca","da","es"],lf=["chromevox","clearspeak","mathspeak","emacspeak","html"];class uf extends Error{constructor(e=""){super(),this.message=e,this.name="SRE Error"}}class Bs{set defaultLocale(e){this._defaultLocale=Q2.u.ensureLocale(e,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return Bs.instance=Bs.instance||new Bs,Bs.instance}static defaultEvaluator(e,t){return e}static evaluateNode(e){return Bs.nodeEvaluator(e)}getRate(){const e=parseInt(this.options.rate,10);return isNaN(e)?100:e}setDynamicCstr(e){if(this.defaultLocale&&(bt.DEFAULT_VALUES[es.LOCALE]=this.defaultLocale),e){const a=Object.keys(e);for(let o=0;o<a.length;o++){const l=a[o];if(bt.DEFAULT_ORDER.indexOf(l)!==-1){const h=e[l];this.options[l]=h}}}const t=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join("."),s=Vr.createProp([bt.DEFAULT_VALUES[es.LOCALE]],[bt.DEFAULT_VALUES[es.MODALITY]],[bt.DEFAULT_VALUES[es.DOMAIN]],[bt.DEFAULT_VALUES[es.STYLE]]),r=this.comparators[this.options.domain],n=this.parsers[this.options.domain];this.parser=n||this.defaultParser,this.dynamicCstr=this.parser.parse(t),this.dynamicCstr.updateProperties(s.getProperties()),this.comparator=r?r():new af(this.dynamicCstr)}constructor(){this.options=new gi,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=Dn.SYNC,this.init=!0,this.comparators={},this._defaultLocale=bt.DEFAULT_VALUES[es.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=Bs.defaultEvaluator,this.defaultParser=new nf(bt.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=bt.defaultCstr()}configurate(e){this.mode!==Dn.HTTP||br.f.webworker||this.config||((function(t){const s=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let r=0,n=s.length;r<n;r++){let a;try{a=s[r].innerHTML;const o=JSON.parse(a);for(const[l,h]of Object.entries(o))t[l]=h}catch(o){et.getInstance().output("Illegal configuration ",a)}}})(e),this.config=!0),(function(t){if(typeof SREfeature!="undefined")for(const[s,r]of Object.entries(SREfeature))t[s]=r})(e)}setCustomLoader(e){e&&(this.customLoader=e)}setup(e){e.mode!==void 0&&(this.mode=e.mode),this.configurate(e),this.options.set(e),e.json&&(br.f.jsonPath=of(e.json)),this.setCustomLoader(e.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new gi}}Bs.nodeEvaluator=function(i){return[]};class eo{static get(e=Bs.getInstance().options.locale){return eo.promises[e]||Promise.resolve("")}static getall(){return Promise.all(Object.values(eo.promises))}}eo.loaded={},eo.promises={};const to=br.f.xpath,hf={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function df(i){return hf[i]||null}class pf{constructor(){this.lookupNamespaceURI=df}}function mf(i,e,t){return to.evaluate(i,e,new pf,t,null)}function Ut(i){const e=[];for(let t=0,s=i.length;t<s;t++)e.push(i[t]);return e}function so(i){const e=new br.f.xmldom.DOMParser,t=(function(r){return(r=r.replace(/&nbsp;/g,"\xA0")).replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim()})(i),s=!!t.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!t)throw new Error("Empty input!");try{const r=e.parseFromString(t,s?"text/html":"text/xml");return Bs.getInstance().mode===Dn.HTTP?(to.currentDocument=r,s?r.body.childNodes[0]:r.documentElement):r.documentElement}catch(r){throw new uf("Illegal input: "+r.message)}}var Er;function Pi(i,e){i.parentNode&&(i.parentNode.insertBefore(e,i),i.parentNode.removeChild(i))}function io(i){return br.f.document.createElement(i)}function Z2(i){let e="",t=/(>)(<)(\/*)/g,s=0,r=(i=i.replace(t,`$1\r
$2$3`)).split(`\r
`);for(t=/(\.)*(<)(\/*)/g,r=r.map((n=>n.replace(t,`$1\r
$2$3`).split(`\r
`))).reduce(((n,a)=>n.concat(a)),[]);r.length;){let n=r.shift();if(!n)continue;let a=0;if(n.match(/^<\w[^>/]*>[^>]+$/)){const o=ff(n,r[0]);o[0]?o[1]?(n+=r.shift().slice(0,-o[1].length),o[1].trim()&&r.unshift(o[1])):n+=r.shift():a=1}else if(n.match(/^<\/\w/))s!==0&&(s-=1);else if(n.match(/^<\w[^>]*[^/]>.*$/))a=1;else if(n.match(/^<\w[^>]*\/>.+$/)){const o=n.indexOf(">")+1,l=n.slice(o);l.trim()&&r.unshift(),n=n.slice(0,o)+l}else a=0;e+=new Array(s+1).join("  ")+n+`\r
`,s+=a}return e}function ff(i,e){if(!e)return[!1,""];const t=i.match(/^<([^> ]+).*>/),s=e.match(/^<\/([^>]+)>(.*)/);return t&&s&&t[1]===s[1]?[!0,s[2]]:[!1,""]}function at(i){return i.tagName.toUpperCase()}function e0(i){return new br.f.xmldom.XMLSerializer().serializeToString(i)}(function(i){i[i.ELEMENT_NODE=1]="ELEMENT_NODE",i[i.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",i[i.TEXT_NODE=3]="TEXT_NODE",i[i.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",i[i.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",i[i.ENTITY_NODE=6]="ENTITY_NODE",i[i.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",i[i.COMMENT_NODE=8]="COMMENT_NODE",i[i.DOCUMENT_NODE=9]="DOCUMENT_NODE",i[i.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",i[i.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",i[i.NOTATION_NODE=12]="NOTATION_NODE"})(Er||(Er={}));class Qh{constructor(e,t,s){this.domain=e,this.name=t,this.func=s,this.active=!1}annotate(e){e.childNodes.forEach(this.annotate.bind(this)),e.contentNodes.forEach(this.annotate.bind(this)),e.addAnnotation(this.domain,this.func(e))}}class Zh{constructor(e,t,s,r={}){this.domain=e,this.name=t,this.func=s,this.def=r,this.active=!1}visit(e,t){let s=this.func(e,t);e.addAnnotation(this.domain,s[0]);for(let r,n=0;r=e.childNodes[n];n++)s=this.visit(r,s[1]);for(let r,n=0;r=e.contentNodes[n];n++)s=this.visit(r,s[1]);return s}}const ed=new Map,td=new Map;function dc(i){const e=i.domain+":"+i.name;i instanceof Qh?ed.set(e,i):td.set(e,i)}function pc(i,e){const t=i+":"+e,s=ed.get(t)||td.get(t);s&&(s.active=!0)}var we,qt,Z;function gf(i){const e=i.toString(16).toUpperCase();return e.length>3?e:("000"+e).slice(-4)}function t0([i,e],t){const s=parseInt(i,16),r=parseInt(e,16),n=[];for(let a=s;a<=r;a++){let o=gf(a);t[o]!==!1&&(o=t[o]||o,n.push(o))}return n}function s0(i,e={}){return t0(i,e).map((t=>String.fromCodePoint(parseInt(t,16))))}(function(i){i.BOLD="bold",i.BOLDFRAKTUR="bold-fraktur",i.BOLDITALIC="bold-italic",i.BOLDSCRIPT="bold-script",i.DOUBLESTRUCK="double-struck",i.DOUBLESTRUCKITALIC="double-struck-italic",i.FULLWIDTH="fullwidth",i.FRAKTUR="fraktur",i.ITALIC="italic",i.MONOSPACE="monospace",i.NORMAL="normal",i.SCRIPT="script",i.SANSSERIF="sans-serif",i.SANSSERIFITALIC="sans-serif-italic",i.SANSSERIFBOLD="sans-serif-bold",i.SANSSERIFBOLDITALIC="sans-serif-bold-italic"})(we||(we={})),(function(i){i.SUPER="super",i.SUB="sub",i.CIRCLED="circled",i.PARENTHESIZED="parenthesized",i.PERIOD="period",i.NEGATIVECIRCLED="negative-circled",i.DOUBLECIRCLED="double-circled",i.CIRCLEDSANSSERIF="circled-sans-serif",i.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",i.COMMA="comma",i.SQUARED="squared",i.NEGATIVESQUARED="negative-squared"})(qt||(qt={})),(function(i){i.LATINCAP="latinCap",i.LATINSMALL="latinSmall",i.GREEKCAP="greekCap",i.GREEKSMALL="greekSmall",i.DIGIT="digit"})(Z||(Z={}));const bf=[{interval:["1D400","1D419"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.BOLD},{interval:["1D41A","1D433"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLD},{interval:["1D56C","1D585"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLDFRAKTUR},{interval:["1D468","1D481"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.BOLDITALIC},{interval:["1D482","1D49B"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLDSCRIPT},{interval:["1D538","1D551"],base:Z.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:we.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:Z.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:we.FRAKTUR},{interval:["1D51E","1D537"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.FRAKTUR},{interval:["FF21","FF3A"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.FULLWIDTH},{interval:["FF41","FF5A"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.FULLWIDTH},{interval:["1D434","1D44D"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.ITALIC},{interval:["1D44E","1D467"],base:Z.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:we.ITALIC},{interval:["1D670","1D689"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.MONOSPACE},{interval:["1D68A","1D6A3"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.MONOSPACE},{interval:["0041","005A"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.NORMAL},{interval:["0061","007A"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.NORMAL},{interval:["1D49C","1D4B5"],base:Z.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:we.SCRIPT},{interval:["1D4B6","1D4CF"],base:Z.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:we.SCRIPT},{interval:["1D5A0","1D5B9"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIF},{interval:["1D5BA","1D5D3"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIF},{interval:["1D608","1D621"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:Z.LATINCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:Z.LATINSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:Z.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:we.NORMAL},{interval:["03B0","03D0"],base:Z.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:we.NORMAL},{interval:["1D6A8","1D6C0"],base:Z.GREEKCAP,subst:{},capital:!0,category:"Lu",font:we.BOLD},{interval:["1D6C1","1D6E1"],base:Z.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLD},{interval:["1D6E2","1D6FA"],base:Z.GREEKCAP,subst:{},capital:!0,category:"Lu",font:we.ITALIC},{interval:["1D6FB","1D71B"],base:Z.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:we.ITALIC},{interval:["1D71C","1D734"],base:Z.GREEKCAP,subst:{},capital:!0,category:"Lu",font:we.BOLDITALIC},{interval:["1D735","1D755"],base:Z.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:we.BOLDITALIC},{interval:["1D756","1D76E"],base:Z.GREEKCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:Z.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:Z.GREEKCAP,subst:{},capital:!0,category:"Lu",font:we.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:Z.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:we.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.NORMAL},{interval:["2070","2079"],base:Z.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:qt.SUPER},{interval:["2080","2089"],base:Z.DIGIT,subst:{},offset:0,category:"No",font:qt.SUB},{interval:["245F","2473"],base:Z.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:qt.CIRCLED},{interval:["3251","325F"],base:Z.DIGIT,subst:{},offset:21,category:"No",font:qt.CIRCLED},{interval:["32B1","32BF"],base:Z.DIGIT,subst:{},offset:36,category:"No",font:qt.CIRCLED},{interval:["2474","2487"],base:Z.DIGIT,subst:{},offset:1,category:"No",font:qt.PARENTHESIZED},{interval:["2487","249B"],base:Z.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:qt.PERIOD},{interval:["2775","277F"],base:Z.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:qt.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:Z.DIGIT,subst:{},offset:11,category:"No",font:qt.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:Z.DIGIT,subst:{},offset:1,category:"No",font:qt.DOUBLECIRCLED},{interval:["277F","2789"],base:Z.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:qt.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:Z.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:qt.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.BOLD},{interval:["1D7D8","1D7E1"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.SANSSERIF},{interval:["1D7EC","1D7F5"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:Z.DIGIT,subst:{},offset:0,category:"Nd",font:we.MONOSPACE},{interval:["1F101","1F10A"],base:Z.DIGIT,subst:{},offset:0,category:"No",font:qt.COMMA},{interval:["24B6","24CF"],base:Z.LATINCAP,subst:{},capital:!0,category:"So",font:qt.CIRCLED},{interval:["24D0","24E9"],base:Z.LATINSMALL,subst:{},capital:!1,category:"So",font:qt.CIRCLED},{interval:["1F110","1F129"],base:Z.LATINCAP,subst:{},capital:!0,category:"So",font:qt.PARENTHESIZED},{interval:["249C","24B5"],base:Z.LATINSMALL,subst:{},capital:!1,category:"So",font:qt.PARENTHESIZED},{interval:["1F130","1F149"],base:Z.LATINCAP,subst:{},capital:!0,category:"So",font:qt.SQUARED},{interval:["1F170","1F189"],base:Z.LATINCAP,subst:{},capital:!0,category:"So",font:qt.NEGATIVESQUARED},{interval:["1F150","1F169"],base:Z.LATINCAP,subst:{},capital:!0,category:"So",font:qt.NEGATIVECIRCLED}],sd=new Map;function i0(i,e){return i+e.split("-").map((t=>t[0].toUpperCase()+t.slice(1))).join("")}for(const i of bf){const e=i0(i.base,i.font),t=s0(i.interval,i.subst);let s=sd.get(e);s?s.unicode=s.unicode.concat(t):(s=i,s.unicode=t,sd.set(e,s))}var id;(function(i){i.PUNCTUATION="punctuation",i.FENCE="fence",i.NUMBER="number",i.IDENTIFIER="identifier",i.TEXT="text",i.OPERATOR="operator",i.RELATION="relation",i.LARGEOP="largeop",i.FUNCTION="function",i.ACCENT="accent",i.FENCED="fenced",i.FRACTION="fraction",i.PUNCTUATED="punctuated",i.RELSEQ="relseq",i.MULTIREL="multirel",i.INFIXOP="infixop",i.PREFIXOP="prefixop",i.POSTFIXOP="postfixop",i.APPL="appl",i.INTEGRAL="integral",i.BIGOP="bigop",i.SQRT="sqrt",i.ROOT="root",i.LIMUPPER="limupper",i.LIMLOWER="limlower",i.LIMBOTH="limboth",i.SUBSCRIPT="subscript",i.SUPERSCRIPT="superscript",i.UNDERSCORE="underscore",i.OVERSCORE="overscore",i.TENSOR="tensor",i.TABLE="table",i.MULTILINE="multiline",i.MATRIX="matrix",i.VECTOR="vector",i.CASES="cases",i.ROW="row",i.LINE="line",i.CELL="cell",i.ENCLOSE="enclose",i.INFERENCE="inference",i.RULELABEL="rulelabel",i.CONCLUSION="conclusion",i.PREMISES="premises",i.UNKNOWN="unknown",i.EMPTY="empty"})(id||(id={}));const g=Object.assign({},id);var rd;(function(i){i.COMMA="comma",i.SEMICOLON="semicolon",i.ELLIPSIS="ellipsis",i.FULLSTOP="fullstop",i.QUESTION="question",i.EXCLAMATION="exclamation",i.QUOTES="quotes",i.DASH="dash",i.TILDE="tilde",i.PRIME="prime",i.DEGREE="degree",i.VBAR="vbar",i.COLON="colon",i.OPENFENCE="openfence",i.CLOSEFENCE="closefence",i.APPLICATION="application",i.DUMMY="dummy",i.UNIT="unit",i.LABEL="label",i.OPEN="open",i.CLOSE="close",i.TOP="top",i.BOTTOM="bottom",i.NEUTRAL="neutral",i.METRIC="metric",i.LATINLETTER="latinletter",i.GREEKLETTER="greekletter",i.OTHERLETTER="otherletter",i.NUMBERSET="numbersetletter",i.INTEGER="integer",i.FLOAT="float",i.OTHERNUMBER="othernumber",i.INFTY="infty",i.MIXED="mixed",i.MULTIACCENT="multiaccent",i.OVERACCENT="overaccent",i.UNDERACCENT="underaccent",i.UNDEROVER="underover",i.SUBSUP="subsup",i.LEFTSUB="leftsub",i.LEFTSUPER="leftsuper",i.RIGHTSUB="rightsub",i.RIGHTSUPER="rightsuper",i.LEFTRIGHT="leftright",i.ABOVEBELOW="abovebelow",i.INTERVAL="interval",i.SETEMPTY="set empty",i.SETEXT="set extended",i.SETSINGLE="set singleton",i.SETCOLLECT="set collection",i.STRING="string",i.SPACE="space",i.ANNOTATION="annotation",i.TEXT="text",i.SEQUENCE="sequence",i.ENDPUNCT="endpunct",i.STARTPUNCT="startpunct",i.NEGATIVE="negative",i.POSITIVE="positive",i.NEGATION="negation",i.MULTIOP="multiop",i.PREFIXOP="prefix operator",i.POSTFIXOP="postfix operator",i.LIMFUNC="limit function",i.INFIXFUNC="infix function",i.PREFIXFUNC="prefix function",i.POSTFIXFUNC="postfix function",i.SIMPLEFUNC="simple function",i.COMPFUNC="composed function",i.SUM="sum",i.INTEGRAL="integral",i.GEOMETRY="geometry",i.BOX="box",i.BLOCK="block",i.ADDITION="addition",i.MULTIPLICATION="multiplication",i.SUBTRACTION="subtraction",i.IMPLICIT="implicit",i.DIVISION="division",i.VULGAR="vulgar",i.EQUALITY="equality",i.INEQUALITY="inequality",i.ARROW="arrow",i.ELEMENT="element",i.NONELEMENT="nonelement",i.REELEMENT="reelement",i.RENONELEMENT="renonelement",i.SET="set",i.DETERMINANT="determinant",i.ROWVECTOR="rowvector",i.BINOMIAL="binomial",i.SQUAREMATRIX="squarematrix",i.CYCLE="cycle",i.MULTILINE="multiline",i.MATRIX="matrix",i.VECTOR="vector",i.CASES="cases",i.TABLE="table",i.CAYLEY="cayley",i.PROOF="proof",i.LEFT="left",i.RIGHT="right",i.UP="up",i.DOWN="down",i.FINAL="final",i.SINGLE="single",i.HYP="hyp",i.AXIOM="axiom",i.LOGIC="logic",i.UNKNOWN="unknown",i.MGLYPH="mglyph"})(rd||(rd={}));const E=Object.assign({},rd);var nd;(function(i){i.CALIGRAPHIC="caligraphic",i.CALIGRAPHICBOLD="caligraphic-bold",i.OLDSTYLE="oldstyle",i.OLDSTYLEBOLD="oldstyle-bold",i.UNKNOWN="unknown"})(nd||(nd={}));const ht=Object.assign(Object.assign(Object.assign({},we),nd),qt);var ad;(function(i){i.ALLLETTERS="allLetters",i.D="d",i.BAR="bar",i.TILDE="tilde"})(ad||(ad={}));const Is=Object.assign(Object.assign({},Z),ad);var Ef=function(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]])}return t};const Yi={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class xf extends Map{get(e){return super.get(e)||{role:E.UNKNOWN,type:g.UNKNOWN,font:ht.UNKNOWN}}}class yf extends Map{set(e,t,s=""){return super.set(this.secKey(t,e),s||t),this}has(e,t){return super.has(this.secKey(t,e))}get(e,t){return super.get(this.secKey(t,e))}secKey(e,t){return t?`${e} ${t}`:`${e}`}}const It={Meaning:new xf,Secondary:new yf,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function xr(i,e){for(const t of i)It.Meaning.set(t,{role:e.role||E.UNKNOWN,type:e.type||g.UNKNOWN,font:e.font||ht.UNKNOWN}),e.secondary&&It.Secondary.set(t,e.secondary)}function ro(i,e,t=1){const s={},r=(function(n){let a=[];for(const o of n)Array.isArray(o)?a=a.concat(t0(o,{}).map((l=>parseInt(l,16)))):a.push(parseInt(o,16));return a})(e);for(const n of r)s[n]||(i.set(String.fromCodePoint(n),String.fromCodePoint(n+t)),s[n]=!0,s[n+t]=!0)}const Nf=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function no(i,e,t,s,r,n=[],a={},o={}){const l=sd.get(i0(i,s));l&&(l.unicode.forEach((h=>{It.Meaning.set(h,{type:e,role:t,font:r}),n.forEach((d=>It.Secondary.set(h,d)))})),(function(h,d){for(const[x,k]of Object.entries(d)){const I=h[x];I!==void 0&&It.Meaning.set(I,k)}})(l.unicode,a),(function(h,d){for(const[x,k]of Object.entries(d)){const I=h[x];I!==void 0&&It.Secondary.set(I,k)}})(l.unicode,o))}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:g.PUNCTUATION,role:E.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:g.PUNCTUATION,role:E.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:g.PUNCTUATION,role:E.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:g.PUNCTUATION,role:E.QUESTION},{set:["21","fe15","fe57","ff01"],type:g.PUNCTUATION,role:E.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:g.PUNCTUATION,role:E.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:g.PUNCTUATION,role:E.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:g.PUNCTUATION,role:E.COLON},{set:["2c","2063","fe50","ff0c"],type:g.PUNCTUATION,role:E.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:g.PUNCTUATION,role:E.ELLIPSIS},{set:["2e","fe52","ff0e"],type:g.PUNCTUATION,role:E.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:g.OPERATOR,role:E.DASH,secondary:Is.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:g.PUNCTUATION,role:E.DASH,secondary:Is.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:g.OPERATOR,role:E.TILDE,secondary:Is.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:g.PUNCTUATION,role:E.PRIME},{set:["b0"],type:g.PUNCTUATION,role:E.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:g.OPERATOR,role:E.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:g.OPERATOR,role:E.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:g.OPERATOR,role:E.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:g.OPERATOR,role:E.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:g.OPERATOR,role:E.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:g.OPERATOR,role:E.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:g.OPERATOR,role:E.PREFIXOP},{set:["1d7ca","1d7cb"],type:g.OPERATOR,role:E.PREFIXOP,font:ht.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:g.RELATION,role:E.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:g.RELATION,role:E.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:g.RELATION,role:E.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:g.RELATION,role:E.UNKNOWN},{set:["2205",["29b0","29b4"]],type:g.IDENTIFIER,role:E.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:g.IDENTIFIER,role:E.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:g.RELATION,role:E.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:g.IDENTIFIER,role:E.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:g.RELATION,role:E.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:g.OPERATOR,role:E.ELEMENT},{set:["2209"],type:g.OPERATOR,role:E.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:g.OPERATOR,role:E.REELEMENT},{set:["220c"],type:g.OPERATOR,role:E.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:g.LARGEOP,role:E.SUM},{set:["2140"],type:g.LARGEOP,role:E.SUM,font:ht.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:g.LARGEOP,role:E.INTEGRAL},{set:[["2500","257F"]],type:g.RELATION,role:E.BOX},{set:[["2580","259F"]],type:g.IDENTIFIER,role:E.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:g.RELATION,role:E.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:g.OPERATOR,role:E.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:g.OPERATOR,role:E.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:g.IDENTIFIER,role:E.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:g.IDENTIFIER,role:E.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:g.OPERATOR,role:E.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:g.OPERATOR,role:E.UNKNOWN},{set:[["2145","2149"]],type:g.IDENTIFIER,role:E.LATINLETTER,font:ht.DOUBLESTRUCKITALIC,secondary:Is.ALLLETTERS},{set:[["213c","213f"]],type:g.IDENTIFIER,role:E.GREEKLETTER,font:ht.DOUBLESTRUCK,secondary:Is.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:g.IDENTIFIER,role:E.GREEKLETTER,font:ht.NORMAL,secondary:Is.ALLLETTERS},{set:[["2135","2138"]],type:g.IDENTIFIER,role:E.OTHERLETTER,font:ht.NORMAL,secondary:Is.ALLLETTERS},{set:["131","237"],type:g.IDENTIFIER,role:E.LATINLETTER,font:ht.NORMAL},{set:["1d6a4","1d6a5"],type:g.IDENTIFIER,role:E.LATINLETTER,font:ht.ITALIC},{set:["2113","2118"],type:g.IDENTIFIER,role:E.LATINLETTER,font:ht.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:g.IDENTIFIER,role:E.LATINLETTER,font:ht.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:g.NUMBER,role:E.FLOAT},{set:["23E8",["3248","324f"]],type:g.NUMBER,role:E.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:g.IDENTIFIER,role:E.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:g.TEXT,role:E.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:g.FENCE,role:E.NEUTRAL},{set:["2016","2225","2980","2af4"],type:g.FENCE,role:E.METRIC}].forEach((i=>{var{set:e}=i,t=Ef(i,["set"]);return xr((function(s){let r=[];for(const n of s)Array.isArray(n)?r=r.concat(s0(n)):r.push(String.fromCodePoint(parseInt(n,16)));return r})(e),t)})),ro(It.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),ro(It.FencesHoriz,["28","2045","207D","208D",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),ro(It.FencesHoriz,["5b","7b","ff3b","ff5b"],2),ro(It.FencesHoriz,[["239b","23a6"]],3),ro(It.FencesHoriz,[["23a7","23a9"]],4),xr([...It.FencesHoriz.keys()],{type:g.FENCE,role:E.OPEN}),xr([...It.FencesHoriz.values()],{type:g.FENCE,role:E.CLOSE}),xr([...It.FencesVert.keys()],{type:g.FENCE,role:E.TOP}),xr([...It.FencesVert.values()],{type:g.FENCE,role:E.BOTTOM}),(function(){for(const[i,e]of Object.entries(ht)){const t=qt[i]?ht.UNKNOWN:e===ht.FULLWIDTH?ht.NORMAL:e;no(Z.LATINCAP,g.IDENTIFIER,E.LATINLETTER,e,t,[Is.ALLLETTERS]),no(Z.LATINSMALL,g.IDENTIFIER,E.LATINLETTER,e,t,[Is.ALLLETTERS],{},{3:Is.D}),no(Z.GREEKCAP,g.IDENTIFIER,E.GREEKLETTER,e,t,[Is.ALLLETTERS]),no(Z.GREEKSMALL,g.IDENTIFIER,E.GREEKLETTER,e,t,[Is.ALLLETTERS],{0:{type:g.OPERATOR,role:E.PREFIXOP,font:t},26:{type:g.OPERATOR,role:E.PREFIXOP,font:t}}),no(Z.DIGIT,g.NUMBER,E.INTEGER,e,t)}})(),xr(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:g.FUNCTION,role:E.LIMFUNC}),xr(Nf,{type:g.FUNCTION,role:E.PREFIXFUNC}),xr(["mod","rem"],{type:g.OPERATOR,role:E.PREFIXFUNC});const r0=[];function n0(i,e){for(let t,s=0;t=r0[s];s++){const r=t.compare(i,e);if(r!==0)return r}return 0}function vf(i){if(i.length<=1)return i;const e=i.slice();(function(r){r.sort(n0)})(e);const t=[];let s;do s=e.pop(),t.push(s);while(s&&e.length&&n0(e[e.length-1],s)===0);return t}function ao(i,e){return i.match(/^.+:.+$/)||!e?i:i+":"+e}new class{constructor(i,e=null){this.comparator=i,this.type=e,(function(t){r0.push(t)})(this)}compare(i,e){return this.type&&this.type===i.type&&this.type===e.type?this.comparator(i,e):0}}((function(i,e){return i.role===E.SIMPLEFUNC?1:e.role===E.SIMPLEFUNC?-1:0}),g.IDENTIFIER);class a0 extends Map{set(e,t){return super.set(ao(e,t.font),t),this}setNode(e){this.set(e.textContent,e.meaning())}get(e,t=null){return super.get(ao(e,t))}getNode(e){return this.get(e.textContent,e.font)}}class o0 extends Map{add(e,t){const s=this.get(e);s?s.push(t):super.set(e,[t])}get(e,t=null){return super.get(ao(e,t))}getNode(e){return this.get(e.textContent,e.font)}minimize(){for(const[e,t]of this)t.length===1&&this.delete(e)}isMultiValued(){for(const e of this.values())if(e.length>1)return!0;return!1}}class Cf extends o0{add(e,t){super.add(ao(e,t.font),t)}addNode(e){this.add(e.textContent,e)}toString(){const e=[];for(const[t,s]of this){const r=Array(t.length+3).join(" "),n=s.map((a=>a.toString())).join(`
`+r);e.push(t+": "+n)}return e.join(`
`)}collateMeaning(){const e=new Tf;for(const[t,s]of this)e.set(t,s.map((r=>r.meaning())));return e}}class Tf extends o0{add(e,t){const s=this.get(e,t.font);s&&s.find((function(r){return a=t,(n=r).type===a.type&&n.role===a.role&&n.font===a.font;var n,a}))||super.add(ao(e,t.font),t)}addNode(e){this.add(e.textContent,e.meaning())}toString(){const e=[];for(const[t,s]of this){const r=Array(t.length+3).join(" "),n=s.map((a=>`{type: ${a.type}, role: ${a.role}, font: ${a.font}}`)).join(`
`+r);e.push(t+": "+n)}return e.join(`
`)}reduce(){for(const[e,t]of this)t.length!==1&&this.set(e,vf(t))}default(){const e=new a0;for(const[t,s]of this)s.length===1&&e.set(t,s[0]);return e}newDefault(){const e=this.default();this.reduce();const t=this.default();return e.size!==t.size?t:null}}var P;(function(i){i.ANNOTATION="ANNOTATION",i.ANNOTATIONXML="ANNOTATION-XML",i.MACTION="MACTION",i.MALIGNGROUP="MALIGNGROUP",i.MALIGNMARK="MALIGNMARK",i.MATH="MATH",i.MENCLOSE="MENCLOSE",i.MERROR="MERROR",i.MFENCED="MFENCED",i.MFRAC="MFRAC",i.MGLYPH="MGLYPH",i.MI="MI",i.MLABELEDTR="MLABELEDTR",i.MMULTISCRIPTS="MMULTISCRIPTS",i.MN="MN",i.MO="MO",i.MOVER="MOVER",i.MPADDED="MPADDED",i.MPHANTOM="MPHANTOM",i.MPRESCRIPTS="MPRESCRIPTS",i.MROOT="MROOT",i.MROW="MROW",i.MS="MS",i.MSPACE="MSPACE",i.MSQRT="MSQRT",i.MSTYLE="MSTYLE",i.MSUB="MSUB",i.MSUBSUP="MSUBSUP",i.MSUP="MSUP",i.MTABLE="MTABLE",i.MTD="MTD",i.MTEXT="MTEXT",i.MTR="MTR",i.MUNDER="MUNDER",i.MUNDEROVER="MUNDEROVER",i.NONE="NONE",i.SEMANTICS="SEMANTICS"})(P||(P={}));const wf=Object.values(P),kf=[P.MO,P.MI,P.MN,P.MTEXT,P.MS,P.MSPACE],c0=[P.MERROR,P.MPHANTOM,P.MALIGNGROUP,P.MALIGNMARK,P.MPRESCRIPTS,P.ANNOTATION,P.ANNOTATIONXML],l0=[P.MATH,P.MROW,P.MPADDED,P.MACTION,P.NONE,P.MSTYLE,P.SEMANTICS],Af=[P.MROOT,P.MSQRT],Lf=["aria-label","exact-speech","alt"];function od(i){return!!i&&at(i)===P.MATH}function u0(i){return!!i&&(c0.includes(at(i))||!wf.includes(at(i)))}function Pn(i){return!!i&&l0.includes(at(i))}function Mf(i){return!!i&&at(i)===P.MGLYPH&&!(function(e){return!!e&&kf.includes(at(e))})(i.parentNode)}function Gr(i){const e=[];for(let t,s=0;t=i[s];s++){if(t.nodeType!==Er.ELEMENT_NODE)continue;const r=at(t);c0.includes(r)||l0.includes(r)&&t.childNodes.length===0||e.push(t)}return e}function cd(i,e){var t;if(!((t=e.attributes)===null||t===void 0)&&t.length){const s=e.attributes;for(let r=s.length-1;r>=0;r--){const n=s[r].name;n.match(/^ext/)&&(i.attributes[n]=s[r].value,i.nobreaking=!0),Lf.includes(n)&&(i.attributes["ext-speech"]=s[r].value,i.nobreaking=!0),n.match(/texclass$/)&&(i.attributes.texclass=s[r].value),n.toLowerCase()==="data-latex"&&(i.attributes.latex=s[r].value),n==="href"&&(i.attributes.href=s[r].value,i.nobreaking=!0)}}}function Bn(i){return i&&i.embellished&&i.childNodes.length>0?Bn(i.childNodes[0]):i}function Qi(i,e,t){t&&i.reverse();const s=[];for(let r,n=0;r=i[n];n++){if(e(r))return t?{head:i.slice(n+1).reverse(),div:r,tail:s.reverse()}:{head:s,div:r,tail:i.slice(n+1)};s.push(r)}return t?{head:[],div:null,tail:s.reverse()}:{head:s,div:null,tail:[]}}function ii(i,e){let t=i;const s=[],r=[];let n=null;do n=Qi(t,e),r.push(n.head),s.push(n.div),t=n.tail;while(n.div);return s.pop(),{rel:s,comp:r}}var Hs;(function(i){i.EMBELLISHED="embellished",i.FENCEPOINTER="fencepointer",i.FONT="font",i.ID="id",i.ANNOTATION="annotation",i.ROLE="role",i.TYPE="type",i.CHILDREN="children",i.CONTENT="content",i.TEXT="$t"})(Hs||(Hs={}));class ri{static fromXml(e){const t=parseInt(e.getAttribute("id"),10),s=new ri(t);return s.type=e.tagName,ri.setAttribute(s,e,"role"),ri.setAttribute(s,e,"font"),ri.setAttribute(s,e,"embellished"),ri.setAttribute(s,e,"fencepointer","fencePointer"),e.getAttribute("annotation")&&s.parseAnnotation(e.getAttribute("annotation")),cd(s,e),ri.processChildren(s,e),s}static setAttribute(e,t,s,r){r=r||s;const n=t.getAttribute(s);n&&(e[r]=n)}static processChildren(e,t){for(const s of Ut(t.childNodes)){if(s.nodeType===Er.TEXT_NODE){e.textContent=s.textContent;continue}const r=Ut(s.childNodes).map(ri.fromXml);r.forEach((n=>n.parent=e)),at(s)==="CONTENT"?e.contentNodes=r:e.childNodes=r}}constructor(e){this.id=e,this.mathml=[],this.parent=null,this.type=g.UNKNOWN,this.role=E.UNKNOWN,this.font=ht.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(e){let t=[];for(let s,r=0;s=this.childNodes[r];r++)t=t.concat(s.querySelectorAll(e));for(let s,r=0;s=this.contentNodes[r];r++)t=t.concat(s.querySelectorAll(e));return e(this)&&t.unshift(this),t}xml(e,t){const s=function(n,a){const o=a.map((function(h){return h.xml(e,t)})),l=e.createElementNS("",n);for(let h,d=0;h=o[d];d++)l.appendChild(h);return l},r=e.createElementNS("",this.type);return t||this.xmlAttributes(r),r.textContent=this.textContent,this.contentNodes.length>0&&r.appendChild(s(Hs.CONTENT,this.contentNodes)),this.childNodes.length>0&&r.appendChild(s(Hs.CHILDREN,this.childNodes)),r}toString(e=!1){const t=so("<snode/>");return e0(this.xml(t.ownerDocument,e))}allAttributes(){const e=[];return e.push([Hs.ROLE,this.role]),this.font!==ht.UNKNOWN&&e.push([Hs.FONT,this.font]),Object.keys(this.annotation).length&&e.push([Hs.ANNOTATION,this.annotationXml()]),this.embellished&&e.push([Hs.EMBELLISHED,this.embellished]),this.fencePointer&&e.push([Hs.FENCEPOINTER,this.fencePointer]),e.push([Hs.ID,this.id.toString()]),e}annotationXml(){const e=[];for(const[t,s]of Object.entries(this.annotation))s.forEach((r=>e.push(t+":"+r)));return e.join(";")}attributesXml(){const e=[];for(const[t,s]of Object.entries(this.attributes))e.push(t+":"+ri.escapeValue(s));return e.join(";")}toJson(){const e={};e[Hs.TYPE]=this.type;const t=this.allAttributes();for(let s,r=0;s=t[r];r++)e[s[0]]=s[1].toString();return this.textContent&&(e[Hs.TEXT]=this.textContent),this.childNodes.length&&(e[Hs.CHILDREN]=this.childNodes.map((function(s){return s.toJson()}))),this.contentNodes.length&&(e[Hs.CONTENT]=this.contentNodes.map((function(s){return s.toJson()}))),e}updateContent(e,t){const s=t?e.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):e.trim();if(e=e&&!s?e:s,this.textContent===e)return;const r=It.Meaning.get(e.replace(/\s/g," "));this.textContent=e,this.role=r.role,this.type=r.type,this.font=r.font}addMathmlNodes(e){for(let t,s=0;t=e[s];s++)this.mathml.indexOf(t)===-1&&this.mathml.push(t)}appendChild(e){this.childNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this}replaceChild(e,t){const s=this.childNodes.indexOf(e);if(s===-1)return;e.parent=null,t.parent=this,this.childNodes[s]=t;const r=e.mathml.filter((function(a){return t.mathml.indexOf(a)===-1})),n=t.mathml.filter((function(a){return e.mathml.indexOf(a)===-1}));this.removeMathmlNodes(r),this.addMathmlNodes(n)}appendContentNode(e){e&&(this.contentNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this)}removeContentNode(e){if(e){const t=this.contentNodes.indexOf(e);t!==-1&&this.contentNodes.slice(t,1)}}equals(e){if(!e||this.type!==e.type||this.role!==e.role||this.textContent!==e.textContent||this.childNodes.length!==e.childNodes.length||this.contentNodes.length!==e.contentNodes.length)return!1;for(let t,s,r=0;t=this.childNodes[r],s=e.childNodes[r];r++)if(!t.equals(s))return!1;for(let t,s,r=0;t=this.contentNodes[r],s=e.contentNodes[r];r++)if(!t.equals(s))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(e,t){t&&this.addAnnotation_(e,t)}getAnnotation(e){return this.annotation[e]||[]}hasAnnotation(e,t){const s=this.annotation[e];return!!s&&s.indexOf(t)!==-1}parseAnnotation(e){const t=e.split(";");for(let s=0,r=t.length;s<r;s++){const n=t[s].split(":");this.addAnnotation(n[0],n[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(e){const t=this.allAttributes();for(let s,r=0;s=t[r];r++)e.setAttribute(s[0],s[1]);this.addExternalAttributes(e)}addExternalAttributes(e){for(const[t,s]of Object.entries(this.attributes))e.setAttribute(t,s)}static escapeValue(e){return e.replace(/;/g,"\\0003B")}parseAttributes(e){if(!e)return;const t=e.split(";");for(let s=0,r=t.length;s<r;s++){const[n,...a]=t[s].split(":");n&&(this.attributes[n]=a.join("").replace(/\\0003B/g,";"))}}removeMathmlNodes(e){const t=this.mathml;for(let s,r=0;s=e[r];r++){const n=t.indexOf(s);n!==-1&&t.splice(n,1)}this.mathml=t}displayTree_(e){e++;const t=Array(e).join("  ");let s="";s+=`
`+t+this.toString(),s+=`
`+t+"MathmlTree:",s+=`
`+t+this.mathmlTreeString(),s+=`
`+t+"MathML:";for(let r,n=0;r=this.mathml[n];n++)s+=`
`+t+r.toString();return s+=`
`+t+"Begin Content",this.contentNodes.forEach((function(r){s+=r.displayTree_(e)})),s+=`
`+t+"End Content",s+=`
`+t+"Begin Children",this.childNodes.forEach((function(r){s+=r.displayTree_(e)})),s+=`
`+t+"End Children",s}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(e,t){const s=this.annotation[e];s&&!s.includes(t)?s.push(t):this.annotation[e]=[t]}}class h0{constructor(){this.leafMap=new Cf,this.defaultMap=new a0,this.idCounter_=-1}makeNode(e){return this.createNode_(e)}makeUnprocessed(e){const t=this.createNode_();return t.mathml=[e],t.mathmlTree=e,t}makeEmptyNode(){const e=this.createNode_();return e.type=g.EMPTY,e}makeContentNode(e){const t=this.createNode_();return t.updateContent(e),t}makeMultipleContentNodes(e,t){const s=[];for(let r=0;r<e;r++)s.push(this.makeContentNode(t));return s}makeLeafNode(e,t){if(!e)return this.makeEmptyNode();const s=this.makeContentNode(e);s.font=t||s.font;const r=this.defaultMap.getNode(s);return r&&(s.type=r.type,s.role=r.role,s.font=r.font),this.leafMap.addNode(s),s}makeBranchNode(e,t,s,r){const n=this.createNode_();return r&&n.updateContent(r),n.type=e,n.childNodes=t,n.contentNodes=s,t.concat(s).forEach((function(a){a.parent=n,n.addMathmlNodes(a.mathml)})),n}createNode_(e){return e!==void 0?this.idCounter_=Math.max(this.idCounter_,e):e=++this.idCounter_,new ri(e)}}class Sf{constructor(e){this.type=e,this.factory_=new h0}getFactory(){return this.factory_}setFactory(e){this.factory_=e}getType(){return this.type}parseList(e){const t=[];for(let s,r=0;s=e[r];r++)t.push(this.parse(s));return t}}function be(i,e){return i.type===e}function mc(i,e){return i.embellished===e}function vt(i,e){return i.role===e}function Fn(i){return be(i,g.FENCE)||be(i,g.PUNCTUATION)||be(i,g.OPERATOR)||be(i,g.RELATION)}function If(i){return Jr(i)&&!vt(i,E.DIVISION)||be(i,g.APPL)||ud(i)}function d0(i){return Jr(i)||ud(i)}function p0(i,e){return!!e&&be(e,g.IDENTIFIER)&&It.Secondary.has(i.textContent,Is.D)}function ld(i){if(be(i,g.IDENTIFIER)){const e=i.textContent[0];return e&&i.textContent[1]&&It.Secondary.has(e,Is.D)}return!1}function ud(i){return f0(i)||fc(i)}function m0(i){return i.embellished?i.embellished:(e=i.type)===g.OPERATOR||e===g.RELATION||e===g.FENCE||e===g.PUNCTUATION?i.type:null;var e}function Jr(i){return be(i,g.OPERATOR)||mc(i,g.OPERATOR)}function f0(i){return be(i,g.RELATION)||mc(i,g.RELATION)}function fc(i){return be(i,g.PUNCTUATION)||mc(i,g.PUNCTUATION)}function g0(i){return be(i,g.FENCE)||mc(i,g.FENCE)}function Rf(i){return!(!i||!g0(i))&&(!i.embellished||b0(i))}function b0(i){return!i.embellished||!(function(e){return be(e,g.TENSOR)&&(!be(e.childNodes[1],g.EMPTY)||!be(e.childNodes[2],g.EMPTY))&&(!be(e.childNodes[3],g.EMPTY)||!be(e.childNodes[4],g.EMPTY))})(i)&&(!vt(i,E.CLOSE)||!be(i,g.TENSOR))&&(!vt(i,E.OPEN)||!be(i,g.SUBSCRIPT)&&!be(i,g.SUPERSCRIPT))&&b0(i.childNodes[0])}function E0(i){return!!i&&(be(i,g.TABLE)||be(i,g.MULTILINE))}function _f(i){return!!i&&x0(i)&&E0(i.childNodes[0])}function x0(i){return!!i&&be(i,g.FENCED)&&(vt(i,E.LEFTRIGHT)||Bi(i))&&i.childNodes.length===1}function Of(i,e){return e.length>0&&vt(e[e.length-1],E.OPENFENCE)}function y0(i){return i.childNodes.every((function(e){return e.childNodes.length<=1}))}function N0(i){return be(i,g.LARGEOP)||be(i,g.LIMBOTH)||be(i,g.LIMLOWER)||be(i,g.LIMUPPER)||be(i,g.FUNCTION)&&vt(i,E.LIMFUNC)||(be(i,g.OVERSCORE)||be(i,g.UNDERSCORE))&&N0(i.childNodes[0])}function v0(i,e,t){return e.length===1&&(i[t].type===g.PUNCTUATION||i[t].embellished===g.PUNCTUATION)&&i[t]===e[0]}function Df(i){return be(i,g.IDENTIFIER)&&vt(i,E.SIMPLEFUNC)}const Pf=[g.PUNCTUATION,g.PUNCTUATED,g.RELSEQ,g.MULTIREL,g.TABLE,g.MULTILINE,g.CASES,g.INFERENCE],Bf=[g.LIMUPPER,g.LIMLOWER,g.LIMBOTH,g.SUBSCRIPT,g.SUPERSCRIPT,g.UNDERSCORE,g.OVERSCORE,g.TENSOR];function hd(i){const e=i.type;return Pf.indexOf(e)===-1&&(e!==g.INFIXOP||i.role===E.IMPLICIT)&&(e===g.FENCED?i.role!==E.LEFTRIGHT||hd(i.childNodes[0]):Bf.indexOf(e)===-1||hd(i.childNodes[0]))}function C0(i){return(function(e){return e.type===g.NUMBER&&(e.role===E.INTEGER||e.role===E.FLOAT)})(i)||i.role===E.VULGAR||i.role===E.MIXED}function dd(i){const e=i.childNodes;return i.role===E.UNIT&&(!e.length||e[0].role===E.UNIT)}function T0(i){const e=i.childNodes;return i.type===g.INFIXOP&&(i.role===E.MULTIPLICATION||i.role===E.IMPLICIT)&&e.length&&(dd(e[0])||C0(e[0]))&&i.childNodes.slice(1).every(dd)}function Kr(i){return i.type===g.INFIXOP&&(i.role===E.IMPLICIT||i.role===E.UNIT&&!!i.contentNodes.length&&i.contentNodes[0].textContent===Yi.invisibleTimes)}function oo(i){return i.type===g.INFIXOP&&i.role===E.IMPLICIT}function Bi(i){return i.role===E.NEUTRAL||i.role===E.METRIC}function pd(i,e){return Bi(i)&&Bi(e)&&Bn(i).textContent===Bn(e).textContent}function w0(i){return!!Bi(i)&&(!i.embellished||i.type!==g.SUPERSCRIPT&&i.type!==g.SUBSCRIPT&&(i.type!==g.TENSOR||i.childNodes[3].type===g.EMPTY&&i.childNodes[4].type===g.EMPTY))}function k0(i){return!!Bi(i)&&(!i.embellished||i.type!==g.TENSOR||i.childNodes[1].type===g.EMPTY&&i.childNodes[2].type===g.EMPTY)}function A0(i){return[E.ELEMENT,E.NONELEMENT,E.REELEMENT,E.RENONELEMENT].includes(i.role)}const ye={factory:null,options:new gi,updateFactory:function(i){ye.factory=i},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(i){const e=i.name;ye.heuristics.set(e,i),ye.flags[e]||(ye.flags[e]=!1)},run:function(i,e,t){const s=ye.heuristics.get(i);return s&&!ye.blacklist[i]&&(ye.flags[i]||s.applicable(e))?s.apply(e):t?t(e):e}};class N{static getInstance(){return N.instance=N.instance||new N,N.instance}static tableToMultiline(e){if(!y0(e))return ye.run("rewrite_subcases",e,N.classifyTable);e.type=g.MULTILINE;for(let s,r=0;s=e.childNodes[r];r++)N.rowToLine_(s,E.MULTILINE);var t;return e.childNodes.length!==1||be(t=e.childNodes[0],g.LINE)&&t.contentNodes.length&&vt(t.contentNodes[0],E.LABEL)||!x0(e.childNodes[0].childNodes[0])||N.tableToMatrixOrVector_(N.rewriteFencedLine_(e)),N.binomialForm_(e),N.classifyMultiline(e),e}static number(e){e.type!==g.UNKNOWN&&e.type!==g.IDENTIFIER||(e.type=g.NUMBER),N.meaningFromContent(e,N.numberRole_),N.exprFont_(e)}static classifyMultiline(e){let t=0;const s=e.childNodes.length;let r;for(;t<s&&(!(r=e.childNodes[t])||!r.childNodes.length);)t++;if(t>=s)return;const n=r.childNodes[0].role;n!==E.UNKNOWN&&e.childNodes.every((function(a){const o=a.childNodes[0];return!o||o.role===n&&(be(o,g.RELATION)||be(o,g.RELSEQ))}))&&(e.role=n)}static classifyTable(e){const t=N.computeColumns_(e);return N.classifyByColumns_(e,t,E.EQUALITY)||N.classifyByColumns_(e,t,E.INEQUALITY,[E.EQUALITY])||N.classifyByColumns_(e,t,E.ARROW)||N.detectCaleyTable(e),e}static detectCaleyTable(e){if(!e.mathmlTree)return!1;const t=e.mathmlTree,s=t.getAttribute("columnlines"),r=t.getAttribute("rowlines");return!(!s||!r)&&!(!N.cayleySpacing(s)||!N.cayleySpacing(r))&&(e.role=E.CAYLEY,!0)}static cayleySpacing(e){const t=e.split(" ");return(t[0]==="solid"||t[0]==="dashed")&&t.slice(1).every((s=>s==="none"))}static proof(e,t,s){const r=N.separateSemantics(t);return N.getInstance().proof(e,r,s)}static findSemantics(e,t,s){const r=s==null?null:s,n=N.getSemantics(e);return!!n&&!!n[t]&&(r==null||n[t]===r)}static getSemantics(e){const t=e.getAttribute("semantics");return t?N.separateSemantics(t):null}static removePrefix(e){const[,...t]=e.split("_");return t.join("_")}static separateSemantics(e){const t={};return e.split(";").forEach((function(s){const[r,n]=s.split(":");t[N.removePrefix(r)]=n})),t}static matchSpaces_(e,t){for(let s,r=0;s=t[r];r++){const n=e[r].mathmlTree,a=e[r+1].mathmlTree;if(!n||!a)continue;const o=n.nextSibling;if(!o||o===a)continue;const l=N.getSpacer_(o);l&&(s.mathml.push(l),s.mathmlTree=l,s.role=E.SPACE)}}static getSpacer_(e){if(at(e)===P.MSPACE)return e;for(;Pn(e)&&e.childNodes.length===1;)if(at(e=e.childNodes[0])===P.MSPACE)return e;return null}static fenceToPunct_(e){const t=N.FENCE_TO_PUNCT_[e.role];if(t){for(;e.embellished;)e.embellished=g.PUNCTUATION,vt(e,E.SUBSUP)||vt(e,E.UNDEROVER)||(e.role=t),e=e.childNodes[0];e.type=g.PUNCTUATION,e.role=t}}static classifyFunction_(e,t){if(e.type===g.APPL||e.type===g.BIGOP||e.type===g.INTEGRAL)return"";if(t[0]&&t[0].textContent===Yi.functionApplication){N.getInstance().funcAppls[e.id]=t.shift();let n=E.SIMPLEFUNC;return ye.run("simple2prefix",e),e.role!==E.PREFIXFUNC&&e.role!==E.LIMFUNC||(n=e.role),N.propagateFunctionRole_(e,n),"prefix"}return N.CLASSIFY_FUNCTION_[e.role]||((r=e).type===g.IDENTIFIER||r.role===E.LATINLETTER||r.role===E.GREEKLETTER||r.role===E.OTHERLETTER?"simple":"");var r}static propagateFunctionRole_(e,t){if(e){if(e.type===g.INFIXOP)return;vt(e,E.SUBSUP)||vt(e,E.UNDEROVER)||(e.role=t),N.propagateFunctionRole_(e.childNodes[0],t)}}static getFunctionOp_(e,t){if(t(e))return e;for(let s,r=0;s=e.childNodes[r];r++){const n=N.getFunctionOp_(s,t);if(n)return n}return null}static tableToMatrixOrVector_(e){const t=e.childNodes[0];be(t,g.MULTILINE)?N.tableToVector_(e):N.tableToMatrix_(e),e.contentNodes.forEach(t.appendContentNode.bind(t));for(let s,r=0;s=t.childNodes[r];r++)N.assignRoleToRow_(s,N.getComponentRoles_(t));return t.parent=null,t}static tableToVector_(e){const t=e.childNodes[0];t.type=g.VECTOR,t.childNodes.length!==1?N.binomialForm_(t):N.tableToSquare_(e)}static binomialForm_(e){vt(e,E.UNKNOWN)&&e.childNodes.length===2&&(e.role=E.BINOMIAL,e.childNodes[0].role=E.BINOMIAL,e.childNodes[1].role=E.BINOMIAL)}static tableToMatrix_(e){const t=e.childNodes[0];t.type=g.MATRIX,t.childNodes&&t.childNodes.length>0&&t.childNodes[0].childNodes&&t.childNodes.length===t.childNodes[0].childNodes.length?N.tableToSquare_(e):t.childNodes&&t.childNodes.length===1&&(t.role=E.ROWVECTOR)}static tableToSquare_(e){const t=e.childNodes[0];vt(t,E.UNKNOWN)&&(Bi(e)?t.role=E.DETERMINANT:t.role=E.SQUAREMATRIX)}static getComponentRoles_(e){const t=e.role;return t&&t!==E.UNKNOWN?t:e.type.toLowerCase()||E.UNKNOWN}static tableToCases_(e,t){for(let s,r=0;s=e.childNodes[r];r++)N.assignRoleToRow_(s,E.CASES);return e.type=g.CASES,e.appendContentNode(t),y0(e)&&N.binomialForm_(e),e}static rewriteFencedLine_(e){const t=e.childNodes[0],s=e.childNodes[0].childNodes[0],r=e.childNodes[0].childNodes[0].childNodes[0];return s.parent=e.parent,e.parent=s,r.parent=t,s.childNodes=[e],t.childNodes=[r],s}static rowToLine_(e,t){const s=t||E.UNKNOWN;be(e,g.ROW)&&(e.type=g.LINE,e.role=s,e.childNodes.length===1&&be(e.childNodes[0],g.CELL)&&(e.childNodes=e.childNodes[0].childNodes,e.childNodes.forEach((function(r){r.parent=e}))))}static assignRoleToRow_(e,t){be(e,g.LINE)?e.role=t:be(e,g.ROW)&&(e.role=t,e.childNodes.forEach((function(s){be(s,g.CELL)&&(s.role=t)})))}static nextSeparatorFunction_(e){let t;if(e){if(e.match(/^\s+$/))return null;t=e.replace(/\s/g,"").split("").filter((function(s){return s}))}else t=[","];return function(){return t.length>1?t.shift():t[0]}}static meaningFromContent(e,t){const s=[...e.textContent].filter((n=>n.match(/[^\s]/))),r=s.map((n=>It.Meaning.get(n)));t(e,s,r)}static numberRole_(e,t,s){if(e.role===E.UNKNOWN)return s.every((function(r){return r.type===g.NUMBER&&r.role===E.INTEGER||r.type===g.PUNCTUATION&&r.role===E.COMMA}))?(e.role=E.INTEGER,void(t[0]==="0"&&e.addAnnotation("general","basenumber"))):void(s.every((function(r){return r.type===g.NUMBER&&r.role===E.INTEGER||r.type===g.PUNCTUATION}))?e.role=E.FLOAT:e.role=E.OTHERNUMBER)}static exprFont_(e){e.font===ht.UNKNOWN&&N.compSemantics(e,"font",ht)}static compSemantics(e,t,s){const r=[...e.textContent].map((n=>It.Meaning.get(n))).reduce((function(n,a){return n&&a[t]&&a[t]!==s.UNKNOWN&&a[t]!==n?n===s.UNKNOWN?a[t]:null:n}),s.UNKNOWN);r&&(e[t]=r)}static purgeFences_(e){const t=e.rel,s=e.comp,r=[],n=[];for(;t.length>0;){const a=t.shift();let o=s.shift();Rf(a)?(r.push(a),n.push(o)):(N.fenceToPunct_(a),o.push(a),o=o.concat(s.shift()),s.unshift(o))}return n.push(s.shift()),{rel:r,comp:n}}static rewriteFencedNode_(e){const t=e.contentNodes[0],s=e.contentNodes[1];let r=N.rewriteFence_(e,t);return e.contentNodes[0]=r.fence,r=N.rewriteFence_(r.node,s),e.contentNodes[1]=r.fence,e.contentNodes[0].parent=e,e.contentNodes[1].parent=e,r.node.parent=null,r.node}static rewriteFence_(e,t){if(!t.embellished)return{node:e,fence:t};const s=t.childNodes[0],r=N.rewriteFence_(e,s);return be(t,g.SUPERSCRIPT)||be(t,g.SUBSCRIPT)||be(t,g.TENSOR)?(vt(t,E.SUBSUP)||(t.role=e.role),s!==r.node&&(t.replaceChild(s,r.node),s.parent=e),N.propagateFencePointer_(t,s),{node:t,fence:r.fence}):(t.replaceChild(s,r.fence),t.mathmlTree&&t.mathml.indexOf(t.mathmlTree)===-1&&t.mathml.push(t.mathmlTree),{node:r.node,fence:t})}static propagateFencePointer_(e,t){e.fencePointer=t.fencePointer||t.id.toString(),e.embellished=null}static classifyByColumns_(e,t,s,r=[]){const n=[s].concat(r);return!!(t.length===3&&N.testColumns_(t,1,(a=>N.isPureRelation_(a,n)))||t.length===2&&(N.testColumns_(t,1,(a=>N.isEndRelation_(a,n)||N.isPureRelation_(a,n)))||N.testColumns_(t,0,(a=>N.isEndRelation_(a,n,!0)||N.isPureRelation_(a,n)))))&&(e.role=s,!0)}static isEndRelation_(e,t,s){const r=s?e.childNodes.length-1:0;return be(e,g.RELSEQ)&&t.some((n=>vt(e,n)))&&be(e.childNodes[r],g.EMPTY)}static isPureRelation_(e,t){return be(e,g.RELATION)&&t.some((s=>vt(e,s)))}static computeColumns_(e){const t=[];for(let s,r=0;s=e.childNodes[r];r++)for(let n,a=0;n=s.childNodes[a];a++)t[a]?t[a].push(n):t[a]=[n];return t}static testColumns_(e,t,s){const r=e[t];return!!r&&r.some((function(n){return n.childNodes.length&&s(n.childNodes[0])}))&&r.every((function(n){return!n.childNodes.length||s(n.childNodes[0])}))}setNodeFactory(e){N.getInstance().factory_=e,ye.updateFactory(N.getInstance().factory_)}getNodeFactory(){return N.getInstance().factory_}identifierNode(e,t,s){if(s==="MathML-Unit")e.type=g.IDENTIFIER,e.role=E.UNIT;else if(!t&&e.textContent.length===1&&(e.role===E.INTEGER||e.role===E.LATINLETTER||e.role===E.GREEKLETTER)&&e.font===ht.NORMAL)return e.font=ht.ITALIC,ye.run("simpleNamedFunction",e);return e.type===g.UNKNOWN&&(e.type=g.IDENTIFIER),N.exprFont_(e),ye.run("simpleNamedFunction",e)}implicitNode(e){if(e=N.getInstance().getMixedNumbers_(e),(e=N.getInstance().combineUnits_(e)).length===1)return e[0];const t=N.getInstance().implicitNode_(e);return ye.run("combine_juxtaposition",t)}text(e,t){return N.exprFont_(e),e.type=g.TEXT,t===P.ANNOTATIONXML?(e.role=E.ANNOTATION,e):t===P.MS?(e.role=E.STRING,e):t===P.MSPACE||e.textContent.match(/^\s*$/)?(e.role=E.SPACE,e):/\s/.exec(e.textContent)?(e.role=E.TEXT,e):(e.role=E.UNKNOWN,e)}row(e){return(e=e.filter((function(t){return!be(t,g.EMPTY)}))).length===0?N.getInstance().factory_.makeEmptyNode():(e=N.getInstance().getFencesInRow_(e),e=N.getInstance().tablesInRow(e),e=N.getInstance().getPunctuationInRow_(e),e=N.getInstance().getTextInRow_(e),e=N.getInstance().getFunctionsInRow_(e),N.getInstance().relationsInRow_(e))}limitNode(e,t){if(!t.length)return N.getInstance().factory_.makeEmptyNode();let s,r=t[0],n=g.UNKNOWN;if(!t[1])return r;if(ye.run("op_with_limits",t),N0(r)){s=N.MML_TO_LIMIT_[e];const a=s.length;if(n=s.type,t=t.slice(0,s.length+1),a===1&&Fn(t[1])||a===2&&Fn(t[1])&&Fn(t[2]))return s=N.MML_TO_BOUNDS_[e],N.getInstance().accentNode_(r,t,s.type,s.length,s.accent);if(a===2){if(Fn(t[1]))return r=N.getInstance().accentNode_(r,[r,t[1]],{MSUBSUP:g.SUBSCRIPT,MUNDEROVER:g.UNDERSCORE}[e],1,!0),t[2]?N.getInstance().makeLimitNode_(r,[r,t[2]],null,g.LIMUPPER):r;if(t[2]&&Fn(t[2]))return r=N.getInstance().accentNode_(r,[r,t[2]],{MSUBSUP:g.SUPERSCRIPT,MUNDEROVER:g.OVERSCORE}[e],1,!0),N.getInstance().makeLimitNode_(r,[r,t[1]],null,g.LIMLOWER);t[a]||(n=g.LIMLOWER)}return N.getInstance().makeLimitNode_(r,t,null,n)}return s=N.MML_TO_BOUNDS_[e],N.getInstance().accentNode_(r,t,s.type,s.length,s.accent)}tablesInRow(e){let t=ii(e,_f),s=[];for(let r,n=0;r=t.rel[n];n++)s=s.concat(t.comp.shift()),s.push(N.tableToMatrixOrVector_(r));s=s.concat(t.comp.shift()),t=ii(s,E0),s=[];for(let r,n=0;r=t.rel[n];n++){const a=t.comp.shift();Of(0,a)&&N.tableToCases_(r,a.pop()),s=s.concat(a),s.push(r)}return s.concat(t.comp.shift())}mfenced(e,t,s,r){if(s&&r.length>0){const n=N.nextSeparatorFunction_(s),a=[r.shift()];r.forEach((o=>{a.push(N.getInstance().factory_.makeContentNode(n())),a.push(o)})),r=a}return e&&t?N.getInstance().horizontalFencedNode_(N.getInstance().factory_.makeContentNode(e),N.getInstance().factory_.makeContentNode(t),r):(e&&r.unshift(N.getInstance().factory_.makeContentNode(e)),t&&r.push(N.getInstance().factory_.makeContentNode(t)),N.getInstance().row(r))}fractionLikeNode(e,t,s,r){let n;if(!r&&(function(a){if(!a)return!1;if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(a))return!0;const o=a.match(/[0-9.]+/);return!!o&&parseFloat(o[0])===0})(s)){const a=N.getInstance().factory_.makeBranchNode(g.LINE,[e],[]),o=N.getInstance().factory_.makeBranchNode(g.LINE,[t],[]);return n=N.getInstance().factory_.makeBranchNode(g.MULTILINE,[a,o],[]),N.binomialForm_(n),N.classifyMultiline(n),n}return n=N.getInstance().fractionNode_(e,t),r&&n.addAnnotation("general","bevelled"),n}tensor(e,t,s,r,n){const a=N.getInstance().factory_.makeBranchNode(g.TENSOR,[e,N.getInstance().scriptNode_(t,E.LEFTSUB),N.getInstance().scriptNode_(s,E.LEFTSUPER),N.getInstance().scriptNode_(r,E.RIGHTSUB),N.getInstance().scriptNode_(n,E.RIGHTSUPER)],[]);return a.role=e.role,a.embellished=m0(e),a}pseudoTensor(e,t,s){const r=h=>!be(h,g.EMPTY),n=t.filter(r).length,a=s.filter(r).length;if(!n&&!a)return e;const o=n?a?P.MSUBSUP:P.MSUB:P.MSUP,l=[e];return n&&l.push(N.getInstance().scriptNode_(t,E.RIGHTSUB,!0)),a&&l.push(N.getInstance().scriptNode_(s,E.RIGHTSUPER,!0)),N.getInstance().limitNode(o,l)}font(e){return N.MATHJAX_FONTS[e]||e}proof(e,t,s){if(t.inference||t.axiom||console.log("Noise"),t.axiom){const n=N.getInstance().cleanInference(e.childNodes),a=n.length?N.getInstance().factory_.makeBranchNode(g.INFERENCE,s(n),[]):N.getInstance().factory_.makeEmptyNode();return a.role=E.AXIOM,a.mathmlTree=e,a}const r=N.getInstance().inference(e,t,s);return t.proof&&(r.role=E.PROOF,r.childNodes[0].role=E.FINAL),r}inference(e,t,s){if(t.inferenceRule){const h=N.getInstance().getFormulas(e,[],s);return N.getInstance().factory_.makeBranchNode(g.INFERENCE,[h.conclusion,h.premises],[])}const r=t.labelledRule,n=Ut(e.childNodes),a=[];r!=="left"&&r!=="both"||a.push(N.getInstance().getLabel(e,n,s,E.LEFT)),r!=="right"&&r!=="both"||a.push(N.getInstance().getLabel(e,n,s,E.RIGHT));const o=N.getInstance().getFormulas(e,n,s),l=N.getInstance().factory_.makeBranchNode(g.INFERENCE,[o.conclusion,o.premises],a);return l.mathmlTree=e,l}getLabel(e,t,s,r){const n=N.getInstance().findNestedRow(t,"prooflabel",r),a=N.getInstance().factory_.makeBranchNode(g.RULELABEL,s(Ut(n.childNodes)),[]);return a.role=r,a.mathmlTree=n,a}getFormulas(e,t,s){const r=t.length?N.getInstance().findNestedRow(t,"inferenceRule"):e,n=N.getSemantics(r).inferenceRule==="up",a=n?r.childNodes[1]:r.childNodes[0],o=n?r.childNodes[0]:r.childNodes[1],l=a.childNodes[0].childNodes[0],h=Ut(l.childNodes[0].childNodes),d=[];let x=1;for(const je of h)x%2&&d.push(je.childNodes[0]),x++;const k=s(d),I=s(Ut(o.childNodes[0].childNodes))[0],G=N.getInstance().factory_.makeBranchNode(g.PREMISES,k,[]);G.mathmlTree=l;const de=N.getInstance().factory_.makeBranchNode(g.CONCLUSION,[I],[]);return de.mathmlTree=o.childNodes[0].childNodes[0],{conclusion:de,premises:G}}findNestedRow(e,t,s){return N.getInstance().findNestedRow_(e,t,0,s)}cleanInference(e){return Ut(e).filter((function(t){return at(t)!=="MSPACE"}))}operatorNode(e){return e.type===g.UNKNOWN&&(e.type=g.OPERATOR),ye.run("multioperator",e)}constructor(){this.funcAppls={},this.splitRoles=new Map([[E.SUBTRACTION,E.NEGATIVE],[E.ADDITION,E.POSITIVE]]),this.splitOps=["\u2212","-","\u2010","\u2011","+"],this.factory_=new h0,ye.updateFactory(this.factory_)}implicitNode_(e){const t=N.getInstance().factory_.makeMultipleContentNodes(e.length-1,Yi.invisibleTimes);N.matchSpaces_(e,t);const s=N.getInstance().infixNode_(e,t[0]);return s.role=E.IMPLICIT,t.forEach((function(r){r.parent=s})),s.contentNodes=t,s}infixNode_(e,t){let s=N.getInstance().factory_.makeBranchNode(g.INFIXOP,e,[t],Bn(t).textContent);return s.role=t.role,s=ye.run("propagateInterval",s),ye.run("propagateSimpleFunction",s)}explicitMixed_(e){const t=ii(e,(function(r){return r.textContent===Yi.invisiblePlus}));if(!t.rel.length)return e;let s=[];for(let r,n=0;r=t.rel[n];n++){const a=t.comp[n],o=t.comp[n+1],l=a.length-1;if(a[l]&&o[0]&&be(a[l],g.NUMBER)&&!vt(a[l],E.MIXED)&&be(o[0],g.FRACTION)){const h=N.getInstance().factory_.makeBranchNode(g.NUMBER,[a[l],o[0]],[]);h.role=E.MIXED,s=s.concat(a.slice(0,l)),s.push(h),o.shift()}else s=s.concat(a),s.push(r)}return s.concat(t.comp[t.comp.length-1])}concatNode_(e,t,s){if(t.length===0)return e;const r=t.map((function(a){return Bn(a).textContent})).join(" "),n=N.getInstance().factory_.makeBranchNode(s,[e],t,r);return t.length>1&&(n.role=E.MULTIOP),n}prefixNode_(e,t){const s=this.splitSingles(t);let r=e;for(;s.length>0;){const n=s.pop();r=N.getInstance().concatNode_(r,n,g.PREFIXOP),n.length===1&&this.splitOps.indexOf(n[0].textContent)!==-1&&(r.role=this.splitRoles.get(n[0].role))}return r}splitSingles(e){let t=0;const s=[];let r=0;for(;r<e.length;){const n=e[r];!this.splitRoles.has(n.role)||e[r-1]&&e[r-1].role===n.role||e[r+1]&&e[r+1].role===n.role||this.splitOps.indexOf(n.textContent)===-1||(s.push(e.slice(t,r)),s.push(e.slice(r,r+1)),t=r+1),r++}return t<r&&s.push(e.slice(t,r)),s}postfixNode_(e,t){return t.length?N.getInstance().concatNode_(e,t,g.POSTFIXOP):e}combineUnits_(e){const t=ii(e,(function(a){return!vt(a,E.UNIT)}));if(e.length===t.rel.length)return t.rel;const s=[];let r,n;do{const a=t.comp.shift();r=t.rel.shift();let o=null;n=s.pop(),n&&(a.length&&C0(n)?a.unshift(n):s.push(n)),a.length===1&&(o=a.pop()),a.length>1&&(o=N.getInstance().implicitNode_(a),o.role=E.UNIT),o&&s.push(o),r&&s.push(r)}while(r);return s}getMixedNumbers_(e){const t=ii(e,(function(r){return be(r,g.FRACTION)&&vt(r,E.VULGAR)}));if(!t.rel.length)return e;let s=[];for(let r,n=0;r=t.rel[n];n++){const a=t.comp[n],o=a.length-1;if(a[o]&&be(a[o],g.NUMBER)&&(vt(a[o],E.INTEGER)||vt(a[o],E.FLOAT))){const l=N.getInstance().factory_.makeBranchNode(g.NUMBER,[a[o],r],[]);l.role=E.MIXED,s=s.concat(a.slice(0,o)),s.push(l)}else s=s.concat(a),s.push(r)}return s.concat(t.comp[t.comp.length-1])}getTextInRow_(e){if(e.length===0)return e;if(e.length===1)return e[0].type===g.TEXT&&e[0].role===E.UNKNOWN&&(e[0].role=E.ANNOTATION),e;const{rel:t,comp:s}=ii(e,(a=>be(a,g.TEXT)));if(t.length===0)return e;const r=[];let n=s.shift();for(;t.length>0;){let a=t.shift(),o=s.shift();const l=[];for(;!o.length&&t.length&&a.role!==E.SPACE&&t[0].role!==E.SPACE;)l.push(a),a=t.shift(),o=s.shift();if(l.length){n.length&&r.push(N.getInstance().row(n)),l.push(a);const d=N.getInstance().dummyNode_(l);r.push(d),n=o;continue}if(a.role!==E.UNKNOWN){n.length&&r.push(N.getInstance().row(n)),r.push(a),n=o;continue}const h=It.Meaning.get(a.textContent);h.type!==g.PUNCTUATION?h.type===g.UNKNOWN?(N.meaningFromContent(a,((d,x,k)=>{if(d.role===E.UNKNOWN){if(N.numberRole_(d,x,k),d.role===E.OTHERNUMBER)return k.some((I=>I.type!==g.NUMBER&&I.type!==g.IDENTIFIER))?(d.type=g.TEXT,void(d.role=E.ANNOTATION)):void(d.role=E.UNKNOWN);d.type=g.NUMBER}})),a.type!==g.TEXT||a.role===E.UNKNOWN?(a.role===E.UNKNOWN&&(t.length||o.length?o.length&&o[0].type===g.FENCED?(a.type=g.FUNCTION,a.role=E.PREFIXFUNC):a.role=E.TEXT:(a.type=g.IDENTIFIER,a.role=E.UNIT)),n.push(a),n=n.concat(o)):(n.length&&r.push(N.getInstance().row(n)),r.push(a),n=o)):(a.type=h.type,a.role=h.role,a.font=h.font,a.addAnnotation("general","text"),n.push(a),n=n.concat(o)):(a.role=h.role,a.font=h.font,n.length&&r.push(N.getInstance().row(n)),r.push(a),n=o)}return n.length>0&&r.push(N.getInstance().row(n)),r.length>1?[N.getInstance().dummyNode_(r)]:r}relationsInRow_(e){const t=ii(e,f0),s=t.rel[0];if(!s)return N.getInstance().operationsInRow_(e);if(e.length===1)return e[0];const r=t.comp.map(N.getInstance().operationsInRow_);let n;return t.rel.some((function(a){return!a.equals(s)}))?(n=N.getInstance().factory_.makeBranchNode(g.MULTIREL,r,t.rel),t.rel.every((function(a){return a.role===s.role}))&&(n.role=s.role),n):(n=N.getInstance().factory_.makeBranchNode(g.RELSEQ,r,t.rel,Bn(s).textContent),n.role=s.role,n)}operationsInRow_(e){if(e.length===0)return N.getInstance().factory_.makeEmptyNode();if((e=N.getInstance().explicitMixed_(e)).length===1)return e[0];const t=[];for(;e.length>0&&Jr(e[0]);)t.push(e.shift());if(e.length===0)return N.getInstance().prefixNode_(t.pop(),t);if(e.length===1)return N.getInstance().prefixNode_(e[0],t);const s=Qi(e=ye.run("convert_juxtaposition",e),Jr),r=N.getInstance().wrapFactor(t,s);return N.getInstance().addFactor(r,s)}wrapPostfix(e){var t;((t=e.div)===null||t===void 0?void 0:t.role)===E.POSTFIXOP&&(e.tail.length&&e.tail[0].type!==g.OPERATOR?e.div.role=E.DIVISION:(e.head=[N.getInstance().postfixNode_(N.getInstance().implicitNode(e.head),[e.div])],e.div=e.tail.shift(),N.getInstance().wrapPostfix(e)))}wrapFactor(e,t){return N.getInstance().wrapPostfix(t),N.getInstance().prefixNode_(N.getInstance().implicitNode(t.head),e)}addFactor(e,t){return t.div?N.getInstance().operationsTree_(t.tail,e,t.div):(T0(e)&&(e.role=E.UNIT),e)}operationsTree_(e,t,s,r=[]){if(e.length===0){if(r.unshift(s),t.type===g.INFIXOP){const l=N.getInstance().postfixNode_(t.childNodes.pop(),r);return t.appendChild(l),t}return N.getInstance().postfixNode_(t,r)}const n=Qi(e,Jr);if(n.head.length===0)return r.push(n.div),N.getInstance().operationsTree_(n.tail,t,s,r);const a=N.getInstance().wrapFactor(r,n),o=N.getInstance().appendOperand_(t,s,a);return N.getInstance().addFactor(o,n)}appendOperand_(e,t,s){return e.type!==g.INFIXOP?N.getInstance().infixNode_([e,s],t):N.getInstance().appendDivisionOp_(e,t,s)||(N.getInstance().appendExistingOperator_(e,t,s)?e:t.role===E.MULTIPLICATION?N.getInstance().appendMultiplicativeOp_(e,t,s):N.getInstance().appendAdditiveOp_(e,t,s))}appendDivisionOp_(e,t,s){return t.role===E.DIVISION?Kr(e)?N.getInstance().infixNode_([e,s],t):N.getInstance().appendLastOperand_(e,t,s):e.role===E.DIVISION?N.getInstance().infixNode_([e,s],t):null}appendLastOperand_(e,t,s){let r=e,n=e.childNodes[e.childNodes.length-1];for(;n&&n.type===g.INFIXOP&&!Kr(n);)r=n,n=r.childNodes[e.childNodes.length-1];const a=N.getInstance().infixNode_([r.childNodes.pop(),s],t);return r.appendChild(a),e}appendMultiplicativeOp_(e,t,s){if(Kr(e))return N.getInstance().infixNode_([e,s],t);let r=e,n=e.childNodes[e.childNodes.length-1];for(;n&&n.type===g.INFIXOP&&!Kr(n);)r=n,n=r.childNodes[e.childNodes.length-1];const a=N.getInstance().infixNode_([r.childNodes.pop(),s],t);return r.appendChild(a),e}appendAdditiveOp_(e,t,s){return N.getInstance().infixNode_([e,s],t)}appendExistingOperator_(e,t,s){return!(!e||e.type!==g.INFIXOP||Kr(e))&&(e.contentNodes[0].equals(t)?(e.appendContentNode(t),e.appendChild(s),!0):N.getInstance().appendExistingOperator_(e.childNodes[e.childNodes.length-1],t,s))}getFencesInRow_(e){let t=ii(e,g0);t=N.purgeFences_(t);const s=t.comp.shift();return N.getInstance().fences_(t.rel,t.comp,[],[s])}fences_(e,t,s,r){if(e.length===0&&s.length===0)return r[0];const n=ye.run("bracketed_interval",[e[0],e[1],...t[0]||[]],(()=>null));if(n){e.shift(),e.shift(),t.shift();const d=r.pop()||[];return r.push([...d,n,...t.shift()]),N.getInstance().fences_(e,t,s,r)}const a=d=>vt(d,E.OPEN);if(e.length===0){const d=r.shift();for(;s.length>0;){if(a(s[0])){const x=s.shift();N.fenceToPunct_(x),d.push(x)}else{const x=Qi(s,a),k=x.head.length-1,I=N.getInstance().neutralFences_(x.head,r.slice(0,k));r=r.slice(k),d.push(...I),x.div&&x.tail.unshift(x.div),s=x.tail}d.push(...r.shift())}return d}const o=s[s.length-1],l=e[0].role;if(l===E.OPEN||Bi(e[0])&&(!o||!pd(e[0],o))){s.push(e.shift());const d=t.shift();return d&&r.push(d),N.getInstance().fences_(e,t,s,r)}if(o&&l===E.CLOSE&&o.role===E.OPEN){const d=N.getInstance().horizontalFencedNode_(s.pop(),e.shift(),r.pop());return r.push(r.pop().concat([d],t.shift())),N.getInstance().fences_(e,t,s,r)}if(o&&pd(e[0],o)){if(!w0(o)||!k0(e[0])){s.push(e.shift());const x=t.shift();return x&&r.push(x),N.getInstance().fences_(e,t,s,r)}const d=N.getInstance().horizontalFencedNode_(s.pop(),e.shift(),r.pop());return r.push(r.pop().concat([d],t.shift())),N.getInstance().fences_(e,t,s,r)}if(o&&l===E.CLOSE&&Bi(o)&&s.some(a)){const d=Qi(s,a,!0),x=r.pop(),k=r.length-d.tail.length+1,I=N.getInstance().neutralFences_(d.tail,r.slice(k));r=r.slice(0,k);const G=N.getInstance().horizontalFencedNode_(d.div,e.shift(),r.pop().concat(I,x));return r.push(r.pop().concat([G],t.shift())),N.getInstance().fences_(e,t,d.head,r)}const h=e.shift();return N.fenceToPunct_(h),r.push(r.pop().concat([h],t.shift())),N.getInstance().fences_(e,t,s,r)}neutralFences_(e,t){if(e.length===0)return e;if(e.length===1)return N.fenceToPunct_(e[0]),e;const s=e.shift();if(!w0(s)){N.fenceToPunct_(s);const a=t.shift();return a.unshift(s),a.concat(N.getInstance().neutralFences_(e,t))}const r=Qi(e,(function(a){return pd(a,s)}));if(!r.div){N.fenceToPunct_(s);const a=t.shift();return a.unshift(s),a.concat(N.getInstance().neutralFences_(e,t))}if(!k0(r.div))return N.fenceToPunct_(r.div),e.unshift(s),N.getInstance().neutralFences_(e,t);const n=N.getInstance().combineFencedContent_(s,r.div,r.head,t);if(r.tail.length>0){const a=n.shift(),o=N.getInstance().neutralFences_(r.tail,n);return a.concat(o)}return n[0]}combineFencedContent_(e,t,s,r){if(s.length===0){const x=N.getInstance().horizontalFencedNode_(e,t,r.shift());return r.length>0?r[0].unshift(x):r=[[x]],r}const n=r.shift(),a=s.length-1,o=r.slice(0,a),l=(r=r.slice(a)).shift(),h=N.getInstance().neutralFences_(s,o);n.push(...h),n.push(...l);const d=N.getInstance().horizontalFencedNode_(e,t,n);return r.length>0?r[0].unshift(d):r=[[d]],r}horizontalFencedNode_(e,t,s){const r=N.getInstance().row(s);let n=N.getInstance().factory_.makeBranchNode(g.FENCED,[r],[e,t]);return e.role===E.OPEN?(N.getInstance().classifyHorizontalFence_(n),n=ye.run("propagateComposedFunction",n)):n.role=e.role,n=ye.run("detect_cycle",n),N.rewriteFencedNode_(n)}classifyHorizontalFence_(e){if(ye.run("interval_heuristic",e),e.role===E.INTERVAL)return;e.role=E.LEFTRIGHT;const t=e.childNodes;if(!(function(n){return(function(a){return!!a&&["{","\uFE5B","\uFF5B"].indexOf(a.textContent)!==-1})(n.contentNodes[0])&&(function(a){return!!a&&["}","\uFE5C","\uFF5D"].indexOf(a.textContent)!==-1})(n.contentNodes[1])})(e)||t.length>1)return;if(t.length===0||t[0].type===g.EMPTY)return void(e.role=E.SETEMPTY);const s=t[0].type;if(t.length===1&&hd(t[0]))return void(e.role=E.SETSINGLE);const r=t[0].role;if(s===g.PUNCTUATED&&r===E.SEQUENCE){if(t[0].contentNodes[0].role!==E.COMMA)return t[0].contentNodes.length!==1||t[0].contentNodes[0].role!==E.VBAR&&t[0].contentNodes[0].role!==E.COLON?void 0:(e.role=E.SETEXT,void N.getInstance().setExtension_(e));e.role=E.SETCOLLECT}}setExtension_(e){const t=e.childNodes[0].childNodes[0];t&&t.type===g.INFIXOP&&t.contentNodes.length===1&&A0(t.contentNodes[0])&&(t.addAnnotation("set","intensional"),t.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(e){if(e.length<=1)return e;const t=o=>{const l=o.type;return l==="punctuation"||l==="text"||l==="operator"||l==="relation"},s=ii(e,(function(o){if(!fc(o))return!1;if(fc(o)&&!vt(o,E.ELLIPSIS))return!0;const l=e.indexOf(o);if(l===0)return!e[1]||!t(e[1]);const h=e[l-1];if(l===e.length-1)return!t(h);const d=e[l+1];return!t(h)||!t(d)}));if(s.rel.length===0)return e;let r=[],n=s.comp.shift();n.length>0&&r.push(N.getInstance().row(n));let a=0;for(;s.comp.length>0;){let o=[];const l=a;do o.push(s.rel[a++]),n=s.comp.shift();while(s.rel[a]&&n&&n.length===0);o=ye.run("ellipses",o),s.rel.splice(l,a-l,...o),a=l+o.length,r=r.concat(o),n&&n.length>0&&r.push(N.getInstance().row(n))}return r.length===1&&s.rel.length===1?r:[N.getInstance().punctuatedNode_(r,s.rel)]}punctuatedNode_(e,t){const s=N.getInstance().factory_.makeBranchNode(g.PUNCTUATED,e,t);if(t.length===e.length){const n=t[0].role;if(n!==E.UNKNOWN&&t.every((function(a){return a.role===n})))return s.role=n,s}const r=t[0];return v0(e,t,0)?s.role=r.childNodes.length&&!r.embellished?r.role:E.STARTPUNCT:v0(e,t,e.length-1)?s.role=r.childNodes.length&&!r.embellished?r.role:E.ENDPUNCT:t.every((n=>vt(n,E.DUMMY)))?s.role=E.TEXT:t.every((n=>vt(n,E.SPACE)))?s.role=E.SPACE:s.role=E.SEQUENCE,s}dummyNode_(e){const t=N.getInstance().factory_.makeMultipleContentNodes(e.length-1,Yi.invisibleComma);return t.forEach((function(s){s.role=E.DUMMY})),N.getInstance().punctuatedNode_(e,t)}accentRole_(e,t){if(!Fn(e))return!1;const s=e.textContent,r=It.Secondary.get(s,Is.BAR)||It.Secondary.get(s,Is.TILDE)||e.role;return e.role=t===g.UNDERSCORE?E.UNDERACCENT:E.OVERACCENT,e.addAnnotation("accent",r),!0}accentNode_(e,t,s,r,n){const a=(t=t.slice(0,r+1))[1],o=t[2];let l;if(!n&&o&&(l=N.getInstance().factory_.makeBranchNode(g.SUBSCRIPT,[e,a],[]),l.role=E.SUBSUP,t=[l,o],s=g.SUPERSCRIPT),n){const h=N.getInstance().accentRole_(a,s);o&&(N.getInstance().accentRole_(o,g.OVERSCORE)&&!h?(l=N.getInstance().factory_.makeBranchNode(g.OVERSCORE,[e,o],[]),t=[l,a],s=g.UNDERSCORE):(l=N.getInstance().factory_.makeBranchNode(g.UNDERSCORE,[e,a],[]),t=[l,o],s=g.OVERSCORE),l.role=E.UNDEROVER)}return N.getInstance().makeLimitNode_(e,t,l,s)}makeLimitNode_(e,t,s,r){if(r===g.LIMUPPER&&e.type===g.LIMLOWER)return e.childNodes.push(t[1]),t[1].parent=e,e.type=g.LIMBOTH,e;if(r===g.LIMLOWER&&e.type===g.LIMUPPER)return e.childNodes.splice(1,-1,t[1]),t[1].parent=e,e.type=g.LIMBOTH,e;const n=N.getInstance().factory_.makeBranchNode(r,t,[]),a=m0(e);return s&&(s.embellished=a),n.embellished=a,n.role=e.role,n}getFunctionsInRow_(e,t){const s=t||[];if(e.length===0)return s;const r=e.shift(),n=N.classifyFunction_(r,e);if(!n)return s.push(r),N.getInstance().getFunctionsInRow_(e,s);const a=N.getInstance().getFunctionsInRow_(e,[]),o=N.getInstance().getFunctionArgs_(r,a,n);return s.concat(o)}getFunctionArgs_(e,t,s){let r,n,a;switch(s){case"integral":{const o=N.getInstance().getIntegralArgs_(t);if(!o.intvar&&!o.integrand.length)return o.rest.unshift(e),o.rest;const l=N.getInstance().row(o.integrand);return a=N.getInstance().integralNode_(e,l,o.intvar),ye.run("intvar_from_fraction",a),o.rest.unshift(a),o.rest}case"prefix":if(t[0]&&t[0].type===g.FENCED){const o=t.shift();return Bi(o)||(o.role=E.LEFTRIGHT),a=N.getInstance().functionNode_(e,o),t.unshift(a),t}if(r=Qi(t,If),r.head.length)n=N.getInstance().row(r.head),r.div&&r.tail.unshift(r.div);else{if(!r.div||!be(r.div,g.APPL))return t.unshift(e),t;n=r.div}return a=N.getInstance().functionNode_(e,n),r.tail.unshift(a),r.tail;case"bigop":return r=Qi(t,d0),r.head.length?(n=N.getInstance().row(r.head),a=N.getInstance().bigOpNode_(e,n),r.div&&r.tail.unshift(r.div),r.tail.unshift(a),r.tail):(t.unshift(e),t);default:{if(t.length===0)return[e];const o=t[0];return o.type===g.FENCED&&!Bi(o)&&(function(l){const h=l.childNodes;if(h.length===0)return!0;if(h.length>1)return!1;const d=h[0];return!(d.type===g.INFIXOP&&(d.role!==E.IMPLICIT||d.childNodes.some((x=>be(x,g.INFIXOP)))))})(o)?(o.role=E.LEFTRIGHT,N.propagateFunctionRole_(e,E.SIMPLEFUNC),a=N.getInstance().functionNode_(e,t.shift()),t.unshift(a),t):(t.unshift(e),t)}}}getIntegralArgs_(e,t=[]){if(e.length===0){const r=Qi(t,d0);return r.div&&r.tail.unshift(r.div),{integrand:r.head,intvar:null,rest:r.tail}}ye.run("intvar_from_implicit",e);const s=e[0];if(ud(s)){const{integrand:r,rest:n}=N.getInstance().getIntegralArgs_(t);return{integrand:r,intvar:null,rest:n.concat(e)}}if(ld(s))return s.role=E.INTEGRAL,{integrand:t,intvar:s,rest:e.slice(1)};if(e[1]&&p0(s,e[1])){const r=N.getInstance().prefixNode_(e[1],[s]);return r.role=E.INTEGRAL,{integrand:t,intvar:r,rest:e.slice(2)}}return t.push(e.shift()),N.getInstance().getIntegralArgs_(e,t)}functionNode_(e,t){const s=N.getInstance().factory_.makeContentNode(Yi.functionApplication),r=N.getInstance().funcAppls[e.id];r&&(s.mathmlTree=r.mathmlTree,s.mathml=r.mathml,s.annotation=r.annotation,s.attributes=r.attributes,delete N.getInstance().funcAppls[e.id]),s.type=g.PUNCTUATION,s.role=E.APPLICATION;const n=N.getFunctionOp_(e,(function(a){return be(a,g.FUNCTION)||be(a,g.IDENTIFIER)&&vt(a,E.SIMPLEFUNC)}));return N.getInstance().functionalNode_(g.APPL,[e,t],n,[s])}bigOpNode_(e,t){const s=N.getFunctionOp_(e,(r=>be(r,g.LARGEOP)));return N.getInstance().functionalNode_(g.BIGOP,[e,t],s,[])}integralNode_(e,t,s){t=t||N.getInstance().factory_.makeEmptyNode(),s=s||N.getInstance().factory_.makeEmptyNode();const r=N.getFunctionOp_(e,(n=>be(n,g.LARGEOP)));return N.getInstance().functionalNode_(g.INTEGRAL,[e,t,s],r,[])}functionalNode_(e,t,s,r){const n=t[0];let a;s&&(a=s.parent,r.push(s));const o=N.getInstance().factory_.makeBranchNode(e,t,r);return o.role=n.role,a&&(s.parent=a),o}fractionNode_(e,t){const s=N.getInstance().factory_.makeBranchNode(g.FRACTION,[e,t],[]);return s.role=s.childNodes.every((function(r){return be(r,g.NUMBER)&&vt(r,E.INTEGER)}))?E.VULGAR:s.childNodes.every(dd)?E.UNIT:E.DIVISION,ye.run("propagateSimpleFunction",s)}scriptNode_(e,t,s){let r;switch(e.length){case 0:r=N.getInstance().factory_.makeEmptyNode();break;case 1:if(r=e[0],s)return r;break;default:r=N.getInstance().dummyNode_(e)}return r.role=t,r}findNestedRow_(e,t,s,r){if(s>3)return null;for(let n,a=0;n=e[a];a++){const o=at(n);if(o!==P.MSPACE){if(o===P.MROW)return N.getInstance().findNestedRow_(Ut(n.childNodes),t,s+1,r);if(N.findSemantics(n,t,r))return n}}return null}}N.FENCE_TO_PUNCT_={[E.METRIC]:E.METRIC,[E.NEUTRAL]:E.VBAR,[E.OPEN]:E.OPENFENCE,[E.CLOSE]:E.CLOSEFENCE},N.MML_TO_LIMIT_={[P.MSUB]:{type:g.LIMLOWER,length:1},[P.MUNDER]:{type:g.LIMLOWER,length:1},[P.MSUP]:{type:g.LIMUPPER,length:1},[P.MOVER]:{type:g.LIMUPPER,length:1},[P.MSUBSUP]:{type:g.LIMBOTH,length:2},[P.MUNDEROVER]:{type:g.LIMBOTH,length:2}},N.MML_TO_BOUNDS_={[P.MSUB]:{type:g.SUBSCRIPT,length:1,accent:!1},[P.MSUP]:{type:g.SUPERSCRIPT,length:1,accent:!1},[P.MSUBSUP]:{type:g.SUBSCRIPT,length:2,accent:!1},[P.MUNDER]:{type:g.UNDERSCORE,length:1,accent:!0},[P.MOVER]:{type:g.OVERSCORE,length:1,accent:!0},[P.MUNDEROVER]:{type:g.UNDERSCORE,length:2,accent:!0}},N.CLASSIFY_FUNCTION_={[E.INTEGRAL]:"integral",[E.SUM]:"bigop",[E.PREFIXFUNC]:"prefix",[E.LIMFUNC]:"prefix",[E.SIMPLEFUNC]:"prefix",[E.COMPFUNC]:"prefix"},N.MATHJAX_FONTS={"-tex-caligraphic":ht.CALIGRAPHIC,"-tex-caligraphic-bold":ht.CALIGRAPHICBOLD,"-tex-calligraphic":ht.CALIGRAPHIC,"-tex-calligraphic-bold":ht.CALIGRAPHICBOLD,"-tex-oldstyle":ht.OLDSTYLE,"-tex-oldstyle-bold":ht.OLDSTYLEBOLD,"-tex-mathit":ht.ITALIC};class jn extends Sf{static getAttribute_(e,t,s){if(!e.hasAttribute(t))return s;const r=e.getAttribute(t);return r.match(/^\s*$/)?null:r}constructor(e){super("MathML"),this.options=e,ye.options=e,this.parseMap_=new Map([[P.SEMANTICS,this.semantics_.bind(this)],[P.MATH,this.rows_.bind(this)],[P.MROW,this.rows_.bind(this)],[P.MPADDED,this.rows_.bind(this)],[P.MSTYLE,this.rows_.bind(this)],[P.MFRAC,this.fraction_.bind(this)],[P.MSUB,this.limits_.bind(this)],[P.MSUP,this.limits_.bind(this)],[P.MSUBSUP,this.limits_.bind(this)],[P.MOVER,this.limits_.bind(this)],[P.MUNDER,this.limits_.bind(this)],[P.MUNDEROVER,this.limits_.bind(this)],[P.MROOT,this.root_.bind(this)],[P.MSQRT,this.sqrt_.bind(this)],[P.MTABLE,this.table_.bind(this)],[P.MLABELEDTR,this.tableLabeledRow_.bind(this)],[P.MTR,this.tableRow_.bind(this)],[P.MTD,this.tableCell_.bind(this)],[P.MS,this.text_.bind(this)],[P.MTEXT,this.text_.bind(this)],[P.MSPACE,this.space_.bind(this)],[P.ANNOTATIONXML,this.text_.bind(this)],[P.MI,this.identifier_.bind(this)],[P.MN,this.number_.bind(this)],[P.MO,this.operator_.bind(this)],[P.MFENCED,this.fenced_.bind(this)],[P.MENCLOSE,this.enclosed_.bind(this)],[P.MMULTISCRIPTS,this.multiscripts_.bind(this)],[P.ANNOTATION,this.empty_.bind(this)],[P.NONE,this.empty_.bind(this)],[P.MACTION,this.action_.bind(this)]]);const t={type:g.IDENTIFIER,role:E.NUMBERSET,font:ht.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","\u2102","\u210D","\u2115","\u2119","\u211A","\u211D","\u2124"].forEach((s=>this.getFactory().defaultMap.set(s,t)).bind(this))}parse(e){N.getInstance().setNodeFactory(this.getFactory());const t=Ut(e.childNodes),s=at(e),r=this.parseMap_.get(s),n=(r||this.dummy_.bind(this))(e,t);return cd(n,e),[P.MATH,P.MROW,P.MPADDED,P.MSTYLE,P.SEMANTICS,P.MACTION].indexOf(s)!==-1||(n.mathml.unshift(e),n.mathmlTree=e),n}semantics_(e,t){return t.length?this.parse(t[0]):this.getFactory().makeEmptyNode()}rows_(e,t){const s=e.getAttribute("semantics");if(s&&s.match("bspr_"))return N.proof(e,s,this.parseList.bind(this));let r;if((t=Gr(t)).length===1)r=this.parse(t[0]),r.type!==g.EMPTY||r.mathmlTree||(r.mathmlTree=e);else{const n=ye.run("function_from_identifiers",e);r=n&&n!==e?n:N.getInstance().row(this.parseList(t))}return r.mathml.unshift(e),r}fraction_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const s=this.parse(t[0]),r=t[1]?this.parse(t[1]):this.getFactory().makeEmptyNode();return N.getInstance().fractionLikeNode(s,r,e.getAttribute("linethickness"),e.getAttribute("bevelled")==="true")}limits_(e,t){return N.getInstance().limitNode(at(e),this.parseList(t))}root_(e,t){return t[1]?this.getFactory().makeBranchNode(g.ROOT,[this.parse(t[1]),this.parse(t[0])],[]):this.sqrt_(e,t)}sqrt_(e,t){const s=this.parseList(Gr(t));return this.getFactory().makeBranchNode(g.SQRT,[N.getInstance().row(s)],[])}table_(e,t){const s=e.getAttribute("semantics");if(s&&s.match("bspr_"))return N.proof(e,s,this.parseList.bind(this));const r=this.getFactory().makeBranchNode(g.TABLE,this.parseList(t),[]);return r.mathmlTree=e,N.tableToMultiline(r)}tableRow_(e,t){const s=this.getFactory().makeBranchNode(g.ROW,this.parseList(t),[]);return s.role=E.TABLE,s}tableLabeledRow_(e,t){var s;if(!t.length)return this.tableRow_(e,t);const r=this.parse(t[0]);r.role=E.LABEL,((s=r.childNodes[0])===null||s===void 0?void 0:s.type)===g.TEXT&&(r.childNodes[0].role=E.LABEL);const n=this.getFactory().makeBranchNode(g.ROW,this.parseList(t.slice(1)),[r]);return n.role=E.TABLE,n}tableCell_(e,t){const s=this.parseList(Gr(t));let r;r=s.length?s.length===1&&be(s[0],g.EMPTY)?s:[N.getInstance().row(s)]:[];const n=this.getFactory().makeBranchNode(g.CELL,r,[]);return n.role=E.TABLE,n}space_(e,t){const s=e.getAttribute("width"),r=s&&s.match(/[a-z]*$/);if(!r)return this.empty_(e,t);const n=r[0],a=parseFloat(s.slice(0,r.index)),o={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[n];if(!o||isNaN(a)||a<o)return this.empty_(e,t);const l=this.getFactory().makeUnprocessed(e);return N.getInstance().text(l,at(e))}text_(e,t){const s=this.leaf_(e,t);return e.textContent?(s.updateContent(e.textContent,!0),N.getInstance().text(s,at(e))):s}identifier_(e,t){const s=this.leaf_(e,t);return N.getInstance().identifierNode(s,N.getInstance().font(e.getAttribute("mathvariant")),e.getAttribute("class"))}number_(e,t){const s=this.leaf_(e,t);return N.number(s),s}operator_(e,t){const s=this.leaf_(e,t);return N.getInstance().operatorNode(s),s}fenced_(e,t){const s=this.parseList(Gr(t)),r=jn.getAttribute_(e,"separators",","),n=jn.getAttribute_(e,"open","("),a=jn.getAttribute_(e,"close",")"),o=N.getInstance().mfenced(n,a,r,s);return N.getInstance().tablesInRow([o])[0]}enclosed_(e,t){const s=this.parseList(Gr(t)),r=this.getFactory().makeBranchNode(g.ENCLOSE,[N.getInstance().row(s)],[]);return r.role=e.getAttribute("notation")||E.UNKNOWN,r}multiscripts_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();const s=this.parse(t.shift());if(!t.length)return s;const r=[],n=[],a=[],o=[];let l=!1,h=0;for(let d,x=0;d=t[x];x++)at(d)!==P.MPRESCRIPTS?(l?1&h?r.push(d):n.push(d):1&h?a.push(d):o.push(d),h++):(l=!0,h=0);return Gr(r).length||Gr(n).length?N.getInstance().tensor(s,this.parseList(n),this.parseList(r),this.parseList(o),this.parseList(a)):N.getInstance().pseudoTensor(s,this.parseList(o),this.parseList(a))}empty_(e,t){return this.getFactory().makeEmptyNode()}action_(e,t){const s=t[e.hasAttribute("selection")?parseInt(e.getAttribute("selection"),10)-1:0],r=this.parse(s);return r.mathmlTree=s,r}dummy_(e,t){const s=this.getFactory().makeUnprocessed(e);return s.role=e.tagName,s.textContent=e.textContent,s}leaf_(e,t){if(t.length===1&&t[0].nodeType!==Er.TEXT_NODE){const r=this.getFactory().makeUnprocessed(e);return r.role=t[0].tagName,cd(r,t[0]),r}const s=this.getFactory().makeLeafNode(e.textContent,N.getInstance().font(e.getAttribute("mathvariant")));return e.hasAttribute("data-latex")&&It.LatexCommands.set(e.getAttribute("data-latex"),e.textContent),s}}class md{constructor(e,t,s=r=>!1){this.name=e,this.apply=t,this.applicable=s}}class bi extends md{}class co extends md{}function L0(i,e){const t=[];for(;i.length||e.length;)i.length&&t.push(i.shift()),e.length&&t.push(e.shift());return t}const M0="data-semantic-";var he;(function(i){i.ADDED="data-semantic-added",i.ALTERNATIVE="data-semantic-alternative",i.CHILDREN="data-semantic-children",i.COLLAPSED="data-semantic-collapsed",i.CONTENT="data-semantic-content",i.EMBELLISHED="data-semantic-embellished",i.FENCEPOINTER="data-semantic-fencepointer",i.FONT="data-semantic-font",i.ID="data-semantic-id",i.ANNOTATION="data-semantic-annotation",i.ATTRIBUTES="data-semantic-attributes",i.OPERATOR="data-semantic-operator",i.OWNS="data-semantic-owns",i.PARENT="data-semantic-parent",i.POSTFIX="data-semantic-postfix",i.PREFIX="data-semantic-prefix",i.ROLE="data-semantic-role",i.SPEECH="data-semantic-speech",i.STRUCTURE="data-semantic-structure",i.SUMMARY="data-semantic-summary",i.TYPE="data-semantic-type"})(he||(he={}));const Ff=[he.ADDED,he.ALTERNATIVE,he.CHILDREN,he.COLLAPSED,he.CONTENT,he.EMBELLISHED,he.FENCEPOINTER,he.FONT,he.ID,he.ANNOTATION,he.ATTRIBUTES,he.OPERATOR,he.OWNS,he.PARENT,he.POSTFIX,he.PREFIX,he.ROLE,he.SPEECH,he.STRUCTURE,he.SUMMARY,he.TYPE];function fd(i){return i.map((function(e){return e.id})).join(",")}function ss(i,e){i.setAttribute(he.TYPE,e.type);const t=e.allAttributes();for(let r,n=0;r=t[n];n++)i.setAttribute(M0+r[0].toLowerCase(),r[1]);e.childNodes.length&&i.setAttribute(he.CHILDREN,fd(e.childNodes)),e.contentNodes.length&&i.setAttribute(he.CONTENT,fd(e.contentNodes)),e.parent&&i.setAttribute(he.PARENT,e.parent.id.toString());const s=e.attributesXml();s&&i.setAttribute(he.ATTRIBUTES,s),(function(r,n){const a=[];n.role===E.MGLYPH&&a.push("image"),n.attributes.href&&a.push("link"),a.length&&r.setAttribute(he.POSTFIX,a.join(" "))})(i,e)}function Zi(){const i=io("mrow");return i.setAttribute(he.ADDED,"true"),i}class Re{static fromTree(e){return Re.fromNode(e.root)}static fromNode(e){return new Re(Re.fromNode_(e))}static fromString(e){return new Re(Re.fromString_(e))}static simpleCollapseStructure(e){return typeof e=="number"}static contentCollapseStructure(e){return!!e&&!Re.simpleCollapseStructure(e)&&e[0]==="c"}static interleaveIds(e,t){return L0(Re.collapsedLeafs(e),Re.collapsedLeafs(t))}static collapsedLeafs(...e){return e.reduce(((t,s)=>{return t.concat((r=s,Re.simpleCollapseStructure(r)?[r]:Re.contentCollapseStructure(r[1])?r.slice(2):r.slice(1)));var r}),[])}static fromStructure(e,t,s){return new Re(Re.tree_(e,t.root,s))}static combineContentChildren(e,t,s,r){switch(e){case g.RELSEQ:case g.INFIXOP:case g.MULTIREL:return L0(r,s);case g.PREFIXOP:return s.concat(r);case g.POSTFIXOP:return r.concat(s);case g.MATRIX:case g.VECTOR:case g.FENCED:return r.unshift(s[0]),r.push(s[1]),r;case g.CASES:return r.unshift(s[0]),r;case g.APPL:return[r[0],s[0],r[1]];case g.ROOT:return[r[0],r[1]];case g.ROW:case g.LINE:return s.length&&r.unshift(s[0]),r;default:return r}}static makeSexp_(e){return Re.simpleCollapseStructure(e)?e.toString():Re.contentCollapseStructure(e)?"(c "+e.slice(1).map(Re.makeSexp_).join(" ")+")":"("+e.map(Re.makeSexp_).join(" ")+")"}static fromString_(e){let t=e.replace(/\(/g,"[");return t=t.replace(/\)/g,"]"),t=t.replace(/ /g,","),t=t.replace(/c/g,'"c"'),JSON.parse(t)}static fromNode_(e){if(!e)return[];const t=e.contentNodes;let s;t.length&&(s=t.map(Re.fromNode_),s.unshift("c"));const r=e.childNodes;if(!r.length)return t.length?[e.id,s]:e.id;const n=r.map(Re.fromNode_);return t.length&&n.unshift(s),n.unshift(e.id),n}static tree_(e,t,s,r=0,n=1,a=1){if(!t)return[];const o=t.id,l=[o];(function(x){if(Bs.getInstance().mode!==Dn.HTTP)return;let k=x;for(;k&&!k.evaluate;)k=k.parentNode;k&&k.evaluate?to.currentDocument=k:x.ownerDocument&&(to.currentDocument=x.ownerDocument)})(e);const h=(function(x,k){let I;try{I=mf(x,k,to.result.ORDERED_NODE_ITERATOR_TYPE)}catch(de){return[]}const G=[];for(let de=I.iterateNext();de;de=I.iterateNext())G.push(de);return G})(`.//self::*[@${he.ID}=${o}]`,e)[0];if(!t.childNodes.length)return Re.addAria(h,r,n,a,s),t.id;const d=Re.combineContentChildren(t.type,t.role,t.contentNodes.map((function(x){return x})),t.childNodes.map((function(x){return x})));h&&Re.addOwns_(h,d);for(let x,k=0,I=d.length;x=d[k];k++)l.push(Re.tree_(e,x,s,r+1,k+1,I));return Re.addAria(h,r,n,a,s),l}static addAria(e,t,s,r,n){const a=n.tree?t?"treeitem":"tree":"treeitem";n.aria&&e&&(e.setAttribute("aria-level",t.toString()),e.setAttribute("aria-posinset",s.toString()),e.setAttribute("aria-setsize",r.toString()),e.setAttribute("role",a),e.hasAttribute(he.OWNS)&&e.setAttribute("aria-owns",e.getAttribute(he.OWNS)))}static addOwns_(e,t){const s=e.getAttribute(he.COLLAPSED),r=s?Re.realLeafs_(Re.fromString(s).array):t.map((n=>n.id));e.setAttribute(he.OWNS,r.join(" "))}static realLeafs_(e){if(Re.simpleCollapseStructure(e))return[e];if(Re.contentCollapseStructure(e))return[];let t=[];for(let s=1;s<e.length;s++)t=t.concat(Re.realLeafs_(e[s]));return t}constructor(e){this.parents=null,this.levelsMap=null,e=e===0?e:e||[],this.array=e}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return Re.makeSexp_(this.array)}populate_(e,t,s){if(Re.simpleCollapseStructure(e))return this.levelsMap[e]=t,void(this.parents[e]=e===s[0]?s.slice(1):s);const r=Re.contentCollapseStructure(e)?e.slice(1):e,n=[r[0]].concat(s);for(let a=0,o=r.length;a<o;a++){const l=r[a];this.populate_(l,e,n)}}isRoot(e){return e===this.levelsMap[e][0]}directChildren(e){return this.isRoot(e)?this.levelsMap[e].slice(1).map((t=>Re.simpleCollapseStructure(t)?t:Re.contentCollapseStructure(t)?t[1]:t[0])):[]}subtreeNodes(e){if(!this.isRoot(e))return[];const t=(n,a)=>{Re.simpleCollapseStructure(n)?a.push(n):(Re.contentCollapseStructure(n)&&(n=n.slice(1)),n.forEach((o=>t(o,a))))},s=this.levelsMap[e],r=[];return t(s.slice(1),r),r}}function S0(i,e,t){let s=null;if(!i.length)return s;const r=t[t.length-1],n=r&&r.length,a=e&&e.length,o=N.getInstance();if(n&&a){if(e[0].type===g.INFIXOP&&e[0].role===E.IMPLICIT)return s=i.pop(),r.push(o.postfixNode_(r.pop(),i)),s;s=i.shift();const l=o.prefixNode_(e.shift(),i);return e.unshift(l),s}return n?(r.push(o.postfixNode_(r.pop(),i)),s):(a&&e.unshift(o.prefixNode_(e.shift(),i)),s)}function Un(i,e,t){if(!e.length)return i;const s=i.pop(),r=e.shift(),n=t.shift();if(r.type===g.INFIXOP&&(r.role===E.IMPLICIT||r.role===E.UNIT)){et.getInstance().output("Juxta Heuristic Case 2");const l=(s?[s,r]:[r]).concat(n);return Un(i.concat(l),e,t)}if(!s)return et.getInstance().output("Juxta Heuristic Case 3"),Un([r].concat(n),e,t);const a=n.shift();if(!a){et.getInstance().output("Juxta Heuristic Case 9");const l=ye.factory.makeBranchNode(g.INFIXOP,[s,e.shift()],[r],r.textContent);return l.role=E.IMPLICIT,ye.run("combine_juxtaposition",l),e.unshift(l),Un(i,e,t)}if(Jr(s)||Jr(a))return et.getInstance().output("Juxta Heuristic Case 4"),Un(i.concat([s,r,a]).concat(n),e,t);let o=null;return oo(s)&&oo(a)?(et.getInstance().output("Juxta Heuristic Case 5"),s.contentNodes.push(r),s.contentNodes=s.contentNodes.concat(a.contentNodes),s.childNodes.push(a),s.childNodes=s.childNodes.concat(a.childNodes),a.childNodes.forEach((l=>l.parent=s)),r.parent=s,s.addMathmlNodes(r.mathml),s.addMathmlNodes(a.mathml),o=s):oo(s)?(et.getInstance().output("Juxta Heuristic Case 6"),s.contentNodes.push(r),s.childNodes.push(a),a.parent=s,r.parent=s,s.addMathmlNodes(r.mathml),s.addMathmlNodes(a.mathml),o=s):oo(a)?(et.getInstance().output("Juxta Heuristic Case 7"),a.contentNodes.unshift(r),a.childNodes.unshift(s),s.parent=a,r.parent=a,a.addMathmlNodes(r.mathml),a.addMathmlNodes(s.mathml),o=a):(et.getInstance().output("Juxta Heuristic Case 8"),o=ye.factory.makeBranchNode(g.INFIXOP,[s,a],[r],r.textContent),o.role=E.IMPLICIT),i.push(o),Un(i.concat(n),e,t)}function I0(i){return i.childNodes[0]&&i.childNodes[0].childNodes[0]&&at(i.childNodes[0])===P.MPADDED&&at(i.childNodes[0].childNodes[0])===P.MPADDED&&at(i.childNodes[0].childNodes[i.childNodes[0].childNodes.length-1])===P.MPHANTOM}ye.add(new bi("combine_juxtaposition",(function(i){for(let e,t=i.childNodes.length-1;e=i.childNodes[t];t--)oo(e)&&!e.nobreaking&&(i.childNodes.splice(t,1,...e.childNodes),i.contentNodes.splice(t,0,...e.contentNodes),e.childNodes.concat(e.contentNodes).forEach((function(s){s.parent=i})),i.addMathmlNodes(e.mathml));return i}))),ye.add(new bi("propagateSimpleFunction",(i=>(i.type!==g.INFIXOP&&i.type!==g.FRACTION||!i.childNodes.every(Df)||(i.role=E.COMPFUNC),i)),(i=>ye.options.domain==="clearspeak"))),ye.add(new bi("simpleNamedFunction",(i=>(i.role!==E.UNIT&&["f","g","h","F","G","H"].indexOf(i.textContent)!==-1&&(i.role=E.SIMPLEFUNC),i)),(i=>ye.options.domain==="clearspeak"))),ye.add(new bi("propagateComposedFunction",(i=>(i.type===g.FENCED&&i.childNodes[0].role===E.COMPFUNC&&(i.role=E.COMPFUNC),i)),(i=>ye.options.domain==="clearspeak"))),ye.add(new bi("multioperator",(i=>{i.role!==E.UNKNOWN||i.textContent.length<=1||(N.compSemantics(i,"role",E),N.compSemantics(i,"type",g))}))),ye.add(new co("convert_juxtaposition",(i=>{let e=ii(i,(function(t){return t.textContent===Yi.invisibleTimes&&t.type===g.OPERATOR}));e=e.rel.length?(function(t){const s=[],r=[];let n=t.comp.shift(),a=null,o=[];for(;t.comp.length;)if(o=[],n.length)a&&s.push(a),r.push(n),a=t.rel.shift(),n=t.comp.shift();else{for(a&&o.push(a);!n.length&&t.comp.length;)n=t.comp.shift(),o.push(t.rel.shift());a=S0(o,n,r)}return o.length||n.length?(s.push(a),r.push(n)):(o.push(a),S0(o,n,r)),{rel:s,comp:r}})(e):e,i=e.comp[0];for(let t,s,r=1;t=e.comp[r],s=e.rel[r-1];r++)i.push(s),i=i.concat(t);return e=ii(i,(function(t){return t.textContent===Yi.invisibleTimes&&(t.type===g.OPERATOR||t.type===g.INFIXOP)})),e.rel.length?Un(e.comp.shift(),e.rel,e.comp):i}))),ye.add(new bi("simple2prefix",(i=>(i.textContent.length>1&&!i.textContent[0].match(/[A-Z]/)&&(i.role=E.PREFIXFUNC),i)),(i=>ye.options.modality==="braille"&&i.type===g.IDENTIFIER))),ye.add(new bi("detect_cycle",(i=>{i.type=g.MATRIX,i.role=E.CYCLE;const e=i.childNodes[0];return e.type=g.ROW,e.role=E.CYCLE,e.textContent="",e.contentNodes=[],i}),(i=>i.type===g.FENCED&&i.childNodes[0].type===g.INFIXOP&&i.childNodes[0].role===E.IMPLICIT&&i.childNodes[0].childNodes.every((function(e){return e.type===g.NUMBER}))&&i.childNodes[0].contentNodes.every((function(e){return e.role===E.SPACE}))))),ye.add(new co("intvar_from_implicit",(function(i){const e=i[0].childNodes;i.splice(0,1,...e)}),(i=>i[0]&&Kr(i[0])))),ye.add(new bi("intvar_from_fraction",(function(i){const e=i.childNodes[1],t=e.childNodes[0];if(ld(t))return void(t.role=E.INTEGRAL);if(!Kr(t))return;const s=t.childNodes.length,r=t.childNodes[s-2],n=t.childNodes[s-1];if(ld(n))return void(n.role=E.INTEGRAL);if(p0(r,n)){const a=N.getInstance().prefixNode_(n,[r]);a.role=E.INTEGRAL,s===2?e.childNodes[0]=a:(t.childNodes.pop(),t.contentNodes.pop(),t.childNodes[s-2]=a,a.parent=t)}}),(i=>{if(i.type!==g.INTEGRAL)return!1;const[,e,t]=i.childNodes;return t.type===g.EMPTY&&e.type===g.FRACTION}))),ye.add(new bi("rewrite_subcases",(function(i){i.addAnnotation("Emph","top");let e=[];if(i.hasAnnotation("Emph","left")){const r=R0(i.childNodes[0].childNodes[0].childNodes[0],!0);r.forEach((n=>n.addAnnotation("Emph","left"))),e=e.concat(r);for(let n,a=0;n=i.childNodes[a];a++)n.childNodes.shift()}if(e.push(i),i.hasAnnotation("Emph","right")){const r=R0(i.childNodes[0].childNodes[i.childNodes[0].childNodes.length-1].childNodes[0]);r.forEach((n=>n.addAnnotation("Emph","left"))),e=e.concat(r),i.childNodes[0].childNodes.pop()}N.tableToMultiline(i);const t=N.getInstance().row(e),s=i.annotation.Emph;return i.annotation.Emph=["table"],s.forEach((r=>t.addAnnotation("Emph",r))),t}),(i=>{let e=!0,t=!0;if(I0(i.childNodes[0].childNodes[0].mathmlTree)){for(let s,r=1;s=i.childNodes[r];r++)if(s.childNodes[0].childNodes.length){e=!1;break}}else e=!1;if(e&&i.addAnnotation("Emph","left"),I0(i.childNodes[0].childNodes[i.childNodes[0].childNodes.length-1].mathmlTree)){const s=i.childNodes[0].childNodes.length;for(let r,n=1;r=i.childNodes[n];n++)if(r.childNodes.length>=s){t=!1;break}}else t=!1;return t&&i.addAnnotation("Emph","right"),e||t})));const jf=[g.PUNCTUATED,g.RELSEQ,g.MULTIREL,g.INFIXOP,g.PREFIXOP,g.POSTFIXOP];function R0(i,e){if(!i.childNodes.length)return gd(i),[i];let t=null;if(i.type===g.PUNCTUATED&&(e?i.role===E.ENDPUNCT:i.role===E.STARTPUNCT)){const s=i.childNodes;gd(s[e?s.length-1:0])&&(i=s[e?0:s.length-1],t=s[e?s.length-1:0])}if(jf.indexOf(i.type)!==-1){const s=i.childNodes;gd(s[e?s.length-1:0]);const r=Re.combineContentChildren(i.type,i.role,i.contentNodes,i.childNodes);return t&&(e?r.push(t):r.unshift(t)),r}return t?e?[i,t]:[t,i]:[i]}const Uf={[E.METRIC]:E.METRIC,[E.VBAR]:E.NEUTRAL,[E.OPENFENCE]:E.OPEN,[E.CLOSEFENCE]:E.CLOSE};function gd(i){if(i.type!==g.PUNCTUATION)return!1;const e=Uf[i.role];return!!e&&(i.role=e,i.type=g.FENCE,i.addAnnotation("Emph","fence"),!0)}function _0(i,e,t,s=t){const r=[];for(;i&&i.role===t;)r.push(i),i=e.shift();return r.length?(i&&e.unshift(i),[r.length===1?r[0]:qf(r,s),e]):[i,e]}function qf(i,e){const t=ye.factory.makeBranchNode(g.PUNCTUATION,i,[]);return t.role=e,t}function gc(i){return["[","\uFF3B"].includes(i)}function bc(i){return["]","\uFF3D"].includes(i)}function O0(i){return["(","\u207D","\u208D"].includes(i)}function D0(i){return[")","\u207E","\u208E"].includes(i)}function P0(i){return i.role===E.INFTY||i.type===g.PREFIXOP&&i.childNodes[0].role===E.INFTY}function B0(i){const e=i.childNodes[0];if(i.type!==g.FENCED||(e==null?void 0:e.type)!==g.PUNCTUATED||(e==null?void 0:e.childNodes.length)!==3||(e==null?void 0:e.contentNodes.length)!==1||(e==null?void 0:e.childNodes[1].role)!==E.COMMA)return!1;const t=i.childNodes[0].childNodes[0],s=i.childNodes[0].childNodes[2],r=i.contentNodes[0].textContent,n=i.contentNodes[1].textContent;return!!(gc(r)&&D0(n)||O0(r)&&bc(n))||!(!O0(r)||!D0(n)||!P0(t)&&!P0(s))}function Hf(i){return Ed(i)||(function(e){return $r(e)||e.type===g.INFIXOP&&e.role===E.IMPLICIT&&(e.childNodes.length===2&&($r(e.childNodes[0])||Ed(e.childNodes[0]))&&$r(e.childNodes[1])||e.childNodes.length===3&&Ed(e.childNodes[0])&&$r(e.childNodes[1])&&$r(e.childNodes[2]))})(i)||(function(e){return e.type===g.PUNCTUATED&&e.role===E.ENDPUNCT&&e.childNodes.length===2&&e.childNodes[1].role===E.DEGREE&&($r(e.childNodes[0])||Ec(e.childNodes[0])||e.childNodes[0].type===g.PREFIXOP&&e.childNodes[0].role===E.NEGATIVE&&($r(e.childNodes[0].childNodes[0])||Ec(e.childNodes[0].childNodes[0])))})(i)||(function(e){return e.type===g.PREFIXOP&&e.role===E.NEGATIVE&&bd(e.childNodes[0])&&e.childNodes[0].type!==g.PREFIXOP&&e.childNodes[0].type!==g.APPL&&e.childNodes[0].type!==g.PUNCTUATED})(i)||(function(e){return e.type===g.APPL&&(e.childNodes[0].role===E.PREFIXFUNC||e.childNodes[0].role===E.SIMPLEFUNC)&&(bd(e.childNodes[1])||e.childNodes[1].type===g.FENCED&&bd(e.childNodes[1].childNodes[0]))})(i)}function bd(i){return i.hasAnnotation("clearspeak","simple")}function $r(i){return i.type===g.IDENTIFIER&&(i.role===E.LATINLETTER||i.role===E.GREEKLETTER||i.role===E.OTHERLETTER||i.role===E.SIMPLEFUNC)}function Ec(i){return i.type===g.NUMBER&&(i.role===E.INTEGER||i.role===E.FLOAT)}function Ed(i){return Ec(i)||(function(e){if(xd("Fraction_Over")||xd("Fraction_FracOver")||e.type!==g.FRACTION||e.role!==E.VULGAR)return!1;if(xd("Fraction_Ordinal"))return!0;const t=parseInt(e.childNodes[0].textContent,10),s=parseInt(e.childNodes[1].textContent,10);return t>0&&t<20&&s>0&&s<11})(i)}function xd(i){return Bs.getInstance().options.style===i}function Wf(i){return i.type===g.TEXT&&i.role!==E.LABEL||i.type===g.PUNCTUATED&&i.role===E.TEXT&&Ec(i.childNodes[0])&&(function(e){for(let t=0;t<e.length-1;t++)if(e[t].type!==g.TEXT||e[t].textContent!=="")return!1;return e[e.length-1].type===g.TEXT})(i.childNodes.slice(1))||i.type===g.IDENTIFIER&&i.role===E.UNIT||i.type===g.INFIXOP&&(i.role===E.IMPLICIT||i.role===E.UNIT)}ye.add(new co("ellipses",(i=>{const e=[];let t=i.shift();for(;t;)[t,i]=_0(t,i,E.FULLSTOP,E.ELLIPSIS),[t,i]=_0(t,i,E.DASH),e.push(t),t=i.shift();return e}),(i=>i.length>1))),ye.add(new co("op_with_limits",(i=>{const e=i[0];return e.type=g.LARGEOP,e.role=E.SUM,i}),(i=>i[0].type===g.OPERATOR&&i.slice(1).some((e=>e.type===g.RELSEQ||e.type===g.MULTIREL||e.type===g.INFIXOP&&e.role===E.ELEMENT||e.type===g.PUNCTUATED&&e.role===E.SEQUENCE))))),ye.add(new class extends md{}("function_from_identifiers",(i=>{const e=Ut(i.childNodes).map((s=>s.textContent.trim())).join("");if(It.Meaning.get(e).type===g.UNKNOWN)return i;const t=ye.factory.makeLeafNode(e,N.getInstance().font(i.getAttribute("mathvariant")));return t.mathmlTree=i,t}),(i=>{const e=Ut(i.childNodes);return!(e.length<2)&&e.every((t=>at(t)===P.MI&&It.Meaning.get(t.textContent.trim()).role===E.LATINLETTER))}))),ye.add(new co("bracketed_interval",(i=>{const e=i[0],t=i[1],s=i.slice(2),r=N.getInstance().row(s),n=ye.factory.makeBranchNode(g.FENCED,[r],[e,t]);return n.role=E.INTERVAL,n}),(i=>{const e=i[0],t=i[1],s=i.slice(2);if(!(e&&t&&(bc(e.textContent)&&(gc(t.textContent)||bc(t.textContent))||gc(t.textContent)&&(gc(e.textContent)||bc(e.textContent)))))return!1;if(s.length===1&&s[0].type===g.PUNCTUATED&&s[0].contentNodes.length===1)return!0;const r=ii(s,fc);return!(r.rel.length!==1||!r.comp[0].length||!r.comp[1].length)}))),ye.add(new bi("interval_heuristic",(i=>(i.role=E.INTERVAL,i)),(i=>B0(i)))),ye.add(new bi("propagateInterval",(i=>(i.childNodes.forEach((e=>{B0(e)&&(e.role=E.INTERVAL)})),i)),(i=>A0(i)))),dc(new Qh("clearspeak","simple",(function(i){return Hf(i)?"simple":""}))),pc("clearspeak","simple"),dc(new Qh("clearspeak","unit",(function(i){return Wf(i)?"unit":""}))),pc("clearspeak","unit");const zf=[g.MULTIREL,g.RELSEQ,g.APPL,g.ROW,g.LINE],Xf=[g.SUBSCRIPT,g.SUPERSCRIPT,g.OVERSCORE,g.UNDERSCORE];function F0(i,e){const t=i.parent;if(!t)return!1;const s=t.type;return zf.indexOf(s)!==-1||s===g.PREFIXOP&&t.role===E.NEGATIVE&&!e.script&&!e.enclosed||s===g.PREFIXOP&&t.role===E.GEOMETRY||!(s!==g.PUNCTUATED||e.enclosed&&t.role!==E.TEXT)}dc(new Zh("nemeth","number",(function(i,e){return i.childNodes.length?(Xf.indexOf(i.type)!==-1&&(e.script=!0),i.type===g.FENCED?(e.number=!1,e.enclosed=!0,["",e]):i.type===g.PREFIXOP&&i.role!==E.GEOMETRY&&i.role!==E.NEGATIVE?(e.number=!1,["",e]):(F0(i,e)&&(e.number=!0,e.enclosed=!1),["",e])):(F0(i,e)&&(e.number=!0,e.script=!1,e.enclosed=!1),[e.number?"number":"",{number:!1,enclosed:e.enclosed,script:e.script}])}),{number:!0})),pc("nemeth","number"),dc(new Zh("depth","depth",(function(i){return i.parent?[parseInt(i.parent.annotation.depth[0])+1]:[1]}))),pc("depth","depth");class qn{static empty(){const e=so("<math/>"),t=new qn(e,new gi);return t.mathml=e,t}static fromNode(e,t){const s=qn.empty();return s.root=e,t&&(s.mathml=t),s}static fromRoot(e,t){let s=e;for(;s.parent;)s=s.parent;const r=qn.fromNode(s);return t&&(r.mathml=t),r}static fromXml(e){const t=qn.empty();return e.childNodes[0]&&(t.root=ri.fromXml(e.childNodes[0])),t}constructor(e,t){this.mathml=e,this.options=t,this.parser=new jn(t),this.root=this.parser.parse(e),this.collator=this.parser.getFactory().leafMap.collateMeaning();const s=this.collator.newDefault();s&&(this.parser=new jn(t),this.parser.getFactory().defaultMap=s,this.root=this.parser.parse(e)),Vf.visit(this.root,{}),(function(r){for(const n of ed.values())n.active&&n.annotate(r);for(const n of td.values())n.active&&n.visit(r,Object.assign({},n.def))})(this.root)}xml(e){const t=so("<stree></stree>"),s=this.root.xml(t.ownerDocument,e);return t.appendChild(s),t}toString(e){return e0(this.xml(e))}formatXml(e){return Z2(this.toString(e))}displayTree(){this.root.displayTree()}replaceNode(e,t){const s=e.parent;s?s.replaceChild(e,t):this.root=t}toJson(){const e={};return e.stree=this.root.toJson(),e}}const Vf=new Zh("general","unit",((i,e)=>(T0(i)&&(i.role=E.UNIT),!1)));function Gf(i,e){return new qn(i,e)}const j0=[],Jf=!0,yd=new Map;function Ot(i){et.getInstance().generate((()=>["WALKING START: ",i.toString()]));const e=(function(a){for(let o,l=0;o=j0[l];l++)if(o.test(a))return o.constr(a);return null})(i);let t;if(e)return t=e.getMathml(),et.getInstance().generate((()=>["WALKING END: ",i.toString()])),Hn(t);if(i.mathml.length===1){if(et.getInstance().output("Walktree Case 0"),!i.childNodes.length)return et.getInstance().output("Walktree Case 0.1"),t=i.mathml[0],ss(t,i),et.getInstance().generate((()=>["WALKING END: ",i.toString()])),Hn(t);const a=i.childNodes[0];if(i.childNodes.length===1&&a.type===g.EMPTY)return et.getInstance().output("Walktree Case 0.2"),t=i.mathml[0],ss(t,i),t.appendChild(Ot(a)),et.getInstance().generate((()=>["WALKING END: ",i.toString()])),Hn(t);i.childNodes.forEach((o=>{o.mathml.length||(o.mathml=[z0(o)])}))}const s=i.contentNodes.map(yc);X0(i,s);const r=i.childNodes.map(Ot),n=Re.combineContentChildren(i.type,i.role,s,r);if(t=i.mathmlTree,t===null)et.getInstance().output("Walktree Case 1"),t=lo(n,i);else{const a=xc(n);et.getInstance().output("Walktree Case 2"),a?(et.getInstance().output("Walktree Case 2.1"),t=ji(a)):(et.getInstance().output("Walktree Case 2.2"),t=yr(t))}return t=W0(t),(function(a,o,l){if(!o.length||o.length===1&&a===o[0])return;const h=l.role===E.IMPLICIT&&ye.flags.combine_juxtaposition?(function(x,k,I){const G=[];let de=Ut(x.childNodes),je=!1;for(;de.length;){const us=de.shift();if(us.hasAttribute(he.TYPE)){G.push(us);continue}const Zr=Kf(us,k);Zr.length!==0&&(Zr.length!==1?(je?us.setAttribute("AuxiliaryImplicit",!0):je=!0,de=Zr.concat(de)):G.push(us))}const ns=[],xi=I.childNodes.map((function(us){return us.mathmlTree}));for(;xi.length;){const us=xi.pop();if(us){if(G.indexOf(us)!==-1)break;k.indexOf(us)!==-1&&ns.unshift(us)}}return G.concat(ns)})(a,o,l):Ut(a.childNodes);if(!h.length)return void o.forEach((function(x){a.appendChild(x)}));let d=0;for(;o.length;){const x=o[0];if(h[d]===x||Qf(h[d],x)){o.shift(),d++;continue}if(h[d]&&o.indexOf(h[d])===-1){d++;continue}if(Yf(x,a)){o.shift();continue}const k=h[d];if(k)$f(a,k,x),o.shift();else{if(x.parentNode){a=ji(x),o.shift();continue}const I=o[1];if(I&&I.parentNode){(a=ji(I)).insertBefore(x,I),o.shift(),o.shift();continue}a.insertBefore(x,null),o.shift()}}})(t,n,i),yd.has(i.id)||(yd.set(i.id,!0),ss(t,i)),et.getInstance().generate((()=>["WALKING END: ",i.toString()])),Hn(t)}function lo(i,e){const t=(function(n){const a=xc(n);if(!a)return{type:Fi.INVALID,node:null};const o=xc(n.slice().reverse());if(a===o)return{type:Fi.VALID,node:a};const l=q0(a),h=(function(I,G){let de=0;for(;I[de]&&G.indexOf(I[de])===-1;)de++;return I.slice(0,de+1)})(l,n),d=q0(o,(function(I){return h.indexOf(I)!==-1})),x=d[0],k=h.indexOf(x);return k===-1?{type:Fi.INVALID,node:null}:{type:h.length!==l.length?Fi.PRUNED:Zf(h[k+1],d[1])?Fi.VALID:Fi.INVALID,node:x}})(i);let s=t.node;const r=t.type;if(r!==Fi.VALID||!Pn(s)||!s.parentNode&&e.parent){if(et.getInstance().output("Walktree Case 1.1"),s=Zi(),r===Fi.PRUNED)et.getInstance().output("Walktree Case 1.1.0"),s=(function(n,a,o){let l=H0(a);if(od(l)){et.getInstance().output("Walktree Case 1.1.0.0"),U0(l,n),Ut(l.childNodes).forEach((function(x){n.appendChild(x)}));const d=n;n=l,l=d}const h=o.indexOf(a);return o[h]=l,Pi(l,n),n.appendChild(l),o.forEach((function(d){n.appendChild(d)})),n})(s,t.node,i);else if(i[0]){et.getInstance().output("Walktree Case 1.1.1");const n=xc(i);if(n){const a=(function(o,l){const h=Ut(o.childNodes);let d=1/0,x=-1/0;return l.forEach((function(k){const I=h.indexOf(k);I!==-1&&(d=Math.min(d,I),x=Math.max(x,I))})),h.slice(d,x+1)})(ji(n),i);Pi(n,s),a.forEach((function(o){s.appendChild(o)}))}else U0(s,i[0]),s=i[0]}}return e.mathmlTree||(e.mathmlTree=s),s}function U0(i,e){for(const t of Ff)i.hasAttribute(t)&&(e.setAttribute(t,i.getAttribute(t)),i.removeAttribute(t))}function Kf(i,e){const t=[];let s=Ut(i.childNodes);for(;s.length;){const r=s.shift();r.nodeType===Er.ELEMENT_NODE&&(r.hasAttribute(he.TYPE)||e.indexOf(r)!==-1?t.push(r):s=Ut(r.childNodes).concat(s))}return t}function $f(i,e,t){let s=e,r=ji(s);for(;r&&r.firstChild===s&&!s.hasAttribute("AuxiliaryImplicit")&&r!==i;)s=r,r=ji(s);r&&(r.insertBefore(t,s),s.removeAttribute("AuxiliaryImplicit"))}function Yf(i,e){if(!i)return!1;do if((i=ji(i))===e)return!0;while(i);return!1}function Qf(i,e){const t=Yi.functionApplication;if(i&&e&&i.textContent&&e.textContent&&i.textContent===t&&e.textContent===t&&e.getAttribute(he.ADDED)==="true"){for(let s,r=0;s=i.attributes[r];r++)e.hasAttribute(s.nodeName)||e.setAttribute(s.nodeName,s.nodeValue);return Pi(i,e),!0}return!1}var Fi;function xc(i){let e=0,t=null;for(;!t&&e<i.length;)i[e].parentNode&&(t=i[e]),e++;return t}function q0(i,e){const t=e||(r=>!1),s=[i];for(;!t(i)&&!od(i)&&i.parentNode;)i=ji(i),s.unshift(i);return s}function Zf(i,e){return!(!i||!e||i.previousSibling||e.nextSibling)}function Hn(i){for(;!od(i)&&eg(i);)i=ji(i);return i}function H0(i){const e=Ut(i.childNodes);if(!e)return i;const t=e.filter((function(s){return s.nodeType===Er.ELEMENT_NODE&&!u0(s)}));return t.length===1&&Pn(t[0])&&!t[0].hasAttribute(he.TYPE)?H0(t[0]):i}function eg(i){const e=ji(i);return!(!e||!Pn(e))&&Ut(e.childNodes).every((function(t){return t===i||Nd(t)}))}function Nd(i){if(i.nodeType!==Er.ELEMENT_NODE||!i||u0(i))return!0;const e=Ut(i.childNodes);return!(!Pn(i)&&e.length||(function(t){return!!t&&Af.includes(at(t))})(i)||i.hasAttribute(he.TYPE)||Mf(i))&&Ut(i.childNodes).every(Nd)}function ji(i){return i.parentNode}function uo(i,e){const t=new Re(e);i.setAttribute(he.COLLAPSED,t.toString())}function yc(i){if(i.mathml.length)return Ot(i);const e=Jf?z0(i):Zi();return i.mathml=[e],e}function W0(i){if(at(i)!==P.MFENCED)return i;const e=Zi();for(let t,s=0;t=i.attributes[s];s++)["open","close","separators"].indexOf(t.name)===-1&&e.setAttribute(t.name,t.value);return Ut(i.childNodes).forEach((function(t){e.appendChild(t)})),Pi(i,e),e}function z0(i){const e=io("mo"),t=(s=i.textContent,br.f.document.createTextNode(s));var s;return e.appendChild(t),ss(e,i),e.setAttribute(he.ADDED,"true"),e}function X0(i,e){const t=i.type+(i.textContent?","+i.textContent:"");e.forEach((function(s){yr(s).setAttribute(he.OPERATOR,t)}))}function yr(i){const e=Ut(i.childNodes);if(!e)return i;const t=e.filter((function(r){return!Nd(r)})),s=[];for(let r,n=0;r=t[n];n++)if(Pn(r)&&r.getAttribute(he.TYPE)!==g.PUNCTUATION){const a=yr(r);a&&a!==r&&s.push(a)}else s.push(r);return s.length===1?s[0]:i}function vd(i){return Z2(i.toString()).toString().replace(new RegExp(M0,"g"),"")}function V0(i,e){const t=!!e,s=e||[],r=i.parent,n=i.contentNodes.map((function(o){return o.id}));n.unshift("c");const a=[i.id,n];for(let o,l=0;o=i.childNodes[l];l++){const h=Ot(o);s.push(h);const d=yr(h);r&&!t&&d.setAttribute(he.PARENT,r.id.toString()),a.push(o.id)}return a}(function(i){i.VALID="valid",i.INVALID="invalid",i.PRUNED="pruned"})(Fi||(Fi={}));class Ui{constructor(e){this.semantic=e}}class G0 extends Ui{static test(e){return!e.mathmlTree&&e.type===g.LINE&&e.role===E.BINOMIAL}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const e=this.semantic.childNodes[0];if(this.mml=Ot(e),this.mml.hasAttribute(he.TYPE)){const t=Zi();Pi(this.mml,t),t.appendChild(this.mml),this.mml=t}return ss(this.mml,this.semantic),this.mml}}class Cd extends Ui{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=at(e.mathmlTree),s=e.childNodes[0].role;return t===P.MSUBSUP&&s===E.SUBSUP||t===P.MUNDEROVER&&s===E.UNDEROVER}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes[0],t=e.childNodes[0],s=this.semantic.childNodes[1],r=e.childNodes[1],n=Ot(s),a=Ot(t),o=Ot(r);return ss(this.mml,this.semantic),this.mml.setAttribute(he.CHILDREN,fd([t,r,s])),[a,o,n].forEach((l=>yr(l).setAttribute(he.PARENT,this.mml.getAttribute(he.ID)))),this.mml.setAttribute(he.TYPE,e.role),uo(this.mml,[this.semantic.id,[e.id,t.id,r.id],s.id]),this.mml}}class Ei extends Ui{static multiscriptIndex(e){return e.type===g.PUNCTUATED&&e.contentNodes[0].role===E.DUMMY?V0(e):(Ot(e),e.id)}static createNone_(e){const t=io("none");return e&&ss(t,e),t.setAttribute(he.ADDED,"true"),t}constructor(e){super(e),this.mml=e.mathmlTree}completeMultiscript(e,t){const s=Ut(this.mml.childNodes).slice(1);let r=0;const n=a=>{for(const o of a){const l=s[r];if(l&&o===parseInt(l.getAttribute(he.ID)))l.setAttribute(he.PARENT,this.semantic.id.toString()),r++;else if(l&&o===parseInt(yr(l).getAttribute(he.ID)))yr(l).setAttribute(he.PARENT,this.semantic.id.toString()),r++;else{const h=this.semantic.querySelectorAll((d=>d.id===o));this.mml.insertBefore(Ei.createNone_(h[0]),l||null)}}};n(e),s[r]&&at(s[r])!==P.MPRESCRIPTS?this.mml.insertBefore(s[r],io("mprescripts")):r++,n(t)}}class Td extends Ei{static test(e){return e.mathmlTree?at(e.mathmlTree)===P.MMULTISCRIPTS&&(e.type===g.SUPERSCRIPT||e.type===g.SUBSCRIPT):!1}constructor(e){super(e)}getMathml(){let e,t,s;if(ss(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===E.SUBSUP){const n=this.semantic.childNodes[0];e=n.childNodes[0],t=Ei.multiscriptIndex(this.semantic.childNodes[1]),s=Ei.multiscriptIndex(n.childNodes[1]);const a=[this.semantic.id,[n.id,e.id,s],t];uo(this.mml,a),this.mml.setAttribute(he.TYPE,n.role),this.completeMultiscript(Re.interleaveIds(s,t),[])}else{e=this.semantic.childNodes[0],t=Ei.multiscriptIndex(this.semantic.childNodes[1]);const n=[this.semantic.id,e.id,t];uo(this.mml,n)}const r=Re.collapsedLeafs(s||[],t);return yr(Ot(e)).setAttribute(he.PARENT,this.semantic.id.toString()),r.unshift(e.id),this.mml.setAttribute(he.CHILDREN,r.join(",")),this.mml}}class wd extends Ei{static test(e){return!!e.mathmlTree&&e.type===g.TENSOR}constructor(e){super(e)}getMathml(){Ot(this.semantic.childNodes[0]);const e=Ei.multiscriptIndex(this.semantic.childNodes[1]),t=Ei.multiscriptIndex(this.semantic.childNodes[2]),s=Ei.multiscriptIndex(this.semantic.childNodes[3]),r=Ei.multiscriptIndex(this.semantic.childNodes[4]);ss(this.mml,this.semantic);const n=[this.semantic.id,this.semantic.childNodes[0].id,e,t,s,r];uo(this.mml,n);const a=Re.collapsedLeafs(e,t,s,r);return a.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(he.CHILDREN,a.join(",")),this.completeMultiscript(Re.interleaveIds(s,r),Re.interleaveIds(e,t)),this.mml}}class Yr extends Ui{static test(e){return!(!e.mathmlTree||!e.fencePointer||e.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(e){const t=Zi(),s=new ri(e);return s.type=g.EMPTY,s.mathmlTree=t,s}static fencedMap_(e,t){t[e.id]=e.mathmlTree,e.embellished&&Yr.fencedMap_(e.childNodes[0],t)}constructor(e){super(e),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){return this.getFenced_(),this.fencedMml=Ot(this.fenced),this.getFencesMml_(),this.fenced.type!==g.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(he.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(e){return e.type===g.FENCED||e.type===g.MATRIX||e.type===g.VECTOR}getFenced_(){let e=this.semantic;for(;!this.fencedElement(e);)e=e.childNodes[0];this.fenced=e.childNodes[0],this.ofence=e.contentNodes[0],this.cfence=e.contentNodes[1],Yr.fencedMap_(this.ofence,this.ofenceMap),Yr.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let e=this.ofenceMml.nextSibling;for(e=e===this.fencedMml?e:this.fencedMml;e&&e!==this.cfenceMml;)this.fencedMmlNodes.push(e),e=e.nextSibling}getFencesMml_(){let e=this.semantic;const t=Object.keys(this.ofenceMap),s=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||e===this.fenced);)t.indexOf(e.fencePointer)===-1||this.ofenceMml||(this.ofenceMml=e.mathmlTree),s.indexOf(e.fencePointer)===-1||this.cfenceMml||(this.cfenceMml=e.mathmlTree),e=e.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=Hn(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=Hn(this.cfenceMml))}rewrite_(){let e=this.semantic,t=null;const s=this.introduceNewLayer_();for(ss(s,this.fenced.parent);!this.fencedElement(e);){const r=e.mathmlTree,n=this.specialCase_(e,r);if(n)e=n;else{ss(r,e);const l=[];for(let h,d=1;h=e.childNodes[d];d++)l.push(Ot(h));e=e.childNodes[0]}const a=io("dummy"),o=r.childNodes[0];Pi(r,a),Pi(s,r),Pi(r.childNodes[0],s),Pi(a,o),t||(t=r)}return Ot(this.ofence),Ot(this.cfence),this.cleanupParents_(),t||s}specialCase_(e,t){const s=at(t);let r,n=null;if(s===P.MSUBSUP?(n=e.childNodes[0],r=Cd):s===P.MMULTISCRIPTS&&(e.type===g.SUPERSCRIPT||e.type===g.SUBSCRIPT?r=Td:e.type===g.TENSOR&&(r=wd),n=r&&e.childNodes[0]&&e.childNodes[0].role===E.SUBSUP?e.childNodes[0]:e),!n)return null;const a=n.childNodes[0],o=Yr.makeEmptyNode_(a.id);return n.childNodes[0]=o,t=new r(e).getMathml(),n.childNodes[0]=a,this.parentCleanup.push(t),n.childNodes[0]}introduceNewLayer_(){const e=this.fullFence(this.ofenceMml),t=this.fullFence(this.cfenceMml);let s=Zi();if(Pi(this.fencedMml,s),this.fencedMmlNodes.forEach((r=>s.appendChild(r))),s.insertBefore(e,this.fencedMml),s.appendChild(t),!s.parentNode){const r=Zi();for(;s.childNodes.length>0;)r.appendChild(s.childNodes[0]);s.appendChild(r),s=r}return s}fullFence(e){const t=this.fencedMml.parentNode;let s=e;for(;s.parentNode&&s.parentNode!==t;)s=s.parentNode;return s}cleanupParents_(){this.parentCleanup.forEach((function(e){const t=e.childNodes[1].getAttribute(he.PARENT);e.childNodes[0].setAttribute(he.PARENT,t)}))}}class J0 extends Ui{static test(e){return!!e.mathmlTree&&e.hasAnnotation("Emph","top")}constructor(e){super(e),this.mrows=[],this.mml=e.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const e=Zi();this.mml.parentNode.insertBefore(e,this.mml);for(const t of this.mrows)e.appendChild(t);e.appendChild(this.mml)}return this.mml}recurseToTable(e){var t,s;if(e.hasAnnotation("Emph","top")||e.hasAnnotation("Emph","fence")||!e.hasAnnotation("Emph","left")&&!e.hasAnnotation("Emph","right")){if(!e.mathmlTree||at(e.mathmlTree)===P.MTABLE&&(!((t=e.annotation.Emph)===null||t===void 0)&&t.length)&&e.annotation.Emph[0]!=="table"){const r=Zi();ss(r,e),this.mrows.unshift(r)}else{if(at(e.mathmlTree)===P.MTABLE&&(!((s=e.annotation.Emph)===null||s===void 0)&&s.length)&&e.annotation.Emph[0]==="table")return void this.finalizeTable(e);ss(e.mathmlTree,e)}if(e.childNodes.forEach(this.recurseToTable.bind(this)),e.textContent||e.type==="punctuated"){const r=e.contentNodes.map((n=>{const a=yc(n);return a.hasAttribute("data-semantic-added")?this.mrows.unshift(a):this.recurseToTable(n),a}));X0(e,r)}else e.contentNodes.forEach(this.recurseToTable.bind(this))}else Ot(e)}finalizeTable(e){ss(e.mathmlTree,e),e.contentNodes.forEach((t=>{Ot(t)})),e.childNodes.forEach((t=>{Ot(t)}))}}class Nc extends Ui{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;const t=at(e.mathmlTree),s=e.type;return(s===g.LIMUPPER||s===g.LIMLOWER)&&(t===P.MSUBSUP||t===P.MUNDEROVER)||s===g.LIMBOTH&&(t===P.MSUB||t===P.MUNDER||t===P.MSUP||t===P.MOVER)}static walkTree_(e){e&&Ot(e)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes;return this.semantic.type!==g.LIMBOTH&&this.mml.childNodes.length>=3&&(this.mml=lo([this.mml],this.semantic)),ss(this.mml,this.semantic),e[0].mathmlTree||(e[0].mathmlTree=this.semantic.mathmlTree),e.forEach(Nc.walkTree_),this.mml}}class K0 extends Ui{static test(e){return!!e.mathmlTree&&e.type===g.LINE}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&Ot(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&Ot(this.semantic.childNodes[0]),ss(this.mml,this.semantic),this.mml}}class $0 extends Ui{static test(e){return!!e.mathmlTree&&(e.type===g.INFERENCE||e.type===g.PREMISES)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.childNodes.length?(this.semantic.contentNodes.forEach((function(e){Ot(e),ss(e.mathmlTree,e)})),this.semantic.childNodes.forEach((function(e){Ot(e)})),ss(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent"),this.mml):this.mml}}class Y0 extends Ui{static test(e){return e.type===g.MATRIX||e.type===g.VECTOR||e.type===g.CASES}constructor(e){super(e),this.inner=[],this.mml=e.mathmlTree}getMathml(){const e=yc(this.semantic.contentNodes[0]),t=this.semantic.contentNodes[1]?yc(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(Ot),this.mml)if(at(this.mml)===P.MFENCED){const s=this.mml.childNodes;this.mml.insertBefore(e,s[0]||null),t&&this.mml.appendChild(t),this.mml=W0(this.mml)}else{const s=[e,this.mml];t&&s.push(t),this.mml=lo(s,this.semantic)}else this.mml=lo([e].concat(this.inner,[t]),this.semantic);return ss(this.mml,this.semantic),this.mml}}class Q0 extends Ui{static test(e){return e.type===g.PUNCTUATED&&(e.role===E.TEXT||e.contentNodes.every((t=>t.role===E.DUMMY)))}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=[],t=V0(this.semantic,e);return this.mml=lo(e,this.semantic),ss(this.mml,this.semantic),this.mml.removeAttribute(he.CONTENT),uo(this.mml,t),this.mml}}function tg(i,e){const t=i.cloneNode(!0);return(function(s,r,n){return et.getInstance().generate((()=>["Original MathML",vd(s)])),yd.clear(),Ot(r.root),n.structure&&s.setAttribute(he.STRUCTURE,Re.fromStructure(s,r,n).toString()),et.getInstance().generate((()=>[`Semantic Tree
`,vd(r),`Semantically enriched MathML
`,vd(s)])),s})(t,Gf(t,e),e)}j0.push({test:Nc.test,constr:i=>new Nc(i)},{test:Yr.test,constr:i=>new Yr(i)},{test:Cd.test,constr:i=>new Cd(i)},{test:wd.test,constr:i=>new wd(i)},{test:Td.test,constr:i=>new Td(i)},{test:K0.test,constr:i=>new K0(i)},{test:G0.test,constr:i=>new G0(i)},{test:$0.test,constr:i=>new $0(i)},{test:J0.test,constr:i=>new J0(i)},{test:Y0.test,constr:i=>new Y0(i)},{test:Q0.test,constr:i=>new Q0(i)});const sg=new Vr({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],Inference:["Auto","Long"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),ig="Auto";function Z0(i){const e=i.split(":"),t={},s=sg.getProperties(),r=Object.keys(s);for(let n,a=0;n=e[a];a++){const o=n.split("_");if(r.indexOf(o[0])===-1)continue;const l=o[1];l&&l!==ig&&s[o[0]].indexOf(l)!==-1&&(t[o[0]]=o[1])}return t}function ep(i){const e=Object.keys(i),t=[];for(let s=0;s<e.length;s++)t.push(e[s]+"_"+i[e[s]]);return t.length?t.join(":"):bt.DEFAULT_VALUE}const kd=Q2.u.LOCALES,tp=i=>Bs.getInstance().setup(i),sp=()=>Bs.getInstance().json(),Ad=i=>(function(e,t){const s=so(e);try{return tg(s,t)}catch(r){return console.error(r),s}})(i,Bs.getInstance().options),ip=so,rp=function(i,e,t){if(i==="default")return e+"_"+t;const s=Z0(i);return s[e]=t,ep(s)},Ld=Z0,np=ep;var ap=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};let vc={},Md=null;function op(i){var e,t;const s=i==null?void 0:i.match(/^clearspeak-(.*)/);return Md=(t=(e=s&&s[1])!==null&&e!==void 0?e:Md)!==null&&t!==void 0?t:"default",Md}const ho=new Map,Sd=new Map;let rg=0;function ng(i,e){const t=ho.get(e);(function(n,a){const o=n.pool.lookup("speechRules"),l=op(n.settings.speechRules);vc=Ld(l);for(const h of a)n.factory.get("variable")(n.factory,{name:"csprf_"+h,setter:d=>{vc[h]=d,o.setValue("clearspeak-"+np(vc))},getter:()=>vc[h]||"Auto"},n.pool)})(i,Object.keys(t));const s=[];for(const n of Object.getOwnPropertyNames(t))s.push({title:n,values:t[n].map((a=>a.replace(RegExp("^"+n+"_"),""))),variable:"csprf_"+n});const r=i.factory.get("selectionBox")(i.factory,{title:"Clearspeak Preferences",signature:"",order:"alphabetic",grid:"square",selections:s},i);return{type:"command",id:"ClearspeakPreferences",content:"Select Preferences",action:()=>r.post(0,0)}}function cp(i,e,t){return ap(this,void 0,void 0,(function*(){var s,r;const n=h=>{t(i.factory.get("subMenu")(i.factory,{items:h,id:"Clearspeak"},e))};if(!i.settings.speech||!i.settings.enrich)return void n([]);const a=i.pool.lookup("locale").getValue();if(yield(function(h,d){return ap(this,void 0,void 0,(function*(){ho.has(d)||(yield h.mathItem.generatorPool.getLocalePreferences(ho))}))})(i,a),!ho.get(a))return void n([]);const o=ng(i,a);let l=[];if(i.settings.speech){const h=i.mathItem,d=(s=h==null?void 0:h.explorers)===null||s===void 0?void 0:s.speech,x=op(i.settings.speechRules);l=l.concat((function(je){return[{type:"radio",content:"No Preferences",id:"clearspeak-default",variable:"speechRules"},{type:"radio",content:"Current Preferences",id:"clearspeak-"+je,variable:"speechRules"},{type:"rule"}]})(x));const k=d==null?void 0:d.refocus,I=(r=k==null?void 0:k.getAttribute("data-semantic-id"))!==null&&r!==void 0?r:null,G=rg++;yield h.generatorPool.getRelevantPreferences(h,I,Sd,G);const de=Sd.get(G);if(Sd.delete(G),de){const je=(function(ns,xi,us){const Zr=ho.get(us);return[{type:"label",content:"Preferences for "+xi},{type:"rule"}].concat(Zr[xi].map((function(Bd){const[fo,Fd]=Bd.split("_");return{type:"radioCompare",content:Fd,id:"clearspeak-"+rp(ns,fo,Fd),variable:"speechRules",comparator:(Qp,Zp)=>{if(Qp===Zp)return!0;if(Fd!=="Auto")return!1;const[Ng,vg]=Qp.split("-"),[Cg]=Zp.split("-");return Ng===Cg&&!Ld(vg)[fo]}}})))})(x,de,a);l=l.concat(je)}}l.splice(2,0,o),n(l)}))}Di.DynamicSubmenus.set("Clearspeak",[cp,"speech"]);let Cc=null;function lp(i,e,t){if(Cc)return void t(Cc);const s=[];for(const r of kd.keys())r!=="nemeth"&&r!=="euro"&&s.push({type:"radio",id:r,content:kd.get(r)||r,variable:"locale"});s.sort(((r,n)=>r.content.localeCompare(n.content,"en"))),Cc=i.factory.get("subMenu")(i.factory,{items:s,id:"Language"},e),t(Cc)}Di.DynamicSubmenus.set("A11yLanguage",[lp,"speech"]);const po=Os.os==="MacOS";function Nr(i){const e=Os.document,t=e.createElement("textarea");t.value=i,t.setAttribute("readonly",""),t.style.cssText="height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px",e.body.appendChild(t),t.select();try{e.execCommand("copy")}catch(s){alert(`Can't copy to clipboard: ${s.message}`)}e.body.removeChild(t)}function up(i,e,t){return(s,r)=>((function(n,a,o){if(n){for(const l of n.childNodes)if(l.isKind("annotation")){const h=ag(l,a);if(h){const d=l.childNodes.reduce(((x,k)=>x+k.toString()),"");o.push([h,d])}}}})((function(n){var a;let o=(a=n.mathItem)===null||a===void 0?void 0:a.root;for(;o&&!o.isKind("semantics");){if(o.isToken||o.childNodes.length!==1)return null;o=o.childNodes[0]}return o})(s),e,t),i.attachMenu(s),dp(s,r,t,(()=>i.post())))}function hp(i){return(e,t)=>{const s=i.slice();return i.length=0,dp(e,t,s,(()=>Nr(Tc.trim())))}}function ag(i,e){const t=i.attributes.get("encoding");for(const s of Object.keys(e))if(e[s].includes(t))return s;return null}let Tc="";function dp(i,e,t,s){return i.factory.get("subMenu")(i.factory,{items:t.map((([r,n])=>({type:"command",id:r,content:r,action:()=>{Tc=n,s()}}))),id:"annotations"},e)}class Id extends Gh{static fromJson(e,{content:t,variable:s,id:r,comparator:n},a){return new this(a,t,s,r,n)}constructor(e,t,s,r,n){super(e,t,s,r),this.comparator=n,this.role="menuitemradiocompare"}updateAria(){this.html.setAttribute("aria-checked",this.comparator(this.variable.getValue(),this.id)?"true":"false")}updateSpan(){this.span.style.display=this.comparator(this.variable.getValue(),this.id)?"":"none"}}class pp extends Do{constructor(){super(...arguments),this.options={filterSRE:!0,filterTex:!0,texHints:!0,semantics:!1},this.mathItem=null}visitTree(e,t=null,s={}){return this.mathItem=t,Ds(this.options,s),this.visitNode(e,"")}visitTeXAtomNode(e,t){return this.options.texHints?super.visitDefault(e,t):e.childNodes[0]&&e.childNodes[0].childNodes.length===1?this.visitNode(e.childNodes[0],t):`${t}<mrow${this.getAttributes(e)}>
`+this.childNodeMml(e,t+"  ",`
`)+`${t}</mrow>`}visitMathNode(e,t){if(!this.options.semantics||this.mathItem.inputJax.name!=="TeX")return super.visitDefault(e,t);const s=e.childNodes.length&&e.childNodes[0].childNodes.length>1;return`${t}<math${this.getAttributes(e)}>
${t}  <semantics>
`+(s?t+`    <mrow>
`:"")+this.childNodeMml(e,t+(s?"      ":"    "),`
`)+(s?t+`    </mrow>
`:"")+`${t}    <annotation encoding="application/x-tex">`+this.mathItem.math+`</annotation>
${t}  </semantics>
${t}</math>`}getAttributeList(e){const t=super.getAttributeList(e);if(this.options.filterTex&&(delete t["data-latex"],delete t["data-latex-item"]),this.options.filterSRE){const s=Object.keys(t).filter((r=>r.match(/^(?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))$/)));for(const r of s)delete t[r]}return t}}class vr extends Qa{keydown(e){if(e.key==="a"&&(e.ctrlKey||e.metaKey))return this.selectAll(),void this.stop(e);super.keydown(e)}selectAll(){document.getSelection().selectAllChildren(this.html.querySelector(".CtxtMenu_InfoContent").firstChild)}copyToClipboard(){this.selectAll();try{document.execCommand("copy")}catch(e){alert(`Can't copy to clipboard: ${e.message}`)}document.getSelection().removeAllRanges()}generateHtml(){super.generateHtml();const e=this.html.querySelector("span."+Ye.INFOSIGNATURE).appendChild(document.createElement("input"));e.type="button",e.value="Copy to Clipboard",e.addEventListener("click",(t=>this.copyToClipboard()))}}var mp=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};const Kt=nr;class De{get isLoading(){return De.loading>0}get loadingPromise(){return this.isLoading?(De._loadingPromise||(De._loadingPromise=new Promise(((e,t)=>{De._loadingOK=e,De._loadingFailed=t}))),De._loadingPromise):Promise.resolve()}postInfo(e){this.menu.mathItem&&(this.menu.nofocus=!!this.menu.mathItem.outputData.nofocus),e.post()}constructor(e,t={}){this.settings=null,this.defaultSettings=null,this.menu=null,this.current=null,this.MmlVisitor=new pp,this.jax={CHTML:null,SVG:null},this.rerenderStart=V.LAST,this.requiredExtensions=[],this.about=new Qa('<b style="font-size:120%;">MathJax</b> v'+ls.version,(()=>{const s=[];return s.push("Input Jax: "+this.document.inputJax.map((r=>r.name)).join(", ")),s.push("Output Jax: "+this.document.outputJax.name),s.push("Document Type: "+this.document.kind),s.join("<br/>")}),'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.help=new Qa("<b>MathJax Help</b>",(()=>["<p><b>MathJax</b> is a JavaScript library that allows page"," authors to include mathematics within their web pages."," As a reader, you don't need to do anything to make that happen.</p>","<p><b>Browsers</b>: MathJax works with all modern browsers including"," Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.</p>","<p><b>Math Menu</b>: MathJax adds a contextual menu to equations."," Right-click or CTRL-click on any mathematics to access the menu.</p>",'<div style="margin-left: 1em;">',"<p><b>Show Math As:</b> These options allow you to view the formula's"," source markup (as MathML or in its original format).</p>","<p><b>Copy to Clipboard:</b> These options copy the formula's source markup,"," as MathML or in its original format, to the clipboard"," (in browsers that support that).</p>","<p><b>Math Settings:</b> These give you control over features of MathJax,"," such the size of the mathematics, the mechanism used to display equations,"," how to handle equations that are too wide, and the language to use for"," MathJax's menus and error messages (not yet implemented in v4).","</p>","<p><b>Accessibility</b>: MathJax can work with screen"," readers to make mathematics accessible to the visually impaired."," Turn on speech or braille generation to enable creation of speech strings"," and the ability to investigate expressions interactively.  You can control"," the style of the explorer in its menu.</p>","</div>","<p><b>Math Zoom</b>: If you are having difficulty reading an"," equation, MathJax can enlarge it to help you see it better, or"," you can scale all the math on the page to make it larger."," Turn these features on in the <b>Math Settings</b> menu.</p>","<p><b>Preferences</b>: MathJax uses your browser's localStorage database"," to save the preferences set via this menu locally in your browser.  These"," are not used to track you, and are not transferred or used remotely by"," MathJax in any way.</p>"].join(`
`)),'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.mathmlCode=new vr("MathJax MathML Expression",(()=>{if(!this.menu.mathItem)return"";const s=this.toMML(this.menu.mathItem);return"<pre>"+this.formatSource(s)+"</pre>"}),""),this.originalText=new vr("MathJax Original Source",(()=>{if(!this.menu.mathItem)return"";const s=this.menu.mathItem.math;return'<pre style="font-size:125%; margin:0">'+this.formatSource(s)+"</pre>"}),""),this.annotationBox=new vr("MathJax Annotation Text",(()=>{const s=Tc;return'<pre style="font-size:125%; margin:0">'+this.formatSource(s)+"</pre>"}),""),this.svgImage=new vr("MathJax SVG Image",(()=>'<div id="svg-image" style="font-family: monospace; font-size:125%; margin:0">Generative SVG Image...</div>'),""),this.speechText=new vr("MathJax Speech Text",(()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.speech)+"</div>":""),""),this.brailleText=new vr("MathJax Braille Code",(()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.braille)+"</div>":""),""),this.errorMessage=new vr("MathJax Error Message",(()=>this.menu.mathItem?'<pre style="font-size:125%; margin:0">'+this.formatSource(this.menu.errorMsg)+"</pre>":""),""),this.zoomBox=new Qa("MathJax Zoomed Expression",(()=>{if(!this.menu.mathItem)return"";const s=this.menu.mathItem.typesetRoot.cloneNode(!0);return s.style.margin="0",'<div style="font-size: '+1.25*parseFloat(this.settings.zscale)+'%">'+s.outerHTML+"</div>"}),""),this.document=e,this.options=Ds(is({},this.constructor.OPTIONS),t),this.initSettings(),this.mergeUserSettings(),this.initMenu(),this.applySettings()}initSettings(){var e;this.settings=this.options.settings,this.jax=this.options.jax;const t=this.document.outputJax;this.jax[t.name]=t,this.settings.renderer=t.name,this.settings.scale=t.options.scale,t.options.displayOverflow&&(this.settings.overflow=t.options.displayOverflow.substring(0,1).toUpperCase()+t.options.displayOverflow.substring(1).toLowerCase()),this.settings.breakInline=(e=t.options.linebreaks)===null||e===void 0?void 0:e.inline,this.defaultSettings=Object.assign({},this.document.options.a11y,this.settings),this.setA11y({roleDescription:this.settings.roleDescription})}initMenu(){const e=new rf([["contextMenu",Di.fromJson.bind(Di)],["radioCompare",Id.fromJson.bind(Id)]]);this.menu=e.parse({type:"contextMenu",id:"MathJax_Menu",pool:[this.variable("showSRE"),this.variable("showTex"),this.variable("texHints"),this.variable("semantics"),this.variable("zoom"),this.variable("zscale"),this.variable("renderer",(n=>this.setRenderer(n))),this.variable("overflow",(n=>this.setOverflow(n))),this.variable("breakInline",(n=>this.setInlineBreaks(n))),this.variable("alt"),this.variable("cmd"),this.variable("ctrl"),this.variable("shift"),this.variable("scale",(n=>this.setScale(n))),this.a11yVar("speech",(n=>this.setSpeech(n))),this.a11yVar("braille",(n=>this.setBraille(n))),this.variable("brailleCode",(n=>this.setBrailleCode(n))),this.a11yVar("highlight",(n=>this.setHighlight(n))),this.a11yVar("backgroundColor"),this.a11yVar("backgroundOpacity"),this.a11yVar("foregroundColor"),this.a11yVar("foregroundOpacity"),this.a11yVar("subtitles"),this.a11yVar("viewBraille"),this.a11yVar("voicing"),this.a11yVar("roleDescription",(()=>this.setRoleDescription())),this.a11yVar("help"),this.a11yVar("locale",(n=>this.setLocale(n))),this.variable("speechRules",(n=>{const[a,o]=n.split("-");this.document.options.sre.domain=a,this.document.options.sre.style=o,this.rerender(V.COMPILED)})),this.a11yVar("magnification"),this.a11yVar("magnify"),this.a11yVar("treeColoring"),this.a11yVar("infoType"),this.a11yVar("infoRole"),this.a11yVar("infoPrefix"),this.variable("autocollapse"),this.variable("collapsible",(n=>this.setCollapsible(n))),this.variable("enrich",(n=>this.setEnrichment(n))),this.variable("inTabOrder",(n=>this.setTabOrder(n))),this.a11yVar("tabSelects"),this.variable("assistiveMml",(n=>this.setAssistiveMml(n)))],items:[this.submenu("Show","Show Math As",[this.command("MathMLcode","MathML Code",(()=>this.postInfo(this.mathmlCode))),this.command("Original","Original Form",(()=>this.postInfo(this.originalText))),this.rule(),this.command("Speech","Speech Text",(()=>this.postInfo(this.speechText)),{disabled:!0}),this.command("Braille","Braille Code",(()=>this.postInfo(this.brailleText)),{disabled:!0}),this.command("SVG","SVG Image",(()=>this.postSvgImage()),{disabled:!0}),this.submenu("ShowAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",(()=>this.postInfo(this.errorMessage)),{disabled:!0})]),this.submenu("Copy","Copy to Clipboard",[this.command("MathMLcode","MathML Code",(()=>this.copyMathML())),this.command("Original","Original Form",(()=>this.copyOriginal())),this.rule(),this.command("Speech","Speech Text",(()=>this.copySpeechText()),{disabled:!0}),this.command("Braille","Braille Code",(()=>this.copyBrailleText()),{disabled:!0}),this.command("SVG","SVG Image",(()=>this.copySvgImage()),{disabled:!0}),this.submenu("CopyAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",(()=>this.copyErrorMessage()),{disabled:!0})]),this.rule(),this.submenu("Settings","Math Settings",[this.submenu("Renderer","Math Renderer",this.radioGroup("renderer",[["CHTML"],["SVG"]])),this.submenu("Overflow","Wide Expressions",[this.radioGroup("overflow",[["Overflow"],["Scroll"],["Linebreak"],["Scale"],["Truncate"],["Elide"]]),this.rule(),this.checkbox("BreakInline","Allow In-line Breaks","breakInline")]),this.rule(),this.submenu("MathmlIncludes","MathML/SVG has",[this.checkbox("showSRE","Semantic attributes","showSRE"),this.checkbox("showTex","LaTeX attributes","showTex"),this.checkbox("texHints","TeX hints","texHints"),this.checkbox("semantics","Original as annotation","semantics")]),this.submenu("Language","Language"),this.rule(),this.submenu("ZoomTrigger","Zoom Trigger",[this.command("ZoomNow","Zoom Once Now",(()=>this.zoom(null,"",this.menu.mathItem))),this.rule(),this.radioGroup("zoom",[["Click"],["DoubleClick","Double-Click"],["NoZoom","No Zoom"]]),this.rule(),this.label("TriggerRequires","Trigger Requires:"),this.checkbox(po?"Option":"Alt",po?"Option":"Alt","alt"),this.checkbox("Command","Command","cmd",{hidden:!po}),this.checkbox("Control","Control","ctrl",{hiddne:po}),this.checkbox("Shift","Shift","shift")]),this.submenu("ZoomFactor","Zoom Factor",this.radioGroup("zscale",[["150%"],["175%"],["200%"],["250%"],["300%"],["400%"]])),this.rule(),this.command("Scale","Scale All Math...",(()=>this.scaleAllMath())),this.rule(),this.command("Reset","Reset to defaults",(()=>this.resetDefaults()))]),this.rule(),this.label("Accessibility","\xA0\xA0 Accessibility:"),this.submenu("Speech","\xA0 \xA0 Speech",[this.checkbox("Generate","Generate","speech"),this.checkbox("Subtitles","Show Subtitles","subtitles"),this.checkbox("Auto Voicing","Auto Voicing","voicing"),this.rule(),this.label("Rules","Rules:"),this.submenu("Mathspeak","Mathspeak",this.radioGroup("speechRules",[["mathspeak-default","Verbose"],["mathspeak-brief","Brief"],["mathspeak-sbrief","Superbrief"]])),this.submenu("Clearspeak","Clearspeak",this.radioGroup("speechRules",[["clearspeak-default","Auto"]])),this.rule(),this.submenu("A11yLanguage","Language")]),this.submenu("Braille","\xA0 \xA0 Braille",[this.checkbox("Generate","Generate","braille"),this.checkbox("Subtitles","Show Subtitles","viewBraille"),this.rule(),this.label("Code","Code Format:"),this.radioGroup("brailleCode",[["nemeth","Nemeth"],["ueb","UEB"],["euro","Euro"]])]),this.submenu("Explorer","\xA0 \xA0 Explorer",[this.submenu("Highlight","Highlight",[this.submenu("Background","Background",this.radioGroup("backgroundColor",[["Blue"],["Red"],["Green"],["Yellow"],["Cyan"],["Magenta"],["White"],["Black"]])),{type:"slider",variable:"backgroundOpacity",content:" "},this.submenu("Foreground","Foreground",this.radioGroup("foregroundColor",[["Black"],["White"],["Magenta"],["Cyan"],["Yellow"],["Green"],["Red"],["Blue"]])),{type:"slider",variable:"foregroundOpacity",content:" "},this.rule(),this.radioGroup("highlight",[["None"],["Hover"],["Flame"]]),this.rule(),this.checkbox("TreeColoring","Tree Coloring","treeColoring")]),this.submenu("Magnification","Magnification",[this.radioGroup("magnification",[["None"],["Keyboard"],["Mouse"]]),this.rule(),this.radioGroup("magnify",[["200%"],["300%"],["400%"],["500%"]])]),this.submenu("Semantic Info","Semantic Info",[this.checkbox("Type","Type","infoType"),this.checkbox("Role","Role","infoRole"),this.checkbox("Prefix","Prefix","infoPrefix")]),this.rule(),this.submenu("Role Description","Describe math as",[this.radioGroup("roleDescription",[["MathJax expression"],["MathJax"],["math"],["clickable math"],["explorable math"],["none"]])]),this.checkbox("Math Help","Help message on focus","help")]),this.submenu("Options","\xA0 \xA0 Options",[this.checkbox("Enrich","Semantic Enrichment","enrich"),this.checkbox("Collapsible","Collapsible Math","collapsible"),this.checkbox("AutoCollapse","Auto Collapse","autocollapse",{disabled:!0}),this.rule(),this.checkbox("InTabOrder","Include in Tab Order","inTabOrder"),this.submenu("TabSelects","Tabbing Focuses on",[this.radioGroup("tabSelects",[["all","Whole Expression"],["last","Last Explored Node"]])]),this.rule(),this.checkbox("AssistiveMml","Include Hidden MathML","assistiveMml")]),this.rule(),this.command("About","About MathJax",(()=>this.postInfo(this.about))),this.command("Help","MathJax Help",(()=>this.postInfo(this.help)))]});const t=this.menu;t.settings=this.settings,t.findID("Settings","Overflow","Elide").disable(),t.findID("Braille","ueb").hide(),t.setJax(this.jax),this.attachDialogMenus(t),this.checkLoadableItems();const s=[];var r;Di.DynamicSubmenus.set("ShowAnnotation",[up(this.annotationBox,this.options.annotationTypes,s),""]),Di.DynamicSubmenus.set("CopyAnnotation",[hp(s),""]),r=this.document.document,J2||(Kh(Za,r),J2=!0,Y2(r)),(function(n){K2||(Kh(ut,n),K2=!0,Y2(n))})(this.document.document)}attachDialogMenus(e){this.about.attachMenu(e),this.help.attachMenu(e),this.originalText.attachMenu(e),this.mathmlCode.attachMenu(e),this.originalText.attachMenu(e),this.svgImage.attachMenu(e),this.speechText.attachMenu(e),this.brailleText.attachMenu(e),this.errorMessage.attachMenu(e),this.zoomBox.attachMenu(e)}checkLoadableItems(){var e,t,s,r,n,a;if(Kt&&Kt._&&Kt.loader&&Kt.startup){const o=this.settings,l=this.document.options;(o.enrich||o.speech&&l.enableSpeech||o.braille&&l.enableBraille)&&!(!((t=(e=Kt._)===null||e===void 0?void 0:e.a11y)===null||t===void 0)&&t.explorer)&&this.loadA11y("explorer"),o.collapsible&&!(!((r=(s=Kt._)===null||s===void 0?void 0:s.a11y)===null||r===void 0)&&r.complexity)&&this.loadA11y("complexity"),o.assistiveMml&&!(!((a=(n=Kt._)===null||n===void 0?void 0:n.a11y)===null||a===void 0)&&a["assistive-mml"])&&this.loadA11y("assistive-mml")}else{const o=this.menu;for(const l of Object.keys(this.jax))this.jax[l]||o.findID("Settings","Renderer",l).disable();o.findID("Speech").disable(),o.findID("Braille").disable(),o.findID("Explorer").disable(),o.findID("Options","AutoCollapse").disable(),o.findID("Options","Collapsible").disable(),o.findID("Options","Enrich").disable(),o.findID("Options","AssistiveMml").disable()}}enableAccessibilityItems(e,t){const s=this.menu.findID(e).submenu;for(const r of s.items.slice(1))r instanceof Jh||(!t||r instanceof Ya&&!r.submenu.items.length?r.disable():r.enable())}mergeUserSettings(){try{const e=localStorage.getItem(De.MENU_STORAGE);if(!e)return;Object.assign(this.settings,JSON.parse(e)),this.setA11y(this.settings)}catch(e){console.log("MathJax localStorage error: "+e.message)}}saveUserSettings(){const e={};for(const t of Object.keys(this.settings))this.settings[t]!==this.defaultSettings[t]&&(e[t]=this.settings[t]);try{Object.keys(e).length?localStorage.setItem(De.MENU_STORAGE,JSON.stringify(e)):localStorage.removeItem(De.MENU_STORAGE)}catch(t){console.log("MathJax localStorage error: "+t.message)}}setA11y(e){var t,s;!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.explorer&&Kt._.a11y.explorer_ts.setA11yOptions(this.document,e)}getA11y(e){var t,s;if(!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.explorer)return this.document.options.a11y[e]!==void 0?this.document.options.a11y[e]:this.document.options.sre[e]}applySettings(){this.setTabOrder(this.settings.inTabOrder),this.document.options.enableAssistiveMml=this.settings.assistiveMml,this.enableAccessibilityItems("Speech",this.settings.speech),this.enableAccessibilityItems("Braille",this.settings.braille),this.setAccessibilityMenus();const e=this.settings.renderer.replace(/[^a-zA-Z0-9]/g,"")||"CHTML";(De._loadingPromise||Promise.resolve()).then((()=>{const t=this.settings,s=this.document.outputJax.options;if(s.scale=parseFloat(t.scale),s.displayOverflow=t.overflow.toLowerCase(),s.linebreaks&&(s.linebreaks.inline=t.breakInline),!t.speechRules){const r=this.document.options.sre;t.speechRules=`${r.domain||"clearspeak"}-${r.style||"default"}`}e!==this.defaultSettings.renderer&&this.document.whenReady((()=>this.setRenderer(e,!1)))}))}setOverflow(e){this.document.outputJax.options.displayOverflow=e.toLowerCase(),De.loading||this.document.rerenderPromise()}setInlineBreaks(e){this.document.outputJax.options.linebreaks.inline=e,De.loading||this.document.rerenderPromise()}setScale(e){this.document.outputJax.options.scale=parseFloat(e),De.loading||this.document.rerenderPromise()}setRenderer(e,t=!0){if(Object.hasOwn(this.jax,e)&&this.jax[e])return this.setOutputJax(e,t);const s=e.toLowerCase();return new Promise(((r,n)=>{this.loadComponent("output/"+s,(()=>{const a=Kt.startup;if(!(s in a.constructors))return n(new Error(`Component ${s} not loaded`));a.useOutput(s,!0),a.output=a.getOutputJax(),a.output.setAdaptor(this.document.adaptor),a.output.initialize(),this.jax[e]=a.output,this.setOutputJax(e,t).then((()=>r())).catch((o=>n(o)))}))}))}setOutputJax(e,t=!0){this.jax[e].setAdaptor(this.document.adaptor),this.document.outputJax=this.jax[e];const s=this.loadRequiredExtensions();return t?s.then((()=>ls.handleRetriesFor((()=>this.rerender())))):s.then((()=>{}))}loadRequiredExtensions(){const e=this.document.outputJax.name.toLowerCase(),t=[];for(const s of this.requiredExtensions)t.push(Kt.loader.load(`[${s}]/${e}`));return this.requiredExtensions=[],Promise.all(t)}addRequiredExtensions(e){if(e){const t=new Set([...this.requiredExtensions,...e]);this.requiredExtensions=[...t]}}setTabOrder(e){const t=this.menu.findID("Options","TabSelects");e?t.enable():t.disable(),this.menu.store.inTaborder(e)}setAssistiveMml(e){var t,s;this.document.options.enableAssistiveMml=e,!e||!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s["assistive-mml"]?this.rerender():this.loadA11y("assistive-mml")}setAccessibilityMenus(){const e=this.settings.enrich,t=e?"enable":"disable";["Speech","Braille","Explorer"].forEach((r=>this.menu.findID(r)[t]()));const s=this.document.options;s.enableSpeech=s.enableBraille=s.enableExplorer=e,e||(this.settings.collapsible=!1,this.document.options.enableCollapsible=!1)}setSpeech(e){var t,s;this.enableAccessibilityItems("Speech",e),this.document.options.enableSpeech=e,!e||!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.explorer?this.rerender(V.COMPILED):this.loadA11y("explorer")}setBraille(e){var t,s;this.enableAccessibilityItems("Braille",e),this.document.options.enableBraille=e,!e||!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.explorer?this.rerender(V.COMPILED):this.loadA11y("explorer")}setBrailleCode(e){this.document.options.sre.braille=e,this.rerender(V.COMPILED)}setLocale(e){this.document.options.sre.locale=e,this.rerender(V.COMPILED)}setRoleDescription(){this.rerender(V.COMPILED)}setEnrichment(e){var t,s;this.document.options.enableEnrichment=e,this.setAccessibilityMenus(),!e||!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.explorer?this.rerender(V.COMPILED):this.loadA11y("explorer")}setCollapsible(e){var t,s,r,n;this.document.options.enableComplexity=e,e&&!this.settings.enrich&&(this.settings.enrich=this.document.options.enableEnrichment=!0,this.setAccessibilityMenus()),e||this.menu.pool.lookup("highlight").setValue("None"),!e||!((s=(t=Kt._)===null||t===void 0?void 0:t.a11y)===null||s===void 0)&&s.complexity?this.rerender(V.COMPILED):(this.loadA11y("complexity"),!((n=(r=Kt._)===null||r===void 0?void 0:r.a11y)===null||n===void 0)&&n.explorer||this.loadA11y("explorer"))}setHighlight(e){var t,s;if(e!=="None"){if(!this.settings.collapsible){const r=this.menu.pool.lookup("collapsible");r.setValue(!0),(s=(t=r.items[0])===null||t===void 0?void 0:t.executeCallbacks_)===null||s===void 0||s.call(t)}De.loadingPromises.has("a11y/complexity")||this.rerender(V.COMPILED)}}scaleAllMath(){const e=(100*parseFloat(this.settings.scale)).toFixed(1).replace(/.0$/,""),t=prompt("Scale all mathematics (compared to surrounding text) by",e+"%");if(this.current){const s=this.menu.mathItem.explorers.speech;s.refocus=this.current,s.focus()}if(t)if(t.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)){const s=parseFloat(t)/100;s?this.menu.pool.lookup("scale").setValue(String(s)):alert("The scale should not be zero")}else alert("The scale should be a percentage (e.g., 120%)")}resetDefaults(){De.loading++;const e=this.menu.pool,t=this.defaultSettings;for(const s of Object.keys(t)){const r=e.lookup(s);if(r){if(r.getValue()!==t[s]){r.setValue(t[s]);const n=r.items[0];n&&n.executeCallbacks_()}}else Object.hasOwn(this.settings,s)&&(this.settings[s]=t[s])}De.loading--,this.rerender(V.COMPILED)}checkComponent(e){const t=De.loadingPromises.get(e);t&&ls.retryAfter(t)}loadComponent(e,t){if(De.loadingPromises.has(e))return;const s=Kt.loader;if(!s)return;De.loading++;const r=s.load(e).then((()=>{De.loading--,De.loadingPromises.delete(e),De.loading===0&&De._loadingPromise&&(De._loadingPromise=null,De._loadingOK()),t()})).catch((n=>{De._loadingPromise?(De._loadingPromise=null,De._loadingFailed(n)):console.log(n)}));De.loadingPromises.set(e,r)}loadA11y(e){const t=!V.ENRICHED;this.loadComponent("a11y/"+e,(()=>{var s,r;const n=Kt.startup;ls.handlers.unregister(n.handler),n.handler=n.getHandler(),ls.handlers.register(n.handler);const a=this.document;this.document=n.document=n.getDocument(),this.document.processed=a.processed,this.document.menu=this,a.webworker&&(this.document.webworker=a.webworker),this.setA11y(this.settings),this.defaultSettings=Object.assign({},this.document.options.a11y,((r=(s=Kt.config)===null||s===void 0?void 0:s.options)===null||r===void 0?void 0:r.a11y)||{},this.defaultSettings),this.document.outputJax.reset(),this.transferMathList(a),this.document.processed=a.processed,De._loadingPromise||(this.document.outputJax.reset(),ls.handleRetriesFor((()=>{this.rerender(e==="complexity"||t?V.COMPILED:V.TYPESET)})))}))}transferMathList(e){const t=this.document.options.MathItem;for(const s of e.math){const r=new t;Object.assign(r,s),this.document.math.push(r)}}formatSource(e){return e.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}toMML(e){return this.MmlVisitor.visitTree(e.root,e,{filterSRE:!this.settings.showSRE,filterTex:!this.settings.showTex,texHints:this.settings.texHints,semantics:this.settings.semantics&&e.inputJax.name!=="MathML"})}toSVG(e){const t=this.jax.SVG;if(!t)return Promise.resolve("SVG can't be produced.<br>Try switching to SVG output first.");const s=t.adaptor,r=t.options.fontCache,n=!!e.root.getProperty("process-breaks");if(r!=="global"&&(e.display||!n)&&s.getAttribute(e.typesetRoot,"jax")==="SVG"){for(const a of s.childNodes(e.typesetRoot))if(s.kind(a)==="svg")return Promise.resolve(this.formatSvg(s.serializeXML(a)))}return this.typesetSVG(e,r,n)}typesetSVG(e,t,s){return mp(this,void 0,void 0,(function*(){const r=this.jax.SVG,n=r.html("div");t==="global"&&(r.options.fontCache="local");const a=e.root;return e.root=a.copy(!0),e.root.setInheritedAttributes({},e.display,0,!1),s&&(r.unmarkInlineBreaks(e.root),e.root.setProperty("inlineMarked",!1)),ls.handleRetriesFor((()=>{r.toDOM(e,n,r.document)})).then((()=>(e.root=a,r.options.fontCache=t,this.formatSvg(r.adaptor.innerHTML(n)))))}))}formatSvg(e){const t=this.constructor.SvgCss;return e=(e=e.match(/^<svg.*?><defs>/)?e.replace(/<defs>/,`<defs><style>${t}</style>`):e.replace(/^(<svg.*?>)/,`$1<defs><style>${t}</style></defs>`)).replace(/ (?:role|focusable)=".*?"/g,"").replace(/"currentColor"/g,'"black"'),this.settings.showSRE||(e=e.replace(/ (?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))=".*?"/g,"")),this.settings.showTex||(e=e.replace(/ data-latex(?:-item)?=".*?"/g,"")),this.settings.texHints||(e=e.replace(/ data-mjx-(?:texclass|alternate|variant|pseudoscript|smallmatrix|mathaccent|auto-op|script-align|vbox)=".*?"/g,"").replace(/ data-mml-node="TeXAtom"/g,"")),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
${e}`}postSvgImage(){this.postInfo(this.svgImage),this.toSVG(this.menu.mathItem).then((e=>{this.svgImage.html.querySelector("#svg-image").innerHTML=this.formatSource(e).replace(/\n/g,"<br>")}))}zoom(e,t,s){e&&!this.isZoomEvent(e,t)||(this.menu.mathItem=s,e&&this.menu.post(e),this.postInfo(this.zoomBox))}isZoomEvent(e,t){return this.settings.zoom===t&&(!this.settings.alt||e.altKey)&&(!this.settings.ctrl||e.ctrlKey)&&(!this.settings.cmd||e.metaKey)&&(!this.settings.shift||e.shiftKey)}rerender(e=V.TYPESET){this.rerenderStart=Math.min(e,this.rerenderStart);const t=Kt.startup;!De.loading&&t.hasTypeset&&t.document.whenReady((()=>mp(this,void 0,void 0,(function*(){this.rerenderStart<=V.COMPILED&&this.document.reset({inputJax:[]}),yield this.document.rerenderPromise(this.rerenderStart),this.rerenderStart=V.LAST}))))}copyMathML(){Nr(this.toMML(this.menu.mathItem))}copyOriginal(){Nr(this.menu.mathItem.math.trim())}copySvgImage(){this.toSVG(this.menu.mathItem).then((e=>{Nr(e)}))}copySpeechText(){Nr(this.menu.mathItem.outputData.speech)}copyBrailleText(){Nr(this.menu.mathItem.outputData.braille)}copyErrorMessage(){Nr(this.menu.errorMsg.trim())}addMenu(e){this.addEvents(e),this.menu.store.insert(e.typesetRoot),e.typesetRoot.tabIndex=this.settings.inTabOrder?0:-1}addEvents(e){const t=e.typesetRoot;t.addEventListener("mousedown",(()=>{var s,r;this.menu.mathItem=e,this.current=(r=(s=e.explorers)===null||s===void 0?void 0:s.speech)===null||r===void 0?void 0:r.current}),!0),t.addEventListener("contextmenu",(()=>{var s;this.menu.mathItem=e;const r=(s=e.explorers)===null||s===void 0?void 0:s.speech;r&&(e.outputData.nofocus=!this.current,r.refocus=this.current)}),!0),t.addEventListener("keydown",(()=>this.menu.mathItem=e),!0),t.addEventListener("click",(s=>this.zoom(s,"Click",e)),!0),t.addEventListener("dblclick",(s=>this.zoom(s,"DoubleClick",e)),!0)}clear(){this.menu.store.clear()}variable(e,t){return{name:e,getter:()=>this.settings[e],setter:s=>{this.settings[e]=s,t&&t(s),this.saveUserSettings()}}}a11yVar(e,t){return{name:e,getter:()=>this.getA11y(e),setter:s=>{this.settings[e]=s,this.setA11y({[e]:s}),t&&t(s),this.saveUserSettings()}}}submenu(e,t,s=[],r=!1){let n=[];for(const a of s)Array.isArray(a)?n=n.concat(a):n.push(a);return{type:"submenu",id:e,content:t,menu:{items:n},disabled:n.length===0||r}}command(e,t,s,r={}){return Object.assign({type:"command",id:e,content:t,action:s},r)}checkbox(e,t,s,r={}){return Object.assign({type:"checkbox",id:e,content:t,variable:s},r)}radioGroup(e,t){return t.map((s=>this.radio(s[0],s[1]||s[0],e)))}radio(e,t,s,r={}){return Object.assign({type:"radio",id:e,content:t,variable:s},r)}label(e,t){return{type:"label",id:e,content:t}}rule(){return{type:"rule"}}}function fp(i){return class extends i{addMenu(e,t=!1){this.state()>=V.CONTEXT_MENU||(this.isEscaped||!e.options.enableMenu&&!t||e.menu.addMenu(this),this.state(V.CONTEXT_MENU))}getMenus(e){e.menu.menu.store.sort()}checkLoading(e){e.checkLoading()}}}function gp(i){var e;return e=class extends i{constructor(...t){super(...t),this.menu=new this.options.MenuClass(this,this.options.menuOptions);const s=this.constructor.ProcessBits;s.has("context-menu")||s.allocate("context-menu"),this.options.MathItem=fp(this.options.MathItem);const r=this.menu.settings,n=this.options,a=n.enableEnrichment=r.enrich;n.enableSpeech=r.speech&&a,n.enableBraille=r.braille&&a,n.enableComplexity=r.collapsible&&a,n.enableExplorer=a}addMenu(){if(!this.processed.isSet("context-menu")){for(const t of this.math)t.addMenu(this);this.processed.set("context-menu")}return this}getMenus(){this.menu.menu.store.sort()}checkLoading(){let t=!0;try{this._checkLoading(),t=!1}catch(s){if(!s.retry)throw s}return t}_checkLoading(){return this.menu.isLoading&&ls.retryAfter(this.menu.loadingPromise.catch((t=>console.log(t)))),this.options.enableComplexity&&this.menu.checkComponent("a11y/complexity"),this.options.enableExplorer&&this.menu.checkComponent("a11y/explorer"),this}state(t,s=!1){return super.state(t,s),t<V.CONTEXT_MENU&&this.processed.clear("context-menu"),this}},e.OPTIONS=Object.assign(Object.assign({enableEnrichment:!0,enableComplexity:!0,enableSpeech:!0,enableBraille:!0,enableExplorer:!0,enrichSpeech:"none",enrichError:(t,s,r)=>console.warn("Enrichment Error:",r)},i.OPTIONS),{MenuClass:De,menuOptions:De.OPTIONS,enableMenu:!0,sre:i.OPTIONS.sre||ts({}),a11y:i.OPTIONS.a11y||ts({}),renderActions:ts(Object.assign(Object.assign({},i.OPTIONS.renderActions),{addMenu:[V.CONTEXT_MENU],getMenus:[V.INSERTED+5,!1],checkLoading:[V.UNPROCESSED+1,t=>t.checkLoading(),"",!1]}))}),e}function bp(i){return i.documentClass=gp(i.documentClass),i}De.MENU_STORAGE="MathJax-Menu-Settings",De.OPTIONS={settings:{showSRE:!1,showTex:!1,texHints:!0,semantics:!1,zoom:"NoZoom",zscale:"200%",renderer:"CHTML",alt:!1,cmd:!1,ctrl:!1,shift:!1,scale:1,overflow:"Scroll",breakInline:!0,autocollapse:!1,collapsible:!1,enrich:!0,inTabOrder:!0,assistiveMml:!1,speech:!0,braille:!0,brailleCode:"nemeth",speechRules:"clearspeak-default",roleDescription:"math",tabSelects:"all"},jax:{CHTML:null,SVG:null},annotationTypes:ts({TeX:["TeX","LaTeX","application/x-tex"],StarMath:["StarMath 5.0"],Maple:["Maple"],ContentMathML:["MathML-Content","application/mathml-content+xml"],OpenMath:["OpenMath"]})},De.SvgCss=["svg a{fill:blue;stroke:blue}",'[data-mml-node="merror"]>g{fill:red;stroke:red}','[data-mml-node="merror"]>rect[data-background]{fill:yellow;stroke:none}',"[data-frame],[data-line]{stroke-width:70px;fill:none}",".mjx-dashed{stroke-dasharray:140}",".mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}","use[data-c]{stroke-width:3px}"].join(""),De.loading=0,De.loadingPromises=new Map,De._loadingPromise=null,De._loadingOK=null,De._loadingFailed=null,fn("CONTEXT_MENU",170),MathJax.loader&&MathJax.loader.checkVersion("ui/menu",Zs,"ui"),Us({_:{a11y:{speech:{SpeechMenu:Ll}},ui:{menu:{AnnotationMenu:Sl,MJContextMenu:kl,Menu:Ol,MenuHandler:Dl,MenuUtil:Ml,MmlVisitor:Rl,RadioCompare:Il,SelectableInfo:_l}}}}),MathJax.startup&&Vi&&MathJax.startup.extendHandler((i=>bp(i)),20);const Ep="http://www.w3.org/1998/Math/MathML";class wc extends xo{findMath(e){const t=new Set;this.findMathNodes(e,t),this.findMathPrefixed(e,t);const s=this.adaptor.root(this.adaptor.document);return this.adaptor.kind(s)==="html"&&t.size===0&&this.findMathNS(e,t),this.processMath(t)}findMathNodes(e,t){for(const s of this.adaptor.tags(e,"math"))t.add(s)}findMathPrefixed(e,t){const s=this.adaptor.root(this.adaptor.document);for(const r of this.adaptor.allAttributes(s))if(r.name.substring(0,6)==="xmlns:"&&r.value===Ep){const n=r.name.substring(6);for(const a of this.adaptor.tags(e,n+":math"))t.add(a)}}findMathNS(e,t){for(const s of this.adaptor.tags(e,"math",Ep))t.add(s)}processMath(e){const t=this.adaptor,s=[];for(const r of e.values()){if(t.kind(t.parent(r))==="mjx-assistive-mml")continue;const n=t.getAttribute(r,"display")==="block"||t.getAttribute(r,"mode")==="display",a={node:r,n:0,delim:""},o={node:r,n:0,delim:""};s.push({math:t.outerHTML(r),start:a,end:o,display:n})}return s}}wc.OPTIONS={};class kc{constructor(e={}){const t=this.constructor;this.options=Ds(is({},t.OPTIONS),e)}setMmlFactory(e){this.factory=e}compile(e){const t=this.makeNode(e);return t.verifyTree(this.options.verify),t.setInheritedAttributes({},!1,0,!1),t.walkTree(this.markMrows),t}makeNode(e){const t=this.adaptor;let s=!1;const r=t.kind(e).replace(/^.*:/,"");let n=t.getAttribute(e,"data-mjx-texclass")||"";n&&(n=this.filterAttribute("data-mjx-texclass",n)||"");let a=n&&r==="mrow"?"TeXAtom":r;for(const o of this.filterClassList(t.allClasses(e)))o.match(/^MJX-TeXAtom-/)&&r==="mrow"?(n=o.substring(12),a="TeXAtom"):o==="MJX-fixedlimits"&&(s=!0);return this.factory.getNodeClass(a)?this.createMml(a,e,n,s):this.unknownNode(a,e)}createMml(e,t,s,r){const n=this.factory.create(e);return e!=="TeXAtom"||s!=="OP"||r||(n.setProperty("movesupsub",!0),n.attributes.setInherited("movablelimits",!0)),s&&(n.texClass=T[s],n.setProperty("texClass",n.texClass)),this.addAttributes(n,t),this.checkClass(n,t),this.addChildren(n,t),n}unknownNode(e,t){return this.factory.getNodeClass("html")&&this.options.allowHtmlInTokenNodes?this.factory.create("html").setHTML(t,this.adaptor):(this.error('Unknown node type "'+e+'"'),null)}addAttributes(e,t){let s=!1;for(const r of this.adaptor.allAttributes(t)){const n=r.name,a=this.filterAttribute(n,r.value);if(a!==null&&n!=="xmlns"){if(n.substring(0,9)==="data-mjx-")switch(n.substring(9)){case"alternate":e.setProperty("variantForm",!0);break;case"variant":e.attributes.set("mathvariant",a),e.setProperty("ignore-variant",!0),s=!0;break;case"smallmatrix":e.setProperty("smallmatrix",!0),e.setProperty("useHeight",!1);break;case"mathaccent":e.setProperty("mathaccent",a==="true");break;case"auto-op":e.setProperty("autoOP",a==="true");break;case"script-align":e.setProperty("scriptalign",a);break;case"vbox":e.setProperty("vbox",a);break;default:e.attributes.set(n,a)}else if(n!=="class"){const o=a.toLowerCase();o==="true"||o==="false"?e.attributes.set(n,o==="true"):s&&n==="mathvariant"||e.attributes.set(n,a)}}}}filterAttribute(e,t){return t}filterClassList(e){return e}addChildren(e,t){if(e.arity===0)return;const s=this.adaptor;for(const r of s.childNodes(t)){const n=s.kind(r);if(n!=="#comment")if(n==="#text")this.addText(e,r);else if(e.isKind("annotation-xml"))e.appendChild(this.factory.create("XML").setXML(r,s));else{const a=e.appendChild(this.makeNode(r));a.arity===0&&s.childNodes(r).length&&!a.isKind("html")&&(this.options.fixMisplacedChildren?this.addChildren(e,r):a.mError("There should not be children for "+a.kind+" nodes",this.options.verify,!0))}}e.isToken&&this.trimSpace(e)}addText(e,t){let s=this.adaptor.value(t);(e.isToken||e.getProperty("isChars"))&&e.arity?(e.isToken&&(s=f1(s),s=this.normalizeSpace(s)),e.appendChild(this.factory.create("text").setText(s))):s.match(/\S/)&&this.error('Unexpected text node "'+s+'"')}checkClass(e,t){const s=[];for(const r of this.filterClassList(this.adaptor.allClasses(t)))r.substring(0,4)==="MJX-"?r==="MJX-variant"?e.setProperty("variantForm",!0):r.substring(0,11)!=="MJX-TeXAtom"&&e.attributes.set("mathvariant",this.fixCalligraphic(r.substring(3))):s.push(r);s.length&&e.attributes.set("class",s.join(" "))}fixCalligraphic(e){return e.replace(/caligraphic/,"calligraphic")}markMrows(e){if(e.isKind("mrow")&&!e.isInferred&&e.childNodes.length>=2){const t=e.childNodes[0],s=e.childNodes[e.childNodes.length-1];t.isKind("mo")&&t.attributes.get("fence")&&t.attributes.get("stretchy")&&s.isKind("mo")&&s.attributes.get("fence")&&s.attributes.get("stretchy")&&(t.childNodes.length&&e.setProperty("open",t.getText()),s.childNodes.length&&e.setProperty("close",s.getText()))}}normalizeSpace(e){return e.replace(/[\t\n\r]/g," ").replace(/  +/g," ")}trimSpace(e){let t=e.childNodes[0];t&&(t.isKind("text")&&t.setText(t.getText().replace(/^ +/,"")),t=e.childNodes[e.childNodes.length-1],t.isKind("text")&&t.setText(t.getText().replace(/ +$/,"")))}error(e){throw new Error(e)}}kc.OPTIONS={MmlFactory:null,allowHtmlInTokenNodes:!1,fixMisplacedChildren:!0,verify:Object.assign({},Le.verifyDefaults),translateEntities:!0};class Ac extends ar{constructor(e={}){const[t,s,r]=sa(e,wc.OPTIONS,kc.OPTIONS);super(t),this.findMathML=this.options.FindMathML||new wc(s),this.mathml=this.options.MathMLCompile||new kc(r),this.mmlFilters=new wi(this.options.mmlFilters)}setAdaptor(e){super.setAdaptor(e),this.findMathML.adaptor=e,this.mathml.adaptor=e}setMmlFactory(e){super.setMmlFactory(e),this.mathml.setMmlFactory(e)}get processStrings(){return!1}compile(e,t){let s=e.start.node;if(!s||!e.end.node||this.options.forceReparse||this.adaptor.kind(s)==="#text"){let n=this.executeFilters(this.preFilters,e,t,(e.math||"<math></math>").trim());this.options.parseAs==="html"&&(n=`<html><head></head><body>${n}</body></html>`);const a=this.checkForErrors(this.adaptor.parse(n,"text/"+this.options.parseAs)),o=this.adaptor.body(a);this.adaptor.childNodes(o).length!==1&&this.error("MathML must consist of a single element"),s=this.adaptor.remove(this.adaptor.firstChild(o)),this.adaptor.kind(s).replace(/^[a-z]+:/,"")!=="math"&&this.error("MathML must be formed by a <math> element, not <"+this.adaptor.kind(s)+">")}s=this.executeFilters(this.mmlFilters,e,t,s);let r=this.mathml.compile(s);return r=this.executeFilters(this.postFilters,e,t,r),e.display=r.attributes.get("display")==="block",r}checkForErrors(e){const t=this.adaptor.tags(this.adaptor.body(e),"parsererror")[0];return t&&(this.adaptor.textContent(t)===""&&this.error("Error processing MathML"),this.options.parseError.call(this,t)),e}error(e){throw new Error(e)}findMath(e){return this.findMathML.findMath(e)}}Ac.NAME="MathML",Ac.OPTIONS=is({parseAs:"html",forceReparse:!1,mmlFilters:[],FindMathML:null,MathMLCompile:null,parseError:function(i){this.error(this.adaptor.textContent(i).replace(/\n.*/g,""))}},ar.OPTIONS),MathJax.loader&&MathJax.loader.checkVersion("input/mml",Zs,"input"),Us({_:{input:{mathml_ts:Fl,mathml:{FindMathML:Pl,MathMLCompile:Bl}}}}),MathJax.loader&&MathJax.loader.pathFilters.add((i=>(i.name=i.name.replace(/\/util\/entities\/.*?\.js/,"/input/mml/entities.js"),!0))),MathJax.loader&&MathJax.loader.checkVersion("a11y/sre",Zs,"a11y"),Us({_:{a11y:{sre_ts:Al}}}),fn("ENRICHED",V.COMPILED+10);class xp extends Do{visitTree(e,t){this.mactionId=0;const s=super.visitTree(e);return this.mactionId&&(t.inputData.hasMaction=!0),s}visitHtmlNode(e,t){return e.getSerializedXML()}visitMactionNode(e,t){const[s,r]=e.childNodes.length===0?["",""]:[`
`,t],n=this.childNodeMml(e,t+"  ",s);let a=this.getAttributes(e);if(e.attributes.get("actiontype")==="toggle"){const o=++this.mactionId;e.setProperty("mactionId",o),a=` data-maction-id="${o}" selection="${e.attributes.get("selection")}"`+a.replace(/ selection="\d+"/,"").replace(/ data-maction-id="\d+"/,"")}return`${t}<maction${a}>`+(n.match(/\S/)?s+n+r:"")+"</maction>"}}function yp(i,e,t){return class extends i{constructor(){super(...arguments),this.toMathML=t}serializeMml(s){if("outerHTML"in s)return s.outerHTML;if(typeof Element!="undefined"&&typeof window!="undefined"&&s instanceof Element){const r=window.document.createElement("div");return r.appendChild(s),r.innerHTML}return s.toString()}enrich(s,r=!1){if(!(this.state()>=V.ENRICHED)){if(!this.isEscaped&&(s.options.enableEnrichment||r)){const n=new s.options.MathItem("",e);try{let a;a=this.inputData.originalMml?this.adjustSelections():this.inputData.originalMml=this.toMathML(this.root,this);const o=Ad(a);this.inputData.enrichedMml=n.math=this.serializeMml(o),n.math=n.math.replace(/ role="treeitem"/g,' data-speech-node="true"').replace(/ aria-(?:posinset|owns|setsize)=".*?"/g,""),n.display=this.display,n.compile(s),this.root=n.root}catch(a){s.options.enrichError(s,this,a)}}this.state(V.ENRICHED)}}toEnriched(s){return this.serializeMml(Ad(s))}unEnrich(s){const r=this.inputData.originalMml;if(!r)return;const n=new s.options.MathItem("",e);n.math=r,n.display=this.display,n.compile(s),this.root=n.root}adjustSelections(){const s=this.inputData.originalMml;if(!this.inputData.hasMaction)return s;const r=[];return this.root.walkTree((n=>{n.isKind("maction")&&(r[n.attributes.get("data-maction-id")]=n)})),s.replace(/(data-maction-id="(\d+)" selection=)"\d+"/g,((n,a,o)=>`${a}"${r[o].attributes.get("selection")}"`))}}}function Np(i,e){var t;return(t=class extends i{constructor(...s){super(...s),e.setMmlFactory(this.mmlFactory);const r=this.constructor.ProcessBits;r.has("enriched")||r.allocate("enriched");const n=new xp(this.mmlFactory);this.options.MathItem=yp(this.options.MathItem,e,((a,o)=>n.visitTree(a,o)))}enrich(){if(!this.processed.isSet("enriched")){if(this.options.enableEnrichment){tp(this.options.sre);for(const s of this.math)s.enrich(this)}this.processed.set("enriched")}return this}enrichError(s,r,n){console.warn("Enrichment error:",n)}state(s,r=!1){if(super.state(s,r),s<V.ENRICHED&&(this.processed.clear("enriched"),s>=V.COMPILED))for(const n of this.math)n.unEnrich(this);return this}}).OPTIONS=Object.assign(Object.assign({},i.OPTIONS),{enableEnrichment:!0,enrichError:(s,r,n)=>s.enrichError(s,r,n),renderActions:ts(Object.assign(Object.assign({},i.OPTIONS.renderActions),{enrich:[V.ENRICHED]})),sre:ts({speech:"none",locale:"en",domain:"clearspeak",style:"default",braille:"nemeth",structure:!0,aria:!0})}),t}function Rd(i,e){return e.setAdaptor(i.adaptor),i.documentClass=Np(i.documentClass,e),i}MathJax.loader&&MathJax.loader.checkVersion("a11y/semantic-enrich",Zs,"a11y"),Us({_:{a11y:{"semantic-enrich":jl}}}),MathJax.startup&&MathJax.startup.extendHandler((i=>Rd(i,new Ac({allowHtmlInTokenNodes:!0}))));const og=["pitch","rate","volume"];function vp(i){const e=ip(i),t=[],s=[];return Cp(Array.from(e.childNodes),t,s),[s.join(" "),t]}function Cp(i,e,t,s={}){for(const r of i)if(r.nodeType!==3){if(r.nodeType===1){const n=r,a=n.tagName;if(a==="speak")continue;if(a==="prosody"){Cp(Array.from(r.childNodes),e,t,lg(n,s));continue}switch(a){case"break":e.push({pause:n.getAttribute("time")});break;case"mark":e.push({mark:n.getAttribute("name")});break;case"say-as":{const o=n.textContent;e.push(Object.assign({text:o,character:!0},s)),t.push(o);break}}}}else{const n=r.textContent.trim();n&&(t.push(n),e.push(Object.assign({text:n},s)))}}const cg={pitch:(i,e)=>i/100*1,volume:(i,e)=>i/100*.5,rate:(i,e)=>i/100*1};function lg(i,e){const t={};for(const s of og)if(i.hasAttribute(s)){const[r,n]=hg(i.getAttribute(s));if(!r){t[s]=s==="volume"?.5:1;continue}let a=e[s];a=a||(s==="volume"?.5:1);const o=cg[s](parseInt(n,10),r);t[s]=r==="-"?a-o:a+o}return t}const ug=/([+-]?)([0-9]+)%/;function hg(i){const e=i.match(ug);return e?[e[1],e[2]]:(console.warn("Something went wrong with the prosody matching."),["","100"])}function Tp(i,e,t,s=" "){if(!i)return"";const r=[i];return e&&r.unshift(e),t&&r.push(t),r.join(s)}function wp(i,e="en",t="100"){return vp(`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${e}"><prosody rate="${t}%">${i}</prosody></speak>`)}function kp(){const i=new AudioContext,e=i.createOscillator();e.frequency.value=300,e.connect(i.destination),e.start(i.currentTime),e.stop(i.currentTime+.05)}var _d,kt;(function(i){i[i.NONE=0]="NONE",i[i.DEPTH=1]="DEPTH",i[i.SUMMARY=2]="SUMMARY"})(_d||(_d={})),(function(i){i.SPEECH="data-semantic-speech-none",i.SPEECH_SSML="data-semantic-speech",i.SUMMARY="data-semantic-summary-none",i.SUMMARY_SSML="data-semantic-summary",i.PREFIX="data-semantic-prefix-none",i.PREFIX_SSML="data-semantic-prefix",i.POSTFIX="data-semantic-postfix-none",i.POSTFIX_SSML="data-semantic-postfix",i.BRAILLE="data-semantic-braille"})(kt||(kt={}));class Ap{constructor(){this.promise=Promise.resolve(),this.adaptor=null,this._options={},this._init=!1}set element(e){this._element=e}get element(){return this._element}set options(e){this._options=Object.assign({},(e==null?void 0:e.sre)||{},{enableSpeech:e.enableSpeech,enableBraille:e.enableBraille}),delete this._options.custom}get options(){return this._options}init(e,t,s){this.options=e,this._init||(this.adaptor=t,this.webworker=s,this._init=!0)}update(e){Object.assign(this.options,e)}Speech(e){const t=e.outputData.mml,s=Object.assign({},this.options,{modality:"speech"});return this.promise=this.webworker.Speech(t,s,e)}SpeechFor(e,t){const s=Object.assign({},this.options,{modality:"speech"});return this.webworker.speechFor(t,s,e)}cancel(e){var t;(t=this.webworker)===null||t===void 0||t.Cancel(e)}updateRegions(e,t,s){t.Update(this.getLabel(e)),s.Update(this.getBraille(e))}getOptions(e){var t,s,r,n;return{locale:(t=this.adaptor.getAttribute(e,"data-semantic-locale"))!==null&&t!==void 0?t:"",domain:(s=this.adaptor.getAttribute(e,"data-semantic-domain"))!==null&&s!==void 0?s:"",style:(r=this.adaptor.getAttribute(e,"data-semantic-style"))!==null&&r!==void 0?r:"",domain2style:(n=this.adaptor.getAttribute(e,"data-semantic-domain2style"))!==null&&n!==void 0?n:""}}nextRules(e){const t=this.getOptions(e.typesetRoot);return this.update(t),this.promise=this.webworker.nextRules(e.outputData.mml,Object.assign({},this.options,{modality:"speech"}),e)}nextStyle(e,t){const s=this.getOptions(t.typesetRoot);return this.update(s),this.promise=this.webworker.nextStyle(t.outputData.mml,Object.assign({},this.options,{modality:"speech"}),this.adaptor.getAttribute(e,"data-semantic-id"),t)}getLabel(e,t="",s=" "){const r=this.adaptor;return Tp(r.getAttribute(e,kt.SPEECH_SSML),r.getAttribute(e,kt.PREFIX_SSML),r.getAttribute(e,kt.POSTFIX_SSML),s)||r.getAttribute(e,"aria-label")}getBraille(e){const t=this.adaptor;return t.getAttribute(e,"aria-braillelabel")||t.getAttribute(e,kt.BRAILLE)}getLocalePreferences(e){return this.promise=this.webworker.clearspeakLocalePreferences(this.options,e)}getRelevantPreferences(e,t,s,r){const n=e.outputData.mml;return this.promise=this.webworker.clearspeakRelevantPreferences(n,t,s,r)}}var Cr=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};class dg{constructor(e,t,s,r){this.cmd=e,this.item=t,this.resolve=s,this.reject=r}}class Lp{constructor(e,t){this.adaptor=e,this.options=t,this.ready=!1,this.tasks=[],this.Commands={Ready(s,r){s.ready=!0,s.postNext()},Finished(s,r){const n=s.tasks.shift();r.success?n.resolve(r.result):n.reject(r.error),s.postNext()},Log(s,r){s.options.debug&&console.log("Log:",r)}}}Start(){return Cr(this,void 0,void 0,(function*(){if(this.ready)throw Error("Worker already started");this.worker=yield this.adaptor.createWorker(this.Listener.bind(this),this.options)}))}debug(e,...t){this.options.debug&&console.info(e,...t)}Listener(e){this.debug("Worker  >>>  Client:",e.data),Object.hasOwn(this.Commands,e.data.cmd)?this.Commands[e.data.cmd](this,e.data.data):this.debug("Invalid command from worker: "+e.data.cmd)}Post(e,t){const s=new Promise(((r,n)=>{this.tasks.push(new dg(e,t,r,n))}));return this.ready&&this.tasks.length===1&&this.postNext(),s}postNext(){if(this.tasks.length){const e=Object.assign({},this.tasks[0].cmd,{debug:this.options.debug});this.worker.postMessage(e)}}Cancel(e){const t=this.tasks.findIndex((s=>s.item===e));t>0&&(this.tasks[t].reject(`Task ${this.tasks[t].cmd.cmd} cancelled`),this.tasks.splice(t,1))}Setup(e){return this.Post({cmd:"setup",data:{domain:e.domain,style:e.style,locale:e.locale,modality:e.modality}})}Speech(e,t,s){return Cr(this,void 0,void 0,(function*(){this.Attach(s,t.enableSpeech,t.enableBraille,yield this.Post({cmd:"speech",data:{mml:e,options:t}},s))}))}nextRules(e,t,s){return Cr(this,void 0,void 0,(function*(){this.Attach(s,t.enableSpeech,t.enableBraille,yield this.Post({cmd:"nextRules",data:{mml:e,options:t}},s))}))}nextStyle(e,t,s,r){return Cr(this,void 0,void 0,(function*(){this.Attach(r,t.enableSpeech,t.enableBraille,yield this.Post({cmd:"nextStyle",data:{mml:e,options:t,nodeId:s}},r))}))}speechFor(e,t,s){return Cr(this,void 0,void 0,(function*(){const r=yield this.Post({cmd:"speech",data:{mml:e,options:t}},s);return JSON.parse(r)}))}Attach(e,t,s,r){const n=JSON.parse(r),a=e.typesetRoot;if(!a)return;this.setSpecialAttributes(a,n.options,"data-semantic-",["locale","domain","style","domain2style"]);const o=this.adaptor;this.setSpecialAttributes(a,n.translations,"data-semantic-");for(const[l,h]of Object.entries(n.mactions)){let d=o.getElement("#"+l,a);d&&o.childNodes(d)[0]&&(d=o.childNodes(d)[0],o.setAttribute(d,"data-semantic-type","dummy"),this.setSpecialAttributes(d,h,""))}this.setSpeechAttributes(o.childNodes(a)[0],"",n,t,s),t&&(n.label&&(o.setAttribute(a,kt.SPEECH,n.label),o.setAttribute(a,kt.SPEECH_SSML,n.ssml),e.outputData.speech=n.label),o.setAttribute(a,"data-speech-attached","true")),s&&(n.braillelabel&&(o.setAttribute(a,kt.BRAILLE,n.braillelabel),e.outputData.braille=n.braillelabel),n.braille&&o.setAttribute(a,"data-braille-attached","true"))}setSpeechAttribute(e,t,s,r){var n,a;const o=this.adaptor,l=o.getAttribute(e,"data-semantic-id");if(o.removeAttribute(e,"data-speech-node"),s&&t.speech[l]["speech-none"]){o.setAttribute(e,"data-speech-node","true");for(let[h,d]of Object.entries(t.speech[l]))h=h.replace(/-ssml$/,""),d&&o.setAttribute(e,`data-semantic-${h}`,d)}if(r&&(!((a=(n=t.braille)===null||n===void 0?void 0:n[l])===null||a===void 0)&&a["braille-none"])){o.setAttribute(e,"data-speech-node","true");const h=t.braille[l]["braille-none"];o.setAttribute(e,kt.BRAILLE,h)}}setSpeechAttributes(e,t,s,r,n){const a=this.adaptor;if(!e||a.kind(e)==="#text"||a.kind(e)==="#comment")return t;a.hasAttribute(e,"data-semantic-id")&&(this.setSpeechAttribute(e,s,r,n),t||a.hasAttribute(e,"data-semantic-parent")||(t=a.getAttribute(e,"data-semantic-id")));for(const o of Array.from(a.childNodes(e)))t=this.setSpeechAttributes(o,t,s,r,n);return t}setSpecialAttributes(e,t,s,r){if(t){r=r||Object.keys(t);for(const n of r){const a=t[n];a&&this.adaptor.setAttribute(e,`${s}${n.toLowerCase()}`,a)}}}Detach(e){const t=e.typesetRoot;this.adaptor.removeAttribute(t,"data-speech-attached"),this.adaptor.removeAttribute(t,"data-braille-attached"),this.detachSpeech(t)}detachSpeech(e){const t=this.adaptor,s=t.childNodes(e);if(s){if(t.kind(e)!=="#text")for(const r of["none","summary-none","speech","speech-none","summary","braille"])t.removeAttribute(e,`data-semantic-${r}`);for(const r of s)this.detachSpeech(r)}}Terminate(){this.debug("Terminating pending tasks");for(const e of this.tasks)e.reject(`${e.cmd.data.cmd} cancelled by WorkerHandler termination`);return this.tasks=[],this.debug("Terminating worker"),this.worker.terminate()}Stop(){return Cr(this,void 0,void 0,(function*(){if(!this.worker)throw Error("Worker has not been started");yield this.Terminate(),this.worker=null,this.ready=!1}))}clearspeakLocalePreferences(e,t){return Cr(this,void 0,void 0,(function*(){yield this.Post({cmd:"localePreferences",data:{options:e}}).then((s=>{t.set(e.locale,JSON.parse(s))}))}))}clearspeakRelevantPreferences(e,t,s,r){return Cr(this,void 0,void 0,(function*(){yield this.Post({cmd:"relevantPreferences",data:{mml:e,id:t}}).then((n=>{s.set(r,n)}))}))}}const Wn=nr.config||{},Mp=()=>{var i,e;return(((e=(i=Wn==null?void 0:Wn.loader)==null?void 0:i.paths)==null?void 0:e.mathjax)||(Wn==null?void 0:Wn.__dirname)||"/")+"/sre"};var Sp=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};function Ip(i){return class extends i{constructor(){super(...arguments),this.generatorPool=new Ap}attachSpeech(e){if(this.outputData.speechPromise=null,this.state()>=V.ATTACHSPEECH||(this.state(V.ATTACHSPEECH),this.isEscaped||!e.options.enableSpeech&&!e.options.enableBraille||!e.options.enableEnrichment))return;e.getWebworker(),this.generatorPool.init(e.options,e.adaptor,e.webworker),this.outputData.mml=this.toMathML(this.root,this);const t=this.generatorPool.Speech(this).catch((s=>e.options.speechError(e,this,s)));e.savePromise(t),this.outputData.speechPromise=t}detachSpeech(e){e.webworker.Detach(this)}speechFor(e){return Sp(this,void 0,void 0,(function*(){e=this.toEnriched(e);const t=yield this.generatorPool.SpeechFor(this,e);return[t.label,t.braillelabel]}))}clear(){this.generatorPool.cancel(this)}}}function Rp(i){var e;return e=class extends i{constructor(...t){super(...t),this.webworker=null;const s=this.constructor.ProcessBits;s.has("attach-speech")||s.allocate("attach-speech"),this.options.MathItem=Ip(this.options.MathItem)}getWebworker(){this.webworker||(this.webworker=new Lp(this.adaptor,this.options.worker),this.webworker.Start())}attachSpeech(){if(!this.processed.isSet("attach-speech")){const t=this.options;if(t.enableEnrichment&&(t.enableSpeech||t.enableBraille)){this.getWebworker();for(const s of this.math)s.attachSpeech(this)}this.processed.set("attach-speech")}return this}speechError(t,s,r){console.warn("Speech generation error:",r)}state(t,s=!1){if(super.state(t,s),t<V.ATTACHSPEECH&&(this.processed.clear("attach-speech"),t>=V.TYPESET))for(const r of this.math)r.detachSpeech(this);return this}done(){const t=Object.create(null,{done:{get:()=>super.done}});return Sp(this,void 0,void 0,(function*(){var s;return yield(s=this.webworker)===null||s===void 0?void 0:s.Stop(),t.done.call(this)}))}},e.OPTIONS=Object.assign(Object.assign({},i.OPTIONS),{enableSpeech:!0,enableBraille:!0,speechError:(t,s,r)=>t.speechError(t,s,r),renderActions:ts(Object.assign(Object.assign({},i.OPTIONS.renderActions),{attachSpeech:[V.ATTACHSPEECH]})),worker:{path:Mp(),maps:Mp().replace(/[cm]js\/a11y\/sre$/,"bundle/sre/mathmaps"),worker:"speech-worker.js",debug:!1},a11y:ts({speech:!0,braille:!0})}),e}function Od(i,e){return!i.documentClass.prototype.enrich&&e&&(i=Rd(i,e)),i.documentClass=Rp(i.documentClass),i}if(fn("ATTACHSPEECH",V.INSERTED+10),MathJax.loader&&MathJax.loader.checkVersion("a11y/speech",Zs,"a11y"),Us({_:{a11y:{speech_ts:Wl,speech:{GeneratorPool:ql,SpeechUtil:Ul,WebWorker:Hl}}}}),MathJax.loader){let i=Mt.resolvePath("[sre]",!1),e=Mt.resolvePath("[mathmaps]",!1);if(Vi)i=new URL(i,location).href,e=new URL(e,location).href;else{const t=typeof require!="undefined"?require:MathJax.config.loader.require;t!=null&&t.resolve?(i=t.resolve(`${i}/require.mjs`).replace(/\/[^\/]*$/,""),e=t.resolve(`${e}/base.json`).replace(/\/[^\/]*$/,"")):i=e=""}i&&Xs(MathJax.config,"options",{worker:{path:i,maps:e}})}MathJax.startup&&MathJax.startup.extendHandler((i=>Od(i)));const _p={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function Op(i,e){var t;const s=_p[i.color]||_p[e.color];return s.alpha=(t=i.alpha)!==null&&t!==void 0?t:e.alpha,(function(r){var n;return`rgba(${r.red},${r.green},${r.blue},${(n=r.alpha)!==null&&n!==void 0?n:1})`})(s)}const pg={color:"blue",alpha:1},mg={color:"black",alpha:1};let fg=0;class Dp{constructor(){this.counter=fg++,this.ATTR="sre-highlight-"+this.counter.toString(),this.mactionName="",this.currentHighlights=[]}highlight(e){this.currentHighlights.push(e.map((t=>{const s=this.highlightNode(t);return this.setHighlighted(t),s})))}highlightAll(e){const t=this.getMactionNodes(e);for(let s,r=0;s=t[r];r++)this.highlight([s])}unhighlight(){const e=this.currentHighlights.pop();e&&e.forEach((t=>{this.isHighlighted(t.node)&&(this.unhighlightNode(t),this.unsetHighlighted(t.node))}))}unhighlightAll(){for(;this.currentHighlights.length>0;)this.unhighlight()}setColor(e,t){this._foreground=Op(t,mg),this._background=Op(e,pg)}get foreground(){return this._foreground}get background(){return this._background}getMactionNodes(e){return Array.from(e.getElementsByClassName(this.mactionName))}isMactionNode(e){const t=e.className||e.getAttribute("class");return!!t&&!!t.match(new RegExp(this.mactionName))}isHighlighted(e){return e.hasAttribute(this.ATTR)}setHighlighted(e){e.setAttribute(this.ATTR,"true")}unsetHighlighted(e){e.removeAttribute(this.ATTR)}}class Pp extends Dp{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(e){const t={node:e,background:e.style.backgroundColor,foreground:e.style.color};return this.isHighlighted(e)||(e.style.backgroundColor=this.background,e.style.color=this.foreground),t}unhighlightNode(e){e.node.style.backgroundColor=e.background,e.node.style.color=e.foreground}isMactionNode(e){var t;return((t=e.tagName)===null||t===void 0?void 0:t.toUpperCase())===this.mactionName.toUpperCase()}getMactionNodes(e){return Array.from(e.getElementsByTagName(this.mactionName))}}function Lc(i,e,t){const s=new gg[t];return s.setColor(i,e),s}const gg={SVG:class extends Dp{constructor(){super(),this.mactionName="maction"}highlightNode(i){let e;if(this.isHighlighted(i))return e={node:i,background:this.background,foreground:this.foreground},e;if(i.tagName==="svg"||i.tagName==="MJX-CONTAINER")return e={node:i,background:i.style.backgroundColor,foreground:i.style.color},i.style.backgroundColor=this.background,i.style.color=this.foreground,e;const t=document.createElementNS("http://www.w3.org/2000/svg","rect");t.setAttribute("sre-highlighter-added","true");const s=i.getBBox();t.setAttribute("x",(s.x-40).toString()),t.setAttribute("y",(s.y-40).toString()),t.setAttribute("width",(s.width+80).toString()),t.setAttribute("height",(s.height+80).toString());const r=i.getAttribute("transform");return r&&t.setAttribute("transform",r),t.setAttribute("fill",this.background),i.setAttribute(this.ATTR,"true"),i.parentNode.insertBefore(t,i),e={node:i,foreground:i.getAttribute("fill")},i.nodeName!=="rect"&&i.setAttribute("fill",this.foreground),e}setHighlighted(i){i.tagName==="svg"&&super.setHighlighted(i)}unhighlightNode(i){const e=i.node.previousSibling;if(e&&e.hasAttribute("sre-highlighter-added"))return i.foreground?i.node.setAttribute("fill",i.foreground):i.node.removeAttribute("fill"),void i.node.parentNode.removeChild(e);i.node.style.backgroundColor=i.background,i.node.style.color=i.foreground}isMactionNode(i){return i.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(i){return Array.from(i.querySelectorAll(`[data-mml-node="${this.mactionName}"]`))}},CHTML:Pp,generic:Pp};class mo{constructor(e){this.document=e,this.CLASS=this.constructor,this.AddStyles()}AddStyles(){if(this.CLASS.styleAdded)return;const e=this.document.adaptor.node("style");e.innerHTML=this.CLASS.style.cssText,this.document.adaptor.head(this.document.adaptor.document).appendChild(e),this.CLASS.styleAdded=!0}AddElement(){if(this.div)return;const e=this.document.adaptor.node("div");e.classList.add(this.CLASS.className),this.div=e,this.inner=this.document.adaptor.node("div"),this.div.appendChild(this.inner),this.document.adaptor.body(this.document.adaptor.document).appendChild(this.div)}Show(e,t){this.AddElement(),this.position(e),this.highlight(t),this.div.classList.add(this.CLASS.className+"_Show")}Hide(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null,this.inner=null)}stackRegions(e){const t=e.getBoundingClientRect();let s=0,r=Number.POSITIVE_INFINITY;const n=this.document.adaptor.document.getElementsByClassName(this.CLASS.className+"_Show");for(let l,h=0;l=n[h];h++)l!==this.div&&(s=Math.max(l.getBoundingClientRect().bottom,s),r=Math.min(l.getBoundingClientRect().left,r));const a=(s||t.bottom+10)+window.scrollY,o=(r<Number.POSITIVE_INFINITY?r:t.left)+window.scrollX;this.div.style.top=a+"px",this.div.style.left=o+"px"}}mo.styleAdded=!1;class Bp extends mo{Clear(){}Update(){}Hide(){}Show(){}AddElement(){}AddStyles(){}position(){}highlight(e){}}class Dd extends mo{Clear(){this.div&&(this.Update(""),this.inner.style.top="",this.inner.style.backgroundColor="")}Update(e){e&&this.AddElement(),this.inner&&(this.inner.textContent="",this.inner.textContent=e||"\xA0")}position(e){this.stackRegions(e)}highlight(e){this.div&&(this.inner.style.backgroundColor=e.background,this.inner.style.color=e.foreground)}}class Tr extends Dd{}Tr.className="MJX_ToolTip",Tr.style=new lr({["."+Tr.className]:{width:"auto",height:"auto",opacity:1,"text-align":"center","border-radius":"4px",padding:0,"border-bottom":"1px dotted black",position:"absolute",display:"inline-block","background-color":"white","z-index":202},["."+Tr.className+" > div"]:{"border-radius":"inherit",padding:"0 2px"}});class Qr extends Dd{}Qr.className="MJX_LiveRegion",Qr.style=new lr({["."+Qr.className]:{position:"absolute",top:0,display:"none",width:"auto",height:"auto",padding:0,opacity:1,"z-index":"202",left:0,right:0,margin:"0 auto","background-color":"white","box-shadow":"0px 5px 20px #888",border:"2px solid #CCCCCC"},["."+Qr.className+"_Show"]:{display:"block"}});class Fp extends Qr{constructor(){super(...arguments),this.active=!1,this.node=null,this.clear=!1,this.highlighter=Lc({color:"red"},{color:"black"},this.document.outputJax.name),this.voiceRequest=!1,this.voiceCancelled=!1}Show(e,t){super.Update("\xA0"),this.node=e,super.Show(e,t)}Update(e){if(this.voiceRequest)return void this.makeVoice(e);speechSynthesis.onvoiceschanged=(()=>this.voiceRequest=!0).bind(this),new Promise((t=>{setTimeout((()=>{this.voiceRequest?t(!0):setTimeout((()=>{this.voiceRequest=!0,t(!0)}),100)}),100)})).then((()=>this.makeVoice(e)))}makeVoice(e){this.active=this.document.options.a11y.voicing&&!!speechSynthesis.getVoices().length,speechSynthesis.cancel(),this.clear=!0;const[t,s]=wp(e,this.document.options.sre.locale,this.document.options.sre.rate);super.Update(t),this.active&&t&&this.makeUtterances(s,this.document.options.sre.locale)}makeUtterances(e,t){this.voiceCancelled=!1;let s=null;for(const r of e)if(r.mark){if(!s){this.highlightNode(r.mark,!0);continue}s.addEventListener("end",(n=>{this.voiceCancelled||this.highlightNode(r.mark)}))}else if(r.pause){const n=parseInt(r.pause.match(/^[0-9]+/)[0]);if(isNaN(n)||!s)continue;s.addEventListener("end",(a=>{speechSynthesis.pause(),setTimeout((()=>{speechSynthesis.resume()}),n)}))}else s=new SpeechSynthesisUtterance(r.text),r.rate&&(s.rate=r.rate),r.pitch&&(s.pitch=r.pitch),s.lang=t,speechSynthesis.speak(s);s&&s.addEventListener("end",(r=>{this.highlighter.unhighlight()}))}Hide(){this.cancelVoice(),super.Hide()}cancelVoice(){this.voiceCancelled=!0,speechSynthesis.cancel(),this.highlighter.unhighlight()}highlightNode(e,t=!1){this.highlighter.unhighlight();const s=Array.from(this.node.querySelectorAll(`[data-semantic-id="${e}"]`));this.clear&&!t||this.highlighter.highlight(s),this.clear=!1}}class zn extends mo{position(e){const t=e.getBoundingClientRect(),s=this.div.getBoundingClientRect();let r,n=t.left+t.width/2-s.width/2;switch(n=n<0?0:n,n+=window.scrollX,this.document.options.a11y.align){case"top":r=t.top-s.height-10;break;case"bottom":r=t.bottom+10;break;default:r=t.top+t.height/2-s.height/2}r+=window.scrollY,r=r<0?0:r,this.div.style.top=r+"px",this.div.style.left=n+"px"}highlight(e){this.div&&(this.inner.firstChild&&!this.inner.firstChild.hasAttribute("sre-highlight")||(this.inner.style.backgroundColor=e.background,this.inner.style.color=e.foreground))}Show(e,t){this.AddElement(),this.div.style.fontSize=this.document.options.a11y.magnify,this.Update(e),super.Show(e,t)}Clear(){this.div&&(this.inner.textContent="",this.inner.style.top="",this.inner.style.backgroundColor="")}Update(e){if(!this.div)return;this.Clear();const t=this.cloneNode(e),s=t.querySelector("[data-mjx-clone]");this.inner.style.backgroundColor=e.style.backgroundColor,s.style.backgroundColor="",s.classList.remove("mjx-selected"),this.inner.appendChild(t),this.position(e)}cloneNode(e){let t=e.cloneNode(!0);if(t.setAttribute("data-mjx-clone","true"),t.nodeName!=="MJX-CONTAINER"){t.nodeName!=="g"&&(t.style.marginLeft=t.style.marginRight="0");let s=e;for(;s&&s.nodeName!=="MJX-CONTAINER";)s=s.parentNode;if(t.nodeName!=="MJX-MATH"&&t.nodeName!=="svg"&&(t=s.firstChild.cloneNode(!1).appendChild(t).parentNode,t.nodeName==="svg")){t.firstChild.setAttribute("transform","matrix(1 0 0 -1 0 0)");const r=parseFloat(t.getAttribute("viewBox").split(/ /)[2]),n=parseFloat(t.getAttribute("width")),{x:a,y:o,width:l,height:h}=e.getBBox();t.setAttribute("viewBox",[a,-(o+h),l,h].join(" ")),t.removeAttribute("style"),t.setAttribute("width",n/r*l+"ex"),t.setAttribute("height",n/r*h+"ex"),s.setAttribute("sre-highlight","false")}t=s.cloneNode(!1).appendChild(t).parentNode,t.style.margin="0"}return t}}zn.className="MJX_HoverRegion",zn.style=new lr({["."+zn.className]:{display:"block",position:"absolute",width:"max-content",height:"auto",padding:0,opacity:1,"z-index":"202",margin:"0 auto","background-color":"white","line-height":0,"box-shadow":"0px 10px 20px #888",border:"2px solid #CCCCCC"},["."+zn.className+" > div"]:{overflow:"hidden"}});class Xn{get highlighter(){return this.pool.highlighter}static stopEvent(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation?e.stopImmediatePropagation():e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}static create(e,t,s,r,...n){return new this(e,t,s,r,...n)}constructor(e,t,s,r,...n){this.document=e,this.pool=t,this.region=s,this.node=r,this.stoppable=!0,this.events=[],this._active=!1}Events(){return this.events}get active(){return this._active}set active(e){this._active=e}Attach(){this.AddEvents()}Detach(){this.RemoveEvents()}Start(){this.active=!0}Stop(){this.active&&(this.region.Clear(),this.region.Hide(),this.active=!1)}AddEvents(){for(const[e,t]of this.events)this.node.addEventListener(e,t)}RemoveEvents(){for(const[e,t]of this.events)this.node.removeEventListener(e,t)}Update(e=!1){}stopEvent(e){this.stoppable&&Xn.stopEvent(e)}}var jp=function(i,e,t,s){return new(t||(t=Promise))((function(r,n){function a(h){try{l(s.next(h))}catch(d){n(d)}}function o(h){try{l(s.throw(h))}catch(d){n(d)}}function l(h){var d;h.done?r(h.value):(d=h.value,d instanceof t?d:new t((function(x){x(d)}))).then(a,o)}l((s=s.apply(i,e||[])).next())}))};const Vn="[data-speech-node]";function bg(i){return i.matches("mjx-container")}function Gn(i,e=!0){return i.shiftKey&&e||i.metaKey||i.altKey||i.ctrlKey}const Eg=new Map([["MacOS",["on MacOS and iOS using VoiceOver",", or the VoiceOver arrow keys to select an expression"]],["Windows",["in Windows using NVDA or JAWS",`. The screen reader should enter focus or forms mode automatically
when the expression gets the browser focus, but if not, you can toggle
focus mode using NVDA+space in NVDA; for JAWS, Enter should start
forms mode while Numpad Plus leaves it.  Also note that you can use
the NVDA or JAWS key plus the arrow keys to explore the expression
even in browse mode, and you can use NVDA+shift+arrow keys to
navigate out of an expression that has the focus in NVDA`]],["Unix",["in Unix using Orca",`, and Orca should enter focus mode automatically.  If not, use the
Orca+a key to toggle focus mode on or off.  Also note that you can use
Orca+arrow keys to explore expressions even in browse mode`]],["unknown",["with a Screen Reader.",""]]]);class Mc extends Xn{get generators(){var e;return(e=this.item)===null||e===void 0?void 0:e.generatorPool}get role(){return this.item.ariaRole}get description(){return this.item.roleDescription}get none(){return this.item.none}FocusIn(e){this.item.outputData.nofocus?this.item.outputData.nofocus=!1:(this.clicked||this.Start(),this.clicked=null)}FocusOut(e){this.current&&!this.focusSpeech&&(this.setCurrent(null),this.Stop(),document.hasFocus()||this.focusTop())}KeyDown(e){if(this.pendingIndex.shift(),this.region.cancelVoice(),Gn(e,!1))return;const t=this.constructor,s=e.key.length===1?e.key.toLowerCase():e.key,[r,n]=t.keyMap.get(s)||[],a=r?n===void 0||this.active?r(this,e):n:this.undefinedKey(e);a||(this.stopEvent(e),a===!1&&this.sound&&this.NoMove())}MouseDown(e){var t;if(this.pendingIndex=[],this.region.cancelVoice(),Gn(e)||e.buttons===2)return void(this.item.outputData.nofocus=!0);const s=this.findClicked(e.target,e.x,e.y);s!==this.document.infoIcon?((t=document.getSelection())===null||t===void 0||t.removeAllRanges(),e.target.getAttribute("sre-highlighter-added")?this.refocus=s:this.clicked=s):this.stopEvent(e)}Click(e){if(Gn(e)||e.buttons===2||document.getSelection().type==="Range")return void this.FocusOut(null);const t=this.findClicked(e.target,e.x,e.y);if(t===this.document.infoIcon)return this.stopEvent(e),void this.help();t&&!this.node.contains(t)||(this.stopEvent(e),this.refocus=t,this.triggerLinkMouse()||this.Start())}DblClick(e){var t;const s=(t=document.getSelection().direction)!==null&&t!==void 0?t:"none";Gn(e)||e.buttons===2||s!=="none"?this.FocusOut(null):(this.stopEvent(e),this.refocus=this.rootNode(),this.Start())}spaceKey(){return this.refocus=this.current,!0}hKey(){this.refocus=this.current,this.help()}escapeKey(){return this.Stop(),this.focusTop(),!0}enterKey(e){if(this.active)if(this.triggerLinkKeyboard(e))this.Stop();else{const t=this.actionable(this.current);if(!t)return!1;this.refocus=t,t.dispatchEvent(new Event("click"))}else this.Start()}homeKey(){this.setCurrent(this.rootNode())}moveDown(e){return e?this.moveToNeighborCell(1,0):this.moveTo(this.firstNode(this.current))}moveUp(e){return e?this.moveToNeighborCell(-1,0):this.moveTo(this.getParent(this.current))}moveRight(e){return e?this.moveToNeighborCell(0,1):this.moveTo(this.nextSibling(this.current))}moveLeft(e){return e?this.moveToNeighborCell(0,-1):this.moveTo(this.prevSibling(this.current))}moveTo(e){if(!e)return!1;this.setCurrent(e)}moveToNeighborCell(e,t){const s=this.tableCell(this.current);if(!s)return!1;const[r,n]=this.cellPosition(s);if(r==null)return!1;const a=this.cellAt(this.cellTable(s),r+e,n+t);if(!a)return!1;this.setCurrent(a)}undefinedKey(e){return!this.active||Gn(e)}addMark(){this.current===this.marks[this.marks.length-1]?this.setCurrent(this.current):(this.currentMark=this.marks.length-1,this.marks.push(this.current),this.speak("Position marked"))}prevMark(){if(this.currentMark<0){if(this.marks.length===0)return void this.setCurrent(this.lastMark||this.rootNode());this.currentMark=this.marks.length-1}const e=this.currentMark;this.setCurrent(this.marks[e]),this.currentMark=e-1}clearMarks(){this.marks=[],this.currentMark=-1,this.prevMark()}autoVoice(){const e=!this.document.options.a11y.voicing;this.document.menu?this.document.menu.menu.pool.lookup("voicing").setValue(e):this.document.options.a11y.voicing=e,this.Update()}numberKey(e){if(!this.tableCell(this.current))return!1;if(e===0&&(e=10),this.pendingIndex.length){const t=this.cellTable(this.tableCell(this.current)),s=this.cellAt(t,this.pendingIndex[0]-1,e-1);if(this.pendingIndex=[],this.speak(String(e)),!s)return!1;setTimeout((()=>this.setCurrent(s)),500)}else this.pendingIndex=[null,e],this.speak(`Jump to row ${e} and column`)}depth(){var e,t,s;if(this.speechType==="d")return void this.setCurrent(this.current);this.speechType="d";const r=[[(e=this.node.getAttribute("data-semantic-level"))!==null&&e!==void 0?e:"Level",(t=this.current.getAttribute("aria-level"))!==null&&t!==void 0?t:"0"].join(" ").trim()],n=this.actionable(this.current);n&&r.unshift((s=this.node.getAttribute(n.getAttribute("toggle")==="1"?"data-semantic-expandable":"data-semantic-collapsible"))!==null&&s!==void 0?s:""),this.speak(r.join(" "),this.current.getAttribute(kt.BRAILLE))}summary(){if(this.speechType==="x")return void this.setCurrent(this.current);this.speechType="x";const e=this.current.getAttribute(kt.SUMMARY);this.speak(e,this.current.getAttribute(kt.BRAILLE),this.SsmlAttributes(this.current,kt.SUMMARY_SSML))}nextRules(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextRules(this.item))}nextStyle(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextStyle(this.current,this.item))}details(){const e=this.actionable(this.current);if(!e||!e.getAttribute("data-collapsible")||e.getAttribute("toggle")!=="1"||this.speechType==="z")return void this.setCurrent(this.current);this.speechType="z";const t=this.nodeId(this.current);let s;this.item.root.walkTree((n=>{n.attributes.get("data-semantic-id")===t&&(s=n)}));let r=this.item.toMathML(s,this.item);s.isKind("math")||(r=`<math>${r}</math>`),r=r.replace(/ (?:data-semantic-|aria-|data-speech-|data-latex).*?=".*?"/g,""),this.item.speechFor(r).then((([n,a])=>this.speak(n,a)))}help(){const e=this.document.adaptor,t=e.node("mjx-help-background"),s=l=>{t.remove(),this.node.focus(),this.stopEvent(l)};t.addEventListener("click",s);const r=e.node("mjx-help-sizer",{},[e.node("mjx-help-dialog",{tabindex:0,role:"dialog","aria-labeledby":"mjx-help-label"},[e.node("h1",{id:"mjx-help-label"},[e.text("MathJax Expression Explorer Help")]),e.node("div"),e.node("input",{type:"button",value:"Close"})])]);t.append(r);const n=r.firstChild;n.addEventListener("click",(l=>this.stopEvent(l))),n.lastChild.addEventListener("click",s),n.addEventListener("keydown",(l=>{l.code==="Escape"&&s(l)}));const[a,o]=Eg.get(Os.os);n.childNodes[1].innerHTML=(function(l,h){return`
<H2>Exploring expressions ${l}</h2>

<p>The mathematics on this page is being rendered by <a
href="https://www.mathjax.org/" target="_blank">MathJax</a>, which
generates both the text spoken by screen readers, as well as the
visual layout for sighted users.</p>

<p>Expressions typeset by MathJax can be explored interactively, and
are focusable.  You can use the <kbd>Tab</kbd> key to move to a typeset
expression${h}.  Initially, the expression will be read in full,
but you can use the following keys to explore the expression
further:<p>

<ul>

<li><kbd>Down Arrow</kbd> moves one level deeper into the expression to
allow you to explore the current subexpression term by term.</li>

<li><kbd>Up Arrow</kbd> moves back up a level within the expression.</li>

<li><kbd>Right Arrow</kbd> moves to the next term in the current
subexpression.</li>

<li><kbd>Left Arrow</kbd> moves to the next term in the current
subexpression.</li>

<li><kbd>Shift</kbd>+<kbd>Arrow</kbd> moves to a neighboring cell within a table.

<li><kbd>0-9</kbd>+<kbd>0-9</kbd> jumps to a cell by its index in the table, where 0 = 10.

<li><kbd>Home</kbd> takes you to the top of the expression.</li>

<li><kbd>Enter</kbd> or <kbd>Return</kbd> clicks a link or activates an active
subexpression.</li>

<li><kbd>Space</kbd> opens the MathJax contextual menu where you can view
or copy the source format of the expression, or modify MathJax's
settings.</li>

<li><kbd>Escape</kbd> exits the expression explorer.</li>

<li><kbd>x</kbd> gives a summary of the current subexpression.</li>

<li><kbd>z</kbd> gives the full text of a collapsed expression.</li>

<li><kbd>d</kbd> gives the current depth within the expression.</li>

<li><kbd>s</kbd> starts or stops auto-voicing with synchronized highlighting.</li>

<li><kbd>v</kbd> marks the current position in the expression.</li>

<li><kbd>p</kbd> cycles through the marked positions in the expression.</li>

<li><kbd>u</kbd> clears all marked positions and returns to the starting position.</li>

<li><kbd>&gt;</kbd> cycles through the available speech rule sets
(MathSpeak, ClearSpeak).</li>

<li><kbd>&lt;</kbd> cycles through the verbosity levels for the current
rule set.</li>

<li><kbd>h</kbd> produces this help listing.</li>
</ul>

<p>The MathJax contextual menu allows you to enable or disable speech
or Braille generation for mathematical expressions, the language to
use for the spoken mathematics, and other features of MathJax.  In
particular, the Explorer submenu allows you to specify how the
mathematics should be identified in the page (e.g., by saying "math"
when the expression is spoken), and whether or not to include a
message about the letter "h" bringing up this dialog box.</p>

<p>The contextual menu also provides options for viewing or copying a
MathML version of the expression or its original source format,
creating an SVG version of the expression, and viewing various other
information.</p>

<p>For more help, see the <a
href="https://docs.mathjax.org/en/latest/basic/accessibility.html"
targe="_blank">MathJax accessibility documentation.</a></p>
`})(a,o),document.body.append(t),n.focus()}setCurrent(e,t=!1){if(this.speechType="",document.hasFocus()||(this.refocus=this.current),this.node.setAttribute("aria-busy","true"),this.current){for(const s of this.getSplitNodes(this.current))s.classList.remove("mjx-selected");this.pool.unhighlight(),this.document.options.a11y.tabSelects==="last"&&(this.refocus=this.current),e||(this.lastMark=this.current,this.removeSpeech()),this.current=null}if(this.current=e,this.currentMark=-1,this.current){const s=this.getSplitNodes(this.current);for(const r of s)r.classList.add("mjx-selected");this.pool.highlight(s),this.addSpeech(e,t)}this.node.removeAttribute("aria-busy")}getSplitNodes(e){const t=this.nodeId(e);return t?Array.from(this.node.querySelectorAll(`[data-semantic-id="${t}"]`)):[e]}addSpeech(e,t){var s;(s=this.img)===null||s===void 0||s.remove();let r=[e.getAttribute(kt.PREFIX),e.getAttribute(kt.SPEECH),e.getAttribute(kt.POSTFIX)].join(" ").trim();if(t){let n=this.description===this.none?"":", "+this.description;this.document.options.a11y.help&&(n+=", press h for help"),r+=n}this.speak(r,e.getAttribute(kt.BRAILLE),this.SsmlAttributes(e,kt.SPEECH_SSML)),this.node.setAttribute("tabindex","-1")}removeSpeech(){this.speech&&(this.speech.remove(),this.speech=null,this.img&&this.node.append(this.img),this.node.setAttribute("tabindex","0"))}speak(e,t="",s=null,r=this.none){const n=this.speech;this.speech=document.createElement("mjx-speech"),this.speech.setAttribute("role",this.role),this.speech.setAttribute("aria-label",e),this.speech.setAttribute(kt.SPEECH,e),s&&(this.speech.setAttribute(kt.PREFIX_SSML,s[0]||""),this.speech.setAttribute(kt.SPEECH_SSML,s[1]||""),this.speech.setAttribute(kt.POSTFIX_SSML,s[2]||"")),t&&this.speech.setAttribute("aria-braillelabel",t),this.speech.setAttribute("aria-roledescription",r),this.speech.setAttribute("tabindex","0"),this.node.append(this.speech),this.focusSpeech=!0,this.speech.focus(),this.focusSpeech=!1,this.Update(),n&&setTimeout((()=>n.remove()),100)}attachSpeech(){var e;const t=this.item,s=this.node;if(!s.hasAttribute("has-speech")){for(const a of Array.from(s.childNodes))a.setAttribute("aria-hidden","true");s.setAttribute("has-speech","true")}const r=t.roleDescription,n=(s.getAttribute(kt.SPEECH)||"")+(r?", "+r:"");(e=this.img)===null||e===void 0||e.remove(),this.img=this.document.adaptor.node("mjx-speech",{"aria-label":n,role:"img","aria-roledescription":t.none}),s.appendChild(this.img)}detachSpeech(){var e;const t=this.node;(e=this.img)===null||e===void 0||e.remove(),t.removeAttribute("has-speech");for(const s of Array.from(t.childNodes))s.removeAttribute("aria-hidden")}focus(){this.node.focus()}nodeId(e){return e.getAttribute("data-semantic-id")}parentId(e){return e.getAttribute("data-semantic-parent")}getNode(e){return e?this.node.querySelector(`[data-semantic-id="${e}"]`):null}getParent(e){return this.getNode(this.parentId(e))}childArray(e){return e?e.getAttribute("data-semantic-children").split(/,/):[]}isCell(e){return!!e&&this.cellTypes.includes(e.getAttribute("data-semantic-type"))}isRow(e){return!!e&&e.getAttribute("data-semantic-type")==="row"}tableCell(e){for(;e&&e!==this.node;){if(this.isCell(e))return e;e=e.parentNode}return null}cellTable(e){const t=this.getParent(e);return this.isRow(t)?this.getParent(t):t}cellPosition(e){const t=this.getParent(e),s=this.childArray(t).indexOf(this.nodeId(e));if(!this.isRow(t))return[s,1];const r=this.getParent(t);return[this.childArray(r).indexOf(this.nodeId(t)),s]}cellAt(e,t,s){const r=this.getNode(this.childArray(e)[t]);return this.isRow(r)?this.getNode(this.childArray(r)[s]):s===1?r:null}firstNode(e){const t=e.getAttribute("data-semantic-owns");if(!t)return e.querySelector(Vn);const s=t.split(/ /);for(const r of s){const n=this.getNode(r);if(n!=null&&n.hasAttribute("data-speech-node"))return n}return e.querySelector(Vn)}rootNode(){const e=this.node.querySelector("[data-semantic-structure]");if(!e)return this.node.querySelector(Vn);const t=e.getAttribute("data-semantic-structure").split(/ /)[0].replace("(","");return this.getNode(t)}nextSibling(e){var t;const s=this.parentId(e);if(!s)return null;const r=(t=this.getNode(s).getAttribute("data-semantic-owns"))===null||t===void 0?void 0:t.split(/ /);if(!r)return null;let n,a=r.indexOf(this.nodeId(e));do n=this.getNode(r[++a]);while(n&&!n.hasAttribute("data-speech-node"));return n}prevSibling(e){var t;const s=this.parentId(e);if(!s)return null;const r=(t=this.getNode(s).getAttribute("data-semantic-owns"))===null||t===void 0?void 0:t.split(/ /);if(!r)return null;let n,a=r.indexOf(this.nodeId(e));do n=this.getNode(r[--a]);while(n&&!n.hasAttribute("data-speech-node"));return n}findClicked(e,t,s){const r=this.document.infoIcon;if(r===e||r.contains(e))return r;if(this.node.getAttribute("jax")!=="SVG")return e.closest(Vn);let n=null,a=this.node;for(;a;){a.matches(Vn)&&(n=a);const o=Array.from(a.childNodes);a=null;for(const l of o)if(l!==this.speech&&l!==this.img&&l.tagName.toLowerCase()!=="rect"){const{left:h,right:d,top:x,bottom:k}=l.getBoundingClientRect();if(h<=t&&t<=d&&x<=s&&s<=k){a=l;break}}}return n}focusTop(){this.focusSpeech=!0,this.node.focus(),this.focusSpeech=!1}SsmlAttributes(e,t){return[e.getAttribute(kt.PREFIX_SSML),e.getAttribute(t),e.getAttribute(kt.POSTFIX_SSML)]}restartAfter(e){return jp(this,void 0,void 0,(function*(){yield e,this.attachSpeech();const t=this.current;this.current=null,this.pool.unhighlight(),this.setCurrent(t)}))}constructor(e,t,s,r,n,a,o,l){super(e,t,null,r),this.document=e,this.pool=t,this.region=s,this.node=r,this.brailleRegion=n,this.magnifyRegion=a,this.item=l,this.sound=!1,this.current=null,this.clicked=null,this.refocus=null,this.focusSpeech=!1,this.restarted=null,this.speech=null,this.speechType="",this.img=null,this.attached=!1,this.eventsAttached=!1,this.marks=[],this.currentMark=-1,this.lastMark=null,this.pendingIndex=[],this.cellTypes=["cell","line"],this.events=super.Events().concat([["focusin",this.FocusIn.bind(this)],["focusout",this.FocusOut.bind(this)],["keydown",this.KeyDown.bind(this)],["mousedown",this.MouseDown.bind(this)],["click",this.Click.bind(this)],["dblclick",this.DblClick.bind(this)]])}findStartNode(){let e=this.refocus||this.current;return!e&&this.restarted&&(e=this.node.querySelector(this.restarted)),this.refocus=this.restarted=null,e}Start(){const e=Object.create(null,{Start:{get:()=>super.Start}});return jp(this,void 0,void 0,(function*(){if(!this.attached||this.active||(this.document.activeItem=this.item,this.item.state()<V.ATTACHSPEECH&&(this.item.attachSpeech(this.document),yield this.generators.promise),this.focusSpeech))return;this.node.classList.add("mjx-explorer-active"),this.node.append(this.document.infoIcon);const t=this.findStartNode();this.setCurrent(t||this.rootNode(),!t),e.Start.call(this);const s=this.document.options,r=s.a11y;r.subtitles&&r.speech&&s.enableSpeech&&this.region.Show(this.node,this.highlighter),r.viewBraille&&r.braille&&s.enableBraille&&this.brailleRegion.Show(this.node,this.highlighter),r.keyMagnifier&&this.magnifyRegion.Show(this.current,this.highlighter),this.Update()}))}Stop(){if(this.active){const e=this.description;this.node.getAttribute("aria-roledescription")!==e&&this.node.setAttribute("aria-roledescription",e),this.node.classList.remove("mjx-explorer-active"),this.document.infoIcon.remove(),this.pool.unhighlight(),this.magnifyRegion.Hide(),this.region.Hide(),this.brailleRegion.Hide()}super.Stop()}Update(){this.active&&(this.region.node=this.node,this.generators.updateRegions(this.speech||this.node,this.region,this.brailleRegion),this.magnifyRegion.Update(this.current))}Attach(){this.attached||(super.Attach(),this.node.setAttribute("tabindex","0"),this.attached=!0)}Detach(){var e;super.RemoveEvents(),this.node.removeAttribute("role"),this.node.removeAttribute("aria-roledescription"),this.node.removeAttribute("aria-label"),(e=this.img)===null||e===void 0||e.remove(),this.active&&this.node.setAttribute("tabindex","0"),this.attached=!1}NoMove(){kp()}AddEvents(){this.eventsAttached||(super.AddEvents(),this.eventsAttached=!0)}actionable(e){const t=e==null?void 0:e.parentNode;return t&&this.highlighter.isMactionNode(t)?t:null}triggerLinkKeyboard(e){return this.current?this.triggerLink(this.current):e.target instanceof HTMLAnchorElement&&(e.target.dispatchEvent(new MouseEvent("click")),!0)}triggerLink(e){var t;if(!((t=e==null?void 0:e.getAttribute("data-semantic-postfix"))===null||t===void 0)&&t.match(/(^| )link($| )/))for(;e&&e!==this.node;){if(e instanceof HTMLAnchorElement)return e.dispatchEvent(new MouseEvent("click")),setTimeout((()=>this.FocusOut(null)),50),!0;e=e.parentNode}return!1}triggerLinkMouse(){let e=this.refocus;for(;e&&e!==this.node;){if(this.triggerLink(e))return!0;e=e.parentNode}return!1}semanticFocus(){const e=[];let t="data-semantic-id",s=this.current||this.refocus||this.node;const r=this.actionable(s);r&&(t=r.hasAttribute("data-maction-id")?"data-maction-id":"id",s=r,e.push(Vn));const n=s.getAttribute(t);return n&&e.unshift(`[${t}="${n}"]`),e.join(" ")}}Mc.keyMap=new Map([["Tab",[()=>!0]],["Escape",[i=>i.escapeKey()]],["Enter",[(i,e)=>i.enterKey(e)]],["Home",[i=>i.homeKey()]],["ArrowDown",[(i,e)=>i.moveDown(e.shiftKey),!0]],["ArrowUp",[(i,e)=>i.moveUp(e.shiftKey),!0]],["ArrowLeft",[(i,e)=>i.moveLeft(e.shiftKey),!0]],["ArrowRight",[(i,e)=>i.moveRight(e.shiftKey),!0]],[" ",[i=>i.spaceKey()]],["h",[i=>i.hKey()]],[">",[i=>i.nextRules(),!1]],["<",[i=>i.nextStyle(),!1]],["x",[i=>i.summary(),!1]],["z",[i=>i.details(),!1]],["d",[i=>i.depth(),!1]],["v",[i=>i.addMark(),!1]],["p",[i=>i.prevMark(),!1]],["u",[i=>i.clearMarks(),!1]],["s",[i=>i.autoVoice(),!1]],...[..."0123456789"].map((i=>[i,[e=>e.numberKey(parseInt(i)),!1]]))]);class Up extends Xn{constructor(){super(...arguments),this.events=super.Events().concat([["mouseover",this.MouseOver.bind(this)],["mouseout",this.MouseOut.bind(this)]])}MouseOver(e){this.Start()}MouseOut(e){this.Stop()}}class Sc extends Up{constructor(e,t,s,r,n,a){super(e,t,s,r),this.document=e,this.pool=t,this.region=s,this.node=r,this.nodeQuery=n,this.nodeAccess=a}MouseOut(e){this.highlighter.unhighlight(),this.region.Hide(),super.MouseOut(e)}MouseOver(e){super.MouseOver(e);const t=e.target,[s,r]=this.getNode(t);s&&(this.highlighter.unhighlight(),this.highlighter.highlight([s]),this.region.Update(r),this.region.Show(s,this.highlighter))}getNode(e){const t=e;for(;e&&e!==this.node;){if(this.nodeQuery(e))return[e,this.nodeAccess(e)];e=e.parentNode}for(e=t;e;){if(this.nodeQuery(e))return[e,this.nodeAccess(e)];const s=e.childNodes[0];e=s&&s.tagName==="defs"?e.childNodes[1]:s}return[null,null]}}class Ic extends Sc{}class qp extends Sc{}class Hp extends Sc{constructor(e,t,s,r){super(e,t,new Bp(e),r,(n=>this.highlighter.isMactionNode(n)),(()=>{})),this.document=e,this.pool=t,this.node=r}}class Pd extends Xn{constructor(e,t,s,r,n){super(e,t,null,r),this.document=e,this.pool=t,this.region=s,this.node=r,this.mml=n,this.stoppable=!1}Attach(){super.Attach(),this.Start()}Detach(){this.Stop(),super.Detach()}}class Wp extends Pd{Start(){this.active||(this.active=!0,this.highlighter.highlightAll(this.node))}Stop(){this.active&&this.highlighter.unhighlightAll(),this.active=!1}}class zp extends Pd{constructor(){super(...arguments),this.contrast=new Rc,this.leaves=[],this.modality="data-semantic-foreground"}Start(){this.active||(this.active=!0,this.node.hasAttribute("hasforegroundcolor")||(this.colorLeaves(),this.node.setAttribute("hasforegroundcolor","true")),this.leaves.forEach((e=>this.colorize(e))))}Stop(){this.active&&this.leaves.forEach((e=>this.uncolorize(e))),this.active=!1}colorLeaves(){this.leaves=Array.from(this.node.querySelectorAll("[data-semantic-id]:not([data-semantic-children])"));for(const e of this.leaves)e.setAttribute(this.modality,this.contrast.generate()),this.contrast.increment()}colorize(e){e.hasAttribute(this.modality)&&(e.setAttribute(this.modality+"-old",e.style.color),e.style.color=e.getAttribute(this.modality))}uncolorize(e){const t=this.modality+"-old";e.hasAttribute(t)&&(e.style.color=e.getAttribute(t))}}class Rc{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=53}generate(){return Rc.hsl2rgb(this.hue,this.sat,this.light)}increment(){this.hue=(this.hue+this.incr)%360}static hsl2rgb(e,t,s){t=t>1?t/100:t,s=s>1?s/100:s;const r=(1-Math.abs(2*s-1))*t,n=r*(1-Math.abs(e/60%2-1)),a=s-r/2;let o=0,l=0,h=0;return 0<=e&&e<60?[o,l,h]=[r,n,0]:60<=e&&e<120?[o,l,h]=[n,r,0]:120<=e&&e<180?[o,l,h]=[0,r,n]:180<=e&&e<240?[o,l,h]=[0,n,r]:240<=e&&e<300?[o,l,h]=[n,0,r]:300<=e&&e<360&&([o,l,h]=[r,0,n]),`rgb(${255*(o+a)}, ${255*(l+a)}, ${255*(h+a)})`}}class Xp{constructor(e){this.document=e,this.speechRegion=new Fp(this.document),this.brailleRegion=new Qr(this.document),this.magnifier=new zn(this.document),this.tooltip1=new Tr(this.document),this.tooltip2=new Tr(this.document),this.tooltip3=new Tr(this.document)}}const Vp={speech:(i,e,t,...s)=>{const r=Mc.create(i,e,i.explorerRegions.speechRegion,t,i.explorerRegions.brailleRegion,i.explorerRegions.magnifier,s[0],s[1]);return r.sound=!0,r},mouseMagnifier:(i,e,t,...s)=>qp.create(i,e,i.explorerRegions.magnifier,t,(r=>r.hasAttribute("data-semantic-type")),(r=>r)),hover:(i,e,t,...s)=>Hp.create(i,e,null,t),infoType:(i,e,t,...s)=>Ic.create(i,e,i.explorerRegions.tooltip1,t,(r=>r.hasAttribute("data-semantic-type")),(r=>r.getAttribute("data-semantic-type"))),infoRole:(i,e,t,...s)=>Ic.create(i,e,i.explorerRegions.tooltip2,t,(r=>r.hasAttribute("data-semantic-role")),(r=>r.getAttribute("data-semantic-role"))),infoPrefix:(i,e,t,...s)=>Ic.create(i,e,i.explorerRegions.tooltip3,t,(r=>{var n;return(n=r.hasAttribute)===null||n===void 0?void 0:n.call(r,"data-semantic-prefix-none")}),(r=>{var n;return(n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"data-semantic-prefix-none")})),flame:(i,e,t,...s)=>Wp.create(i,e,null,t),treeColoring:(i,e,t,...s)=>zp.create(i,e,null,t,...s)};class Gp{constructor(){this.explorers={},this.attached=[],this._restart=[],this.speechExplorerKeys=["speech","braille","keyMagnifier"]}get highlighter(){if(this._renderer!==this.document.outputJax.name)return this._renderer=this.document.outputJax.name,this.setPrimaryHighlighter(),this._highlighter;const[e,t]=this.colorOptions();return this._highlighter.setColor(t,e),this._highlighter}init(e,t,s,r){this.document=e,this.mml=s,this.node=t,this.setPrimaryHighlighter();for(const n of Object.keys(Vp))this.explorers[n]=Vp[n](this.document,this,this.node,this.mml,r);this.setSecondaryHighlighter(),this.attach()}attach(){this.attached=[];const e=[],t=this.document.options.a11y;for(const[s,r]of Object.entries(this.explorers))r instanceof Mc?(r.stoppable=!1,e.unshift(r),this.speechExplorerKeys.some((n=>this.document.options.a11y[n]))?(r.Attach(),this.attached.push(s)):r.Detach()):t[s]||s==="speech"&&(t.braille||t.keyMagnifier)?(r.Attach(),this.attached.push(s)):r.Detach();for(const s of e)if(s.attached){s.stoppable=!0;break}}reattach(){for(const e of this.attached){const t=this.explorers[e];t.active&&(this._restart.push(e),t.Stop())}}restart(){this._restart.forEach((e=>{this.explorers[e].Start()})),this._restart=[]}setPrimaryHighlighter(){const[e,t]=this.colorOptions();this._highlighter=Lc(t,e,this.document.outputJax.name)}setSecondaryHighlighter(){this.secondaryHighlighter=Lc({color:"red"},{color:"black"},this.document.outputJax.name),this.speech.region.highlighter=this.secondaryHighlighter}highlight(e){this.highlighter.highlight(e)}unhighlight(){this.secondaryHighlighter.unhighlight(),this.highlighter.unhighlight()}get speech(){return this.explorers.speech}colorOptions(){const e=this.document.options.a11y;return[{color:e.foregroundColor.toLowerCase(),alpha:e.foregroundOpacity/100},{color:e.backgroundColor.toLowerCase(),alpha:e.backgroundOpacity/100}]}}const xg=Os.os==="Unix";function Jp(i,e){var t;return t=class extends i{constructor(){super(...arguments),this.refocus=null}get ariaRole(){return this.constructor.ariaRole}get roleDescription(){const s=this.constructor;return s.roleDescription==="none"?s.none:s.roleDescription}get none(){return this.constructor.none}attachSpeech(s){var r,n;super.attachSpeech(s),(n=(r=this.outputData.speechPromise)===null||r===void 0?void 0:r.then((()=>this.explorers.speech.attachSpeech())))===null||n===void 0||n.then((()=>{var a;!((a=this.explorers)===null||a===void 0)&&a.speech&&(this.explorers.speech.restarted=this.refocus),this.refocus=null,this.explorers&&this.explorers.restart()}))}detachSpeech(s){super.detachSpeech(s),this.explorers.speech.detachSpeech()}explorable(s,r=!1){if(!(this.state()>=V.EXPLORER)){if(!this.isEscaped&&(s.options.enableExplorer||r)){const n=this.typesetRoot,a=e(this.root);this.explorers||(this.explorers=new Gp),this.explorers.init(s,n,a,this)}this.state(V.EXPLORER)}}state(s=null,r=!1){if(s<V.EXPLORER&&this.explorers)for(const n of Object.values(this.explorers.explorers))n.active&&n.Stop();return super.state(s,r)}rerender(s,r=V.RERENDER){const n=this.setTemporaryFocus(s);super.rerender(s,r),this.clearTemporaryFocus(n)}setTemporaryFocus(s){var r;let n=null;if(this.explorers){const a=this.explorers.speech;if(n=a!=null&&a.attached?s.tmpFocus:null,n){this.refocus=(r=a.semanticFocus())!==null&&r!==void 0?r:null;const o=s.adaptor;o.append(o.body(),n)}this.explorers.reattach(),n==null||n.focus()}return n}clearTemporaryFocus(s){var r;s&&((r=this.outputData.speechPromise)!==null&&r!==void 0?r:Promise.resolve()).then((()=>setTimeout((()=>s.remove()),100)))}},t.ariaRole=xg?"tree":"application",t.roleDescription="math",t.none="\x91",t}function Kp(i){var e;return e=class extends i{constructor(...t){super(...t),this.explorerRegions=null,this.activeItem=null;const s=this.constructor.ProcessBits;s.has("explorer")||s.allocate("explorer");const r=new Do(this.mmlFactory),n=this.options;n.a11y.speechRules||(n.a11y.speechRules=`${n.sre.domain}-${n.sre.style}`);const a=n.MathItem=Jp(n.MathItem,(h=>r.visitTree(h)));a.roleDescription=n.roleDescription,this.explorerRegions=new Xp(this),"addStyles"in this&&this.addStyles(this.constructor.speechStyles);const o=this.adaptor,l="http://www.w3.org/2000/svg";this.infoIcon=o.node("mjx-help",{},[o.node("svg",{viewBox:"0 0 18 18",xmlns:l,"aria-hidden":"true"},[o.node("circle",{stroke:"none"},[],l),o.node("circle",{},[],l),o.node("line",{x1:9,y1:9,x2:9,y2:13},[],l),o.node("line",{x1:9,y1:5.5,x2:9,y2:5.5},[],l)],l)]),this.tmpFocus=this.adaptor.node("mjx-focus",{tabIndex:0,style:{outline:"none",display:"block",position:"absolute",top:0,left:"-10px",width:"1px",height:"1px",overflow:"hidden"},role:a.ariaRole,"aria-label":a.none,"aria-roledescription":a.none})}explorable(){if(!this.processed.isSet("explorer")){if(this.options.enableExplorer)for(const t of this.math)t.explorable(this);this.processed.set("explorer")}return this}rerender(t){const s=this.activeItem,r=s==null?void 0:s.setTemporaryFocus(this);return super.rerender(t),s==null||s.clearTemporaryFocus(r),this}state(t,s=!1){return super.state(t,s),t<V.EXPLORER&&this.processed.clear("explorer"),this}},e.OPTIONS=Object.assign(Object.assign({},i.OPTIONS),{enableExplorer:Vi,renderActions:ts(Object.assign(Object.assign({},i.OPTIONS.renderActions),{explorable:[V.EXPLORER]})),sre:ts(Object.assign(Object.assign({},i.OPTIONS.sre),{speech:"none"})),a11y:Object.assign(Object.assign({},i.OPTIONS.a11y),{align:"top",backgroundColor:"Blue",backgroundOpacity:20,flame:!1,foregroundColor:"Black",foregroundOpacity:100,highlight:"None",hover:!1,infoPrefix:!1,infoRole:!1,infoType:!1,keyMagnifier:!1,magnification:"None",magnify:"400%",mouseMagnifier:!1,subtitles:!1,treeColoring:!1,viewBraille:!1,voicing:!1,help:!0,roleDescription:"math",tabSelects:"all"})}),e.speechStyles={'mjx-container[has-speech="true"]':{position:"relative",cursor:"default"},"mjx-speech":{position:"absolute","z-index":-1,left:0,top:0,bottom:0,right:0},"mjx-speech:focus":{outline:"none"},"mjx-container .mjx-selected":{outline:"2px solid black"},"mjx-container > mjx-help":{display:"none",position:"absolute",top:"-.33em",right:"-.5em",width:".6em",height:".6em",cursor:"pointer"},'mjx-container[display="true"] > mjx-help':{right:0},"mjx-help > svg":{stroke:"black",width:"100%",height:"100%"},"mjx-help > svg > circle":{"stroke-width":"1.5px",cx:"9px",cy:"9px",r:"9px",fill:"white"},"mjx-help > svg > circle:nth-child(2)":{fill:"rgba(0, 0, 255, 0.2)",r:"7px"},"mjx-help > svg > line":{"stroke-width":"2.5px","stroke-linecap":"round"},"mjx-help:hover > svg > circle:nth-child(2)":{fill:"white"},"mjx-container.mjx-explorer-active > mjx-help":{display:"inline-flex","align-items":"center"},"mjx-help-sizer":{position:"fixed",width:"40%","max-width":"30em",top:"3em",left:"50%"},"mjx-help-dialog":{position:"absolute",width:"200%",left:"-100%",border:"3px outset","border-radius":"15px",color:"black","background-color":"#DDDDDD","z-index":"301","text-align":"right","font-style":"normal","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal",float:"none","box-shadow":"0px 10px 20px #808080",outline:"none"},"mjx-help-dialog > h1":{"font-size":"24px","text-align":"center",margin:".5em 0"},"mjx-help-dialog > div":{margin:"0 1em",padding:"3px",overflow:"auto",height:"20em",border:"2px inset black","background-color":"white","text-align":"left"},"mjx-help-dialog > input":{margin:".5em 2em"},"mjx-help-dialog kbd":{display:"inline-block",padding:"3px 5px","font-size":"11px","line-height":"10px",color:"#444d56","vertical-align":"middle","background-color":"#fafbfc",border:"solid 1.5px #c6cbd1","border-bottom-color":"#959da5","border-radius":"3px","box-shadow":"inset -.5px -1px 0 #959da5"},"mjx-help-dialog ul":{"list-style-type":"none"},"mjx-help-dialog li":{"margin-bottom":".5em"},"mjx-help-background":{position:"fixed",top:0,left:0,right:0,bottom:0}},e}function $p(i,e=null){return i.documentClass.prototype.attachSpeech||(i=Od(i,e)),i.documentClass=Kp(i.documentClass),i}function yg(i,e){var t;const s=sp();for(const r in e)i.options.a11y[r]!==void 0?Yp(i,r,e[r]):s[r]!==void 0&&(i.options.sre[r]=e[r]);e.roleDescription&&(i.options.MathItem.roleDescription=e.roleDescription);for(const r of i.math)(t=r==null?void 0:r.explorers)===null||t===void 0||t.attach()}function Yp(i,e,t){switch(e){case"speechRules":{const[s,r]=t.split("-");i.options.sre.domain=s,i.options.sre.style=r;break}case"magnification":switch(t){case"None":i.options.a11y.magnification=t,i.options.a11y.keyMagnifier=!1,i.options.a11y.mouseMagnifier=!1;break;case"Keyboard":i.options.a11y.magnification=t,i.options.a11y.keyMagnifier=!0,i.options.a11y.mouseMagnifier=!1;break;case"Mouse":i.options.a11y.magnification=t,i.options.a11y.keyMagnifier=!1,i.options.a11y.mouseMagnifier=!0}break;case"highlight":switch(t){case"None":i.options.a11y.highlight=t,i.options.a11y.hover=!1,i.options.a11y.flame=!1;break;case"Hover":i.options.a11y.highlight=t,i.options.a11y.hover=!0,i.options.a11y.flame=!1;break;case"Flame":i.options.a11y.highlight=t,i.options.a11y.hover=!1,i.options.a11y.flame=!0}break;case"locale":i.options.sre.locale=t;break;default:i.options.a11y[e]=t}}fn("EXPLORER",V.INSERTED+30),MathJax.loader&&MathJax.loader.checkVersion("a11y/explorer",Zs,"a11y"),Us({_:{a11y:{explorer_ts:Yl,explorer:{Explorer:Vl,ExplorerPool:$l,Highlighter:zl,KeyExplorer:Gl,MouseExplorer:Jl,Region:Xl,TreeExplorer:Kl}}}}),MathJax.startup&&Vi&&MathJax.startup.extendHandler((i=>$p(i))),Gt.preLoaded("a11y/sre","a11y/semantic-enrich","a11y/speech","a11y/explorer"),Gt.preLoaded("loader","startup","core","input/tex","output/chtml","ui/menu"),Gt.saveVersion("tex-chtml"),(function(i,e){B2.loadFont(i,"chtml",Hh,e)})((function(i){return Gt.load(...wt.load).then((()=>(i||function(){})())).then((()=>wt.ready())).catch((e=>wt.failed(e)))}),!0)})()})();
