"use strict";var Nnt=Object.defineProperty,Mnt=Object.defineProperties;var Int=Object.getOwnPropertyDescriptors;var JGe=Object.getOwnPropertySymbols;var Dnt=Object.prototype.hasOwnProperty,Rnt=Object.prototype.propertyIsEnumerable;var jo=Math.pow,Pj=(ya,fi,dn)=>fi in ya?Nnt(ya,fi,{enumerable:!0,configurable:!0,writable:!0,value:dn}):ya[fi]=dn,dt=(ya,fi)=>{for(var dn in fi||(fi={}))Dnt.call(fi,dn)&&Pj(ya,dn,fi[dn]);if(JGe)for(var dn of JGe(fi))Rnt.call(fi,dn)&&Pj(ya,dn,fi[dn]);return ya},hr=(ya,fi)=>Mnt(ya,Int(fi));var Ar=(ya,fi,dn)=>Pj(ya,typeof fi!="symbol"?fi+"":fi,dn);var xe=(ya,fi,dn)=>new Promise((eE,r4)=>{var tE=ci=>{try{B(dn.next(ci))}catch(nr){r4(nr)}},l=ci=>{try{B(dn.throw(ci))}catch(nr){r4(nr)}},B=ci=>ci.done?eE(ci.value):Promise.resolve(ci.value).then(tE,l);B((dn=dn.apply(ya,fi)).next())});var __esbuild_esm_mermaid_nm;(__esbuild_esm_mermaid_nm||(__esbuild_esm_mermaid_nm={})).mermaid=(()=>{var Sp;var ya=Object.create,fi=Object.defineProperty,dn=Object.getOwnPropertyDescriptor,eE=Object.getOwnPropertyNames,r4=Object.getPrototypeOf,tE=Object.prototype.hasOwnProperty,l=(e,t)=>fi(e,"name",{value:t,configurable:!0}),B=(e,t)=>()=>(e&&(t=e(e=0)),t),ci=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nr=(e,t)=>{for(var r in t)fi(e,r,{get:t[r],enumerable:!0})},i4=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of eE(t))!tE.call(e,n)&&n!==r&&fi(e,n,{get:()=>t[n],enumerable:!(i=dn(t,n))||i.enumerable});return e},n4=(e,t,r)=>(i4(e,t,"default"),r&&i4(r,t,"default")),Yn=(e,t,r)=>(r=e!=null?ya(r4(e)):{},i4(t||!e||!e.__esModule?fi(r,"default",{value:e,enumerable:!0}):r,e)),eUe=e=>i4(fi({},"__esModule",{value:!0}),e),Bj,Yf,rE,$j,iE=B(()=>{"use strict";Bj=Object.freeze({left:0,top:0,width:16,height:16}),Yf=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),rE=Object.freeze(dt(dt({},Bj),Yf)),$j=Object.freeze(hr(dt({},rE),{body:"",hidden:!1}))}),Fj,zj,tUe=B(()=>{"use strict";iE(),Fj=Object.freeze({width:null,height:null}),zj=Object.freeze(dt(dt({},Fj),Yf))}),Gj,a4,rUe=B(()=>{"use strict";Gj=l((e,t,r,i="")=>{let n=e.split(":");if(e.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;i=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){let o=n.pop(),u=n.pop(),h={provider:n.length>0?n[0]:i,prefix:u,name:o};return t&&!a4(h)?null:h}let a=n[0],s=a.split("-");if(s.length>1){let o={provider:i,prefix:s.shift(),name:s.join("-")};return t&&!a4(o)?null:o}if(r&&i===""){let o={provider:i,prefix:"",name:a};return t&&!a4(o,r)?null:o}return null},"stringToIcon"),a4=l((e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,"validateIconName")});function Uj(e,t){let r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);let i=((e.rotate||0)+(t.rotate||0))%4;return i&&(r.rotate=i),r}var iUe=B(()=>{"use strict";l(Uj,"mergeIconTransformations")});function nE(e,t){let r=Uj(e,t);for(let i in $j)i in Yf?i in e&&!(i in r)&&(r[i]=Yf[i]):i in t?r[i]=t[i]:i in e&&(r[i]=e[i]);return r}var nUe=B(()=>{"use strict";iE(),iUe(),l(nE,"mergeIconData")});function qj(e,t){let r=e.icons,i=e.aliases||Object.create(null),n=Object.create(null);function a(s){if(r[s])return n[s]=[];if(!(s in n)){n[s]=null;let o=i[s]&&i[s].parent,u=o&&a(o);u&&(n[s]=[o].concat(u))}return n[s]}return l(a,"resolve"),(t||Object.keys(r).concat(Object.keys(i))).forEach(a),n}var aUe=B(()=>{"use strict";l(qj,"getIconsTree")});function aE(e,t,r){let i=e.icons,n=e.aliases||Object.create(null),a={};function s(o){a=nE(i[o]||n[o],a)}return l(s,"parse"),s(t),r.forEach(s),nE(e,a)}function jj(e,t){if(e.icons[t])return aE(e,t,[]);let r=qj(e,[t])[t];return r?aE(e,t,r):null}var sUe=B(()=>{"use strict";nUe(),aUe(),l(aE,"internalGetIconData"),l(jj,"getIconData")});function sE(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;let i=e.split(Hj);if(i===null||!i.length)return e;let n=[],a=i.shift(),s=Vj.test(a);for(;;){if(s){let o=parseFloat(a);isNaN(o)?n.push(a):n.push(Math.ceil(o*t*r)/r)}else n.push(a);if(a=i.shift(),a===void 0)return n.join("");s=!s}}var Hj,Vj,oUe=B(()=>{"use strict";Hj=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Vj=/^-?[0-9.]*[0-9]+[0-9.]*$/g,l(sE,"calculateSize")});function Yj(e,t="defs"){let r="",i=e.indexOf("<"+t);for(;i>=0;){let n=e.indexOf(">",i),a=e.indexOf("</"+t);if(n===-1||a===-1)break;let s=e.indexOf(">",a);if(s===-1)break;r+=e.slice(n+1,a).trim(),e=e.slice(0,i).trim()+e.slice(s+1)}return{defs:r,content:e}}function Wj(e,t){return e?"<defs>"+e+"</defs>"+t:t}function Xj(e,t,r){let i=Yj(e);return Wj(i.defs,t+i.content+r)}var lUe=B(()=>{"use strict";l(Yj,"splitSVGDefs"),l(Wj,"mergeDefsAndContent"),l(Xj,"wrapSVGContent")});function Kj(e,t){let r=dt(dt({},rE),e),i=dt(dt({},zj),t),n={left:r.left,top:r.top,width:r.width,height:r.height},a=r.body;[r,i].forEach(x=>{let T=[],k=x.hFlip,E=x.vFlip,S=x.rotate;k?E?S+=2:(T.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),T.push("scale(-1 1)"),n.top=n.left=0):E&&(T.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),T.push("scale(1 -1)"),n.top=n.left=0);let L;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:L=n.height/2+n.top,T.unshift("rotate(90 "+L.toString()+" "+L.toString()+")");break;case 2:T.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:L=n.width/2+n.left,T.unshift("rotate(-90 "+L.toString()+" "+L.toString()+")");break}S%2===1&&(n.left!==n.top&&(L=n.left,n.left=n.top,n.top=L),n.width!==n.height&&(L=n.width,n.width=n.height,n.height=L)),T.length&&(a=Xj(a,'<g transform="'+T.join(" ")+'">',"</g>"))});let s=i.width,o=i.height,u=n.width,h=n.height,d,p;s===null?(p=o===null?"1em":o==="auto"?h:o,d=sE(p,u/h)):(d=s==="auto"?u:s,p=o===null?sE(d,h/u):o==="auto"?h:o);let g={},f=l((x,T)=>{Zj(T)||(g[x]=T.toString())},"setAttr");f("width",d),f("height",p);let m=[n.left,n.top,u,h];return g.viewBox=m.join(" "),{attributes:g,viewBox:m,body:a}}var Zj,cUe=B(()=>{"use strict";iE(),tUe(),oUe(),lUe(),Zj=l(e=>e==="unset"||e==="undefined"||e==="none","isUnsetKeyword"),l(Kj,"iconToSVG")});function Qj(e,t=eH){let r=[],i;for(;i=Jj.exec(e);)r.push(i[1]);if(!r.length)return e;let n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(a=>{let s=typeof t=="function"?t(a):t+(tH++).toString(),o=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+o+')([")]|\\.[a-z])',"g"),"$1"+s+n+"$3")}),e=e.replace(new RegExp(n,"g"),""),e}var Jj,eH,tH,uUe=B(()=>{"use strict";Jj=/\sid="(\S+)"/g,eH="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),tH=0,l(Qj,"replaceIDs")});function rH(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(let i in t)r+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}var hUe=B(()=>{"use strict";l(rH,"iconToHTML")}),dUe=B(()=>{"use strict";rUe(),sUe(),cUe(),uUe(),hUe()}),s4,Ai,Wf=B(()=>{"use strict";s4=l((e,t,{depth:r=2,clobber:i=!1}={})=>{let n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach(a=>s4(e,a,n)),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach(a=>{e.includes(a)||e.push(a)}),e):e===void 0||r<=0?e!=null&&typeof e=="object"&&typeof t=="object"?Object.assign(e,t):t:(t!==void 0&&typeof e=="object"&&typeof t=="object"&&Object.keys(t).forEach(a=>{typeof t[a]=="object"&&(e[a]===void 0||typeof e[a]=="object")?(e[a]===void 0&&(e[a]=Array.isArray(t[a])?[]:{}),e[a]=s4(e[a],t[a],{depth:r-1,clobber:i})):(i||typeof e[a]!="object"&&typeof t[a]!="object")&&(e[a]=t[a])}),e)},"assignWithDepth"),Ai=s4}),oE=ci((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()})(e,(function(){"use strict";var r=1e3,i=6e4,n=36e5,a="millisecond",s="second",o="minute",u="hour",h="day",d="week",p="month",g="quarter",f="year",m="date",x="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,E={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:l(function(_){var I=["th","st","nd","rd"],R=_%100;return"["+_+(I[(R-20)%10]||I[R]||I[0])+"]"},"ordinal")},S=l(function(_,I,R){var P=String(_);return!P||P.length>=I?_:""+Array(I+1-P.length).join(R)+_},"m"),L={s:S,z:l(function(_){var I=-_.utcOffset(),R=Math.abs(I),P=Math.floor(R/60),D=R%60;return(I<=0?"+":"-")+S(P,2,"0")+":"+S(D,2,"0")},"z"),m:l(function _(I,R){if(I.date()<R.date())return-_(R,I);var P=12*(R.year()-I.year())+(R.month()-I.month()),D=I.clone().add(P,p),$=R-D<0,F=I.clone().add(P+($?-1:1),p);return+(-(P+(R-D)/($?D-F:F-D))||0)},"t"),a:l(function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},"a"),p:l(function(_){return{M:p,y:f,w:d,d:h,D:m,h:u,m:o,s,ms:a,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},"p"),u:l(function(_){return _===void 0},"u")},b="en",y={};y[b]=E;var v="$isDayjsObject",w=l(function(_){return _ instanceof N||!(!_||!_[v])},"S"),C=l(function _(I,R,P){var D;if(!I)return b;if(typeof I=="string"){var $=I.toLowerCase();y[$]&&(D=$),R&&(y[$]=R,D=$);var F=I.split("-");if(!D&&F.length>1)return _(F[0])}else{var z=I.name;y[z]=I,D=z}return!P&&D&&(b=D),D||!P&&b},"t"),A=l(function(_,I){if(w(_))return _.clone();var R=typeof I=="object"?I:{};return R.date=_,R.args=arguments,new N(R)},"O"),M=L;M.l=C,M.i=w,M.w=function(_,I){return A(_,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var N=(function(){function _(R){this.$L=C(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[v]=!0}l(_,"M");var I=_.prototype;return I.parse=function(R){this.$d=(function(P){var D=P.date,$=P.utc;if(D===null)return new Date(NaN);if(M.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var F=D.match(T);if(F){var z=F[2]-1||0,U=(F[7]||"0").substring(0,3);return $?new Date(Date.UTC(F[1],z,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)):new Date(F[1],z,F[3]||1,F[4]||0,F[5]||0,F[6]||0,U)}}return new Date(D)})(R),this.init()},I.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},I.$utils=function(){return M},I.isValid=function(){return this.$d.toString()!==x},I.isSame=function(R,P){var D=A(R);return this.startOf(P)<=D&&D<=this.endOf(P)},I.isAfter=function(R,P){return A(R)<this.startOf(P)},I.isBefore=function(R,P){return this.endOf(P)<A(R)},I.$g=function(R,P,D){return M.u(R)?this[P]:this.set(D,R)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(R,P){var D=this,$=!!M.u(P)||P,F=M.p(R),z=l(function(W,J){var Y=M.w(D.$u?Date.UTC(D.$y,J,W):new Date(D.$y,J,W),D);return $?Y:Y.endOf(h)},"l"),U=l(function(W,J){return M.w(D.toDate()[W].apply(D.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(J)),D)},"$"),j=this.$W,H=this.$M,Q=this.$D,re="set"+(this.$u?"UTC":"");switch(F){case f:return $?z(1,0):z(31,11);case p:return $?z(1,H):z(0,H+1);case d:var le=this.$locale().weekStart||0,oe=(j<le?j+7:j)-le;return z($?Q-oe:Q+(6-oe),H);case h:case m:return U(re+"Hours",0);case u:return U(re+"Minutes",1);case o:return U(re+"Seconds",2);case s:return U(re+"Milliseconds",3);default:return this.clone()}},I.endOf=function(R){return this.startOf(R,!1)},I.$set=function(R,P){var D,$=M.p(R),F="set"+(this.$u?"UTC":""),z=(D={},D[h]=F+"Date",D[m]=F+"Date",D[p]=F+"Month",D[f]=F+"FullYear",D[u]=F+"Hours",D[o]=F+"Minutes",D[s]=F+"Seconds",D[a]=F+"Milliseconds",D)[$],U=$===h?this.$D+(P-this.$W):P;if($===p||$===f){var j=this.clone().set(m,1);j.$d[z](U),j.init(),this.$d=j.set(m,Math.min(this.$D,j.daysInMonth())).$d}else z&&this.$d[z](U);return this.init(),this},I.set=function(R,P){return this.clone().$set(R,P)},I.get=function(R){return this[M.p(R)]()},I.add=function(R,P){var D,$=this;R=Number(R);var F=M.p(P),z=l(function(H){var Q=A($);return M.w(Q.date(Q.date()+Math.round(H*R)),$)},"y");if(F===p)return this.set(p,this.$M+R);if(F===f)return this.set(f,this.$y+R);if(F===h)return z(1);if(F===d)return z(7);var U=(D={},D[o]=i,D[u]=n,D[s]=r,D)[F]||1,j=this.$d.getTime()+R*U;return M.w(j,this)},I.subtract=function(R,P){return this.add(-1*R,P)},I.format=function(R){var P=this,D=this.$locale();if(!this.isValid())return D.invalidDate||x;var $=R||"YYYY-MM-DDTHH:mm:ssZ",F=M.z(this),z=this.$H,U=this.$m,j=this.$M,H=D.weekdays,Q=D.months,re=D.meridiem,le=l(function(J,Y,X,te){return J&&(J[Y]||J(P,$))||X[Y].slice(0,te)},"h"),oe=l(function(J){return M.s(z%12||12,J,"0")},"d"),W=re||function(J,Y,X){var te=J<12?"AM":"PM";return X?te.toLowerCase():te};return $.replace(k,(function(J,Y){return Y||(function(X){switch(X){case"YY":return String(P.$y).slice(-2);case"YYYY":return M.s(P.$y,4,"0");case"M":return j+1;case"MM":return M.s(j+1,2,"0");case"MMM":return le(D.monthsShort,j,Q,3);case"MMMM":return le(Q,j);case"D":return P.$D;case"DD":return M.s(P.$D,2,"0");case"d":return String(P.$W);case"dd":return le(D.weekdaysMin,P.$W,H,2);case"ddd":return le(D.weekdaysShort,P.$W,H,3);case"dddd":return H[P.$W];case"H":return String(z);case"HH":return M.s(z,2,"0");case"h":return oe(1);case"hh":return oe(2);case"a":return W(z,U,!0);case"A":return W(z,U,!1);case"m":return String(U);case"mm":return M.s(U,2,"0");case"s":return String(P.$s);case"ss":return M.s(P.$s,2,"0");case"SSS":return M.s(P.$ms,3,"0");case"Z":return F}return null})(J)||F.replace(":","")}))},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(R,P,D){var $,F=this,z=M.p(P),U=A(R),j=(U.utcOffset()-this.utcOffset())*i,H=this-U,Q=l(function(){return M.m(F,U)},"D");switch(z){case f:$=Q()/12;break;case p:$=Q();break;case g:$=Q()/3;break;case d:$=(H-j)/6048e5;break;case h:$=(H-j)/864e5;break;case u:$=H/n;break;case o:$=H/i;break;case s:$=H/r;break;default:$=H}return D?$:M.a($)},I.daysInMonth=function(){return this.endOf(p).$D},I.$locale=function(){return y[this.$L]},I.locale=function(R,P){if(!R)return this.$L;var D=this.clone(),$=C(R,P,!0);return $&&(D.$L=$),D},I.clone=function(){return M.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},_})(),O=N.prototype;return A.prototype=O,[["$ms",a],["$s",s],["$m",o],["$H",u],["$W",h],["$M",p],["$y",f],["$D",m]].forEach((function(_){O[_[1]]=function(I){return this.$g(I,_[0],_[1])}})),A.extend=function(_,I){return _.$i||(_(I,N,A),_.$i=!0),A},A.locale=C,A.isDayjs=w,A.unix=function(_){return A(1e3*_)},A.en=y[b],A.Ls=y,A.p={},A}))}),iH,Ho,ae,o4,as,lt=B(()=>{"use strict";iH=Yn(oE(),1),Ho={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ae={trace:l((...e)=>{},"trace"),debug:l((...e)=>{},"debug"),info:l((...e)=>{},"info"),warn:l((...e)=>{},"warn"),error:l((...e)=>{},"error"),fatal:l((...e)=>{},"fatal")},o4=l(function(e="fatal"){let t=Ho.fatal;typeof e=="string"?e.toLowerCase()in Ho&&(t=Ho[e]):typeof e=="number"&&(t=e),ae.trace=()=>{},ae.debug=()=>{},ae.info=()=>{},ae.warn=()=>{},ae.error=()=>{},ae.fatal=()=>{},t<=Ho.fatal&&(ae.fatal=console.error?console.error.bind(console,as("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",as("FATAL"))),t<=Ho.error&&(ae.error=console.error?console.error.bind(console,as("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",as("ERROR"))),t<=Ho.warn&&(ae.warn=console.warn?console.warn.bind(console,as("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",as("WARN"))),t<=Ho.info&&(ae.info=console.info?console.info.bind(console,as("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",as("INFO"))),t<=Ho.debug&&(ae.debug=console.debug?console.debug.bind(console,as("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",as("DEBUG"))),t<=Ho.trace&&(ae.trace=console.debug?console.debug.bind(console,as("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",as("TRACE")))},"setLogLevel"),as=l(e=>`%c${(0,iH.default)().format("ss.SSS")} : ${e} : `,"format")}),Xf,nH,pUe=B(()=>{"use strict";Xf={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:l(e=>e>=255?255:e<0?0:e,"r"),g:l(e=>e>=255?255:e<0?0:e,"g"),b:l(e=>e>=255?255:e<0?0:e,"b"),h:l(e=>e%360,"h"),s:l(e=>e>=100?100:e<0?0:e,"s"),l:l(e=>e>=100?100:e<0?0:e,"l"),a:l(e=>e>=1?1:e<0?0:e,"a")},toLinear:l(e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},"toLinear"),hue2rgb:l((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+(t-e)*6*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e),"hue2rgb"),hsl2rgb:l(({h:e,s:t,l:r},i)=>{if(!t)return r*2.55;e/=360,t/=100,r/=100;let n=r<.5?r*(1+t):r+t-r*t,a=2*r-n;switch(i){case"r":return Xf.hue2rgb(a,n,e+.3333333333333333)*255;case"g":return Xf.hue2rgb(a,n,e)*255;case"b":return Xf.hue2rgb(a,n,e-.3333333333333333)*255}},"hsl2rgb"),rgb2hsl:l(({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;let n=Math.max(e,t,r),a=Math.min(e,t,r),s=(n+a)/2;if(i==="l")return s*100;if(n===a)return 0;let o=n-a,u=s>.5?o/(2-n-a):o/(n+a);if(i==="s")return u*100;switch(n){case e:return((t-r)/o+(t<r?6:0))*60;case t:return((r-e)/o+2)*60;case r:return((e-t)/o+4)*60;default:return-1}},"rgb2hsl")},nH=Xf}),aH,sH,gUe=B(()=>{"use strict";aH={clamp:l((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),"clamp"),round:l(e=>Math.round(e*1e10)/1e10,"round")},sH=aH}),oH,lH,fUe=B(()=>{"use strict";oH={dec2hex:l(e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`},"dec2hex")},lH=oH}),cH,ar,Vl=B(()=>{"use strict";pUe(),gUe(),fUe(),cH={channel:nH,lang:sH,unit:lH},ar=cH}),Yl,On,l4=B(()=>{"use strict";Vl(),Yl={};for(let e=0;e<=255;e++)Yl[e]=ar.unit.dec2hex(e);On={ALL:0,RGB:1,HSL:2}}),uH,hH,mUe=B(()=>{"use strict";var e;l4(),uH=(e=class{constructor(){this.type=On.ALL}get(){return this.type}set(r){if(this.type&&this.type!==r)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=r}reset(){this.type=On.ALL}is(r){return this.type===r}},l(e,"Type"),e),hH=uH}),dH,pH,yUe=B(()=>{"use strict";var e;Vl(),mUe(),l4(),dH=(e=class{constructor(r,i){this.color=i,this.changed=!1,this.data=r,this.type=new hH}set(r,i){return this.color=i,this.changed=!1,this.data=r,this.type.type=On.ALL,this}_ensureHSL(){let r=this.data,{h:i,s:n,l:a}=r;i===void 0&&(r.h=ar.channel.rgb2hsl(r,"h")),n===void 0&&(r.s=ar.channel.rgb2hsl(r,"s")),a===void 0&&(r.l=ar.channel.rgb2hsl(r,"l"))}_ensureRGB(){let r=this.data,{r:i,g:n,b:a}=r;i===void 0&&(r.r=ar.channel.hsl2rgb(r,"r")),n===void 0&&(r.g=ar.channel.hsl2rgb(r,"g")),a===void 0&&(r.b=ar.channel.hsl2rgb(r,"b"))}get r(){let r=this.data,i=r.r;return!this.type.is(On.HSL)&&i!==void 0?i:(this._ensureHSL(),ar.channel.hsl2rgb(r,"r"))}get g(){let r=this.data,i=r.g;return!this.type.is(On.HSL)&&i!==void 0?i:(this._ensureHSL(),ar.channel.hsl2rgb(r,"g"))}get b(){let r=this.data,i=r.b;return!this.type.is(On.HSL)&&i!==void 0?i:(this._ensureHSL(),ar.channel.hsl2rgb(r,"b"))}get h(){let r=this.data,i=r.h;return!this.type.is(On.RGB)&&i!==void 0?i:(this._ensureRGB(),ar.channel.rgb2hsl(r,"h"))}get s(){let r=this.data,i=r.s;return!this.type.is(On.RGB)&&i!==void 0?i:(this._ensureRGB(),ar.channel.rgb2hsl(r,"s"))}get l(){let r=this.data,i=r.l;return!this.type.is(On.RGB)&&i!==void 0?i:(this._ensureRGB(),ar.channel.rgb2hsl(r,"l"))}get a(){return this.data.a}set r(r){this.type.set(On.RGB),this.changed=!0,this.data.r=r}set g(r){this.type.set(On.RGB),this.changed=!0,this.data.g=r}set b(r){this.type.set(On.RGB),this.changed=!0,this.data.b=r}set h(r){this.type.set(On.HSL),this.changed=!0,this.data.h=r}set s(r){this.type.set(On.HSL),this.changed=!0,this.data.s=r}set l(r){this.type.set(On.HSL),this.changed=!0,this.data.l=r}set a(r){this.changed=!0,this.data.a=r}},l(e,"Channels"),e),pH=dH}),gH,Kf,c4=B(()=>{"use strict";yUe(),gH=new pH({r:0,g:0,b:0,a:0},"transparent"),Kf=gH}),lE,Lp,fH=B(()=>{"use strict";c4(),l4(),lE={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:l(e=>{if(e.charCodeAt(0)!==35)return;let t=e.match(lE.re);if(!t)return;let r=t[1],i=parseInt(r,16),n=r.length,a=n%4===0,s=n>4,o=s?1:17,u=s?8:4,h=a?0:-1,d=s?255:15;return Kf.set({r:(i>>u*(h+3)&d)*o,g:(i>>u*(h+2)&d)*o,b:(i>>u*(h+1)&d)*o,a:a?(i&d)*o/255:1},e)},"parse"),stringify:l(e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`#${Yl[Math.round(t)]}${Yl[Math.round(r)]}${Yl[Math.round(i)]}${Yl[Math.round(n*255)]}`:`#${Yl[Math.round(t)]}${Yl[Math.round(r)]}${Yl[Math.round(i)]}`},"stringify")},Lp=lE}),Zf,Qf,vUe=B(()=>{"use strict";Vl(),c4(),Zf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:l(e=>{let t=e.match(Zf.hueRe);if(t){let[,r,i]=t;switch(i){case"grad":return ar.channel.clamp.h(parseFloat(r)*.9);case"rad":return ar.channel.clamp.h(parseFloat(r)*180/Math.PI);case"turn":return ar.channel.clamp.h(parseFloat(r)*360)}}return ar.channel.clamp.h(parseFloat(e))},"_hue2deg"),parse:l(e=>{let t=e.charCodeAt(0);if(t!==104&&t!==72)return;let r=e.match(Zf.re);if(!r)return;let[,i,n,a,s,o]=r;return Kf.set({h:Zf._hue2deg(i),s:ar.channel.clamp.s(parseFloat(n)),l:ar.channel.clamp.l(parseFloat(a)),a:s?ar.channel.clamp.a(o?parseFloat(s)/100:parseFloat(s)):1},e)},"parse"),stringify:l(e=>{let{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${ar.lang.round(t)}, ${ar.lang.round(r)}%, ${ar.lang.round(i)}%, ${n})`:`hsl(${ar.lang.round(t)}, ${ar.lang.round(r)}%, ${ar.lang.round(i)}%)`},"stringify")},Qf=Zf}),Jf,cE,bUe=B(()=>{"use strict";fH(),Jf={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:l(e=>{e=e.toLowerCase();let t=Jf.colors[e];if(t)return Lp.parse(t)},"parse"),stringify:l(e=>{let t=Lp.stringify(e);for(let r in Jf.colors)if(Jf.colors[r]===t)return r},"stringify")},cE=Jf}),uE,em,xUe=B(()=>{"use strict";Vl(),c4(),uE={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:l(e=>{let t=e.charCodeAt(0);if(t!==114&&t!==82)return;let r=e.match(uE.re);if(!r)return;let[,i,n,a,s,o,u,h,d]=r;return Kf.set({r:ar.channel.clamp.r(n?parseFloat(i)*2.55:parseFloat(i)),g:ar.channel.clamp.g(s?parseFloat(a)*2.55:parseFloat(a)),b:ar.channel.clamp.b(u?parseFloat(o)*2.55:parseFloat(o)),a:h?ar.channel.clamp.a(d?parseFloat(h)/100:parseFloat(h)):1},e)},"parse"),stringify:l(e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${ar.lang.round(t)}, ${ar.lang.round(r)}, ${ar.lang.round(i)}, ${ar.lang.round(n)})`:`rgb(${ar.lang.round(t)}, ${ar.lang.round(r)}, ${ar.lang.round(i)})`},"stringify")},em=uE}),mH,_s,gu=B(()=>{"use strict";fH(),vUe(),bUe(),xUe(),l4(),mH={format:{keyword:cE,hex:Lp,rgb:em,rgba:em,hsl:Qf,hsla:Qf},parse:l(e=>{if(typeof e!="string")return e;let t=Lp.parse(e)||em.parse(e)||Qf.parse(e)||cE.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)},"parse"),stringify:l(e=>!e.changed&&e.color?e.color:e.type.is(On.HSL)||e.data.r===void 0?Qf.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?em.stringify(e):Lp.stringify(e),"stringify")},_s=mH}),yH,hE,vH=B(()=>{"use strict";Vl(),gu(),yH=l((e,t)=>{let r=_s.parse(e);for(let i in t)r[i]=ar.channel.clamp[i](t[i]);return _s.stringify(r)},"change"),hE=yH}),bH,Wl,xH=B(()=>{"use strict";Vl(),c4(),gu(),vH(),bH=l((e,t,r=0,i=1)=>{if(typeof e!="number")return hE(e,{a:t});let n=Kf.set({r:ar.channel.clamp.r(e),g:ar.channel.clamp.g(t),b:ar.channel.clamp.b(r),a:ar.channel.clamp.a(i)});return _s.stringify(n)},"rgba"),Wl=bH}),wH,u4,wUe=B(()=>{"use strict";Vl(),gu(),wH=l((e,t)=>ar.lang.round(_s.parse(e)[t]),"channel"),u4=wH}),kH,TH,kUe=B(()=>{"use strict";Vl(),gu(),kH=l(e=>{let{r:t,g:r,b:i}=_s.parse(e),n=.2126*ar.channel.toLinear(t)+.7152*ar.channel.toLinear(r)+.0722*ar.channel.toLinear(i);return ar.lang.round(n)},"luminance"),TH=kH}),EH,CH,TUe=B(()=>{"use strict";kUe(),EH=l(e=>TH(e)>=.5,"isLight"),CH=EH}),SH,Xl,EUe=B(()=>{"use strict";TUe(),SH=l(e=>!CH(e),"isDark"),Xl=SH}),_H,dE,AH=B(()=>{"use strict";Vl(),gu(),_H=l((e,t,r)=>{let i=_s.parse(e),n=i[t],a=ar.channel.clamp[t](n+r);return n!==a&&(i[t]=a),_s.stringify(i)},"adjustChannel"),dE=_H}),LH,Nt,CUe=B(()=>{"use strict";AH(),LH=l((e,t)=>dE(e,"l",t),"lighten"),Nt=LH}),NH,Gt,SUe=B(()=>{"use strict";AH(),NH=l((e,t)=>dE(e,"l",-t),"darken"),Gt=NH}),MH,Oe,_Ue=B(()=>{"use strict";gu(),vH(),MH=l((e,t)=>{let r=_s.parse(e),i={};for(let n in t)t[n]&&(i[n]=r[n]+t[n]);return hE(e,i)},"adjust"),Oe=MH}),IH,DH,AUe=B(()=>{"use strict";gu(),xH(),IH=l((e,t,r=50)=>{let{r:i,g:n,b:a,a:s}=_s.parse(e),{r:o,g:u,b:h,a:d}=_s.parse(t),p=r/100,g=p*2-1,f=s-d,m=((g*f===-1?g:(g+f)/(1+g*f))+1)/2,x=1-m,T=i*m+o*x,k=n*m+u*x,E=a*m+h*x,S=s*p+d*(1-p);return Wl(T,k,E,S)},"mix"),DH=IH}),RH,wt,LUe=B(()=>{"use strict";gu(),AUe(),RH=l((e,t=100)=>{let r=_s.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,DH(r,e,t)},"invert"),wt=RH}),NUe=B(()=>{"use strict";xH(),wUe(),EUe(),CUe(),SUe(),_Ue(),LUe()}),As=B(()=>{"use strict";NUe()}),tm,rm,h4=B(()=>{"use strict";tm="#ffffff",rm="#f2f2f2"}),Wn,im=B(()=>{"use strict";As(),Wn=l((e,t)=>t?Oe(e,{s:-40,l:10}):Oe(e,{s:-40,l:-10}),"mkBorder")}),OH,PH,MUe=B(()=>{"use strict";var e;As(),h4(),im(),OH=(e=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y,v;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Oe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Oe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Wn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Wn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Wn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Wn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Gt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Nt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Gt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Gt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Nt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Nt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.darkMode)for(let w=0;w<this.THEME_COLOR_LIMIT;w++)this["cScale"+w]=Gt(this["cScale"+w],75);else for(let w=0;w<this.THEME_COLOR_LIMIT;w++)this["cScale"+w]=Gt(this["cScale"+w],25);for(let w=0;w<this.THEME_COLOR_LIMIT;w++)this["cScaleInv"+w]=this["cScaleInv"+w]||wt(this["cScale"+w]);for(let w=0;w<this.THEME_COLOR_LIMIT;w++)this.darkMode?this["cScalePeer"+w]=this["cScalePeer"+w]||Nt(this["cScale"+w],10):this["cScalePeer"+w]=this["cScalePeer"+w]||Gt(this["cScale"+w],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let w=0;w<this.THEME_COLOR_LIMIT;w++)this["cScaleLabel"+w]=this["cScaleLabel"+w]||this.scaleLabelColor;let r=this.darkMode?-4:-1;for(let w=0;w<5;w++)this["surface"+w]=this["surface"+w]||Oe(this.mainBkg,{h:180,s:-15,l:r*(5+w*3)}),this["surfacePeer"+w]=this["surfacePeer"+w]||Oe(this.mainBkg,{h:180,s:-15,l:r*(8+w*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Oe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Oe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Oe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Oe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Oe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((i=this.radar)==null?void 0:i.axisColor)||this.lineColor,axisStrokeWidth:((n=this.radar)==null?void 0:n.axisStrokeWidth)||2,axisLabelFontSize:((a=this.radar)==null?void 0:a.axisLabelFontSize)||12,curveOpacity:((s=this.radar)==null?void 0:s.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((u=this.radar)==null?void 0:u.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((p=this.radar)==null?void 0:p.legendBoxSize)||12,legendFontSize:((g=this.radar)==null?void 0:g.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xl(this.quadrant1Fill)?Nt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((f=this.xyChart)==null?void 0:f.backgroundColor)||this.background,titleColor:((m=this.xyChart)==null?void 0:m.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((T=this.xyChart)==null?void 0:T.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((k=this.xyChart)==null?void 0:k.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((E=this.xyChart)==null?void 0:E.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((S=this.xyChart)==null?void 0:S.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((L=this.xyChart)==null?void 0:L.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((b=this.xyChart)==null?void 0:b.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((v=this.xyChart)==null?void 0:v.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Nt(this.git0,25),this.git1=Nt(this.git1,25),this.git2=Nt(this.git2,25),this.git3=Nt(this.git3,25),this.git4=Nt(this.git4,25),this.git5=Nt(this.git5,25),this.git6=Nt(this.git6,25),this.git7=Nt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rm}calculate(r){if(typeof r!="object"){this.updateColors();return}let i=Object.keys(r);i.forEach(n=>{this[n]=r[n]}),this.updateColors(),i.forEach(n=>{this[n]=r[n]})}},l(e,"Theme"),e),PH=l(t=>{let r=new OH;return r.calculate(t),r},"getThemeVariables")}),BH,$H,IUe=B(()=>{"use strict";var e;As(),im(),BH=(e=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Nt(this.primaryColor,16),this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=Wn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Wn(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Nt(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=Wl(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Gt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Gt(this.sectionBkgColor,10),this.taskBorderColor=Wl(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=Wl(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Nt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Gt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y;this.secondBkg=Nt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Nt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Nt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330});for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleInv"+v]=this["cScaleInv"+v]||wt(this["cScale"+v]);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScalePeer"+v]=this["cScalePeer"+v]||Nt(this["cScale"+v],10);for(let v=0;v<5;v++)this["surface"+v]=this["surface"+v]||Oe(this.mainBkg,{h:30,s:-30,l:-(-10+v*4)}),this["surfacePeer"+v]=this["surfacePeer"+v]||Oe(this.mainBkg,{h:30,s:-30,l:-(-7+v*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleLabel"+v]=this["cScaleLabel"+v]||this.scaleLabelColor;for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["pie"+v]=this["cScale"+v];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xl(this.quadrant1Fill)?Nt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((d=this.xyChart)==null?void 0:d.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((g=this.xyChart)==null?void 0:g.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((m=this.radar)==null?void 0:m.axisStrokeWidth)||2,axisLabelFontSize:((x=this.radar)==null?void 0:x.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((k=this.radar)==null?void 0:k.curveStrokeWidth)||2,graticuleColor:((E=this.radar)==null?void 0:E.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((S=this.radar)==null?void 0:S.graticuleStrokeWidth)||1,graticuleOpacity:((L=this.radar)==null?void 0:L.graticuleOpacity)||.3,legendBoxSize:((b=this.radar)==null?void 0:b.legendBoxSize)||12,legendFontSize:((y=this.radar)==null?void 0:y.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Gt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Nt(this.secondaryColor,20),this.git1=Nt(this.pie2||this.secondaryColor,20),this.git2=Nt(this.pie3||this.tertiaryColor,20),this.git3=Nt(this.pie4||Oe(this.primaryColor,{h:-30}),20),this.git4=Nt(this.pie5||Oe(this.primaryColor,{h:-60}),20),this.git5=Nt(this.pie6||Oe(this.primaryColor,{h:-90}),10),this.git6=Nt(this.pie7||Oe(this.primaryColor,{h:60}),10),this.git7=Nt(this.pie8||Oe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Nt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Nt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(r){if(typeof r!="object"){this.updateColors();return}let i=Object.keys(r);i.forEach(n=>{this[n]=r[n]}),this.updateColors(),i.forEach(n=>{this[n]=r[n]})}},l(e,"Theme"),e),$H=l(t=>{let r=new BH;return r.calculate(t),r},"getThemeVariables")}),FH,nm,d4=B(()=>{"use strict";var e;As(),im(),h4(),FH=(e=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Oe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Wn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Wn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Wn(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=Wl(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScale"+v]=Gt(this["cScale"+v],10),this["cScalePeer"+v]=this["cScalePeer"+v]||Gt(this["cScale"+v],25);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleInv"+v]=this["cScaleInv"+v]||Oe(this["cScale"+v],{h:180});for(let v=0;v<5;v++)this["surface"+v]=this["surface"+v]||Oe(this.mainBkg,{h:30,l:-(5+v*5)}),this["surfacePeer"+v]=this["surfacePeer"+v]||Oe(this.mainBkg,{h:30,l:-(7+v*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleLabel"+v]=this["cScaleLabel"+v]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Nt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Nt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Nt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Oe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Oe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xl(this.quadrant1Fill)?Nt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((g=this.xyChart)==null?void 0:g.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((x=this.xyChart)==null?void 0:x.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((k=this.xyChart)==null?void 0:k.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((E=this.xyChart)==null?void 0:E.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((S=this.xyChart)==null?void 0:S.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((L=this.xyChart)==null?void 0:L.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((b=this.xyChart)==null?void 0:b.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((y=this.xyChart)==null?void 0:y.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Nt(this.git0,25),this.git1=Nt(this.git1,25),this.git2=Nt(this.git2,25),this.git3=Nt(this.git3,25),this.git4=Nt(this.git4,25),this.git5=Nt(this.git5,25),this.git6=Nt(this.git6,25),this.git7=Nt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||Gt(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rm}calculate(r){if(Object.keys(this).forEach(n=>{this[n]==="calculated"&&(this[n]=void 0)}),typeof r!="object"){this.updateColors();return}let i=Object.keys(r);i.forEach(n=>{this[n]=r[n]}),this.updateColors(),i.forEach(n=>{this[n]=r[n]})}},l(e,"Theme"),e),nm=l(t=>{let r=new FH;return r.calculate(t),r},"getThemeVariables")}),zH,GH,DUe=B(()=>{"use strict";var e;As(),h4(),im(),zH=(e=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Nt("#cde498",10),this.primaryBorderColor=Wn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Wn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Wn(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y;this.actorBorder=Gt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Oe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Oe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Oe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Oe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Oe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Oe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Oe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Oe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Oe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Gt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Gt(this.tertiaryColor,40);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScale"+v]=Gt(this["cScale"+v],10),this["cScalePeer"+v]=this["cScalePeer"+v]||Gt(this["cScale"+v],25);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleInv"+v]=this["cScaleInv"+v]||Oe(this["cScale"+v],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleLabel"+v]=this["cScaleLabel"+v]||this.scaleLabelColor;for(let v=0;v<5;v++)this["surface"+v]=this["surface"+v]||Oe(this.mainBkg,{h:30,s:-30,l:-(5+v*5)}),this["surfacePeer"+v]=this["surfacePeer"+v]||Oe(this.mainBkg,{h:30,s:-30,l:-(8+v*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Nt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Nt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Oe(this.primaryColor,{l:-30}),this.pie5=this.pie5||Oe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Oe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Oe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Oe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Oe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Oe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Oe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Oe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xl(this.quadrant1Fill)?Nt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((r=this.radar)==null?void 0:r.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((s=this.radar)==null?void 0:s.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((h=this.radar)==null?void 0:h.graticuleOpacity)||.3,legendBoxSize:((d=this.radar)==null?void 0:d.legendBoxSize)||12,legendFontSize:((p=this.radar)==null?void 0:p.legendFontSize)||12},this.xyChart={backgroundColor:((g=this.xyChart)==null?void 0:g.backgroundColor)||this.background,titleColor:((f=this.xyChart)==null?void 0:f.titleColor)||this.primaryTextColor,xAxisTitleColor:((m=this.xyChart)==null?void 0:m.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((x=this.xyChart)==null?void 0:x.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((T=this.xyChart)==null?void 0:T.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((k=this.xyChart)==null?void 0:k.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((E=this.xyChart)==null?void 0:E.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((S=this.xyChart)==null?void 0:S.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((L=this.xyChart)==null?void 0:L.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((b=this.xyChart)==null?void 0:b.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((y=this.xyChart)==null?void 0:y.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Oe(this.primaryColor,{h:-30}),this.git4=this.git4||Oe(this.primaryColor,{h:-60}),this.git5=this.git5||Oe(this.primaryColor,{h:-90}),this.git6=this.git6||Oe(this.primaryColor,{h:60}),this.git7=this.git7||Oe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Nt(this.git0,25),this.git1=Nt(this.git1,25),this.git2=Nt(this.git2,25),this.git3=Nt(this.git3,25),this.git4=Nt(this.git4,25),this.git5=Nt(this.git5,25),this.git6=Nt(this.git6,25),this.git7=Nt(this.git7,25)):(this.git0=Gt(this.git0,25),this.git1=Gt(this.git1,25),this.git2=Gt(this.git2,25),this.git3=Gt(this.git3,25),this.git4=Gt(this.git4,25),this.git5=Gt(this.git5,25),this.git6=Gt(this.git6,25),this.git7=Gt(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rm}calculate(r){if(typeof r!="object"){this.updateColors();return}let i=Object.keys(r);i.forEach(n=>{this[n]=r[n]}),this.updateColors(),i.forEach(n=>{this[n]=r[n]})}},l(e,"Theme"),e),GH=l(t=>{let r=new zH;return r.calculate(t),r},"getThemeVariables")}),UH,qH,RUe=B(()=>{"use strict";var e;As(),im(),h4(),UH=(e=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Nt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Oe(this.primaryColor,{h:-160}),this.primaryBorderColor=Wn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Wn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Wn(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Nt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y;this.secondBkg=Nt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Nt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleInv"+v]=this["cScaleInv"+v]||wt(this["cScale"+v]);for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this.darkMode?this["cScalePeer"+v]=this["cScalePeer"+v]||Nt(this["cScale"+v],10):this["cScalePeer"+v]=this["cScalePeer"+v]||Gt(this["cScale"+v],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["cScaleLabel"+v]=this["cScaleLabel"+v]||this.scaleLabelColor;for(let v=0;v<5;v++)this["surface"+v]=this["surface"+v]||Oe(this.mainBkg,{l:-(5+v*5)}),this["surfacePeer"+v]=this["surfacePeer"+v]||Oe(this.mainBkg,{l:-(8+v*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Nt(this.contrast,30),this.sectionBkgColor2=Nt(this.contrast,30),this.taskBorderColor=Gt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Nt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Gt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Oe(this.primaryColor,{h:64}),this.fillType3=Oe(this.secondaryColor,{h:64}),this.fillType4=Oe(this.primaryColor,{h:-64}),this.fillType5=Oe(this.secondaryColor,{h:-64}),this.fillType6=Oe(this.primaryColor,{h:128}),this.fillType7=Oe(this.secondaryColor,{h:128});for(let v=0;v<this.THEME_COLOR_LIMIT;v++)this["pie"+v]=this["cScale"+v];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Oe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Oe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Oe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Oe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Oe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Oe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Xl(this.quadrant1Fill)?Nt(this.quadrant1Fill):Gt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((r=this.xyChart)==null?void 0:r.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((n=this.xyChart)==null?void 0:n.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((h=this.xyChart)==null?void 0:h.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((d=this.xyChart)==null?void 0:d.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((p=this.xyChart)==null?void 0:p.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((g=this.xyChart)==null?void 0:g.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((f=this.radar)==null?void 0:f.axisColor)||this.lineColor,axisStrokeWidth:((m=this.radar)==null?void 0:m.axisStrokeWidth)||2,axisLabelFontSize:((x=this.radar)==null?void 0:x.axisLabelFontSize)||12,curveOpacity:((T=this.radar)==null?void 0:T.curveOpacity)||.5,curveStrokeWidth:((k=this.radar)==null?void 0:k.curveStrokeWidth)||2,graticuleColor:((E=this.radar)==null?void 0:E.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((S=this.radar)==null?void 0:S.graticuleStrokeWidth)||1,graticuleOpacity:((L=this.radar)==null?void 0:L.graticuleOpacity)||.3,legendBoxSize:((b=this.radar)==null?void 0:b.legendBoxSize)||12,legendFontSize:((y=this.radar)==null?void 0:y.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Gt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Oe(this.primaryColor,{h:-30}),this.git4=this.pie5||Oe(this.primaryColor,{h:-60}),this.git5=this.pie6||Oe(this.primaryColor,{h:-90}),this.git6=this.pie7||Oe(this.primaryColor,{h:60}),this.git7=this.pie8||Oe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||tm,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rm}calculate(r){if(typeof r!="object"){this.updateColors();return}let i=Object.keys(r);i.forEach(n=>{this[n]=r[n]}),this.updateColors(),i.forEach(n=>{this[n]=r[n]})}},l(e,"Theme"),e),qH=l(t=>{let r=new UH;return r.calculate(t),r},"getThemeVariables")}),Vo,pE=B(()=>{"use strict";MUe(),IUe(),d4(),DUe(),RUe(),Vo={base:{getThemeVariables:PH},dark:{getThemeVariables:$H},default:{getThemeVariables:nm},forest:{getThemeVariables:GH},neutral:{getThemeVariables:qH}}}),eo,OUe=B(()=>{"use strict";eo={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1}}),gE,fE,jH,Tr,va=B(()=>{"use strict";pE(),OUe(),gE=hr(dt({},eo),{deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Vo.default.getThemeVariables(),sequence:hr(dt({},eo.sequence),{messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:l(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:l(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")}),class:{hideEmptyMembersBox:!1},gantt:hr(dt({},eo.gantt),{tickInterval:void 0,useWidth:void 0}),c4:hr(dt({},eo.c4),{useWidth:void 0,personFont:l(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:hr(dt({},eo.flowchart),{inheritDir:!1}),external_personFont:l(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:l(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:l(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:l(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:l(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:l(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:l(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:l(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:l(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:l(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:l(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:l(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:l(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:l(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:l(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:l(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:l(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:l(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:l(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:l(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:l(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")}),pie:hr(dt({},eo.pie),{useWidth:984}),xyChart:hr(dt({},eo.xyChart),{useWidth:void 0}),requirement:hr(dt({},eo.requirement),{useWidth:void 0}),packet:dt({},eo.packet),radar:dt({},eo.radar),treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}}),fE=l((e,t="")=>Object.keys(e).reduce((r,i)=>Array.isArray(e[i])?r:typeof e[i]=="object"&&e[i]!==null?[...r,t+i,...fE(e[i],"")]:[...r,t+i],[]),"keyify"),jH=new Set(fE(gE,"")),Tr=gE}),am,HH,VH=B(()=>{"use strict";va(),lt(),am=l(e=>{if(ae.debug("sanitizeDirective called with",e),!(typeof e!="object"||e==null)){if(Array.isArray(e)){e.forEach(t=>am(t));return}for(let t of Object.keys(e)){if(ae.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!jH.has(t)||e[t]==null){ae.debug("sanitize deleting key: ",t),delete e[t];continue}if(typeof e[t]=="object"){ae.debug("sanitizing object",t),am(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let i of r)t.includes(i)&&(ae.debug("sanitizing css option",t),e[t]=HH(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r!=null&&r.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}ae.debug("After sanitization",e)}},"sanitizeDirective"),HH=l(e=>{let t=0,r=0;for(let i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?t++:i==="}"&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e},"sanitizeCss")}),Rh,ba,p4,fu,Np,sm,YH,WH,XH,mE,yE,_r,vE,KH,om,ZH,bE,QH,xE,JH,bi=B(()=>{"use strict";Wf(),lt(),pE(),va(),VH(),Rh=Object.freeze(Tr),ba=Ai({},Rh),fu=[],Np=Ai({},Rh),sm=l((e,t)=>{let r=Ai({},e),i={};for(let n of t)vE(n),i=Ai(i,n);if(r=Ai(r,i),i.theme&&i.theme in Vo){let n=Ai({},p4),a=Ai(n.themeVariables||{},i.themeVariables);r.theme&&r.theme in Vo&&(r.themeVariables=Vo[r.theme].getThemeVariables(a))}return Np=r,xE(Np),Np},"updateCurrentConfig"),YH=l(e=>(ba=Ai({},Rh),ba=Ai(ba,e),e.theme&&Vo[e.theme]&&(ba.themeVariables=Vo[e.theme].getThemeVariables(e.themeVariables)),sm(ba,fu),ba),"setSiteConfig"),WH=l(e=>{p4=Ai({},e)},"saveConfigFromInitialize"),XH=l(e=>(ba=Ai(ba,e),sm(ba,fu),ba),"updateSiteConfig"),mE=l(()=>Ai({},ba),"getSiteConfig"),yE=l(e=>(xE(e),Ai(Np,e),_r()),"setConfig"),_r=l(()=>Ai({},Np),"getConfig"),vE=l(e=>{var t;e&&(["secure",...(t=ba.secure)!=null?t:[]].forEach(r=>{Object.hasOwn(e,r)&&(ae.debug(`Denied attempt to modify a secure key ${r}`,e[r]),delete e[r])}),Object.keys(e).forEach(r=>{r.startsWith("__")&&delete e[r]}),Object.keys(e).forEach(r=>{typeof e[r]=="string"&&(e[r].includes("<")||e[r].includes(">")||e[r].includes("url(data:"))&&delete e[r],typeof e[r]=="object"&&vE(e[r])}))},"sanitize"),KH=l(e=>{var t;am(e),e.fontFamily&&!((t=e.themeVariables)!=null&&t.fontFamily)&&(e.themeVariables=hr(dt({},e.themeVariables),{fontFamily:e.fontFamily})),fu.push(e),sm(ba,fu)},"addDirective"),om=l((e=ba)=>{fu=[],sm(e,fu)},"reset"),ZH={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},bE={},QH=l(e=>{bE[e]||(ae.warn(ZH[e]),bE[e]=!0)},"issueWarning"),xE=l(e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&QH("LAZY_LOAD_DEPRECATED")},"checkConfig"),JH=l(()=>{let e={};p4&&(e=Ai(e,p4));for(let t of fu)e=Ai(e,t);return e},"getUserDefinedConfig")});function Xn(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return g4(e,t,i)}}function eV(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return f4(e,r)}}function br(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cm;TE&&TE(e,null);let i=t.length;for(;i--;){let n=t[i];if(typeof n=="string"){let a=r(n);a!==n&&(rV(t)||(t[i]=a),n=a)}e[n]=!0}return e}function tV(e){for(let t=0;t<e.length;t++)Ls(e,t)||(e[t]=null);return e}function Yo(e){let t=EE(null);for(let[r,i]of kE(e))Ls(e,r)&&(Array.isArray(i)?t[r]=tV(i):i&&typeof i=="object"&&i.constructor===Object?t[r]=Yo(i):t[r]=i);return t}function Mp(e,t){for(;e!==null;){let i=nV(e,t);if(i){if(i.get)return Xn(i.get);if(typeof i.value=="function")return Xn(i.value)}e=iV(e)}function r(){return null}return l(r,"fallbackValue"),r}function wE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bV(),t=l(we=>wE(we),"DOMPurify");if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==Op.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e,i=r,n=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:o,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:f}=e,m=u.prototype,x=Mp(m,"cloneNode"),T=Mp(m,"remove"),k=Mp(m,"nextSibling"),E=Mp(m,"childNodes"),S=Mp(m,"parentNode");if(typeof s=="function"){let we=r.createElement("template");we.content&&we.content.ownerDocument&&(r=we.content.ownerDocument)}let L,b="",{implementation:y,createNodeIterator:v,createDocumentFragment:w,getElementsByTagName:C}=r,{importNode:A}=i,M=RE();t.isSupported=typeof kE=="function"&&typeof S=="function"&&y&&y.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:N,ERB_EXPR:O,TMPLIT_EXPR:_,DATA_ATTR:I,ARIA_ATTR:R,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:$}=DE,{IS_ALLOWED_URI:F}=DE,z=null,U=br({},[..._E,...y4,...v4,...b4,...AE]),j=null,H=br({},[...LE,...x4,...NE,...um]),Q=Object.seal(EE(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),re=null,le=null,oe=!0,W=!0,J=!1,Y=!0,X=!1,te=!0,ce=!1,K=!1,me=!1,Z=!1,Ae=!1,he=!1,Ne=!0,Pe=!1,He="user-content-",qe=!0,_e=!1,De={},ve=null,Be=br({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),de=null,Ve=br({},["audio","video","img","source","image","track"]),ee=null,Ie=br({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),G="http://www.w3.org/1998/Math/MathML",ie="http://www.w3.org/2000/svg",se="http://www.w3.org/1999/xhtml",pe=se,fe=!1,be=null,Se=br({},[G,ie,se],m4),Te=br({},["mi","mo","mn","ms","mtext"]),Ge=br({},["annotation-xml"]),Ye=br({},["title","style","font","a","script"]),st=null,ze=["application/xhtml+xml","text/html"],We="text/html",je=null,Ue=null,Ke=r.createElement("form"),Et=l(function(we){return we instanceof RegExp||we instanceof Function},"isRegexOrFunction"),ht=l(function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ue&&Ue===we)){if((!we||typeof we!="object")&&(we={}),we=Yo(we),st=ze.indexOf(we.PARSER_MEDIA_TYPE)===-1?We:we.PARSER_MEDIA_TYPE,je=st==="application/xhtml+xml"?m4:cm,z=Ls(we,"ALLOWED_TAGS")?br({},we.ALLOWED_TAGS,je):U,j=Ls(we,"ALLOWED_ATTR")?br({},we.ALLOWED_ATTR,je):H,be=Ls(we,"ALLOWED_NAMESPACES")?br({},we.ALLOWED_NAMESPACES,m4):Se,ee=Ls(we,"ADD_URI_SAFE_ATTR")?br(Yo(Ie),we.ADD_URI_SAFE_ATTR,je):Ie,de=Ls(we,"ADD_DATA_URI_TAGS")?br(Yo(Ve),we.ADD_DATA_URI_TAGS,je):Ve,ve=Ls(we,"FORBID_CONTENTS")?br({},we.FORBID_CONTENTS,je):Be,re=Ls(we,"FORBID_TAGS")?br({},we.FORBID_TAGS,je):Yo({}),le=Ls(we,"FORBID_ATTR")?br({},we.FORBID_ATTR,je):Yo({}),De=Ls(we,"USE_PROFILES")?we.USE_PROFILES:!1,oe=we.ALLOW_ARIA_ATTR!==!1,W=we.ALLOW_DATA_ATTR!==!1,J=we.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=we.ALLOW_SELF_CLOSE_IN_ATTR!==!1,X=we.SAFE_FOR_TEMPLATES||!1,te=we.SAFE_FOR_XML!==!1,ce=we.WHOLE_DOCUMENT||!1,Z=we.RETURN_DOM||!1,Ae=we.RETURN_DOM_FRAGMENT||!1,he=we.RETURN_TRUSTED_TYPE||!1,me=we.FORCE_BODY||!1,Ne=we.SANITIZE_DOM!==!1,Pe=we.SANITIZE_NAMED_PROPS||!1,qe=we.KEEP_CONTENT!==!1,_e=we.IN_PLACE||!1,F=we.ALLOWED_URI_REGEXP||ME,pe=we.NAMESPACE||se,Te=we.MATHML_TEXT_INTEGRATION_POINTS||Te,Ge=we.HTML_INTEGRATION_POINTS||Ge,Q=we.CUSTOM_ELEMENT_HANDLING||{},we.CUSTOM_ELEMENT_HANDLING&&Et(we.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=we.CUSTOM_ELEMENT_HANDLING.tagNameCheck),we.CUSTOM_ELEMENT_HANDLING&&Et(we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=we.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),we.CUSTOM_ELEMENT_HANDLING&&typeof we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=we.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),X&&(W=!1),Ae&&(Z=!0),De&&(z=br({},AE),j=[],De.html===!0&&(br(z,_E),br(j,LE)),De.svg===!0&&(br(z,y4),br(j,x4),br(j,um)),De.svgFilters===!0&&(br(z,v4),br(j,x4),br(j,um)),De.mathMl===!0&&(br(z,b4),br(j,NE),br(j,um))),we.ADD_TAGS&&(z===U&&(z=Yo(z)),br(z,we.ADD_TAGS,je)),we.ADD_ATTR&&(j===H&&(j=Yo(j)),br(j,we.ADD_ATTR,je)),we.ADD_URI_SAFE_ATTR&&br(ee,we.ADD_URI_SAFE_ATTR,je),we.FORBID_CONTENTS&&(ve===Be&&(ve=Yo(ve)),br(ve,we.FORBID_CONTENTS,je)),qe&&(z["#text"]=!0),ce&&br(z,["html","head","body"]),z.table&&(br(z,["tbody"]),delete re.tbody),we.TRUSTED_TYPES_POLICY){if(typeof we.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof we.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');L=we.TRUSTED_TYPES_POLICY,b=L.createHTML("")}else L===void 0&&(L=xV(f,n)),L!==null&&typeof b=="string"&&(b=L.createHTML(""));Kn&&Kn(we),Ue=we}},"_parseConfig"),ct=br({},[...y4,...v4,...cV]),St=br({},[...b4,...uV]),rt=l(function(we){let pt=S(we);(!pt||!pt.tagName)&&(pt={namespaceURI:pe,tagName:"template"});let ot=cm(we.tagName),pr=cm(pt.tagName);return be[we.namespaceURI]?we.namespaceURI===ie?pt.namespaceURI===se?ot==="svg":pt.namespaceURI===G?ot==="svg"&&(pr==="annotation-xml"||Te[pr]):!!ct[ot]:we.namespaceURI===G?pt.namespaceURI===se?ot==="math":pt.namespaceURI===ie?ot==="math"&&Ge[pr]:!!St[ot]:we.namespaceURI===se?pt.namespaceURI===ie&&!Ge[pr]||pt.namespaceURI===G&&!Te[pr]?!1:!St[ot]&&(Ye[ot]||!ct[ot]):!!(st==="application/xhtml+xml"&&be[we.namespaceURI]):!1},"_checkValidNamespace"),gt=l(function(we){Ip(t.removed,{element:we});try{S(we).removeChild(we)}catch(pt){T(we)}},"_forceRemove"),yt=l(function(we,pt){try{Ip(t.removed,{attribute:pt.getAttributeNode(we),from:pt})}catch(ot){Ip(t.removed,{attribute:null,from:pt})}if(pt.removeAttribute(we),we==="is")if(Z||Ae)try{gt(pt)}catch(ot){}else try{pt.setAttribute(we,"")}catch(ot){}},"_removeAttribute"),Je=l(function(we){let pt=null,ot=null;if(me)we="<remove></remove>"+we;else{let Sr=SE(we,/^[\r\n\t ]+/);ot=Sr&&Sr[0]}st==="application/xhtml+xml"&&pe===se&&(we='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+we+"</body></html>");let pr=L?L.createHTML(we):we;if(pe===se)try{pt=new g().parseFromString(pr,st)}catch(Sr){}if(!pt||!pt.documentElement){pt=y.createDocument(pe,"template",null);try{pt.documentElement.innerHTML=fe?b:pr}catch(Sr){}}let Pr=pt.body||pt.documentElement;return we&&ot&&Pr.insertBefore(r.createTextNode(ot),Pr.childNodes[0]||null),pe===se?C.call(pt,ce?"html":"body")[0]:ce?pt.documentElement:Pr},"_initDocument"),Qe=l(function(we){return v.call(we.ownerDocument||we,we,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),Lt=l(function(we){return we instanceof p&&(typeof we.nodeName!="string"||typeof we.textContent!="string"||typeof we.removeChild!="function"||!(we.attributes instanceof d)||typeof we.removeAttribute!="function"||typeof we.setAttribute!="function"||typeof we.namespaceURI!="string"||typeof we.insertBefore!="function"||typeof we.hasChildNodes!="function")},"_isClobbered"),Vt=l(function(we){return typeof o=="function"&&we instanceof o},"_isNode");function $t(we,pt,ot){lm(we,pr=>{pr.call(t,pt,ot,Ue)})}l($t,"_executeHooks");let Kr=l(function(we){let pt=null;if($t(M.beforeSanitizeElements,we,null),Lt(we))return gt(we),!0;let ot=je(we.nodeName);if($t(M.uponSanitizeElement,we,{tagName:ot,allowedTags:z}),te&&we.hasChildNodes()&&!Vt(we.firstElementChild)&&Zn(/<[/\w!]/g,we.innerHTML)&&Zn(/<[/\w!]/g,we.textContent)||we.nodeType===Op.progressingInstruction||te&&we.nodeType===Op.comment&&Zn(/<[/\w]/g,we.data))return gt(we),!0;if(!z[ot]||re[ot]){if(!re[ot]&&tr(ot)&&(Q.tagNameCheck instanceof RegExp&&Zn(Q.tagNameCheck,ot)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ot)))return!1;if(qe&&!ve[ot]){let pr=S(we)||we.parentNode,Pr=E(we)||we.childNodes;if(Pr&&pr){let Sr=Pr.length;for(let Dn=Sr-1;Dn>=0;--Dn){let li=x(Pr[Dn],!0);li.__removalCount=(we.__removalCount||0)+1,pr.insertBefore(li,k(we))}}}return gt(we),!0}return we instanceof u&&!rt(we)||(ot==="noscript"||ot==="noembed"||ot==="noframes")&&Zn(/<\/no(script|embed|frames)/i,we.innerHTML)?(gt(we),!0):(X&&we.nodeType===Op.text&&(pt=we.textContent,lm([N,O,_],pr=>{pt=Dp(pt,pr," ")}),we.textContent!==pt&&(Ip(t.removed,{element:we.cloneNode()}),we.textContent=pt)),$t(M.afterSanitizeElements,we,null),!1)},"_sanitizeElements"),ur=l(function(we,pt,ot){if(Ne&&(pt==="id"||pt==="name")&&(ot in r||ot in Ke))return!1;if(!(W&&!le[pt]&&Zn(I,pt))&&!(oe&&Zn(R,pt))){if(!j[pt]||le[pt]){if(!(tr(we)&&(Q.tagNameCheck instanceof RegExp&&Zn(Q.tagNameCheck,we)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(we))&&(Q.attributeNameCheck instanceof RegExp&&Zn(Q.attributeNameCheck,pt)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(pt))||pt==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&Zn(Q.tagNameCheck,ot)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(ot))))return!1}else if(!ee[pt]&&!Zn(F,Dp(ot,D,""))&&!((pt==="src"||pt==="xlink:href"||pt==="href")&&we!=="script"&&oV(ot,"data:")===0&&de[we])&&!(J&&!Zn(P,Dp(ot,D,"")))&&ot)return!1}return!0},"_isValidAttribute"),tr=l(function(we){return we!=="annotation-xml"&&SE(we,$)},"_isBasicCustomElement"),vr=l(function(we){$t(M.beforeSanitizeAttributes,we,null);let{attributes:pt}=we;if(!pt||Lt(we))return;let ot={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0},pr=pt.length;for(;pr--;){let Pr=pt[pr],{name:Sr,namespaceURI:Dn,value:li}=Pr,hn=je(Sr),ns=li,Jr=Sr==="value"?ns:lV(ns);if(ot.attrName=hn,ot.attrValue=Jr,ot.keepAttr=!0,ot.forceKeepAttr=void 0,$t(M.uponSanitizeAttribute,we,ot),Jr=ot.attrValue,Pe&&(hn==="id"||hn==="name")&&(yt(Sr,we),Jr=He+Jr),te&&Zn(/((--!?|])>)|<\/(style|title)/i,Jr)){yt(Sr,we);continue}if(ot.forceKeepAttr)continue;if(!ot.keepAttr){yt(Sr,we);continue}if(!Y&&Zn(/\/>/i,Jr)){yt(Sr,we);continue}X&&lm([N,O,_],kt=>{Jr=Dp(Jr,kt," ")});let Ri=je(we.nodeName);if(!ur(Ri,hn,Jr)){yt(Sr,we);continue}if(L&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Dn)switch(f.getAttributeType(Ri,hn)){case"TrustedHTML":{Jr=L.createHTML(Jr);break}case"TrustedScriptURL":{Jr=L.createScriptURL(Jr);break}}if(Jr!==ns)try{Dn?we.setAttributeNS(Dn,Sr,Jr):we.setAttribute(Sr,Jr),Lt(we)?gt(we):CE(t.removed)}catch(kt){yt(Sr,we)}}$t(M.afterSanitizeAttributes,we,null)},"_sanitizeAttributes"),Or=l(function we(pt){let ot=null,pr=Qe(pt);for($t(M.beforeSanitizeShadowDOM,pt,null);ot=pr.nextNode();)$t(M.uponSanitizeShadowNode,ot,null),Kr(ot),vr(ot),ot.content instanceof a&&we(ot.content);$t(M.afterSanitizeShadowDOM,pt,null)},"_sanitizeShadowDOM");return t.sanitize=function(we){let pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=null,pr=null,Pr=null,Sr=null;if(fe=!we,fe&&(we="<!-->"),typeof we!="string"&&!Vt(we))if(typeof we.toString=="function"){if(we=we.toString(),typeof we!="string")throw Rp("dirty is not a string, aborting")}else throw Rp("toString is not a function");if(!t.isSupported)return we;if(K||ht(pt),t.removed=[],typeof we=="string"&&(_e=!1),_e){if(we.nodeName){let hn=je(we.nodeName);if(!z[hn]||re[hn])throw Rp("root node is forbidden and cannot be sanitized in-place")}}else if(we instanceof o)ot=Je("<!---->"),pr=ot.ownerDocument.importNode(we,!0),pr.nodeType===Op.element&&pr.nodeName==="BODY"||pr.nodeName==="HTML"?ot=pr:ot.appendChild(pr);else{if(!Z&&!X&&!ce&&we.indexOf("<")===-1)return L&&he?L.createHTML(we):we;if(ot=Je(we),!ot)return Z?null:he?b:""}ot&&me&&gt(ot.firstChild);let Dn=Qe(_e?we:ot);for(;Pr=Dn.nextNode();)Kr(Pr),vr(Pr),Pr.content instanceof a&&Or(Pr.content);if(_e)return we;if(Z){if(Ae)for(Sr=w.call(ot.ownerDocument);ot.firstChild;)Sr.appendChild(ot.firstChild);else Sr=ot;return(j.shadowroot||j.shadowrootmode)&&(Sr=A.call(i,Sr,!0)),Sr}let li=ce?ot.outerHTML:ot.innerHTML;return ce&&z["!doctype"]&&ot.ownerDocument&&ot.ownerDocument.doctype&&ot.ownerDocument.doctype.name&&Zn(IE,ot.ownerDocument.doctype.name)&&(li="<!DOCTYPE "+ot.ownerDocument.doctype.name+`>
`+li),X&&lm([N,O,_],hn=>{li=Dp(li,hn," ")}),L&&he?L.createHTML(li):li},t.setConfig=function(){let we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ht(we),K=!0},t.clearConfig=function(){Ue=null,K=!1},t.isValidAttribute=function(we,pt,ot){Ue||ht({});let pr=je(we),Pr=je(pt);return ur(pr,Pr,ot)},t.addHook=function(we,pt){typeof pt=="function"&&Ip(M[we],pt)},t.removeHook=function(we,pt){if(pt!==void 0){let ot=aV(M[we],pt);return ot===-1?void 0:sV(M[we],ot,1)[0]}return CE(M[we])},t.removeHooks=function(we){M[we]=[]},t.removeAllHooks=function(){M=RE()},t}var kE,TE,rV,iV,nV,Kn,ss,EE,g4,f4,lm,aV,CE,Ip,sV,cm,m4,SE,Dp,oV,lV,Ls,Zn,Rp,_E,y4,v4,cV,b4,uV,AE,LE,x4,NE,um,hV,dV,pV,gV,fV,ME,mV,yV,IE,vV,DE,Op,bV,xV,RE,Oh,wV=B(()=>{"use strict";({entries:kE,setPrototypeOf:TE,isFrozen:rV,getPrototypeOf:iV,getOwnPropertyDescriptor:nV}=Object),{freeze:Kn,seal:ss,create:EE}=Object,{apply:g4,construct:f4}=typeof Reflect<"u"&&Reflect,Kn||(Kn=l(function(e){return e},"freeze")),ss||(ss=l(function(e){return e},"seal")),g4||(g4=l(function(e,t,r){return e.apply(t,r)},"apply")),f4||(f4=l(function(e,t){return new e(...t)},"construct")),lm=Xn(Array.prototype.forEach),aV=Xn(Array.prototype.lastIndexOf),CE=Xn(Array.prototype.pop),Ip=Xn(Array.prototype.push),sV=Xn(Array.prototype.splice),cm=Xn(String.prototype.toLowerCase),m4=Xn(String.prototype.toString),SE=Xn(String.prototype.match),Dp=Xn(String.prototype.replace),oV=Xn(String.prototype.indexOf),lV=Xn(String.prototype.trim),Ls=Xn(Object.prototype.hasOwnProperty),Zn=Xn(RegExp.prototype.test),Rp=eV(TypeError),l(Xn,"unapply"),l(eV,"unconstruct"),l(br,"addToSet"),l(tV,"cleanArray"),l(Yo,"clone"),l(Mp,"lookupGetter"),_E=Kn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),y4=Kn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),v4=Kn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),cV=Kn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),b4=Kn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uV=Kn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AE=Kn(["#text"]),LE=Kn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),x4=Kn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NE=Kn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),um=Kn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hV=ss(/\{\{[\w\W]*|[\w\W]*\}\}/gm),dV=ss(/<%[\w\W]*|[\w\W]*%>/gm),pV=ss(/\$\{[\w\W]*/gm),gV=ss(/^data-[\-\w.\u00B7-\uFFFF]+$/),fV=ss(/^aria-[\-\w]+$/),ME=ss(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mV=ss(/^(?:\w+script|data):/i),yV=ss(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),IE=ss(/^html$/i),vV=ss(/^[a-z][.\w]*(-[.\w]+)+$/i),DE=Object.freeze({__proto__:null,ARIA_ATTR:fV,ATTR_WHITESPACE:yV,CUSTOM_ELEMENT:vV,DATA_ATTR:gV,DOCTYPE_NAME:IE,ERB_EXPR:dV,IS_ALLOWED_URI:ME,IS_SCRIPT_OR_DATA:mV,MUSTACHE_EXPR:hV,TMPLIT_EXPR:pV}),Op={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},bV=l(function(){return typeof window>"u"?null:window},"getGlobal"),xV=l(function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null,i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));let n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML(a){return a},createScriptURL(a){return a}})}catch(a){return console.warn("TrustedTypes policy "+n+" could not be created."),null}},"_createTrustedTypesPolicy"),RE=l(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap"),l(wE,"createDOMPurify"),Oh=wE()}),kV={};nr(kV,{ParseError:()=>ut,SETTINGS_SCHEMA:()=>Pp,__defineFunction:()=>Tt,__defineMacro:()=>ue,__defineSymbol:()=>q,__domTree:()=>mS,__parse:()=>dS,__renderToDomTree:()=>Im,__renderToHTMLTree:()=>gS,__setFontMetrics:()=>PE,default:()=>yW,render:()=>u3,renderToString:()=>hS,version:()=>fS});function TV(e){return String(e).replace(OV,t=>RV[t])}function EV(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}function CV(e){for(var t=0;t<L4.length;t++)for(var r=L4[t],i=0;i<r.blocks.length;i++){var n=r.blocks[i];if(e>=n[0]&&e<=n[1])return r.name}return null}function OE(e){for(var t=0;t<fm.length;t+=2)if(e>=fm[t]&&e<=fm[t+1])return!0;return!1}function PE(e,t){no[e]=t}function w4(e,t,r){if(!no[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),n=no[t][i];if(!n&&e[0]in YE&&(i=YE[e[0]].charCodeAt(0),n=no[t][i]),!n&&r==="text"&&OE(i)&&(n=no[t][77]),n)return{depth:n[0],height:n[1],italic:n[2],skew:n[3],width:n[4]}}function SV(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!N4[t]){var r=N4[t]={cssEmPerMu:mm.quad[t]/18};for(var i in mm)mm.hasOwnProperty(i)&&(r[i]=mm[i][t])}return N4[t]}function BE(e){if(e instanceof ls)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function _V(e){if(e instanceof Fp)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}function q(e,t,r,i,n,a){ei[e][n]={font:t,group:r,replace:i},a&&i&&(ei[e][i]=ei[e][n])}function Tt(e){for(var{type:t,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:n},u=0;u<r.length;++u)hC[r[u]]=o;t&&(a&&(Em[t]=a),s&&(Cm[t]=s))}function mu(e){var{type:t,htmlBuilder:r,mathmlBuilder:i}=e;Tt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:i})}function hm(e,t){var r=Qo(["base"],e,t),i=Qo(["strut"]);return i.style.height=mt(r.height+r.depth),r.depth&&(i.style.verticalAlign=mt(-r.depth)),r.children.unshift(i),r}function k4(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var i=Yi(e,t,"root"),n;i.length===2&&i[1].hasClass("tag")&&(n=i.pop());for(var a=[],s=[],o=0;o<i.length;o++)if(s.push(i[o]),i[o].hasClass("mbin")||i[o].hasClass("mrel")||i[o].hasClass("allowbreak")){for(var u=!1;o<i.length-1&&i[o+1].hasClass("mspace")&&!i[o+1].hasClass("newline");)o++,s.push(i[o]),i[o].hasClass("nobreak")&&(u=!0);u||(a.push(hm(s,t)),s=[])}else i[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(hm(s,t)),s=[]),a.push(i[o]));s.length>0&&a.push(hm(s,t));var h;r?(h=hm(Yi(r,t,!0)),h.classes=["tag"],a.push(h)):n&&a.push(n);var d=Qo(["katex-html"],a);if(d.setAttribute("aria-hidden","true"),h){var p=h.children[0];p.style.height=mt(d.height+d.depth),d.depth&&(p.style.verticalAlign=mt(-d.depth))}return d}function $E(e){return new $p(e)}function T4(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof ao&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof ao&&r.text===","}else return!1}function FE(e,t,r,i,n){var a=wa(e,r),s;a.length===1&&a[0]instanceof Ua&&Wt.contains(["mrow","mtable"],a[0].type)?s=a[0]:s=new nt.MathNode("mrow",a);var o=new nt.MathNode("annotation",[new nt.TextNode(t)]);o.setAttribute("encoding","application/x-tex");var u=new nt.MathNode("semantics",[s,o]),h=new nt.MathNode("math",[u]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&h.setAttribute("display","block");var d=n?"katex":"katex-mathml";return $e.makeSpan([d],[h])}function fr(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function E4(e){var t=dm(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function dm(e){return e&&(e.type==="atom"||oY.hasOwnProperty(e.type))?e:null}function zE(e,t){var r=Yi(e.body,t,!0);return $Y([e.mclass],r,t)}function GE(e,t){var r,i=wa(e.body,t);return e.mclass==="minner"?r=new nt.MathNode("mpadded",i):e.mclass==="mord"?e.isCharacterBox?(r=i[0],r.type="mi"):r=new nt.MathNode("mi",i):(e.isCharacterBox?(r=i[0],r.type="mo"):r=new nt.MathNode("mo",i),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}function AV(e,t,r){var i=FY[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var n=r.callFunction("\\\\cdleft",[t[0]],[]),a={type:"atom",text:i,mode:"math",family:"rel"},s=r.callFunction("\\Big",[a],[]),o=r.callFunction("\\\\cdright",[t[1]],[]),u={type:"ordgroup",mode:"math",body:[n,s,o]};return r.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function LV(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ut("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var i=[],n=[i],a=0;a<t.length;a++){for(var s=t[a],o=yC(),u=0;u<s.length;u++)if(!vC(s[u]))o.body.push(s[u]);else{i.push(o),u+=1;var h=E4(s[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var p=0;p<2;p++){for(var g=!0,f=u+1;f<s.length;f++){if(zY(s[f],h)){g=!1,u=f;break}if(vC(s[f]))throw new ut("Missing a "+h+" character to complete a CD arrow.",s[f]);d[p].body.push(s[f])}if(g)throw new ut("Missing a "+h+" character to complete a CD arrow.",s[u])}else throw new ut('Expected one of "<>AV=|." after @',s[u]);var m=AV(h,d,e),x={type:"styling",body:[m],mode:"math",style:"display"};i.push(x),o=yC()}a%2===0?i.push(o):i.shift(),i=[],n.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var T=new Array(n[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:n,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(n.length+1).fill([])}}function pm(e,t){var r=dm(e);if(r&&Wt.contains(JY,r.text))return r;throw r?new ut("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new ut("Invalid delimiter type '"+e.type+"'",e)}function UE(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}function to(e){for(var{type:t,names:r,props:i,handler:n,htmlBuilder:a,mathmlBuilder:s}=e,o={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:n},u=0;u<r.length;++u)IC[r[u]]=o;a&&(Em[t]=a),s&&(Cm[t]=s)}function ue(e,t){DC[e]=t}function qE(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}function C4(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function Kl(e,t,r){var{hskipBeforeAndAfter:i,addJot:n,cols:a,arraystretch:s,colSeparationType:o,autoTag:u,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:g}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var f=e.gullet.expandMacroAsText("\\arraystretch");if(f==null)s=1;else if(s=parseFloat(f),!s||s<0)throw new ut("Invalid \\arraystretch: "+f)}e.gullet.beginGroup();var m=[],x=[m],T=[],k=[],E=u!=null?[]:void 0;function S(){u&&e.gullet.macros.set("\\@eqnsw","1",!0)}l(S,"beginRow");function L(){E&&(e.gullet.macros.get("\\df@tag")?(E.push(e.subparse([new ro("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):E.push(!!u&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(l(L,"endRow"),S(),k.push(qE(e));;){var b=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),b={type:"ordgroup",mode:e.mode,body:b},r&&(b={type:"styling",mode:e.mode,style:r,body:[b]}),m.push(b);var y=e.fetch().text;if(y==="&"){if(p&&m.length===p){if(h||o)throw new ut("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(y==="\\end"){L(),m.length===1&&b.type==="styling"&&b.body[0].body.length===0&&(x.length>1||!d)&&x.pop(),k.length<x.length+1&&k.push([]);break}else if(y==="\\\\"){e.consume();var v=void 0;e.gullet.future().text!==" "&&(v=e.parseSizeGroup(!0)),T.push(v?v.value:null),L(),k.push(qE(e)),m=[],x.push(m),S()}else throw new ut("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:n,arraystretch:s,body:x,cols:a,rowGaps:T,hskipBeforeAndAfter:i,hLinesBeforeRow:k,colSeparationType:o,tags:E,leqno:g}}function S4(e){return e.slice(0,1)==="d"?"display":"text"}function jE(e,t,r){for(var i=Yi(e,t,!1),n=t.sizeMultiplier/r.sizeMultiplier,a=0;a<i.length;a++){var s=i[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[a].classes,t.sizingClasses(r)):i[a].classes[s+1]==="reset-size"+t.size&&(i[a].classes[s+1]="reset-size"+r.size),i[a].height*=n,i[a].depth*=n}return $e.makeFragment(i)}var Ns,ro,ut,NV,MV,IV,DV,RV,OV,HE,PV,BV,$V,Wt,Pp,_4,Zl,A4,gm,Ph,Wo,Bp,os,Bh,Qn,io,FV,zV,GV,UV,qV,jV,Zt,L4,fm,$h,HV,VV,YV,WV,XV,KV,ZV,QV,JV,VE,eY,$p,no,mm,YE,N4,tY,WE,XE,KE,M4,rY,ZE,mi,mt,Ql,QE,JE,iY,eC,Fp,I4,nY,aY,ls,Xo,Jl,D4,sY,oY,ei,V,tt,ne,ke,ui,_t,Jn,Fh,Qt,Oi,Ga,ym,Ee,Ko,Le,tC,rC,iC,R4,nC,aC,O4,vm,bm,P4,sr,xi,ea,ec,yu,B4,xm,$4,wm,sC,lY,km,Ms,cY,uY,hY,dY,pY,F4,xa,oC,gY,fY,lC,mY,yY,vY,bY,Tm,cC,uC,xY,$e,yi,vu,Zo,wY,kY,hC,Em,Cm,Sm,Li,Qo,TY,EY,CY,SY,Yi,dC,pC,_Y,z4,zp,Lr,Ua,ao,AY,nt,cs,G4,U4,wa,tc,Zr,gC,fC,LY,NY,MY,IY,DY,RY,OY,PY,Jo,q4,mC,BY,_m,$Y,Am,FY,yC,vC,zY,bC,xC,j4,wC,GY,kC,Gp,H4,TC,UY,qY,EC,V4,Y4,W4,Lm,jY,HY,CC,X4,K4,Z4,VY,SC,YY,_C,Up,WY,XY,KY,AC,ZY,LC,NC,QY,el,MC,JY,Q4,J4,IC,DC,Nm,so,eW,oo,RC,OC,PC,BC,$C,FC,e3,t3,zC,GC,UC,tW,r3,qC,jC,HC,zh,qp,rW,iW,VC,nW,YC,aW,WC,sW,XC,i3,n3,KC,ZC,QC,oW,JC,eS,rc,tS,lW,cW,uW,hW,a3,dW,pW,rS,gW,fW,iS,s3,nS,o3,aS,sS,oS,mW,lS,Mm,l3,cS,uS,c3,u3,hS,dS,pS,Im,gS,fS,mS,yW,PUe=B(()=>{"use strict";var e,t,r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L;for(Ns=(e=class{constructor(y,v,w){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=y,this.start=v,this.end=w}static range(y,v){return v?!y||!y.loc||!v.loc||y.loc.lexer!==v.loc.lexer?null:new e(y.loc.lexer,y.loc.start,v.loc.end):y&&y.loc}},l(e,"SourceLocation"),e),ro=(t=class{constructor(y,v){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=y,this.loc=v}range(y,v){return new t(v,Ns.range(this,y))}},l(t,"Token"),t),ut=(r=class{constructor(y,v){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var w="KaTeX parse error: "+y,C,A,M=v&&v.loc;if(M&&M.start<=M.end){var N=M.lexer.input;C=M.start,A=M.end,C===N.length?w+=" at end of input: ":w+=" at position "+(C+1)+": ";var O=N.slice(C,A).replace(/[^]/g,"$&\u0332"),_;C>15?_="\u2026"+N.slice(C-15,C):_=N.slice(0,C);var I;A+15<N.length?I=N.slice(A,A+15)+"\u2026":I=N.slice(A),w+=_+O+I}var R=new Error(w);return R.name="ParseError",R.__proto__=r.prototype,R.position=C,C!=null&&A!=null&&(R.length=A-C),R.rawMessage=y,R}},l(r,"ParseError"),r),ut.prototype.__proto__=Error.prototype,NV=l(function(b,y){return b.indexOf(y)!==-1},"contains"),MV=l(function(b,y){return b===void 0?y:b},"deflt"),IV=/([A-Z])/g,DV=l(function(b){return b.replace(IV,"-$1").toLowerCase()},"hyphenate"),RV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},OV=/[&><"']/g,l(TV,"escape"),HE=l(function b(y){return y.type==="ordgroup"||y.type==="color"?y.body.length===1?b(y.body[0]):y:y.type==="font"?b(y.body):y},"getBaseElem"),PV=l(function(b){var y=HE(b);return y.type==="mathord"||y.type==="textord"||y.type==="atom"},"isCharacterBox"),BV=l(function(b){if(!b)throw new Error("Expected non-null, but got "+String(b));return b},"assert"),$V=l(function(b){var y=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(b);return y?y[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(y[1])?null:y[1].toLowerCase():"_relative"},"protocolFromUrl"),Wt={contains:NV,deflt:MV,escape:TV,hyphenate:DV,getBaseElem:HE,isCharacterBox:PV,protocolFromUrl:$V},Pp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:l(b=>"#"+b,"cliProcessor")},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:l((b,y)=>(y.push(b),y),"cliProcessor")},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:l(b=>Math.max(0,b),"processor"),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:l(b=>Math.max(0,b),"processor"),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:l(b=>Math.max(0,b),"processor"),cli:"-e, --max-expand <n>",cliProcessor:l(b=>b==="Infinity"?1/0:parseInt(b),"cliProcessor")},globalGroup:{type:"boolean",cli:!1}},l(EV,"getDefaultValue"),_4=(i=class{constructor(y){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,y=y||{};for(var v in Pp)if(Pp.hasOwnProperty(v)){var w=Pp[v];this[v]=y[v]!==void 0?w.processor?w.processor(y[v]):y[v]:EV(w)}}reportNonstrict(y,v,w){var C=this.strict;if(typeof C=="function"&&(C=C(y,v,w)),!(!C||C==="ignore")){if(C===!0||C==="error")throw new ut("LaTeX-incompatible input and strict mode is set to 'error': "+(v+" ["+y+"]"),w);C==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+y+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+C+"': "+v+" ["+y+"]"))}}useStrictBehavior(y,v,w){var C=this.strict;if(typeof C=="function")try{C=C(y,v,w)}catch(A){C="error"}return!C||C==="ignore"?!1:C===!0||C==="error"?!0:C==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(v+" ["+y+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+C+"': "+v+" ["+y+"]")),!1)}isTrusted(y){if(y.url&&!y.protocol){var v=Wt.protocolFromUrl(y.url);if(v==null)return!1;y.protocol=v}var w=typeof this.trust=="function"?this.trust(y):this.trust;return!!w}},l(i,"Settings"),i),Zl=(n=class{constructor(y,v,w){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=y,this.size=v,this.cramped=w}sup(){return io[FV[this.id]]}sub(){return io[zV[this.id]]}fracNum(){return io[GV[this.id]]}fracDen(){return io[UV[this.id]]}cramp(){return io[qV[this.id]]}text(){return io[jV[this.id]]}isTight(){return this.size>=2}},l(n,"Style"),n),A4=0,gm=1,Ph=2,Wo=3,Bp=4,os=5,Bh=6,Qn=7,io=[new Zl(A4,0,!1),new Zl(gm,0,!0),new Zl(Ph,1,!1),new Zl(Wo,1,!0),new Zl(Bp,2,!1),new Zl(os,2,!0),new Zl(Bh,3,!1),new Zl(Qn,3,!0)],FV=[Bp,os,Bp,os,Bh,Qn,Bh,Qn],zV=[os,os,os,os,Qn,Qn,Qn,Qn],GV=[Ph,Wo,Bp,os,Bh,Qn,Bh,Qn],UV=[Wo,Wo,os,os,Qn,Qn,Qn,Qn],qV=[gm,gm,Wo,Wo,os,os,Qn,Qn],jV=[A4,gm,Ph,Wo,Ph,Wo,Ph,Wo],Zt={DISPLAY:io[A4],TEXT:io[Ph],SCRIPT:io[Bp],SCRIPTSCRIPT:io[Bh]},L4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],l(CV,"scriptFromCodepoint"),fm=[],L4.forEach(b=>b.blocks.forEach(y=>fm.push(...y))),l(OE,"supportedCodepoint"),$h=80,HV=l(function(b,y){return"M95,"+(622+b+y)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+b/2.075+" -"+b+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+b)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},"sqrtMain"),VV=l(function(b,y){return"M263,"+(601+b+y)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+b/2.084+" -"+b+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+b)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},"sqrtSize1"),YV=l(function(b,y){return"M983 "+(10+b+y)+`
l`+b/3.13+" -"+b+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+b)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+b)+" "+y+"h400000v"+(40+b)+"h-400000z"},"sqrtSize2"),WV=l(function(b,y){return"M424,"+(2398+b+y)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+b/4.223+" -"+b+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+b)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+b)+" "+y+`
h400000v`+(40+b)+"h-400000z"},"sqrtSize3"),XV=l(function(b,y){return"M473,"+(2713+b+y)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+b/5.298+" -"+b+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+b)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+b)+" "+y+"h400000v"+(40+b)+"H1017.7z"},"sqrtSize4"),KV=l(function(b){var y=b/2;return"M400000 "+b+" H0 L"+y+" 0 l65 45 L145 "+(b-80)+" H400000z"},"phasePath"),ZV=l(function(b,y,v){var w=v-54-y-b;return"M702 "+(b+y)+"H400000"+(40+b)+`
H742v`+w+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+y+"H400000v"+(40+b)+"H742z"},"sqrtTall"),QV=l(function(b,y,v){y=1e3*y;var w="";switch(b){case"sqrtMain":w=HV(y,$h);break;case"sqrtSize1":w=VV(y,$h);break;case"sqrtSize2":w=YV(y,$h);break;case"sqrtSize3":w=WV(y,$h);break;case"sqrtSize4":w=XV(y,$h);break;case"sqrtTall":w=ZV(y,$h,v)}return w},"sqrtPath"),JV=l(function(b,y){switch(b){case"\u239C":return"M291 0 H417 V"+y+" H291z M291 0 H417 V"+y+" H291z";case"\u2223":return"M145 0 H188 V"+y+" H145z M145 0 H188 V"+y+" H145z";case"\u2225":return"M145 0 H188 V"+y+" H145z M145 0 H188 V"+y+" H145z"+("M367 0 H410 V"+y+" H367z M367 0 H410 V"+y+" H367z");case"\u239F":return"M457 0 H583 V"+y+" H457z M457 0 H583 V"+y+" H457z";case"\u23A2":return"M319 0 H403 V"+y+" H319z M319 0 H403 V"+y+" H319z";case"\u23A5":return"M263 0 H347 V"+y+" H263z M263 0 H347 V"+y+" H263z";case"\u23AA":return"M384 0 H504 V"+y+" H384z M384 0 H504 V"+y+" H384z";case"\u23D0":return"M312 0 H355 V"+y+" H312z M312 0 H355 V"+y+" H312z";case"\u2016":return"M257 0 H300 V"+y+" H257z M257 0 H300 V"+y+" H257z"+("M478 0 H521 V"+y+" H478z M478 0 H521 V"+y+" H478z");default:return""}},"innerPath"),VE={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},eY=l(function(b,y){switch(b){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+y+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+y+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+y+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+y+" v1759 h84z";case"vert":return"M145 15 v585 v"+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+y+" v585 h43z";case"doublevert":return"M145 15 v585 v"+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+y+` v585 h43z
M367 15 v585 v`+y+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-y+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+y+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+y+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+y+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+y+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+y+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+y+` v602 h84z
M403 1759 V0 H319 V1759 v`+y+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+y+` v602 h84z
M347 1759 V0 h-84 V1759 v`+y+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(y+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(y+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(y+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(y+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}},"tallDelim"),$p=(a=class{constructor(y){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=y,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(y){return Wt.contains(this.classes,y)}toNode(){for(var y=document.createDocumentFragment(),v=0;v<this.children.length;v++)y.appendChild(this.children[v].toNode());return y}toMarkup(){for(var y="",v=0;v<this.children.length;v++)y+=this.children[v].toMarkup();return y}toText(){var y=l(v=>v.toText(),"toText");return this.children.map(y).join("")}},l(a,"DocumentFragment"),a),no={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},mm={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},YE={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"},l(PE,"setFontMetrics"),l(w4,"getCharacterMetrics"),N4={},l(SV,"getGlobalMetrics"),tY=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],WE=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],XE=l(function(b,y){return y.size<2?b:tY[b-1][y.size-1]},"sizeAtStyle"),KE=(s=class{constructor(y){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=y.style,this.color=y.color,this.size=y.size||s.BASESIZE,this.textSize=y.textSize||this.size,this.phantom=!!y.phantom,this.font=y.font||"",this.fontFamily=y.fontFamily||"",this.fontWeight=y.fontWeight||"",this.fontShape=y.fontShape||"",this.sizeMultiplier=WE[this.size-1],this.maxSize=y.maxSize,this.minRuleThickness=y.minRuleThickness,this._fontMetrics=void 0}extend(y){var v={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var w in y)y.hasOwnProperty(w)&&(v[w]=y[w]);return new s(v)}havingStyle(y){return this.style===y?this:this.extend({style:y,size:XE(this.textSize,y)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(y){return this.size===y&&this.textSize===y?this:this.extend({style:this.style.text(),size:y,textSize:y,sizeMultiplier:WE[y-1]})}havingBaseStyle(y){y=y||this.style.text();var v=XE(s.BASESIZE,y);return this.size===v&&this.textSize===s.BASESIZE&&this.style===y?this:this.extend({style:y,size:v})}havingBaseSizing(){var y;switch(this.style.id){case 4:case 5:y=3;break;case 6:case 7:y=1;break;default:y=6}return this.extend({style:this.style.text(),size:y})}withColor(y){return this.extend({color:y})}withPhantom(){return this.extend({phantom:!0})}withFont(y){return this.extend({font:y})}withTextFontFamily(y){return this.extend({fontFamily:y,font:""})}withTextFontWeight(y){return this.extend({fontWeight:y,font:""})}withTextFontShape(y){return this.extend({fontShape:y,font:""})}sizingClasses(y){return y.size!==this.size?["sizing","reset-size"+y.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==s.BASESIZE?["sizing","reset-size"+this.size,"size"+s.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=SV(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}},l(s,"Options"),s),KE.BASESIZE=6,M4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},rY={ex:!0,em:!0,mu:!0},ZE=l(function(b){return typeof b!="string"&&(b=b.unit),b in M4||b in rY||b==="ex"},"validUnit"),mi=l(function(b,y){var v;if(b.unit in M4)v=M4[b.unit]/y.fontMetrics().ptPerEm/y.sizeMultiplier;else if(b.unit==="mu")v=y.fontMetrics().cssEmPerMu;else{var w;if(y.style.isTight()?w=y.havingStyle(y.style.text()):w=y,b.unit==="ex")v=w.fontMetrics().xHeight;else if(b.unit==="em")v=w.fontMetrics().quad;else throw new ut("Invalid unit: '"+b.unit+"'");w!==y&&(v*=w.sizeMultiplier/y.sizeMultiplier)}return Math.min(b.number*v,y.maxSize)},"calculateSize"),mt=l(function(b){return+b.toFixed(4)+"em"},"makeEm"),Ql=l(function(b){return b.filter(y=>y).join(" ")},"createClass"),QE=l(function(b,y,v){if(this.classes=b||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=v||{},y){y.style.isTight()&&this.classes.push("mtight");var w=y.getColor();w&&(this.style.color=w)}},"initNode"),JE=l(function(b){var y=document.createElement(b);y.className=Ql(this.classes);for(var v in this.style)this.style.hasOwnProperty(v)&&(y.style[v]=this.style[v]);for(var w in this.attributes)this.attributes.hasOwnProperty(w)&&y.setAttribute(w,this.attributes[w]);for(var C=0;C<this.children.length;C++)y.appendChild(this.children[C].toNode());return y},"toNode"),iY=/[\s"'>/=\x00-\x1f]/,eC=l(function(b){var y="<"+b;this.classes.length&&(y+=' class="'+Wt.escape(Ql(this.classes))+'"');var v="";for(var w in this.style)this.style.hasOwnProperty(w)&&(v+=Wt.hyphenate(w)+":"+this.style[w]+";");v&&(y+=' style="'+Wt.escape(v)+'"');for(var C in this.attributes)if(this.attributes.hasOwnProperty(C)){if(iY.test(C))throw new ut("Invalid attribute name '"+C+"'");y+=" "+C+'="'+Wt.escape(this.attributes[C])+'"'}y+=">";for(var A=0;A<this.children.length;A++)y+=this.children[A].toMarkup();return y+="</"+b+">",y},"toMarkup"),Fp=(o=class{constructor(y,v,w,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,QE.call(this,y,w,C),this.children=v||[]}setAttribute(y,v){this.attributes[y]=v}hasClass(y){return Wt.contains(this.classes,y)}toNode(){return JE.call(this,"span")}toMarkup(){return eC.call(this,"span")}},l(o,"Span"),o),I4=(u=class{constructor(y,v,w,C){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,QE.call(this,v,C),this.children=w||[],this.setAttribute("href",y)}setAttribute(y,v){this.attributes[y]=v}hasClass(y){return Wt.contains(this.classes,y)}toNode(){return JE.call(this,"a")}toMarkup(){return eC.call(this,"a")}},l(u,"Anchor"),u),nY=(h=class{constructor(y,v,w){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=v,this.src=y,this.classes=["mord"],this.style=w}hasClass(y){return Wt.contains(this.classes,y)}toNode(){var y=document.createElement("img");y.src=this.src,y.alt=this.alt,y.className="mord";for(var v in this.style)this.style.hasOwnProperty(v)&&(y.style[v]=this.style[v]);return y}toMarkup(){var y='<img src="'+Wt.escape(this.src)+'"'+(' alt="'+Wt.escape(this.alt)+'"'),v="";for(var w in this.style)this.style.hasOwnProperty(w)&&(v+=Wt.hyphenate(w)+":"+this.style[w]+";");return v&&(y+=' style="'+Wt.escape(v)+'"'),y+="'/>",y}},l(h,"Img"),h),aY={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},ls=(d=class{constructor(y,v,w,C,A,M,N,O){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=y,this.height=v||0,this.depth=w||0,this.italic=C||0,this.skew=A||0,this.width=M||0,this.classes=N||[],this.style=O||{},this.maxFontSize=0;var _=CV(this.text.charCodeAt(0));_&&this.classes.push(_+"_fallback"),/[]/.test(this.text)&&(this.text=aY[this.text])}hasClass(y){return Wt.contains(this.classes,y)}toNode(){var y=document.createTextNode(this.text),v=null;this.italic>0&&(v=document.createElement("span"),v.style.marginRight=mt(this.italic)),this.classes.length>0&&(v=v||document.createElement("span"),v.className=Ql(this.classes));for(var w in this.style)this.style.hasOwnProperty(w)&&(v=v||document.createElement("span"),v.style[w]=this.style[w]);return v?(v.appendChild(y),v):y}toMarkup(){var y=!1,v="<span";this.classes.length&&(y=!0,v+=' class="',v+=Wt.escape(Ql(this.classes)),v+='"');var w="";this.italic>0&&(w+="margin-right:"+this.italic+"em;");for(var C in this.style)this.style.hasOwnProperty(C)&&(w+=Wt.hyphenate(C)+":"+this.style[C]+";");w&&(y=!0,v+=' style="'+Wt.escape(w)+'"');var A=Wt.escape(this.text);return y?(v+=">",v+=A,v+="</span>",v):A}},l(d,"SymbolNode"),d),Xo=(p=class{constructor(y,v){this.children=void 0,this.attributes=void 0,this.children=y||[],this.attributes=v||{}}toNode(){var y="http://www.w3.org/2000/svg",v=document.createElementNS(y,"svg");for(var w in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,w)&&v.setAttribute(w,this.attributes[w]);for(var C=0;C<this.children.length;C++)v.appendChild(this.children[C].toNode());return v}toMarkup(){var y='<svg xmlns="http://www.w3.org/2000/svg"';for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(y+=" "+v+'="'+Wt.escape(this.attributes[v])+'"');y+=">";for(var w=0;w<this.children.length;w++)y+=this.children[w].toMarkup();return y+="</svg>",y}},l(p,"SvgNode"),p),Jl=(g=class{constructor(y,v){this.pathName=void 0,this.alternate=void 0,this.pathName=y,this.alternate=v}toNode(){var y="http://www.w3.org/2000/svg",v=document.createElementNS(y,"path");return this.alternate?v.setAttribute("d",this.alternate):v.setAttribute("d",VE[this.pathName]),v}toMarkup(){return this.alternate?'<path d="'+Wt.escape(this.alternate)+'"/>':'<path d="'+Wt.escape(VE[this.pathName])+'"/>'}},l(g,"PathNode"),g),D4=(f=class{constructor(y){this.attributes=void 0,this.attributes=y||{}}toNode(){var y="http://www.w3.org/2000/svg",v=document.createElementNS(y,"line");for(var w in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,w)&&v.setAttribute(w,this.attributes[w]);return v}toMarkup(){var y="<line";for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(y+=" "+v+'="'+Wt.escape(this.attributes[v])+'"');return y+="/>",y}},l(f,"LineNode"),f),l(BE,"assertSymbolDomNode"),l(_V,"assertSpan"),sY={bin:1,close:1,inner:1,open:1,punct:1,rel:1},oY={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ei={math:{},text:{}},l(q,"defineSymbol"),V="math",tt="text",ne="main",ke="ams",ui="accent-token",_t="bin",Jn="close",Fh="inner",Qt="mathord",Oi="op-token",Ga="open",ym="punct",Ee="rel",Ko="spacing",Le="textord",q(V,ne,Ee,"\u2261","\\equiv",!0),q(V,ne,Ee,"\u227A","\\prec",!0),q(V,ne,Ee,"\u227B","\\succ",!0),q(V,ne,Ee,"\u223C","\\sim",!0),q(V,ne,Ee,"\u22A5","\\perp"),q(V,ne,Ee,"\u2AAF","\\preceq",!0),q(V,ne,Ee,"\u2AB0","\\succeq",!0),q(V,ne,Ee,"\u2243","\\simeq",!0),q(V,ne,Ee,"\u2223","\\mid",!0),q(V,ne,Ee,"\u226A","\\ll",!0),q(V,ne,Ee,"\u226B","\\gg",!0),q(V,ne,Ee,"\u224D","\\asymp",!0),q(V,ne,Ee,"\u2225","\\parallel"),q(V,ne,Ee,"\u22C8","\\bowtie",!0),q(V,ne,Ee,"\u2323","\\smile",!0),q(V,ne,Ee,"\u2291","\\sqsubseteq",!0),q(V,ne,Ee,"\u2292","\\sqsupseteq",!0),q(V,ne,Ee,"\u2250","\\doteq",!0),q(V,ne,Ee,"\u2322","\\frown",!0),q(V,ne,Ee,"\u220B","\\ni",!0),q(V,ne,Ee,"\u221D","\\propto",!0),q(V,ne,Ee,"\u22A2","\\vdash",!0),q(V,ne,Ee,"\u22A3","\\dashv",!0),q(V,ne,Ee,"\u220B","\\owns"),q(V,ne,ym,".","\\ldotp"),q(V,ne,ym,"\u22C5","\\cdotp"),q(V,ne,Le,"#","\\#"),q(tt,ne,Le,"#","\\#"),q(V,ne,Le,"&","\\&"),q(tt,ne,Le,"&","\\&"),q(V,ne,Le,"\u2135","\\aleph",!0),q(V,ne,Le,"\u2200","\\forall",!0),q(V,ne,Le,"\u210F","\\hbar",!0),q(V,ne,Le,"\u2203","\\exists",!0),q(V,ne,Le,"\u2207","\\nabla",!0),q(V,ne,Le,"\u266D","\\flat",!0),q(V,ne,Le,"\u2113","\\ell",!0),q(V,ne,Le,"\u266E","\\natural",!0),q(V,ne,Le,"\u2663","\\clubsuit",!0),q(V,ne,Le,"\u2118","\\wp",!0),q(V,ne,Le,"\u266F","\\sharp",!0),q(V,ne,Le,"\u2662","\\diamondsuit",!0),q(V,ne,Le,"\u211C","\\Re",!0),q(V,ne,Le,"\u2661","\\heartsuit",!0),q(V,ne,Le,"\u2111","\\Im",!0),q(V,ne,Le,"\u2660","\\spadesuit",!0),q(V,ne,Le,"\xA7","\\S",!0),q(tt,ne,Le,"\xA7","\\S"),q(V,ne,Le,"\xB6","\\P",!0),q(tt,ne,Le,"\xB6","\\P"),q(V,ne,Le,"\u2020","\\dag"),q(tt,ne,Le,"\u2020","\\dag"),q(tt,ne,Le,"\u2020","\\textdagger"),q(V,ne,Le,"\u2021","\\ddag"),q(tt,ne,Le,"\u2021","\\ddag"),q(tt,ne,Le,"\u2021","\\textdaggerdbl"),q(V,ne,Jn,"\u23B1","\\rmoustache",!0),q(V,ne,Ga,"\u23B0","\\lmoustache",!0),q(V,ne,Jn,"\u27EF","\\rgroup",!0),q(V,ne,Ga,"\u27EE","\\lgroup",!0),q(V,ne,_t,"\u2213","\\mp",!0),q(V,ne,_t,"\u2296","\\ominus",!0),q(V,ne,_t,"\u228E","\\uplus",!0),q(V,ne,_t,"\u2293","\\sqcap",!0),q(V,ne,_t,"\u2217","\\ast"),q(V,ne,_t,"\u2294","\\sqcup",!0),q(V,ne,_t,"\u25EF","\\bigcirc",!0),q(V,ne,_t,"\u2219","\\bullet",!0),q(V,ne,_t,"\u2021","\\ddagger"),q(V,ne,_t,"\u2240","\\wr",!0),q(V,ne,_t,"\u2A3F","\\amalg"),q(V,ne,_t,"&","\\And"),q(V,ne,Ee,"\u27F5","\\longleftarrow",!0),q(V,ne,Ee,"\u21D0","\\Leftarrow",!0),q(V,ne,Ee,"\u27F8","\\Longleftarrow",!0),q(V,ne,Ee,"\u27F6","\\longrightarrow",!0),q(V,ne,Ee,"\u21D2","\\Rightarrow",!0),q(V,ne,Ee,"\u27F9","\\Longrightarrow",!0),q(V,ne,Ee,"\u2194","\\leftrightarrow",!0),q(V,ne,Ee,"\u27F7","\\longleftrightarrow",!0),q(V,ne,Ee,"\u21D4","\\Leftrightarrow",!0),q(V,ne,Ee,"\u27FA","\\Longleftrightarrow",!0),q(V,ne,Ee,"\u21A6","\\mapsto",!0),q(V,ne,Ee,"\u27FC","\\longmapsto",!0),q(V,ne,Ee,"\u2197","\\nearrow",!0),q(V,ne,Ee,"\u21A9","\\hookleftarrow",!0),q(V,ne,Ee,"\u21AA","\\hookrightarrow",!0),q(V,ne,Ee,"\u2198","\\searrow",!0),q(V,ne,Ee,"\u21BC","\\leftharpoonup",!0),q(V,ne,Ee,"\u21C0","\\rightharpoonup",!0),q(V,ne,Ee,"\u2199","\\swarrow",!0),q(V,ne,Ee,"\u21BD","\\leftharpoondown",!0),q(V,ne,Ee,"\u21C1","\\rightharpoondown",!0),q(V,ne,Ee,"\u2196","\\nwarrow",!0),q(V,ne,Ee,"\u21CC","\\rightleftharpoons",!0),q(V,ke,Ee,"\u226E","\\nless",!0),q(V,ke,Ee,"\uE010","\\@nleqslant"),q(V,ke,Ee,"\uE011","\\@nleqq"),q(V,ke,Ee,"\u2A87","\\lneq",!0),q(V,ke,Ee,"\u2268","\\lneqq",!0),q(V,ke,Ee,"\uE00C","\\@lvertneqq"),q(V,ke,Ee,"\u22E6","\\lnsim",!0),q(V,ke,Ee,"\u2A89","\\lnapprox",!0),q(V,ke,Ee,"\u2280","\\nprec",!0),q(V,ke,Ee,"\u22E0","\\npreceq",!0),q(V,ke,Ee,"\u22E8","\\precnsim",!0),q(V,ke,Ee,"\u2AB9","\\precnapprox",!0),q(V,ke,Ee,"\u2241","\\nsim",!0),q(V,ke,Ee,"\uE006","\\@nshortmid"),q(V,ke,Ee,"\u2224","\\nmid",!0),q(V,ke,Ee,"\u22AC","\\nvdash",!0),q(V,ke,Ee,"\u22AD","\\nvDash",!0),q(V,ke,Ee,"\u22EA","\\ntriangleleft"),q(V,ke,Ee,"\u22EC","\\ntrianglelefteq",!0),q(V,ke,Ee,"\u228A","\\subsetneq",!0),q(V,ke,Ee,"\uE01A","\\@varsubsetneq"),q(V,ke,Ee,"\u2ACB","\\subsetneqq",!0),q(V,ke,Ee,"\uE017","\\@varsubsetneqq"),q(V,ke,Ee,"\u226F","\\ngtr",!0),q(V,ke,Ee,"\uE00F","\\@ngeqslant"),q(V,ke,Ee,"\uE00E","\\@ngeqq"),q(V,ke,Ee,"\u2A88","\\gneq",!0),q(V,ke,Ee,"\u2269","\\gneqq",!0),q(V,ke,Ee,"\uE00D","\\@gvertneqq"),q(V,ke,Ee,"\u22E7","\\gnsim",!0),q(V,ke,Ee,"\u2A8A","\\gnapprox",!0),q(V,ke,Ee,"\u2281","\\nsucc",!0),q(V,ke,Ee,"\u22E1","\\nsucceq",!0),q(V,ke,Ee,"\u22E9","\\succnsim",!0),q(V,ke,Ee,"\u2ABA","\\succnapprox",!0),q(V,ke,Ee,"\u2246","\\ncong",!0),q(V,ke,Ee,"\uE007","\\@nshortparallel"),q(V,ke,Ee,"\u2226","\\nparallel",!0),q(V,ke,Ee,"\u22AF","\\nVDash",!0),q(V,ke,Ee,"\u22EB","\\ntriangleright"),q(V,ke,Ee,"\u22ED","\\ntrianglerighteq",!0),q(V,ke,Ee,"\uE018","\\@nsupseteqq"),q(V,ke,Ee,"\u228B","\\supsetneq",!0),q(V,ke,Ee,"\uE01B","\\@varsupsetneq"),q(V,ke,Ee,"\u2ACC","\\supsetneqq",!0),q(V,ke,Ee,"\uE019","\\@varsupsetneqq"),q(V,ke,Ee,"\u22AE","\\nVdash",!0),q(V,ke,Ee,"\u2AB5","\\precneqq",!0),q(V,ke,Ee,"\u2AB6","\\succneqq",!0),q(V,ke,Ee,"\uE016","\\@nsubseteqq"),q(V,ke,_t,"\u22B4","\\unlhd"),q(V,ke,_t,"\u22B5","\\unrhd"),q(V,ke,Ee,"\u219A","\\nleftarrow",!0),q(V,ke,Ee,"\u219B","\\nrightarrow",!0),q(V,ke,Ee,"\u21CD","\\nLeftarrow",!0),q(V,ke,Ee,"\u21CF","\\nRightarrow",!0),q(V,ke,Ee,"\u21AE","\\nleftrightarrow",!0),q(V,ke,Ee,"\u21CE","\\nLeftrightarrow",!0),q(V,ke,Ee,"\u25B3","\\vartriangle"),q(V,ke,Le,"\u210F","\\hslash"),q(V,ke,Le,"\u25BD","\\triangledown"),q(V,ke,Le,"\u25CA","\\lozenge"),q(V,ke,Le,"\u24C8","\\circledS"),q(V,ke,Le,"\xAE","\\circledR"),q(tt,ke,Le,"\xAE","\\circledR"),q(V,ke,Le,"\u2221","\\measuredangle",!0),q(V,ke,Le,"\u2204","\\nexists"),q(V,ke,Le,"\u2127","\\mho"),q(V,ke,Le,"\u2132","\\Finv",!0),q(V,ke,Le,"\u2141","\\Game",!0),q(V,ke,Le,"\u2035","\\backprime"),q(V,ke,Le,"\u25B2","\\blacktriangle"),q(V,ke,Le,"\u25BC","\\blacktriangledown"),q(V,ke,Le,"\u25A0","\\blacksquare"),q(V,ke,Le,"\u29EB","\\blacklozenge"),q(V,ke,Le,"\u2605","\\bigstar"),q(V,ke,Le,"\u2222","\\sphericalangle",!0),q(V,ke,Le,"\u2201","\\complement",!0),q(V,ke,Le,"\xF0","\\eth",!0),q(tt,ne,Le,"\xF0","\xF0"),q(V,ke,Le,"\u2571","\\diagup"),q(V,ke,Le,"\u2572","\\diagdown"),q(V,ke,Le,"\u25A1","\\square"),q(V,ke,Le,"\u25A1","\\Box"),q(V,ke,Le,"\u25CA","\\Diamond"),q(V,ke,Le,"\xA5","\\yen",!0),q(tt,ke,Le,"\xA5","\\yen",!0),q(V,ke,Le,"\u2713","\\checkmark",!0),q(tt,ke,Le,"\u2713","\\checkmark"),q(V,ke,Le,"\u2136","\\beth",!0),q(V,ke,Le,"\u2138","\\daleth",!0),q(V,ke,Le,"\u2137","\\gimel",!0),q(V,ke,Le,"\u03DD","\\digamma",!0),q(V,ke,Le,"\u03F0","\\varkappa"),q(V,ke,Ga,"\u250C","\\@ulcorner",!0),q(V,ke,Jn,"\u2510","\\@urcorner",!0),q(V,ke,Ga,"\u2514","\\@llcorner",!0),q(V,ke,Jn,"\u2518","\\@lrcorner",!0),q(V,ke,Ee,"\u2266","\\leqq",!0),q(V,ke,Ee,"\u2A7D","\\leqslant",!0),q(V,ke,Ee,"\u2A95","\\eqslantless",!0),q(V,ke,Ee,"\u2272","\\lesssim",!0),q(V,ke,Ee,"\u2A85","\\lessapprox",!0),q(V,ke,Ee,"\u224A","\\approxeq",!0),q(V,ke,_t,"\u22D6","\\lessdot"),q(V,ke,Ee,"\u22D8","\\lll",!0),q(V,ke,Ee,"\u2276","\\lessgtr",!0),q(V,ke,Ee,"\u22DA","\\lesseqgtr",!0),q(V,ke,Ee,"\u2A8B","\\lesseqqgtr",!0),q(V,ke,Ee,"\u2251","\\doteqdot"),q(V,ke,Ee,"\u2253","\\risingdotseq",!0),q(V,ke,Ee,"\u2252","\\fallingdotseq",!0),q(V,ke,Ee,"\u223D","\\backsim",!0),q(V,ke,Ee,"\u22CD","\\backsimeq",!0),q(V,ke,Ee,"\u2AC5","\\subseteqq",!0),q(V,ke,Ee,"\u22D0","\\Subset",!0),q(V,ke,Ee,"\u228F","\\sqsubset",!0),q(V,ke,Ee,"\u227C","\\preccurlyeq",!0),q(V,ke,Ee,"\u22DE","\\curlyeqprec",!0),q(V,ke,Ee,"\u227E","\\precsim",!0),q(V,ke,Ee,"\u2AB7","\\precapprox",!0),q(V,ke,Ee,"\u22B2","\\vartriangleleft"),q(V,ke,Ee,"\u22B4","\\trianglelefteq"),q(V,ke,Ee,"\u22A8","\\vDash",!0),q(V,ke,Ee,"\u22AA","\\Vvdash",!0),q(V,ke,Ee,"\u2323","\\smallsmile"),q(V,ke,Ee,"\u2322","\\smallfrown"),q(V,ke,Ee,"\u224F","\\bumpeq",!0),q(V,ke,Ee,"\u224E","\\Bumpeq",!0),q(V,ke,Ee,"\u2267","\\geqq",!0),q(V,ke,Ee,"\u2A7E","\\geqslant",!0),q(V,ke,Ee,"\u2A96","\\eqslantgtr",!0),q(V,ke,Ee,"\u2273","\\gtrsim",!0),q(V,ke,Ee,"\u2A86","\\gtrapprox",!0),q(V,ke,_t,"\u22D7","\\gtrdot"),q(V,ke,Ee,"\u22D9","\\ggg",!0),q(V,ke,Ee,"\u2277","\\gtrless",!0),q(V,ke,Ee,"\u22DB","\\gtreqless",!0),q(V,ke,Ee,"\u2A8C","\\gtreqqless",!0),q(V,ke,Ee,"\u2256","\\eqcirc",!0),q(V,ke,Ee,"\u2257","\\circeq",!0),q(V,ke,Ee,"\u225C","\\triangleq",!0),q(V,ke,Ee,"\u223C","\\thicksim"),q(V,ke,Ee,"\u2248","\\thickapprox"),q(V,ke,Ee,"\u2AC6","\\supseteqq",!0),q(V,ke,Ee,"\u22D1","\\Supset",!0),q(V,ke,Ee,"\u2290","\\sqsupset",!0),q(V,ke,Ee,"\u227D","\\succcurlyeq",!0),q(V,ke,Ee,"\u22DF","\\curlyeqsucc",!0),q(V,ke,Ee,"\u227F","\\succsim",!0),q(V,ke,Ee,"\u2AB8","\\succapprox",!0),q(V,ke,Ee,"\u22B3","\\vartriangleright"),q(V,ke,Ee,"\u22B5","\\trianglerighteq"),q(V,ke,Ee,"\u22A9","\\Vdash",!0),q(V,ke,Ee,"\u2223","\\shortmid"),q(V,ke,Ee,"\u2225","\\shortparallel"),q(V,ke,Ee,"\u226C","\\between",!0),q(V,ke,Ee,"\u22D4","\\pitchfork",!0),q(V,ke,Ee,"\u221D","\\varpropto"),q(V,ke,Ee,"\u25C0","\\blacktriangleleft"),q(V,ke,Ee,"\u2234","\\therefore",!0),q(V,ke,Ee,"\u220D","\\backepsilon"),q(V,ke,Ee,"\u25B6","\\blacktriangleright"),q(V,ke,Ee,"\u2235","\\because",!0),q(V,ke,Ee,"\u22D8","\\llless"),q(V,ke,Ee,"\u22D9","\\gggtr"),q(V,ke,_t,"\u22B2","\\lhd"),q(V,ke,_t,"\u22B3","\\rhd"),q(V,ke,Ee,"\u2242","\\eqsim",!0),q(V,ne,Ee,"\u22C8","\\Join"),q(V,ke,Ee,"\u2251","\\Doteq",!0),q(V,ke,_t,"\u2214","\\dotplus",!0),q(V,ke,_t,"\u2216","\\smallsetminus"),q(V,ke,_t,"\u22D2","\\Cap",!0),q(V,ke,_t,"\u22D3","\\Cup",!0),q(V,ke,_t,"\u2A5E","\\doublebarwedge",!0),q(V,ke,_t,"\u229F","\\boxminus",!0),q(V,ke,_t,"\u229E","\\boxplus",!0),q(V,ke,_t,"\u22C7","\\divideontimes",!0),q(V,ke,_t,"\u22C9","\\ltimes",!0),q(V,ke,_t,"\u22CA","\\rtimes",!0),q(V,ke,_t,"\u22CB","\\leftthreetimes",!0),q(V,ke,_t,"\u22CC","\\rightthreetimes",!0),q(V,ke,_t,"\u22CF","\\curlywedge",!0),q(V,ke,_t,"\u22CE","\\curlyvee",!0),q(V,ke,_t,"\u229D","\\circleddash",!0),q(V,ke,_t,"\u229B","\\circledast",!0),q(V,ke,_t,"\u22C5","\\centerdot"),q(V,ke,_t,"\u22BA","\\intercal",!0),q(V,ke,_t,"\u22D2","\\doublecap"),q(V,ke,_t,"\u22D3","\\doublecup"),q(V,ke,_t,"\u22A0","\\boxtimes",!0),q(V,ke,Ee,"\u21E2","\\dashrightarrow",!0),q(V,ke,Ee,"\u21E0","\\dashleftarrow",!0),q(V,ke,Ee,"\u21C7","\\leftleftarrows",!0),q(V,ke,Ee,"\u21C6","\\leftrightarrows",!0),q(V,ke,Ee,"\u21DA","\\Lleftarrow",!0),q(V,ke,Ee,"\u219E","\\twoheadleftarrow",!0),q(V,ke,Ee,"\u21A2","\\leftarrowtail",!0),q(V,ke,Ee,"\u21AB","\\looparrowleft",!0),q(V,ke,Ee,"\u21CB","\\leftrightharpoons",!0),q(V,ke,Ee,"\u21B6","\\curvearrowleft",!0),q(V,ke,Ee,"\u21BA","\\circlearrowleft",!0),q(V,ke,Ee,"\u21B0","\\Lsh",!0),q(V,ke,Ee,"\u21C8","\\upuparrows",!0),q(V,ke,Ee,"\u21BF","\\upharpoonleft",!0),q(V,ke,Ee,"\u21C3","\\downharpoonleft",!0),q(V,ne,Ee,"\u22B6","\\origof",!0),q(V,ne,Ee,"\u22B7","\\imageof",!0),q(V,ke,Ee,"\u22B8","\\multimap",!0),q(V,ke,Ee,"\u21AD","\\leftrightsquigarrow",!0),q(V,ke,Ee,"\u21C9","\\rightrightarrows",!0),q(V,ke,Ee,"\u21C4","\\rightleftarrows",!0),q(V,ke,Ee,"\u21A0","\\twoheadrightarrow",!0),q(V,ke,Ee,"\u21A3","\\rightarrowtail",!0),q(V,ke,Ee,"\u21AC","\\looparrowright",!0),q(V,ke,Ee,"\u21B7","\\curvearrowright",!0),q(V,ke,Ee,"\u21BB","\\circlearrowright",!0),q(V,ke,Ee,"\u21B1","\\Rsh",!0),q(V,ke,Ee,"\u21CA","\\downdownarrows",!0),q(V,ke,Ee,"\u21BE","\\upharpoonright",!0),q(V,ke,Ee,"\u21C2","\\downharpoonright",!0),q(V,ke,Ee,"\u21DD","\\rightsquigarrow",!0),q(V,ke,Ee,"\u21DD","\\leadsto"),q(V,ke,Ee,"\u21DB","\\Rrightarrow",!0),q(V,ke,Ee,"\u21BE","\\restriction"),q(V,ne,Le,"\u2018","`"),q(V,ne,Le,"$","\\$"),q(tt,ne,Le,"$","\\$"),q(tt,ne,Le,"$","\\textdollar"),q(V,ne,Le,"%","\\%"),q(tt,ne,Le,"%","\\%"),q(V,ne,Le,"_","\\_"),q(tt,ne,Le,"_","\\_"),q(tt,ne,Le,"_","\\textunderscore"),q(V,ne,Le,"\u2220","\\angle",!0),q(V,ne,Le,"\u221E","\\infty",!0),q(V,ne,Le,"\u2032","\\prime"),q(V,ne,Le,"\u25B3","\\triangle"),q(V,ne,Le,"\u0393","\\Gamma",!0),q(V,ne,Le,"\u0394","\\Delta",!0),q(V,ne,Le,"\u0398","\\Theta",!0),q(V,ne,Le,"\u039B","\\Lambda",!0),q(V,ne,Le,"\u039E","\\Xi",!0),q(V,ne,Le,"\u03A0","\\Pi",!0),q(V,ne,Le,"\u03A3","\\Sigma",!0),q(V,ne,Le,"\u03A5","\\Upsilon",!0),q(V,ne,Le,"\u03A6","\\Phi",!0),q(V,ne,Le,"\u03A8","\\Psi",!0),q(V,ne,Le,"\u03A9","\\Omega",!0),q(V,ne,Le,"A","\u0391"),q(V,ne,Le,"B","\u0392"),q(V,ne,Le,"E","\u0395"),q(V,ne,Le,"Z","\u0396"),q(V,ne,Le,"H","\u0397"),q(V,ne,Le,"I","\u0399"),q(V,ne,Le,"K","\u039A"),q(V,ne,Le,"M","\u039C"),q(V,ne,Le,"N","\u039D"),q(V,ne,Le,"O","\u039F"),q(V,ne,Le,"P","\u03A1"),q(V,ne,Le,"T","\u03A4"),q(V,ne,Le,"X","\u03A7"),q(V,ne,Le,"\xAC","\\neg",!0),q(V,ne,Le,"\xAC","\\lnot"),q(V,ne,Le,"\u22A4","\\top"),q(V,ne,Le,"\u22A5","\\bot"),q(V,ne,Le,"\u2205","\\emptyset"),q(V,ke,Le,"\u2205","\\varnothing"),q(V,ne,Qt,"\u03B1","\\alpha",!0),q(V,ne,Qt,"\u03B2","\\beta",!0),q(V,ne,Qt,"\u03B3","\\gamma",!0),q(V,ne,Qt,"\u03B4","\\delta",!0),q(V,ne,Qt,"\u03F5","\\epsilon",!0),q(V,ne,Qt,"\u03B6","\\zeta",!0),q(V,ne,Qt,"\u03B7","\\eta",!0),q(V,ne,Qt,"\u03B8","\\theta",!0),q(V,ne,Qt,"\u03B9","\\iota",!0),q(V,ne,Qt,"\u03BA","\\kappa",!0),q(V,ne,Qt,"\u03BB","\\lambda",!0),q(V,ne,Qt,"\u03BC","\\mu",!0),q(V,ne,Qt,"\u03BD","\\nu",!0),q(V,ne,Qt,"\u03BE","\\xi",!0),q(V,ne,Qt,"\u03BF","\\omicron",!0),q(V,ne,Qt,"\u03C0","\\pi",!0),q(V,ne,Qt,"\u03C1","\\rho",!0),q(V,ne,Qt,"\u03C3","\\sigma",!0),q(V,ne,Qt,"\u03C4","\\tau",!0),q(V,ne,Qt,"\u03C5","\\upsilon",!0),q(V,ne,Qt,"\u03D5","\\phi",!0),q(V,ne,Qt,"\u03C7","\\chi",!0),q(V,ne,Qt,"\u03C8","\\psi",!0),q(V,ne,Qt,"\u03C9","\\omega",!0),q(V,ne,Qt,"\u03B5","\\varepsilon",!0),q(V,ne,Qt,"\u03D1","\\vartheta",!0),q(V,ne,Qt,"\u03D6","\\varpi",!0),q(V,ne,Qt,"\u03F1","\\varrho",!0),q(V,ne,Qt,"\u03C2","\\varsigma",!0),q(V,ne,Qt,"\u03C6","\\varphi",!0),q(V,ne,_t,"\u2217","*",!0),q(V,ne,_t,"+","+"),q(V,ne,_t,"\u2212","-",!0),q(V,ne,_t,"\u22C5","\\cdot",!0),q(V,ne,_t,"\u2218","\\circ",!0),q(V,ne,_t,"\xF7","\\div",!0),q(V,ne,_t,"\xB1","\\pm",!0),q(V,ne,_t,"\xD7","\\times",!0),q(V,ne,_t,"\u2229","\\cap",!0),q(V,ne,_t,"\u222A","\\cup",!0),q(V,ne,_t,"\u2216","\\setminus",!0),q(V,ne,_t,"\u2227","\\land"),q(V,ne,_t,"\u2228","\\lor"),q(V,ne,_t,"\u2227","\\wedge",!0),q(V,ne,_t,"\u2228","\\vee",!0),q(V,ne,Le,"\u221A","\\surd"),q(V,ne,Ga,"\u27E8","\\langle",!0),q(V,ne,Ga,"\u2223","\\lvert"),q(V,ne,Ga,"\u2225","\\lVert"),q(V,ne,Jn,"?","?"),q(V,ne,Jn,"!","!"),q(V,ne,Jn,"\u27E9","\\rangle",!0),q(V,ne,Jn,"\u2223","\\rvert"),q(V,ne,Jn,"\u2225","\\rVert"),q(V,ne,Ee,"=","="),q(V,ne,Ee,":",":"),q(V,ne,Ee,"\u2248","\\approx",!0),q(V,ne,Ee,"\u2245","\\cong",!0),q(V,ne,Ee,"\u2265","\\ge"),q(V,ne,Ee,"\u2265","\\geq",!0),q(V,ne,Ee,"\u2190","\\gets"),q(V,ne,Ee,">","\\gt",!0),q(V,ne,Ee,"\u2208","\\in",!0),q(V,ne,Ee,"\uE020","\\@not"),q(V,ne,Ee,"\u2282","\\subset",!0),q(V,ne,Ee,"\u2283","\\supset",!0),q(V,ne,Ee,"\u2286","\\subseteq",!0),q(V,ne,Ee,"\u2287","\\supseteq",!0),q(V,ke,Ee,"\u2288","\\nsubseteq",!0),q(V,ke,Ee,"\u2289","\\nsupseteq",!0),q(V,ne,Ee,"\u22A8","\\models"),q(V,ne,Ee,"\u2190","\\leftarrow",!0),q(V,ne,Ee,"\u2264","\\le"),q(V,ne,Ee,"\u2264","\\leq",!0),q(V,ne,Ee,"<","\\lt",!0),q(V,ne,Ee,"\u2192","\\rightarrow",!0),q(V,ne,Ee,"\u2192","\\to"),q(V,ke,Ee,"\u2271","\\ngeq",!0),q(V,ke,Ee,"\u2270","\\nleq",!0),q(V,ne,Ko,"\xA0","\\ "),q(V,ne,Ko,"\xA0","\\space"),q(V,ne,Ko,"\xA0","\\nobreakspace"),q(tt,ne,Ko,"\xA0","\\ "),q(tt,ne,Ko,"\xA0"," "),q(tt,ne,Ko,"\xA0","\\space"),q(tt,ne,Ko,"\xA0","\\nobreakspace"),q(V,ne,Ko,null,"\\nobreak"),q(V,ne,Ko,null,"\\allowbreak"),q(V,ne,ym,",",","),q(V,ne,ym,";",";"),q(V,ke,_t,"\u22BC","\\barwedge",!0),q(V,ke,_t,"\u22BB","\\veebar",!0),q(V,ne,_t,"\u2299","\\odot",!0),q(V,ne,_t,"\u2295","\\oplus",!0),q(V,ne,_t,"\u2297","\\otimes",!0),q(V,ne,Le,"\u2202","\\partial",!0),q(V,ne,_t,"\u2298","\\oslash",!0),q(V,ke,_t,"\u229A","\\circledcirc",!0),q(V,ke,_t,"\u22A1","\\boxdot",!0),q(V,ne,_t,"\u25B3","\\bigtriangleup"),q(V,ne,_t,"\u25BD","\\bigtriangledown"),q(V,ne,_t,"\u2020","\\dagger"),q(V,ne,_t,"\u22C4","\\diamond"),q(V,ne,_t,"\u22C6","\\star"),q(V,ne,_t,"\u25C3","\\triangleleft"),q(V,ne,_t,"\u25B9","\\triangleright"),q(V,ne,Ga,"{","\\{"),q(tt,ne,Le,"{","\\{"),q(tt,ne,Le,"{","\\textbraceleft"),q(V,ne,Jn,"}","\\}"),q(tt,ne,Le,"}","\\}"),q(tt,ne,Le,"}","\\textbraceright"),q(V,ne,Ga,"{","\\lbrace"),q(V,ne,Jn,"}","\\rbrace"),q(V,ne,Ga,"[","\\lbrack",!0),q(tt,ne,Le,"[","\\lbrack",!0),q(V,ne,Jn,"]","\\rbrack",!0),q(tt,ne,Le,"]","\\rbrack",!0),q(V,ne,Ga,"(","\\lparen",!0),q(V,ne,Jn,")","\\rparen",!0),q(tt,ne,Le,"<","\\textless",!0),q(tt,ne,Le,">","\\textgreater",!0),q(V,ne,Ga,"\u230A","\\lfloor",!0),q(V,ne,Jn,"\u230B","\\rfloor",!0),q(V,ne,Ga,"\u2308","\\lceil",!0),q(V,ne,Jn,"\u2309","\\rceil",!0),q(V,ne,Le,"\\","\\backslash"),q(V,ne,Le,"\u2223","|"),q(V,ne,Le,"\u2223","\\vert"),q(tt,ne,Le,"|","\\textbar",!0),q(V,ne,Le,"\u2225","\\|"),q(V,ne,Le,"\u2225","\\Vert"),q(tt,ne,Le,"\u2225","\\textbardbl"),q(tt,ne,Le,"~","\\textasciitilde"),q(tt,ne,Le,"\\","\\textbackslash"),q(tt,ne,Le,"^","\\textasciicircum"),q(V,ne,Ee,"\u2191","\\uparrow",!0),q(V,ne,Ee,"\u21D1","\\Uparrow",!0),q(V,ne,Ee,"\u2193","\\downarrow",!0),q(V,ne,Ee,"\u21D3","\\Downarrow",!0),q(V,ne,Ee,"\u2195","\\updownarrow",!0),q(V,ne,Ee,"\u21D5","\\Updownarrow",!0),q(V,ne,Oi,"\u2210","\\coprod"),q(V,ne,Oi,"\u22C1","\\bigvee"),q(V,ne,Oi,"\u22C0","\\bigwedge"),q(V,ne,Oi,"\u2A04","\\biguplus"),q(V,ne,Oi,"\u22C2","\\bigcap"),q(V,ne,Oi,"\u22C3","\\bigcup"),q(V,ne,Oi,"\u222B","\\int"),q(V,ne,Oi,"\u222B","\\intop"),q(V,ne,Oi,"\u222C","\\iint"),q(V,ne,Oi,"\u222D","\\iiint"),q(V,ne,Oi,"\u220F","\\prod"),q(V,ne,Oi,"\u2211","\\sum"),q(V,ne,Oi,"\u2A02","\\bigotimes"),q(V,ne,Oi,"\u2A01","\\bigoplus"),q(V,ne,Oi,"\u2A00","\\bigodot"),q(V,ne,Oi,"\u222E","\\oint"),q(V,ne,Oi,"\u222F","\\oiint"),q(V,ne,Oi,"\u2230","\\oiiint"),q(V,ne,Oi,"\u2A06","\\bigsqcup"),q(V,ne,Oi,"\u222B","\\smallint"),q(tt,ne,Fh,"\u2026","\\textellipsis"),q(V,ne,Fh,"\u2026","\\mathellipsis"),q(tt,ne,Fh,"\u2026","\\ldots",!0),q(V,ne,Fh,"\u2026","\\ldots",!0),q(V,ne,Fh,"\u22EF","\\@cdots",!0),q(V,ne,Fh,"\u22F1","\\ddots",!0),q(V,ne,Le,"\u22EE","\\varvdots"),q(tt,ne,Le,"\u22EE","\\varvdots"),q(V,ne,ui,"\u02CA","\\acute"),q(V,ne,ui,"\u02CB","\\grave"),q(V,ne,ui,"\xA8","\\ddot"),q(V,ne,ui,"~","\\tilde"),q(V,ne,ui,"\u02C9","\\bar"),q(V,ne,ui,"\u02D8","\\breve"),q(V,ne,ui,"\u02C7","\\check"),q(V,ne,ui,"^","\\hat"),q(V,ne,ui,"\u20D7","\\vec"),q(V,ne,ui,"\u02D9","\\dot"),q(V,ne,ui,"\u02DA","\\mathring"),q(V,ne,Qt,"\uE131","\\@imath"),q(V,ne,Qt,"\uE237","\\@jmath"),q(V,ne,Le,"\u0131","\u0131"),q(V,ne,Le,"\u0237","\u0237"),q(tt,ne,Le,"\u0131","\\i",!0),q(tt,ne,Le,"\u0237","\\j",!0),q(tt,ne,Le,"\xDF","\\ss",!0),q(tt,ne,Le,"\xE6","\\ae",!0),q(tt,ne,Le,"\u0153","\\oe",!0),q(tt,ne,Le,"\xF8","\\o",!0),q(tt,ne,Le,"\xC6","\\AE",!0),q(tt,ne,Le,"\u0152","\\OE",!0),q(tt,ne,Le,"\xD8","\\O",!0),q(tt,ne,ui,"\u02CA","\\'"),q(tt,ne,ui,"\u02CB","\\`"),q(tt,ne,ui,"\u02C6","\\^"),q(tt,ne,ui,"\u02DC","\\~"),q(tt,ne,ui,"\u02C9","\\="),q(tt,ne,ui,"\u02D8","\\u"),q(tt,ne,ui,"\u02D9","\\."),q(tt,ne,ui,"\xB8","\\c"),q(tt,ne,ui,"\u02DA","\\r"),q(tt,ne,ui,"\u02C7","\\v"),q(tt,ne,ui,"\xA8",'\\"'),q(tt,ne,ui,"\u02DD","\\H"),q(tt,ne,ui,"\u25EF","\\textcircled"),tC={"--":!0,"---":!0,"``":!0,"''":!0},q(tt,ne,Le,"\u2013","--",!0),q(tt,ne,Le,"\u2013","\\textendash"),q(tt,ne,Le,"\u2014","---",!0),q(tt,ne,Le,"\u2014","\\textemdash"),q(tt,ne,Le,"\u2018","`",!0),q(tt,ne,Le,"\u2018","\\textquoteleft"),q(tt,ne,Le,"\u2019","'",!0),q(tt,ne,Le,"\u2019","\\textquoteright"),q(tt,ne,Le,"\u201C","``",!0),q(tt,ne,Le,"\u201C","\\textquotedblleft"),q(tt,ne,Le,"\u201D","''",!0),q(tt,ne,Le,"\u201D","\\textquotedblright"),q(V,ne,Le,"\xB0","\\degree",!0),q(tt,ne,Le,"\xB0","\\degree"),q(tt,ne,Le,"\xB0","\\textdegree",!0),q(V,ne,Le,"\xA3","\\pounds"),q(V,ne,Le,"\xA3","\\mathsterling",!0),q(tt,ne,Le,"\xA3","\\pounds"),q(tt,ne,Le,"\xA3","\\textsterling",!0),q(V,ke,Le,"\u2720","\\maltese"),q(tt,ke,Le,"\u2720","\\maltese"),rC='0123456789/@."',R4=0;R4<rC.length;R4++)iC=rC.charAt(R4),q(V,ne,Le,iC,iC);for(nC='0123456789!@*()-=+";:?/.,',O4=0;O4<nC.length;O4++)aC=nC.charAt(O4),q(tt,ne,Le,aC,aC);for(vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",P4=0;P4<vm.length;P4++)bm=vm.charAt(P4),q(V,ne,Qt,bm,bm),q(tt,ne,Le,bm,bm);for(q(V,ke,Le,"C","\u2102"),q(tt,ke,Le,"C","\u2102"),q(V,ke,Le,"H","\u210D"),q(tt,ke,Le,"H","\u210D"),q(V,ke,Le,"N","\u2115"),q(tt,ke,Le,"N","\u2115"),q(V,ke,Le,"P","\u2119"),q(tt,ke,Le,"P","\u2119"),q(V,ke,Le,"Q","\u211A"),q(tt,ke,Le,"Q","\u211A"),q(V,ke,Le,"R","\u211D"),q(tt,ke,Le,"R","\u211D"),q(V,ke,Le,"Z","\u2124"),q(tt,ke,Le,"Z","\u2124"),q(V,ne,Qt,"h","\u210E"),q(tt,ne,Qt,"h","\u210E"),sr="",ea=0;ea<vm.length;ea++)xi=vm.charAt(ea),sr=String.fromCharCode(55349,56320+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56372+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56424+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56580+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56684+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56736+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56788+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56840+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56944+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),ea<26&&(sr=String.fromCharCode(55349,56632+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr),sr=String.fromCharCode(55349,56476+ea),q(V,ne,Qt,xi,sr),q(tt,ne,Le,xi,sr));for(sr="\u{1D55C}",q(V,ne,Qt,"k",sr),q(tt,ne,Le,"k",sr),yu=0;yu<10;yu++)ec=yu.toString(),sr=String.fromCharCode(55349,57294+yu),q(V,ne,Qt,ec,sr),q(tt,ne,Le,ec,sr),sr=String.fromCharCode(55349,57314+yu),q(V,ne,Qt,ec,sr),q(tt,ne,Le,ec,sr),sr=String.fromCharCode(55349,57324+yu),q(V,ne,Qt,ec,sr),q(tt,ne,Le,ec,sr),sr=String.fromCharCode(55349,57334+yu),q(V,ne,Qt,ec,sr),q(tt,ne,Le,ec,sr);for(B4="\xD0\xDE\xFE",$4=0;$4<B4.length;$4++)xm=B4.charAt($4),q(V,ne,Qt,xm,xm),q(tt,ne,Le,xm,xm);wm=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],sC=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],lY=l(function(b,y){var v=b.charCodeAt(0),w=b.charCodeAt(1),C=(v-55296)*1024+(w-56320)+65536,A=y==="math"?0:1;if(119808<=C&&C<120484){var M=Math.floor((C-119808)/26);return[wm[M][2],wm[M][A]]}else if(120782<=C&&C<=120831){var N=Math.floor((C-120782)/10);return[sC[N][2],sC[N][A]]}else{if(C===120485||C===120486)return[wm[0][2],wm[0][A]];if(120486<C&&C<120782)return["",""];throw new ut("Unsupported character: "+b)}},"wideCharacterFont"),km=l(function(b,y,v){return ei[v][b]&&ei[v][b].replace&&(b=ei[v][b].replace),{value:b,metrics:w4(b,y,v)}},"lookupSymbol"),Ms=l(function(b,y,v,w,C){var A=km(b,y,v),M=A.metrics;b=A.value;var N;if(M){var O=M.italic;(v==="text"||w&&w.font==="mathit")&&(O=0),N=new ls(b,M.height,M.depth,O,M.skew,M.width,C)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+b+"' in style '"+y+"' and mode '"+v+"'")),N=new ls(b,0,0,0,0,0,C);if(w){N.maxFontSize=w.sizeMultiplier,w.style.isTight()&&N.classes.push("mtight");var _=w.getColor();_&&(N.style.color=_)}return N},"makeSymbol"),cY=l(function(b,y,v,w){return w===void 0&&(w=[]),v.font==="boldsymbol"&&km(b,"Main-Bold",y).metrics?Ms(b,"Main-Bold",y,v,w.concat(["mathbf"])):b==="\\"||ei[y][b].font==="main"?Ms(b,"Main-Regular",y,v,w):Ms(b,"AMS-Regular",y,v,w.concat(["amsrm"]))},"mathsym"),uY=l(function(b,y,v,w,C){return C!=="textord"&&km(b,"Math-BoldItalic",y).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},"boldsymbol"),hY=l(function(b,y,v){var w=b.mode,C=b.text,A=["mord"],M=w==="math"||w==="text"&&y.font,N=M?y.font:y.fontFamily,O="",_="";if(C.charCodeAt(0)===55349&&([O,_]=lY(C,w)),O.length>0)return Ms(C,O,w,y,A.concat(_));if(N){var I,R;if(N==="boldsymbol"){var P=uY(C,w,y,A,v);I=P.fontName,R=[P.fontClass]}else M?(I=cC[N].fontName,R=[N]):(I=Tm(N,y.fontWeight,y.fontShape),R=[N,y.fontWeight,y.fontShape]);if(km(C,I,w).metrics)return Ms(C,I,w,y,A.concat(R));if(tC.hasOwnProperty(C)&&I.slice(0,10)==="Typewriter"){for(var D=[],$=0;$<C.length;$++)D.push(Ms(C[$],I,w,y,A.concat(R)));return lC(D)}}if(v==="mathord")return Ms(C,"Math-Italic",w,y,A.concat(["mathnormal"]));if(v==="textord"){var F=ei[w][C]&&ei[w][C].font;if(F==="ams"){var z=Tm("amsrm",y.fontWeight,y.fontShape);return Ms(C,z,w,y,A.concat("amsrm",y.fontWeight,y.fontShape))}else if(F==="main"||!F){var U=Tm("textrm",y.fontWeight,y.fontShape);return Ms(C,U,w,y,A.concat(y.fontWeight,y.fontShape))}else{var j=Tm(F,y.fontWeight,y.fontShape);return Ms(C,j,w,y,A.concat(j,y.fontWeight,y.fontShape))}}else throw new Error("unexpected type: "+v+" in makeOrd")},"makeOrd"),dY=l((b,y)=>{if(Ql(b.classes)!==Ql(y.classes)||b.skew!==y.skew||b.maxFontSize!==y.maxFontSize)return!1;if(b.classes.length===1){var v=b.classes[0];if(v==="mbin"||v==="mord")return!1}for(var w in b.style)if(b.style.hasOwnProperty(w)&&b.style[w]!==y.style[w])return!1;for(var C in y.style)if(y.style.hasOwnProperty(C)&&b.style[C]!==y.style[C])return!1;return!0},"canCombine"),pY=l(b=>{for(var y=0;y<b.length-1;y++){var v=b[y],w=b[y+1];v instanceof ls&&w instanceof ls&&dY(v,w)&&(v.text+=w.text,v.height=Math.max(v.height,w.height),v.depth=Math.max(v.depth,w.depth),v.italic=w.italic,b.splice(y+1,1),y--)}return b},"tryCombineChars"),F4=l(function(b){for(var y=0,v=0,w=0,C=0;C<b.children.length;C++){var A=b.children[C];A.height>y&&(y=A.height),A.depth>v&&(v=A.depth),A.maxFontSize>w&&(w=A.maxFontSize)}b.height=y,b.depth=v,b.maxFontSize=w},"sizeElementFromChildren"),xa=l(function(b,y,v,w){var C=new Fp(b,y,v,w);return F4(C),C},"makeSpan"),oC=l((b,y,v,w)=>new Fp(b,y,v,w),"makeSvgSpan"),gY=l(function(b,y,v){var w=xa([b],[],y);return w.height=Math.max(v||y.fontMetrics().defaultRuleThickness,y.minRuleThickness),w.style.borderBottomWidth=mt(w.height),w.maxFontSize=1,w},"makeLineSpan"),fY=l(function(b,y,v,w){var C=new I4(b,y,v,w);return F4(C),C},"makeAnchor"),lC=l(function(b){var y=new $p(b);return F4(y),y},"makeFragment"),mY=l(function(b,y){return b instanceof $p?xa([],[b],y):b},"wrapFragment"),yY=l(function(b){if(b.positionType==="individualShift"){for(var y=b.children,v=[y[0]],w=-y[0].shift-y[0].elem.depth,C=w,A=1;A<y.length;A++){var M=-y[A].shift-C-y[A].elem.depth,N=M-(y[A-1].elem.height+y[A-1].elem.depth);C=C+M,v.push({type:"kern",size:N}),v.push(y[A])}return{children:v,depth:w}}var O;if(b.positionType==="top"){for(var _=b.positionData,I=0;I<b.children.length;I++){var R=b.children[I];_-=R.type==="kern"?R.size:R.elem.height+R.elem.depth}O=_}else if(b.positionType==="bottom")O=-b.positionData;else{var P=b.children[0];if(P.type!=="elem")throw new Error('First child must have type "elem".');if(b.positionType==="shift")O=-P.elem.depth-b.positionData;else if(b.positionType==="firstBaseline")O=-P.elem.depth;else throw new Error("Invalid positionType "+b.positionType+".")}return{children:b.children,depth:O}},"getVListChildrenAndDepth"),vY=l(function(b,y){for(var{children:v,depth:w}=yY(b),C=0,A=0;A<v.length;A++){var M=v[A];if(M.type==="elem"){var N=M.elem;C=Math.max(C,N.maxFontSize,N.height)}}C+=2;var O=xa(["pstrut"],[]);O.style.height=mt(C);for(var _=[],I=w,R=w,P=w,D=0;D<v.length;D++){var $=v[D];if($.type==="kern")P+=$.size;else{var F=$.elem,z=$.wrapperClasses||[],U=$.wrapperStyle||{},j=xa(z,[O,F],void 0,U);j.style.top=mt(-C-P-F.depth),$.marginLeft&&(j.style.marginLeft=$.marginLeft),$.marginRight&&(j.style.marginRight=$.marginRight),_.push(j),P+=F.height+F.depth}I=Math.min(I,P),R=Math.max(R,P)}var H=xa(["vlist"],_);H.style.height=mt(R);var Q;if(I<0){var re=xa([],[]),le=xa(["vlist"],[re]);le.style.height=mt(-I);var oe=xa(["vlist-s"],[new ls("\u200B")]);Q=[xa(["vlist-r"],[H,oe]),xa(["vlist-r"],[le])]}else Q=[xa(["vlist-r"],[H])];var W=xa(["vlist-t"],Q);return Q.length===2&&W.classes.push("vlist-t2"),W.height=R,W.depth=-I,W},"makeVList"),bY=l((b,y)=>{var v=xa(["mspace"],[],y),w=mi(b,y);return v.style.marginRight=mt(w),v},"makeGlue"),Tm=l(function(b,y,v){var w="";switch(b){case"amsrm":w="AMS";break;case"textrm":w="Main";break;case"textsf":w="SansSerif";break;case"texttt":w="Typewriter";break;default:w=b}var C;return y==="textbf"&&v==="textit"?C="BoldItalic":y==="textbf"?C="Bold":y==="textit"?C="Italic":C="Regular",w+"-"+C},"retrieveTextFontName"),cC={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},uC={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},xY=l(function(b,y){var[v,w,C]=uC[b],A=new Jl(v),M=new Xo([A],{width:mt(w),height:mt(C),style:"width:"+mt(w),viewBox:"0 0 "+1e3*w+" "+1e3*C,preserveAspectRatio:"xMinYMin"}),N=oC(["overlay"],[M],y);return N.height=C,N.style.height=mt(C),N.style.width=mt(w),N},"staticSvg"),$e={fontMap:cC,makeSymbol:Ms,mathsym:cY,makeSpan:xa,makeSvgSpan:oC,makeLineSpan:gY,makeAnchor:fY,makeFragment:lC,wrapFragment:mY,makeVList:vY,makeOrd:hY,makeGlue:bY,staticSvg:xY,svgData:uC,tryCombineChars:pY},yi={number:3,unit:"mu"},vu={number:4,unit:"mu"},Zo={number:5,unit:"mu"},wY={mord:{mop:yi,mbin:vu,mrel:Zo,minner:yi},mop:{mord:yi,mop:yi,mrel:Zo,minner:yi},mbin:{mord:vu,mop:vu,mopen:vu,minner:vu},mrel:{mord:Zo,mop:Zo,mopen:Zo,minner:Zo},mopen:{},mclose:{mop:yi,mbin:vu,mrel:Zo,minner:yi},mpunct:{mord:yi,mop:yi,mrel:Zo,mopen:yi,mclose:yi,mpunct:yi,minner:yi},minner:{mord:yi,mop:yi,mbin:vu,mrel:Zo,mopen:yi,mpunct:yi,minner:yi}},kY={mord:{mop:yi},mop:{mord:yi,mop:yi},mbin:{},mrel:{},mopen:{},mclose:{mop:yi},mpunct:{},minner:{mop:yi}},hC={},Em={},Cm={},l(Tt,"defineFunction"),l(mu,"defineFunctionBuilders"),Sm=l(function(b){return b.type==="ordgroup"&&b.body.length===1?b.body[0]:b},"normalizeArgument"),Li=l(function(b){return b.type==="ordgroup"?b.body:[b]},"ordargument"),Qo=$e.makeSpan,TY=["leftmost","mbin","mopen","mrel","mop","mpunct"],EY=["rightmost","mrel","mclose","mpunct"],CY={display:Zt.DISPLAY,text:Zt.TEXT,script:Zt.SCRIPT,scriptscript:Zt.SCRIPTSCRIPT},SY={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Yi=l(function(b,y,v,w){w===void 0&&(w=[null,null]);for(var C=[],A=0;A<b.length;A++){var M=Lr(b[A],y);if(M instanceof $p){var N=M.children;C.push(...N)}else C.push(M)}if($e.tryCombineChars(C),!v)return C;var O=y;if(b.length===1){var _=b[0];_.type==="sizing"?O=y.havingSize(_.size):_.type==="styling"&&(O=y.havingStyle(CY[_.style]))}var I=Qo([w[0]||"leftmost"],[],y),R=Qo([w[1]||"rightmost"],[],y),P=v==="root";return dC(C,(D,$)=>{var F=$.classes[0],z=D.classes[0];F==="mbin"&&Wt.contains(EY,z)?$.classes[0]="mord":z==="mbin"&&Wt.contains(TY,F)&&(D.classes[0]="mord")},{node:I},R,P),dC(C,(D,$)=>{var F=z4($),z=z4(D),U=F&&z?D.hasClass("mtight")?kY[F][z]:wY[F][z]:null;if(U)return $e.makeGlue(U,O)},{node:I},R,P),C},"buildExpression"),dC=l(function b(y,v,w,C,A){C&&y.push(C);for(var M=0;M<y.length;M++){var N=y[M],O=pC(N);if(O){b(O.children,v,w,null,A);continue}var _=!N.hasClass("mspace");if(_){var I=v(N,w.node);I&&(w.insertAfter?w.insertAfter(I):(y.unshift(I),M++))}_?w.node=N:A&&N.hasClass("newline")&&(w.node=Qo(["leftmost"])),w.insertAfter=(R=>P=>{y.splice(R+1,0,P),M++})(M)}C&&y.pop()},"traverseNonSpaceNodes"),pC=l(function(b){return b instanceof $p||b instanceof I4||b instanceof Fp&&b.hasClass("enclosing")?b:null},"checkPartialGroup"),_Y=l(function b(y,v){var w=pC(y);if(w){var C=w.children;if(C.length){if(v==="right")return b(C[C.length-1],"right");if(v==="left")return b(C[0],"left")}}return y},"getOutermostNode"),z4=l(function(b,y){return b?(y&&(b=_Y(b,y)),SY[b.classes[0]]||null):null},"getTypeOfDomTree"),zp=l(function(b,y){var v=["nulldelimiter"].concat(b.baseSizingClasses());return Qo(y.concat(v))},"makeNullDelimiter"),Lr=l(function(b,y,v){if(!b)return Qo();if(Em[b.type]){var w=Em[b.type](b,y);if(v&&y.size!==v.size){w=Qo(y.sizingClasses(v),[w],y);var C=y.sizeMultiplier/v.sizeMultiplier;w.height*=C,w.depth*=C}return w}else throw new ut("Got group of unknown type: '"+b.type+"'")},"buildGroup"),l(hm,"buildHTMLUnbreakable"),l(k4,"buildHTML"),l($E,"newDocumentFragment"),Ua=(m=class{constructor(y,v,w){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=y,this.attributes={},this.children=v||[],this.classes=w||[]}setAttribute(y,v){this.attributes[y]=v}getAttribute(y){return this.attributes[y]}toNode(){var y=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&y.setAttribute(v,this.attributes[v]);this.classes.length>0&&(y.className=Ql(this.classes));for(var w=0;w<this.children.length;w++)if(this.children[w]instanceof ao&&this.children[w+1]instanceof ao){for(var C=this.children[w].toText()+this.children[++w].toText();this.children[w+1]instanceof ao;)C+=this.children[++w].toText();y.appendChild(new ao(C).toNode())}else y.appendChild(this.children[w].toNode());return y}toMarkup(){var y="<"+this.type;for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&(y+=" "+v+'="',y+=Wt.escape(this.attributes[v]),y+='"');this.classes.length>0&&(y+=' class ="'+Wt.escape(Ql(this.classes))+'"'),y+=">";for(var w=0;w<this.children.length;w++)y+=this.children[w].toMarkup();return y+="</"+this.type+">",y}toText(){return this.children.map(y=>y.toText()).join("")}},l(m,"MathNode"),m),ao=(x=class{constructor(y){this.text=void 0,this.text=y}toNode(){return document.createTextNode(this.text)}toMarkup(){return Wt.escape(this.toText())}toText(){return this.text}},l(x,"TextNode"),x),AY=(T=class{constructor(y){this.width=void 0,this.character=void 0,this.width=y,y>=.05555&&y<=.05556?this.character="\u200A":y>=.1666&&y<=.1667?this.character="\u2009":y>=.2222&&y<=.2223?this.character="\u2005":y>=.2777&&y<=.2778?this.character="\u2005\u200A":y>=-.05556&&y<=-.05555?this.character="\u200A\u2063":y>=-.1667&&y<=-.1666?this.character="\u2009\u2063":y>=-.2223&&y<=-.2222?this.character="\u205F\u2063":y>=-.2778&&y<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var y=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return y.setAttribute("width",mt(this.width)),y}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+mt(this.width)+'"/>'}toText(){return this.character?this.character:" "}},l(T,"SpaceNode"),T),nt={MathNode:Ua,TextNode:ao,SpaceNode:AY,newDocumentFragment:$E},cs=l(function(b,y,v){return ei[y][b]&&ei[y][b].replace&&b.charCodeAt(0)!==55349&&!(tC.hasOwnProperty(b)&&v&&(v.fontFamily&&v.fontFamily.slice(4,6)==="tt"||v.font&&v.font.slice(4,6)==="tt"))&&(b=ei[y][b].replace),new nt.TextNode(b)},"makeText"),G4=l(function(b){return b.length===1?b[0]:new nt.MathNode("mrow",b)},"makeRow"),U4=l(function(b,y){if(y.fontFamily==="texttt")return"monospace";if(y.fontFamily==="textsf")return y.fontShape==="textit"&&y.fontWeight==="textbf"?"sans-serif-bold-italic":y.fontShape==="textit"?"sans-serif-italic":y.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(y.fontShape==="textit"&&y.fontWeight==="textbf")return"bold-italic";if(y.fontShape==="textit")return"italic";if(y.fontWeight==="textbf")return"bold";var v=y.font;if(!v||v==="mathnormal")return null;var w=b.mode;if(v==="mathit")return"italic";if(v==="boldsymbol")return b.type==="textord"?"bold":"bold-italic";if(v==="mathbf")return"bold";if(v==="mathbb")return"double-struck";if(v==="mathsfit")return"sans-serif-italic";if(v==="mathfrak")return"fraktur";if(v==="mathscr"||v==="mathcal")return"script";if(v==="mathsf")return"sans-serif";if(v==="mathtt")return"monospace";var C=b.text;if(Wt.contains(["\\imath","\\jmath"],C))return null;ei[w][C]&&ei[w][C].replace&&(C=ei[w][C].replace);var A=$e.fontMap[v].fontName;return w4(C,A,w)?$e.fontMap[v].variant:null},"getVariant"),l(T4,"isNumberPunctuation"),wa=l(function(b,y,v){if(b.length===1){var w=Zr(b[0],y);return v&&w instanceof Ua&&w.type==="mo"&&(w.setAttribute("lspace","0em"),w.setAttribute("rspace","0em")),[w]}for(var C=[],A,M=0;M<b.length;M++){var N=Zr(b[M],y);if(N instanceof Ua&&A instanceof Ua){if(N.type==="mtext"&&A.type==="mtext"&&N.getAttribute("mathvariant")===A.getAttribute("mathvariant")){A.children.push(...N.children);continue}else if(N.type==="mn"&&A.type==="mn"){A.children.push(...N.children);continue}else if(T4(N)&&A.type==="mn"){A.children.push(...N.children);continue}else if(N.type==="mn"&&T4(A))N.children=[...A.children,...N.children],C.pop();else if((N.type==="msup"||N.type==="msub")&&N.children.length>=1&&(A.type==="mn"||T4(A))){var O=N.children[0];O instanceof Ua&&O.type==="mn"&&(O.children=[...A.children,...O.children],C.pop())}else if(A.type==="mi"&&A.children.length===1){var _=A.children[0];if(_ instanceof ao&&_.text==="\u0338"&&(N.type==="mo"||N.type==="mi"||N.type==="mn")){var I=N.children[0];I instanceof ao&&I.text.length>0&&(I.text=I.text.slice(0,1)+"\u0338"+I.text.slice(1),C.pop())}}}C.push(N),A=N}return C},"buildExpression"),tc=l(function(b,y,v){return G4(wa(b,y,v))},"buildExpressionRow"),Zr=l(function(b,y){if(!b)return new nt.MathNode("mrow");if(Cm[b.type]){var v=Cm[b.type](b,y);return v}else throw new ut("Got group of unknown type: '"+b.type+"'")},"buildGroup"),l(FE,"buildMathML"),gC=l(function(b){return new KE({style:b.displayMode?Zt.DISPLAY:Zt.TEXT,maxSize:b.maxSize,minRuleThickness:b.minRuleThickness})},"optionsFromSettings"),fC=l(function(b,y){if(y.displayMode){var v=["katex-display"];y.leqno&&v.push("leqno"),y.fleqn&&v.push("fleqn"),b=$e.makeSpan(v,[b])}return b},"displayWrap"),LY=l(function(b,y,v){var w=gC(v),C;if(v.output==="mathml")return FE(b,y,w,v.displayMode,!0);if(v.output==="html"){var A=k4(b,w);C=$e.makeSpan(["katex"],[A])}else{var M=FE(b,y,w,v.displayMode,!1),N=k4(b,w);C=$e.makeSpan(["katex"],[M,N])}return fC(C,v)},"buildTree"),NY=l(function(b,y,v){var w=gC(v),C=k4(b,w),A=$e.makeSpan(["katex"],[C]);return fC(A,v)},"buildHTMLTree"),MY={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},IY=l(function(b){var y=new nt.MathNode("mo",[new nt.TextNode(MY[b.replace(/^\\/,"")])]);return y.setAttribute("stretchy","true"),y},"mathMLnode"),DY={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},RY=l(function(b){return b.type==="ordgroup"?b.body.length:1},"groupLength"),OY=l(function(b,y){function v(){var M=4e5,N=b.label.slice(1);if(Wt.contains(["widehat","widecheck","widetilde","utilde"],N)){var O=b,_=RY(O.base),I,R,P;if(_>5)N==="widehat"||N==="widecheck"?(I=420,M=2364,P=.42,R=N+"4"):(I=312,M=2340,P=.34,R="tilde4");else{var D=[1,1,2,2,3,3][_];N==="widehat"||N==="widecheck"?(M=[0,1062,2364,2364,2364][D],I=[0,239,300,360,420][D],P=[0,.24,.3,.3,.36,.42][D],R=N+D):(M=[0,600,1033,2339,2340][D],I=[0,260,286,306,312][D],P=[0,.26,.286,.3,.306,.34][D],R="tilde"+D)}var $=new Jl(R),F=new Xo([$],{width:"100%",height:mt(P),viewBox:"0 0 "+M+" "+I,preserveAspectRatio:"none"});return{span:$e.makeSvgSpan([],[F],y),minWidth:0,height:P}}else{var z=[],U=DY[N],[j,H,Q]=U,re=Q/1e3,le=j.length,oe,W;if(le===1){var J=U[3];oe=["hide-tail"],W=[J]}else if(le===2)oe=["halfarrow-left","halfarrow-right"],W=["xMinYMin","xMaxYMin"];else if(le===3)oe=["brace-left","brace-center","brace-right"],W=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+le+" children.");for(var Y=0;Y<le;Y++){var X=new Jl(j[Y]),te=new Xo([X],{width:"400em",height:mt(re),viewBox:"0 0 "+M+" "+Q,preserveAspectRatio:W[Y]+" slice"}),ce=$e.makeSvgSpan([oe[Y]],[te],y);if(le===1)return{span:ce,minWidth:H,height:re};ce.style.height=mt(re),z.push(ce)}return{span:$e.makeSpan(["stretchy"],z,y),minWidth:H,height:re}}}l(v,"buildSvgSpan_");var{span:w,minWidth:C,height:A}=v();return w.height=A,w.style.height=mt(A),C>0&&(w.style.minWidth=mt(C)),w},"svgSpan"),PY=l(function(b,y,v,w,C){var A,M=b.height+b.depth+v+w;if(/fbox|color|angl/.test(y)){if(A=$e.makeSpan(["stretchy",y],[],C),y==="fbox"){var N=C.color&&C.getColor();N&&(A.style.borderColor=N)}}else{var O=[];/^[bx]cancel$/.test(y)&&O.push(new D4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(y)&&O.push(new D4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var _=new Xo(O,{width:"100%",height:mt(M)});A=$e.makeSvgSpan([],[_],C)}return A.height=M,A.style.height=mt(M),A},"encloseSpan"),Jo={encloseSpan:PY,mathMLnode:IY,svgSpan:OY},l(fr,"assertNodeType"),l(E4,"assertSymbolNodeType"),l(dm,"checkSymbolNodeType"),q4=l((b,y)=>{var v,w,C;b&&b.type==="supsub"?(w=fr(b.base,"accent"),v=w.base,b.base=v,C=_V(Lr(b,y)),b.base=w):(w=fr(b,"accent"),v=w.base);var A=Lr(v,y.havingCrampedStyle()),M=w.isShifty&&Wt.isCharacterBox(v),N=0;if(M){var O=Wt.getBaseElem(v),_=Lr(O,y.havingCrampedStyle());N=BE(_).skew}var I=w.label==="\\c",R=I?A.height+A.depth:Math.min(A.height,y.fontMetrics().xHeight),P;if(w.isStretchy)P=Jo.svgSpan(w,y),P=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"elem",elem:P,wrapperClasses:["svg-align"],wrapperStyle:N>0?{width:"calc(100% - "+mt(2*N)+")",marginLeft:mt(2*N)}:void 0}]},y);else{var D,$;w.label==="\\vec"?(D=$e.staticSvg("vec",y),$=$e.svgData.vec[1]):(D=$e.makeOrd({mode:w.mode,text:w.label},y,"textord"),D=BE(D),D.italic=0,$=D.width,I&&(R+=D.depth)),P=$e.makeSpan(["accent-body"],[D]);var F=w.label==="\\textcircled";F&&(P.classes.push("accent-full"),R=A.height);var z=N;F||(z-=$/2),P.style.left=mt(z),w.label==="\\textcircled"&&(P.style.top=".2em"),P=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"kern",size:-R},{type:"elem",elem:P}]},y)}var U=$e.makeSpan(["mord","accent"],[P],y);return C?(C.children[0]=U,C.height=Math.max(U.height,C.height),C.classes[0]="mord",C):U},"htmlBuilder$a"),mC=l((b,y)=>{var v=b.isStretchy?Jo.mathMLnode(b.label):new nt.MathNode("mo",[cs(b.label,b.mode)]),w=new nt.MathNode("mover",[Zr(b.base,y),v]);return w.setAttribute("accent","true"),w},"mathmlBuilder$9"),BY=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(b=>"\\"+b).join("|")),Tt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:l((b,y)=>{var v=Sm(y[0]),w=!BY.test(b.funcName),C=!w||b.funcName==="\\widehat"||b.funcName==="\\widetilde"||b.funcName==="\\widecheck";return{type:"accent",mode:b.parser.mode,label:b.funcName,isStretchy:w,isShifty:C,base:v}},"handler"),htmlBuilder:q4,mathmlBuilder:mC}),Tt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:l((b,y)=>{var v=y[0],w=b.parser.mode;return w==="math"&&(b.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+b.funcName+" works only in text mode"),w="text"),{type:"accent",mode:w,label:b.funcName,isStretchy:!1,isShifty:!0,base:v}},"handler"),htmlBuilder:q4,mathmlBuilder:mC}),Tt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0];return{type:"accentUnder",mode:v.mode,label:w,base:C}},"handler"),htmlBuilder:l((b,y)=>{var v=Lr(b.base,y),w=Jo.svgSpan(b,y),C=b.label==="\\utilde"?.12:0,A=$e.makeVList({positionType:"top",positionData:v.height,children:[{type:"elem",elem:w,wrapperClasses:["svg-align"]},{type:"kern",size:C},{type:"elem",elem:v}]},y);return $e.makeSpan(["mord","accentunder"],[A],y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=Jo.mathMLnode(b.label),w=new nt.MathNode("munder",[Zr(b.base,y),v]);return w.setAttribute("accentunder","true"),w},"mathmlBuilder")}),_m=l(b=>{var y=new nt.MathNode("mpadded",b?[b]:[]);return y.setAttribute("width","+0.6em"),y.setAttribute("lspace","0.3em"),y},"paddedNode"),Tt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(b,y,v){var{parser:w,funcName:C}=b;return{type:"xArrow",mode:w.mode,label:C,body:y[0],below:v[0]}},htmlBuilder(b,y){var v=y.style,w=y.havingStyle(v.sup()),C=$e.wrapFragment(Lr(b.body,w,y),y),A=b.label.slice(0,2)==="\\x"?"x":"cd";C.classes.push(A+"-arrow-pad");var M;b.below&&(w=y.havingStyle(v.sub()),M=$e.wrapFragment(Lr(b.below,w,y),y),M.classes.push(A+"-arrow-pad"));var N=Jo.svgSpan(b,y),O=-y.fontMetrics().axisHeight+.5*N.height,_=-y.fontMetrics().axisHeight-.5*N.height-.111;(C.depth>.25||b.label==="\\xleftequilibrium")&&(_-=C.depth);var I;if(M){var R=-y.fontMetrics().axisHeight+M.height+.5*N.height+.111;I=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:_},{type:"elem",elem:N,shift:O},{type:"elem",elem:M,shift:R}]},y)}else I=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:C,shift:_},{type:"elem",elem:N,shift:O}]},y);return I.children[0].children[0].children[1].classes.push("svg-align"),$e.makeSpan(["mrel","x-arrow"],[I],y)},mathmlBuilder(b,y){var v=Jo.mathMLnode(b.label);v.setAttribute("minsize",b.label.charAt(0)==="x"?"1.75em":"3.0em");var w;if(b.body){var C=_m(Zr(b.body,y));if(b.below){var A=_m(Zr(b.below,y));w=new nt.MathNode("munderover",[v,A,C])}else w=new nt.MathNode("mover",[v,C])}else if(b.below){var M=_m(Zr(b.below,y));w=new nt.MathNode("munder",[v,M])}else w=_m(),w=new nt.MathNode("mover",[v,w]);return w}}),$Y=$e.makeSpan,l(zE,"htmlBuilder$9"),l(GE,"mathmlBuilder$8"),Tt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(b,y){var{parser:v,funcName:w}=b,C=y[0];return{type:"mclass",mode:v.mode,mclass:"m"+w.slice(5),body:Li(C),isCharacterBox:Wt.isCharacterBox(C)}},htmlBuilder:zE,mathmlBuilder:GE}),Am=l(b=>{var y=b.type==="ordgroup"&&b.body.length?b.body[0]:b;return y.type==="atom"&&(y.family==="bin"||y.family==="rel")?"m"+y.family:"mord"},"binrelClass"),Tt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(b,y){var{parser:v}=b;return{type:"mclass",mode:v.mode,mclass:Am(y[0]),body:Li(y[1]),isCharacterBox:Wt.isCharacterBox(y[1])}}}),Tt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(b,y){var{parser:v,funcName:w}=b,C=y[1],A=y[0],M;w!=="\\stackrel"?M=Am(C):M="mrel";var N={type:"op",mode:C.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:w!=="\\stackrel",body:Li(C)},O={type:"supsub",mode:A.mode,base:N,sup:w==="\\underset"?null:A,sub:w==="\\underset"?A:null};return{type:"mclass",mode:v.mode,mclass:M,body:[O],isCharacterBox:Wt.isCharacterBox(O)}},htmlBuilder:zE,mathmlBuilder:GE}),Tt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(b,y){var{parser:v}=b;return{type:"pmb",mode:v.mode,mclass:Am(y[0]),body:Li(y[0])}},htmlBuilder(b,y){var v=Yi(b.body,y,!0),w=$e.makeSpan([b.mclass],v,y);return w.style.textShadow="0.02em 0.01em 0.04px",w},mathmlBuilder(b,y){var v=wa(b.body,y),w=new nt.MathNode("mstyle",v);return w.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),w}}),FY={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},yC=l(()=>({type:"styling",body:[],mode:"math",style:"display"}),"newCell"),vC=l(b=>b.type==="textord"&&b.text==="@","isStartOfArrow"),zY=l((b,y)=>(b.type==="mathord"||b.type==="atom")&&b.text===y,"isLabelEnd"),l(AV,"cdArrow"),l(LV,"parseCD"),Tt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(b,y){var{parser:v,funcName:w}=b;return{type:"cdlabel",mode:v.mode,side:w.slice(4),label:y[0]}},htmlBuilder(b,y){var v=y.havingStyle(y.style.sup()),w=$e.wrapFragment(Lr(b.label,v,y),y);return w.classes.push("cd-label-"+b.side),w.style.bottom=mt(.8-w.depth),w.height=0,w.depth=0,w},mathmlBuilder(b,y){var v=new nt.MathNode("mrow",[Zr(b.label,y)]);return v=new nt.MathNode("mpadded",[v]),v.setAttribute("width","0"),b.side==="left"&&v.setAttribute("lspace","-1width"),v.setAttribute("voffset","0.7em"),v=new nt.MathNode("mstyle",[v]),v.setAttribute("displaystyle","false"),v.setAttribute("scriptlevel","1"),v}}),Tt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(b,y){var{parser:v}=b;return{type:"cdlabelparent",mode:v.mode,fragment:y[0]}},htmlBuilder(b,y){var v=$e.wrapFragment(Lr(b.fragment,y),y);return v.classes.push("cd-vert-arrow"),v},mathmlBuilder(b,y){return new nt.MathNode("mrow",[Zr(b.fragment,y)])}}),Tt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(b,y){for(var{parser:v}=b,w=fr(y[0],"ordgroup"),C=w.body,A="",M=0;M<C.length;M++){var N=fr(C[M],"textord");A+=N.text}var O=parseInt(A),_;if(isNaN(O))throw new ut("\\@char has non-numeric argument "+A);if(O<0||O>=1114111)throw new ut("\\@char with invalid code point "+A);return O<=65535?_=String.fromCharCode(O):(O-=65536,_=String.fromCharCode((O>>10)+55296,(O&1023)+56320)),{type:"textord",mode:v.mode,text:_}}}),bC=l((b,y)=>{var v=Yi(b.body,y.withColor(b.color),!1);return $e.makeFragment(v)},"htmlBuilder$8"),xC=l((b,y)=>{var v=wa(b.body,y.withColor(b.color)),w=new nt.MathNode("mstyle",v);return w.setAttribute("mathcolor",b.color),w},"mathmlBuilder$7"),Tt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(b,y){var{parser:v}=b,w=fr(y[0],"color-token").color,C=y[1];return{type:"color",mode:v.mode,color:w,body:Li(C)}},htmlBuilder:bC,mathmlBuilder:xC}),Tt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(b,y){var{parser:v,breakOnTokenText:w}=b,C=fr(y[0],"color-token").color;v.gullet.macros.set("\\current@color",C);var A=v.parseExpression(!0,w);return{type:"color",mode:v.mode,color:C,body:A}},htmlBuilder:bC,mathmlBuilder:xC}),Tt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(b,y,v){var{parser:w}=b,C=w.gullet.future().text==="["?w.parseSizeGroup(!0):null,A=!w.settings.displayMode||!w.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:w.mode,newLine:A,size:C&&fr(C,"size").value}},htmlBuilder(b,y){var v=$e.makeSpan(["mspace"],[],y);return b.newLine&&(v.classes.push("newline"),b.size&&(v.style.marginTop=mt(mi(b.size,y)))),v},mathmlBuilder(b,y){var v=new nt.MathNode("mspace");return b.newLine&&(v.setAttribute("linebreak","newline"),b.size&&v.setAttribute("height",mt(mi(b.size,y)))),v}}),j4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},wC=l(b=>{var y=b.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(y))throw new ut("Expected a control sequence",b);return y},"checkControlSequence"),GY=l(b=>{var y=b.gullet.popToken();return y.text==="="&&(y=b.gullet.popToken(),y.text===" "&&(y=b.gullet.popToken())),y},"getRHS"),kC=l((b,y,v,w)=>{var C=b.gullet.macros.get(v.text);C==null&&(v.noexpand=!0,C={tokens:[v],numArgs:0,unexpandable:!b.gullet.isExpandable(v.text)}),b.gullet.macros.set(y,C,w)},"letCommand"),Tt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(b){var{parser:y,funcName:v}=b;y.consumeSpaces();var w=y.fetch();if(j4[w.text])return(v==="\\global"||v==="\\\\globallong")&&(w.text=j4[w.text]),fr(y.parseFunction(),"internal");throw new ut("Invalid token after macro prefix",w)}}),Tt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){var{parser:y,funcName:v}=b,w=y.gullet.popToken(),C=w.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(C))throw new ut("Expected a control sequence",w);for(var A=0,M,N=[[]];y.gullet.future().text!=="{";)if(w=y.gullet.popToken(),w.text==="#"){if(y.gullet.future().text==="{"){M=y.gullet.future(),N[A].push("{");break}if(w=y.gullet.popToken(),!/^[1-9]$/.test(w.text))throw new ut('Invalid argument number "'+w.text+'"');if(parseInt(w.text)!==A+1)throw new ut('Argument number "'+w.text+'" out of order');A++,N.push([])}else{if(w.text==="EOF")throw new ut("Expected a macro definition");N[A].push(w.text)}var{tokens:O}=y.gullet.consumeArg();return M&&O.unshift(M),(v==="\\edef"||v==="\\xdef")&&(O=y.gullet.expandTokens(O),O.reverse()),y.gullet.macros.set(C,{tokens:O,numArgs:A,delimiters:N},v===j4[v]),{type:"internal",mode:y.mode}}}),Tt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){var{parser:y,funcName:v}=b,w=wC(y.gullet.popToken());y.gullet.consumeSpaces();var C=GY(y);return kC(y,w,C,v==="\\\\globallet"),{type:"internal",mode:y.mode}}}),Tt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b){var{parser:y,funcName:v}=b,w=wC(y.gullet.popToken()),C=y.gullet.popToken(),A=y.gullet.popToken();return kC(y,w,A,v==="\\\\globalfuture"),y.gullet.pushToken(A),y.gullet.pushToken(C),{type:"internal",mode:y.mode}}}),Gp=l(function(b,y,v){var w=ei.math[b]&&ei.math[b].replace,C=w4(w||b,y,v);if(!C)throw new Error("Unsupported symbol "+b+" and font size "+y+".");return C},"getMetrics"),H4=l(function(b,y,v,w){var C=v.havingBaseStyle(y),A=$e.makeSpan(w.concat(C.sizingClasses(v)),[b],v),M=C.sizeMultiplier/v.sizeMultiplier;return A.height*=M,A.depth*=M,A.maxFontSize=C.sizeMultiplier,A},"styleWrap"),TC=l(function(b,y,v){var w=y.havingBaseStyle(v),C=(1-y.sizeMultiplier/w.sizeMultiplier)*y.fontMetrics().axisHeight;b.classes.push("delimcenter"),b.style.top=mt(C),b.height-=C,b.depth+=C},"centerSpan"),UY=l(function(b,y,v,w,C,A){var M=$e.makeSymbol(b,"Main-Regular",C,w),N=H4(M,y,w,A);return v&&TC(N,w,y),N},"makeSmallDelim"),qY=l(function(b,y,v,w){return $e.makeSymbol(b,"Size"+y+"-Regular",v,w)},"mathrmSize"),EC=l(function(b,y,v,w,C,A){var M=qY(b,y,C,w),N=H4($e.makeSpan(["delimsizing","size"+y],[M],w),Zt.TEXT,w,A);return v&&TC(N,w,Zt.TEXT),N},"makeLargeDelim"),V4=l(function(b,y,v){var w;y==="Size1-Regular"?w="delim-size1":w="delim-size4";var C=$e.makeSpan(["delimsizinginner",w],[$e.makeSpan([],[$e.makeSymbol(b,y,v)])]);return{type:"elem",elem:C}},"makeGlyphSpan"),Y4=l(function(b,y,v){var w=no["Size4-Regular"][b.charCodeAt(0)]?no["Size4-Regular"][b.charCodeAt(0)][4]:no["Size1-Regular"][b.charCodeAt(0)][4],C=new Jl("inner",JV(b,Math.round(1e3*y))),A=new Xo([C],{width:mt(w),height:mt(y),style:"width:"+mt(w),viewBox:"0 0 "+1e3*w+" "+Math.round(1e3*y),preserveAspectRatio:"xMinYMin"}),M=$e.makeSvgSpan([],[A],v);return M.height=y,M.style.height=mt(y),M.style.width=mt(w),{type:"elem",elem:M}},"makeInner"),W4=.008,Lm={type:"kern",size:-1*W4},jY=["|","\\lvert","\\rvert","\\vert"],HY=["\\|","\\lVert","\\rVert","\\Vert"],CC=l(function(b,y,v,w,C,A){var M,N,O,_,I="",R=0;M=O=_=b,N=null;var P="Size1-Regular";b==="\\uparrow"?O=_="\u23D0":b==="\\Uparrow"?O=_="\u2016":b==="\\downarrow"?M=O="\u23D0":b==="\\Downarrow"?M=O="\u2016":b==="\\updownarrow"?(M="\\uparrow",O="\u23D0",_="\\downarrow"):b==="\\Updownarrow"?(M="\\Uparrow",O="\u2016",_="\\Downarrow"):Wt.contains(jY,b)?(O="\u2223",I="vert",R=333):Wt.contains(HY,b)?(O="\u2225",I="doublevert",R=556):b==="["||b==="\\lbrack"?(M="\u23A1",O="\u23A2",_="\u23A3",P="Size4-Regular",I="lbrack",R=667):b==="]"||b==="\\rbrack"?(M="\u23A4",O="\u23A5",_="\u23A6",P="Size4-Regular",I="rbrack",R=667):b==="\\lfloor"||b==="\u230A"?(O=M="\u23A2",_="\u23A3",P="Size4-Regular",I="lfloor",R=667):b==="\\lceil"||b==="\u2308"?(M="\u23A1",O=_="\u23A2",P="Size4-Regular",I="lceil",R=667):b==="\\rfloor"||b==="\u230B"?(O=M="\u23A5",_="\u23A6",P="Size4-Regular",I="rfloor",R=667):b==="\\rceil"||b==="\u2309"?(M="\u23A4",O=_="\u23A5",P="Size4-Regular",I="rceil",R=667):b==="("||b==="\\lparen"?(M="\u239B",O="\u239C",_="\u239D",P="Size4-Regular",I="lparen",R=875):b===")"||b==="\\rparen"?(M="\u239E",O="\u239F",_="\u23A0",P="Size4-Regular",I="rparen",R=875):b==="\\{"||b==="\\lbrace"?(M="\u23A7",N="\u23A8",_="\u23A9",O="\u23AA",P="Size4-Regular"):b==="\\}"||b==="\\rbrace"?(M="\u23AB",N="\u23AC",_="\u23AD",O="\u23AA",P="Size4-Regular"):b==="\\lgroup"||b==="\u27EE"?(M="\u23A7",_="\u23A9",O="\u23AA",P="Size4-Regular"):b==="\\rgroup"||b==="\u27EF"?(M="\u23AB",_="\u23AD",O="\u23AA",P="Size4-Regular"):b==="\\lmoustache"||b==="\u23B0"?(M="\u23A7",_="\u23AD",O="\u23AA",P="Size4-Regular"):(b==="\\rmoustache"||b==="\u23B1")&&(M="\u23AB",_="\u23A9",O="\u23AA",P="Size4-Regular");var D=Gp(M,P,C),$=D.height+D.depth,F=Gp(O,P,C),z=F.height+F.depth,U=Gp(_,P,C),j=U.height+U.depth,H=0,Q=1;if(N!==null){var re=Gp(N,P,C);H=re.height+re.depth,Q=2}var le=$+j+H,oe=Math.max(0,Math.ceil((y-le)/(Q*z))),W=le+oe*Q*z,J=w.fontMetrics().axisHeight;v&&(J*=w.sizeMultiplier);var Y=W/2-J,X=[];if(I.length>0){var te=W-$-j,ce=Math.round(W*1e3),K=eY(I,Math.round(te*1e3)),me=new Jl(I,K),Z=(R/1e3).toFixed(3)+"em",Ae=(ce/1e3).toFixed(3)+"em",he=new Xo([me],{width:Z,height:Ae,viewBox:"0 0 "+R+" "+ce}),Ne=$e.makeSvgSpan([],[he],w);Ne.height=ce/1e3,Ne.style.width=Z,Ne.style.height=Ae,X.push({type:"elem",elem:Ne})}else{if(X.push(V4(_,P,C)),X.push(Lm),N===null){var Pe=W-$-j+2*W4;X.push(Y4(O,Pe,w))}else{var He=(W-$-j-H)/2+2*W4;X.push(Y4(O,He,w)),X.push(Lm),X.push(V4(N,P,C)),X.push(Lm),X.push(Y4(O,He,w))}X.push(Lm),X.push(V4(M,P,C))}var qe=w.havingBaseStyle(Zt.TEXT),_e=$e.makeVList({positionType:"bottom",positionData:Y,children:X},qe);return H4($e.makeSpan(["delimsizing","mult"],[_e],qe),Zt.TEXT,w,A)},"makeStackedDelim"),X4=80,K4=.08,Z4=l(function(b,y,v,w,C){var A=QV(b,w,v),M=new Jl(b,A),N=new Xo([M],{width:"400em",height:mt(y),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});return $e.makeSvgSpan(["hide-tail"],[N],C)},"sqrtSvg"),VY=l(function(b,y){var v=y.havingBaseSizing(),w=LC("\\surd",b*v.sizeMultiplier,AC,v),C=v.sizeMultiplier,A=Math.max(0,y.minRuleThickness-y.fontMetrics().sqrtRuleThickness),M,N=0,O=0,_=0,I;return w.type==="small"?(_=1e3+1e3*A+X4,b<1?C=1:b<1.4&&(C=.7),N=(1+A+K4)/C,O=(1+A)/C,M=Z4("sqrtMain",N,_,A,y),M.style.minWidth="0.853em",I=.833/C):w.type==="large"?(_=(1e3+X4)*Up[w.size],O=(Up[w.size]+A)/C,N=(Up[w.size]+A+K4)/C,M=Z4("sqrtSize"+w.size,N,_,A,y),M.style.minWidth="1.02em",I=1/C):(N=b+A+K4,O=b+A,_=Math.floor(1e3*b+A)+X4,M=Z4("sqrtTall",N,_,A,y),M.style.minWidth="0.742em",I=1.056),M.height=O,M.style.height=mt(N),{span:M,advanceWidth:I,ruleWidth:(y.fontMetrics().sqrtRuleThickness+A)*C}},"makeSqrtImage"),SC=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],YY=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],_C=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Up=[0,1.2,1.8,2.4,3],WY=l(function(b,y,v,w,C){if(b==="<"||b==="\\lt"||b==="\u27E8"?b="\\langle":(b===">"||b==="\\gt"||b==="\u27E9")&&(b="\\rangle"),Wt.contains(SC,b)||Wt.contains(_C,b))return EC(b,y,!1,v,w,C);if(Wt.contains(YY,b))return CC(b,Up[y],!1,v,w,C);throw new ut("Illegal delimiter: '"+b+"'")},"makeSizedDelim"),XY=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],KY=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"stack"}],AC=[{type:"small",style:Zt.SCRIPTSCRIPT},{type:"small",style:Zt.SCRIPT},{type:"small",style:Zt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],ZY=l(function(b){if(b.type==="small")return"Main-Regular";if(b.type==="large")return"Size"+b.size+"-Regular";if(b.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+b.type+"' here.")},"delimTypeToFont"),LC=l(function(b,y,v,w){for(var C=Math.min(2,3-w.style.size),A=C;A<v.length&&v[A].type!=="stack";A++){var M=Gp(b,ZY(v[A]),"math"),N=M.height+M.depth;if(v[A].type==="small"){var O=w.havingBaseStyle(v[A].style);N*=O.sizeMultiplier}if(N>y)return v[A]}return v[v.length-1]},"traverseSequence"),NC=l(function(b,y,v,w,C,A){b==="<"||b==="\\lt"||b==="\u27E8"?b="\\langle":(b===">"||b==="\\gt"||b==="\u27E9")&&(b="\\rangle");var M;Wt.contains(_C,b)?M=XY:Wt.contains(SC,b)?M=AC:M=KY;var N=LC(b,y,M,w);return N.type==="small"?UY(b,N.style,v,w,C,A):N.type==="large"?EC(b,N.size,v,w,C,A):CC(b,y,v,w,C,A)},"makeCustomSizedDelim"),QY=l(function(b,y,v,w,C,A){var M=w.fontMetrics().axisHeight*w.sizeMultiplier,N=901,O=5/w.fontMetrics().ptPerEm,_=Math.max(y-M,v+M),I=Math.max(_/500*N,2*_-O);return NC(b,I,!0,w,C,A)},"makeLeftRightDelim"),el={sqrtImage:VY,sizedDelim:WY,sizeToMaxHeight:Up,customSizedDelim:NC,leftRightDelim:QY},MC={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},JY=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."],l(pm,"checkDelimiter"),Tt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:l((b,y)=>{var v=pm(y[0],b);return{type:"delimsizing",mode:b.parser.mode,size:MC[b.funcName].size,mclass:MC[b.funcName].mclass,delim:v.text}},"handler"),htmlBuilder:l((b,y)=>b.delim==="."?$e.makeSpan([b.mclass]):el.sizedDelim(b.delim,b.size,y,b.mode,[b.mclass]),"htmlBuilder"),mathmlBuilder:l(b=>{var y=[];b.delim!=="."&&y.push(cs(b.delim,b.mode));var v=new nt.MathNode("mo",y);b.mclass==="mopen"||b.mclass==="mclose"?v.setAttribute("fence","true"):v.setAttribute("fence","false"),v.setAttribute("stretchy","true");var w=mt(el.sizeToMaxHeight[b.size]);return v.setAttribute("minsize",w),v.setAttribute("maxsize",w),v},"mathmlBuilder")}),l(UE,"assertParsed"),Tt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:l((b,y)=>{var v=b.parser.gullet.macros.get("\\current@color");if(v&&typeof v!="string")throw new ut("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:b.parser.mode,delim:pm(y[0],b).text,color:v}},"handler")}),Tt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:l((b,y)=>{var v=pm(y[0],b),w=b.parser;++w.leftrightDepth;var C=w.parseExpression(!1);--w.leftrightDepth,w.expect("\\right",!1);var A=fr(w.parseFunction(),"leftright-right");return{type:"leftright",mode:w.mode,body:C,left:v.text,right:A.delim,rightColor:A.color}},"handler"),htmlBuilder:l((b,y)=>{UE(b);for(var v=Yi(b.body,y,!0,["mopen","mclose"]),w=0,C=0,A=!1,M=0;M<v.length;M++)v[M].isMiddle?A=!0:(w=Math.max(v[M].height,w),C=Math.max(v[M].depth,C));w*=y.sizeMultiplier,C*=y.sizeMultiplier;var N;if(b.left==="."?N=zp(y,["mopen"]):N=el.leftRightDelim(b.left,w,C,y,b.mode,["mopen"]),v.unshift(N),A)for(var O=1;O<v.length;O++){var _=v[O],I=_.isMiddle;I&&(v[O]=el.leftRightDelim(I.delim,w,C,I.options,b.mode,[]))}var R;if(b.right===".")R=zp(y,["mclose"]);else{var P=b.rightColor?y.withColor(b.rightColor):y;R=el.leftRightDelim(b.right,w,C,P,b.mode,["mclose"])}return v.push(R),$e.makeSpan(["minner"],v,y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{UE(b);var v=wa(b.body,y);if(b.left!=="."){var w=new nt.MathNode("mo",[cs(b.left,b.mode)]);w.setAttribute("fence","true"),v.unshift(w)}if(b.right!=="."){var C=new nt.MathNode("mo",[cs(b.right,b.mode)]);C.setAttribute("fence","true"),b.rightColor&&C.setAttribute("mathcolor",b.rightColor),v.push(C)}return G4(v)},"mathmlBuilder")}),Tt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:l((b,y)=>{var v=pm(y[0],b);if(!b.parser.leftrightDepth)throw new ut("\\middle without preceding \\left",v);return{type:"middle",mode:b.parser.mode,delim:v.text}},"handler"),htmlBuilder:l((b,y)=>{var v;if(b.delim===".")v=zp(y,[]);else{v=el.sizedDelim(b.delim,1,y,b.mode,[]);var w={delim:b.delim,options:y};v.isMiddle=w}return v},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=b.delim==="\\vert"||b.delim==="|"?cs("|","text"):cs(b.delim,b.mode),w=new nt.MathNode("mo",[v]);return w.setAttribute("fence","true"),w.setAttribute("lspace","0.05em"),w.setAttribute("rspace","0.05em"),w},"mathmlBuilder")}),Q4=l((b,y)=>{var v=$e.wrapFragment(Lr(b.body,y),y),w=b.label.slice(1),C=y.sizeMultiplier,A,M=0,N=Wt.isCharacterBox(b.body);if(w==="sout")A=$e.makeSpan(["stretchy","sout"]),A.height=y.fontMetrics().defaultRuleThickness/C,M=-.5*y.fontMetrics().xHeight;else if(w==="phase"){var O=mi({number:.6,unit:"pt"},y),_=mi({number:.35,unit:"ex"},y),I=y.havingBaseSizing();C=C/I.sizeMultiplier;var R=v.height+v.depth+O+_;v.style.paddingLeft=mt(R/2+O);var P=Math.floor(1e3*R*C),D=KV(P),$=new Xo([new Jl("phase",D)],{width:"400em",height:mt(P/1e3),viewBox:"0 0 400000 "+P,preserveAspectRatio:"xMinYMin slice"});A=$e.makeSvgSpan(["hide-tail"],[$],y),A.style.height=mt(R),M=v.depth+O+_}else{/cancel/.test(w)?N||v.classes.push("cancel-pad"):w==="angl"?v.classes.push("anglpad"):v.classes.push("boxpad");var F=0,z=0,U=0;/box/.test(w)?(U=Math.max(y.fontMetrics().fboxrule,y.minRuleThickness),F=y.fontMetrics().fboxsep+(w==="colorbox"?0:U),z=F):w==="angl"?(U=Math.max(y.fontMetrics().defaultRuleThickness,y.minRuleThickness),F=4*U,z=Math.max(0,.25-v.depth)):(F=N?.2:0,z=F),A=Jo.encloseSpan(v,w,F,z,y),/fbox|boxed|fcolorbox/.test(w)?(A.style.borderStyle="solid",A.style.borderWidth=mt(U)):w==="angl"&&U!==.049&&(A.style.borderTopWidth=mt(U),A.style.borderRightWidth=mt(U)),M=v.depth+z,b.backgroundColor&&(A.style.backgroundColor=b.backgroundColor,b.borderColor&&(A.style.borderColor=b.borderColor))}var j;if(b.backgroundColor)j=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:A,shift:M},{type:"elem",elem:v,shift:0}]},y);else{var H=/cancel|phase/.test(w)?["svg-align"]:[];j=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:0},{type:"elem",elem:A,shift:M,wrapperClasses:H}]},y)}return/cancel/.test(w)&&(j.height=v.height,j.depth=v.depth),/cancel/.test(w)&&!N?$e.makeSpan(["mord","cancel-lap"],[j],y):$e.makeSpan(["mord"],[j],y)},"htmlBuilder$7"),J4=l((b,y)=>{var v=0,w=new nt.MathNode(b.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Zr(b.body,y)]);switch(b.label){case"\\cancel":w.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":w.setAttribute("notation","downdiagonalstrike");break;case"\\phase":w.setAttribute("notation","phasorangle");break;case"\\sout":w.setAttribute("notation","horizontalstrike");break;case"\\fbox":w.setAttribute("notation","box");break;case"\\angl":w.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(v=y.fontMetrics().fboxsep*y.fontMetrics().ptPerEm,w.setAttribute("width","+"+2*v+"pt"),w.setAttribute("height","+"+2*v+"pt"),w.setAttribute("lspace",v+"pt"),w.setAttribute("voffset",v+"pt"),b.label==="\\fcolorbox"){var C=Math.max(y.fontMetrics().fboxrule,y.minRuleThickness);w.setAttribute("style","border: "+C+"em solid "+String(b.borderColor))}break;case"\\xcancel":w.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return b.backgroundColor&&w.setAttribute("mathbackground",b.backgroundColor),w},"mathmlBuilder$6"),Tt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(b,y,v){var{parser:w,funcName:C}=b,A=fr(y[0],"color-token").color,M=y[1];return{type:"enclose",mode:w.mode,label:C,backgroundColor:A,body:M}},htmlBuilder:Q4,mathmlBuilder:J4}),Tt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(b,y,v){var{parser:w,funcName:C}=b,A=fr(y[0],"color-token").color,M=fr(y[1],"color-token").color,N=y[2];return{type:"enclose",mode:w.mode,label:C,backgroundColor:M,borderColor:A,body:N}},htmlBuilder:Q4,mathmlBuilder:J4}),Tt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(b,y){var{parser:v}=b;return{type:"enclose",mode:v.mode,label:"\\fbox",body:y[0]}}}),Tt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(b,y){var{parser:v,funcName:w}=b,C=y[0];return{type:"enclose",mode:v.mode,label:w,body:C}},htmlBuilder:Q4,mathmlBuilder:J4}),Tt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(b,y){var{parser:v}=b;return{type:"enclose",mode:v.mode,label:"\\angl",body:y[0]}}}),IC={},l(to,"defineEnvironment"),DC={},l(ue,"defineMacro"),l(qE,"getHLines"),Nm=l(b=>{var y=b.parser.settings;if(!y.displayMode)throw new ut("{"+b.envName+"} can be used only in display mode.")},"validateAmsEnvironmentContext"),l(C4,"getAutoTag"),l(Kl,"parseArray"),l(S4,"dCellStyle"),so=l(function(b,y){var v,w,C=b.body.length,A=b.hLinesBeforeRow,M=0,N=new Array(C),O=[],_=Math.max(y.fontMetrics().arrayRuleWidth,y.minRuleThickness),I=1/y.fontMetrics().ptPerEm,R=5*I;if(b.colSeparationType&&b.colSeparationType==="small"){var P=y.havingStyle(Zt.SCRIPT).sizeMultiplier;R=.2778*(P/y.sizeMultiplier)}var D=b.colSeparationType==="CD"?mi({number:3,unit:"ex"},y):12*I,$=3*I,F=b.arraystretch*D,z=.7*F,U=.3*F,j=0;function H(Se){for(var Te=0;Te<Se.length;++Te)Te>0&&(j+=.25),O.push({pos:j,isDashed:Se[Te]})}for(l(H,"setHLinePos"),H(A[0]),v=0;v<b.body.length;++v){var Q=b.body[v],re=z,le=U;M<Q.length&&(M=Q.length);var oe=new Array(Q.length);for(w=0;w<Q.length;++w){var W=Lr(Q[w],y);le<W.depth&&(le=W.depth),re<W.height&&(re=W.height),oe[w]=W}var J=b.rowGaps[v],Y=0;J&&(Y=mi(J,y),Y>0&&(Y+=U,le<Y&&(le=Y),Y=0)),b.addJot&&(le+=$),oe.height=re,oe.depth=le,j+=re,oe.pos=j,j+=le+Y,N[v]=oe,H(A[v+1])}var X=j/2+y.fontMetrics().axisHeight,te=b.cols||[],ce=[],K,me,Z=[];if(b.tags&&b.tags.some(Se=>Se))for(v=0;v<C;++v){var Ae=N[v],he=Ae.pos-X,Ne=b.tags[v],Pe=void 0;Ne===!0?Pe=$e.makeSpan(["eqn-num"],[],y):Ne===!1?Pe=$e.makeSpan([],[],y):Pe=$e.makeSpan([],Yi(Ne,y,!0),y),Pe.depth=Ae.depth,Pe.height=Ae.height,Z.push({type:"elem",elem:Pe,shift:he})}for(w=0,me=0;w<M||me<te.length;++w,++me){for(var He=te[me]||{},qe=!0;He.type==="separator";){if(qe||(K=$e.makeSpan(["arraycolsep"],[]),K.style.width=mt(y.fontMetrics().doubleRuleSep),ce.push(K)),He.separator==="|"||He.separator===":"){var _e=He.separator==="|"?"solid":"dashed",De=$e.makeSpan(["vertical-separator"],[],y);De.style.height=mt(j),De.style.borderRightWidth=mt(_),De.style.borderRightStyle=_e,De.style.margin="0 "+mt(-_/2);var ve=j-X;ve&&(De.style.verticalAlign=mt(-ve)),ce.push(De)}else throw new ut("Invalid separator type: "+He.separator);me++,He=te[me]||{},qe=!1}if(!(w>=M)){var Be=void 0;(w>0||b.hskipBeforeAndAfter)&&(Be=Wt.deflt(He.pregap,R),Be!==0&&(K=$e.makeSpan(["arraycolsep"],[]),K.style.width=mt(Be),ce.push(K)));var de=[];for(v=0;v<C;++v){var Ve=N[v],ee=Ve[w];if(ee){var Ie=Ve.pos-X;ee.depth=Ve.depth,ee.height=Ve.height,de.push({type:"elem",elem:ee,shift:Ie})}}de=$e.makeVList({positionType:"individualShift",children:de},y),de=$e.makeSpan(["col-align-"+(He.align||"c")],[de]),ce.push(de),(w<M-1||b.hskipBeforeAndAfter)&&(Be=Wt.deflt(He.postgap,R),Be!==0&&(K=$e.makeSpan(["arraycolsep"],[]),K.style.width=mt(Be),ce.push(K)))}}if(N=$e.makeSpan(["mtable"],ce),O.length>0){for(var G=$e.makeLineSpan("hline",y,_),ie=$e.makeLineSpan("hdashline",y,_),se=[{type:"elem",elem:N,shift:0}];O.length>0;){var pe=O.pop(),fe=pe.pos-X;pe.isDashed?se.push({type:"elem",elem:ie,shift:fe}):se.push({type:"elem",elem:G,shift:fe})}N=$e.makeVList({positionType:"individualShift",children:se},y)}if(Z.length===0)return $e.makeSpan(["mord"],[N],y);var be=$e.makeVList({positionType:"individualShift",children:Z},y);return be=$e.makeSpan(["tag"],[be],y),$e.makeFragment([N,be])},"htmlBuilder"),eW={c:"center ",l:"left ",r:"right "},oo=l(function(b,y){for(var v=[],w=new nt.MathNode("mtd",[],["mtr-glue"]),C=new nt.MathNode("mtd",[],["mml-eqn-num"]),A=0;A<b.body.length;A++){for(var M=b.body[A],N=[],O=0;O<M.length;O++)N.push(new nt.MathNode("mtd",[Zr(M[O],y)]));b.tags&&b.tags[A]&&(N.unshift(w),N.push(w),b.leqno?N.unshift(C):N.push(C)),v.push(new nt.MathNode("mtr",N))}var _=new nt.MathNode("mtable",v),I=b.arraystretch===.5?.1:.16+b.arraystretch-1+(b.addJot?.09:0);_.setAttribute("rowspacing",mt(I));var R="",P="";if(b.cols&&b.cols.length>0){var D=b.cols,$="",F=!1,z=0,U=D.length;D[0].type==="separator"&&(R+="top ",z=1),D[D.length-1].type==="separator"&&(R+="bottom ",U-=1);for(var j=z;j<U;j++)D[j].type==="align"?(P+=eW[D[j].align],F&&($+="none "),F=!0):D[j].type==="separator"&&F&&($+=D[j].separator==="|"?"solid ":"dashed ",F=!1);_.setAttribute("columnalign",P.trim()),/[sd]/.test($)&&_.setAttribute("columnlines",$.trim())}if(b.colSeparationType==="align"){for(var H=b.cols||[],Q="",re=1;re<H.length;re++)Q+=re%2?"0em ":"1em ";_.setAttribute("columnspacing",Q.trim())}else b.colSeparationType==="alignat"||b.colSeparationType==="gather"?_.setAttribute("columnspacing","0em"):b.colSeparationType==="small"?_.setAttribute("columnspacing","0.2778em"):b.colSeparationType==="CD"?_.setAttribute("columnspacing","0.5em"):_.setAttribute("columnspacing","1em");var le="",oe=b.hLinesBeforeRow;R+=oe[0].length>0?"left ":"",R+=oe[oe.length-1].length>0?"right ":"";for(var W=1;W<oe.length-1;W++)le+=oe[W].length===0?"none ":oe[W][0]?"dashed ":"solid ";return/[sd]/.test(le)&&_.setAttribute("rowlines",le.trim()),R!==""&&(_=new nt.MathNode("menclose",[_]),_.setAttribute("notation",R.trim())),b.arraystretch&&b.arraystretch<1&&(_=new nt.MathNode("mstyle",[_]),_.setAttribute("scriptlevel","1")),_},"mathmlBuilder"),RC=l(function(b,y){b.envName.indexOf("ed")===-1&&Nm(b);var v=[],w=b.envName.indexOf("at")>-1?"alignat":"align",C=b.envName==="split",A=Kl(b.parser,{cols:v,addJot:!0,autoTag:C?void 0:C4(b.envName),emptySingleRow:!0,colSeparationType:w,maxNumCols:C?2:void 0,leqno:b.parser.settings.leqno},"display"),M,N=0,O={type:"ordgroup",mode:b.mode,body:[]};if(y[0]&&y[0].type==="ordgroup"){for(var _="",I=0;I<y[0].body.length;I++){var R=fr(y[0].body[I],"textord");_+=R.text}M=Number(_),N=M*2}var P=!N;A.body.forEach(function(z){for(var U=1;U<z.length;U+=2){var j=fr(z[U],"styling"),H=fr(j.body[0],"ordgroup");H.body.unshift(O)}if(P)N<z.length&&(N=z.length);else{var Q=z.length/2;if(M<Q)throw new ut("Too many math in a row: "+("expected "+M+", but got "+Q),z[0])}});for(var D=0;D<N;++D){var $="r",F=0;D%2===1?$="l":D>0&&P&&(F=1),v[D]={type:"align",align:$,pregap:F,postgap:0}}return A.colSeparationType=P?"align":"alignat",A},"alignedHandler"),to({type:"array",names:["array","darray"],props:{numArgs:1},handler(b,y){var v=dm(y[0]),w=v?[y[0]]:fr(y[0],"ordgroup").body,C=w.map(function(M){var N=E4(M),O=N.text;if("lcr".indexOf(O)!==-1)return{type:"align",align:O};if(O==="|")return{type:"separator",separator:"|"};if(O===":")return{type:"separator",separator:":"};throw new ut("Unknown column alignment: "+O,M)}),A={cols:C,hskipBeforeAndAfter:!0,maxNumCols:C.length};return Kl(b.parser,A,S4(b.envName))},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(b){var y={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[b.envName.replace("*","")],v="c",w={hskipBeforeAndAfter:!1,cols:[{type:"align",align:v}]};if(b.envName.charAt(b.envName.length-1)==="*"){var C=b.parser;if(C.consumeSpaces(),C.fetch().text==="["){if(C.consume(),C.consumeSpaces(),v=C.fetch().text,"lcr".indexOf(v)===-1)throw new ut("Expected l or c or r",C.nextToken);C.consume(),C.consumeSpaces(),C.expect("]"),C.consume(),w.cols=[{type:"align",align:v}]}}var A=Kl(b.parser,w,S4(b.envName)),M=Math.max(0,...A.body.map(N=>N.length));return A.cols=new Array(M).fill({type:"align",align:v}),y?{type:"leftright",mode:b.mode,body:[A],left:y[0],right:y[1],rightColor:void 0}:A},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(b){var y={arraystretch:.5},v=Kl(b.parser,y,"script");return v.colSeparationType="small",v},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["subarray"],props:{numArgs:1},handler(b,y){var v=dm(y[0]),w=v?[y[0]]:fr(y[0],"ordgroup").body,C=w.map(function(M){var N=E4(M),O=N.text;if("lc".indexOf(O)!==-1)return{type:"align",align:O};throw new ut("Unknown column alignment: "+O,M)});if(C.length>1)throw new ut("{subarray} can contain only one column");var A={cols:C,hskipBeforeAndAfter:!1,arraystretch:.5};if(A=Kl(b.parser,A,"script"),A.body.length>0&&A.body[0].length>1)throw new ut("{subarray} can contain only one column");return A},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(b){var y={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},v=Kl(b.parser,y,S4(b.envName));return{type:"leftright",mode:b.mode,body:[v],left:b.envName.indexOf("r")>-1?".":"\\{",right:b.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:RC,htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(b){Wt.contains(["gather","gather*"],b.envName)&&Nm(b);var y={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:C4(b.envName),emptySingleRow:!0,leqno:b.parser.settings.leqno};return Kl(b.parser,y,"display")},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:RC,htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(b){Nm(b);var y={autoTag:C4(b.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:b.parser.settings.leqno};return Kl(b.parser,y,"display")},htmlBuilder:so,mathmlBuilder:oo}),to({type:"array",names:["CD"],props:{numArgs:0},handler(b){return Nm(b),LV(b.parser)},htmlBuilder:so,mathmlBuilder:oo}),ue("\\nonumber","\\gdef\\@eqnsw{0}"),ue("\\notag","\\nonumber"),Tt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(b,y){throw new ut(b.funcName+" valid only within array environment")}}),OC=IC,Tt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(b,y){var{parser:v,funcName:w}=b,C=y[0];if(C.type!=="ordgroup")throw new ut("Invalid environment name",C);for(var A="",M=0;M<C.body.length;++M)A+=fr(C.body[M],"textord").text;if(w==="\\begin"){if(!OC.hasOwnProperty(A))throw new ut("No such environment: "+A,C);var N=OC[A],{args:O,optArgs:_}=v.parseArguments("\\begin{"+A+"}",N),I={mode:v.mode,envName:A,parser:v},R=N.handler(I,O,_);v.expect("\\end",!1);var P=v.nextToken,D=fr(v.parseFunction(),"environment");if(D.name!==A)throw new ut("Mismatch: \\begin{"+A+"} matched by \\end{"+D.name+"}",P);return R}return{type:"environment",mode:v.mode,name:A,nameGroup:C}}}),PC=l((b,y)=>{var v=b.font,w=y.withFont(v);return Lr(b.body,w)},"htmlBuilder$5"),BC=l((b,y)=>{var v=b.font,w=y.withFont(v);return Zr(b.body,w)},"mathmlBuilder$4"),$C={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"},Tt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=Sm(y[0]),A=w;return A in $C&&(A=$C[A]),{type:"font",mode:v.mode,font:A.slice(1),body:C}},"handler"),htmlBuilder:PC,mathmlBuilder:BC}),Tt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:l((b,y)=>{var{parser:v}=b,w=y[0],C=Wt.isCharacterBox(w);return{type:"mclass",mode:v.mode,mclass:Am(w),body:[{type:"font",mode:v.mode,font:"boldsymbol",body:w}],isCharacterBox:C}},"handler")}),Tt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:l((b,y)=>{var{parser:v,funcName:w,breakOnTokenText:C}=b,{mode:A}=v,M=v.parseExpression(!0,C),N="math"+w.slice(1);return{type:"font",mode:A,font:N,body:{type:"ordgroup",mode:v.mode,body:M}}},"handler"),htmlBuilder:PC,mathmlBuilder:BC}),FC=l((b,y)=>{var v=y;return b==="display"?v=v.id>=Zt.SCRIPT.id?v.text():Zt.DISPLAY:b==="text"&&v.size===Zt.DISPLAY.size?v=Zt.TEXT:b==="script"?v=Zt.SCRIPT:b==="scriptscript"&&(v=Zt.SCRIPTSCRIPT),v},"adjustStyle"),e3=l((b,y)=>{var v=FC(b.size,y.style),w=v.fracNum(),C=v.fracDen(),A;A=y.havingStyle(w);var M=Lr(b.numer,A,y);if(b.continued){var N=8.5/y.fontMetrics().ptPerEm,O=3.5/y.fontMetrics().ptPerEm;M.height=M.height<N?N:M.height,M.depth=M.depth<O?O:M.depth}A=y.havingStyle(C);var _=Lr(b.denom,A,y),I,R,P;b.hasBarLine?(b.barSize?(R=mi(b.barSize,y),I=$e.makeLineSpan("frac-line",y,R)):I=$e.makeLineSpan("frac-line",y),R=I.height,P=I.height):(I=null,R=0,P=y.fontMetrics().defaultRuleThickness);var D,$,F;v.size===Zt.DISPLAY.size||b.size==="display"?(D=y.fontMetrics().num1,R>0?$=3*P:$=7*P,F=y.fontMetrics().denom1):(R>0?(D=y.fontMetrics().num2,$=P):(D=y.fontMetrics().num3,$=3*P),F=y.fontMetrics().denom2);var z;if(I){var U=y.fontMetrics().axisHeight;D-M.depth-(U+.5*R)<$&&(D+=$-(D-M.depth-(U+.5*R))),U-.5*R-(_.height-F)<$&&(F+=$-(U-.5*R-(_.height-F)));var j=-(U-.5*R);z=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:F},{type:"elem",elem:I,shift:j},{type:"elem",elem:M,shift:-D}]},y)}else{var H=D-M.depth-(_.height-F);H<$&&(D+=.5*($-H),F+=.5*($-H)),z=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:_,shift:F},{type:"elem",elem:M,shift:-D}]},y)}A=y.havingStyle(v),z.height*=A.sizeMultiplier/y.sizeMultiplier,z.depth*=A.sizeMultiplier/y.sizeMultiplier;var Q;v.size===Zt.DISPLAY.size?Q=y.fontMetrics().delim1:v.size===Zt.SCRIPTSCRIPT.size?Q=y.havingStyle(Zt.SCRIPT).fontMetrics().delim2:Q=y.fontMetrics().delim2;var re,le;return b.leftDelim==null?re=zp(y,["mopen"]):re=el.customSizedDelim(b.leftDelim,Q,!0,y.havingStyle(v),b.mode,["mopen"]),b.continued?le=$e.makeSpan([]):b.rightDelim==null?le=zp(y,["mclose"]):le=el.customSizedDelim(b.rightDelim,Q,!0,y.havingStyle(v),b.mode,["mclose"]),$e.makeSpan(["mord"].concat(A.sizingClasses(y)),[re,$e.makeSpan(["mfrac"],[z]),le],y)},"htmlBuilder$4"),t3=l((b,y)=>{var v=new nt.MathNode("mfrac",[Zr(b.numer,y),Zr(b.denom,y)]);if(!b.hasBarLine)v.setAttribute("linethickness","0px");else if(b.barSize){var w=mi(b.barSize,y);v.setAttribute("linethickness",mt(w))}var C=FC(b.size,y.style);if(C.size!==y.style.size){v=new nt.MathNode("mstyle",[v]);var A=C.size===Zt.DISPLAY.size?"true":"false";v.setAttribute("displaystyle",A),v.setAttribute("scriptlevel","0")}if(b.leftDelim!=null||b.rightDelim!=null){var M=[];if(b.leftDelim!=null){var N=new nt.MathNode("mo",[new nt.TextNode(b.leftDelim.replace("\\",""))]);N.setAttribute("fence","true"),M.push(N)}if(M.push(v),b.rightDelim!=null){var O=new nt.MathNode("mo",[new nt.TextNode(b.rightDelim.replace("\\",""))]);O.setAttribute("fence","true"),M.push(O)}return G4(M)}return v},"mathmlBuilder$3"),Tt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0],A=y[1],M,N=null,O=null,_="auto";switch(w){case"\\dfrac":case"\\frac":case"\\tfrac":M=!0;break;case"\\\\atopfrac":M=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":M=!1,N="(",O=")";break;case"\\\\bracefrac":M=!1,N="\\{",O="\\}";break;case"\\\\brackfrac":M=!1,N="[",O="]";break;default:throw new Error("Unrecognized genfrac command")}switch(w){case"\\dfrac":case"\\dbinom":_="display";break;case"\\tfrac":case"\\tbinom":_="text";break}return{type:"genfrac",mode:v.mode,continued:!1,numer:C,denom:A,hasBarLine:M,leftDelim:N,rightDelim:O,size:_,barSize:null}},"handler"),htmlBuilder:e3,mathmlBuilder:t3}),Tt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0],A=y[1];return{type:"genfrac",mode:v.mode,continued:!0,numer:C,denom:A,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}},"handler")}),Tt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(b){var{parser:y,funcName:v,token:w}=b,C;switch(v){case"\\over":C="\\frac";break;case"\\choose":C="\\binom";break;case"\\atop":C="\\\\atopfrac";break;case"\\brace":C="\\\\bracefrac";break;case"\\brack":C="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:y.mode,replaceWith:C,token:w}}}),zC=["display","text","script","scriptscript"],GC=l(function(b){var y=null;return b.length>0&&(y=b,y=y==="."?null:y),y},"delimFromValue"),Tt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(b,y){var{parser:v}=b,w=y[4],C=y[5],A=Sm(y[0]),M=A.type==="atom"&&A.family==="open"?GC(A.text):null,N=Sm(y[1]),O=N.type==="atom"&&N.family==="close"?GC(N.text):null,_=fr(y[2],"size"),I,R=null;_.isBlank?I=!0:(R=_.value,I=R.number>0);var P="auto",D=y[3];if(D.type==="ordgroup"){if(D.body.length>0){var $=fr(D.body[0],"textord");P=zC[Number($.text)]}}else D=fr(D,"textord"),P=zC[Number(D.text)];return{type:"genfrac",mode:v.mode,numer:w,denom:C,continued:!1,hasBarLine:I,barSize:R,leftDelim:M,rightDelim:O,size:P}},htmlBuilder:e3,mathmlBuilder:t3}),Tt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(b,y){var{parser:v,funcName:w,token:C}=b;return{type:"infix",mode:v.mode,replaceWith:"\\\\abovefrac",size:fr(y[0],"size").value,token:C}}}),Tt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0],A=BV(fr(y[1],"infix").size),M=y[2],N=A.number>0;return{type:"genfrac",mode:v.mode,numer:C,denom:M,continued:!1,hasBarLine:N,barSize:A,leftDelim:null,rightDelim:null,size:"auto"}},"handler"),htmlBuilder:e3,mathmlBuilder:t3}),UC=l((b,y)=>{var v=y.style,w,C;b.type==="supsub"?(w=b.sup?Lr(b.sup,y.havingStyle(v.sup()),y):Lr(b.sub,y.havingStyle(v.sub()),y),C=fr(b.base,"horizBrace")):C=fr(b,"horizBrace");var A=Lr(C.base,y.havingBaseStyle(Zt.DISPLAY)),M=Jo.svgSpan(C,y),N;if(C.isOver?(N=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:A},{type:"kern",size:.1},{type:"elem",elem:M}]},y),N.children[0].children[0].children[1].classes.push("svg-align")):(N=$e.makeVList({positionType:"bottom",positionData:A.depth+.1+M.height,children:[{type:"elem",elem:M},{type:"kern",size:.1},{type:"elem",elem:A}]},y),N.children[0].children[0].children[0].classes.push("svg-align")),w){var O=$e.makeSpan(["mord",C.isOver?"mover":"munder"],[N],y);C.isOver?N=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:O},{type:"kern",size:.2},{type:"elem",elem:w}]},y):N=$e.makeVList({positionType:"bottom",positionData:O.depth+.2+w.height+w.depth,children:[{type:"elem",elem:w},{type:"kern",size:.2},{type:"elem",elem:O}]},y)}return $e.makeSpan(["mord",C.isOver?"mover":"munder"],[N],y)},"htmlBuilder$3"),tW=l((b,y)=>{var v=Jo.mathMLnode(b.label);return new nt.MathNode(b.isOver?"mover":"munder",[Zr(b.base,y),v])},"mathmlBuilder$2"),Tt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(b,y){var{parser:v,funcName:w}=b;return{type:"horizBrace",mode:v.mode,label:w,isOver:/^\\over/.test(w),base:y[0]}},htmlBuilder:UC,mathmlBuilder:tW}),Tt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b,w=y[1],C=fr(y[0],"url").url;return v.settings.isTrusted({command:"\\href",url:C})?{type:"href",mode:v.mode,href:C,body:Li(w)}:v.formatUnsupportedCmd("\\href")},"handler"),htmlBuilder:l((b,y)=>{var v=Yi(b.body,y,!1);return $e.makeAnchor(b.href,[],v,y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=tc(b.body,y);return v instanceof Ua||(v=new Ua("mrow",[v])),v.setAttribute("href",b.href),v},"mathmlBuilder")}),Tt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b,w=fr(y[0],"url").url;if(!v.settings.isTrusted({command:"\\url",url:w}))return v.formatUnsupportedCmd("\\url");for(var C=[],A=0;A<w.length;A++){var M=w[A];M==="~"&&(M="\\textasciitilde"),C.push({type:"textord",mode:"text",text:M})}var N={type:"text",mode:v.mode,font:"\\texttt",body:C};return{type:"href",mode:v.mode,href:w,body:Li(N)}},"handler")}),Tt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(b,y){var{parser:v}=b;return{type:"hbox",mode:v.mode,body:Li(y[0])}},htmlBuilder(b,y){var v=Yi(b.body,y,!1);return $e.makeFragment(v)},mathmlBuilder(b,y){return new nt.MathNode("mrow",wa(b.body,y))}}),Tt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:l((b,y)=>{var{parser:v,funcName:w,token:C}=b,A=fr(y[0],"raw").string,M=y[1];v.settings.strict&&v.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var N,O={};switch(w){case"\\htmlClass":O.class=A,N={command:"\\htmlClass",class:A};break;case"\\htmlId":O.id=A,N={command:"\\htmlId",id:A};break;case"\\htmlStyle":O.style=A,N={command:"\\htmlStyle",style:A};break;case"\\htmlData":{for(var _=A.split(","),I=0;I<_.length;I++){var R=_[I].split("=");if(R.length!==2)throw new ut("Error parsing key-value for \\htmlData");O["data-"+R[0].trim()]=R[1].trim()}N={command:"\\htmlData",attributes:O};break}default:throw new Error("Unrecognized html command")}return v.settings.isTrusted(N)?{type:"html",mode:v.mode,attributes:O,body:Li(M)}:v.formatUnsupportedCmd(w)},"handler"),htmlBuilder:l((b,y)=>{var v=Yi(b.body,y,!1),w=["enclosing"];b.attributes.class&&w.push(...b.attributes.class.trim().split(/\s+/));var C=$e.makeSpan(w,v,y);for(var A in b.attributes)A!=="class"&&b.attributes.hasOwnProperty(A)&&C.setAttribute(A,b.attributes[A]);return C},"htmlBuilder"),mathmlBuilder:l((b,y)=>tc(b.body,y),"mathmlBuilder")}),Tt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b;return{type:"htmlmathml",mode:v.mode,html:Li(y[0]),mathml:Li(y[1])}},"handler"),htmlBuilder:l((b,y)=>{var v=Yi(b.html,y,!1);return $e.makeFragment(v)},"htmlBuilder"),mathmlBuilder:l((b,y)=>tc(b.mathml,y),"mathmlBuilder")}),r3=l(function(b){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(b))return{number:+b,unit:"bp"};var y=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(b);if(!y)throw new ut("Invalid size: '"+b+"' in \\includegraphics");var v={number:+(y[1]+y[2]),unit:y[3]};if(!ZE(v))throw new ut("Invalid unit: '"+v.unit+"' in \\includegraphics.");return v},"sizeData"),Tt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:l((b,y,v)=>{var{parser:w}=b,C={number:0,unit:"em"},A={number:.9,unit:"em"},M={number:0,unit:"em"},N="";if(v[0])for(var O=fr(v[0],"raw").string,_=O.split(","),I=0;I<_.length;I++){var R=_[I].split("=");if(R.length===2){var P=R[1].trim();switch(R[0].trim()){case"alt":N=P;break;case"width":C=r3(P);break;case"height":A=r3(P);break;case"totalheight":M=r3(P);break;default:throw new ut("Invalid key: '"+R[0]+"' in \\includegraphics.")}}}var D=fr(y[0],"url").url;return N===""&&(N=D,N=N.replace(/^.*[\\/]/,""),N=N.substring(0,N.lastIndexOf("."))),w.settings.isTrusted({command:"\\includegraphics",url:D})?{type:"includegraphics",mode:w.mode,alt:N,width:C,height:A,totalheight:M,src:D}:w.formatUnsupportedCmd("\\includegraphics")},"handler"),htmlBuilder:l((b,y)=>{var v=mi(b.height,y),w=0;b.totalheight.number>0&&(w=mi(b.totalheight,y)-v);var C=0;b.width.number>0&&(C=mi(b.width,y));var A={height:mt(v+w)};C>0&&(A.width=mt(C)),w>0&&(A.verticalAlign=mt(-w));var M=new nY(b.src,b.alt,A);return M.height=v,M.depth=w,M},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=new nt.MathNode("mglyph",[]);v.setAttribute("alt",b.alt);var w=mi(b.height,y),C=0;if(b.totalheight.number>0&&(C=mi(b.totalheight,y)-w,v.setAttribute("valign",mt(-C))),v.setAttribute("height",mt(w+C)),b.width.number>0){var A=mi(b.width,y);v.setAttribute("width",mt(A))}return v.setAttribute("src",b.src),v},"mathmlBuilder")}),Tt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(b,y){var{parser:v,funcName:w}=b,C=fr(y[0],"size");if(v.settings.strict){var A=w[1]==="m",M=C.value.unit==="mu";A?(M||v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+w+" supports only mu units, "+("not "+C.value.unit+" units")),v.mode!=="math"&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+w+" works only in math mode")):M&&v.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+w+" doesn't support mu units")}return{type:"kern",mode:v.mode,dimension:C.value}},htmlBuilder(b,y){return $e.makeGlue(b.dimension,y)},mathmlBuilder(b,y){var v=mi(b.dimension,y);return new nt.SpaceNode(v)}}),Tt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0];return{type:"lap",mode:v.mode,alignment:w.slice(5),body:C}},"handler"),htmlBuilder:l((b,y)=>{var v;b.alignment==="clap"?(v=$e.makeSpan([],[Lr(b.body,y)]),v=$e.makeSpan(["inner"],[v],y)):v=$e.makeSpan(["inner"],[Lr(b.body,y)]);var w=$e.makeSpan(["fix"],[]),C=$e.makeSpan([b.alignment],[v,w],y),A=$e.makeSpan(["strut"]);return A.style.height=mt(C.height+C.depth),C.depth&&(A.style.verticalAlign=mt(-C.depth)),C.children.unshift(A),C=$e.makeSpan(["thinbox"],[C],y),$e.makeSpan(["mord","vbox"],[C],y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=new nt.MathNode("mpadded",[Zr(b.body,y)]);if(b.alignment!=="rlap"){var w=b.alignment==="llap"?"-1":"-0.5";v.setAttribute("lspace",w+"width")}return v.setAttribute("width","0px"),v},"mathmlBuilder")}),Tt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(b,y){var{funcName:v,parser:w}=b,C=w.mode;w.switchMode("math");var A=v==="\\("?"\\)":"$",M=w.parseExpression(!1,A);return w.expect(A),w.switchMode(C),{type:"styling",mode:w.mode,style:"text",body:M}}}),Tt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(b,y){throw new ut("Mismatched "+b.funcName)}}),qC=l((b,y)=>{switch(y.style.size){case Zt.DISPLAY.size:return b.display;case Zt.TEXT.size:return b.text;case Zt.SCRIPT.size:return b.script;case Zt.SCRIPTSCRIPT.size:return b.scriptscript;default:return b.text}},"chooseMathStyle"),Tt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:l((b,y)=>{var{parser:v}=b;return{type:"mathchoice",mode:v.mode,display:Li(y[0]),text:Li(y[1]),script:Li(y[2]),scriptscript:Li(y[3])}},"handler"),htmlBuilder:l((b,y)=>{var v=qC(b,y),w=Yi(v,y,!1);return $e.makeFragment(w)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=qC(b,y);return tc(v,y)},"mathmlBuilder")}),jC=l((b,y,v,w,C,A,M)=>{b=$e.makeSpan([],[b]);var N=v&&Wt.isCharacterBox(v),O,_;if(y){var I=Lr(y,w.havingStyle(C.sup()),w);_={elem:I,kern:Math.max(w.fontMetrics().bigOpSpacing1,w.fontMetrics().bigOpSpacing3-I.depth)}}if(v){var R=Lr(v,w.havingStyle(C.sub()),w);O={elem:R,kern:Math.max(w.fontMetrics().bigOpSpacing2,w.fontMetrics().bigOpSpacing4-R.height)}}var P;if(_&&O){var D=w.fontMetrics().bigOpSpacing5+O.elem.height+O.elem.depth+O.kern+b.depth+M;P=$e.makeVList({positionType:"bottom",positionData:D,children:[{type:"kern",size:w.fontMetrics().bigOpSpacing5},{type:"elem",elem:O.elem,marginLeft:mt(-A)},{type:"kern",size:O.kern},{type:"elem",elem:b},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:mt(A)},{type:"kern",size:w.fontMetrics().bigOpSpacing5}]},w)}else if(O){var $=b.height-M;P=$e.makeVList({positionType:"top",positionData:$,children:[{type:"kern",size:w.fontMetrics().bigOpSpacing5},{type:"elem",elem:O.elem,marginLeft:mt(-A)},{type:"kern",size:O.kern},{type:"elem",elem:b}]},w)}else if(_){var F=b.depth+M;P=$e.makeVList({positionType:"bottom",positionData:F,children:[{type:"elem",elem:b},{type:"kern",size:_.kern},{type:"elem",elem:_.elem,marginLeft:mt(A)},{type:"kern",size:w.fontMetrics().bigOpSpacing5}]},w)}else return b;var z=[P];if(O&&A!==0&&!N){var U=$e.makeSpan(["mspace"],[],w);U.style.marginRight=mt(A),z.unshift(U)}return $e.makeSpan(["mop","op-limits"],z,w)},"assembleSupSub"),HC=["\\smallint"],zh=l((b,y)=>{var v,w,C=!1,A;b.type==="supsub"?(v=b.sup,w=b.sub,A=fr(b.base,"op"),C=!0):A=fr(b,"op");var M=y.style,N=!1;M.size===Zt.DISPLAY.size&&A.symbol&&!Wt.contains(HC,A.name)&&(N=!0);var O;if(A.symbol){var _=N?"Size2-Regular":"Size1-Regular",I="";if((A.name==="\\oiint"||A.name==="\\oiiint")&&(I=A.name.slice(1),A.name=I==="oiint"?"\\iint":"\\iiint"),O=$e.makeSymbol(A.name,_,"math",y,["mop","op-symbol",N?"large-op":"small-op"]),I.length>0){var R=O.italic,P=$e.staticSvg(I+"Size"+(N?"2":"1"),y);O=$e.makeVList({positionType:"individualShift",children:[{type:"elem",elem:O,shift:0},{type:"elem",elem:P,shift:N?.08:0}]},y),A.name="\\"+I,O.classes.unshift("mop"),O.italic=R}}else if(A.body){var D=Yi(A.body,y,!0);D.length===1&&D[0]instanceof ls?(O=D[0],O.classes[0]="mop"):O=$e.makeSpan(["mop"],D,y)}else{for(var $=[],F=1;F<A.name.length;F++)$.push($e.mathsym(A.name[F],A.mode,y));O=$e.makeSpan(["mop"],$,y)}var z=0,U=0;return(O instanceof ls||A.name==="\\oiint"||A.name==="\\oiiint")&&!A.suppressBaseShift&&(z=(O.height-O.depth)/2-y.fontMetrics().axisHeight,U=O.italic),C?jC(O,v,w,y,M,U,z):(z&&(O.style.position="relative",O.style.top=mt(z)),O)},"htmlBuilder$2"),qp=l((b,y)=>{var v;if(b.symbol)v=new Ua("mo",[cs(b.name,b.mode)]),Wt.contains(HC,b.name)&&v.setAttribute("largeop","false");else if(b.body)v=new Ua("mo",wa(b.body,y));else{v=new Ua("mi",[new ao(b.name.slice(1))]);var w=new Ua("mo",[cs("\u2061","text")]);b.parentIsSupSub?v=new Ua("mrow",[v,w]):v=$E([v,w])}return v},"mathmlBuilder$1"),rW={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"},Tt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=w;return C.length===1&&(C=rW[C]),{type:"op",mode:v.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:C}},"handler"),htmlBuilder:zh,mathmlBuilder:qp}),Tt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:l((b,y)=>{var{parser:v}=b,w=y[0];return{type:"op",mode:v.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Li(w)}},"handler"),htmlBuilder:zh,mathmlBuilder:qp}),iW={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"},Tt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(b){var{parser:y,funcName:v}=b;return{type:"op",mode:y.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:zh,mathmlBuilder:qp}),Tt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(b){var{parser:y,funcName:v}=b;return{type:"op",mode:y.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:v}},htmlBuilder:zh,mathmlBuilder:qp}),Tt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(b){var{parser:y,funcName:v}=b,w=v;return w.length===1&&(w=iW[w]),{type:"op",mode:y.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:w}},htmlBuilder:zh,mathmlBuilder:qp}),VC=l((b,y)=>{var v,w,C=!1,A;b.type==="supsub"?(v=b.sup,w=b.sub,A=fr(b.base,"operatorname"),C=!0):A=fr(b,"operatorname");var M;if(A.body.length>0){for(var N=A.body.map(R=>{var P=R.text;return typeof P=="string"?{type:"textord",mode:R.mode,text:P}:R}),O=Yi(N,y.withFont("mathrm"),!0),_=0;_<O.length;_++){var I=O[_];I instanceof ls&&(I.text=I.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}M=$e.makeSpan(["mop"],O,y)}else M=$e.makeSpan(["mop"],[],y);return C?jC(M,v,w,y,y.style,0,0):M},"htmlBuilder$1"),nW=l((b,y)=>{for(var v=wa(b.body,y.withFont("mathrm")),w=!0,C=0;C<v.length;C++){var A=v[C];if(!(A instanceof nt.SpaceNode))if(A instanceof nt.MathNode)switch(A.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var M=A.children[0];A.children.length===1&&M instanceof nt.TextNode?M.text=M.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):w=!1;break}default:w=!1}else w=!1}if(w){var N=v.map(I=>I.toText()).join("");v=[new nt.TextNode(N)]}var O=new nt.MathNode("mi",v);O.setAttribute("mathvariant","normal");var _=new nt.MathNode("mo",[cs("\u2061","text")]);return b.parentIsSupSub?new nt.MathNode("mrow",[O,_]):nt.newDocumentFragment([O,_])},"mathmlBuilder"),Tt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:l((b,y)=>{var{parser:v,funcName:w}=b,C=y[0];return{type:"operatorname",mode:v.mode,body:Li(C),alwaysHandleSupSub:w==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},"handler"),htmlBuilder:VC,mathmlBuilder:nW}),ue("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),mu({type:"ordgroup",htmlBuilder(b,y){return b.semisimple?$e.makeFragment(Yi(b.body,y,!1)):$e.makeSpan(["mord"],Yi(b.body,y,!0),y)},mathmlBuilder(b,y){return tc(b.body,y,!0)}}),Tt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(b,y){var{parser:v}=b,w=y[0];return{type:"overline",mode:v.mode,body:w}},htmlBuilder(b,y){var v=Lr(b.body,y.havingCrampedStyle()),w=$e.makeLineSpan("overline-line",y),C=y.fontMetrics().defaultRuleThickness,A=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v},{type:"kern",size:3*C},{type:"elem",elem:w},{type:"kern",size:C}]},y);return $e.makeSpan(["mord","overline"],[A],y)},mathmlBuilder(b,y){var v=new nt.MathNode("mo",[new nt.TextNode("\u203E")]);v.setAttribute("stretchy","true");var w=new nt.MathNode("mover",[Zr(b.body,y),v]);return w.setAttribute("accent","true"),w}}),Tt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b,w=y[0];return{type:"phantom",mode:v.mode,body:Li(w)}},"handler"),htmlBuilder:l((b,y)=>{var v=Yi(b.body,y.withPhantom(),!1);return $e.makeFragment(v)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=wa(b.body,y);return new nt.MathNode("mphantom",v)},"mathmlBuilder")}),Tt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b,w=y[0];return{type:"hphantom",mode:v.mode,body:w}},"handler"),htmlBuilder:l((b,y)=>{var v=$e.makeSpan([],[Lr(b.body,y.withPhantom())]);if(v.height=0,v.depth=0,v.children)for(var w=0;w<v.children.length;w++)v.children[w].height=0,v.children[w].depth=0;return v=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},y),$e.makeSpan(["mord"],[v],y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=wa(Li(b.body),y),w=new nt.MathNode("mphantom",v),C=new nt.MathNode("mpadded",[w]);return C.setAttribute("height","0px"),C.setAttribute("depth","0px"),C},"mathmlBuilder")}),Tt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:l((b,y)=>{var{parser:v}=b,w=y[0];return{type:"vphantom",mode:v.mode,body:w}},"handler"),htmlBuilder:l((b,y)=>{var v=$e.makeSpan(["inner"],[Lr(b.body,y.withPhantom())]),w=$e.makeSpan(["fix"],[]);return $e.makeSpan(["mord","rlap"],[v,w],y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=wa(Li(b.body),y),w=new nt.MathNode("mphantom",v),C=new nt.MathNode("mpadded",[w]);return C.setAttribute("width","0px"),C},"mathmlBuilder")}),Tt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(b,y){var{parser:v}=b,w=fr(y[0],"size").value,C=y[1];return{type:"raisebox",mode:v.mode,dy:w,body:C}},htmlBuilder(b,y){var v=Lr(b.body,y),w=mi(b.dy,y);return $e.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:v}]},y)},mathmlBuilder(b,y){var v=new nt.MathNode("mpadded",[Zr(b.body,y)]),w=b.dy.number+b.dy.unit;return v.setAttribute("voffset",w),v}}),Tt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(b){var{parser:y}=b;return{type:"internal",mode:y.mode}}}),Tt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(b,y,v){var{parser:w}=b,C=v[0],A=fr(y[0],"size"),M=fr(y[1],"size");return{type:"rule",mode:w.mode,shift:C&&fr(C,"size").value,width:A.value,height:M.value}},htmlBuilder(b,y){var v=$e.makeSpan(["mord","rule"],[],y),w=mi(b.width,y),C=mi(b.height,y),A=b.shift?mi(b.shift,y):0;return v.style.borderRightWidth=mt(w),v.style.borderTopWidth=mt(C),v.style.bottom=mt(A),v.width=w,v.height=C+A,v.depth=-A,v.maxFontSize=C*1.125*y.sizeMultiplier,v},mathmlBuilder(b,y){var v=mi(b.width,y),w=mi(b.height,y),C=b.shift?mi(b.shift,y):0,A=y.color&&y.getColor()||"black",M=new nt.MathNode("mspace");M.setAttribute("mathbackground",A),M.setAttribute("width",mt(v)),M.setAttribute("height",mt(w));var N=new nt.MathNode("mpadded",[M]);return C>=0?N.setAttribute("height",mt(C)):(N.setAttribute("height",mt(C)),N.setAttribute("depth",mt(-C))),N.setAttribute("voffset",mt(C)),N}}),l(jE,"sizingGroup"),YC=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],aW=l((b,y)=>{var v=y.havingSize(b.size);return jE(b.body,v,y)},"htmlBuilder"),Tt({type:"sizing",names:YC,props:{numArgs:0,allowedInText:!0},handler:l((b,y)=>{var{breakOnTokenText:v,funcName:w,parser:C}=b,A=C.parseExpression(!1,v);return{type:"sizing",mode:C.mode,size:YC.indexOf(w)+1,body:A}},"handler"),htmlBuilder:aW,mathmlBuilder:l((b,y)=>{var v=y.havingSize(b.size),w=wa(b.body,v),C=new nt.MathNode("mstyle",w);return C.setAttribute("mathsize",mt(v.sizeMultiplier)),C},"mathmlBuilder")}),Tt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:l((b,y,v)=>{var{parser:w}=b,C=!1,A=!1,M=v[0]&&fr(v[0],"ordgroup");if(M)for(var N="",O=0;O<M.body.length;++O){var _=M.body[O];if(N=_.text,N==="t")C=!0;else if(N==="b")A=!0;else{C=!1,A=!1;break}}else C=!0,A=!0;var I=y[0];return{type:"smash",mode:w.mode,body:I,smashHeight:C,smashDepth:A}},"handler"),htmlBuilder:l((b,y)=>{var v=$e.makeSpan([],[Lr(b.body,y)]);if(!b.smashHeight&&!b.smashDepth)return v;if(b.smashHeight&&(v.height=0,v.children))for(var w=0;w<v.children.length;w++)v.children[w].height=0;if(b.smashDepth&&(v.depth=0,v.children))for(var C=0;C<v.children.length;C++)v.children[C].depth=0;var A=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v}]},y);return $e.makeSpan(["mord"],[A],y)},"htmlBuilder"),mathmlBuilder:l((b,y)=>{var v=new nt.MathNode("mpadded",[Zr(b.body,y)]);return b.smashHeight&&v.setAttribute("height","0px"),b.smashDepth&&v.setAttribute("depth","0px"),v},"mathmlBuilder")}),Tt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(b,y,v){var{parser:w}=b,C=v[0],A=y[0];return{type:"sqrt",mode:w.mode,body:A,index:C}},htmlBuilder(b,y){var v=Lr(b.body,y.havingCrampedStyle());v.height===0&&(v.height=y.fontMetrics().xHeight),v=$e.wrapFragment(v,y);var w=y.fontMetrics(),C=w.defaultRuleThickness,A=C;y.style.id<Zt.TEXT.id&&(A=y.fontMetrics().xHeight);var M=C+A/4,N=v.height+v.depth+M+C,{span:O,ruleWidth:_,advanceWidth:I}=el.sqrtImage(N,y),R=O.height-_;R>v.height+v.depth+M&&(M=(M+R-v.height-v.depth)/2);var P=O.height-v.height-M-_;v.style.paddingLeft=mt(I);var D=$e.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:v,wrapperClasses:["svg-align"]},{type:"kern",size:-(v.height+P)},{type:"elem",elem:O},{type:"kern",size:_}]},y);if(b.index){var $=y.havingStyle(Zt.SCRIPTSCRIPT),F=Lr(b.index,$,y),z=.6*(D.height-D.depth),U=$e.makeVList({positionType:"shift",positionData:-z,children:[{type:"elem",elem:F}]},y),j=$e.makeSpan(["root"],[U]);return $e.makeSpan(["mord","sqrt"],[j,D],y)}else return $e.makeSpan(["mord","sqrt"],[D],y)},mathmlBuilder(b,y){var{body:v,index:w}=b;return w?new nt.MathNode("mroot",[Zr(v,y),Zr(w,y)]):new nt.MathNode("msqrt",[Zr(v,y)])}}),WC={display:Zt.DISPLAY,text:Zt.TEXT,script:Zt.SCRIPT,scriptscript:Zt.SCRIPTSCRIPT},Tt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(b,y){var{breakOnTokenText:v,funcName:w,parser:C}=b,A=C.parseExpression(!0,v),M=w.slice(1,w.length-5);return{type:"styling",mode:C.mode,style:M,body:A}},htmlBuilder(b,y){var v=WC[b.style],w=y.havingStyle(v).withFont("");return jE(b.body,w,y)},mathmlBuilder(b,y){var v=WC[b.style],w=y.havingStyle(v),C=wa(b.body,w),A=new nt.MathNode("mstyle",C),M={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},N=M[b.style];return A.setAttribute("scriptlevel",N[0]),A.setAttribute("displaystyle",N[1]),A}}),sW=l(function(b,y){var v=b.base;if(v)if(v.type==="op"){var w=v.limits&&(y.style.size===Zt.DISPLAY.size||v.alwaysHandleSupSub);return w?zh:null}else if(v.type==="operatorname"){var C=v.alwaysHandleSupSub&&(y.style.size===Zt.DISPLAY.size||v.limits);return C?VC:null}else{if(v.type==="accent")return Wt.isCharacterBox(v.base)?q4:null;if(v.type==="horizBrace"){var A=!b.sub;return A===v.isOver?UC:null}else return null}else return null},"htmlBuilderDelegate"),mu({type:"supsub",htmlBuilder(b,y){var v=sW(b,y);if(v)return v(b,y);var{base:w,sup:C,sub:A}=b,M=Lr(w,y),N,O,_=y.fontMetrics(),I=0,R=0,P=w&&Wt.isCharacterBox(w);if(C){var D=y.havingStyle(y.style.sup());N=Lr(C,D,y),P||(I=M.height-D.fontMetrics().supDrop*D.sizeMultiplier/y.sizeMultiplier)}if(A){var $=y.havingStyle(y.style.sub());O=Lr(A,$,y),P||(R=M.depth+$.fontMetrics().subDrop*$.sizeMultiplier/y.sizeMultiplier)}var F;y.style===Zt.DISPLAY?F=_.sup1:y.style.cramped?F=_.sup3:F=_.sup2;var z=y.sizeMultiplier,U=mt(.5/_.ptPerEm/z),j=null;if(O){var H=b.base&&b.base.type==="op"&&b.base.name&&(b.base.name==="\\oiint"||b.base.name==="\\oiiint");(M instanceof ls||H)&&(j=mt(-M.italic))}var Q;if(N&&O){I=Math.max(I,F,N.depth+.25*_.xHeight),R=Math.max(R,_.sub2);var re=_.defaultRuleThickness,le=4*re;if(I-N.depth-(O.height-R)<le){R=le-(I-N.depth)+O.height;var oe=.8*_.xHeight-(I-N.depth);oe>0&&(I+=oe,R-=oe)}var W=[{type:"elem",elem:O,shift:R,marginRight:U,marginLeft:j},{type:"elem",elem:N,shift:-I,marginRight:U}];Q=$e.makeVList({positionType:"individualShift",children:W},y)}else if(O){R=Math.max(R,_.sub1,O.height-.8*_.xHeight);var J=[{type:"elem",elem:O,marginLeft:j,marginRight:U}];Q=$e.makeVList({positionType:"shift",positionData:R,children:J},y)}else if(N)I=Math.max(I,F,N.depth+.25*_.xHeight),Q=$e.makeVList({positionType:"shift",positionData:-I,children:[{type:"elem",elem:N,marginRight:U}]},y);else throw new Error("supsub must have either sup or sub.");var Y=z4(M,"right")||"mord";return $e.makeSpan([Y],[M,$e.makeSpan(["msupsub"],[Q])],y)},mathmlBuilder(b,y){var v=!1,w,C;b.base&&b.base.type==="horizBrace"&&(C=!!b.sup,C===b.base.isOver&&(v=!0,w=b.base.isOver)),b.base&&(b.base.type==="op"||b.base.type==="operatorname")&&(b.base.parentIsSupSub=!0);var A=[Zr(b.base,y)];b.sub&&A.push(Zr(b.sub,y)),b.sup&&A.push(Zr(b.sup,y));var M;if(v)M=w?"mover":"munder";else if(b.sub)if(b.sup){var N=b.base;N&&N.type==="op"&&N.limits&&y.style===Zt.DISPLAY||N&&N.type==="operatorname"&&N.alwaysHandleSupSub&&(y.style===Zt.DISPLAY||N.limits)?M="munderover":M="msubsup"}else{var O=b.base;O&&O.type==="op"&&O.limits&&(y.style===Zt.DISPLAY||O.alwaysHandleSupSub)||O&&O.type==="operatorname"&&O.alwaysHandleSupSub&&(O.limits||y.style===Zt.DISPLAY)?M="munder":M="msub"}else{var _=b.base;_&&_.type==="op"&&_.limits&&(y.style===Zt.DISPLAY||_.alwaysHandleSupSub)||_&&_.type==="operatorname"&&_.alwaysHandleSupSub&&(_.limits||y.style===Zt.DISPLAY)?M="mover":M="msup"}return new nt.MathNode(M,A)}}),mu({type:"atom",htmlBuilder(b,y){return $e.mathsym(b.text,b.mode,y,["m"+b.family])},mathmlBuilder(b,y){var v=new nt.MathNode("mo",[cs(b.text,b.mode)]);if(b.family==="bin"){var w=U4(b,y);w==="bold-italic"&&v.setAttribute("mathvariant",w)}else b.family==="punct"?v.setAttribute("separator","true"):(b.family==="open"||b.family==="close")&&v.setAttribute("stretchy","false");return v}}),XC={mi:"italic",mn:"normal",mtext:"normal"},mu({type:"mathord",htmlBuilder(b,y){return $e.makeOrd(b,y,"mathord")},mathmlBuilder(b,y){var v=new nt.MathNode("mi",[cs(b.text,b.mode,y)]),w=U4(b,y)||"italic";return w!==XC[v.type]&&v.setAttribute("mathvariant",w),v}}),mu({type:"textord",htmlBuilder(b,y){return $e.makeOrd(b,y,"textord")},mathmlBuilder(b,y){var v=cs(b.text,b.mode,y),w=U4(b,y)||"normal",C;return b.mode==="text"?C=new nt.MathNode("mtext",[v]):/[0-9]/.test(b.text)?C=new nt.MathNode("mn",[v]):b.text==="\\prime"?C=new nt.MathNode("mo",[v]):C=new nt.MathNode("mi",[v]),w!==XC[C.type]&&C.setAttribute("mathvariant",w),C}}),i3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},n3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}},mu({type:"spacing",htmlBuilder(b,y){if(n3.hasOwnProperty(b.text)){var v=n3[b.text].className||"";if(b.mode==="text"){var w=$e.makeOrd(b,y,"textord");return w.classes.push(v),w}else return $e.makeSpan(["mspace",v],[$e.mathsym(b.text,b.mode,y)],y)}else{if(i3.hasOwnProperty(b.text))return $e.makeSpan(["mspace",i3[b.text]],[],y);throw new ut('Unknown type of space "'+b.text+'"')}},mathmlBuilder(b,y){var v;if(n3.hasOwnProperty(b.text))v=new nt.MathNode("mtext",[new nt.TextNode("\xA0")]);else{if(i3.hasOwnProperty(b.text))return new nt.MathNode("mspace");throw new ut('Unknown type of space "'+b.text+'"')}return v}}),KC=l(()=>{var b=new nt.MathNode("mtd",[]);return b.setAttribute("width","50%"),b},"pad"),mu({type:"tag",mathmlBuilder(b,y){var v=new nt.MathNode("mtable",[new nt.MathNode("mtr",[KC(),new nt.MathNode("mtd",[tc(b.body,y)]),KC(),new nt.MathNode("mtd",[tc(b.tag,y)])])]);return v.setAttribute("width","100%"),v}}),ZC={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},QC={"\\textbf":"textbf","\\textmd":"textmd"},oW={"\\textit":"textit","\\textup":"textup"},JC=l((b,y)=>{var v=b.font;if(v){if(ZC[v])return y.withTextFontFamily(ZC[v]);if(QC[v])return y.withTextFontWeight(QC[v]);if(v==="\\emph")return y.fontShape==="textit"?y.withTextFontShape("textup"):y.withTextFontShape("textit")}else return y;return y.withTextFontShape(oW[v])},"optionsWithFont"),Tt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(b,y){var{parser:v,funcName:w}=b,C=y[0];return{type:"text",mode:v.mode,body:Li(C),font:w}},htmlBuilder(b,y){var v=JC(b,y),w=Yi(b.body,v,!0);return $e.makeSpan(["mord","text"],w,v)},mathmlBuilder(b,y){var v=JC(b,y);return tc(b.body,v)}}),Tt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(b,y){var{parser:v}=b;return{type:"underline",mode:v.mode,body:y[0]}},htmlBuilder(b,y){var v=Lr(b.body,y),w=$e.makeLineSpan("underline-line",y),C=y.fontMetrics().defaultRuleThickness,A=$e.makeVList({positionType:"top",positionData:v.height,children:[{type:"kern",size:C},{type:"elem",elem:w},{type:"kern",size:3*C},{type:"elem",elem:v}]},y);return $e.makeSpan(["mord","underline"],[A],y)},mathmlBuilder(b,y){var v=new nt.MathNode("mo",[new nt.TextNode("\u203E")]);v.setAttribute("stretchy","true");var w=new nt.MathNode("munder",[Zr(b.body,y),v]);return w.setAttribute("accentunder","true"),w}}),Tt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(b,y){var{parser:v}=b;return{type:"vcenter",mode:v.mode,body:y[0]}},htmlBuilder(b,y){var v=Lr(b.body,y),w=y.fontMetrics().axisHeight,C=.5*(v.height-w-(v.depth+w));return $e.makeVList({positionType:"shift",positionData:C,children:[{type:"elem",elem:v}]},y)},mathmlBuilder(b,y){return new nt.MathNode("mpadded",[Zr(b.body,y)],["vcenter"])}}),Tt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(b,y,v){throw new ut("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(b,y){for(var v=eS(b),w=[],C=y.havingStyle(y.style.text()),A=0;A<v.length;A++){var M=v[A];M==="~"&&(M="\\textasciitilde"),w.push($e.makeSymbol(M,"Typewriter-Regular",b.mode,C,["mord","texttt"]))}return $e.makeSpan(["mord","text"].concat(C.sizingClasses(y)),$e.tryCombineChars(w),C)},mathmlBuilder(b,y){var v=new nt.TextNode(eS(b)),w=new nt.MathNode("mtext",[v]);return w.setAttribute("mathvariant","monospace"),w}}),eS=l(b=>b.body.replace(/ /g,b.star?"\u2423":"\xA0"),"makeVerb"),rc=hC,tS=`[ \r
	]`,lW="\\\\[a-zA-Z@]+",cW="\\\\[^\uD800-\uDFFF]",uW="("+lW+")"+tS+"*",hW=`\\\\(
|[ \r	]+
?)[ \r	]*`,a3="[\u0300-\u036F]",dW=new RegExp(a3+"+$"),pW="("+tS+"+)|"+(hW+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(a3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(a3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+uW)+("|"+cW+")"),rS=(k=class{constructor(y,v){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=y,this.settings=v,this.tokenRegex=new RegExp(pW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(y,v){this.catcodes[y]=v}lex(){var y=this.input,v=this.tokenRegex.lastIndex;if(v===y.length)return new ro("EOF",new Ns(this,v,v));var w=this.tokenRegex.exec(y);if(w===null||w.index!==v)throw new ut("Unexpected character: '"+y[v]+"'",new ro(y[v],new Ns(this,v,v+1)));var C=w[6]||w[3]||(w[2]?"\\ ":" ");if(this.catcodes[C]===14){var A=y.indexOf(`
`,this.tokenRegex.lastIndex);return A===-1?(this.tokenRegex.lastIndex=y.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=A+1,this.lex()}return new ro(C,new Ns(this,v,this.tokenRegex.lastIndex))}},l(k,"Lexer"),k),gW=(E=class{constructor(y,v){y===void 0&&(y={}),v===void 0&&(v={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=v,this.builtins=y,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ut("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var y=this.undefStack.pop();for(var v in y)y.hasOwnProperty(v)&&(y[v]==null?delete this.current[v]:this.current[v]=y[v])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(y){return this.current.hasOwnProperty(y)||this.builtins.hasOwnProperty(y)}get(y){return this.current.hasOwnProperty(y)?this.current[y]:this.builtins[y]}set(y,v,w){if(w===void 0&&(w=!1),w){for(var C=0;C<this.undefStack.length;C++)delete this.undefStack[C][y];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][y]=v)}else{var A=this.undefStack[this.undefStack.length-1];A&&!A.hasOwnProperty(y)&&(A[y]=this.current[y])}v==null?delete this.current[y]:this.current[y]=v}},l(E,"Namespace"),E),fW=DC,ue("\\noexpand",function(b){var y=b.popToken();return b.isExpandable(y.text)&&(y.noexpand=!0,y.treatAsRelax=!0),{tokens:[y],numArgs:0}}),ue("\\expandafter",function(b){var y=b.popToken();return b.expandOnce(!0),{tokens:[y],numArgs:0}}),ue("\\@firstoftwo",function(b){var y=b.consumeArgs(2);return{tokens:y[0],numArgs:0}}),ue("\\@secondoftwo",function(b){var y=b.consumeArgs(2);return{tokens:y[1],numArgs:0}}),ue("\\@ifnextchar",function(b){var y=b.consumeArgs(3);b.consumeSpaces();var v=b.future();return y[0].length===1&&y[0][0].text===v.text?{tokens:y[1],numArgs:0}:{tokens:y[2],numArgs:0}}),ue("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ue("\\TextOrMath",function(b){var y=b.consumeArgs(2);return b.mode==="text"?{tokens:y[0],numArgs:0}:{tokens:y[1],numArgs:0}}),iS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15},ue("\\char",function(b){var y=b.popToken(),v,w="";if(y.text==="'")v=8,y=b.popToken();else if(y.text==='"')v=16,y=b.popToken();else if(y.text==="`")if(y=b.popToken(),y.text[0]==="\\")w=y.text.charCodeAt(1);else{if(y.text==="EOF")throw new ut("\\char` missing argument");w=y.text.charCodeAt(0)}else v=10;if(v){if(w=iS[y.text],w==null||w>=v)throw new ut("Invalid base-"+v+" digit "+y.text);for(var C;(C=iS[b.future().text])!=null&&C<v;)w*=v,w+=C,b.popToken()}return"\\@char{"+w+"}"}),s3=l((b,y,v,w)=>{var C=b.consumeArg().tokens;if(C.length!==1)throw new ut("\\newcommand's first argument must be a macro name");var A=C[0].text,M=b.isDefined(A);if(M&&!y)throw new ut("\\newcommand{"+A+"} attempting to redefine "+(A+"; use \\renewcommand"));if(!M&&!v)throw new ut("\\renewcommand{"+A+"} when command "+A+" does not yet exist; use \\newcommand");var N=0;if(C=b.consumeArg().tokens,C.length===1&&C[0].text==="["){for(var O="",_=b.expandNextToken();_.text!=="]"&&_.text!=="EOF";)O+=_.text,_=b.expandNextToken();if(!O.match(/^\s*[0-9]+\s*$/))throw new ut("Invalid number of arguments: "+O);N=parseInt(O),C=b.consumeArg().tokens}return M&&w||b.macros.set(A,{tokens:C,numArgs:N}),""},"newcommand"),ue("\\newcommand",b=>s3(b,!1,!0,!1)),ue("\\renewcommand",b=>s3(b,!0,!1,!1)),ue("\\providecommand",b=>s3(b,!0,!0,!0)),ue("\\message",b=>{var y=b.consumeArgs(1)[0];return console.log(y.reverse().map(v=>v.text).join("")),""}),ue("\\errmessage",b=>{var y=b.consumeArgs(1)[0];return console.error(y.reverse().map(v=>v.text).join("")),""}),ue("\\show",b=>{var y=b.popToken(),v=y.text;return console.log(y,b.macros.get(v),rc[v],ei.math[v],ei.text[v]),""}),ue("\\bgroup","{"),ue("\\egroup","}"),ue("~","\\nobreakspace"),ue("\\lq","`"),ue("\\rq","'"),ue("\\aa","\\r a"),ue("\\AA","\\r A"),ue("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),ue("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ue("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),ue("\u212C","\\mathscr{B}"),ue("\u2130","\\mathscr{E}"),ue("\u2131","\\mathscr{F}"),ue("\u210B","\\mathscr{H}"),ue("\u2110","\\mathscr{I}"),ue("\u2112","\\mathscr{L}"),ue("\u2133","\\mathscr{M}"),ue("\u211B","\\mathscr{R}"),ue("\u212D","\\mathfrak{C}"),ue("\u210C","\\mathfrak{H}"),ue("\u2128","\\mathfrak{Z}"),ue("\\Bbbk","\\Bbb{k}"),ue("\xB7","\\cdotp"),ue("\\llap","\\mathllap{\\textrm{#1}}"),ue("\\rlap","\\mathrlap{\\textrm{#1}}"),ue("\\clap","\\mathclap{\\textrm{#1}}"),ue("\\mathstrut","\\vphantom{(}"),ue("\\underbar","\\underline{\\text{#1}}"),ue("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ue("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),ue("\\ne","\\neq"),ue("\u2260","\\neq"),ue("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),ue("\u2209","\\notin"),ue("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),ue("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),ue("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),ue("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),ue("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),ue("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),ue("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),ue("\u27C2","\\perp"),ue("\u203C","\\mathclose{!\\mkern-0.8mu!}"),ue("\u220C","\\notni"),ue("\u231C","\\ulcorner"),ue("\u231D","\\urcorner"),ue("\u231E","\\llcorner"),ue("\u231F","\\lrcorner"),ue("\xA9","\\copyright"),ue("\xAE","\\textregistered"),ue("\uFE0F","\\textregistered"),ue("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ue("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ue("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ue("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ue("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),ue("\u22EE","\\vdots"),ue("\\varGamma","\\mathit{\\Gamma}"),ue("\\varDelta","\\mathit{\\Delta}"),ue("\\varTheta","\\mathit{\\Theta}"),ue("\\varLambda","\\mathit{\\Lambda}"),ue("\\varXi","\\mathit{\\Xi}"),ue("\\varPi","\\mathit{\\Pi}"),ue("\\varSigma","\\mathit{\\Sigma}"),ue("\\varUpsilon","\\mathit{\\Upsilon}"),ue("\\varPhi","\\mathit{\\Phi}"),ue("\\varPsi","\\mathit{\\Psi}"),ue("\\varOmega","\\mathit{\\Omega}"),ue("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ue("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),ue("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ue("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ue("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ue("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),ue("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),ue("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}"),nS={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"},ue("\\dots",function(b){var y="\\dotso",v=b.expandAfterFuture().text;return v in nS?y=nS[v]:(v.slice(0,4)==="\\not"||v in ei.math&&Wt.contains(["bin","rel"],ei.math[v].group))&&(y="\\dotsb"),y}),o3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0},ue("\\dotso",function(b){var y=b.future().text;return y in o3?"\\ldots\\,":"\\ldots"}),ue("\\dotsc",function(b){var y=b.future().text;return y in o3&&y!==","?"\\ldots\\,":"\\ldots"}),ue("\\cdots",function(b){var y=b.future().text;return y in o3?"\\@cdots\\,":"\\@cdots"}),ue("\\dotsb","\\cdots"),ue("\\dotsm","\\cdots"),ue("\\dotsi","\\!\\cdots"),ue("\\dotsx","\\ldots\\,"),ue("\\DOTSI","\\relax"),ue("\\DOTSB","\\relax"),ue("\\DOTSX","\\relax"),ue("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ue("\\,","\\tmspace+{3mu}{.1667em}"),ue("\\thinspace","\\,"),ue("\\>","\\mskip{4mu}"),ue("\\:","\\tmspace+{4mu}{.2222em}"),ue("\\medspace","\\:"),ue("\\;","\\tmspace+{5mu}{.2777em}"),ue("\\thickspace","\\;"),ue("\\!","\\tmspace-{3mu}{.1667em}"),ue("\\negthinspace","\\!"),ue("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ue("\\negthickspace","\\tmspace-{5mu}{.277em}"),ue("\\enspace","\\kern.5em "),ue("\\enskip","\\hskip.5em\\relax"),ue("\\quad","\\hskip1em\\relax"),ue("\\qquad","\\hskip2em\\relax"),ue("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ue("\\tag@paren","\\tag@literal{({#1})}"),ue("\\tag@literal",b=>{if(b.macros.get("\\df@tag"))throw new ut("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ue("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ue("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ue("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ue("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ue("\\newline","\\\\\\relax"),ue("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}"),aS=mt(no["Main-Regular"][84][1]-.7*no["Main-Regular"][65][1]),ue("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+aS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ue("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+aS+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ue("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ue("\\@hspace","\\hskip #1\\relax"),ue("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ue("\\ordinarycolon",":"),ue("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ue("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ue("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ue("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ue("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ue("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ue("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ue("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ue("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ue("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ue("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ue("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ue("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ue("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ue("\u2237","\\dblcolon"),ue("\u2239","\\eqcolon"),ue("\u2254","\\coloneqq"),ue("\u2255","\\eqqcolon"),ue("\u2A74","\\Coloneqq"),ue("\\ratio","\\vcentcolon"),ue("\\coloncolon","\\dblcolon"),ue("\\colonequals","\\coloneqq"),ue("\\coloncolonequals","\\Coloneqq"),ue("\\equalscolon","\\eqqcolon"),ue("\\equalscoloncolon","\\Eqqcolon"),ue("\\colonminus","\\coloneq"),ue("\\coloncolonminus","\\Coloneq"),ue("\\minuscolon","\\eqcolon"),ue("\\minuscoloncolon","\\Eqcolon"),ue("\\coloncolonapprox","\\Colonapprox"),ue("\\coloncolonsim","\\Colonsim"),ue("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ue("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ue("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ue("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ue("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),ue("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ue("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ue("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ue("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ue("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ue("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ue("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ue("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ue("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),ue("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),ue("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),ue("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),ue("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),ue("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),ue("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),ue("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),ue("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),ue("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),ue("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),ue("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),ue("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),ue("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),ue("\\imath","\\html@mathml{\\@imath}{\u0131}"),ue("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),ue("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),ue("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),ue("\u27E6","\\llbracket"),ue("\u27E7","\\rrbracket"),ue("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),ue("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),ue("\u2983","\\lBrace"),ue("\u2984","\\rBrace"),ue("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),ue("\u29B5","\\minuso"),ue("\\darr","\\downarrow"),ue("\\dArr","\\Downarrow"),ue("\\Darr","\\Downarrow"),ue("\\lang","\\langle"),ue("\\rang","\\rangle"),ue("\\uarr","\\uparrow"),ue("\\uArr","\\Uparrow"),ue("\\Uarr","\\Uparrow"),ue("\\N","\\mathbb{N}"),ue("\\R","\\mathbb{R}"),ue("\\Z","\\mathbb{Z}"),ue("\\alef","\\aleph"),ue("\\alefsym","\\aleph"),ue("\\Alpha","\\mathrm{A}"),ue("\\Beta","\\mathrm{B}"),ue("\\bull","\\bullet"),ue("\\Chi","\\mathrm{X}"),ue("\\clubs","\\clubsuit"),ue("\\cnums","\\mathbb{C}"),ue("\\Complex","\\mathbb{C}"),ue("\\Dagger","\\ddagger"),ue("\\diamonds","\\diamondsuit"),ue("\\empty","\\emptyset"),ue("\\Epsilon","\\mathrm{E}"),ue("\\Eta","\\mathrm{H}"),ue("\\exist","\\exists"),ue("\\harr","\\leftrightarrow"),ue("\\hArr","\\Leftrightarrow"),ue("\\Harr","\\Leftrightarrow"),ue("\\hearts","\\heartsuit"),ue("\\image","\\Im"),ue("\\infin","\\infty"),ue("\\Iota","\\mathrm{I}"),ue("\\isin","\\in"),ue("\\Kappa","\\mathrm{K}"),ue("\\larr","\\leftarrow"),ue("\\lArr","\\Leftarrow"),ue("\\Larr","\\Leftarrow"),ue("\\lrarr","\\leftrightarrow"),ue("\\lrArr","\\Leftrightarrow"),ue("\\Lrarr","\\Leftrightarrow"),ue("\\Mu","\\mathrm{M}"),ue("\\natnums","\\mathbb{N}"),ue("\\Nu","\\mathrm{N}"),ue("\\Omicron","\\mathrm{O}"),ue("\\plusmn","\\pm"),ue("\\rarr","\\rightarrow"),ue("\\rArr","\\Rightarrow"),ue("\\Rarr","\\Rightarrow"),ue("\\real","\\Re"),ue("\\reals","\\mathbb{R}"),ue("\\Reals","\\mathbb{R}"),ue("\\Rho","\\mathrm{P}"),ue("\\sdot","\\cdot"),ue("\\sect","\\S"),ue("\\spades","\\spadesuit"),ue("\\sub","\\subset"),ue("\\sube","\\subseteq"),ue("\\supe","\\supseteq"),ue("\\Tau","\\mathrm{T}"),ue("\\thetasym","\\vartheta"),ue("\\weierp","\\wp"),ue("\\Zeta","\\mathrm{Z}"),ue("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ue("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ue("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ue("\\bra","\\mathinner{\\langle{#1}|}"),ue("\\ket","\\mathinner{|{#1}\\rangle}"),ue("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ue("\\Bra","\\left\\langle#1\\right|"),ue("\\Ket","\\left|#1\\right\\rangle"),sS=l(b=>y=>{var v=y.consumeArg().tokens,w=y.consumeArg().tokens,C=y.consumeArg().tokens,A=y.consumeArg().tokens,M=y.macros.get("|"),N=y.macros.get("\\|");y.macros.beginGroup();var O=l(R=>P=>{b&&(P.macros.set("|",M),C.length&&P.macros.set("\\|",N));var D=R;if(!R&&C.length){var $=P.future();$.text==="|"&&(P.popToken(),D=!0)}return{tokens:D?C:w,numArgs:0}},"midMacro");y.macros.set("|",O(!1)),C.length&&y.macros.set("\\|",O(!0));var _=y.consumeArg().tokens,I=y.expandTokens([...A,..._,...v]);return y.macros.endGroup(),{tokens:I.reverse(),numArgs:0}},"braketHelper"),ue("\\bra@ket",sS(!1)),ue("\\bra@set",sS(!0)),ue("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),ue("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),ue("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),ue("\\angln","{\\angl n}"),ue("\\blue","\\textcolor{##6495ed}{#1}"),ue("\\orange","\\textcolor{##ffa500}{#1}"),ue("\\pink","\\textcolor{##ff00af}{#1}"),ue("\\red","\\textcolor{##df0030}{#1}"),ue("\\green","\\textcolor{##28ae7b}{#1}"),ue("\\gray","\\textcolor{gray}{#1}"),ue("\\purple","\\textcolor{##9d38bd}{#1}"),ue("\\blueA","\\textcolor{##ccfaff}{#1}"),ue("\\blueB","\\textcolor{##80f6ff}{#1}"),ue("\\blueC","\\textcolor{##63d9ea}{#1}"),ue("\\blueD","\\textcolor{##11accd}{#1}"),ue("\\blueE","\\textcolor{##0c7f99}{#1}"),ue("\\tealA","\\textcolor{##94fff5}{#1}"),ue("\\tealB","\\textcolor{##26edd5}{#1}"),ue("\\tealC","\\textcolor{##01d1c1}{#1}"),ue("\\tealD","\\textcolor{##01a995}{#1}"),ue("\\tealE","\\textcolor{##208170}{#1}"),ue("\\greenA","\\textcolor{##b6ffb0}{#1}"),ue("\\greenB","\\textcolor{##8af281}{#1}"),ue("\\greenC","\\textcolor{##74cf70}{#1}"),ue("\\greenD","\\textcolor{##1fab54}{#1}"),ue("\\greenE","\\textcolor{##0d923f}{#1}"),ue("\\goldA","\\textcolor{##ffd0a9}{#1}"),ue("\\goldB","\\textcolor{##ffbb71}{#1}"),ue("\\goldC","\\textcolor{##ff9c39}{#1}"),ue("\\goldD","\\textcolor{##e07d10}{#1}"),ue("\\goldE","\\textcolor{##a75a05}{#1}"),ue("\\redA","\\textcolor{##fca9a9}{#1}"),ue("\\redB","\\textcolor{##ff8482}{#1}"),ue("\\redC","\\textcolor{##f9685d}{#1}"),ue("\\redD","\\textcolor{##e84d39}{#1}"),ue("\\redE","\\textcolor{##bc2612}{#1}"),ue("\\maroonA","\\textcolor{##ffbde0}{#1}"),ue("\\maroonB","\\textcolor{##ff92c6}{#1}"),ue("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ue("\\maroonD","\\textcolor{##ca337c}{#1}"),ue("\\maroonE","\\textcolor{##9e034e}{#1}"),ue("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ue("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ue("\\purpleC","\\textcolor{##aa87ff}{#1}"),ue("\\purpleD","\\textcolor{##7854ab}{#1}"),ue("\\purpleE","\\textcolor{##543b78}{#1}"),ue("\\mintA","\\textcolor{##f5f9e8}{#1}"),ue("\\mintB","\\textcolor{##edf2df}{#1}"),ue("\\mintC","\\textcolor{##e0e5cc}{#1}"),ue("\\grayA","\\textcolor{##f6f7f7}{#1}"),ue("\\grayB","\\textcolor{##f0f1f2}{#1}"),ue("\\grayC","\\textcolor{##e3e5e6}{#1}"),ue("\\grayD","\\textcolor{##d6d8da}{#1}"),ue("\\grayE","\\textcolor{##babec2}{#1}"),ue("\\grayF","\\textcolor{##888d93}{#1}"),ue("\\grayG","\\textcolor{##626569}{#1}"),ue("\\grayH","\\textcolor{##3b3e40}{#1}"),ue("\\grayI","\\textcolor{##21242c}{#1}"),ue("\\kaBlue","\\textcolor{##314453}{#1}"),ue("\\kaGreen","\\textcolor{##71B307}{#1}"),oS={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},mW=(S=class{constructor(y,v,w){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=v,this.expansionCount=0,this.feed(y),this.macros=new gW(fW,v.macros),this.mode=w,this.stack=[]}feed(y){this.lexer=new rS(y,this.settings)}switchMode(y){this.mode=y}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(y){this.stack.push(y)}pushTokens(y){this.stack.push(...y)}scanArgument(y){var v,w,C;if(y){if(this.consumeSpaces(),this.future().text!=="[")return null;v=this.popToken(),{tokens:C,end:w}=this.consumeArg(["]"])}else({tokens:C,start:v,end:w}=this.consumeArg());return this.pushToken(new ro("EOF",w.loc)),this.pushTokens(C),v.range(w,"")}consumeSpaces(){for(;;){var y=this.future();if(y.text===" ")this.stack.pop();else break}}consumeArg(y){var v=[],w=y&&y.length>0;w||this.consumeSpaces();var C=this.future(),A,M=0,N=0;do{if(A=this.popToken(),v.push(A),A.text==="{")++M;else if(A.text==="}"){if(--M,M===-1)throw new ut("Extra }",A)}else if(A.text==="EOF")throw new ut("Unexpected end of input in a macro argument, expected '"+(y&&w?y[N]:"}")+"'",A);if(y&&w)if((M===0||M===1&&y[N]==="{")&&A.text===y[N]){if(++N,N===y.length){v.splice(-N,N);break}}else N=0}while(M!==0||w);return C.text==="{"&&v[v.length-1].text==="}"&&(v.pop(),v.shift()),v.reverse(),{tokens:v,start:C,end:A}}consumeArgs(y,v){if(v){if(v.length!==y+1)throw new ut("The length of delimiters doesn't match the number of args!");for(var w=v[0],C=0;C<w.length;C++){var A=this.popToken();if(w[C]!==A.text)throw new ut("Use of the macro doesn't match its definition",A)}}for(var M=[],N=0;N<y;N++)M.push(this.consumeArg(v&&v[N+1]).tokens);return M}countExpansion(y){if(this.expansionCount+=y,this.expansionCount>this.settings.maxExpand)throw new ut("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(y){var v=this.popToken(),w=v.text,C=v.noexpand?null:this._getExpansion(w);if(C==null||y&&C.unexpandable){if(y&&C==null&&w[0]==="\\"&&!this.isDefined(w))throw new ut("Undefined control sequence: "+w);return this.pushToken(v),!1}this.countExpansion(1);var A=C.tokens,M=this.consumeArgs(C.numArgs,C.delimiters);if(C.numArgs){A=A.slice();for(var N=A.length-1;N>=0;--N){var O=A[N];if(O.text==="#"){if(N===0)throw new ut("Incomplete placeholder at end of macro body",O);if(O=A[--N],O.text==="#")A.splice(N+1,1);else if(/^[1-9]$/.test(O.text))A.splice(N,2,...M[+O.text-1]);else throw new ut("Not a valid argument number",O)}}}return this.pushTokens(A),A.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var y=this.stack.pop();return y.treatAsRelax&&(y.text="\\relax"),y}throw new Error}expandMacro(y){return this.macros.has(y)?this.expandTokens([new ro(y)]):void 0}expandTokens(y){var v=[],w=this.stack.length;for(this.pushTokens(y);this.stack.length>w;)if(this.expandOnce(!0)===!1){var C=this.stack.pop();C.treatAsRelax&&(C.noexpand=!1,C.treatAsRelax=!1),v.push(C)}return this.countExpansion(v.length),v}expandMacroAsText(y){var v=this.expandMacro(y);return v&&v.map(w=>w.text).join("")}_getExpansion(y){var v=this.macros.get(y);if(v==null)return v;if(y.length===1){var w=this.lexer.catcodes[y];if(w!=null&&w!==13)return}var C=typeof v=="function"?v(this):v;if(typeof C=="string"){var A=0;if(C.indexOf("#")!==-1)for(var M=C.replace(/##/g,"");M.indexOf("#"+(A+1))!==-1;)++A;for(var N=new rS(C,this.settings),O=[],_=N.lex();_.text!=="EOF";)O.push(_),_=N.lex();O.reverse();var I={tokens:O,numArgs:A};return I}return C}isDefined(y){return this.macros.has(y)||rc.hasOwnProperty(y)||ei.math.hasOwnProperty(y)||ei.text.hasOwnProperty(y)||oS.hasOwnProperty(y)}isExpandable(y){var v=this.macros.get(y);return v!=null?typeof v=="string"||typeof v=="function"||!v.unexpandable:rc.hasOwnProperty(y)&&!rc[y].primitive}},l(S,"MacroExpander"),S),lS=/^[]/,Mm=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),l3={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},cS={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},uS=(L=class{constructor(y,v){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new mW(y,v,this.mode),this.settings=v,this.leftrightDepth=0}expect(y,v){if(v===void 0&&(v=!0),this.fetch().text!==y)throw new ut("Expected '"+y+"', got '"+this.fetch().text+"'",this.fetch());v&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(y){this.mode=y,this.gullet.switchMode(y)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var y=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),y}finally{this.gullet.endGroups()}}subparse(y){var v=this.nextToken;this.consume(),this.gullet.pushToken(new ro("}")),this.gullet.pushTokens(y);var w=this.parseExpression(!1);return this.expect("}"),this.nextToken=v,w}parseExpression(y,v){for(var w=[];;){this.mode==="math"&&this.consumeSpaces();var C=this.fetch();if(L.endOfExpression.indexOf(C.text)!==-1||v&&C.text===v||y&&rc[C.text]&&rc[C.text].infix)break;var A=this.parseAtom(v);if(A){if(A.type==="internal")continue}else break;w.push(A)}return this.mode==="text"&&this.formLigatures(w),this.handleInfixNodes(w)}handleInfixNodes(y){for(var v=-1,w,C=0;C<y.length;C++)if(y[C].type==="infix"){if(v!==-1)throw new ut("only one infix operator per group",y[C].token);v=C,w=y[C].replaceWith}if(v!==-1&&w){var A,M,N=y.slice(0,v),O=y.slice(v+1);N.length===1&&N[0].type==="ordgroup"?A=N[0]:A={type:"ordgroup",mode:this.mode,body:N},O.length===1&&O[0].type==="ordgroup"?M=O[0]:M={type:"ordgroup",mode:this.mode,body:O};var _;return w==="\\\\abovefrac"?_=this.callFunction(w,[A,y[v],M],[]):_=this.callFunction(w,[A,M],[]),[_]}else return y}handleSupSubscript(y){var v=this.fetch(),w=v.text;this.consume(),this.consumeSpaces();var C;do{var A;C=this.parseGroup(y)}while(((A=C)==null?void 0:A.type)==="internal");if(!C)throw new ut("Expected group after '"+w+"'",v);return C}formatUnsupportedCmd(y){for(var v=[],w=0;w<y.length;w++)v.push({type:"textord",mode:"text",text:y[w]});var C={type:"text",mode:this.mode,body:v},A={type:"color",mode:this.mode,color:this.settings.errorColor,body:[C]};return A}parseAtom(y){var v=this.parseGroup("atom",y);if((v==null?void 0:v.type)==="internal"||this.mode==="text")return v;for(var w,C;;){this.consumeSpaces();var A=this.fetch();if(A.text==="\\limits"||A.text==="\\nolimits"){if(v&&v.type==="op"){var M=A.text==="\\limits";v.limits=M,v.alwaysHandleSupSub=!0}else if(v&&v.type==="operatorname")v.alwaysHandleSupSub&&(v.limits=A.text==="\\limits");else throw new ut("Limit controls must follow a math operator",A);this.consume()}else if(A.text==="^"){if(w)throw new ut("Double superscript",A);w=this.handleSupSubscript("superscript")}else if(A.text==="_"){if(C)throw new ut("Double subscript",A);C=this.handleSupSubscript("subscript")}else if(A.text==="'"){if(w)throw new ut("Double superscript",A);var N={type:"textord",mode:this.mode,text:"\\prime"},O=[N];for(this.consume();this.fetch().text==="'";)O.push(N),this.consume();this.fetch().text==="^"&&O.push(this.handleSupSubscript("superscript")),w={type:"ordgroup",mode:this.mode,body:O}}else if(Mm[A.text]){var _=lS.test(A.text),I=[];for(I.push(new ro(Mm[A.text])),this.consume();;){var R=this.fetch().text;if(!Mm[R]||lS.test(R)!==_)break;I.unshift(new ro(Mm[R])),this.consume()}var P=this.subparse(I);_?C={type:"ordgroup",mode:"math",body:P}:w={type:"ordgroup",mode:"math",body:P}}else break}return w||C?{type:"supsub",mode:this.mode,base:v,sup:w,sub:C}:v}parseFunction(y,v){var w=this.fetch(),C=w.text,A=rc[C];if(!A)return null;if(this.consume(),v&&v!=="atom"&&!A.allowedInArgument)throw new ut("Got function '"+C+"' with no arguments"+(v?" as "+v:""),w);if(this.mode==="text"&&!A.allowedInText)throw new ut("Can't use function '"+C+"' in text mode",w);if(this.mode==="math"&&A.allowedInMath===!1)throw new ut("Can't use function '"+C+"' in math mode",w);var{args:M,optArgs:N}=this.parseArguments(C,A);return this.callFunction(C,M,N,w,y)}callFunction(y,v,w,C,A){var M={funcName:y,parser:this,token:C,breakOnTokenText:A},N=rc[y];if(N&&N.handler)return N.handler(M,v,w);throw new ut("No function handler for "+y)}parseArguments(y,v){var w=v.numArgs+v.numOptionalArgs;if(w===0)return{args:[],optArgs:[]};for(var C=[],A=[],M=0;M<w;M++){var N=v.argTypes&&v.argTypes[M],O=M<v.numOptionalArgs;(v.primitive&&N==null||v.type==="sqrt"&&M===1&&A[0]==null)&&(N="primitive");var _=this.parseGroupOfType("argument to '"+y+"'",N,O);if(O)A.push(_);else if(_!=null)C.push(_);else throw new ut("Null argument, please report this as a bug")}return{args:C,optArgs:A}}parseGroupOfType(y,v,w){switch(v){case"color":return this.parseColorGroup(w);case"size":return this.parseSizeGroup(w);case"url":return this.parseUrlGroup(w);case"math":case"text":return this.parseArgumentGroup(w,v);case"hbox":{var C=this.parseArgumentGroup(w,"text");return C!=null?{type:"styling",mode:C.mode,body:[C],style:"text"}:null}case"raw":{var A=this.parseStringGroup("raw",w);return A!=null?{type:"raw",mode:"text",string:A.text}:null}case"primitive":{if(w)throw new ut("A primitive argument cannot be optional");var M=this.parseGroup(y);if(M==null)throw new ut("Expected group as "+y,this.fetch());return M}case"original":case null:case void 0:return this.parseArgumentGroup(w);default:throw new ut("Unknown group type as "+y,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(y,v){var w=this.gullet.scanArgument(v);if(w==null)return null;for(var C="",A;(A=this.fetch()).text!=="EOF";)C+=A.text,this.consume();return this.consume(),w.text=C,w}parseRegexGroup(y,v){for(var w=this.fetch(),C=w,A="",M;(M=this.fetch()).text!=="EOF"&&y.test(A+M.text);)C=M,A+=C.text,this.consume();if(A==="")throw new ut("Invalid "+v+": '"+w.text+"'",w);return w.range(C,A)}parseColorGroup(y){var v=this.parseStringGroup("color",y);if(v==null)return null;var w=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(v.text);if(!w)throw new ut("Invalid color: '"+v.text+"'",v);var C=w[0];return/^[0-9a-f]{6}$/i.test(C)&&(C="#"+C),{type:"color-token",mode:this.mode,color:C}}parseSizeGroup(y){var v,w=!1;if(this.gullet.consumeSpaces(),!y&&this.gullet.future().text!=="{"?v=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):v=this.parseStringGroup("size",y),!v)return null;!y&&v.text.length===0&&(v.text="0pt",w=!0);var C=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(v.text);if(!C)throw new ut("Invalid size: '"+v.text+"'",v);var A={number:+(C[1]+C[2]),unit:C[3]};if(!ZE(A))throw new ut("Invalid unit: '"+A.unit+"'",v);return{type:"size",mode:this.mode,value:A,isBlank:w}}parseUrlGroup(y){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var v=this.parseStringGroup("url",y);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),v==null)return null;var w=v.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:w}}parseArgumentGroup(y,v){var w=this.gullet.scanArgument(y);if(w==null)return null;var C=this.mode;v&&this.switchMode(v),this.gullet.beginGroup();var A=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var M={type:"ordgroup",mode:this.mode,loc:w.loc,body:A};return v&&this.switchMode(C),M}parseGroup(y,v){var w=this.fetch(),C=w.text,A;if(C==="{"||C==="\\begingroup"){this.consume();var M=C==="{"?"}":"\\endgroup";this.gullet.beginGroup();var N=this.parseExpression(!1,M),O=this.fetch();this.expect(M),this.gullet.endGroup(),A={type:"ordgroup",mode:this.mode,loc:Ns.range(w,O),body:N,semisimple:C==="\\begingroup"||void 0}}else if(A=this.parseFunction(v,y)||this.parseSymbol(),A==null&&C[0]==="\\"&&!oS.hasOwnProperty(C)){if(this.settings.throwOnError)throw new ut("Undefined control sequence: "+C,w);A=this.formatUnsupportedCmd(C),this.consume()}return A}formLigatures(y){for(var v=y.length-1,w=0;w<v;++w){var C=y[w],A=C.text;A==="-"&&y[w+1].text==="-"&&(w+1<v&&y[w+2].text==="-"?(y.splice(w,3,{type:"textord",mode:"text",loc:Ns.range(C,y[w+2]),text:"---"}),v-=2):(y.splice(w,2,{type:"textord",mode:"text",loc:Ns.range(C,y[w+1]),text:"--"}),v-=1)),(A==="'"||A==="`")&&y[w+1].text===A&&(y.splice(w,2,{type:"textord",mode:"text",loc:Ns.range(C,y[w+1]),text:A+A}),v-=1)}}parseSymbol(){var y=this.fetch(),v=y.text;if(/^\\verb[^a-zA-Z]/.test(v)){this.consume();var w=v.slice(5),C=w.charAt(0)==="*";if(C&&(w=w.slice(1)),w.length<2||w.charAt(0)!==w.slice(-1))throw new ut(`\\verb assertion failed --
                    please report what input caused this bug`);return w=w.slice(1,-1),{type:"verb",mode:"text",body:w,star:C}}cS.hasOwnProperty(v[0])&&!ei[this.mode][v[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+v[0]+'" used in math mode',y),v=cS[v[0]]+v.slice(1));var A=dW.exec(v);A&&(v=v.substring(0,A.index),v==="i"?v="\u0131":v==="j"&&(v="\u0237"));var M;if(ei[this.mode][v]){this.settings.strict&&this.mode==="math"&&B4.indexOf(v)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+v[0]+'" used in math mode',y);var N=ei[this.mode][v].group,O=Ns.range(y),_;if(sY.hasOwnProperty(N)){var I=N;_={type:"atom",mode:this.mode,family:I,loc:O,text:v}}else _={type:N,mode:this.mode,loc:O,text:v};M=_}else if(v.charCodeAt(0)>=128)this.settings.strict&&(OE(v.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+v[0]+'" used in math mode',y):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+v[0]+'"'+(" ("+v.charCodeAt(0)+")"),y)),M={type:"textord",mode:"text",loc:Ns.range(y),text:v};else return null;if(this.consume(),A)for(var R=0;R<A[0].length;R++){var P=A[0][R];if(!l3[P])throw new ut("Unknown accent ' "+P+"'",y);var D=l3[P][this.mode]||l3[P].text;if(!D)throw new ut("Accent "+P+" unsupported in "+this.mode+" mode",y);M={type:"accent",mode:this.mode,loc:Ns.range(y),label:D,isStretchy:!1,isShifty:!0,base:M}}return M}},l(L,"Parser"),L),uS.endOfExpression=["}","\\endgroup","\\end","\\right","&"],c3=l(function(b,y){if(!(typeof b=="string"||b instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var v=new uS(b,y);delete v.gullet.macros.current["\\df@tag"];var w=v.parse();if(delete v.gullet.macros.current["\\current@color"],delete v.gullet.macros.current["\\color"],v.gullet.macros.get("\\df@tag")){if(!y.displayMode)throw new ut("\\tag works only in display equations");w=[{type:"tag",mode:"text",body:w,tag:v.subparse([new ro("\\df@tag")])}]}return w},"parseTree"),u3=l(function(b,y,v){y.textContent="";var w=Im(b,v).toNode();y.appendChild(w)},"render"),typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),u3=l(function(){throw new ut("KaTeX doesn't work in quirks mode.")},"render")),hS=l(function(b,y){var v=Im(b,y).toMarkup();return v},"renderToString"),dS=l(function(b,y){var v=new _4(y);return c3(b,v)},"generateParseTree"),pS=l(function(b,y,v){if(v.throwOnError||!(b instanceof ut))throw b;var w=$e.makeSpan(["katex-error"],[new ls(y)]);return w.setAttribute("title",b.toString()),w.setAttribute("style","color:"+v.errorColor),w},"renderError"),Im=l(function(b,y){var v=new _4(y);try{var w=c3(b,v);return LY(w,b,v)}catch(C){return pS(C,b,v)}},"renderToDomTree"),gS=l(function(b,y){var v=new _4(y);try{var w=c3(b,v);return NY(w,b,v)}catch(C){return pS(C,b,v)}},"renderToHTMLTree"),fS="0.16.22",mS={Span:Fp,Anchor:I4,SymbolNode:ls,SvgNode:Xo,PathNode:Jl,LineNode:D4},yW={version:fS,render:u3,renderToString:hS,ParseError:ut,SETTINGS_SCHEMA:Pp,__parse:dS,__renderToDomTree:Im,__renderToHTMLTree:gS,__setFontMetrics:PE,__defineSymbol:q,__defineFunction:Tt,__defineMacro:ue,__domTree:mS}});function vW(){let e="data-temp-href-target";Oh.addHook("beforeSanitizeAttributes",t=>{var r;t.tagName==="A"&&t.hasAttribute("target")&&t.setAttribute(e,(r=t.getAttribute("target"))!=null?r:"")}),Oh.addHook("afterSanitizeAttributes",t=>{var r;t.tagName==="A"&&t.hasAttribute(e)&&(t.setAttribute("target",(r=t.getAttribute(e))!=null?r:""),t.removeAttribute(e),t.getAttribute("target")==="_blank"&&t.setAttribute("rel","noopener"))})}var Gh,bW,xW,yS,vS,Er,wW,kW,TW,EW,bS,Dm,Hr,CW,SW,ic,h3,_W,AW,xS,Rm,wi,jp,LW,Hp,at,dr=B(()=>{"use strict";wV(),Gh=/<br\s*\/?>/gi,bW=l(e=>e?bS(e).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),xW=(()=>{let e=!1;return()=>{e||(vW(),e=!0)}})(),l(vW,"setupDompurifyHooks"),yS=l(e=>(xW(),Oh.sanitize(e)),"removeScript"),vS=l((e,t)=>{var r;if(((r=t.flowchart)==null?void 0:r.htmlLabels)!==!1){let i=t.securityLevel;i==="antiscript"||i==="strict"?e=yS(e):i!=="loose"&&(e=bS(e),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=e.replace(/=/g,"&equals;"),e=EW(e))}return e},"sanitizeMore"),Er=l((e,t)=>e&&(t.dompurifyConfig?e=Oh.sanitize(vS(e,t),t.dompurifyConfig).toString():e=Oh.sanitize(vS(e,t),{FORBID_TAGS:["style"]}).toString(),e),"sanitizeText"),wW=l((e,t)=>typeof e=="string"?Er(e,t):e.flat().map(r=>Er(r,t)),"sanitizeTextOrArray"),kW=l(e=>Gh.test(e),"hasBreaks"),TW=l(e=>e.split(Gh),"splitBreaks"),EW=l(e=>e.replace(/#br#/g,"<br/>"),"placeholderToBreak"),bS=l(e=>e.replace(Gh,"#br#"),"breakToPlaceholder"),Dm=l(e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=CSS.escape(t)),t},"getUrl"),Hr=l(e=>!(e===!1||["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),CW=l(function(...e){let t=e.filter(r=>!isNaN(r));return Math.max(...t)},"getMax"),SW=l(function(...e){let t=e.filter(r=>!isNaN(r));return Math.min(...t)},"getMin"),ic=l(function(e){let t=e.split(/(,)/),r=[];for(let i=0;i<t.length;i++){let n=t[i];if(n===","&&i>0&&i+1<t.length){let a=t[i-1],s=t[i+1];_W(a,s)&&(n=a+","+s,i++,r.pop())}r.push(AW(n))}return r.join("")},"parseGenericTypes"),h3=l((e,t)=>Math.max(0,e.split(t).length-1),"countOccurrence"),_W=l((e,t)=>{let r=h3(e,"~"),i=h3(t,"~");return r===1&&i===1},"shouldCombineSets"),AW=l(e=>{let t=h3(e,"~"),r=!1;if(t<=1)return e;t%2!==0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let i=[...e],n=i.indexOf("~"),a=i.lastIndexOf("~");for(;n!==-1&&a!==-1&&n!==a;)i[n]="<",i[a]=">",n=i.indexOf("~"),a=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")},"processSet"),xS=l(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Rm=/\$\$(.*)\$\$/g,wi=l(e=>{var t,r;return((r=(t=e.match(Rm))==null?void 0:t.length)!=null?r:0)>0},"hasKatex"),jp=l((e,t)=>xe(null,null,function*(){var n;let r=document.createElement("div");r.innerHTML=yield Hp(e,t),r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",(n=document.querySelector("body"))==null||n.insertAdjacentElement("beforeend",r);let i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i}),"calculateMathMLDimensions"),LW=l((e,t)=>xe(null,null,function*(){if(!wi(e))return e;if(!(xS()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Rm,"MathML is unsupported in this environment.");{let{default:r}=yield Promise.resolve().then(()=>(PUe(),kV)),i=t.forceLegacyMathML||!xS()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(Gh).map(n=>wi(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Rm,(n,a)=>r.renderToString(a,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}return e.replace(Rm,"Katex is not supported in @mermaid-js/tiny. Please use the full mermaid library.")}),"renderKatexUnsanitized"),Hp=l((e,t)=>xe(null,null,function*(){return Er(yield LW(e,t),t)}),"renderKatexSanitized"),at={getRows:bW,sanitizeText:Er,sanitizeTextOrArray:wW,hasBreaks:kW,splitBreaks:TW,lineBreakRegex:Gh,removeScript:yS,getUrl:Dm,evaluate:Hr,getMax:CW,getMin:SW}}),wS,d3,kS,TS,ES,NW,nc,ac=B(()=>{"use strict";dUe(),bi(),dr(),lt(),wS={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},d3=new Map,kS=new Map,TS=l(e=>{for(let t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ae.debug("Registering icon pack:",t.name),"loader"in t)kS.set(t.name,t.loader);else if("icons"in t)d3.set(t.name,t.icons);else throw ae.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),ES=l((e,t)=>xe(null,null,function*(){let r=Gj(e,!0,t!==void 0);if(!r)throw new Error(`Invalid icon name: ${e}`);let i=r.prefix||t;if(!i)throw new Error(`Icon name must contain a prefix: ${e}`);let n=d3.get(i);if(!n){let s=kS.get(i);if(!s)throw new Error(`Icon set not found: ${r.prefix}`);try{n=hr(dt({},yield s()),{prefix:i}),d3.set(i,n)}catch(o){throw ae.error(o),new Error(`Failed to load icon set: ${r.prefix}`)}}let a=jj(n,r.name);if(!a)throw new Error(`Icon not found: ${e}`);return a}),"getRegisteredIconData"),NW=l(e=>xe(null,null,function*(){try{return yield ES(e),!0}catch(t){return!1}}),"isIconAvailable"),nc=l((e,t,r)=>xe(null,null,function*(){let i;try{i=yield ES(e,t==null?void 0:t.fallbackPrefix)}catch(s){ae.error(s),i=wS}let n=Kj(i,t),a=rH(Qj(n.body),dt(dt({},n.attributes),r));return Er(a,_r())}),"getIconSVG")});function CS(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=Array.from(typeof e=="string"?[e]:e);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var n=i.reduce(function(o,u){var h=u.match(/\n([\t ]+|(?!\s).)/g);return h?o.concat(h.map(function(d){var p,g;return(g=(p=d.match(/[\t ]/g))===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0})):o},[]);if(n.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");i=i.map(function(o){return o.replace(a,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];return t.forEach(function(o,u){var h=s.match(/(?:^|\n)( *)$/),d=h?h[1]:"",p=o;typeof o=="string"&&o.includes(`
`)&&(p=String(o).split(`
`).map(function(g,f){return f===0?g:""+d+g}).join(`
`)),s+=p+i[u+1]}),s}var MW=B(()=>{"use strict";l(CS,"dedent")}),SS,Vp,IW,_S=B(()=>{"use strict";SS=new RegExp("^-{3}\\s*[\\n\\r](.*?)[\\n\\r]-{3}\\s*[\\n\\r]+","s"),Vp=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,IW=/\s*%%.*\n/gm}),AS,DW=B(()=>{"use strict";var e;AS=(e=class extends Error{constructor(r){super(r),this.name="UnknownDiagramError"}},l(e,"UnknownDiagramError"),e)}),bu,p3,g3,LS,RW,Yp=B(()=>{"use strict";lt(),_S(),DW(),bu={},p3=l(function(e,t){e=e.replace(SS,"").replace(Vp,"").replace(IW,`
`);for(let[r,{detector:i}]of Object.entries(bu))if(i(e,t))return r;throw new AS(`No diagram type detected matching given configuration for text: ${e}`)},"detectType"),g3=l((...e)=>{for(let{id:t,detector:r,loader:i}of e)LS(t,r,i)},"registerLazyLoadedDiagrams"),LS=l((e,t,r)=>{bu[e]&&ae.warn(`Detector with key ${e} already exists. Overwriting.`),bu[e]={detector:t,loader:r},ae.debug(`Detector with key ${e} added${r?" with loader":""}`)},"addDetector"),RW=l(e=>bu[e].loader,"getDiagramLoader")}),Om,OW,PW=B(()=>{"use strict";Om=(function(){var e=l(function(qe,_e,De,ve){for(De=De||{},ve=qe.length;ve--;De[qe[ve]]=_e);return De},"o"),t=[1,24],r=[1,25],i=[1,26],n=[1,27],a=[1,28],s=[1,63],o=[1,64],u=[1,65],h=[1,66],d=[1,67],p=[1,68],g=[1,69],f=[1,29],m=[1,30],x=[1,31],T=[1,32],k=[1,33],E=[1,34],S=[1,35],L=[1,36],b=[1,37],y=[1,38],v=[1,39],w=[1,40],C=[1,41],A=[1,42],M=[1,43],N=[1,44],O=[1,45],_=[1,46],I=[1,47],R=[1,48],P=[1,50],D=[1,51],$=[1,52],F=[1,53],z=[1,54],U=[1,55],j=[1,56],H=[1,57],Q=[1,58],re=[1,59],le=[1,60],oe=[14,42],W=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],J=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Y=[1,82],X=[1,83],te=[1,84],ce=[1,85],K=[12,14,42],me=[12,14,33,42],Z=[12,14,33,42,76,77,79,80],Ae=[12,33],he=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Ne={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:l(function(qe,_e,De,ve,Be,de,Ve){var ee=de.length-1;switch(Be){case 3:ve.setDirection("TB");break;case 4:ve.setDirection("BT");break;case 5:ve.setDirection("RL");break;case 6:ve.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:ve.setC4Type(de[ee-3]);break;case 19:ve.setTitle(de[ee].substring(6)),this.$=de[ee].substring(6);break;case 20:ve.setAccDescription(de[ee].substring(15)),this.$=de[ee].substring(15);break;case 21:this.$=de[ee].trim(),ve.setTitle(this.$);break;case 22:case 23:this.$=de[ee].trim(),ve.setAccDescription(this.$);break;case 28:de[ee].splice(2,0,"ENTERPRISE"),ve.addPersonOrSystemBoundary(...de[ee]),this.$=de[ee];break;case 29:de[ee].splice(2,0,"SYSTEM"),ve.addPersonOrSystemBoundary(...de[ee]),this.$=de[ee];break;case 30:ve.addPersonOrSystemBoundary(...de[ee]),this.$=de[ee];break;case 31:de[ee].splice(2,0,"CONTAINER"),ve.addContainerBoundary(...de[ee]),this.$=de[ee];break;case 32:ve.addDeploymentNode("node",...de[ee]),this.$=de[ee];break;case 33:ve.addDeploymentNode("nodeL",...de[ee]),this.$=de[ee];break;case 34:ve.addDeploymentNode("nodeR",...de[ee]),this.$=de[ee];break;case 35:ve.popBoundaryParseStack();break;case 39:ve.addPersonOrSystem("person",...de[ee]),this.$=de[ee];break;case 40:ve.addPersonOrSystem("external_person",...de[ee]),this.$=de[ee];break;case 41:ve.addPersonOrSystem("system",...de[ee]),this.$=de[ee];break;case 42:ve.addPersonOrSystem("system_db",...de[ee]),this.$=de[ee];break;case 43:ve.addPersonOrSystem("system_queue",...de[ee]),this.$=de[ee];break;case 44:ve.addPersonOrSystem("external_system",...de[ee]),this.$=de[ee];break;case 45:ve.addPersonOrSystem("external_system_db",...de[ee]),this.$=de[ee];break;case 46:ve.addPersonOrSystem("external_system_queue",...de[ee]),this.$=de[ee];break;case 47:ve.addContainer("container",...de[ee]),this.$=de[ee];break;case 48:ve.addContainer("container_db",...de[ee]),this.$=de[ee];break;case 49:ve.addContainer("container_queue",...de[ee]),this.$=de[ee];break;case 50:ve.addContainer("external_container",...de[ee]),this.$=de[ee];break;case 51:ve.addContainer("external_container_db",...de[ee]),this.$=de[ee];break;case 52:ve.addContainer("external_container_queue",...de[ee]),this.$=de[ee];break;case 53:ve.addComponent("component",...de[ee]),this.$=de[ee];break;case 54:ve.addComponent("component_db",...de[ee]),this.$=de[ee];break;case 55:ve.addComponent("component_queue",...de[ee]),this.$=de[ee];break;case 56:ve.addComponent("external_component",...de[ee]),this.$=de[ee];break;case 57:ve.addComponent("external_component_db",...de[ee]),this.$=de[ee];break;case 58:ve.addComponent("external_component_queue",...de[ee]),this.$=de[ee];break;case 60:ve.addRel("rel",...de[ee]),this.$=de[ee];break;case 61:ve.addRel("birel",...de[ee]),this.$=de[ee];break;case 62:ve.addRel("rel_u",...de[ee]),this.$=de[ee];break;case 63:ve.addRel("rel_d",...de[ee]),this.$=de[ee];break;case 64:ve.addRel("rel_l",...de[ee]),this.$=de[ee];break;case 65:ve.addRel("rel_r",...de[ee]),this.$=de[ee];break;case 66:ve.addRel("rel_b",...de[ee]),this.$=de[ee];break;case 67:de[ee].splice(0,1),ve.addRel("rel",...de[ee]),this.$=de[ee];break;case 68:ve.updateElStyle("update_el_style",...de[ee]),this.$=de[ee];break;case 69:ve.updateRelStyle("update_rel_style",...de[ee]),this.$=de[ee];break;case 70:ve.updateLayoutConfig("update_layout_config",...de[ee]),this.$=de[ee];break;case 71:this.$=[de[ee]];break;case 72:de[ee].unshift(de[ee-1]),this.$=de[ee];break;case 73:case 75:this.$=de[ee].trim();break;case 74:let Ie={};Ie[de[ee-1].trim()]=de[ee].trim(),this.$=Ie;break;case 76:this.$="";break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{13:70,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{13:71,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{13:72,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{13:73,19:20,20:21,21:22,22:t,23:r,24:i,26:n,28:a,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{14:[1,74]},e(oe,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:o,37:u,38:h,39:d,40:p,41:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le}),e(oe,[2,14]),e(W,[2,16],{12:[1,76]}),e(oe,[2,36],{12:[1,77]}),e(J,[2,19]),e(J,[2,20]),{25:[1,78]},{27:[1,79]},e(J,[2,23]),{35:80,75:81,76:Y,77:X,79:te,80:ce},{35:86,75:81,76:Y,77:X,79:te,80:ce},{35:87,75:81,76:Y,77:X,79:te,80:ce},{35:88,75:81,76:Y,77:X,79:te,80:ce},{35:89,75:81,76:Y,77:X,79:te,80:ce},{35:90,75:81,76:Y,77:X,79:te,80:ce},{35:91,75:81,76:Y,77:X,79:te,80:ce},{35:92,75:81,76:Y,77:X,79:te,80:ce},{35:93,75:81,76:Y,77:X,79:te,80:ce},{35:94,75:81,76:Y,77:X,79:te,80:ce},{35:95,75:81,76:Y,77:X,79:te,80:ce},{35:96,75:81,76:Y,77:X,79:te,80:ce},{35:97,75:81,76:Y,77:X,79:te,80:ce},{35:98,75:81,76:Y,77:X,79:te,80:ce},{35:99,75:81,76:Y,77:X,79:te,80:ce},{35:100,75:81,76:Y,77:X,79:te,80:ce},{35:101,75:81,76:Y,77:X,79:te,80:ce},{35:102,75:81,76:Y,77:X,79:te,80:ce},{35:103,75:81,76:Y,77:X,79:te,80:ce},{35:104,75:81,76:Y,77:X,79:te,80:ce},e(K,[2,59]),{35:105,75:81,76:Y,77:X,79:te,80:ce},{35:106,75:81,76:Y,77:X,79:te,80:ce},{35:107,75:81,76:Y,77:X,79:te,80:ce},{35:108,75:81,76:Y,77:X,79:te,80:ce},{35:109,75:81,76:Y,77:X,79:te,80:ce},{35:110,75:81,76:Y,77:X,79:te,80:ce},{35:111,75:81,76:Y,77:X,79:te,80:ce},{35:112,75:81,76:Y,77:X,79:te,80:ce},{35:113,75:81,76:Y,77:X,79:te,80:ce},{35:114,75:81,76:Y,77:X,79:te,80:ce},{35:115,75:81,76:Y,77:X,79:te,80:ce},{20:116,29:49,30:61,32:62,34:s,36:o,37:u,38:h,39:d,40:p,41:g,43:23,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le},{12:[1,118],33:[1,117]},{35:119,75:81,76:Y,77:X,79:te,80:ce},{35:120,75:81,76:Y,77:X,79:te,80:ce},{35:121,75:81,76:Y,77:X,79:te,80:ce},{35:122,75:81,76:Y,77:X,79:te,80:ce},{35:123,75:81,76:Y,77:X,79:te,80:ce},{35:124,75:81,76:Y,77:X,79:te,80:ce},{35:125,75:81,76:Y,77:X,79:te,80:ce},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(oe,[2,15]),e(W,[2,17],{21:22,19:130,22:t,23:r,24:i,26:n,28:a}),e(oe,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:i,26:n,28:a,34:s,36:o,37:u,38:h,39:d,40:p,41:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S,51:L,52:b,53:y,54:v,55:w,56:C,57:A,58:M,59:N,60:O,61:_,62:I,63:R,64:P,65:D,66:$,67:F,68:z,69:U,70:j,71:H,72:Q,73:re,74:le}),e(J,[2,21]),e(J,[2,22]),e(K,[2,39]),e(me,[2,71],{75:81,35:132,76:Y,77:X,79:te,80:ce}),e(Z,[2,73]),{78:[1,133]},e(Z,[2,75]),e(Z,[2,76]),e(K,[2,40]),e(K,[2,41]),e(K,[2,42]),e(K,[2,43]),e(K,[2,44]),e(K,[2,45]),e(K,[2,46]),e(K,[2,47]),e(K,[2,48]),e(K,[2,49]),e(K,[2,50]),e(K,[2,51]),e(K,[2,52]),e(K,[2,53]),e(K,[2,54]),e(K,[2,55]),e(K,[2,56]),e(K,[2,57]),e(K,[2,58]),e(K,[2,60]),e(K,[2,61]),e(K,[2,62]),e(K,[2,63]),e(K,[2,64]),e(K,[2,65]),e(K,[2,66]),e(K,[2,67]),e(K,[2,68]),e(K,[2,69]),e(K,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(Ae,[2,28]),e(Ae,[2,29]),e(Ae,[2,30]),e(Ae,[2,31]),e(Ae,[2,32]),e(Ae,[2,33]),e(Ae,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(W,[2,18]),e(oe,[2,38]),e(me,[2,72]),e(Z,[2,74]),e(K,[2,24]),e(K,[2,35]),e(he,[2,25]),e(he,[2,26],{12:[1,138]}),e(he,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:l(function(qe,_e){if(_e.recoverable)this.trace(qe);else{var De=new Error(qe);throw De.hash=_e,De}},"parseError"),parse:l(function(qe){var _e=this,De=[0],ve=[],Be=[null],de=[],Ve=this.table,ee="",Ie=0,G=0,ie=0,se=2,pe=1,fe=de.slice.call(arguments,1),be=Object.create(this.lexer),Se={yy:{}};for(var Te in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Te)&&(Se.yy[Te]=this.yy[Te]);be.setInput(qe,Se.yy),Se.yy.lexer=be,Se.yy.parser=this,typeof be.yylloc>"u"&&(be.yylloc={});var Ge=be.yylloc;de.push(Ge);var Ye=be.options&&be.options.ranges;typeof Se.yy.parseError=="function"?this.parseError=Se.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function st(Qe){De.length=De.length-2*Qe,Be.length=Be.length-Qe,de.length=de.length-Qe}l(st,"popStack");function ze(){var Qe;return Qe=ve.pop()||be.lex()||pe,typeof Qe!="number"&&(Qe instanceof Array&&(ve=Qe,Qe=ve.pop()),Qe=_e.symbols_[Qe]||Qe),Qe}l(ze,"lex");for(var We,je,Ue,Ke,Et,ht,ct={},St,rt,gt,yt;;){if(Ue=De[De.length-1],this.defaultActions[Ue]?Ke=this.defaultActions[Ue]:((We===null||typeof We>"u")&&(We=ze()),Ke=Ve[Ue]&&Ve[Ue][We]),typeof Ke>"u"||!Ke.length||!Ke[0]){var Je="";yt=[];for(St in Ve[Ue])this.terminals_[St]&&St>se&&yt.push("'"+this.terminals_[St]+"'");be.showPosition?Je="Parse error on line "+(Ie+1)+`:
`+be.showPosition()+`
Expecting `+yt.join(", ")+", got '"+(this.terminals_[We]||We)+"'":Je="Parse error on line "+(Ie+1)+": Unexpected "+(We==pe?"end of input":"'"+(this.terminals_[We]||We)+"'"),this.parseError(Je,{text:be.match,token:this.terminals_[We]||We,line:be.yylineno,loc:Ge,expected:yt})}if(Ke[0]instanceof Array&&Ke.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ue+", token: "+We);switch(Ke[0]){case 1:De.push(We),Be.push(be.yytext),de.push(be.yylloc),De.push(Ke[1]),We=null,je?(We=je,je=null):(G=be.yyleng,ee=be.yytext,Ie=be.yylineno,Ge=be.yylloc,ie>0&&ie--);break;case 2:if(rt=this.productions_[Ke[1]][1],ct.$=Be[Be.length-rt],ct._$={first_line:de[de.length-(rt||1)].first_line,last_line:de[de.length-1].last_line,first_column:de[de.length-(rt||1)].first_column,last_column:de[de.length-1].last_column},Ye&&(ct._$.range=[de[de.length-(rt||1)].range[0],de[de.length-1].range[1]]),ht=this.performAction.apply(ct,[ee,G,Ie,Se.yy,Ke[1],Be,de].concat(fe)),typeof ht<"u")return ht;rt&&(De=De.slice(0,-1*rt*2),Be=Be.slice(0,-1*rt),de=de.slice(0,-1*rt)),De.push(this.productions_[Ke[1]][0]),Be.push(ct.$),de.push(ct._$),gt=Ve[De[De.length-2]][De[De.length-1]],De.push(gt);break;case 3:return!0}}return!0},"parse")},Pe=(function(){var qe={EOF:1,parseError:l(function(_e,De){if(this.yy.parser)this.yy.parser.parseError(_e,De);else throw new Error(_e)},"parseError"),setInput:l(function(_e,De){return this.yy=De||this.yy||{},this._input=_e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var _e=this._input[0];this.yytext+=_e,this.yyleng++,this.offset++,this.match+=_e,this.matched+=_e;var De=_e.match(/(?:\r\n?|\n).*/g);return De?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_e},"input"),unput:l(function(_e){var De=_e.length,ve=_e.split(/(?:\r\n?|\n)/g);this._input=_e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-De),this.offset-=De;var Be=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ve.length-1&&(this.yylineno-=ve.length-1);var de=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ve?(ve.length===Be.length?this.yylloc.first_column:0)+Be[Be.length-ve.length].length-ve[0].length:this.yylloc.first_column-De},this.options.ranges&&(this.yylloc.range=[de[0],de[0]+this.yyleng-De]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(_e){this.unput(this.match.slice(_e))},"less"),pastInput:l(function(){var _e=this.matched.substr(0,this.matched.length-this.match.length);return(_e.length>20?"...":"")+_e.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var _e=this.match;return _e.length<20&&(_e+=this._input.substr(0,20-_e.length)),(_e.substr(0,20)+(_e.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var _e=this.pastInput(),De=new Array(_e.length+1).join("-");return _e+this.upcomingInput()+`
`+De+"^"},"showPosition"),test_match:l(function(_e,De){var ve,Be,de;if(this.options.backtrack_lexer&&(de={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(de.yylloc.range=this.yylloc.range.slice(0))),Be=_e[0].match(/(?:\r\n?|\n).*/g),Be&&(this.yylineno+=Be.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Be?Be[Be.length-1].length-Be[Be.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_e[0].length},this.yytext+=_e[0],this.match+=_e[0],this.matches=_e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_e[0].length),this.matched+=_e[0],ve=this.performAction.call(this,this.yy,this,De,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ve)return ve;if(this._backtrack){for(var Ve in de)this[Ve]=de[Ve];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _e,De,ve,Be;this._more||(this.yytext="",this.match="");for(var de=this._currentRules(),Ve=0;Ve<de.length;Ve++)if(ve=this._input.match(this.rules[de[Ve]]),ve&&(!De||ve[0].length>De[0].length)){if(De=ve,Be=Ve,this.options.backtrack_lexer){if(_e=this.test_match(ve,de[Ve]),_e!==!1)return _e;if(this._backtrack){De=!1;continue}else return!1}else if(!this.options.flex)break}return De?(_e=this.test_match(De,de[Be]),_e!==!1?_e:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var _e=this.next();return _e||this.lex()},"lex"),begin:l(function(_e){this.conditionStack.push(_e)},"begin"),popState:l(function(){var _e=this.conditionStack.length-1;return _e>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(_e){return _e=this.conditionStack.length-1-Math.abs(_e||0),_e>=0?this.conditionStack[_e]:"INITIAL"},"topState"),pushState:l(function(_e){this.begin(_e)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(_e,De,ve,Be){var de=Be;switch(ve){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:break;case 14:c;break;case 15:return 12;case 16:break;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:return this.begin("node"),39;case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:return this.begin("rel_u"),66;case 53:return this.begin("rel_u"),66;case 54:return this.begin("rel_d"),67;case 55:return this.begin("rel_d"),67;case 56:return this.begin("rel_l"),68;case 57:return this.begin("rel_l"),68;case 58:return this.begin("rel_r"),69;case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:this.popState(),this.popState();break;case 69:return 80;case 70:break;case 71:return 80;case 72:this.begin("string");break;case 73:this.popState();break;case 74:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 79:this.popState(),this.popState();break;case 80:return"STR";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}};return qe})();Ne.lexer=Pe;function He(){this.yy={}}return l(He,"Parser"),He.prototype=Ne,Ne.Parser=He,new He})(),Om.parser=Om,OW=Om}),BW,$W,ta,Wp,pn=B(()=>{"use strict";lt(),BW=l(function(e,t){for(let r of t)e.attr(r[0],r[1])},"d3Attrs"),$W=l(function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i},"calculateSvgSizeAttrs"),ta=l(function(e,t,r,i){let n=$W(t,r,i);BW(e,n)},"configureSvgSize"),Wp=l(function(e,t,r,i){let n=t.node().getBBox(),a=n.width,s=n.height;ae.info(`SVG bounds: ${a}x${s}`,n);let o=0,u=0;ae.info(`Graph bounds: ${o}x${u}`,e),o=a+r*2,u=s+r*2,ae.info(`Calculated bounds: ${o}x${u}`),ta(t,u,o,i);let h=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",h)},"setupGraphViewbox")}),Pm,FW,zW,GW,UW=B(()=>{"use strict";lt(),Pm={},FW=l((e,t,r)=>{let i="";return e in Pm&&Pm[e]?i=Pm[e](r):ae.warn(`No theme found for ${e}`),` & {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
    fill: ${r.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${r.errorBkgColor};
  }
  & .error-text {
    fill: ${r.errorTextColor};
    stroke: ${r.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${r.lineColor};
    stroke: ${r.lineColor};
  }
  & .marker.cross {
    stroke: ${r.lineColor};
  }

  & svg {
    font-family: ${r.fontFamily};
    font-size: ${r.fontSize};
  }
   & p {
    margin: 0
   }

  ${i}

  ${t}
`},"getStyles"),zW=l((e,t)=>{t!==void 0&&(Pm[e]=t)},"addStylesForDiagram"),GW=FW}),NS={};nr(NS,{clear:()=>Pi,getAccDescription:()=>Ki,getAccTitle:()=>Wi,getDiagramTitle:()=>$i,setAccDescription:()=>Xi,setAccTitle:()=>Bi,setDiagramTitle:()=>gn});var f3,m3,y3,v3,Pi,Bi,Wi,Xi,Ki,gn,$i,Fi=B(()=>{"use strict";dr(),bi(),f3="",m3="",y3="",v3=l(e=>Er(e,_r()),"sanitizeText"),Pi=l(()=>{f3="",y3="",m3=""},"clear"),Bi=l(e=>{f3=v3(e).replace(/^\s+/g,"")},"setAccTitle"),Wi=l(()=>f3,"getAccTitle"),Xi=l(e=>{y3=v3(e).replace(/\n\s+/g,`
`)},"setAccDescription"),Ki=l(()=>y3,"getAccDescription"),gn=l(e=>{m3=v3(e)},"setDiagramTitle"),$i=l(()=>m3,"getDiagramTitle")}),MS,qW,Ce,b3,IS,x3,DS,jW,Bm,$m,w3,HW,qt=B(()=>{"use strict";var e;Yp(),lt(),bi(),dr(),pn(),UW(),Fi(),MS=ae,qW=o4,Ce=_r,b3=yE,IS=Rh,x3=l(t=>Er(t,Ce()),"sanitizeText"),DS=Wp,jW=l(()=>NS,"getCommonDb"),Bm={},$m=l((t,r,i)=>{var n;Bm[t]&&MS.warn(`Diagram with id ${t} already registered. Overwriting.`),Bm[t]=r,i&&LS(t,i),zW(t,r.styles),(n=r.injectUtils)==null||n.call(r,MS,qW,Ce,x3,DS,jW(),()=>{})},"registerDiagram"),w3=l(t=>{if(t in Bm)return Bm[t];throw new HW(t)},"getDiagram"),HW=(e=class extends Error{constructor(r){super(`Diagram ${r} not found.`)}},l(e,"DiagramNotFoundError"),e)}),Is,sc,ra,Ds,lo,Xp,k3,T3,Fm,zm,VW,YW,WW,XW,KW,ZW,QW,JW,eX,tX,rX,iX,nX,aX,sX,oX,lX,cX,RS,uX,hX,OS,dX,pX,gX,fX,oc,mX,yX,vX,bX,xX,E3,wX=B(()=>{"use strict";qt(),dr(),Fi(),Is=[],sc=[""],ra="global",Ds="",lo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Xp=[],k3="",T3=!1,Fm=4,zm=2,YW=l(function(){return VW},"getC4Type"),WW=l(function(e){VW=Er(e,Ce())},"setC4Type"),XW=l(function(e,t,r,i,n,a,s,o,u){if(e==null||t===void 0||t===null||r===void 0||r===null||i===void 0||i===null)return;let h={},d=Xp.find(p=>p.from===t&&p.to===r);if(d?h=d:Xp.push(h),h.type=e,h.from=t,h.to=r,h.label={text:i},n==null)h.techn={text:""};else if(typeof n=="object"){let[p,g]=Object.entries(n)[0];h[p]={text:g}}else h.techn={text:n};if(a==null)h.descr={text:""};else if(typeof a=="object"){let[p,g]=Object.entries(a)[0];h[p]={text:g}}else h.descr={text:a};if(typeof s=="object"){let[p,g]=Object.entries(s)[0];h[p]=g}else h.sprite=s;if(typeof o=="object"){let[p,g]=Object.entries(o)[0];h[p]=g}else h.tags=o;if(typeof u=="object"){let[p,g]=Object.entries(u)[0];h[p]=g}else h.link=u;h.wrap=oc()},"addRel"),KW=l(function(e,t,r,i,n,a,s){if(t===null||r===null)return;let o={},u=Is.find(h=>h.alias===t);if(u&&t===u.alias?o=u:(o.alias=t,Is.push(o)),r==null?o.label={text:""}:o.label={text:r},i==null)o.descr={text:""};else if(typeof i=="object"){let[h,d]=Object.entries(i)[0];o[h]={text:d}}else o.descr={text:i};if(typeof n=="object"){let[h,d]=Object.entries(n)[0];o[h]=d}else o.sprite=n;if(typeof a=="object"){let[h,d]=Object.entries(a)[0];o[h]=d}else o.tags=a;if(typeof s=="object"){let[h,d]=Object.entries(s)[0];o[h]=d}else o.link=s;o.typeC4Shape={text:e},o.parentBoundary=ra,o.wrap=oc()},"addPersonOrSystem"),ZW=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=Is.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Is.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=oc(),u.typeC4Shape={text:e},u.parentBoundary=ra},"addContainer"),QW=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=Is.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,Is.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.techn={text:""};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.techn={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof a=="object"){let[d,p]=Object.entries(a)[0];u[d]=p}else u.sprite=a;if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.wrap=oc(),u.typeC4Shape={text:e},u.parentBoundary=ra},"addComponent"),JW=l(function(e,t,r,i,n){if(e===null||t===null)return;let a={},s=lo.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,lo.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"system"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.tags=i;if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.link=n;a.parentBoundary=ra,a.wrap=oc(),Ds=ra,ra=e,sc.push(Ds)},"addPersonOrSystemBoundary"),eX=l(function(e,t,r,i,n){if(e===null||t===null)return;let a={},s=lo.find(o=>o.alias===e);if(s&&e===s.alias?a=s:(a.alias=e,lo.push(a)),t==null?a.label={text:""}:a.label={text:t},r==null)a.type={text:"container"};else if(typeof r=="object"){let[o,u]=Object.entries(r)[0];a[o]={text:u}}else a.type={text:r};if(typeof i=="object"){let[o,u]=Object.entries(i)[0];a[o]=u}else a.tags=i;if(typeof n=="object"){let[o,u]=Object.entries(n)[0];a[o]=u}else a.link=n;a.parentBoundary=ra,a.wrap=oc(),Ds=ra,ra=e,sc.push(Ds)},"addContainerBoundary"),tX=l(function(e,t,r,i,n,a,s,o){if(t===null||r===null)return;let u={},h=lo.find(d=>d.alias===t);if(h&&t===h.alias?u=h:(u.alias=t,lo.push(u)),r==null?u.label={text:""}:u.label={text:r},i==null)u.type={text:"node"};else if(typeof i=="object"){let[d,p]=Object.entries(i)[0];u[d]={text:p}}else u.type={text:i};if(n==null)u.descr={text:""};else if(typeof n=="object"){let[d,p]=Object.entries(n)[0];u[d]={text:p}}else u.descr={text:n};if(typeof s=="object"){let[d,p]=Object.entries(s)[0];u[d]=p}else u.tags=s;if(typeof o=="object"){let[d,p]=Object.entries(o)[0];u[d]=p}else u.link=o;u.nodeType=e,u.parentBoundary=ra,u.wrap=oc(),Ds=ra,ra=t,sc.push(Ds)},"addDeploymentNode"),rX=l(function(){ra=Ds,sc.pop(),Ds=sc.pop(),sc.push(Ds)},"popBoundaryParseStack"),iX=l(function(e,t,r,i,n,a,s,o,u,h,d){let p=Is.find(g=>g.alias===t);if(!(p===void 0&&(p=lo.find(g=>g.alias===t),p===void 0))){if(r!=null)if(typeof r=="object"){let[g,f]=Object.entries(r)[0];p[g]=f}else p.bgColor=r;if(i!=null)if(typeof i=="object"){let[g,f]=Object.entries(i)[0];p[g]=f}else p.fontColor=i;if(n!=null)if(typeof n=="object"){let[g,f]=Object.entries(n)[0];p[g]=f}else p.borderColor=n;if(a!=null)if(typeof a=="object"){let[g,f]=Object.entries(a)[0];p[g]=f}else p.shadowing=a;if(s!=null)if(typeof s=="object"){let[g,f]=Object.entries(s)[0];p[g]=f}else p.shape=s;if(o!=null)if(typeof o=="object"){let[g,f]=Object.entries(o)[0];p[g]=f}else p.sprite=o;if(u!=null)if(typeof u=="object"){let[g,f]=Object.entries(u)[0];p[g]=f}else p.techn=u;if(h!=null)if(typeof h=="object"){let[g,f]=Object.entries(h)[0];p[g]=f}else p.legendText=h;if(d!=null)if(typeof d=="object"){let[g,f]=Object.entries(d)[0];p[g]=f}else p.legendSprite=d}},"updateElStyle"),nX=l(function(e,t,r,i,n,a,s){let o=Xp.find(u=>u.from===t&&u.to===r);if(o!==void 0){if(i!=null)if(typeof i=="object"){let[u,h]=Object.entries(i)[0];o[u]=h}else o.textColor=i;if(n!=null)if(typeof n=="object"){let[u,h]=Object.entries(n)[0];o[u]=h}else o.lineColor=n;if(a!=null)if(typeof a=="object"){let[u,h]=Object.entries(a)[0];o[u]=parseInt(h)}else o.offsetX=parseInt(a);if(s!=null)if(typeof s=="object"){let[u,h]=Object.entries(s)[0];o[u]=parseInt(h)}else o.offsetY=parseInt(s)}},"updateRelStyle"),aX=l(function(e,t,r){let i=Fm,n=zm;if(typeof t=="object"){let a=Object.values(t)[0];i=parseInt(a)}else i=parseInt(t);if(typeof r=="object"){let a=Object.values(r)[0];n=parseInt(a)}else n=parseInt(r);i>=1&&(Fm=i),n>=1&&(zm=n)},"updateLayoutConfig"),sX=l(function(){return Fm},"getC4ShapeInRow"),oX=l(function(){return zm},"getC4BoundaryInRow"),lX=l(function(){return ra},"getCurrentBoundaryParse"),cX=l(function(){return Ds},"getParentBoundaryParse"),RS=l(function(e){return e==null?Is:Is.filter(t=>t.parentBoundary===e)},"getC4ShapeArray"),uX=l(function(e){return Is.find(t=>t.alias===e)},"getC4Shape"),hX=l(function(e){return Object.keys(RS(e))},"getC4ShapeKeys"),OS=l(function(e){return e==null?lo:lo.filter(t=>t.parentBoundary===e)},"getBoundaries"),dX=OS,pX=l(function(){return Xp},"getRels"),gX=l(function(){return k3},"getTitle"),fX=l(function(e){T3=e},"setWrap"),oc=l(function(){return T3},"autoWrap"),mX=l(function(){Is=[],lo=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ds="",ra="global",sc=[""],Xp=[],sc=[""],k3="",T3=!1,Fm=4,zm=2},"clear"),yX={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},vX={FILLED:0,OPEN:1},bX={LEFTOF:0,RIGHTOF:1,OVER:2},xX=l(function(e){k3=Er(e,Ce())},"setTitle"),E3={addPersonOrSystem:KW,addPersonOrSystemBoundary:JW,addContainer:ZW,addContainerBoundary:eX,addComponent:QW,addDeploymentNode:tX,popBoundaryParseStack:rX,addRel:XW,updateElStyle:iX,updateRelStyle:nX,updateLayoutConfig:aX,autoWrap:oc,setWrap:fX,getC4ShapeArray:RS,getC4Shape:uX,getC4ShapeKeys:hX,getBoundaries:OS,getBoundarys:dX,getCurrentBoundaryParse:lX,getParentBoundaryParse:cX,getRels:pX,getTitle:gX,getC4Type:YW,getC4ShapeInRow:sX,getC4BoundaryInRow:oX,setAccTitle:Bi,getAccTitle:Wi,getAccDescription:Ki,setAccDescription:Xi,getConfig:l(()=>Ce().c4,"getConfig"),clear:mX,LINETYPE:yX,ARROWTYPE:vX,PLACEMENT:bX,setTitle:xX,setC4Type:WW}});function Gm(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var kX=B(()=>{"use strict";l(Gm,"ascending")});function TX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var BUe=B(()=>{"use strict";l(TX,"descending")});function C3(e){let t,r,i;e.length!==2?(t=Gm,r=l((o,u)=>Gm(e(o),u),"compare2"),i=l((o,u)=>e(o)-u,"delta")):(t=e===Gm||e===TX?e:EX,r=e,i=e);function n(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(o[p],u)<0?h=p+1:d=p}while(h<d)}return h}l(n,"left");function a(o,u,h=0,d=o.length){if(h<d){if(t(u,u)!==0)return d;do{let p=h+d>>>1;r(o[p],u)<=0?h=p+1:d=p}while(h<d)}return h}l(a,"right");function s(o,u,h=0,d=o.length){let p=n(o,u,h,d-1);return p>h&&i(o[p-1],u)>-i(o[p],u)?p-1:p}return l(s,"center"),{left:n,center:s,right:a}}function EX(){return 0}var CX=B(()=>{"use strict";kX(),BUe(),l(C3,"bisector"),l(EX,"zero")});function SX(e){return e===null?NaN:+e}var $Ue=B(()=>{"use strict";l(SX,"number")}),PS,_X,FUe,zUe,AX,GUe=B(()=>{"use strict";kX(),CX(),$Ue(),PS=C3(Gm),_X=PS.right,FUe=PS.left,zUe=C3(SX).center,AX=_X});function BS({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):r}function LX({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function NX({_intern:e,_key:t},r){let i=t(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function MX(e){return e!==null&&typeof e=="object"?e.valueOf():e}var $S,UUe=B(()=>{"use strict";var e;$S=(e=class extends Map{constructor(r,i=MX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),r!=null)for(let[n,a]of r)this.set(n,a)}get(r){return super.get(BS(this,r))}has(r){return super.has(BS(this,r))}set(r,i){return super.set(LX(this,r),i)}delete(r){return super.delete(NX(this,r))}},l(e,"InternMap"),e),l(BS,"intern_get"),l(LX,"intern_set"),l(NX,"intern_delete"),l(MX,"keyof")});function Um(e,t,r){let i=(t-e)/Math.max(0,r),n=Math.floor(Math.log10(i)),a=i/Math.pow(10,n),s=a>=DX?10:a>=RX?5:a>=OX?2:1,o,u,h;return n<0?(h=Math.pow(10,-n)/s,o=Math.round(e*h),u=Math.round(t*h),o/h<e&&++o,u/h>t&&--u,h=-h):(h=Math.pow(10,n)*s,o=Math.round(e/h),u=Math.round(t/h),o*h<e&&++o,u*h>t&&--u),u<o&&.5<=r&&r<2?Um(e,t,r*2):[o,u,h]}function IX(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let i=t<e,[n,a,s]=i?Um(t,e,r):Um(e,t,r);if(!(a>=n))return[];let o=a-n+1,u=new Array(o);if(i)if(s<0)for(let h=0;h<o;++h)u[h]=(a-h)/-s;else for(let h=0;h<o;++h)u[h]=(a-h)*s;else if(s<0)for(let h=0;h<o;++h)u[h]=(n+h)/-s;else for(let h=0;h<o;++h)u[h]=(n+h)*s;return u}function S3(e,t,r){return t=+t,e=+e,r=+r,Um(e,t,r)[2]}function _3(e,t,r){t=+t,e=+e,r=+r;let i=t<e,n=i?S3(t,e,r):S3(e,t,r);return(i?-1:1)*(n<0?1/-n:n)}var DX,RX,OX,qUe=B(()=>{"use strict";DX=Math.sqrt(50),RX=Math.sqrt(10),OX=Math.sqrt(2),l(Um,"tickSpec"),l(IX,"ticks"),l(S3,"tickIncrement"),l(_3,"tickStep")});function PX(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}var jUe=B(()=>{"use strict";l(PX,"max")});function BX(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}var HUe=B(()=>{"use strict";l(BX,"min")});function $X(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var i=-1,n=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(n);++i<n;)a[i]=e+i*r;return a}var VUe=B(()=>{"use strict";l($X,"range")}),Uh=B(()=>{"use strict";GUe(),CX(),jUe(),HUe(),VUe(),qUe(),UUe()});function FX(e){return e}var YUe=B(()=>{"use strict";l(FX,"default")});function zX(e){return"translate("+e+",0)"}function GX(e){return"translate(0,"+e+")"}function UX(e){return t=>+e(t)}function qX(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function jX(){return!this.__axis}function FS(e,t){var r=[],i=null,n=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=e===qm||e===jm?-1:1,d=e===jm||e===A3?"x":"y",p=e===qm||e===L3?zX:GX;function g(f){var m=i!=null?i:t.ticks?t.ticks.apply(t,r):t.domain(),x=n!=null?n:t.tickFormat?t.tickFormat.apply(t,r):FX,T=Math.max(a,0)+o,k=t.range(),E=+k[0]+u,S=+k[k.length-1]+u,L=(t.bandwidth?qX:UX)(t.copy(),u),b=f.selection?f.selection():f,y=b.selectAll(".domain").data([null]),v=b.selectAll(".tick").data(m,t).order(),w=v.exit(),C=v.enter().append("g").attr("class","tick"),A=v.select("line"),M=v.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),v=v.merge(C),A=A.merge(C.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),M=M.merge(C.append("text").attr("fill","currentColor").attr(d,h*T).attr("dy",e===qm?"0em":e===L3?"0.71em":"0.32em")),f!==b&&(y=y.transition(f),v=v.transition(f),A=A.transition(f),M=M.transition(f),w=w.transition(f).attr("opacity",zS).attr("transform",function(N){return isFinite(N=L(N))?p(N+u):this.getAttribute("transform")}),C.attr("opacity",zS).attr("transform",function(N){var O=this.parentNode.__axis;return p((O&&isFinite(O=O(N))?O:L(N))+u)})),w.remove(),y.attr("d",e===jm||e===A3?s?"M"+h*s+","+E+"H"+u+"V"+S+"H"+h*s:"M"+u+","+E+"V"+S:s?"M"+E+","+h*s+"V"+u+"H"+S+"V"+h*s:"M"+E+","+u+"H"+S),v.attr("opacity",1).attr("transform",function(N){return p(L(N)+u)}),A.attr(d+"2",h*a),M.attr(d,h*T).text(x),b.filter(jX).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===A3?"start":e===jm?"end":"middle"),b.each(function(){this.__axis=L})}return l(g,"axis"),g.scale=function(f){return arguments.length?(t=f,g):t},g.ticks=function(){return r=Array.from(arguments),g},g.tickArguments=function(f){return arguments.length?(r=f==null?[]:Array.from(f),g):r.slice()},g.tickValues=function(f){return arguments.length?(i=f==null?null:Array.from(f),g):i&&i.slice()},g.tickFormat=function(f){return arguments.length?(n=f,g):n},g.tickSize=function(f){return arguments.length?(a=s=+f,g):a},g.tickSizeInner=function(f){return arguments.length?(a=+f,g):a},g.tickSizeOuter=function(f){return arguments.length?(s=+f,g):s},g.tickPadding=function(f){return arguments.length?(o=+f,g):o},g.offset=function(f){return arguments.length?(u=+f,g):u},g}function HX(e){return FS(qm,e)}function VX(e){return FS(L3,e)}var qm,A3,L3,jm,zS,WUe=B(()=>{"use strict";YUe(),qm=1,A3=2,L3=3,jm=4,zS=1e-6,l(zX,"translateX"),l(GX,"translateY"),l(UX,"number"),l(qX,"center"),l(jX,"entering"),l(FS,"axis"),l(HX,"axisTop"),l(VX,"axisBottom")}),XUe=B(()=>{"use strict";WUe()});function GS(){for(var e=0,t=arguments.length,r={},i;e<t;++e){if(!(i=arguments[e]+"")||i in r||/[\s.]/.test(i))throw new Error("illegal type: "+i);r[i]=[]}return new Hm(r)}function Hm(e){this._=e}function YX(e,t){return e.trim().split(/^|\s+/).map(function(r){var i="",n=r.indexOf(".");if(n>=0&&(i=r.slice(n+1),r=r.slice(0,n)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:i}})}function WX(e,t){for(var r=0,i=e.length,n;r<i;++r)if((n=e[r]).name===t)return n.value}function US(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=XX,e=e.slice(0,i).concat(e.slice(i+1));break}return r!=null&&e.push({name:t,value:r}),e}var XX,KX,KUe=B(()=>{"use strict";XX={value:l(()=>{},"value")},l(GS,"dispatch"),l(Hm,"Dispatch"),l(YX,"parseTypenames"),Hm.prototype=GS.prototype={constructor:Hm,on:l(function(e,t){var r=this._,i=YX(e+"",r),n,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((n=(e=i[a]).type)&&(n=WX(r[n],e.name)))return n;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)r[n]=US(r[n],e.name,t);else if(t==null)for(n in r)r[n]=US(r[n],e.name,null);return this},"on"),copy:l(function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Hm(e)},"copy"),call:l(function(e,t){if((n=arguments.length-2)>0)for(var r=new Array(n),i=0,n,a;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,n=a.length;i<n;++i)a[i].value.apply(t,r)},"call"),apply:l(function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},"apply")},l(WX,"get"),l(US,"set"),KX=GS}),ZX=B(()=>{"use strict";KUe()}),N3,qS,QX=B(()=>{"use strict";N3="http://www.w3.org/1999/xhtml",qS={svg:"http://www.w3.org/2000/svg",xhtml:N3,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Vm(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),qS.hasOwnProperty(t)?{space:qS[t],local:e}:e}var jS=B(()=>{"use strict";QX(),l(Vm,"default")});function JX(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===N3&&t.documentElement.namespaceURI===N3?t.createElement(e):t.createElementNS(r,e)}}function eK(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function HS(e){var t=Vm(e);return(t.local?eK:JX)(t)}var tK=B(()=>{"use strict";jS(),QX(),l(JX,"creatorInherit"),l(eK,"creatorFixed"),l(HS,"default")});function rK(){}function M3(e){return e==null?rK:function(){return this.querySelector(e)}}var VS=B(()=>{"use strict";l(rK,"none"),l(M3,"default")});function iK(e){typeof e!="function"&&(e=M3(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=new Array(s),u,h,d=0;d<s;++d)(u=a[d])&&(h=e.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),o[d]=h);return new qa(i,this._parents)}var ZUe=B(()=>{"use strict";tl(),VS(),l(iK,"default")});function nK(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var QUe=B(()=>{"use strict";l(nK,"array")});function aK(){return[]}function YS(e){return e==null?aK:function(){return this.querySelectorAll(e)}}var sK=B(()=>{"use strict";l(aK,"empty"),l(YS,"default")});function oK(e){return function(){return nK(e.apply(this,arguments))}}function lK(e){typeof e=="function"?e=oK(e):e=YS(e);for(var t=this._groups,r=t.length,i=[],n=[],a=0;a<r;++a)for(var s=t[a],o=s.length,u,h=0;h<o;++h)(u=s[h])&&(i.push(e.call(u,u.__data__,h,s)),n.push(u));return new qa(i,n)}var JUe=B(()=>{"use strict";tl(),QUe(),sK(),l(oK,"arrayAll"),l(lK,"default")});function WS(e){return function(){return this.matches(e)}}function XS(e){return function(t){return t.matches(e)}}var I3=B(()=>{"use strict";l(WS,"default"),l(XS,"childMatcher")});function cK(e){return function(){return dK.call(this.children,e)}}function uK(){return this.firstElementChild}function hK(e){return this.select(e==null?uK:cK(typeof e=="function"?e:XS(e)))}var dK,eqe=B(()=>{"use strict";I3(),dK=Array.prototype.find,l(cK,"childFind"),l(uK,"childFirst"),l(hK,"default")});function pK(){return Array.from(this.children)}function gK(e){return function(){return mK.call(this.children,e)}}function fK(e){return this.selectAll(e==null?pK:gK(typeof e=="function"?e:XS(e)))}var mK,tqe=B(()=>{"use strict";I3(),mK=Array.prototype.filter,l(pK,"children"),l(gK,"childrenFilter"),l(fK,"default")});function yK(e){typeof e!="function"&&(e=WS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&o.push(u);return new qa(i,this._parents)}var rqe=B(()=>{"use strict";tl(),I3(),l(yK,"default")});function KS(e){return new Array(e.length)}var vK=B(()=>{"use strict";l(KS,"default")});function bK(){return new qa(this._enter||this._groups.map(KS),this._parents)}function Ym(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var xK=B(()=>{"use strict";vK(),tl(),l(bK,"default"),l(Ym,"EnterNode"),Ym.prototype={constructor:Ym,appendChild:l(function(e){return this._parent.insertBefore(e,this._next)},"appendChild"),insertBefore:l(function(e,t){return this._parent.insertBefore(e,t)},"insertBefore"),querySelector:l(function(e){return this._parent.querySelector(e)},"querySelector"),querySelectorAll:l(function(e){return this._parent.querySelectorAll(e)},"querySelectorAll")}});function wK(e){return function(){return e}}var iqe=B(()=>{"use strict";l(wK,"default")});function kK(e,t,r,i,n,a){for(var s=0,o,u=t.length,h=a.length;s<h;++s)(o=t[s])?(o.__data__=a[s],i[s]=o):r[s]=new Ym(e,a[s]);for(;s<u;++s)(o=t[s])&&(n[s]=o)}function TK(e,t,r,i,n,a,s){var o,u,h=new Map,d=t.length,p=a.length,g=new Array(d),f;for(o=0;o<d;++o)(u=t[o])&&(g[o]=f=s.call(u,u.__data__,o,t)+"",h.has(f)?n[o]=u:h.set(f,u));for(o=0;o<p;++o)f=s.call(e,a[o],o,a)+"",(u=h.get(f))?(i[o]=u,u.__data__=a[o],h.delete(f)):r[o]=new Ym(e,a[o]);for(o=0;o<d;++o)(u=t[o])&&h.get(g[o])===u&&(n[o]=u)}function EK(e){return e.__data__}function CK(e,t){if(!arguments.length)return Array.from(this,EK);var r=t?TK:kK,i=this._parents,n=this._groups;typeof e!="function"&&(e=wK(e));for(var a=n.length,s=new Array(a),o=new Array(a),u=new Array(a),h=0;h<a;++h){var d=i[h],p=n[h],g=p.length,f=SK(e.call(d,d&&d.__data__,h,i)),m=f.length,x=o[h]=new Array(m),T=s[h]=new Array(m),k=u[h]=new Array(g);r(d,p,x,T,k,f,t);for(var E=0,S=0,L,b;E<m;++E)if(L=x[E]){for(E>=S&&(S=E+1);!(b=T[S])&&++S<m;);L._next=b||null}}return s=new qa(s,i),s._enter=o,s._exit=u,s}function SK(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var nqe=B(()=>{"use strict";tl(),xK(),iqe(),l(kK,"bindIndex"),l(TK,"bindKey"),l(EK,"datum"),l(CK,"default"),l(SK,"arraylike")});function _K(){return new qa(this._exit||this._groups.map(KS),this._parents)}var aqe=B(()=>{"use strict";vK(),tl(),l(_K,"default")});function AK(e,t,r){var i=this.enter(),n=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(n=t(n),n&&(n=n.selection())),r==null?a.remove():r(a),i&&n?i.merge(n).order():n}var sqe=B(()=>{"use strict";l(AK,"default")});function LK(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,a=i.length,s=Math.min(n,a),o=new Array(n),u=0;u<s;++u)for(var h=r[u],d=i[u],p=h.length,g=o[u]=new Array(p),f,m=0;m<p;++m)(f=h[m]||d[m])&&(g[m]=f);for(;u<n;++u)o[u]=r[u];return new qa(o,this._parents)}var oqe=B(()=>{"use strict";tl(),l(LK,"default")});function NK(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i=e[t],n=i.length-1,a=i[n],s;--n>=0;)(s=i[n])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}var lqe=B(()=>{"use strict";l(NK,"default")});function MK(e){e||(e=IK);function t(p,g){return p&&g?e(p.__data__,g.__data__):!p-!g}l(t,"compareNode");for(var r=this._groups,i=r.length,n=new Array(i),a=0;a<i;++a){for(var s=r[a],o=s.length,u=n[a]=new Array(o),h,d=0;d<o;++d)(h=s[d])&&(u[d]=h);u.sort(t)}return new qa(n,this._parents).order()}function IK(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var cqe=B(()=>{"use strict";tl(),l(MK,"default"),l(IK,"ascending")});function DK(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var uqe=B(()=>{"use strict";l(DK,"default")});function RK(){return Array.from(this)}var hqe=B(()=>{"use strict";l(RK,"default")});function OK(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,a=i.length;n<a;++n){var s=i[n];if(s)return s}return null}var dqe=B(()=>{"use strict";l(OK,"default")});function PK(){let e=0;for(let t of this)++e;return e}var pqe=B(()=>{"use strict";l(PK,"default")});function BK(){return!this.node()}var gqe=B(()=>{"use strict";l(BK,"default")});function $K(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n=t[r],a=0,s=n.length,o;a<s;++a)(o=n[a])&&e.call(o,o.__data__,a,n);return this}var fqe=B(()=>{"use strict";l($K,"default")});function FK(e){return function(){this.removeAttribute(e)}}function zK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GK(e,t){return function(){this.setAttribute(e,t)}}function UK(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qK(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function jK(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function HK(e,t){var r=Vm(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((t==null?r.local?zK:FK:typeof t=="function"?r.local?jK:qK:r.local?UK:GK)(r,t))}var mqe=B(()=>{"use strict";jS(),l(FK,"attrRemove"),l(zK,"attrRemoveNS"),l(GK,"attrConstant"),l(UK,"attrConstantNS"),l(qK,"attrFunction"),l(jK,"attrFunctionNS"),l(HK,"default")});function ZS(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var VK=B(()=>{"use strict";l(ZS,"default")});function YK(e){return function(){this.style.removeProperty(e)}}function WK(e,t,r){return function(){this.style.setProperty(e,t,r)}}function XK(e,t,r){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function KK(e,t,r){return arguments.length>1?this.each((t==null?YK:typeof t=="function"?XK:WK)(e,t,r!=null?r:"")):qh(this.node(),e)}function qh(e,t){return e.style.getPropertyValue(t)||ZS(e).getComputedStyle(e,null).getPropertyValue(t)}var ZK=B(()=>{"use strict";VK(),l(YK,"styleRemove"),l(WK,"styleConstant"),l(XK,"styleFunction"),l(KK,"default"),l(qh,"styleValue")});function QK(e){return function(){delete this[e]}}function JK(e,t){return function(){this[e]=t}}function eZ(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function tZ(e,t){return arguments.length>1?this.each((t==null?QK:typeof t=="function"?eZ:JK)(e,t)):this.node()[e]}var yqe=B(()=>{"use strict";l(QK,"propertyRemove"),l(JK,"propertyConstant"),l(eZ,"propertyFunction"),l(tZ,"default")});function QS(e){return e.trim().split(/^|\s+/)}function D3(e){return e.classList||new JS(e)}function JS(e){this._node=e,this._names=QS(e.getAttribute("class")||"")}function e_(e,t){for(var r=D3(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function t_(e,t){for(var r=D3(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function rZ(e){return function(){e_(this,e)}}function iZ(e){return function(){t_(this,e)}}function nZ(e,t){return function(){(t.apply(this,arguments)?e_:t_)(this,e)}}function aZ(e,t){var r=QS(e+"");if(arguments.length<2){for(var i=D3(this.node()),n=-1,a=r.length;++n<a;)if(!i.contains(r[n]))return!1;return!0}return this.each((typeof t=="function"?nZ:t?rZ:iZ)(r,t))}var vqe=B(()=>{"use strict";l(QS,"classArray"),l(D3,"classList"),l(JS,"ClassList"),JS.prototype={add:l(function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},"add"),remove:l(function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},"remove"),contains:l(function(e){return this._names.indexOf(e)>=0},"contains")},l(e_,"classedAdd"),l(t_,"classedRemove"),l(rZ,"classedTrue"),l(iZ,"classedFalse"),l(nZ,"classedFunction"),l(aZ,"default")});function sZ(){this.textContent=""}function oZ(e){return function(){this.textContent=e}}function lZ(e){return function(){var t=e.apply(this,arguments);this.textContent=t!=null?t:""}}function cZ(e){return arguments.length?this.each(e==null?sZ:(typeof e=="function"?lZ:oZ)(e)):this.node().textContent}var bqe=B(()=>{"use strict";l(sZ,"textRemove"),l(oZ,"textConstant"),l(lZ,"textFunction"),l(cZ,"default")});function uZ(){this.innerHTML=""}function hZ(e){return function(){this.innerHTML=e}}function dZ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t!=null?t:""}}function pZ(e){return arguments.length?this.each(e==null?uZ:(typeof e=="function"?dZ:hZ)(e)):this.node().innerHTML}var xqe=B(()=>{"use strict";l(uZ,"htmlRemove"),l(hZ,"htmlConstant"),l(dZ,"htmlFunction"),l(pZ,"default")});function gZ(){this.nextSibling&&this.parentNode.appendChild(this)}function fZ(){return this.each(gZ)}var wqe=B(()=>{"use strict";l(gZ,"raise"),l(fZ,"default")});function mZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yZ(){return this.each(mZ)}var kqe=B(()=>{"use strict";l(mZ,"lower"),l(yZ,"default")});function vZ(e){var t=typeof e=="function"?e:HS(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var Tqe=B(()=>{"use strict";tK(),l(vZ,"default")});function bZ(){return null}function xZ(e,t){var r=typeof e=="function"?e:HS(e),i=t==null?bZ:typeof t=="function"?t:M3(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)})}var Eqe=B(()=>{"use strict";tK(),VS(),l(bZ,"constantNull"),l(xZ,"default")});function wZ(){var e=this.parentNode;e&&e.removeChild(this)}function kZ(){return this.each(wZ)}var Cqe=B(()=>{"use strict";l(wZ,"remove"),l(kZ,"default")});function TZ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EZ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function CZ(e){return this.select(e?EZ:TZ)}var Sqe=B(()=>{"use strict";l(TZ,"selection_cloneShallow"),l(EZ,"selection_cloneDeep"),l(CZ,"default")});function SZ(e){return arguments.length?this.property("__data__",e):this.node().__data__}var _qe=B(()=>{"use strict";l(SZ,"default")});function _Z(e){return function(t){e.call(this,t,this.__data__)}}function AZ(e){return e.trim().split(/^|\s+/).map(function(t){var r="",i=t.indexOf(".");return i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),{type:t,name:r}})}function LZ(e){return function(){var t=this.__on;if(t){for(var r=0,i=-1,n=t.length,a;r<n;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++i]=a;++i?t.length=i:delete this.__on}}}function NZ(e,t,r){return function(){var i=this.__on,n,a=_Z(t);if(i){for(var s=0,o=i.length;s<o;++s)if((n=i[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),n.value=t;return}}this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function MZ(e,t,r){var i=AZ(e+""),n,a=i.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var u=0,h=o.length,d;u<h;++u)for(n=0,d=o[u];n<a;++n)if((s=i[n]).type===d.type&&s.name===d.name)return d.value}return}for(o=t?NZ:LZ,n=0;n<a;++n)this.each(o(i[n],t,r));return this}var Aqe=B(()=>{"use strict";l(_Z,"contextListener"),l(AZ,"parseTypenames"),l(LZ,"onRemove"),l(NZ,"onAdd"),l(MZ,"default")});function r_(e,t,r){var i=ZS(e),n=i.CustomEvent;typeof n=="function"?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function IZ(e,t){return function(){return r_(this,e,t)}}function DZ(e,t){return function(){return r_(this,e,t.apply(this,arguments))}}function RZ(e,t){return this.each((typeof t=="function"?DZ:IZ)(e,t))}var Lqe=B(()=>{"use strict";VK(),l(r_,"dispatchEvent"),l(IZ,"dispatchConstant"),l(DZ,"dispatchFunction"),l(RZ,"default")});function*OZ(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,a=i.length,s;n<a;++n)(s=i[n])&&(yield s)}var Nqe=B(()=>{"use strict";l(OZ,"default")});function qa(e,t){this._groups=e,this._parents=t}function i_(){return new qa([[document.documentElement]],n_)}function PZ(){return this}var n_,Kp,tl=B(()=>{"use strict";ZUe(),JUe(),eqe(),tqe(),rqe(),nqe(),xK(),aqe(),sqe(),oqe(),lqe(),cqe(),uqe(),hqe(),dqe(),pqe(),gqe(),fqe(),mqe(),ZK(),yqe(),vqe(),bqe(),xqe(),wqe(),kqe(),Tqe(),Eqe(),Cqe(),Sqe(),_qe(),Aqe(),Lqe(),Nqe(),n_=[null],l(qa,"Selection"),l(i_,"selection"),l(PZ,"selection_selection"),qa.prototype=i_.prototype={constructor:qa,select:iK,selectAll:lK,selectChild:hK,selectChildren:fK,filter:yK,data:CK,enter:bK,exit:_K,join:AK,merge:LK,selection:PZ,order:NK,sort:MK,call:DK,nodes:RK,node:OK,size:PK,empty:BK,each:$K,attr:HK,style:KK,property:tZ,classed:aZ,text:cZ,html:pZ,raise:fZ,lower:yZ,append:vZ,insert:xZ,remove:kZ,clone:CZ,datum:SZ,on:MZ,dispatch:RZ,[Symbol.iterator]:OZ},Kp=i_});function Ze(e){return typeof e=="string"?new qa([[document.querySelector(e)]],[document.documentElement]):new qa([[e]],n_)}var Mqe=B(()=>{"use strict";tl(),l(Ze,"default")}),rl=B(()=>{"use strict";I3(),jS(),Mqe(),tl(),VS(),sK(),ZK()}),Iqe=B(()=>{"use strict"});function Zp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Wm(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}var BZ=B(()=>{"use strict";l(Zp,"default"),l(Wm,"extend")});function xu(){}function a_(){return this.rgb().formatHex()}function $Z(){return this.rgb().formatHex8()}function FZ(){return d_(this).formatHsl()}function s_(){return this.rgb().formatRgb()}function wu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=UZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?o_(t):r===3?new Pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Xm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Xm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qZ.exec(e))?new Pn(t[1],t[2],t[3],1):(t=jZ.exec(e))?new Pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HZ.exec(e))?Xm(t[1],t[2],t[3],t[4]):(t=VZ.exec(e))?Xm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=YZ.exec(e))?h_(t[1],t[2]/100,t[3]/100,1):(t=WZ.exec(e))?h_(t[1],t[2]/100,t[3]/100,t[4]):g_.hasOwnProperty(e)?o_(g_[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function o_(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function Xm(e,t,r,i){return i<=0&&(e=t=r=NaN),new Pn(e,t,r,i)}function l_(e){return e instanceof xu||(e=wu(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function Km(e,t,r,i){return arguments.length===1?l_(e):new Pn(e,t,r,i!=null?i:1)}function Pn(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function c_(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}`}function zZ(){return`#${Tu(this.r)}${Tu(this.g)}${Tu(this.b)}${Tu((isNaN(this.opacity)?1:this.opacity)*255)}`}function u_(){let e=Zm(this.opacity);return`${e===1?"rgb(":"rgba("}${ku(this.r)}, ${ku(this.g)}, ${ku(this.b)}${e===1?")":`, ${e})`}`}function Zm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ku(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tu(e){return e=ku(e),(e<16?"0":"")+e.toString(16)}function h_(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Rs(e,t,r,i)}function d_(e){if(e instanceof Rs)return new Rs(e.h,e.s,e.l,e.opacity);if(e instanceof xu||(e=wu(e)),!e)return new Rs;if(e instanceof Rs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),a=Math.max(t,r,i),s=NaN,o=a-n,u=(a+n)/2;return o?(t===a?s=(r-i)/o+(r<i)*6:r===a?s=(i-t)/o+2:s=(t-r)/o+4,o/=u<.5?a+n:2-a-n,s*=60):o=u>0&&u<1?0:s,new Rs(s,o,u,e.opacity)}function GZ(e,t,r,i){return arguments.length===1?d_(e):new Rs(e,t,r,i!=null?i:1)}function Rs(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function p_(e){return e=(e||0)%360,e<0?e+360:e}function Qm(e){return Math.max(0,Math.min(1,e||0))}function R3(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Qp,Jm,jh,Jp,co,UZ,qZ,jZ,HZ,VZ,YZ,WZ,g_,XZ=B(()=>{"use strict";BZ(),l(xu,"Color"),Qp=.7,Jm=1/Qp,jh="\\s*([+-]?\\d+)\\s*",Jp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UZ=/^#([0-9a-f]{3,8})$/,qZ=new RegExp(`^rgb\\(${jh},${jh},${jh}\\)$`),jZ=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),HZ=new RegExp(`^rgba\\(${jh},${jh},${jh},${Jp}\\)$`),VZ=new RegExp(`^rgba\\(${co},${co},${co},${Jp}\\)$`),YZ=new RegExp(`^hsl\\(${Jp},${co},${co}\\)$`),WZ=new RegExp(`^hsla\\(${Jp},${co},${co},${Jp}\\)$`),g_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zp(xu,wu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:a_,formatHex:a_,formatHex8:$Z,formatHsl:FZ,formatRgb:s_,toString:s_}),l(a_,"color_formatHex"),l($Z,"color_formatHex8"),l(FZ,"color_formatHsl"),l(s_,"color_formatRgb"),l(wu,"color"),l(o_,"rgbn"),l(Xm,"rgba"),l(l_,"rgbConvert"),l(Km,"rgb"),l(Pn,"Rgb"),Zp(Pn,Km,Wm(xu,{brighter(e){return e=e==null?Jm:Math.pow(Jm,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qp:Math.pow(Qp,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Pn(ku(this.r),ku(this.g),ku(this.b),Zm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c_,formatHex:c_,formatHex8:zZ,formatRgb:u_,toString:u_})),l(c_,"rgb_formatHex"),l(zZ,"rgb_formatHex8"),l(u_,"rgb_formatRgb"),l(Zm,"clampa"),l(ku,"clampi"),l(Tu,"hex"),l(h_,"hsla"),l(d_,"hslConvert"),l(GZ,"hsl"),l(Rs,"Hsl"),Zp(Rs,GZ,Wm(xu,{brighter(e){return e=e==null?Jm:Math.pow(Jm,e),new Rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qp:Math.pow(Qp,e),new Rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new Pn(R3(e>=240?e-240:e+120,n,i),R3(e,n,i),R3(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new Rs(p_(this.h),Qm(this.s),Qm(this.l),Zm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Zm(this.opacity);return`${e===1?"hsl(":"hsla("}${p_(this.h)}, ${Qm(this.s)*100}%, ${Qm(this.l)*100}%${e===1?")":`, ${e})`}`}})),l(p_,"clamph"),l(Qm,"clampt"),l(R3,"hsl2rgb")}),KZ,ZZ,Dqe=B(()=>{"use strict";KZ=Math.PI/180,ZZ=180/Math.PI});function f_(e){if(e instanceof uo)return new uo(e.l,e.a,e.b,e.opacity);if(e instanceof il)return m_(e);e instanceof Pn||(e=l_(e));var t=$3(e.r),r=$3(e.g),i=$3(e.b),n=O3((.2225045*t+.7168786*r+.0606169*i)/v_),a,s;return t===r&&r===i?a=s=n:(a=O3((.4360747*t+.3850649*r+.1430804*i)/y_),s=O3((.0139322*t+.0971045*r+.7141733*i)/b_)),new uo(116*n-16,500*(a-n),200*(n-s),e.opacity)}function QZ(e,t,r,i){return arguments.length===1?f_(e):new uo(e,t,r,i!=null?i:1)}function uo(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}function O3(e){return e>eQ?Math.pow(e,1/3):e/w_+x_}function P3(e){return e>Hh?e*e*e:w_*(e-x_)}function B3(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function $3(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function JZ(e){if(e instanceof il)return new il(e.h,e.c,e.l,e.opacity);if(e instanceof uo||(e=f_(e)),e.a===0&&e.b===0)return new il(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*ZZ;return new il(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function F3(e,t,r,i){return arguments.length===1?JZ(e):new il(e,t,r,i!=null?i:1)}function il(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function m_(e){if(isNaN(e.h))return new uo(e.l,0,0,e.opacity);var t=e.h*KZ;return new uo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}var ey,y_,v_,b_,x_,Hh,w_,eQ,Rqe=B(()=>{"use strict";BZ(),XZ(),Dqe(),ey=18,y_=.96422,v_=1,b_=.82521,x_=4/29,Hh=6/29,w_=3*Hh*Hh,eQ=Hh*Hh*Hh,l(f_,"labConvert"),l(QZ,"lab"),l(uo,"Lab"),Zp(uo,QZ,Wm(xu,{brighter(e){return new uo(this.l+ey*(e!=null?e:1),this.a,this.b,this.opacity)},darker(e){return new uo(this.l-ey*(e!=null?e:1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=y_*P3(t),e=v_*P3(e),r=b_*P3(r),new Pn(B3(3.1338561*t-1.6168667*e-.4906146*r),B3(-.9787684*t+1.9161415*e+.033454*r),B3(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),l(O3,"xyz2lab"),l(P3,"lab2xyz"),l(B3,"lrgb2rgb"),l($3,"rgb2lrgb"),l(JZ,"hclConvert"),l(F3,"hcl"),l(il,"Hcl"),l(m_,"hcl2lab"),Zp(il,F3,Wm(xu,{brighter(e){return new il(this.h,this.c,this.l+ey*(e!=null?e:1),this.opacity)},darker(e){return new il(this.h,this.c,this.l-ey*(e!=null?e:1),this.opacity)},rgb(){return m_(this).rgb()}}))}),ty=B(()=>{"use strict";XZ(),Rqe()});function k_(e,t,r,i,n){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*i+s*n)/6}function tQ(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[i],a=e[i+1],s=i>0?e[i-1]:2*n-a,o=i<t-1?e[i+2]:2*a-n;return k_((r-i/t)*t,s,n,a,o)}}var rQ=B(()=>{"use strict";l(k_,"basis"),l(tQ,"default")});function iQ(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),n=e[(i+t-1)%t],a=e[i%t],s=e[(i+1)%t],o=e[(i+2)%t];return k_((r-i/t)*t,n,a,s,o)}}var Oqe=B(()=>{"use strict";rQ(),l(iQ,"default")}),ry,nQ=B(()=>{"use strict";ry=l(e=>()=>e,"default")});function T_(e,t){return function(r){return e+r*t}}function aQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function sQ(e,t){var r=t-e;return r?T_(e,r>180||r<-180?r-360*Math.round(r/360):r):ry(isNaN(e)?t:e)}function oQ(e){return(e=+e)==1?Vh:function(t,r){return r-t?aQ(t,r,e):ry(isNaN(t)?r:t)}}function Vh(e,t){var r=t-e;return r?T_(e,r):ry(isNaN(e)?t:e)}var lQ=B(()=>{"use strict";nQ(),l(T_,"linear"),l(aQ,"exponential"),l(sQ,"hue"),l(oQ,"gamma"),l(Vh,"nogamma")});function E_(e){return function(t){var r=t.length,i=new Array(r),n=new Array(r),a=new Array(r),s,o;for(s=0;s<r;++s)o=Km(t[s]),i[s]=o.r||0,n[s]=o.g||0,a[s]=o.b||0;return i=e(i),n=e(n),a=e(a),o.opacity=1,function(u){return o.r=i(u),o.g=n(u),o.b=a(u),o+""}}}var iy,Pqe,Bqe,cQ=B(()=>{"use strict";ty(),rQ(),Oqe(),lQ(),iy=l((function e(t){var r=oQ(t);function i(n,a){var s=r((n=Km(n)).r,(a=Km(a)).r),o=r(n.g,a.g),u=r(n.b,a.b),h=Vh(n.opacity,a.opacity);return function(d){return n.r=s(d),n.g=o(d),n.b=u(d),n.opacity=h(d),n+""}}return l(i,"rgb"),i.gamma=e,i}),"rgbGamma")(1),l(E_,"rgbSpline"),Pqe=E_(tQ),Bqe=E_(iQ)});function uQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),n;return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function hQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var $qe=B(()=>{"use strict";l(uQ,"default"),l(hQ,"isNumberArray")});function dQ(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,n=new Array(i),a=new Array(r),s;for(s=0;s<i;++s)n[s]=q3(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<i;++s)a[s]=n[s](o);return a}}var Fqe=B(()=>{"use strict";S_(),l(dQ,"genericArray")});function pQ(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}var zqe=B(()=>{"use strict";l(pQ,"default")});function Os(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var z3=B(()=>{"use strict";l(Os,"default")});function gQ(e,t){var r={},i={},n;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(n in t)n in e?r[n]=q3(e[n],t[n]):i[n]=t[n];return function(a){for(n in r)i[n]=r[n](a);return i}}var Gqe=B(()=>{"use strict";S_(),l(gQ,"default")});function fQ(e){return function(){return e}}function mQ(e){return function(t){return e(t)+""}}function C_(e,t){var r=G3.lastIndex=U3.lastIndex=0,i,n,a,s=-1,o=[],u=[];for(e=e+"",t=t+"";(i=G3.exec(e))&&(n=U3.exec(t));)(a=n.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,u.push({i:s,x:Os(i,n)})),r=U3.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?mQ(u[0].x):fQ(t):(t=u.length,function(h){for(var d=0,p;d<t;++d)o[(p=u[d]).i]=p.x(h);return o.join("")})}var G3,U3,yQ=B(()=>{"use strict";z3(),G3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,U3=new RegExp(G3.source,"g"),l(fQ,"zero"),l(mQ,"one"),l(C_,"default")});function q3(e,t){var r=typeof t,i;return t==null||r==="boolean"?ry(t):(r==="number"?Os:r==="string"?(i=wu(t))?(t=i,iy):C_:t instanceof wu?iy:t instanceof Date?pQ:hQ(t)?uQ:Array.isArray(t)?dQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gQ:Os)(e,t)}var S_=B(()=>{"use strict";ty(),cQ(),Fqe(),zqe(),z3(),Gqe(),yQ(),nQ(),$qe(),l(q3,"default")});function vQ(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Uqe=B(()=>{"use strict";l(vQ,"default")});function __(e,t,r,i,n,a){var s,o,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*i)&&(r-=e*u,i-=t*u),(o=Math.sqrt(r*r+i*i))&&(r/=o,i/=o,u/=o),e*i<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:n,translateY:a,rotate:Math.atan2(t,e)*A_,skewX:Math.atan(u)*A_,scaleX:s,scaleY:o}}var A_,j3,qqe=B(()=>{"use strict";A_=180/Math.PI,j3={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},l(__,"default")});function bQ(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?j3:__(t.a,t.b,t.c,t.d,t.e,t.f)}function xQ(e){return e==null?j3:(H3||(H3=document.createElementNS("http://www.w3.org/2000/svg","g")),H3.setAttribute("transform",e),(e=H3.transform.baseVal.consolidate())?(e=e.matrix,__(e.a,e.b,e.c,e.d,e.e,e.f)):j3)}var H3,jqe=B(()=>{"use strict";qqe(),l(bQ,"parseCss"),l(xQ,"parseSvg")});function L_(e,t,r,i){function n(h){return h.length?h.pop()+" ":""}l(n,"pop");function a(h,d,p,g,f,m){if(h!==p||d!==g){var x=f.push("translate(",null,t,null,r);m.push({i:x-4,x:Os(h,p)},{i:x-2,x:Os(d,g)})}else(p||g)&&f.push("translate("+p+t+g+r)}l(a,"translate");function s(h,d,p,g){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),g.push({i:p.push(n(p)+"rotate(",null,i)-2,x:Os(h,d)})):d&&p.push(n(p)+"rotate("+d+i)}l(s,"rotate");function o(h,d,p,g){h!==d?g.push({i:p.push(n(p)+"skewX(",null,i)-2,x:Os(h,d)}):d&&p.push(n(p)+"skewX("+d+i)}l(o,"skewX");function u(h,d,p,g,f,m){if(h!==p||d!==g){var x=f.push(n(f)+"scale(",null,",",null,")");m.push({i:x-4,x:Os(h,p)},{i:x-2,x:Os(d,g)})}else(p!==1||g!==1)&&f.push(n(f)+"scale("+p+","+g+")")}return l(u,"scale"),function(h,d){var p=[],g=[];return h=e(h),d=e(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,g),s(h.rotate,d.rotate,p,g),o(h.skewX,d.skewX,p,g),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,g),h=d=null,function(f){for(var m=-1,x=g.length,T;++m<x;)p[(T=g[m]).i]=T.x(f);return p.join("")}}}var wQ,kQ,Hqe=B(()=>{"use strict";z3(),jqe(),l(L_,"interpolateTransform"),wQ=L_(bQ,"px, ","px)","deg)"),kQ=L_(xQ,", ",")",")")});function N_(e){return function(t,r){var i=e((t=F3(t)).h,(r=F3(r)).h),n=Vh(t.c,r.c),a=Vh(t.l,r.l),s=Vh(t.opacity,r.opacity);return function(o){return t.h=i(o),t.c=n(o),t.l=a(o),t.opacity=s(o),t+""}}}var TQ,Vqe,Yqe=B(()=>{"use strict";ty(),lQ(),l(N_,"hcl"),TQ=N_(sQ),Vqe=N_(Vh)}),ny=B(()=>{"use strict";S_(),z3(),Uqe(),yQ(),Hqe(),cQ(),Yqe()});function V3(){return Eu||(R_(EQ),Eu=rg.now()+ly)}function EQ(){Eu=0}function ay(){this._call=this._time=this._next=null}function M_(e,t,r){var i=new ay;return i.restart(e,t,r),i}function CQ(){V3(),++Yh;for(var e=W3,t;e;)(t=Eu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Yh}function I_(){Eu=(oy=rg.now())+ly,Yh=eg=0;try{CQ()}finally{Yh=0,_Q(),Eu=0}}function SQ(){var e=rg.now(),t=e-oy;t>D_&&(ly-=t,oy=e)}function _Q(){for(var e,t=W3,r,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:W3=r);sy=e,Y3(i)}function Y3(e){if(!Yh){eg&&(eg=clearTimeout(eg));var t=e-Eu;t>24?(e<1/0&&(eg=setTimeout(I_,e-rg.now()-ly)),tg&&(tg=clearInterval(tg))):(tg||(oy=rg.now(),tg=setInterval(SQ,D_)),Yh=1,R_(I_))}}var Yh,eg,tg,D_,W3,sy,oy,Eu,ly,rg,R_,AQ=B(()=>{"use strict";Yh=0,eg=0,tg=0,D_=1e3,oy=0,Eu=0,ly=0,rg=typeof performance=="object"&&performance.now?performance:Date,R_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)},l(V3,"now"),l(EQ,"clearNow"),l(ay,"Timer"),ay.prototype=M_.prototype={constructor:ay,restart:l(function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?V3():+r)+(t==null?0:+t),!this._next&&sy!==this&&(sy?sy._next=this:W3=this,sy=this),this._call=e,this._time=r,Y3()},"restart"),stop:l(function(){this._call&&(this._call=null,this._time=1/0,Y3())},"stop")},l(M_,"timer"),l(CQ,"timerFlush"),l(I_,"wake"),l(SQ,"poke"),l(_Q,"nap"),l(Y3,"sleep")});function O_(e,t,r){var i=new ay;return t=t==null?0:+t,i.restart(n=>{i.stop(),e(n+t)},t,r),i}var Wqe=B(()=>{"use strict";AQ(),l(O_,"default")}),P_=B(()=>{"use strict";AQ(),Wqe()});function cy(e,t,r,i,n,a){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;LQ(e,r,{name:t,index:i,group:n,on:NQ,tween:MQ,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:B_})}function X3(e,t){var r=Ps(e,t);if(r.state>B_)throw new Error("too late; already scheduled");return r}function ho(e,t){var r=Ps(e,t);if(r.state>uy)throw new Error("too late; already running");return r}function Ps(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function LQ(e,t,r){var i=e.__transition,n;i[t]=r,r.timer=M_(a,0,r.time);function a(h){r.state=$_,r.timer.restart(s,r.delay,r.time),r.delay<=h&&s(h-r.delay)}l(a,"schedule");function s(h){var d,p,g,f;if(r.state!==$_)return u();for(d in i)if(f=i[d],f.name===r.name){if(f.state===uy)return O_(s);f.state===F_?(f.state=hy,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[d]):+d<t&&(f.state=hy,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[d])}if(O_(function(){r.state===uy&&(r.state=F_,r.timer.restart(o,r.delay,r.time),o(h))}),r.state=K3,r.on.call("start",e,e.__data__,r.index,r.group),r.state===K3){for(r.state=uy,n=new Array(g=r.tween.length),d=0,p=-1;d<g;++d)(f=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(n[++p]=f);n.length=p+1}}l(s,"start");function o(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=Z3,1),p=-1,g=n.length;++p<g;)n[p].call(e,d);r.state===Z3&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}l(o,"tick");function u(){r.state=hy,r.timer.stop(),delete i[t];for(var h in i)return;delete e.__transition}l(u,"stop")}var NQ,MQ,B_,$_,K3,uy,F_,Z3,hy,us=B(()=>{"use strict";ZX(),P_(),NQ=KX("start","end","cancel","interrupt"),MQ=[],B_=0,$_=1,K3=2,uy=3,F_=4,Z3=5,hy=6,l(cy,"default"),l(X3,"init"),l(ho,"set"),l(Ps,"get"),l(LQ,"create")});function IQ(e,t){var r=e.__transition,i,n,a=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((i=r[s]).name!==t){a=!1;continue}n=i.state>K3&&i.state<Z3,i.state=hy,i.timer.stop(),i.on.call(n?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete r[s]}a&&delete e.__transition}}var Xqe=B(()=>{"use strict";us(),l(IQ,"default")});function DQ(e){return this.each(function(){IQ(this,e)})}var Kqe=B(()=>{"use strict";Xqe(),l(DQ,"default")});function RQ(e,t){var r,i;return function(){var n=ho(this,e),a=n.tween;if(a!==r){i=r=a;for(var s=0,o=i.length;s<o;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}n.tween=i}}function OQ(e,t,r){var i,n;if(typeof r!="function")throw new Error;return function(){var a=ho(this,e),s=a.tween;if(s!==i){n=(i=s).slice();for(var o={name:t,value:r},u=0,h=n.length;u<h;++u)if(n[u].name===t){n[u]=o;break}u===h&&n.push(o)}a.tween=n}}function PQ(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i=Ps(this.node(),r).tween,n=0,a=i.length,s;n<a;++n)if((s=i[n]).name===e)return s.value;return null}return this.each((t==null?RQ:OQ)(r,e,t))}function Q3(e,t,r){var i=e._id;return e.each(function(){var n=ho(this,i);(n.value||(n.value={}))[t]=r.apply(this,arguments)}),function(n){return Ps(n,i).value[t]}}var J3=B(()=>{"use strict";us(),l(RQ,"tweenRemove"),l(OQ,"tweenFunction"),l(PQ,"default"),l(Q3,"tweenValue")});function z_(e,t){var r;return(typeof t=="number"?Os:t instanceof wu?iy:(r=wu(t))?(t=r,iy):C_)(e,t)}var BQ=B(()=>{"use strict";ty(),ny(),l(z_,"default")});function $Q(e){return function(){this.removeAttribute(e)}}function FQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zQ(e,t,r){var i,n=r+"",a;return function(){var s=this.getAttribute(e);return s===n?null:s===i?a:a=t(i=s,r)}}function GQ(e,t,r){var i,n=r+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===i?a:a=t(i=s,r)}}function UQ(e,t,r){var i,n,a;return function(){var s,o=r(this),u;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=o+"",s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o)))}}function qQ(e,t,r){var i,n,a;return function(){var s,o=r(this),u;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=o+"",s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o)))}}function jQ(e,t){var r=Vm(e),i=r==="transform"?kQ:z_;return this.attrTween(e,typeof t=="function"?(r.local?qQ:UQ)(r,i,Q3(this,"attr."+e,t)):t==null?(r.local?FQ:$Q)(r):(r.local?GQ:zQ)(r,i,t))}var Zqe=B(()=>{"use strict";ny(),rl(),J3(),BQ(),l($Q,"attrRemove"),l(FQ,"attrRemoveNS"),l(zQ,"attrConstant"),l(GQ,"attrConstantNS"),l(UQ,"attrFunction"),l(qQ,"attrFunctionNS"),l(jQ,"default")});function HQ(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function VQ(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function YQ(e,t){var r,i;function n(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&VQ(e,a)),r}return l(n,"tween"),n._value=t,n}function WQ(e,t){var r,i;function n(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&HQ(e,a)),r}return l(n,"tween"),n._value=t,n}function XQ(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var i=Vm(e);return this.tween(r,(i.local?YQ:WQ)(i,t))}var Qqe=B(()=>{"use strict";rl(),l(HQ,"attrInterpolate"),l(VQ,"attrInterpolateNS"),l(YQ,"attrTweenNS"),l(WQ,"attrTween"),l(XQ,"default")});function KQ(e,t){return function(){X3(this,e).delay=+t.apply(this,arguments)}}function ZQ(e,t){return t=+t,function(){X3(this,e).delay=t}}function QQ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KQ:ZQ)(t,e)):Ps(this.node(),t).delay}var Jqe=B(()=>{"use strict";us(),l(KQ,"delayFunction"),l(ZQ,"delayConstant"),l(QQ,"default")});function JQ(e,t){return function(){ho(this,e).duration=+t.apply(this,arguments)}}function eJ(e,t){return t=+t,function(){ho(this,e).duration=t}}function tJ(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?JQ:eJ)(t,e)):Ps(this.node(),t).duration}var eje=B(()=>{"use strict";us(),l(JQ,"durationFunction"),l(eJ,"durationConstant"),l(tJ,"default")});function rJ(e,t){if(typeof t!="function")throw new Error;return function(){ho(this,e).ease=t}}function iJ(e){var t=this._id;return arguments.length?this.each(rJ(t,e)):Ps(this.node(),t).ease}var tje=B(()=>{"use strict";us(),l(rJ,"easeConstant"),l(iJ,"default")});function nJ(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ho(this,e).ease=r}}function aJ(e){if(typeof e!="function")throw new Error;return this.each(nJ(this._id,e))}var rje=B(()=>{"use strict";us(),l(nJ,"easeVarying"),l(aJ,"default")});function sJ(e){typeof e!="function"&&(e=WS(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a=t[n],s=a.length,o=i[n]=[],u,h=0;h<s;++h)(u=a[h])&&e.call(u,u.__data__,h,a)&&o.push(u);return new nl(i,this._parents,this._name,this._id)}var ije=B(()=>{"use strict";rl(),ig(),l(sJ,"default")});function oJ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,a=Math.min(i,n),s=new Array(i),o=0;o<a;++o)for(var u=t[o],h=r[o],d=u.length,p=s[o]=new Array(d),g,f=0;f<d;++f)(g=u[f]||h[f])&&(p[f]=g);for(;o<i;++o)s[o]=t[o];return new nl(s,this._parents,this._name,this._id)}var nje=B(()=>{"use strict";ig(),l(oJ,"default")});function lJ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function cJ(e,t,r){var i,n,a=lJ(t)?X3:ho;return function(){var s=a(this,e),o=s.on;o!==i&&(n=(i=o).copy()).on(t,r),s.on=n}}function uJ(e,t){var r=this._id;return arguments.length<2?Ps(this.node(),r).on.on(e):this.each(cJ(r,e,t))}var aje=B(()=>{"use strict";us(),l(lJ,"start"),l(cJ,"onFunction"),l(uJ,"default")});function hJ(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dJ(){return this.on("end.remove",hJ(this._id))}var sje=B(()=>{"use strict";l(hJ,"removeFunction"),l(dJ,"default")});function pJ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=M3(e));for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s)for(var o=i[s],u=o.length,h=a[s]=new Array(u),d,p,g=0;g<u;++g)(d=o[g])&&(p=e.call(d,d.__data__,g,o))&&("__data__"in d&&(p.__data__=d.__data__),h[g]=p,cy(h[g],t,r,g,h,Ps(d,r)));return new nl(a,this._parents,t,r)}var oje=B(()=>{"use strict";rl(),ig(),us(),l(pJ,"default")});function gJ(e){var t=this._name,r=this._id;typeof e!="function"&&(e=YS(e));for(var i=this._groups,n=i.length,a=[],s=[],o=0;o<n;++o)for(var u=i[o],h=u.length,d,p=0;p<h;++p)if(d=u[p]){for(var g=e.call(d,d.__data__,p,u),f,m=Ps(d,r),x=0,T=g.length;x<T;++x)(f=g[x])&&cy(f,t,r,x,g,m);a.push(g),s.push(d)}return new nl(a,s,t,r)}var lje=B(()=>{"use strict";rl(),ig(),us(),l(gJ,"default")});function fJ(){return new mJ(this._groups,this._parents)}var mJ,cje=B(()=>{"use strict";rl(),mJ=Kp.prototype.constructor,l(fJ,"default")});function yJ(e,t){var r,i,n;return function(){var a=qh(this,e),s=(this.style.removeProperty(e),qh(this,e));return a===s?null:a===r&&s===i?n:n=t(r=a,i=s)}}function G_(e){return function(){this.style.removeProperty(e)}}function vJ(e,t,r){var i,n=r+"",a;return function(){var s=qh(this,e);return s===n?null:s===i?a:a=t(i=s,r)}}function bJ(e,t,r){var i,n,a;return function(){var s=qh(this,e),o=r(this),u=o+"";return o==null&&(u=o=(this.style.removeProperty(e),qh(this,e))),s===u?null:s===i&&u===n?a:(n=u,a=t(i=s,o))}}function xJ(e,t){var r,i,n,a="style."+t,s="end."+a,o;return function(){var u=ho(this,e),h=u.on,d=u.value[a]==null?o||(o=G_(t)):void 0;(h!==r||n!==d)&&(i=(r=h).copy()).on(s,n=d),u.on=i}}function wJ(e,t,r){var i=(e+="")=="transform"?wQ:z_;return t==null?this.styleTween(e,yJ(e,i)).on("end.style."+e,G_(e)):typeof t=="function"?this.styleTween(e,bJ(e,i,Q3(this,"style."+e,t))).each(xJ(this._id,e)):this.styleTween(e,vJ(e,i,t),r).on("end.style."+e,null)}var uje=B(()=>{"use strict";ny(),rl(),us(),J3(),BQ(),l(yJ,"styleNull"),l(G_,"styleRemove"),l(vJ,"styleConstant"),l(bJ,"styleFunction"),l(xJ,"styleMaybeRemove"),l(wJ,"default")});function kJ(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function TJ(e,t,r){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&kJ(e,s,r)),i}return l(a,"tween"),a._value=t,a}function EJ(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,TJ(e,t,r!=null?r:""))}var hje=B(()=>{"use strict";l(kJ,"styleInterpolate"),l(TJ,"styleTween"),l(EJ,"default")});function CJ(e){return function(){this.textContent=e}}function SJ(e){return function(){var t=e(this);this.textContent=t!=null?t:""}}function _J(e){return this.tween("text",typeof e=="function"?SJ(Q3(this,"text",e)):CJ(e==null?"":e+""))}var dje=B(()=>{"use strict";J3(),l(CJ,"textConstant"),l(SJ,"textFunction"),l(_J,"default")});function AJ(e){return function(t){this.textContent=e.call(this,t)}}function LJ(e){var t,r;function i(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&AJ(n)),t}return l(i,"tween"),i._value=e,i}function NJ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,LJ(e))}var pje=B(()=>{"use strict";l(AJ,"textInterpolate"),l(LJ,"textTween"),l(NJ,"default")});function MJ(){for(var e=this._name,t=this._id,r=U_(),i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,u,h=0;h<o;++h)if(u=s[h]){var d=Ps(u,t);cy(u,e,r,h,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new nl(i,this._parents,e,r)}var gje=B(()=>{"use strict";ig(),us(),l(MJ,"default")});function IJ(){var e,t,r=this,i=r._id,n=r.size();return new Promise(function(a,s){var o={value:s},u={value:l(function(){--n===0&&a()},"value")};r.each(function(){var h=ho(this,i),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(u)),h.on=t}),n===0&&a()})}var fje=B(()=>{"use strict";us(),l(IJ,"default")});function nl(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function DJ(e){return Kp().transition(e)}function U_(){return++RJ}var RJ,al,ig=B(()=>{"use strict";rl(),Zqe(),Qqe(),Jqe(),eje(),tje(),rje(),ije(),nje(),aje(),sje(),oje(),lje(),cje(),uje(),hje(),dje(),pje(),gje(),J3(),fje(),RJ=0,l(nl,"Transition"),l(DJ,"transition"),l(U_,"newId"),al=Kp.prototype,nl.prototype=DJ.prototype={constructor:nl,select:pJ,selectAll:gJ,selectChild:al.selectChild,selectChildren:al.selectChildren,filter:sJ,merge:oJ,selection:fJ,transition:MJ,call:al.call,nodes:al.nodes,node:al.node,size:al.size,empty:al.empty,each:al.each,on:uJ,attr:jQ,attrTween:XQ,style:wJ,styleTween:EJ,text:_J,textTween:NJ,remove:dJ,tween:PQ,delay:QQ,duration:tJ,ease:iJ,easeVarying:aJ,end:IJ,[Symbol.iterator]:al[Symbol.iterator]}});function OJ(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var mje=B(()=>{"use strict";l(OJ,"cubicInOut")}),PJ=B(()=>{"use strict";mje()});function BJ(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function $J(e){var t,r;e instanceof nl?(t=e._id,e=e._name):(t=U_(),(r=FJ).time=V3(),e=e==null?null:e+"");for(var i=this._groups,n=i.length,a=0;a<n;++a)for(var s=i[a],o=s.length,u,h=0;h<o;++h)(u=s[h])&&cy(u,e,t,h,s,r||BJ(u,t));return new nl(i,this._parents,e,t)}var FJ,yje=B(()=>{"use strict";ig(),us(),PJ(),P_(),FJ={time:null,delay:0,duration:250,ease:OJ},l(BJ,"inherit"),l($J,"default")}),vje=B(()=>{"use strict";rl(),Kqe(),yje(),Kp.prototype.interrupt=DQ,Kp.prototype.transition=$J}),q_=B(()=>{"use strict";vje()}),bje=B(()=>{"use strict"}),xje=B(()=>{"use strict"}),wje=B(()=>{"use strict"});function j_(e){return[+e[0],+e[1]]}function zJ(e){return[j_(e[0]),j_(e[1])]}function e5(e){return{type:e}}var kje,Tje,Eje,Cje,Sje,_je,Aje=B(()=>{"use strict";q_(),bje(),xje(),wje(),{abs:kje,max:Tje,min:Eje}=Math,l(j_,"number1"),l(zJ,"number2"),Cje={name:"x",handles:["w","e"].map(e5),input:l(function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},"input"),output:l(function(e){return e&&[e[0][0],e[1][0]]},"output")},Sje={name:"y",handles:["n","s"].map(e5),input:l(function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},"input"),output:l(function(e){return e&&[e[0][1],e[1][1]]},"output")},_je={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(e5),input:l(function(e){return e==null?null:zJ(e)},"input"),output:l(function(e){return e},"output")},l(e5,"type")}),Lje=B(()=>{"use strict";Aje()});function H_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function GJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return H_;let r=jo(10,t);return function(i){this._+=i[0];for(let n=1,a=i.length;n<a;++n)this._+=Math.round(arguments[n]*r)/r+i[n]}}function UJ(){return new i5}var t5,r5,Cu,qJ,i5,Nje=B(()=>{"use strict";var e;t5=Math.PI,r5=2*t5,Cu=1e-6,qJ=r5-Cu,l(H_,"append"),l(GJ,"appendRound"),i5=(e=class{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?H_:GJ(r)}moveTo(r,i){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,i){this._append`L${this._x1=+r},${this._y1=+i}`}quadraticCurveTo(r,i,n,a){this._append`Q${+r},${+i},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(r,i,n,a,s,o){this._append`C${+r},${+i},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(r,i,n,a,s){if(r=+r,i=+i,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,h=n-r,d=a-i,p=o-r,g=u-i,f=p*p+g*g;if(this._x1===null)this._append`M${this._x1=r},${this._y1=i}`;else if(f>Cu)if(!(Math.abs(g*h-d*p)>Cu)||!s)this._append`L${this._x1=r},${this._y1=i}`;else{let m=n-o,x=a-u,T=h*h+d*d,k=m*m+x*x,E=Math.sqrt(T),S=Math.sqrt(f),L=s*Math.tan((t5-Math.acos((T+f-k)/(2*E*S)))/2),b=L/S,y=L/E;Math.abs(b-1)>Cu&&this._append`L${r+b*p},${i+b*g}`,this._append`A${s},${s},0,0,${+(g*m>p*x)},${this._x1=r+y*h},${this._y1=i+y*d}`}}arc(r,i,n,a,s,o){if(r=+r,i=+i,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),h=n*Math.sin(a),d=r+u,p=i+h,g=1^o,f=o?a-s:s-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Cu||Math.abs(this._y1-p)>Cu)&&this._append`L${d},${p}`,n&&(f<0&&(f=f%r5+r5),f>qJ?this._append`A${n},${n},0,1,${g},${r-u},${i-h}A${n},${n},0,1,${g},${this._x1=d},${this._y1=p}`:f>Cu&&this._append`A${n},${n},0,${+(f>=t5)},${g},${this._x1=r+n*Math.cos(s)},${this._y1=i+n*Math.sin(s)}`)}rect(r,i,n,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+i}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}},l(e,"Path"),e),l(UJ,"path"),UJ.prototype=i5.prototype}),jJ=B(()=>{"use strict";Nje()}),Mje=B(()=>{"use strict"}),Ije=B(()=>{"use strict"}),Dje=B(()=>{"use strict"}),Rje=B(()=>{"use strict"}),Oje=B(()=>{"use strict"}),Pje=B(()=>{"use strict"}),Bje=B(()=>{"use strict"});function HJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function dy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}var n5=B(()=>{"use strict";l(HJ,"default"),l(dy,"formatDecimalParts")});function Wh(e){return e=dy(Math.abs(e)),e?e[1]:NaN}var a5=B(()=>{"use strict";n5(),l(Wh,"default")});function VJ(e,t){return function(r,i){for(var n=r.length,a=[],s=0,o=e[0],u=0;n>0&&o>0&&(u+o+1>i&&(o=Math.max(1,i-u)),a.push(r.substring(n-=o,n+o)),!((u+=o+1)>i));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}var $je=B(()=>{"use strict";l(VJ,"default")});function YJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Fje=B(()=>{"use strict";l(YJ,"default")});function py(e){if(!(t=WJ.exec(e)))throw new Error("invalid format: "+e);var t;return new s5({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function s5(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}var WJ,XJ=B(()=>{"use strict";WJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,l(py,"formatSpecifier"),py.prototype=s5.prototype,l(s5,"FormatSpecifier"),s5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type}});function KJ(e){e:for(var t=e.length,r=1,i=-1,n;r<t;++r)switch(e[r]){case".":i=n=r;break;case"0":i===0&&(i=r),n=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(n+1):e}var zje=B(()=>{"use strict";l(KJ,"default")});function ZJ(e,t){var r=dy(e,t);if(!r)return e+"";var i=r[0],n=r[1],a=n-(QJ=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=i.length;return a===s?i:a>s?i+new Array(a-s+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+dy(e,Math.max(0,t+a-1))[0]}var QJ,JJ=B(()=>{"use strict";n5(),l(ZJ,"default")});function V_(e,t){var r=dy(e,t);if(!r)return e+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}var Gje=B(()=>{"use strict";n5(),l(V_,"default")}),Y_,Uje=B(()=>{"use strict";n5(),JJ(),Gje(),Y_={"%":l((e,t)=>(e*100).toFixed(t),"%"),b:l(e=>Math.round(e).toString(2),"b"),c:l(e=>e+"","c"),d:HJ,e:l((e,t)=>e.toExponential(t),"e"),f:l((e,t)=>e.toFixed(t),"f"),g:l((e,t)=>e.toPrecision(t),"g"),o:l(e=>Math.round(e).toString(8),"o"),p:l((e,t)=>V_(e*100,t),"p"),r:V_,s:ZJ,X:l(e=>Math.round(e).toString(16).toUpperCase(),"X"),x:l(e=>Math.round(e).toString(16),"x")}});function W_(e){return e}var qje=B(()=>{"use strict";l(W_,"default")});function eee(e){var t=e.grouping===void 0||e.thousands===void 0?W_:VJ(X_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?W_:YJ(X_.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(p){p=py(p);var g=p.fill,f=p.align,m=p.sign,x=p.symbol,T=p.zero,k=p.width,E=p.comma,S=p.precision,L=p.trim,b=p.type;b==="n"?(E=!0,b="g"):Y_[b]||(S===void 0&&(S=12),L=!0,b="g"),(T||g==="0"&&f==="=")&&(T=!0,g="0",f="=");var y=x==="$"?r:x==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v=x==="$"?i:/[%p]/.test(b)?s:"",w=Y_[b],C=/[defgprs%]/.test(b);S=S===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function A(M){var N=y,O=v,_,I,R;if(b==="c")O=w(M)+O,M="";else{M=+M;var P=M<0||1/M<0;if(M=isNaN(M)?u:w(Math.abs(M),S),L&&(M=KJ(M)),P&&+M==0&&m!=="+"&&(P=!1),N=(P?m==="("?m:o:m==="-"||m==="("?"":m)+N,O=(b==="s"?K_[8+QJ/3]:"")+O+(P&&m==="("?")":""),C){for(_=-1,I=M.length;++_<I;)if(R=M.charCodeAt(_),48>R||R>57){O=(R===46?n+M.slice(_+1):M.slice(_))+O,M=M.slice(0,_);break}}}E&&!T&&(M=t(M,1/0));var D=N.length+M.length+O.length,$=D<k?new Array(k-D+1).join(g):"";switch(E&&T&&(M=t($+M,$.length?k-O.length:1/0),$=""),f){case"<":M=N+M+O+$;break;case"=":M=N+$+M+O;break;case"^":M=$.slice(0,D=$.length>>1)+N+M+O+$.slice(D);break;default:M=$+N+M+O;break}return a(M)}return l(A,"format"),A.toString=function(){return p+""},A}l(h,"newFormat");function d(p,g){var f=h((p=py(p),p.type="f",p)),m=Math.max(-8,Math.min(8,Math.floor(Wh(g)/3)))*3,x=Math.pow(10,-m),T=K_[8+m/3];return function(k){return f(x*k)+T}}return l(d,"formatPrefix"),{format:h,formatPrefix:d}}var X_,K_,jje=B(()=>{"use strict";a5(),$je(),Fje(),XJ(),zje(),Uje(),JJ(),qje(),X_=Array.prototype.map,K_=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],l(eee,"default")});function tee(e){return o5=eee(e),Xh=o5.format,ree=o5.formatPrefix,o5}var o5,Xh,ree,Hje=B(()=>{"use strict";jje(),tee({thousands:",",grouping:[3],currency:["$",""]}),l(tee,"defaultLocale")});function iee(e){return Math.max(0,-Wh(Math.abs(e)))}var Vje=B(()=>{"use strict";a5(),l(iee,"default")});function nee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wh(t)/3)))*3-Wh(Math.abs(e)))}var Yje=B(()=>{"use strict";a5(),l(nee,"default")});function aee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wh(t)-Wh(e))+1}var Wje=B(()=>{"use strict";a5(),l(aee,"default")}),see=B(()=>{"use strict";Hje(),XJ(),Vje(),Yje(),Wje()}),Xje=B(()=>{"use strict"});function oee(e){var t=0,r=e.children,i=r&&r.length;if(!i)t=1;else for(;--i>=0;)t+=r[i].value;e.value=t}function lee(){return this.eachAfter(oee)}var Kje=B(()=>{"use strict";l(oee,"count"),l(lee,"default")});function cee(e,t){let r=-1;for(let i of this)e.call(t,i,++r,this);return this}var Zje=B(()=>{"use strict";l(cee,"default")});function uee(e,t){for(var r=this,i=[r],n,a,s=-1;r=i.pop();)if(e.call(t,r,++s,this),n=r.children)for(a=n.length-1;a>=0;--a)i.push(n[a]);return this}var Qje=B(()=>{"use strict";l(uee,"default")});function hee(e,t){for(var r=this,i=[r],n=[],a,s,o,u=-1;r=i.pop();)if(n.push(r),a=r.children)for(s=0,o=a.length;s<o;++s)i.push(a[s]);for(;r=n.pop();)e.call(t,r,++u,this);return this}var Jje=B(()=>{"use strict";l(hee,"default")});function dee(e,t){let r=-1;for(let i of this)if(e.call(t,i,++r,this))return i}var eHe=B(()=>{"use strict";l(dee,"default")});function pee(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,i=t.children,n=i&&i.length;--n>=0;)r+=i[n].value;t.value=r})}var tHe=B(()=>{"use strict";l(pee,"default")});function gee(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}var rHe=B(()=>{"use strict";l(gee,"default")});function fee(e){for(var t=this,r=mee(t,e),i=[t];t!==r;)t=t.parent,i.push(t);for(var n=i.length;e!==r;)i.splice(n,0,e),e=e.parent;return i}function mee(e,t){if(e===t)return e;var r=e.ancestors(),i=t.ancestors(),n=null;for(e=r.pop(),t=i.pop();e===t;)n=e,e=r.pop(),t=i.pop();return n}var iHe=B(()=>{"use strict";l(fee,"default"),l(mee,"leastCommonAncestor")});function yee(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}var nHe=B(()=>{"use strict";l(yee,"default")});function vee(){return Array.from(this)}var aHe=B(()=>{"use strict";l(vee,"default")});function bee(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}var sHe=B(()=>{"use strict";l(bee,"default")});function xee(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}var oHe=B(()=>{"use strict";l(xee,"default")});function*wee(){var e=this,t,r=[e],i,n,a;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,i=e.children)for(n=0,a=i.length;n<a;++n)r.push(i[n]);while(r.length)}var lHe=B(()=>{"use strict";l(wee,"default")});function l5(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Eee)):t===void 0&&(t=Tee);for(var r=new gy(e),i,n=[r],a,s,o,u;i=n.pop();)if((s=t(i.data))&&(u=(s=Array.from(s)).length))for(i.children=s,o=u-1;o>=0;--o)n.push(a=s[o]=new gy(s[o])),a.parent=i,a.depth=i.depth+1;return r.eachBefore(See)}function kee(){return l5(this).eachBefore(Cee)}function Tee(e){return e.children}function Eee(e){return Array.isArray(e)?e[1]:null}function Cee(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function See(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function gy(e){this.data=e,this.depth=this.height=0,this.parent=null}var cHe=B(()=>{"use strict";Kje(),Zje(),Qje(),Jje(),eHe(),tHe(),rHe(),iHe(),nHe(),aHe(),sHe(),oHe(),lHe(),l(l5,"hierarchy"),l(kee,"node_copy"),l(Tee,"objectChildren"),l(Eee,"mapChildren"),l(Cee,"copyData"),l(See,"computeHeight"),l(gy,"Node"),gy.prototype=l5.prototype={constructor:gy,count:lee,each:cee,eachAfter:hee,eachBefore:uee,find:dee,sum:pee,sort:gee,path:fee,ancestors:yee,descendants:vee,leaves:bee,links:xee,copy:kee,[Symbol.iterator]:wee}});function _ee(e){if(typeof e!="function")throw new Error;return e}var uHe=B(()=>{"use strict";l(_ee,"required")});function ng(){return 0}function ag(e){return function(){return e}}var hHe=B(()=>{"use strict";l(ng,"constantZero"),l(ag,"default")});function Aee(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}var dHe=B(()=>{"use strict";l(Aee,"default")});function Lee(e,t,r,i,n){for(var a=e.children,s,o=-1,u=a.length,h=e.value&&(i-t)/e.value;++o<u;)s=a[o],s.y0=r,s.y1=n,s.x0=t,s.x1=t+=s.value*h}var pHe=B(()=>{"use strict";l(Lee,"default")});function Nee(e,t,r,i,n){for(var a=e.children,s,o=-1,u=a.length,h=e.value&&(n-r)/e.value;++o<u;)s=a[o],s.x0=t,s.x1=i,s.y0=r,s.y1=r+=s.value*h}var gHe=B(()=>{"use strict";l(Nee,"default")});function Mee(e,t,r,i,n,a){for(var s=[],o=t.children,u,h,d=0,p=0,g=o.length,f,m,x=t.value,T,k,E,S,L,b,y;d<g;){f=n-r,m=a-i;do T=o[p++].value;while(!T&&p<g);for(k=E=T,b=Math.max(m/f,f/m)/(x*e),y=T*T*b,L=Math.max(E/y,y/k);p<g;++p){if(T+=h=o[p].value,h<k&&(k=h),h>E&&(E=h),y=T*T*b,S=Math.max(E/y,y/k),S>L){T-=h;break}L=S}s.push(u={value:T,dice:f<m,children:o.slice(d,p)}),u.dice?Lee(u,r,i,n,x?i+=m*T/x:a):Nee(u,r,i,x?r+=f*T/x:n,a),x-=T,d=p}return s}var Iee,Dee,fHe=B(()=>{"use strict";pHe(),gHe(),Iee=(1+Math.sqrt(5))/2,l(Mee,"squarifyRatio"),Dee=l((function e(t){function r(i,n,a,s,o){Mee(t,i,n,a,s,o)}return l(r,"squarify"),r.ratio=function(i){return e((i=+i)>1?i:1)},r}),"custom")(Iee)});function Ree(){var e=Dee,t=!1,r=1,i=1,n=[0],a=ng,s=ng,o=ng,u=ng,h=ng;function d(g){return g.x0=g.y0=0,g.x1=r,g.y1=i,g.eachBefore(p),n=[0],t&&g.eachBefore(Aee),g}l(d,"treemap");function p(g){var f=n[g.depth],m=g.x0+f,x=g.y0+f,T=g.x1-f,k=g.y1-f;T<m&&(m=T=(m+T)/2),k<x&&(x=k=(x+k)/2),g.x0=m,g.y0=x,g.x1=T,g.y1=k,g.children&&(f=n[g.depth+1]=a(g)/2,m+=h(g)-f,x+=s(g)-f,T-=o(g)-f,k-=u(g)-f,T<m&&(m=T=(m+T)/2),k<x&&(x=k=(x+k)/2),e(g,m,x,T,k))}return l(p,"positionNode"),d.round=function(g){return arguments.length?(t=!!g,d):t},d.size=function(g){return arguments.length?(r=+g[0],i=+g[1],d):[r,i]},d.tile=function(g){return arguments.length?(e=_ee(g),d):e},d.padding=function(g){return arguments.length?d.paddingInner(g).paddingOuter(g):d.paddingInner()},d.paddingInner=function(g){return arguments.length?(a=typeof g=="function"?g:ag(+g),d):a},d.paddingOuter=function(g){return arguments.length?d.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):d.paddingTop()},d.paddingTop=function(g){return arguments.length?(s=typeof g=="function"?g:ag(+g),d):s},d.paddingRight=function(g){return arguments.length?(o=typeof g=="function"?g:ag(+g),d):o},d.paddingBottom=function(g){return arguments.length?(u=typeof g=="function"?g:ag(+g),d):u},d.paddingLeft=function(g){return arguments.length?(h=typeof g=="function"?g:ag(+g),d):h},d}var mHe=B(()=>{"use strict";dHe(),fHe(),uHe(),hHe(),l(Ree,"default")}),yHe=B(()=>{"use strict";cHe(),mHe()}),vHe=B(()=>{"use strict"}),bHe=B(()=>{"use strict"});function fy(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var c5=B(()=>{"use strict";l(fy,"initRange")});function Su(){var e=new $S,t=[],r=[],i=Z_;function n(a){let s=e.get(a);if(s===void 0){if(i!==Z_)return i;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return l(n,"scale"),n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new $S;for(let s of a)e.has(s)||e.set(s,t.push(s)-1);return n},n.range=function(a){return arguments.length?(r=Array.from(a),n):r.slice()},n.unknown=function(a){return arguments.length?(i=a,n):i},n.copy=function(){return Su(t,r).unknown(i)},fy.apply(n,arguments),n}var Z_,Oee=B(()=>{"use strict";Uh(),c5(),Z_=Symbol("implicit"),l(Su,"ordinal")});function u5(){var e=Su().unknown(void 0),t=e.domain,r=e.range,i=0,n=1,a,s,o=!1,u=0,h=0,d=.5;delete e.unknown;function p(){var g=t().length,f=n<i,m=f?n:i,x=f?i:n;a=(x-m)/Math.max(1,g-u+h*2),o&&(a=Math.floor(a)),m+=(x-m-a*(g-u))*d,s=a*(1-u),o&&(m=Math.round(m),s=Math.round(s));var T=$X(g).map(function(k){return m+a*k});return r(f?T.reverse():T)}return l(p,"rescale"),e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([i,n]=g,i=+i,n=+n,p()):[i,n]},e.rangeRound=function(g){return[i,n]=g,i=+i,n=+n,o=!0,p()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(g){return arguments.length?(o=!!g,p()):o},e.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},e.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},e.copy=function(){return u5(t(),[i,n]).round(o).paddingInner(u).paddingOuter(h).align(d)},fy.apply(p(),arguments)}var xHe=B(()=>{"use strict";Uh(),c5(),Oee(),l(u5,"band")});function Pee(e){return function(){return e}}var wHe=B(()=>{"use strict";l(Pee,"constants")});function Bee(e){return+e}var kHe=B(()=>{"use strict";l(Bee,"number")});function Kh(e){return e}function h5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Pee(isNaN(t)?NaN:.5)}function $ee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(i){return Math.max(e,Math.min(t,i))}}function Fee(e,t,r){var i=e[0],n=e[1],a=t[0],s=t[1];return n<i?(i=h5(n,i),a=r(s,a)):(i=h5(i,n),a=r(a,s)),function(o){return a(i(o))}}function zee(e,t,r){var i=Math.min(e.length,t.length)-1,n=new Array(i),a=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)n[s]=h5(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var u=AX(e,o,1,i)-1;return a[u](n[u](o))}}function Q_(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gee(){var e=eA,t=eA,r=q3,i,n,a,s=Kh,o,u,h;function d(){var g=Math.min(e.length,t.length);return s!==Kh&&(s=$ee(e[0],e[g-1])),o=g>2?zee:Fee,u=h=null,p}l(d,"rescale");function p(g){return g==null||isNaN(g=+g)?a:(u||(u=o(e.map(i),t,r)))(i(s(g)))}return l(p,"scale"),p.invert=function(g){return s(n((h||(h=o(t,e.map(i),Os)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Bee),d()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=vQ,d()},p.clamp=function(g){return arguments.length?(s=g?!0:Kh,d()):s!==Kh},p.interpolate=function(g){return arguments.length?(r=g,d()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,f){return i=g,n=f,d()}}function J_(){return Gee()(Kh,Kh)}var eA,Uee=B(()=>{"use strict";Uh(),ny(),wHe(),kHe(),eA=[0,1],l(Kh,"identity"),l(h5,"normalize"),l($ee,"clamper"),l(Fee,"bimap"),l(zee,"polymap"),l(Q_,"copy"),l(Gee,"transformer"),l(J_,"continuous")});function qee(e,t,r,i){var n=_3(e,t,r),a;switch(i=py(i!=null?i:",f"),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=nee(n,s))&&(i.precision=a),ree(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=aee(n,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=iee(n))&&(i.precision=a-(i.type==="%")*2);break}}return Xh(i)}var THe=B(()=>{"use strict";Uh(),see(),l(qee,"tickFormat")});function jee(e){var t=e.domain;return e.ticks=function(r){var i=t();return IX(i[0],i[i.length-1],r!=null?r:10)},e.tickFormat=function(r,i){var n=t();return qee(n[0],n[n.length-1],r!=null?r:10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),n=0,a=i.length-1,s=i[n],o=i[a],u,h,d=10;for(o<s&&(h=s,s=o,o=h,h=n,n=a,a=h);d-- >0;){if(h=S3(s,o,r),h===u)return i[n]=s,i[a]=o,t(i);if(h>0)s=Math.floor(s/h)*h,o=Math.ceil(o/h)*h;else if(h<0)s=Math.ceil(s*h)/h,o=Math.floor(o*h)/h;else break;u=h}return e},e}function Zh(){var e=J_();return e.copy=function(){return Q_(e,Zh())},fy.apply(e,arguments),jee(e)}var EHe=B(()=>{"use strict";Uh(),Uee(),c5(),THe(),l(jee,"linearish"),l(Zh,"linear")});function Hee(e,t){e=e.slice();var r=0,i=e.length-1,n=e[r],a=e[i],s;return a<n&&(s=r,r=i,i=s,s=n,n=a,a=s),e[r]=t.floor(n),e[i]=t.ceil(a),e}var CHe=B(()=>{"use strict";l(Hee,"nice")});function Zi(e,t,r,i){function n(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return l(n,"interval"),n.floor=a=>(e(a=new Date(+a)),a),n.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),n.round=a=>{let s=n(a),o=n.ceil(a);return a-s<o-a?s:o},n.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),n.range=(a,s,o)=>{let u=[];if(a=n.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let h;do u.push(h=new Date(+a)),t(a,o),e(a);while(h<a&&a<s);return u},n.filter=a=>Zi(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(n.count=(a,s)=>(d5.setTime(+a),p5.setTime(+s),e(d5),e(p5),Math.floor(r(d5,p5))),n.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?n.filter(i?s=>i(s)%a===0:s=>n.count(0,s)%a===0):n)),n}var d5,p5,_u=B(()=>{"use strict";d5=new Date,p5=new Date,l(Zi,"timeInterval")}),Qh,SHe,Vee=B(()=>{"use strict";_u(),Qh=Zi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e),Qh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Zi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qh),SHe=Qh.range}),lc,_He,Yee=B(()=>{"use strict";_u(),lc=Zi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),_He=lc.range}),sg,AHe,tA,LHe,Wee=B(()=>{"use strict";_u(),sg=Zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),AHe=sg.range,tA=Zi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),LHe=tA.range}),og,NHe,rA,MHe,Xee=B(()=>{"use strict";_u(),og=Zi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),NHe=og.range,rA=Zi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),MHe=rA.range}),Au,IHe,g5,DHe,iA,RHe,Kee=B(()=>{"use strict";_u(),Au=Zi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),IHe=Au.range,g5=Zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),DHe=g5.range,iA=Zi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),RHe=iA.range});function Lu(e){return Zi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function Nu(e){return Zi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var lg,cg,nA,aA,Mu,sA,oA,OHe,PHe,BHe,$He,FHe,zHe,GHe,f5,my,Zee,Qee,Jh,Jee,ete,UHe,qHe,jHe,HHe,VHe,YHe,WHe,tte=B(()=>{"use strict";_u(),l(Lu,"timeWeekday"),lg=Lu(0),cg=Lu(1),nA=Lu(2),aA=Lu(3),Mu=Lu(4),sA=Lu(5),oA=Lu(6),OHe=lg.range,PHe=cg.range,BHe=nA.range,$He=aA.range,FHe=Mu.range,zHe=sA.range,GHe=oA.range,l(Nu,"utcWeekday"),f5=Nu(0),my=Nu(1),Zee=Nu(2),Qee=Nu(3),Jh=Nu(4),Jee=Nu(5),ete=Nu(6),UHe=f5.range,qHe=my.range,jHe=Zee.range,HHe=Qee.range,VHe=Jh.range,YHe=Jee.range,WHe=ete.range}),ug,XHe,lA,KHe,rte=B(()=>{"use strict";_u(),ug=Zi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),XHe=ug.range,lA=Zi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),KHe=lA.range}),sl,ZHe,cc,QHe,ite=B(()=>{"use strict";_u(),sl=Zi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()),sl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}),ZHe=sl.range,cc=Zi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear()),cc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Zi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}),QHe=cc.range});function cA(e,t,r,i,n,a){let s=[[lc,1,1e3],[lc,5,5e3],[lc,15,15e3],[lc,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function o(h,d,p){let g=d<h;g&&([h,d]=[d,h]);let f=p&&typeof p.range=="function"?p:u(h,d,p),m=f?f.range(h,+d+1):[];return g?m.reverse():m}l(o,"ticks");function u(h,d,p){let g=Math.abs(d-h)/p,f=C3(([,,T])=>T).right(s,g);if(f===s.length)return e.every(_3(h/31536e6,d/31536e6,p));if(f===0)return Qh.every(Math.max(_3(h,d,p),1));let[m,x]=s[g/s[f-1][2]<s[f][2]/g?f-1:f];return m.every(x)}return l(u,"tickInterval"),[o,u]}var JHe,eVe,nte,ate,tVe=B(()=>{"use strict";Uh(),Vee(),Yee(),Wee(),Xee(),Kee(),tte(),rte(),ite(),l(cA,"ticker"),[JHe,eVe]=cA(cc,lA,f5,iA,rA,tA),[nte,ate]=cA(sl,ug,lg,Au,og,sg)}),uA=B(()=>{"use strict";Vee(),Yee(),Wee(),Xee(),Kee(),tte(),rte(),ite(),tVe()});function m5(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function y5(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ste(e){var t=e.dateTime,r=e.date,i=e.time,n=e.periods,a=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,h=dg(n),d=pg(n),p=dg(a),g=pg(a),f=dg(s),m=pg(s),x=dg(o),T=pg(o),k=dg(u),E=pg(u),S={a:P,A:D,b:$,B:F,c:null,d:fA,e:fA,f:_te,g:Bte,G:Fte,H:Ete,I:Cte,j:Ste,L:mA,m:Ate,M:Lte,p:z,q:U,Q:kA,s:TA,S:Nte,u:Mte,U:Ite,V:Dte,w:Rte,W:Ote,x:null,X:null,y:Pte,Y:$te,Z:zte,"%":wA},L={a:j,A:H,b:Q,B:re,c:null,d:vA,e:vA,f:jte,g:ere,G:rre,H:Gte,I:Ute,j:qte,L:bA,m:Hte,M:Vte,p:le,q:oe,Q:kA,s:TA,S:Yte,u:Wte,U:Xte,V:Kte,w:Zte,W:Qte,x:null,X:null,y:Jte,Y:tre,Z:ire,"%":wA},b={a:A,A:M,b:N,B:O,c:_,d:pA,e:pA,f:xte,g:dA,G:hA,H:gA,I:gA,j:mte,L:bte,m:fte,M:yte,p:C,q:gte,Q:kte,s:Tte,S:vte,u:cte,U:ute,V:hte,w:lte,W:dte,x:I,X:R,y:dA,Y:hA,Z:pte,"%":wte};S.x=y(r,S),S.X=y(i,S),S.c=y(t,S),L.x=y(r,L),L.X=y(i,L),L.c=y(t,L);function y(W,J){return function(Y){var X=[],te=-1,ce=0,K=W.length,me,Z,Ae;for(Y instanceof Date||(Y=new Date(+Y));++te<K;)W.charCodeAt(te)===37&&(X.push(W.slice(ce,te)),(Z=EA[me=W.charAt(++te)])!=null?me=W.charAt(++te):Z=me==="e"?" ":"0",(Ae=J[me])&&(me=Ae(Y,Z)),X.push(me),ce=te+1);return X.push(W.slice(ce,te)),X.join("")}}l(y,"newFormat");function v(W,J){return function(Y){var X=hg(1900,void 0,1),te=w(X,W,Y+="",0),ce,K;if(te!=Y.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(J&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ce=y5(hg(X.y,0,1)),K=ce.getUTCDay(),ce=K>4||K===0?my.ceil(ce):my(ce),ce=g5.offset(ce,(X.V-1)*7),X.y=ce.getUTCFullYear(),X.m=ce.getUTCMonth(),X.d=ce.getUTCDate()+(X.w+6)%7):(ce=m5(hg(X.y,0,1)),K=ce.getDay(),ce=K>4||K===0?cg.ceil(ce):cg(ce),ce=Au.offset(ce,(X.V-1)*7),X.y=ce.getFullYear(),X.m=ce.getMonth(),X.d=ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),K="Z"in X?y5(hg(X.y,0,1)).getUTCDay():m5(hg(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(K+5)%7:X.w+X.U*7-(K+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,y5(X)):m5(X)}}l(v,"newParse");function w(W,J,Y,X){for(var te=0,ce=J.length,K=Y.length,me,Z;te<ce;){if(X>=K)return-1;if(me=J.charCodeAt(te++),me===37){if(me=J.charAt(te++),Z=b[me in EA?J.charAt(te++):me],!Z||(X=Z(W,Y,X))<0)return-1}else if(me!=Y.charCodeAt(X++))return-1}return X}l(w,"parseSpecifier");function C(W,J,Y){var X=h.exec(J.slice(Y));return X?(W.p=d.get(X[0].toLowerCase()),Y+X[0].length):-1}l(C,"parsePeriod");function A(W,J,Y){var X=f.exec(J.slice(Y));return X?(W.w=m.get(X[0].toLowerCase()),Y+X[0].length):-1}l(A,"parseShortWeekday");function M(W,J,Y){var X=p.exec(J.slice(Y));return X?(W.w=g.get(X[0].toLowerCase()),Y+X[0].length):-1}l(M,"parseWeekday");function N(W,J,Y){var X=k.exec(J.slice(Y));return X?(W.m=E.get(X[0].toLowerCase()),Y+X[0].length):-1}l(N,"parseShortMonth");function O(W,J,Y){var X=x.exec(J.slice(Y));return X?(W.m=T.get(X[0].toLowerCase()),Y+X[0].length):-1}l(O,"parseMonth");function _(W,J,Y){return w(W,t,J,Y)}l(_,"parseLocaleDateTime");function I(W,J,Y){return w(W,r,J,Y)}l(I,"parseLocaleDate");function R(W,J,Y){return w(W,i,J,Y)}l(R,"parseLocaleTime");function P(W){return s[W.getDay()]}l(P,"formatShortWeekday");function D(W){return a[W.getDay()]}l(D,"formatWeekday");function $(W){return u[W.getMonth()]}l($,"formatShortMonth");function F(W){return o[W.getMonth()]}l(F,"formatMonth");function z(W){return n[+(W.getHours()>=12)]}l(z,"formatPeriod");function U(W){return 1+~~(W.getMonth()/3)}l(U,"formatQuarter");function j(W){return s[W.getUTCDay()]}l(j,"formatUTCShortWeekday");function H(W){return a[W.getUTCDay()]}l(H,"formatUTCWeekday");function Q(W){return u[W.getUTCMonth()]}l(Q,"formatUTCShortMonth");function re(W){return o[W.getUTCMonth()]}l(re,"formatUTCMonth");function le(W){return n[+(W.getUTCHours()>=12)]}l(le,"formatUTCPeriod");function oe(W){return 1+~~(W.getUTCMonth()/3)}return l(oe,"formatUTCQuarter"),{format:l(function(W){var J=y(W+="",S);return J.toString=function(){return W},J},"format"),parse:l(function(W){var J=v(W+="",!1);return J.toString=function(){return W},J},"parse"),utcFormat:l(function(W){var J=y(W+="",L);return J.toString=function(){return W},J},"utcFormat"),utcParse:l(function(W){var J=v(W+="",!0);return J.toString=function(){return W},J},"utcParse")}}function Dr(e,t,r){var i=e<0?"-":"",n=(i?-e:e)+"",a=n.length;return i+(a<r?new Array(r-a+1).join(t)+n:n)}function ote(e){return e.replace(are,"\\$&")}function dg(e){return new RegExp("^(?:"+e.map(ote).join("|")+")","i")}function pg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lte(e,t,r){var i=fn.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function cte(e,t,r){var i=fn.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function ute(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function hte(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function dte(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function hA(e,t,r){var i=fn.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function dA(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function pte(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function gte(e,t,r){var i=fn.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function fte(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function pA(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function mte(e,t,r){var i=fn.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function gA(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function yte(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function vte(e,t,r){var i=fn.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function bte(e,t,r){var i=fn.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function xte(e,t,r){var i=fn.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function wte(e,t,r){var i=nre.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function kte(e,t,r){var i=fn.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function Tte(e,t,r){var i=fn.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function fA(e,t){return Dr(e.getDate(),t,2)}function Ete(e,t){return Dr(e.getHours(),t,2)}function Cte(e,t){return Dr(e.getHours()%12||12,t,2)}function Ste(e,t){return Dr(1+Au.count(sl(e),e),t,3)}function mA(e,t){return Dr(e.getMilliseconds(),t,3)}function _te(e,t){return mA(e,t)+"000"}function Ate(e,t){return Dr(e.getMonth()+1,t,2)}function Lte(e,t){return Dr(e.getMinutes(),t,2)}function Nte(e,t){return Dr(e.getSeconds(),t,2)}function Mte(e){var t=e.getDay();return t===0?7:t}function Ite(e,t){return Dr(lg.count(sl(e)-1,e),t,2)}function yA(e){var t=e.getDay();return t>=4||t===0?Mu(e):Mu.ceil(e)}function Dte(e,t){return e=yA(e),Dr(Mu.count(sl(e),e)+(sl(e).getDay()===4),t,2)}function Rte(e){return e.getDay()}function Ote(e,t){return Dr(cg.count(sl(e)-1,e),t,2)}function Pte(e,t){return Dr(e.getFullYear()%100,t,2)}function Bte(e,t){return e=yA(e),Dr(e.getFullYear()%100,t,2)}function $te(e,t){return Dr(e.getFullYear()%1e4,t,4)}function Fte(e,t){var r=e.getDay();return e=r>=4||r===0?Mu(e):Mu.ceil(e),Dr(e.getFullYear()%1e4,t,4)}function zte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dr(t/60|0,"0",2)+Dr(t%60,"0",2)}function vA(e,t){return Dr(e.getUTCDate(),t,2)}function Gte(e,t){return Dr(e.getUTCHours(),t,2)}function Ute(e,t){return Dr(e.getUTCHours()%12||12,t,2)}function qte(e,t){return Dr(1+g5.count(cc(e),e),t,3)}function bA(e,t){return Dr(e.getUTCMilliseconds(),t,3)}function jte(e,t){return bA(e,t)+"000"}function Hte(e,t){return Dr(e.getUTCMonth()+1,t,2)}function Vte(e,t){return Dr(e.getUTCMinutes(),t,2)}function Yte(e,t){return Dr(e.getUTCSeconds(),t,2)}function Wte(e){var t=e.getUTCDay();return t===0?7:t}function Xte(e,t){return Dr(f5.count(cc(e)-1,e),t,2)}function xA(e){var t=e.getUTCDay();return t>=4||t===0?Jh(e):Jh.ceil(e)}function Kte(e,t){return e=xA(e),Dr(Jh.count(cc(e),e)+(cc(e).getUTCDay()===4),t,2)}function Zte(e){return e.getUTCDay()}function Qte(e,t){return Dr(my.count(cc(e)-1,e),t,2)}function Jte(e,t){return Dr(e.getUTCFullYear()%100,t,2)}function ere(e,t){return e=xA(e),Dr(e.getUTCFullYear()%100,t,2)}function tre(e,t){return Dr(e.getUTCFullYear()%1e4,t,4)}function rre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Jh(e):Jh.ceil(e),Dr(e.getUTCFullYear()%1e4,t,4)}function ire(){return"+0000"}function wA(){return"%"}function kA(e){return+e}function TA(e){return Math.floor(+e/1e3)}var EA,fn,nre,are,rVe=B(()=>{"use strict";uA(),l(m5,"localDate"),l(y5,"utcDate"),l(hg,"newDate"),l(ste,"formatLocale"),EA={"-":"",_:" ",0:"0"},fn=/^\s*\d+/,nre=/^%/,are=/[\\^$*+?|[\]().{}]/g,l(Dr,"pad"),l(ote,"requote"),l(dg,"formatRe"),l(pg,"formatLookup"),l(lte,"parseWeekdayNumberSunday"),l(cte,"parseWeekdayNumberMonday"),l(ute,"parseWeekNumberSunday"),l(hte,"parseWeekNumberISO"),l(dte,"parseWeekNumberMonday"),l(hA,"parseFullYear"),l(dA,"parseYear"),l(pte,"parseZone"),l(gte,"parseQuarter"),l(fte,"parseMonthNumber"),l(pA,"parseDayOfMonth"),l(mte,"parseDayOfYear"),l(gA,"parseHour24"),l(yte,"parseMinutes"),l(vte,"parseSeconds"),l(bte,"parseMilliseconds"),l(xte,"parseMicroseconds"),l(wte,"parseLiteralPercent"),l(kte,"parseUnixTimestamp"),l(Tte,"parseUnixTimestampSeconds"),l(fA,"formatDayOfMonth"),l(Ete,"formatHour24"),l(Cte,"formatHour12"),l(Ste,"formatDayOfYear"),l(mA,"formatMilliseconds"),l(_te,"formatMicroseconds"),l(Ate,"formatMonthNumber"),l(Lte,"formatMinutes"),l(Nte,"formatSeconds"),l(Mte,"formatWeekdayNumberMonday"),l(Ite,"formatWeekNumberSunday"),l(yA,"dISO"),l(Dte,"formatWeekNumberISO"),l(Rte,"formatWeekdayNumberSunday"),l(Ote,"formatWeekNumberMonday"),l(Pte,"formatYear"),l(Bte,"formatYearISO"),l($te,"formatFullYear"),l(Fte,"formatFullYearISO"),l(zte,"formatZone"),l(vA,"formatUTCDayOfMonth"),l(Gte,"formatUTCHour24"),l(Ute,"formatUTCHour12"),l(qte,"formatUTCDayOfYear"),l(bA,"formatUTCMilliseconds"),l(jte,"formatUTCMicroseconds"),l(Hte,"formatUTCMonthNumber"),l(Vte,"formatUTCMinutes"),l(Yte,"formatUTCSeconds"),l(Wte,"formatUTCWeekdayNumberMonday"),l(Xte,"formatUTCWeekNumberSunday"),l(xA,"UTCdISO"),l(Kte,"formatUTCWeekNumberISO"),l(Zte,"formatUTCWeekdayNumberSunday"),l(Qte,"formatUTCWeekNumberMonday"),l(Jte,"formatUTCYear"),l(ere,"formatUTCYearISO"),l(tre,"formatUTCFullYear"),l(rre,"formatUTCFullYearISO"),l(ire,"formatUTCZone"),l(wA,"formatLiteralPercent"),l(kA,"formatUnixTimestamp"),l(TA,"formatUnixTimestampSeconds")});function sre(e){return gg=ste(e),v5=gg.format,iVe=gg.parse,nVe=gg.utcFormat,aVe=gg.utcParse,gg}var gg,v5,iVe,nVe,aVe,sVe=B(()=>{"use strict";rVe(),sre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l(sre,"defaultLocale")}),ore=B(()=>{"use strict";sVe()});function lre(e){return new Date(e)}function cre(e){return e instanceof Date?+e:+new Date(+e)}function CA(e,t,r,i,n,a,s,o,u,h){var d=J_(),p=d.invert,g=d.domain,f=h(".%L"),m=h(":%S"),x=h("%I:%M"),T=h("%I %p"),k=h("%a %d"),E=h("%b %d"),S=h("%B"),L=h("%Y");function b(y){return(u(y)<y?f:o(y)<y?m:s(y)<y?x:a(y)<y?T:i(y)<y?n(y)<y?k:E:r(y)<y?S:L)(y)}return l(b,"tickFormat"),d.invert=function(y){return new Date(p(y))},d.domain=function(y){return arguments.length?g(Array.from(y,cre)):g().map(lre)},d.ticks=function(y){var v=g();return e(v[0],v[v.length-1],y!=null?y:10)},d.tickFormat=function(y,v){return v==null?b:h(v)},d.nice=function(y){var v=g();return(!y||typeof y.range!="function")&&(y=t(v[0],v[v.length-1],y!=null?y:10)),y?g(Hee(v,y)):d},d.copy=function(){return Q_(d,CA(e,t,r,i,n,a,s,o,u,h))},d}function ure(){return fy.apply(CA(nte,ate,sl,ug,lg,Au,og,sg,lc,v5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var oVe=B(()=>{"use strict";uA(),ore(),Uee(),c5(),CHe(),l(lre,"date"),l(cre,"number"),l(CA,"calendar"),l(ure,"time")}),lVe=B(()=>{"use strict";xHe(),EHe(),Oee(),oVe()});function hre(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(i*6,++i*6);return r}var cVe=B(()=>{"use strict";l(hre,"default")}),dre,uVe=B(()=>{"use strict";cVe(),dre=hre("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")}),hVe=B(()=>{"use strict";uVe()});function Ni(e){return l(function(){return e},"constant")}var SA=B(()=>{"use strict";l(Ni,"default")});function pre(e){return e>1?0:e<-1?fg:Math.acos(e)}function _A(e){return e>=1?yy:e<=-1?-yy:Math.asin(e)}var AA,Bn,Iu,gre,b5,po,ed,$n,fg,yy,vy,LA=B(()=>{"use strict";AA=Math.abs,Bn=Math.atan2,Iu=Math.cos,gre=Math.max,b5=Math.min,po=Math.sin,ed=Math.sqrt,$n=1e-12,fg=Math.PI,yy=fg/2,vy=2*fg,l(pre,"acos"),l(_A,"asin")});function NA(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let i=Math.floor(r);if(!(i>=0))throw new RangeError(`invalid digits: ${r}`);t=i}return e},()=>new i5(t)}var fre=B(()=>{"use strict";jJ(),l(NA,"withPath")});function mre(e){return e.innerRadius}function yre(e){return e.outerRadius}function vre(e){return e.startAngle}function bre(e){return e.endAngle}function xre(e){return e&&e.padAngle}function wre(e,t,r,i,n,a,s,o){var u=r-e,h=i-t,d=s-n,p=o-a,g=p*u-d*h;if(!(g*g<$n))return g=(d*(t-a)-p*(e-n))/g,[e+g*u,t+g*h]}function by(e,t,r,i,n,a,s){var o=e-r,u=t-i,h=(s?a:-a)/ed(o*o+u*u),d=h*u,p=-h*o,g=e+d,f=t+p,m=r+d,x=i+p,T=(g+m)/2,k=(f+x)/2,E=m-g,S=x-f,L=E*E+S*S,b=n-a,y=g*x-m*f,v=(S<0?-1:1)*ed(gre(0,b*b*L-y*y)),w=(y*S-E*v)/L,C=(-y*E-S*v)/L,A=(y*S+E*v)/L,M=(-y*E+S*v)/L,N=w-T,O=C-k,_=A-T,I=M-k;return N*N+O*O>_*_+I*I&&(w=A,C=M),{cx:w,cy:C,x01:-d,y01:-p,x11:w*(n/b-1),y11:C*(n/b-1)}}function td(){var e=mre,t=yre,r=Ni(0),i=null,n=vre,a=bre,s=xre,o=null,u=NA(h);function h(){var d,p,g=+e.apply(this,arguments),f=+t.apply(this,arguments),m=n.apply(this,arguments)-yy,x=a.apply(this,arguments)-yy,T=AA(x-m),k=x>m;if(o||(o=d=u()),f<g&&(p=f,f=g,g=p),!(f>$n))o.moveTo(0,0);else if(T>vy-$n)o.moveTo(f*Iu(m),f*po(m)),o.arc(0,0,f,m,x,!k),g>$n&&(o.moveTo(g*Iu(x),g*po(x)),o.arc(0,0,g,x,m,k));else{var E=m,S=x,L=m,b=x,y=T,v=T,w=s.apply(this,arguments)/2,C=w>$n&&(i?+i.apply(this,arguments):ed(g*g+f*f)),A=b5(AA(f-g)/2,+r.apply(this,arguments)),M=A,N=A,O,_;if(C>$n){var I=_A(C/g*po(w)),R=_A(C/f*po(w));(y-=I*2)>$n?(I*=k?1:-1,L+=I,b-=I):(y=0,L=b=(m+x)/2),(v-=R*2)>$n?(R*=k?1:-1,E+=R,S-=R):(v=0,E=S=(m+x)/2)}var P=f*Iu(E),D=f*po(E),$=g*Iu(b),F=g*po(b);if(A>$n){var z=f*Iu(S),U=f*po(S),j=g*Iu(L),H=g*po(L),Q;if(T<fg)if(Q=wre(P,D,j,H,z,U,$,F)){var re=P-Q[0],le=D-Q[1],oe=z-Q[0],W=U-Q[1],J=1/po(pre((re*oe+le*W)/(ed(re*re+le*le)*ed(oe*oe+W*W)))/2),Y=ed(Q[0]*Q[0]+Q[1]*Q[1]);M=b5(A,(g-Y)/(J-1)),N=b5(A,(f-Y)/(J+1))}else M=N=0}v>$n?N>$n?(O=by(j,H,P,D,f,N,k),_=by(z,U,$,F,f,N,k),o.moveTo(O.cx+O.x01,O.cy+O.y01),N<A?o.arc(O.cx,O.cy,N,Bn(O.y01,O.x01),Bn(_.y01,_.x01),!k):(o.arc(O.cx,O.cy,N,Bn(O.y01,O.x01),Bn(O.y11,O.x11),!k),o.arc(0,0,f,Bn(O.cy+O.y11,O.cx+O.x11),Bn(_.cy+_.y11,_.cx+_.x11),!k),o.arc(_.cx,_.cy,N,Bn(_.y11,_.x11),Bn(_.y01,_.x01),!k))):(o.moveTo(P,D),o.arc(0,0,f,E,S,!k)):o.moveTo(P,D),!(g>$n)||!(y>$n)?o.lineTo($,F):M>$n?(O=by($,F,z,U,g,-M,k),_=by(P,D,j,H,g,-M,k),o.lineTo(O.cx+O.x01,O.cy+O.y01),M<A?o.arc(O.cx,O.cy,M,Bn(O.y01,O.x01),Bn(_.y01,_.x01),!k):(o.arc(O.cx,O.cy,M,Bn(O.y01,O.x01),Bn(O.y11,O.x11),!k),o.arc(0,0,g,Bn(O.cy+O.y11,O.cx+O.x11),Bn(_.cy+_.y11,_.cx+_.x11),k),o.arc(_.cx,_.cy,M,Bn(_.y11,_.x11),Bn(_.y01,_.x01),!k))):o.arc(0,0,g,b,L,k)}if(o.closePath(),d)return o=null,d+""||null}return l(h,"arc"),h.centroid=function(){var d=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,p=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-fg/2;return[Iu(p)*d,po(p)*d]},h.innerRadius=function(d){return arguments.length?(e=typeof d=="function"?d:Ni(+d),h):e},h.outerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:Ni(+d),h):t},h.cornerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:Ni(+d),h):r},h.padRadius=function(d){return arguments.length?(i=d==null?null:typeof d=="function"?d:Ni(+d),h):i},h.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:Ni(+d),h):n},h.endAngle=function(d){return arguments.length?(a=typeof d=="function"?d:Ni(+d),h):a},h.padAngle=function(d){return arguments.length?(s=typeof d=="function"?d:Ni(+d),h):s},h.context=function(d){return arguments.length?(o=d!=null?d:null,h):o},h}var dVe=B(()=>{"use strict";SA(),LA(),fre(),l(mre,"arcInnerRadius"),l(yre,"arcOuterRadius"),l(vre,"arcStartAngle"),l(bre,"arcEndAngle"),l(xre,"arcPadAngle"),l(wre,"intersect"),l(by,"cornerTangents"),l(td,"default")});function MA(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var pVe,kre=B(()=>{"use strict";pVe=Array.prototype.slice,l(MA,"default")});function IA(e){this._context=e}function xy(e){return new IA(e)}var Tre=B(()=>{"use strict";l(IA,"Linear"),IA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}},"point")},l(xy,"default")});function Ere(e){return e[0]}function Cre(e){return e[1]}var gVe=B(()=>{"use strict";l(Ere,"x"),l(Cre,"y")});function mg(e,t){var r=Ni(!0),i=null,n=xy,a=null,s=NA(o);e=typeof e=="function"?e:e===void 0?Ere:Ni(e),t=typeof t=="function"?t:t===void 0?Cre:Ni(t);function o(u){var h,d=(u=MA(u)).length,p,g=!1,f;for(i==null&&(a=n(f=s())),h=0;h<=d;++h)!(h<d&&r(p=u[h],h,u))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,h,u),+t(p,h,u));if(f)return a=null,f+""||null}return l(o,"line"),o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ni(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ni(+u),o):t},o.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ni(!!u),o):r},o.curve=function(u){return arguments.length?(n=u,i!=null&&(a=n(i)),o):n},o.context=function(u){return arguments.length?(u==null?i=a=null:a=n(i=u),o):i},o}var fVe=B(()=>{"use strict";kre(),SA(),Tre(),fre(),gVe(),l(mg,"default")});function Sre(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var mVe=B(()=>{"use strict";l(Sre,"default")});function _re(e){return e}var yVe=B(()=>{"use strict";l(_re,"default")});function Are(){var e=_re,t=Sre,r=null,i=Ni(0),n=Ni(vy),a=Ni(0);function s(o){var u,h=(o=MA(o)).length,d,p,g=0,f=new Array(h),m=new Array(h),x=+i.apply(this,arguments),T=Math.min(vy,Math.max(-vy,n.apply(this,arguments)-x)),k,E=Math.min(Math.abs(T)/h,a.apply(this,arguments)),S=E*(T<0?-1:1),L;for(u=0;u<h;++u)(L=m[f[u]=u]=+e(o[u],u,o))>0&&(g+=L);for(t!=null?f.sort(function(b,y){return t(m[b],m[y])}):r!=null&&f.sort(function(b,y){return r(o[b],o[y])}),u=0,p=g?(T-h*S)/g:0;u<h;++u,x=k)d=f[u],L=m[d],k=x+(L>0?L*p:0)+S,m[d]={data:o[d],index:u,value:L,startAngle:x,endAngle:k,padAngle:E};return m}return l(s,"pie"),s.value=function(o){return arguments.length?(e=typeof o=="function"?o:Ni(+o),s):e},s.sortValues=function(o){return arguments.length?(t=o,r=null,s):t},s.sort=function(o){return arguments.length?(r=o,t=null,s):r},s.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:Ni(+o),s):i},s.endAngle=function(o){return arguments.length?(n=typeof o=="function"?o:Ni(+o),s):n},s.padAngle=function(o){return arguments.length?(a=typeof o=="function"?o:Ni(+o),s):a},s}var vVe=B(()=>{"use strict";kre(),SA(),mVe(),yVe(),LA(),l(Are,"default")});function DA(e){return new OA(e,!0)}function RA(e){return new OA(e,!1)}var OA,bVe=B(()=>{"use strict";var e;OA=(e=class{constructor(r,i){this._context=r,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,i){switch(r=+r,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,i,r,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,r,this._y0,r,i);break}}this._x0=r,this._y0=i}},l(e,"Bump"),e),l(DA,"bumpX"),l(RA,"bumpY")});function uc(){}var x5=B(()=>{"use strict";l(uc,"default")});function wy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ky(e){this._context=e}function rd(e){return new ky(e)}var w5=B(()=>{"use strict";l(wy,"point"),l(ky,"Basis"),ky.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 3:wy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(rd,"default")});function PA(e){this._context=e}function Lre(e){return new PA(e)}var xVe=B(()=>{"use strict";x5(),w5(),l(PA,"BasisClosed"),PA.prototype={areaStart:uc,areaEnd:uc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(Lre,"default")});function BA(e){this._context=e}function Nre(e){return new BA(e)}var wVe=B(()=>{"use strict";w5(),l(BA,"BasisOpen"),BA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:wy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t},"point")},l(Nre,"default")});function $A(e,t){this._basis=new ky(e),this._beta=t}var Mre,kVe=B(()=>{"use strict";w5(),l($A,"Bundle"),$A.prototype={lineStart:l(function(){this._x=[],this._y=[],this._basis.lineStart()},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i=e[0],n=t[0],a=e[r]-i,s=t[r]-n,o=-1,u;++o<=r;)u=o/r,this._basis.point(this._beta*e[o]+(1-this._beta)*(i+u*a),this._beta*t[o]+(1-this._beta)*(n+u*s));this._x=this._y=null,this._basis.lineEnd()},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},Mre=l((function e(t){function r(i){return t===1?new ky(i):new $A(i,t)}return l(r,"bundle"),r.beta=function(i){return e(+i)},r}),"custom")(.85)});function Ty(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function k5(e,t){this._context=e,this._k=(1-t)/6}var FA,T5=B(()=>{"use strict";l(Ty,"point"),l(k5,"Cardinal"),k5.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ty(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},FA=l((function e(t){function r(i){return new k5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r}),"custom")(0)});function E5(e,t){this._context=e,this._k=(1-t)/6}var Ire,Dre=B(()=>{"use strict";x5(),T5(),l(E5,"CardinalClosed"),E5.prototype={areaStart:uc,areaEnd:uc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Ire=l((function e(t){function r(i){return new E5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r}),"custom")(0)});function C5(e,t){this._context=e,this._k=(1-t)/6}var Rre,Ore=B(()=>{"use strict";T5(),l(C5,"CardinalOpen"),C5.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Rre=l((function e(t){function r(i){return new C5(i,t)}return l(r,"cardinal"),r.tension=function(i){return e(+i)},r}),"custom")(0)});function S5(e,t,r){var i=e._x1,n=e._y1,a=e._x2,s=e._y2;if(e._l01_a>$n){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,n=(n*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>$n){var h=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*h+e._x1*e._l23_2a-t*e._l12_2a)/d,s=(s*h+e._y1*e._l23_2a-r*e._l12_2a)/d}e._context.bezierCurveTo(i,n,a,s,e._x2,e._y2)}function zA(e,t){this._context=e,this._alpha=t}var GA,UA=B(()=>{"use strict";LA(),T5(),l(S5,"point"),l(zA,"CatmullRom"),zA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:S5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},GA=l((function e(t){function r(i){return t?new zA(i,t):new k5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r}),"custom")(.5)});function qA(e,t){this._context=e,this._alpha=t}var Pre,TVe=B(()=>{"use strict";Dre(),x5(),UA(),l(qA,"CatmullRomClosed"),qA.prototype={areaStart:uc,areaEnd:uc,lineStart:l(function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:S5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Pre=l((function e(t){function r(i){return t?new qA(i,t):new E5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r}),"custom")(.5)});function jA(e,t){this._context=e,this._alpha=t}var Bre,EVe=B(()=>{"use strict";Ore(),UA(),l(jA,"CatmullRomOpen"),jA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},"lineStart"),lineEnd:l(function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:S5(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t},"point")},Bre=l((function e(t){function r(i){return t?new jA(i,t):new C5(i,0)}return l(r,"catmullRom"),r.alpha=function(i){return e(+i)},r}),"custom")(.5)});function HA(e){this._context=e}function $re(e){return new HA(e)}var CVe=B(()=>{"use strict";x5(),l(HA,"LinearClosed"),HA.prototype={areaStart:uc,areaEnd:uc,lineStart:l(function(){this._point=0},"lineStart"),lineEnd:l(function(){this._point&&this._context.closePath()},"lineEnd"),point:l(function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))},"point")},l($re,"default")});function VA(e){return e<0?-1:1}function YA(e,t,r){var i=e._x1-e._x0,n=t-e._x1,a=(e._y1-e._y0)/(i||n<0&&-0),s=(r-e._y1)/(n||i<0&&-0),o=(a*n+s*i)/(i+n);return(VA(a)+VA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function WA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function _5(e,t,r){var i=e._x0,n=e._y0,a=e._x1,s=e._y1,o=(a-i)/3;e._context.bezierCurveTo(i+o,n+o*t,a-o,s-o*r,a,s)}function Ey(e){this._context=e}function XA(e){this._context=new KA(e)}function KA(e){this._context=e}function ZA(e){return new Ey(e)}function QA(e){return new XA(e)}var SVe=B(()=>{"use strict";l(VA,"sign"),l(YA,"slope3"),l(WA,"slope2"),l(_5,"point"),l(Ey,"MonotoneX"),Ey.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},"lineStart"),lineEnd:l(function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_5(this,this._t0,WA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},"lineEnd"),point:l(function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_5(this,WA(this,r=YA(this,e,t)),r);break;default:_5(this,this._t0,r=YA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}},"point")},l(XA,"MonotoneY"),(XA.prototype=Object.create(Ey.prototype)).point=function(e,t){Ey.prototype.point.call(this,t,e)},l(KA,"ReflectContext"),KA.prototype={moveTo:l(function(e,t){this._context.moveTo(t,e)},"moveTo"),closePath:l(function(){this._context.closePath()},"closePath"),lineTo:l(function(e,t){this._context.lineTo(t,e)},"lineTo"),bezierCurveTo:l(function(e,t,r,i,n,a){this._context.bezierCurveTo(t,e,i,r,a,n)},"bezierCurveTo")},l(ZA,"monotoneX"),l(QA,"monotoneY")});function JA(e){this._context=e}function e9(e){var t,r=e.length-1,i,n=new Array(r),a=new Array(r),s=new Array(r);for(n[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)i=n[t]/a[t-1],a[t]-=i,s[t]-=i*s[t-1];for(n[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)n[t]=(s[t]-n[t+1])/a[t];for(a[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-n[t+1];return[n,a]}function t9(e){return new JA(e)}var _Ve=B(()=>{"use strict";l(JA,"Natural"),JA.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=[],this._y=[]},"lineStart"),lineEnd:l(function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var i=e9(e),n=e9(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(i[0][a],n[0][a],i[1][a],n[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},"lineEnd"),point:l(function(e,t){this._x.push(+e),this._y.push(+t)},"point")},l(e9,"controlPoints"),l(t9,"default")});function Cy(e,t){this._context=e,this._t=t}function r9(e){return new Cy(e,.5)}function i9(e){return new Cy(e,0)}function n9(e){return new Cy(e,1)}var AVe=B(()=>{"use strict";l(Cy,"Step"),Cy.prototype={areaStart:l(function(){this._line=0},"areaStart"),areaEnd:l(function(){this._line=NaN},"areaEnd"),lineStart:l(function(){this._x=this._y=NaN,this._point=0},"lineStart"),lineEnd:l(function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},"lineEnd"),point:l(function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t},"point")},l(r9,"default"),l(i9,"stepBefore"),l(n9,"stepAfter")}),LVe=B(()=>{"use strict";dVe(),fVe(),vVe(),xVe(),wVe(),w5(),bVe(),kVe(),Dre(),Ore(),T5(),TVe(),EVe(),UA(),CVe(),Tre(),SVe(),_Ve(),AVe()}),NVe=B(()=>{"use strict"}),MVe=B(()=>{"use strict"});function id(e,t,r){this.k=e,this.x=t,this.y=r}function Fre(e){for(;!e.__zoom;)if(!(e=e.parentNode))return zre;return e.__zoom}var zre,Gre=B(()=>{"use strict";l(id,"Transform"),id.prototype={constructor:id,scale:l(function(e){return e===1?this:new id(this.k*e,this.x,this.y)},"scale"),translate:l(function(e,t){return e===0&t===0?this:new id(this.k,this.x+this.k*e,this.y+this.k*t)},"translate"),apply:l(function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},"apply"),applyX:l(function(e){return e*this.k+this.x},"applyX"),applyY:l(function(e){return e*this.k+this.y},"applyY"),invert:l(function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},"invert"),invertX:l(function(e){return(e-this.x)/this.k},"invertX"),invertY:l(function(e){return(e-this.y)/this.k},"invertY"),rescaleX:l(function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},"rescaleX"),rescaleY:l(function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},"rescaleY"),toString:l(function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"},"toString")},zre=new id(1,0,0),Fre.prototype=id.prototype,l(Fre,"transform")}),IVe=B(()=>{"use strict"}),DVe=B(()=>{"use strict";q_(),NVe(),MVe(),Gre(),IVe()}),RVe=B(()=>{"use strict";DVe(),Gre()}),gr=B(()=>{"use strict";Uh(),XUe(),Lje(),Mje(),ty(),Ije(),Dje(),ZX(),Iqe(),Rje(),PJ(),Oje(),Bje(),see(),Xje(),yHe(),ny(),jJ(),vHe(),Pje(),bHe(),lVe(),hVe(),rl(),LVe(),uA(),ore(),P_(),q_(),RVe()}),OVe=ci(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"}),Sy=ci(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=OVe();function r(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}l(r,"isRelativeUrlWithoutProtocol");function i(o){var u=o.replace(t.ctrlCharactersRegex,"");return u.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}l(i,"decodeHtmlCharacters");function n(o){return URL.canParse(o)}l(n,"isValidUrl");function a(o){try{return decodeURIComponent(o)}catch(u){return o}}l(a,"decodeURI");function s(o){if(!o)return t.BLANK_URL;var u,h=a(o.trim());do h=i(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=a(h),u=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(u&&u.length>0);var d=h;if(!d)return t.BLANK_URL;if(r(d))return d;var p=d.trimStart(),g=p.match(t.urlSchemeRegex);if(!g)return d;var f=g[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(f))return t.BLANK_URL;var m=p.replace(/\\/g,"/");if(f==="mailto:"||f.includes("://"))return m;if(f==="http:"||f==="https:"){if(!n(m))return t.BLANK_URL;var x=new URL(m);return x.protocol=x.protocol.toLowerCase(),x.hostname=x.hostname.toLowerCase(),x.toString()}return m}l(s,"sanitizeUrl"),e.sanitizeUrl=s}),a9,_y,s9,Ure,A5,L5,ja,N5,M5=B(()=>{"use strict";a9=Yn(Sy(),1),dr(),_y=l((e,t)=>{let r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),t.attrs!==void 0)for(let i in t.attrs)r.attr(i,t.attrs[i]);return t.class&&r.attr("class",t.class),r},"drawRect"),s9=l((e,t)=>{let r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};_y(e,r).lower()},"drawBackgroundRect"),Ure=l((e,t)=>{let r=t.text.replace(Gh," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),t.class&&i.attr("class",t.class);let n=i.append("tspan");return n.attr("x",t.x+t.textMargin*2),n.text(r),i},"drawText"),A5=l((e,t,r,i)=>{let n=e.append("image");n.attr("x",t),n.attr("y",r);let a=(0,a9.sanitizeUrl)(i);n.attr("xlink:href",a)},"drawImage"),L5=l((e,t,r,i)=>{let n=e.append("use");n.attr("x",t),n.attr("y",r);let a=(0,a9.sanitizeUrl)(i);n.attr("xlink:href",`#${a}`)},"drawEmbeddedImage"),ja=l(()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0}),"getNoteRect"),N5=l(()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0}),"getTextObj")}),qre,I5,o9,jre,Hre,Vre,Yre,Wre,Xre,Kre,Zre,Qre,Jre,eie,tie,ol,go,PVe=B(()=>{"use strict";dr(),M5(),qre=Yn(Sy(),1),I5=l(function(e,t){return _y(e,t)},"drawRect"),o9=l(function(e,t,r,i,n,a){let s=e.append("image");s.attr("width",t),s.attr("height",r),s.attr("x",i),s.attr("y",n);let o=a.startsWith("data:image/png;base64")?a:(0,qre.sanitizeUrl)(a);s.attr("xlink:href",o)},"drawImage"),jre=l((e,t,r)=>{let i=e.append("g"),n=0;for(let a of t){let s=a.textColor?a.textColor:"#444444",o=a.lineColor?a.lineColor:"#444444",u=a.offsetX?parseInt(a.offsetX):0,h=a.offsetY?parseInt(a.offsetY):0,d="";if(n===0){let g=i.append("line");g.attr("x1",a.startPoint.x),g.attr("y1",a.startPoint.y),g.attr("x2",a.endPoint.x),g.attr("y2",a.endPoint.y),g.attr("stroke-width","1"),g.attr("stroke",o),g.style("fill","none"),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)"),n=-1}else{let g=i.append("path");g.attr("fill","none").attr("stroke-width","1").attr("stroke",o).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",a.startPoint.x).replaceAll("starty",a.startPoint.y).replaceAll("controlx",a.startPoint.x+(a.endPoint.x-a.startPoint.x)/2-(a.endPoint.x-a.startPoint.x)/4).replaceAll("controly",a.startPoint.y+(a.endPoint.y-a.startPoint.y)/2).replaceAll("stopx",a.endPoint.x).replaceAll("stopy",a.endPoint.y)),a.type!=="rel_b"&&g.attr("marker-end","url("+d+"#arrowhead)"),(a.type==="birel"||a.type==="rel_b")&&g.attr("marker-start","url("+d+"#arrowend)")}let p=r.messageFont();ol(r)(a.label.text,i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+h,a.label.width,a.label.height,{fill:s},p),a.techn&&a.techn.text!==""&&(p=r.messageFont(),ol(r)("["+a.techn.text+"]",i,Math.min(a.startPoint.x,a.endPoint.x)+Math.abs(a.endPoint.x-a.startPoint.x)/2+u,Math.min(a.startPoint.y,a.endPoint.y)+Math.abs(a.endPoint.y-a.startPoint.y)/2+r.messageFontSize+5+h,Math.max(a.label.width,a.techn.width),a.techn.height,{fill:s,"font-style":"italic"},p))}},"drawRels"),Hre=l(function(e,t,r){let i=e.append("g"),n=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",s=t.fontColor?t.fontColor:"black",o={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(o={"stroke-width":1});let u={x:t.x,y:t.y,fill:n,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:o};I5(i,u);let h=r.boundaryFont();h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=s,ol(r)(t.label.text,i,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},h),t.type&&t.type.text!==""&&(h=r.boundaryFont(),h.fontColor=s,ol(r)(t.type.text,i,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},h)),t.descr&&t.descr.text!==""&&(h=r.boundaryFont(),h.fontSize=h.fontSize-2,h.fontColor=s,ol(r)(t.descr.text,i,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},h))},"drawBoundary"),Vre=l(function(e,t,r){var p;let i=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],n=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],a=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}let o=e.append("g");o.attr("class","person-man");let u=ja();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=i,u.width=t.width,u.height=t.height,u.stroke=n,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},I5(o,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":o.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),o.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",n).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2));break}let h=tie(r,t.typeC4Shape.text);switch(o.append("text").attr("fill",a).attr("font-family",h.fontFamily).attr("font-size",h.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":o9(o,48,48,t.x+t.width/2-24,t.y+t.image.Y,s);break}let d=r[t.typeC4Shape.text+"Font"]();return d.fontWeight="bold",d.fontSize=d.fontSize+2,d.fontColor=a,ol(r)(t.label.text,o,t.x,t.y+t.label.Y,t.width,t.height,{fill:a},d),d=r[t.typeC4Shape.text+"Font"](),d.fontColor=a,t.techn&&((p=t.techn)==null?void 0:p.text)!==""?ol(r)(t.techn.text,o,t.x,t.y+t.techn.Y,t.width,t.height,{fill:a,"font-style":"italic"},d):t.type&&t.type.text!==""&&ol(r)(t.type.text,o,t.x,t.y+t.type.Y,t.width,t.height,{fill:a,"font-style":"italic"},d),t.descr&&t.descr.text!==""&&(d=r.personFont(),d.fontColor=a,ol(r)(t.descr.text,o,t.x,t.y+t.descr.Y,t.width,t.height,{fill:a},d)),t.height},"drawC4Shape"),Yre=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),Wre=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),Xre=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),Kre=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},"insertArrowHead"),Zre=l(function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},"insertArrowEnd"),Qre=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),Jre=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertDynamicNumber"),eie=l(function(e){let t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},"insertArrowCrossHead"),tie=l((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]}),"getC4ShapeFont"),ol=(function(){function e(n,a,s,o,u,h,d){let p=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("text-anchor","middle").text(n);i(p,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p){let{fontSize:g,fontFamily:f,fontWeight:m}=p,x=n.split(at.lineBreakRegex);for(let T=0;T<x.length;T++){let k=T*g-g*(x.length-1)/2,E=a.append("text").attr("x",s+u/2).attr("y",o).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",g).style("font-weight",m).style("font-family",f);E.append("tspan").attr("dy",k).text(x[T]).attr("alignment-baseline","mathematical"),i(E,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}})(),go={drawRect:I5,drawBoundary:Hre,drawC4Shape:Vre,drawRels:jre,drawImage:o9,insertArrowHead:Kre,insertArrowEnd:Zre,insertArrowFilledHead:Qre,insertDynamicNumber:Jre,insertArrowCrossHead:eie,insertDatabaseIcon:Yre,insertComputerIcon:Wre,insertClockIcon:Xre}}),rie,l9,iie=B(()=>{"use strict";rie=typeof global=="object"&&global&&global.Object===Object&&global,l9=rie}),nie,aie,Bs,fo=B(()=>{"use strict";iie(),nie=typeof self=="object"&&self&&self.Object===Object&&self,aie=l9||nie||Function("return this")(),Bs=aie}),sie,hs,yg=B(()=>{"use strict";fo(),sie=Bs.Symbol,hs=sie});function oie(e){var t=lie.call(e,vg),r=e[vg];try{e[vg]=void 0;var i=!0}catch(a){}var n=cie.call(e);return i&&(t?e[vg]=r:delete e[vg]),n}var c9,lie,cie,vg,uie,BVe=B(()=>{"use strict";yg(),c9=Object.prototype,lie=c9.hasOwnProperty,cie=c9.toString,vg=hs?hs.toStringTag:void 0,l(oie,"getRawTag"),uie=oie});function hie(e){return pie.call(e)}var die,pie,gie,$Ve=B(()=>{"use strict";die=Object.prototype,pie=die.toString,l(hie,"objectToString"),gie=hie});function fie(e){return e==null?e===void 0?yie:mie:u9&&u9 in Object(e)?uie(e):gie(e)}var mie,yie,u9,ll,Du=B(()=>{"use strict";yg(),BVe(),$Ve(),mie="[object Null]",yie="[object Undefined]",u9=hs?hs.toStringTag:void 0,l(fie,"baseGetTag"),ll=fie});function vie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ka,$s=B(()=>{"use strict";l(vie,"isObject"),ka=vie});function bie(e){if(!ka(e))return!1;var t=ll(e);return t==wie||t==kie||t==xie||t==Tie}var xie,wie,kie,Tie,ds,D5=B(()=>{"use strict";Du(),$s(),xie="[object AsyncFunction]",wie="[object Function]",kie="[object GeneratorFunction]",Tie="[object Proxy]",l(bie,"isFunction"),ds=bie}),Eie,R5,FVe=B(()=>{"use strict";fo(),Eie=Bs["__core-js_shared__"],R5=Eie});function Cie(e){return!!h9&&h9 in e}var h9,Sie,zVe=B(()=>{"use strict";FVe(),h9=(function(){var e=/[^.]+$/.exec(R5&&R5.keys&&R5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),l(Cie,"isMasked"),Sie=Cie});function _ie(e){if(e!=null){try{return Lie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var Aie,Lie,Ru,Nie=B(()=>{"use strict";Aie=Function.prototype,Lie=Aie.toString,l(_ie,"toSource"),Ru=_ie});function Mie(e){if(!ka(e)||Sie(e))return!1;var t=ds(e)?$ie:Die;return t.test(Ru(e))}var Iie,Die,Rie,Oie,Pie,Bie,$ie,Fie,GVe=B(()=>{"use strict";D5(),zVe(),$s(),Nie(),Iie=/[\\^$.*+?()[\]{}|]/g,Die=/^\[object .+?Constructor\]$/,Rie=Function.prototype,Oie=Object.prototype,Pie=Rie.toString,Bie=Oie.hasOwnProperty,$ie=RegExp("^"+Pie.call(Bie).replace(Iie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),l(Mie,"baseIsNative"),Fie=Mie});function zie(e,t){return e==null?void 0:e[t]}var Gie,UVe=B(()=>{"use strict";l(zie,"getValue"),Gie=zie});function Uie(e,t){var r=Gie(e,t);return Fie(r)?r:void 0}var Ou,nd=B(()=>{"use strict";GVe(),UVe(),l(Uie,"getNative"),Ou=Uie}),qie,bg,O5=B(()=>{"use strict";nd(),qie=Ou(Object,"create"),bg=qie});function jie(){this.__data__=bg?bg(null):{},this.size=0}var Hie,qVe=B(()=>{"use strict";O5(),l(jie,"hashClear"),Hie=jie});function Vie(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yie,jVe=B(()=>{"use strict";l(Vie,"hashDelete"),Yie=Vie});function Wie(e){var t=this.__data__;if(bg){var r=t[e];return r===Xie?void 0:r}return Zie.call(t,e)?t[e]:void 0}var Xie,Kie,Zie,Qie,HVe=B(()=>{"use strict";O5(),Xie="__lodash_hash_undefined__",Kie=Object.prototype,Zie=Kie.hasOwnProperty,l(Wie,"hashGet"),Qie=Wie});function Jie(e){var t=this.__data__;return bg?t[e]!==void 0:tne.call(t,e)}var ene,tne,rne,VVe=B(()=>{"use strict";O5(),ene=Object.prototype,tne=ene.hasOwnProperty,l(Jie,"hashHas"),rne=Jie});function ine(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bg&&t===void 0?nne:t,this}var nne,ane,YVe=B(()=>{"use strict";O5(),nne="__lodash_hash_undefined__",l(ine,"hashSet"),ane=ine});function ad(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var d9,WVe=B(()=>{"use strict";qVe(),jVe(),HVe(),VVe(),YVe(),l(ad,"Hash"),ad.prototype.clear=Hie,ad.prototype.delete=Yie,ad.prototype.get=Qie,ad.prototype.has=rne,ad.prototype.set=ane,d9=ad});function sne(){this.__data__=[],this.size=0}var one,XVe=B(()=>{"use strict";l(sne,"listCacheClear"),one=sne});function lne(e,t){return e===t||e!==e&&t!==t}var sd,xg=B(()=>{"use strict";l(lne,"eq"),sd=lne});function cne(e,t){for(var r=e.length;r--;)if(sd(e[r][0],t))return r;return-1}var Ay,P5=B(()=>{"use strict";xg(),l(cne,"assocIndexOf"),Ay=cne});function une(e){var t=this.__data__,r=Ay(t,e);if(r<0)return!1;var i=t.length-1;return r==i?t.pop():dne.call(t,r,1),--this.size,!0}var hne,dne,pne,KVe=B(()=>{"use strict";P5(),hne=Array.prototype,dne=hne.splice,l(une,"listCacheDelete"),pne=une});function gne(e){var t=this.__data__,r=Ay(t,e);return r<0?void 0:t[r][1]}var fne,ZVe=B(()=>{"use strict";P5(),l(gne,"listCacheGet"),fne=gne});function mne(e){return Ay(this.__data__,e)>-1}var yne,QVe=B(()=>{"use strict";P5(),l(mne,"listCacheHas"),yne=mne});function vne(e,t){var r=this.__data__,i=Ay(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}var bne,JVe=B(()=>{"use strict";P5(),l(vne,"listCacheSet"),bne=vne});function od(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var Ly,B5=B(()=>{"use strict";XVe(),KVe(),ZVe(),QVe(),JVe(),l(od,"ListCache"),od.prototype.clear=one,od.prototype.delete=pne,od.prototype.get=fne,od.prototype.has=yne,od.prototype.set=bne,Ly=od}),xne,wg,p9=B(()=>{"use strict";nd(),fo(),xne=Ou(Bs,"Map"),wg=xne});function wne(){this.size=0,this.__data__={hash:new d9,map:new(wg||Ly),string:new d9}}var kne,eYe=B(()=>{"use strict";WVe(),B5(),p9(),l(wne,"mapCacheClear"),kne=wne});function Tne(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Ene,tYe=B(()=>{"use strict";l(Tne,"isKeyable"),Ene=Tne});function Cne(e,t){var r=e.__data__;return Ene(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ny,$5=B(()=>{"use strict";tYe(),l(Cne,"getMapData"),Ny=Cne});function Sne(e){var t=Ny(this,e).delete(e);return this.size-=t?1:0,t}var _ne,rYe=B(()=>{"use strict";$5(),l(Sne,"mapCacheDelete"),_ne=Sne});function Ane(e){return Ny(this,e).get(e)}var Lne,iYe=B(()=>{"use strict";$5(),l(Ane,"mapCacheGet"),Lne=Ane});function Nne(e){return Ny(this,e).has(e)}var Mne,nYe=B(()=>{"use strict";$5(),l(Nne,"mapCacheHas"),Mne=Nne});function Ine(e,t){var r=Ny(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}var Dne,aYe=B(()=>{"use strict";$5(),l(Ine,"mapCacheSet"),Dne=Ine});function ld(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}var My,g9=B(()=>{"use strict";eYe(),rYe(),iYe(),nYe(),aYe(),l(ld,"MapCache"),ld.prototype.clear=kne,ld.prototype.delete=_ne,ld.prototype.get=Lne,ld.prototype.has=Mne,ld.prototype.set=Dne,My=ld});function F5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rne);var r=l(function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var s=e.apply(this,i);return r.cache=a.set(n,s)||a,s},"memoized");return r.cache=new(F5.Cache||My),r}var Rne,Iy,One=B(()=>{"use strict";g9(),Rne="Expected a function",l(F5,"memoize"),F5.Cache=My,Iy=F5});function Pne(){this.__data__=new Ly,this.size=0}var Bne,sYe=B(()=>{"use strict";B5(),l(Pne,"stackClear"),Bne=Pne});function $ne(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Fne,oYe=B(()=>{"use strict";l($ne,"stackDelete"),Fne=$ne});function zne(e){return this.__data__.get(e)}var Gne,lYe=B(()=>{"use strict";l(zne,"stackGet"),Gne=zne});function Une(e){return this.__data__.has(e)}var qne,cYe=B(()=>{"use strict";l(Une,"stackHas"),qne=Une});function jne(e,t){var r=this.__data__;if(r instanceof Ly){var i=r.__data__;if(!wg||i.length<Hne-1)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new My(i)}return r.set(e,t),this.size=r.size,this}var Hne,Vne,uYe=B(()=>{"use strict";B5(),p9(),g9(),Hne=200,l(jne,"stackSet"),Vne=jne});function cd(e){var t=this.__data__=new Ly(e);this.size=t.size}var ud,z5=B(()=>{"use strict";B5(),sYe(),oYe(),lYe(),cYe(),uYe(),l(cd,"Stack"),cd.prototype.clear=Bne,cd.prototype.delete=Fne,cd.prototype.get=Gne,cd.prototype.has=qne,cd.prototype.set=Vne,ud=cd}),Yne,Dy,Wne=B(()=>{"use strict";nd(),Yne=(function(){try{var e=Ou(Object,"defineProperty");return e({},"",{}),e}catch(t){}})(),Dy=Yne});function Xne(e,t,r){t=="__proto__"&&Dy?Dy(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kg,Ry=B(()=>{"use strict";Wne(),l(Xne,"baseAssignValue"),kg=Xne});function Kne(e,t,r){(r!==void 0&&!sd(e[t],r)||r===void 0&&!(t in e))&&kg(e,t,r)}var G5,Zne=B(()=>{"use strict";Ry(),xg(),l(Kne,"assignMergeValue"),G5=Kne});function Qne(e){return function(t,r,i){for(var n=-1,a=Object(t),s=i(t),o=s.length;o--;){var u=s[e?o:++n];if(r(a[u],u,a)===!1)break}return t}}var Jne,hYe=B(()=>{"use strict";l(Qne,"createBaseFor"),Jne=Qne}),eae,U5,f9=B(()=>{"use strict";hYe(),eae=Jne(),U5=eae});function tae(e,t){if(t)return e.slice();var r=e.length,i=b9?b9(r):new e.constructor(r);return e.copy(i),i}var m9,y9,rae,v9,b9,x9,iae=B(()=>{"use strict";fo(),m9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,y9=m9&&typeof module=="object"&&module&&!module.nodeType&&module,rae=y9&&y9.exports===m9,v9=rae?Bs.Buffer:void 0,b9=v9?v9.allocUnsafe:void 0,l(tae,"cloneBuffer"),x9=tae}),nae,Oy,aae=B(()=>{"use strict";fo(),nae=Bs.Uint8Array,Oy=nae});function sae(e){var t=new e.constructor(e.byteLength);return new Oy(t).set(new Oy(e)),t}var q5,w9=B(()=>{"use strict";aae(),l(sae,"cloneArrayBuffer"),q5=sae});function oae(e,t){var r=t?q5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var k9,lae=B(()=>{"use strict";w9(),l(oae,"cloneTypedArray"),k9=oae});function cae(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}var T9,uae=B(()=>{"use strict";l(cae,"copyArray"),T9=cae}),E9,hae,dae,dYe=B(()=>{"use strict";$s(),E9=Object.create,hae=(function(){function e(){}return l(e,"object"),function(t){if(!ka(t))return{};if(E9)return E9(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}})(),dae=hae});function pae(e,t){return function(r){return e(t(r))}}var C9,gae=B(()=>{"use strict";l(pae,"overArg"),C9=pae}),fae,j5,S9=B(()=>{"use strict";gae(),fae=C9(Object.getPrototypeOf,Object),j5=fae});function mae(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||yae;return e===r}var yae,Tg,Py=B(()=>{"use strict";yae=Object.prototype,l(mae,"isPrototype"),Tg=mae});function vae(e){return typeof e.constructor=="function"&&!Tg(e)?dae(j5(e)):{}}var _9,bae=B(()=>{"use strict";dYe(),S9(),Py(),l(vae,"initCloneObject"),_9=vae});function xae(e){return e!=null&&typeof e=="object"}var ps,mo=B(()=>{"use strict";l(xae,"isObjectLike"),ps=xae});function wae(e){return ps(e)&&ll(e)==kae}var kae,A9,pYe=B(()=>{"use strict";Du(),mo(),kae="[object Arguments]",l(wae,"baseIsArguments"),A9=wae}),L9,Tae,Eae,Cae,hd,By=B(()=>{"use strict";pYe(),mo(),L9=Object.prototype,Tae=L9.hasOwnProperty,Eae=L9.propertyIsEnumerable,Cae=A9((function(){return arguments})())?A9:function(e){return ps(e)&&Tae.call(e,"callee")&&!Eae.call(e,"callee")},hd=Cae}),Sae,xr,ki=B(()=>{"use strict";Sae=Array.isArray,xr=Sae});function _ae(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Aae}var Aae,H5,N9=B(()=>{"use strict";Aae=9007199254740991,l(_ae,"isLength"),H5=_ae});function Lae(e){return e!=null&&H5(e.length)&&!ds(e)}var Fs,yo=B(()=>{"use strict";D5(),N9(),l(Lae,"isArrayLike"),Fs=Lae});function Nae(e){return ps(e)&&Fs(e)}var $y,M9=B(()=>{"use strict";yo(),mo(),l(Nae,"isArrayLikeObject"),$y=Nae});function Mae(){return!1}var Iae,gYe=B(()=>{"use strict";l(Mae,"stubFalse"),Iae=Mae}),I9,D9,Dae,R9,Rae,Oae,dd,Fy=B(()=>{"use strict";fo(),gYe(),I9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D9=I9&&typeof module=="object"&&module&&!module.nodeType&&module,Dae=D9&&D9.exports===I9,R9=Dae?Bs.Buffer:void 0,Rae=R9?R9.isBuffer:void 0,Oae=Rae||Iae,dd=Oae});function Pae(e){if(!ps(e)||ll(e)!=Bae)return!1;var t=j5(e);if(t===null)return!0;var r=zae.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&O9.call(r)==Gae}var Bae,$ae,Fae,O9,zae,Gae,Uae,fYe=B(()=>{"use strict";Du(),S9(),mo(),Bae="[object Object]",$ae=Function.prototype,Fae=Object.prototype,O9=$ae.toString,zae=Fae.hasOwnProperty,Gae=O9.call(Object),l(Pae,"isPlainObject"),Uae=Pae});function qae(e){return ps(e)&&H5(e.length)&&!!ni[ll(e)]}var jae,Hae,Vae,Yae,Wae,Xae,Kae,Zae,Qae,Jae,ese,tse,rse,ise,nse,ase,sse,ose,lse,cse,use,hse,dse,pse,ni,gse,mYe=B(()=>{"use strict";Du(),N9(),mo(),jae="[object Arguments]",Hae="[object Array]",Vae="[object Boolean]",Yae="[object Date]",Wae="[object Error]",Xae="[object Function]",Kae="[object Map]",Zae="[object Number]",Qae="[object Object]",Jae="[object RegExp]",ese="[object Set]",tse="[object String]",rse="[object WeakMap]",ise="[object ArrayBuffer]",nse="[object DataView]",ase="[object Float32Array]",sse="[object Float64Array]",ose="[object Int8Array]",lse="[object Int16Array]",cse="[object Int32Array]",use="[object Uint8Array]",hse="[object Uint8ClampedArray]",dse="[object Uint16Array]",pse="[object Uint32Array]",ni={},ni[ase]=ni[sse]=ni[ose]=ni[lse]=ni[cse]=ni[use]=ni[hse]=ni[dse]=ni[pse]=!0,ni[jae]=ni[Hae]=ni[ise]=ni[Vae]=ni[nse]=ni[Yae]=ni[Wae]=ni[Xae]=ni[Kae]=ni[Zae]=ni[Qae]=ni[Jae]=ni[ese]=ni[tse]=ni[rse]=!1,l(qae,"baseIsTypedArray"),gse=qae});function fse(e){return function(t){return e(t)}}var pd,Eg=B(()=>{"use strict";l(fse,"baseUnary"),pd=fse}),P9,Cg,mse,V5,yse,hc,Y5=B(()=>{"use strict";iie(),P9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cg=P9&&typeof module=="object"&&module&&!module.nodeType&&module,mse=Cg&&Cg.exports===P9,V5=mse&&l9.process,yse=(function(){try{var e=Cg&&Cg.require&&Cg.require("util").types;return e||V5&&V5.binding&&V5.binding("util")}catch(t){}})(),hc=yse}),B9,vse,zy,W5=B(()=>{"use strict";mYe(),Eg(),Y5(),B9=hc&&hc.isTypedArray,vse=B9?pd(B9):gse,zy=vse});function bse(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var X5,xse=B(()=>{"use strict";l(bse,"safeGet"),X5=bse});function wse(e,t,r){var i=e[t];(!(Tse.call(e,t)&&sd(i,r))||r===void 0&&!(t in e))&&kg(e,t,r)}var kse,Tse,Sg,Gy=B(()=>{"use strict";Ry(),xg(),kse=Object.prototype,Tse=kse.hasOwnProperty,l(wse,"assignValue"),Sg=wse});function Ese(e,t,r,i){var n=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var o=t[a],u=i?i(r[o],e[o],o,r,e):void 0;u===void 0&&(u=e[o]),n?kg(r,o,u):Sg(r,o,u)}return r}var gd,_g=B(()=>{"use strict";Gy(),Ry(),l(Ese,"copyObject"),gd=Ese});function Cse(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}var Sse,yYe=B(()=>{"use strict";l(Cse,"baseTimes"),Sse=Cse});function _se(e,t){var r=typeof e;return t=t!=null?t:Ase,!!t&&(r=="number"||r!="symbol"&&Lse.test(e))&&e>-1&&e%1==0&&e<t}var Ase,Lse,Uy,K5=B(()=>{"use strict";Ase=9007199254740991,Lse=/^(?:0|[1-9]\d*)$/,l(_se,"isIndex"),Uy=_se});function Nse(e,t){var r=xr(e),i=!r&&hd(e),n=!r&&!i&&dd(e),a=!r&&!i&&!n&&zy(e),s=r||i||n||a,o=s?Sse(e.length,String):[],u=o.length;for(var h in e)(t||Ise.call(e,h))&&!(s&&(h=="length"||n&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Uy(h,u)))&&o.push(h);return o}var Mse,Ise,$9,Dse=B(()=>{"use strict";yYe(),By(),ki(),Fy(),K5(),W5(),Mse=Object.prototype,Ise=Mse.hasOwnProperty,l(Nse,"arrayLikeKeys"),$9=Nse});function Rse(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Ose,vYe=B(()=>{"use strict";l(Rse,"nativeKeysIn"),Ose=Rse});function Pse(e){if(!ka(e))return Ose(e);var t=Tg(e),r=[];for(var i in e)i=="constructor"&&(t||!$se.call(e,i))||r.push(i);return r}var Bse,$se,Fse,bYe=B(()=>{"use strict";$s(),Py(),vYe(),Bse=Object.prototype,$se=Bse.hasOwnProperty,l(Pse,"baseKeysIn"),Fse=Pse});function zse(e){return Fs(e)?$9(e,!0):Fse(e)}var Pu,fd=B(()=>{"use strict";Dse(),bYe(),yo(),l(zse,"keysIn"),Pu=zse});function Gse(e){return gd(e,Pu(e))}var Use,xYe=B(()=>{"use strict";_g(),fd(),l(Gse,"toPlainObject"),Use=Gse});function qse(e,t,r,i,n,a,s){var o=X5(e,r),u=X5(t,r),h=s.get(u);if(h){G5(e,r,h);return}var d=a?a(o,u,r+"",e,t,s):void 0,p=d===void 0;if(p){var g=xr(u),f=!g&&dd(u),m=!g&&!f&&zy(u);d=u,g||f||m?xr(o)?d=o:$y(o)?d=T9(o):f?(p=!1,d=x9(u,!0)):m?(p=!1,d=k9(u,!0)):d=[]:Uae(u)||hd(u)?(d=o,hd(o)?d=Use(o):(!ka(o)||ds(o))&&(d=_9(u))):p=!1}p&&(s.set(u,d),n(d,u,i,a,s),s.delete(u)),G5(e,r,d)}var jse,wYe=B(()=>{"use strict";Zne(),iae(),lae(),uae(),bae(),By(),ki(),M9(),Fy(),D5(),$s(),fYe(),W5(),xse(),xYe(),l(qse,"baseMergeDeep"),jse=qse});function F9(e,t,r,i,n){e!==t&&U5(t,function(a,s){if(n||(n=new ud),ka(a))jse(e,t,s,r,F9,i,n);else{var o=i?i(X5(e,s),a,s+"",e,t,n):void 0;o===void 0&&(o=a),G5(e,s,o)}},Pu)}var Hse,kYe=B(()=>{"use strict";z5(),Zne(),f9(),wYe(),$s(),fd(),xse(),l(F9,"baseMerge"),Hse=F9});function Vse(e){return e}var cl,Bu=B(()=>{"use strict";l(Vse,"identity"),cl=Vse});function Yse(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Wse,TYe=B(()=>{"use strict";l(Yse,"apply"),Wse=Yse});function Xse(e,t,r){return t=z9(t===void 0?e.length-1:t,0),function(){for(var i=arguments,n=-1,a=z9(i.length-t,0),s=Array(a);++n<a;)s[n]=i[t+n];n=-1;for(var o=Array(t+1);++n<t;)o[n]=i[n];return o[t]=r(s),Wse(e,this,o)}}var z9,G9,Kse=B(()=>{"use strict";TYe(),z9=Math.max,l(Xse,"overRest"),G9=Xse});function Zse(e){return function(){return e}}var dc,Qse=B(()=>{"use strict";l(Zse,"constant"),dc=Zse}),Jse,eoe,EYe=B(()=>{"use strict";Qse(),Wne(),Bu(),Jse=Dy?function(e,t){return Dy(e,"toString",{configurable:!0,enumerable:!1,value:dc(t),writable:!0})}:cl,eoe=Jse});function toe(e){var t=0,r=0;return function(){var i=noe(),n=ioe-(i-r);if(r=i,n>0){if(++t>=roe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var roe,ioe,noe,aoe,CYe=B(()=>{"use strict";roe=800,ioe=16,noe=Date.now,l(toe,"shortOut"),aoe=toe}),soe,U9,ooe=B(()=>{"use strict";EYe(),CYe(),soe=aoe(eoe),U9=soe});function loe(e,t){return U9(G9(e,t,cl),e+"")}var Ag,qy=B(()=>{"use strict";Bu(),Kse(),ooe(),l(loe,"baseRest"),Ag=loe});function coe(e,t,r){if(!ka(r))return!1;var i=typeof t;return(i=="number"?Fs(r)&&Uy(t,r.length):i=="string"&&t in r)?sd(r[t],e):!1}var $u,Lg=B(()=>{"use strict";xg(),yo(),K5(),$s(),l(coe,"isIterateeCall"),$u=coe});function uoe(e){return Ag(function(t,r){var i=-1,n=r.length,a=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(a=e.length>3&&typeof a=="function"?(n--,a):void 0,s&&$u(r[0],r[1],s)&&(a=n<3?void 0:a,n=1),t=Object(t);++i<n;){var o=r[i];o&&e(t,o,i,a)}return t})}var q9,hoe=B(()=>{"use strict";qy(),Lg(),l(uoe,"createAssigner"),q9=uoe}),doe,jy,poe=B(()=>{"use strict";kYe(),hoe(),doe=q9(function(e,t,r){Hse(e,t,r)}),jy=doe});function j9(e,t){var i;if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return(i=woe[r])!=null?i:t}function goe(e,t){let r=e.trim();if(r)return t.securityLevel!=="loose"?(0,xoe.sanitizeUrl)(r):r}function H9(e,t){return!e||!t?0:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function foe(e){let t,r=0;e.forEach(n=>{r+=H9(n,t),t=n});let i=r/2;return Q5(e,i)}function moe(e){return e.length===1?e[0]:foe(e)}function yoe(e,t,r){let i=structuredClone(r);ae.info("our points",i),t!=="start_left"&&t!=="start_right"&&i.reverse();let n=25+e,a=Q5(i,n),s=10+e*.5,o=Math.atan2(i[0].y-a.y,i[0].x-a.x),u={x:0,y:0};return t==="start_left"?(u.x=Math.sin(o+Math.PI)*s+(i[0].x+a.x)/2,u.y=-Math.cos(o+Math.PI)*s+(i[0].y+a.y)/2):t==="end_right"?(u.x=Math.sin(o-Math.PI)*s+(i[0].x+a.x)/2-5,u.y=-Math.cos(o-Math.PI)*s+(i[0].y+a.y)/2-5):t==="end_left"?(u.x=Math.sin(o)*s+(i[0].x+a.x)/2-5,u.y=-Math.cos(o)*s+(i[0].y+a.y)/2-5):(u.x=Math.sin(o)*s+(i[0].x+a.x)/2,u.y=-Math.cos(o)*s+(i[0].y+a.y)/2),u}function V9(e){let t="",r="";for(let i of e)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}function voe(e){let t="",r="0123456789abcdef",i=r.length;for(let n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*i));return t}function Z5(e,t){return J5(e,t).height}function Ta(e,t){return J5(e,t).width}function Y9(e){return"str"in e}function Ea(e,t){return jy({},e,t)}function ia(e){return e!=null?e:null}function boe(e,t){let r=Math.round(e.x),i=Math.round(e.y),n=t.replace(/(\d+\.\d+)/g,a=>Math.round(parseFloat(a)).toString());return n.includes(r.toString())||n.includes(i.toString())}var xoe,W9,woe,koe,Toe,X9,Eoe,Coe,Soe,K9,Q5,_oe,Z9,Q9,J9,Aoe,Loe,eL,Noe,J5,Moe,e6,Ioe,Doe,Fu,cr,Roe,vo,md,Jt=B(()=>{"use strict";var e;xoe=Yn(Sy(),1),gr(),dr(),VH(),lt(),Yp(),Wf(),One(),poe(),_S(),W9="\u200B",woe={curveBasis:rd,curveBasisClosed:Lre,curveBasisOpen:Nre,curveBumpX:DA,curveBumpY:RA,curveBundle:Mre,curveCardinalClosed:Ire,curveCardinalOpen:Rre,curveCardinal:FA,curveCatmullRomClosed:Pre,curveCatmullRomOpen:Bre,curveCatmullRom:GA,curveLinear:xy,curveLinearClosed:$re,curveMonotoneX:ZA,curveMonotoneY:QA,curveNatural:t9,curveStep:r9,curveStepAfter:n9,curveStepBefore:i9},koe=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Toe=l(function(t,r){let i=X9(t,/(?:init\b)|(?:initialize\b)/),n={};if(Array.isArray(i)){let o=i.map(u=>u.args);am(o),n=Ai(n,[...o])}else n=i.args;if(!n)return;let a=p3(t,r),s="config";return n[s]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),n[a]=n[s],delete n[s]),n},"detectInit"),X9=l(function(t,r=null){var i,n;try{let a=new RegExp(`[%]{2}(?![{]${koe.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(a,"").replace(/'/gm,'"'),ae.debug(`Detecting diagram directive${r!==null?" type:"+r:""} based on the text:${t}`);let s,o=[];for(;(s=Vp.exec(t))!==null;)if(s.index===Vp.lastIndex&&Vp.lastIndex++,s&&!r||r&&((i=s[1])==null?void 0:i.match(r))||r&&((n=s[2])==null?void 0:n.match(r))){let u=s[1]?s[1]:s[2],h=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:u,args:h})}return o.length===0?{type:t,args:null}:o.length===1?o[0]:o}catch(a){return ae.error(`ERROR: ${a.message} - Unable to parse directive type: '${r}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Eoe=l(function(t){return t.replace(Vp,"")},"removeDirectives"),Coe=l(function(t,r){for(let[i,n]of r.entries())if(n.match(t))return i;return-1},"isSubstringInArray"),l(j9,"interpolateToCurve"),l(goe,"formatUrl"),Soe=l((t,...r)=>{let i=t.split("."),n=i.length-1,a=i[n],s=window;for(let o=0;o<n;o++)if(s=s[i[o]],!s){ae.error(`Function name: ${t} not found in window`);return}s[a](...r)},"runFunc"),l(H9,"distance"),l(foe,"traverseEdge"),l(moe,"calcLabelPosition"),K9=l((t,r=2)=>{let i=Math.pow(10,r);return Math.round(t*i)/i},"roundNumber"),Q5=l((t,r)=>{let i,n=r;for(let a of t){if(i){let s=H9(a,i);if(s===0)return i;if(s<n)n-=s;else{let o=n/s;if(o<=0)return i;if(o>=1)return{x:a.x,y:a.y};if(o>0&&o<1)return{x:K9((1-o)*i.x+o*a.x,5),y:K9((1-o)*i.y+o*a.y,5)}}}i=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),_oe=l((t,r,i)=>{ae.info(`our points ${JSON.stringify(r)}`),r[0]!==i&&(r=r.reverse());let n=Q5(r,25),a=t?10:5,s=Math.atan2(r[0].y-n.y,r[0].x-n.x),o={x:0,y:0};return o.x=Math.sin(s)*a+(r[0].x+n.x)/2,o.y=-Math.cos(s)*a+(r[0].y+n.y)/2,o},"calcCardinalityPosition"),l(yoe,"calcTerminalLabelPosition"),l(V9,"getStylesFromArray"),Z9=0,Q9=l(()=>(Z9++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Z9),"generateId"),l(voe,"makeRandomHex"),J9=l(t=>voe(t.length),"random"),Aoe=l(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Loe=l(function(t,r){let i=r.text.replace(at.lineBreakRegex," "),[,n]=Fu(r.fontSize),a=t.append("text");a.attr("x",r.x),a.attr("y",r.y),a.style("text-anchor",r.anchor),a.style("font-family",r.fontFamily),a.style("font-size",n),a.style("font-weight",r.fontWeight),a.attr("fill",r.fill),r.class!==void 0&&a.attr("class",r.class);let s=a.append("tspan");return s.attr("x",r.x+r.textMargin*2),s.attr("fill",r.fill),s.text(i),a},"drawSimpleText"),eL=Iy((t,r,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),at.lineBreakRegex.test(t)))return t;let n=t.split(" ").filter(Boolean),a=[],s="";return n.forEach((o,u)=>{let h=Ta(`${o} `,i),d=Ta(s,i);if(h>r){let{hyphenatedStrings:p,remainingWord:g}=Noe(o,r,"-",i);a.push(s,...p),s=g}else d+h>=r?(a.push(s),s=o):s=[s,o].filter(Boolean).join(" ");u+1===n.length&&a.push(s)}),a.filter(o=>o!=="").join(i.joinWith)},(t,r,i)=>`${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Noe=Iy((t,r,i="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);let a=[...t],s=[],o="";return a.forEach((u,h)=>{let d=`${o}${u}`;if(Ta(d,n)>=r){let p=h+1,g=a.length===p,f=`${d}${i}`;s.push(g?d:f),o=""}else o=d}),{hyphenatedStrings:s,remainingWord:o}},(t,r,i="-",n)=>`${t}${r}${i}${n.fontSize}${n.fontWeight}${n.fontFamily}`),l(Z5,"calculateTextHeight"),l(Ta,"calculateTextWidth"),J5=Iy((t,r)=>{let{fontSize:i=12,fontFamily:n="Arial",fontWeight:a=400}=r;if(!t)return{width:0,height:0};let[,s]=Fu(i),o=["sans-serif",n],u=t.split(at.lineBreakRegex),h=[],d=Ze("body");if(!d.remove)return{width:0,height:0,lineHeight:0};let p=d.append("svg");for(let f of o){let m=0,x={width:0,height:0,lineHeight:0};for(let T of u){let k=Aoe();k.text=T||W9;let E=Loe(p,k).style("font-size",s).style("font-weight",a).style("font-family",f),S=(E._groups||E)[0][0].getBBox();if(S.width===0&&S.height===0)throw new Error("svg element not in render tree");x.width=Math.round(Math.max(x.width,S.width)),m=Math.round(S.height),x.height+=m,x.lineHeight=Math.round(Math.max(x.lineHeight,m))}h.push(x)}p.remove();let g=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[g]},(t,r)=>`${t}${r.fontSize}${r.fontWeight}${r.fontFamily}`),Moe=(e=class{constructor(r=!1,i){this.count=0,this.count=i?i.length:0,this.next=r?()=>this.count++:()=>Date.now()}},l(e,"InitIDGenerator"),e),Ioe=l(function(t){return e6=e6||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),e6.innerHTML=t,unescape(e6.textContent)},"entityDecode"),l(Y9,"isDetailedError"),Doe=l((t,r,i,n)=>{var s;if(!n)return;let a=(s=t.node())==null?void 0:s.getBBox();a&&t.append("text").text(n).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-i).attr("class",r)},"insertTitle"),Fu=l(t=>{if(typeof t=="number")return[t,t+"px"];let r=parseInt(t!=null?t:"",10);return Number.isNaN(r)?[void 0,void 0]:t===String(r)?[r,t+"px"]:[r,t]},"parseFontSize"),l(Ea,"cleanAndMerge"),cr={assignWithDepth:Ai,wrapLabel:eL,calculateTextHeight:Z5,calculateTextWidth:Ta,calculateTextDimensions:J5,cleanAndMerge:Ea,detectInit:Toe,detectDirective:X9,isSubstringInArray:Coe,interpolateToCurve:j9,calcLabelPosition:moe,calcCardinalityPosition:_oe,calcTerminalLabelPosition:yoe,formatUrl:goe,getStylesFromArray:V9,generateId:Q9,random:J9,runFunc:Soe,entityDecode:Ioe,insertTitle:Doe,isLabelCoordinateInPath:boe,parseFontSize:Fu,InitIDGenerator:Moe},Roe=l(function(t){let r=t;return r=r.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),r=r.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),r=r.replace(/#\w+;/g,function(i){let n=i.substring(1,i.length-1);return/^\+?\d+$/.test(n)?"\uFB02\xB0\xB0"+n+"\xB6\xDF":"\uFB02\xB0"+n+"\xB6\xDF"}),r},"encodeEntities"),vo=l(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),md=l((t,r,{counter:i=0,prefix:n,suffix:a},s)=>s||`${n?`${n}_`:""}${t}_${r}_${i}${a?`_${a}`:""}`,"getEdgeId"),l(ia,"handleUndefinedAttr"),l(boe,"isLabelCoordinateInPath")});function zs(e,t,r,i,n){if(!t[e].width)if(r)t[e].text=eL(t[e].text,n,i),t[e].textLines=t[e].text.split(at.lineBreakRegex).length,t[e].width=n,t[e].height=Z5(t[e].text,i);else{let a=t[e].text.split(at.lineBreakRegex);t[e].textLines=a.length;let s=0;t[e].height=0,t[e].width=0;for(let o of a)t[e].width=Math.max(Ta(o,i),t[e].width),s=Z5(o,i),t[e].height=t[e].height+s}}function tL(e,t,r,i,n){let a=new iL(n);a.data.widthLimit=r.data.widthLimit/Math.min(t6,i.length);for(let[s,o]of i.entries()){let u=0;o.image={width:0,height:0,Y:0},o.sprite&&(o.image.width=48,o.image.height=48,o.image.Y=u,u=o.image.Y+o.image.height);let h=o.wrap&&Ft.wrap,d=Yy(Ft);if(d.fontSize=d.fontSize+2,d.fontWeight="bold",zs("label",o,h,d,a.data.widthLimit),o.label.Y=u+8,u=o.label.Y+o.label.height,o.type&&o.type.text!==""){o.type.text="["+o.type.text+"]";let m=Yy(Ft);zs("type",o,h,m,a.data.widthLimit),o.type.Y=u+5,u=o.type.Y+o.type.height}if(o.descr&&o.descr.text!==""){let m=Yy(Ft);m.fontSize=m.fontSize-2,zs("descr",o,h,m,a.data.widthLimit),o.descr.Y=u+20,u=o.descr.Y+o.descr.height}if(s==0||s%t6===0){let m=r.data.startx+Ft.diagramMarginX,x=r.data.stopy+Ft.diagramMarginY+u;a.setData(m,m,x,x)}else{let m=a.data.stopx!==a.data.startx?a.data.stopx+Ft.diagramMarginX:a.data.startx,x=a.data.starty;a.setData(m,m,x,x)}a.name=o.alias;let p=n.db.getC4ShapeArray(o.alias),g=n.db.getC4ShapeKeys(o.alias);g.length>0&&aL(a,e,p,g),t=o.alias;let f=n.db.getBoundaries(t);f.length>0&&tL(e,t,a,f,n),o.alias!=="global"&&nL(e,o,a),r.data.stopy=Math.max(a.data.stopy+Ft.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+Ft.c4ShapeMargin,r.data.stopx),Hy=Math.max(Hy,r.data.stopx),Vy=Math.max(Vy,r.data.stopy)}}var Hy,Vy,rL,t6,Ft,iL,r6,Ng,Yy,Ooe,nL,aL,gs,sL,Poe,Boe,$oe,oL,SYe=B(()=>{"use strict";var e,t;gr(),PVe(),lt(),PW(),dr(),wX(),qt(),Wf(),Jt(),pn(),Hy=0,Vy=0,rL=4,t6=2,Om.yy=E3,Ft={},iL=(e=class{constructor(i){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,r6(i.db.getConfig())}setData(i,n,a,s){this.nextData.startx=this.data.startx=i,this.nextData.stopx=this.data.stopx=n,this.nextData.starty=this.data.starty=a,this.nextData.stopy=this.data.stopy=s}updateVal(i,n,a,s){i[n]===void 0?i[n]=a:i[n]=s(a,i[n])}insert(i){this.nextData.cnt=this.nextData.cnt+1;let n=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+i.margin:this.nextData.stopx+i.margin*2,a=n+i.width,s=this.nextData.starty+i.margin*2,o=s+i.height;(n>=this.data.widthLimit||a>=this.data.widthLimit||this.nextData.cnt>rL)&&(n=this.nextData.startx+i.margin+Ft.nextLinePaddingX,s=this.nextData.stopy+i.margin*2,this.nextData.stopx=a=n+i.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=o=s+i.height,this.nextData.cnt=1),i.x=n,i.y=s,this.updateVal(this.data,"startx",n,Math.min),this.updateVal(this.data,"starty",s,Math.min),this.updateVal(this.data,"stopx",a,Math.max),this.updateVal(this.data,"stopy",o,Math.max),this.updateVal(this.nextData,"startx",n,Math.min),this.updateVal(this.nextData,"starty",s,Math.min),this.updateVal(this.nextData,"stopx",a,Math.max),this.updateVal(this.nextData,"stopy",o,Math.max)}init(i){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},r6(i.db.getConfig())}bumpLastMargin(i){this.data.stopx+=i,this.data.stopy+=i}},l(e,"Bounds"),e),r6=l(function(r){Ai(Ft,r),r.fontFamily&&(Ft.personFontFamily=Ft.systemFontFamily=Ft.messageFontFamily=r.fontFamily),r.fontSize&&(Ft.personFontSize=Ft.systemFontSize=Ft.messageFontSize=r.fontSize),r.fontWeight&&(Ft.personFontWeight=Ft.systemFontWeight=Ft.messageFontWeight=r.fontWeight)},"setConf"),Ng=l((r,i)=>({fontFamily:r[i+"FontFamily"],fontSize:r[i+"FontSize"],fontWeight:r[i+"FontWeight"]}),"c4ShapeFont"),Yy=l(r=>({fontFamily:r.boundaryFontFamily,fontSize:r.boundaryFontSize,fontWeight:r.boundaryFontWeight}),"boundaryFont"),Ooe=l(r=>({fontFamily:r.messageFontFamily,fontSize:r.messageFontSize,fontWeight:r.messageFontWeight}),"messageFont"),l(zs,"calcC4ShapeTextWH"),nL=l(function(r,i,n){i.x=n.data.startx,i.y=n.data.starty,i.width=n.data.stopx-n.data.startx,i.height=n.data.stopy-n.data.starty,i.label.y=Ft.c4ShapeMargin-35;let a=i.wrap&&Ft.wrap,s=Yy(Ft);s.fontSize=s.fontSize+2,s.fontWeight="bold";let o=Ta(i.label.text,s);zs("label",i,a,s,o),go.drawBoundary(r,i,Ft)},"drawBoundary"),aL=l(function(r,i,n,a){let s=0;for(let o of a){s=0;let u=n[o],h=Ng(Ft,u.typeC4Shape.text);switch(h.fontSize=h.fontSize-2,u.typeC4Shape.width=Ta("\xAB"+u.typeC4Shape.text+"\xBB",h),u.typeC4Shape.height=h.fontSize+2,u.typeC4Shape.Y=Ft.c4ShapePadding,s=u.typeC4Shape.Y+u.typeC4Shape.height-4,u.image={width:0,height:0,Y:0},u.typeC4Shape.text){case"person":case"external_person":u.image.width=48,u.image.height=48,u.image.Y=s,s=u.image.Y+u.image.height;break}u.sprite&&(u.image.width=48,u.image.height=48,u.image.Y=s,s=u.image.Y+u.image.height);let d=u.wrap&&Ft.wrap,p=Ft.width-Ft.c4ShapePadding*2,g=Ng(Ft,u.typeC4Shape.text);if(g.fontSize=g.fontSize+2,g.fontWeight="bold",zs("label",u,d,g,p),u.label.Y=s+8,s=u.label.Y+u.label.height,u.type&&u.type.text!==""){u.type.text="["+u.type.text+"]";let x=Ng(Ft,u.typeC4Shape.text);zs("type",u,d,x,p),u.type.Y=s+5,s=u.type.Y+u.type.height}else if(u.techn&&u.techn.text!==""){u.techn.text="["+u.techn.text+"]";let x=Ng(Ft,u.techn.text);zs("techn",u,d,x,p),u.techn.Y=s+5,s=u.techn.Y+u.techn.height}let f=s,m=u.label.width;if(u.descr&&u.descr.text!==""){let x=Ng(Ft,u.typeC4Shape.text);zs("descr",u,d,x,p),u.descr.Y=s+20,s=u.descr.Y+u.descr.height,m=Math.max(u.label.width,u.descr.width),f=s-u.descr.textLines*5}m=m+Ft.c4ShapePadding,u.width=Math.max(u.width||Ft.width,m,Ft.width),u.height=Math.max(u.height||Ft.height,f,Ft.height),u.margin=u.margin||Ft.c4ShapeMargin,r.insert(u),go.drawC4Shape(i,u,Ft)}r.bumpLastMargin(Ft.c4ShapeMargin)},"drawC4ShapeArray"),gs=(t=class{constructor(i,n){this.x=i,this.y=n}},l(t,"Point"),t),sL=l(function(r,i){let n=r.x,a=r.y,s=i.x,o=i.y,u=n+r.width/2,h=a+r.height/2,d=Math.abs(n-s),p=Math.abs(a-o),g=p/d,f=r.height/r.width,m=null;return a==o&&n<s?m=new gs(n+r.width,h):a==o&&n>s?m=new gs(n,h):n==s&&a<o?m=new gs(u,a+r.height):n==s&&a>o&&(m=new gs(u,a)),n>s&&a<o?f>=g?m=new gs(n,h+g*r.width/2):m=new gs(u-d/p*r.height/2,a+r.height):n<s&&a<o?f>=g?m=new gs(n+r.width,h+g*r.width/2):m=new gs(u+d/p*r.height/2,a+r.height):n<s&&a>o?f>=g?m=new gs(n+r.width,h-g*r.width/2):m=new gs(u+r.height/2*d/p,a):n>s&&a>o&&(f>=g?m=new gs(n,h-r.width/2*g):m=new gs(u-r.height/2*d/p,a)),m},"getIntersectPoint"),Poe=l(function(r,i){let n={x:0,y:0};n.x=i.x+i.width/2,n.y=i.y+i.height/2;let a=sL(r,n);n.x=r.x+r.width/2,n.y=r.y+r.height/2;let s=sL(i,n);return{startPoint:a,endPoint:s}},"getIntersectPoints"),Boe=l(function(r,i,n,a){let s=0;for(let o of i){s=s+1;let u=o.wrap&&Ft.wrap,h=Ooe(Ft);a.db.getC4Type()==="C4Dynamic"&&(o.label.text=s+": "+o.label.text);let d=Ta(o.label.text,h);zs("label",o,u,h,d),o.techn&&o.techn.text!==""&&(d=Ta(o.techn.text,h),zs("techn",o,u,h,d)),o.descr&&o.descr.text!==""&&(d=Ta(o.descr.text,h),zs("descr",o,u,h,d));let p=n(o.from),g=n(o.to),f=Poe(p,g);o.startPoint=f.startPoint,o.endPoint=f.endPoint}go.drawRels(r,i,Ft)},"drawRels"),l(tL,"drawInsideBoundary"),$oe=l(function(r,i,n,a){Ft=Ce().c4;let s=Ce().securityLevel,o;s==="sandbox"&&(o=Ze("#i"+i));let u=Ze(s==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=a.db;a.db.setWrap(Ft.wrap),rL=h.getC4ShapeInRow(),t6=h.getC4BoundaryInRow(),ae.debug(`C:${JSON.stringify(Ft,null,2)}`);let d=s==="sandbox"?u.select(`[id="${i}"]`):Ze(`[id="${i}"]`);go.insertComputerIcon(d),go.insertDatabaseIcon(d),go.insertClockIcon(d);let p=new iL(a);p.setData(Ft.diagramMarginX,Ft.diagramMarginX,Ft.diagramMarginY,Ft.diagramMarginY),p.data.widthLimit=screen.availWidth,Hy=Ft.diagramMarginX,Vy=Ft.diagramMarginY;let g=a.db.getTitle(),f=a.db.getBoundaries("");tL(d,"",p,f,a),go.insertArrowHead(d),go.insertArrowEnd(d),go.insertArrowCrossHead(d),go.insertArrowFilledHead(d),Boe(d,a.db.getRels(),a.db.getC4Shape,a),p.data.stopx=Hy,p.data.stopy=Vy;let m=p.data,x=m.stopy-m.starty+2*Ft.diagramMarginY,T=m.stopx-m.startx+2*Ft.diagramMarginX;g&&d.append("text").text(g).attr("x",(m.stopx-m.startx)/2-4*Ft.diagramMarginX).attr("y",m.starty+Ft.diagramMarginY),ta(d,x,T,Ft.useMaxWidth);let k=g?60:0;d.attr("viewBox",m.startx-Ft.diagramMarginX+" -"+(Ft.diagramMarginY+k)+" "+T+" "+(x+k)),ae.debug("models:",m)},"draw"),oL={drawPersonOrSystemArray:aL,drawBoundary:nL,setConf:r6,draw:$oe}}),Foe,zoe,_Ye=B(()=>{"use strict";Foe=l(e=>`.person {
    stroke: ${e.personBorder};
    fill: ${e.personBkg};
  }
`,"getStyles"),zoe=Foe}),Goe={};nr(Goe,{diagram:()=>Uoe});var Uoe,AYe=B(()=>{"use strict";PW(),wX(),SYe(),_Ye(),Uoe={parser:OW,db:E3,renderer:oL,styles:zoe,init:l(({c4:e,wrap:t})=>{oL.setConf(e),E3.setWrap(t)},"init")}});function lL(e){return typeof e>"u"||e===null}function qoe(e){return typeof e=="object"&&e!==null}function joe(e){return Array.isArray(e)?e:lL(e)?[]:[e]}function Hoe(e,t){var r,i,n,a;if(t)for(a=Object.keys(t),r=0,i=a.length;r<i;r+=1)n=a[r],e[n]=t[n];return e}function Voe(e,t){var r="",i;for(i=0;i<t;i+=1)r+=e;return r}function Yoe(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}function cL(e,t){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function Mg(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=cL(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}function i6(e,t,r,i,n){var a="",s="",o=Math.floor(n/2)-1;return i-t>o&&(a=" ... ",t=i-o+a.length),r-i>o&&(s=" ...",r=i+o-s.length),{str:a+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:i-t+a.length}}function n6(e,t){return Qi.repeat(" ",t-e.length)+e}function Woe(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],n=[],a,s=-1;a=r.exec(e.buffer);)n.push(a.index),i.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=i.length-2);s<0&&(s=i.length-1);var o="",u,h,d=Math.min(e.line+t.linesAfter,n.length).toString().length,p=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)h=i6(e.buffer,i[s-u],n[s-u],e.position-(i[s]-i[s-u]),p),o=Qi.repeat(" ",t.indent)+n6((e.line-u+1).toString(),d)+" | "+h.str+`
`+o;for(h=i6(e.buffer,i[s],n[s],e.position,p),o+=Qi.repeat(" ",t.indent)+n6((e.line+1).toString(),d)+" | "+h.str+`
`,o+=Qi.repeat("-",t.indent+d+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=n.length);u++)h=i6(e.buffer,i[s+u],n[s+u],e.position-(i[s]-i[s+u]),p),o+=Qi.repeat(" ",t.indent)+n6((e.line+u+1).toString(),d)+" | "+h.str+`
`;return o.replace(/\n$/,"")}function Xoe(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){t[String(i)]=r})}),t}function Koe(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(pce.indexOf(r)===-1)throw new Sa('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Xoe(t.styleAliases||null),gce.indexOf(this.kind)===-1)throw new Sa('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}function uL(e,t){var r=[];return e[t].forEach(function(i){var n=r.length;r.forEach(function(a,s){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(n=s)}),r[n]=i}),r}function Zoe(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function i(n){n.multi?(e.multi[n.kind].push(n),e.multi.fallback.push(n)):e[n.kind][n.tag]=e.fallback[n.tag]=n}for(l(i,"collectType"),t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(i);return e}function a6(e){return this.extend(e)}function Qoe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Joe(){return null}function ele(e){return e===null}function tle(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function rle(e){return e==="true"||e==="True"||e==="TRUE"}function ile(e){return Object.prototype.toString.call(e)==="[object Boolean]"}function nle(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function ale(e){return 48<=e&&e<=55}function sle(e){return 48<=e&&e<=57}function ole(e){if(e===null)return!1;var t=e.length,r=0,i=!1,n;if(!t)return!1;if(n=e[r],(n==="-"||n==="+")&&(n=e[++r]),n==="0"){if(r+1===t)return!0;if(n=e[++r],n==="b"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!nle(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(r++;r<t;r++)if(n=e[r],n!=="_"){if(!ale(e.charCodeAt(r)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;r<t;r++)if(n=e[r],n!=="_"){if(!sle(e.charCodeAt(r)))return!1;i=!0}return!(!i||n==="_")}function lle(e){var t=e,r=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function cle(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Qi.isNegativeZero(e)}function ule(e){return!(e===null||!Tce.test(e)||e[e.length-1]==="_")}function hle(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}function dle(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qi.isNegativeZero(e))return"-0.0";return r=e.toString(10),Ece.test(r)?r.replace("e",".e"):r}function ple(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Qi.isNegativeZero(e))}function gle(e){return e===null?!1:_L.exec(e)!==null||AL.exec(e)!==null}function fle(e){var t,r,i,n,a,s,o,u=0,h=null,d,p,g;if(t=_L.exec(e),t===null&&(t=AL.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],i=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,i,n));if(a=+t[4],s=+t[5],o=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],p=+(t[11]||0),h=(d*60+p)*6e4,t[9]==="-"&&(h=-h)),g=new Date(Date.UTC(r,i,n,a,s,o,u)),h&&g.setTime(g.getTime()-h),g}function mle(e){return e.toISOString()}function yle(e){return e==="<<"||e===null}function vle(e){if(e===null)return!1;var t,r,i=0,n=e.length,a=h6;for(r=0;r<n;r++)if(t=a.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function ble(e){var t,r,i=e.replace(/[\r\n=]/g,""),n=i.length,a=h6,s=0,o=[];for(t=0;t<n;t++)t%4===0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)),s=s<<6|a.indexOf(i.charAt(t));return r=n%4*6,r===0?(o.push(s>>16&255),o.push(s>>8&255),o.push(s&255)):r===18?(o.push(s>>10&255),o.push(s>>2&255)):r===12&&o.push(s>>4&255),new Uint8Array(o)}function xle(e){var t="",r=0,i,n,a=e.length,s=h6;for(i=0;i<a;i++)i%3===0&&i&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[i];return n=a%3,n===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):n===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):n===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function wle(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}function kle(e){if(e===null)return!0;var t=[],r,i,n,a,s,o=e;for(r=0,i=o.length;r<i;r+=1){if(n=o[r],s=!1,Mce.call(n)!=="[object Object]")return!1;for(a in n)if(Nce.call(n,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function Tle(e){return e!==null?e:[]}function Ele(e){if(e===null)return!0;var t,r,i,n,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(i=s[t],Dce.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;a[t]=[n[0],i[n[0]]]}return!0}function Cle(e){if(e===null)return[];var t,r,i,n,a,s=e;for(a=new Array(s.length),t=0,r=s.length;t<r;t+=1)i=s[t],n=Object.keys(i),a[t]=[n[0],i[n[0]]];return a}function Sle(e){if(e===null)return!0;var t,r=e;for(t in r)if(Oce.call(r,t)&&r[t]!==null)return!1;return!0}function _le(e){return e!==null?e:{}}function hL(e){return Object.prototype.toString.call(e)}function bo(e){return e===10||e===13}function zu(e){return e===9||e===32}function Ca(e){return e===9||e===32||e===10||e===13}function yd(e){return e===44||e===91||e===93||e===123||e===125}function Ale(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Lle(e){return e===120?2:e===117?4:e===85?8:0}function Nle(e){return 48<=e&&e<=57?e-48:-1}function dL(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Mle(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Ile(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||LL,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function pL(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=dce(r),new Sa(t,r)}function jt(e,t){throw pL(e,t)}function Wy(e,t){e.onWarning&&e.onWarning.call(null,pL(e,t))}function pc(e,t,r,i){var n,a,s,o;if(t<r){if(o=e.input.slice(t,r),i)for(n=0,a=o.length;n<a;n+=1)s=o.charCodeAt(n),s===9||32<=s&&s<=1114111||jt(e,"expected valid JSON character");else $ce.test(o)&&jt(e,"the stream contains non-printable characters");e.result+=o}}function gL(e,t,r,i){var n,a,s,o;for(Qi.isObject(r)||jt(e,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(r),s=0,o=n.length;s<o;s+=1)a=n[s],gc.call(t,a)||(t[a]=r[a],i[a]=!0)}function vd(e,t,r,i,n,a,s,o,u){var h,d;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),h=0,d=n.length;h<d;h+=1)Array.isArray(n[h])&&jt(e,"nested arrays are not supported inside keys"),typeof n=="object"&&hL(n[h])==="[object Object]"&&(n[h]="[object Object]");if(typeof n=="object"&&hL(n)==="[object Object]"&&(n="[object Object]"),n=String(n),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(h=0,d=a.length;h<d;h+=1)gL(e,t,a[h],r);else gL(e,t,a,r);else!e.json&&!gc.call(r,n)&&gc.call(t,n)&&(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=u||e.position,jt(e,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[n]=a,delete r[n];return t}function s6(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):jt(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function zi(e,t,r){for(var i=0,n=e.input.charCodeAt(e.position);n!==0;){for(;zu(n);)n===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&n===35)do n=e.input.charCodeAt(++e.position);while(n!==10&&n!==13&&n!==0);if(bo(n))for(s6(e),n=e.input.charCodeAt(e.position),i++,e.lineIndent=0;n===32;)e.lineIndent++,n=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&Wy(e,"deficient indentation"),i}function Xy(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ca(r)))}function o6(e,t){t===1?e.result+=" ":t>1&&(e.result+=Qi.repeat(`
`,t-1))}function Dle(e,t,r){var i,n,a,s,o,u,h,d,p=e.kind,g=e.result,f;if(f=e.input.charCodeAt(e.position),Ca(f)||yd(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(n=e.input.charCodeAt(e.position+1),Ca(n)||r&&yd(n)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,o=!1;f!==0;){if(f===58){if(n=e.input.charCodeAt(e.position+1),Ca(n)||r&&yd(n))break}else if(f===35){if(i=e.input.charCodeAt(e.position-1),Ca(i))break}else{if(e.position===e.lineStart&&Xy(e)||r&&yd(f))break;if(bo(f))if(u=e.line,h=e.lineStart,d=e.lineIndent,zi(e,!1,-1),e.lineIndent>=t){o=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=h,e.lineIndent=d;break}}o&&(pc(e,a,s,!1),o6(e,e.line-u),a=s=e.position,o=!1),zu(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return pc(e,a,s,!1),e.result?!0:(e.kind=p,e.result=g,!1)}function Rle(e,t){var r,i,n;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=n=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(pc(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,n=e.position;else return!0;else bo(r)?(pc(e,i,n,!0),o6(e,zi(e,!1,t)),i=n=e.position):e.position===e.lineStart&&Xy(e)?jt(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);jt(e,"unexpected end of the stream within a single quoted scalar")}function Ole(e,t){var r,i,n,a,s,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return pc(e,r,e.position,!0),e.position++,!0;if(o===92){if(pc(e,r,e.position,!0),o=e.input.charCodeAt(++e.position),bo(o))zi(e,!1,t);else if(o<256&&OL[o])e.result+=PL[o],e.position++;else if((s=Lle(o))>0){for(n=s,a=0;n>0;n--)o=e.input.charCodeAt(++e.position),(s=Ale(o))>=0?a=(a<<4)+s:jt(e,"expected hexadecimal character");e.result+=Mle(a),e.position++}else jt(e,"unknown escape sequence");r=i=e.position}else bo(o)?(pc(e,r,i,!0),o6(e,zi(e,!1,t)),r=i=e.position):e.position===e.lineStart&&Xy(e)?jt(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}jt(e,"unexpected end of the stream within a double quoted scalar")}function Ple(e,t){var r=!0,i,n,a,s=e.tag,o,u=e.anchor,h,d,p,g,f,m=Object.create(null),x,T,k,E;if(E=e.input.charCodeAt(e.position),E===91)d=93,f=!1,o=[];else if(E===123)d=125,f=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),E=e.input.charCodeAt(++e.position);E!==0;){if(zi(e,!0,t),E=e.input.charCodeAt(e.position),E===d)return e.position++,e.tag=s,e.anchor=u,e.kind=f?"mapping":"sequence",e.result=o,!0;r?E===44&&jt(e,"expected the node content, but found ','"):jt(e,"missed comma between flow collection entries"),T=x=k=null,p=g=!1,E===63&&(h=e.input.charCodeAt(e.position+1),Ca(h)&&(p=g=!0,e.position++,zi(e,!0,t))),i=e.line,n=e.lineStart,a=e.position,bd(e,t,Zy,!1,!0),T=e.tag,x=e.result,zi(e,!0,t),E=e.input.charCodeAt(e.position),(g||e.line===i)&&E===58&&(p=!0,E=e.input.charCodeAt(++e.position),zi(e,!0,t),bd(e,t,Zy,!1,!0),k=e.result),f?vd(e,o,m,T,x,k,i,n,a):p?o.push(vd(e,null,m,T,x,k,i,n,a)):o.push(x),zi(e,!0,t),E=e.input.charCodeAt(e.position),E===44?(r=!0,E=e.input.charCodeAt(++e.position)):r=!1}jt(e,"unexpected end of the stream within a flow collection")}function Ble(e,t){var r,i,n=d6,a=!1,s=!1,o=t,u=0,h=!1,d,p;if(p=e.input.charCodeAt(e.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)d6===n?n=p===43?IL:Bce:jt(e,"repeat of a chomping mode identifier");else if((d=Nle(p))>=0)d===0?jt(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?jt(e,"repeat of an indentation width identifier"):(o=t+d-1,s=!0);else break;if(zu(p)){do p=e.input.charCodeAt(++e.position);while(zu(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!bo(p)&&p!==0)}for(;p!==0;){for(s6(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<o)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>o&&(o=e.lineIndent),bo(p)){u++;continue}if(e.lineIndent<o){n===IL?e.result+=Qi.repeat(`
`,a?1+u:u):n===d6&&a&&(e.result+=`
`);break}for(i?zu(p)?(h=!0,e.result+=Qi.repeat(`
`,a?1+u:u)):h?(h=!1,e.result+=Qi.repeat(`
`,u+1)):u===0?a&&(e.result+=" "):e.result+=Qi.repeat(`
`,u):e.result+=Qi.repeat(`
`,a?1+u:u),a=!0,s=!0,u=0,r=e.position;!bo(p)&&p!==0;)p=e.input.charCodeAt(++e.position);pc(e,r,e.position,!1)}return!0}function fL(e,t){var r,i=e.tag,n=e.anchor,a=[],s,o=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,jt(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Ca(s))));){if(o=!0,e.position++,zi(e,!0,-1)&&e.lineIndent<=t){a.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,bd(e,t,ML,!1,!0),a.push(e.result),zi(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)jt(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=i,e.anchor=n,e.kind="sequence",e.result=a,!0):!1}function $le(e,t,r){var i,n,a,s,o,u,h=e.tag,d=e.anchor,p={},g=Object.create(null),f=null,m=null,x=null,T=!1,k=!1,E;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),E=e.input.charCodeAt(e.position);E!==0;){if(!T&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,jt(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),a=e.line,(E===63||E===58)&&Ca(i))E===63?(T&&(vd(e,p,g,f,m,null,s,o,u),f=m=x=null),k=!0,T=!0,n=!0):T?(T=!1,n=!0):jt(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,E=i;else{if(s=e.line,o=e.lineStart,u=e.position,!bd(e,r,NL,!1,!0))break;if(e.line===a){for(E=e.input.charCodeAt(e.position);zu(E);)E=e.input.charCodeAt(++e.position);if(E===58)E=e.input.charCodeAt(++e.position),Ca(E)||jt(e,"a whitespace character is expected after the key-value separator within a block mapping"),T&&(vd(e,p,g,f,m,null,s,o,u),f=m=x=null),k=!0,T=!1,n=!1,f=e.tag,m=e.result;else if(k)jt(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(k)jt(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===a||e.lineIndent>t)&&(T&&(s=e.line,o=e.lineStart,u=e.position),bd(e,t,Qy,!0,n)&&(T?m=e.result:x=e.result),T||(vd(e,p,g,f,m,x,s,o,u),f=m=x=null),zi(e,!0,-1),E=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&E!==0)jt(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return T&&vd(e,p,g,f,m,null,s,o,u),k&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=p),k}function Fle(e){var t,r=!1,i=!1,n,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&jt(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(i=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):jt(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ca(s);)s===33&&(i?jt(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),DL.test(n)||jt(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),zce.test(a)&&jt(e,"tag suffix cannot contain flow indicator characters")}a&&!RL.test(a)&&jt(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch(o){jt(e,"tag name is malformed: "+a)}return r?e.tag=a:gc.call(e.tagMap,n)?e.tag=e.tagMap[n]+a:n==="!"?e.tag="!"+a:n==="!!"?e.tag="tag:yaml.org,2002:"+a:jt(e,'undeclared tag handle "'+n+'"'),!0}function zle(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&jt(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ca(r)&&!yd(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&jt(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Gle(e){var t,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!Ca(i)&&!yd(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&jt(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),gc.call(e.anchorMap,r)||jt(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],zi(e,!0,-1),!0}function bd(e,t,r,i,n){var a,s,o,u=1,h=!1,d=!1,p,g,f,m,x,T;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=o=Qy===r||ML===r,i&&zi(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;Fle(e)||zle(e);)zi(e,!0,-1)?(h=!0,o=a,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):o=!1;if(o&&(o=h||n),(u===1||Qy===r)&&(Zy===r||NL===r?x=t:x=t+1,T=e.position-e.lineStart,u===1?o&&(fL(e,T)||$le(e,T,x))||Ple(e,x)?d=!0:(s&&Ble(e,x)||Rle(e,x)||Ole(e,x)?d=!0:Gle(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&jt(e,"alias node should not have any properties")):Dle(e,x,Zy===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=o&&fL(e,T))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&jt(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(gc.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],p=0,g=f.length;p<g;p+=1)if(e.tag.slice(0,f[p].tag.length)===f[p].tag){m=f[p];break}m||jt(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&jt(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):jt(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function Ule(e){var t=e.position,r,i,n,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(zi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Ca(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),n=[],i.length<1&&jt(e,"directive name must not be less than one character in length");s!==0;){for(;zu(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!bo(s));break}if(bo(s))break;for(r=e.position;s!==0&&!Ca(s);)s=e.input.charCodeAt(++e.position);n.push(e.input.slice(r,e.position))}s!==0&&s6(e),gc.call(BL,i)?BL[i](e,i,n):Wy(e,'unknown document directive "'+i+'"')}if(zi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,zi(e,!0,-1)):a&&jt(e,"directives end mark is expected"),bd(e,e.lineIndent-1,Qy,!1,!0),zi(e,!0,-1),e.checkLineBreaks&&Fce.test(e.input.slice(t,e.position))&&Wy(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Xy(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,zi(e,!0,-1));return}if(e.position<e.length-1)jt(e,"end of the stream or a document separator is expected");else return}function mL(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Ile(e,t),i=e.indexOf("\0");for(i!==-1&&(r.position=i,jt(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ule(r);return r.documents}function qle(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var i=mL(e,r);if(typeof t!="function")return i;for(var n=0,a=i.length;n<a;n+=1)t(i[n])}function jle(e,t){var r=mL(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Sa("expected a single document in the stream, but found more")}}function Hle(e,t){var r,i,n,a,s,o,u;if(t===null)return{};for(r={},i=Object.keys(t),n=0,a=i.length;n<a;n+=1)s=i[n],o=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&zL.call(u.styleAliases,o)&&(o=u.styleAliases[o]),r[s]=o;return r}function Vle(e){var t,r,i;if(t=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new Sa("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Qi.repeat("0",i-t.length)+t}function Yle(e){this.schema=e.schema||LL,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Qi.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Hle(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Og:oue,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function yL(e,t){for(var r=Qi.repeat(" ",t),i=0,n=-1,a="",s,o=e.length;i<o;)n=e.indexOf(`
`,i),n===-1?(s=e.slice(i),i=o):(s=e.slice(i,n+1),i=n+1),s.length&&s!==`
`&&(a+=r),a+=s;return a}function l6(e,t){return`
`+Qi.repeat(" ",e.indent*t)}function Wle(e,t){var r,i,n;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(n=e.implicitTypes[r],n.resolve(t))return!0;return!1}function Ky(e){return e===Hce||e===qce}function Ig(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==p6||65536<=e&&e<=1114111}function vL(e){return Ig(e)&&e!==p6&&e!==jce&&e!==Rg}function bL(e,t,r){var i=vL(e),n=i&&!Ky(e);return(r?i:i&&e!==GL&&e!==UL&&e!==qL&&e!==jL&&e!==HL)&&e!==g6&&!(t===Jy&&!n)||vL(t)&&!Ky(t)&&e===g6||t===Jy&&n}function Xle(e){return Ig(e)&&e!==p6&&!Ky(e)&&e!==Qce&&e!==tue&&e!==Jy&&e!==GL&&e!==UL&&e!==qL&&e!==jL&&e!==HL&&e!==g6&&e!==Xce&&e!==Zce&&e!==Vce&&e!==nue&&e!==Jce&&e!==eue&&e!==Kce&&e!==Yce&&e!==Wce&&e!==rue&&e!==iue}function Kle(e){return!Ky(e)&&e!==Jy}function Dg(e,t){var r=e.charCodeAt(t),i;return r>=55296&&r<=56319&&t+1<e.length&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function xL(e){var t=/^\n* /;return t.test(e)}function Zle(e,t,r,i,n,a,s,o){var u,h=0,d=null,p=!1,g=!1,f=i!==-1,m=-1,x=Xle(Dg(e,0))&&Kle(Dg(e,e.length-1));if(t||s)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Dg(e,u),!Ig(h))return wd;x=x&&bL(h,d,o),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=Dg(e,u),h===Rg)p=!0,f&&(g=g||u-m-1>i&&e[m+1]!==" ",m=u);else if(!Ig(h))return wd;x=x&&bL(h,d,o),d=h}g=g||f&&u-m-1>i&&e[m+1]!==" "}return!p&&!g?x&&!s&&!n(e)?VL:a===Og?wd:f6:r>9&&xL(e)?wd:s?a===Og?wd:f6:g?WL:YL}function Qle(e,t,r,i,n){e.dump=(function(){if(t.length===0)return e.quotingType===Og?'""':"''";if(!e.noCompatMode&&(aue.indexOf(t)!==-1||sue.test(t)))return e.quotingType===Og?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),o=i||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return Wle(e,h)}switch(l(u,"testAmbiguity"),Zle(t,o,e.indent,s,u,e.quotingType,e.forceQuotes&&!i,n)){case VL:return t;case f6:return"'"+t.replace(/'/g,"''")+"'";case YL:return"|"+wL(t,e.indent)+kL(yL(t,a));case WL:return">"+wL(t,e.indent)+kL(yL(Jle(t,s),a));case wd:return'"'+ece(t)+'"';default:throw new Sa("impossible error: invalid scalar style")}})()}function wL(e,t){var r=xL(e)?String(t):"",i=e[e.length-1]===`
`,n=i&&(e[e.length-2]===`
`||e===`
`),a=n?"+":i?"":"-";return r+a+`
`}function kL(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Jle(e,t){for(var r=/(\n+)([^\n]*)/g,i=(function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,TL(e.slice(0,h),t)})(),n=e[0]===`
`||e[0]===" ",a,s;s=r.exec(e);){var o=s[1],u=s[2];a=u[0]===" ",i+=o+(!n&&!a&&u!==""?`
`:"")+TL(u,t),n=a}return i}function TL(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,n=0,a,s=0,o=0,u="";i=r.exec(e);)o=i.index,o-n>t&&(a=s>n?s:o,u+=`
`+e.slice(n,a),n=a+1),s=o;return u+=`
`,e.length-n>t&&s>n?u+=e.slice(n,s)+`
`+e.slice(s+1):u+=e.slice(n),u.slice(1)}function ece(e){for(var t="",r=0,i,n=0;n<e.length;r>=65536?n+=2:n++)r=Dg(e,n),i=zn[r],!i&&Ig(r)?(t+=e[n],r>=65536&&(t+=e[n+1])):t+=i||Vle(r);return t}function tce(e,t,r){var i="",n=e.tag,a,s,o;for(a=0,s=r.length;a<s;a+=1)o=r[a],e.replacer&&(o=e.replacer.call(r,String(a),o)),(ul(e,t,o,!1,!1)||typeof o>"u"&&ul(e,t,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=n,e.dump="["+i+"]"}function EL(e,t,r,i){var n="",a=e.tag,s,o,u;for(s=0,o=r.length;s<o;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(ul(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&ul(e,t+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=l6(e,t)),e.dump&&Rg===e.dump.charCodeAt(0)?n+="-":n+="- ",n+=e.dump);e.tag=a,e.dump=n||"[]"}function rce(e,t,r){var i="",n=e.tag,a=Object.keys(r),s,o,u,h,d;for(s=0,o=a.length;s<o;s+=1)d="",i!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=a[s],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),ul(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ul(e,t,h,!1,!1)&&(d+=e.dump,i+=d));e.tag=n,e.dump="{"+i+"}"}function ice(e,t,r,i){var n="",a=e.tag,s=Object.keys(r),o,u,h,d,p,g;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Sa("sortKeys must be a boolean or a function");for(o=0,u=s.length;o<u;o+=1)g="",(!i||n!=="")&&(g+=l6(e,t)),h=s[o],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),ul(e,t+1,h,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Rg===e.dump.charCodeAt(0)?g+="?":g+="? "),g+=e.dump,p&&(g+=l6(e,t)),ul(e,t+1,d,!0,p)&&(e.dump&&Rg===e.dump.charCodeAt(0)?g+=":":g+=": ",g+=e.dump,n+=g));e.tag=a,e.dump=n||"{}"}function CL(e,t,r){var i,n,a,s,o,u;for(n=r?e.explicitTypes:e.implicitTypes,a=0,s=n.length;a<s;a+=1)if(o=n[a],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof t=="object"&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(r?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(u=e.styleMap[o.tag]||o.defaultStyle,FL.call(o.represent)==="[object Function]")i=o.represent(t,u);else if(zL.call(o.represent,u))i=o.represent[u](t,u);else throw new Sa("!<"+o.tag+'> tag resolver accepts not "'+u+'" style');e.dump=i}return!0}return!1}function ul(e,t,r,i,n,a,s){e.tag=null,e.dump=r,CL(e,r,!1)||CL(e,r,!0);var o=FL.call(e.dump),u=i,h;i&&(i=e.flowLevel<0||e.flowLevel>t);var d=o==="[object Object]"||o==="[object Array]",p,g;if(d&&(p=e.duplicates.indexOf(r),g=p!==-1),(e.tag!==null&&e.tag!=="?"||g||e.indent!==2&&t>0)&&(n=!1),g&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(d&&g&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),o==="[object Object]")i&&Object.keys(e.dump).length!==0?(ice(e,t,e.dump,n),g&&(e.dump="&ref_"+p+e.dump)):(rce(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(o==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?EL(e,t-1,e.dump,n):EL(e,t,e.dump,n),g&&(e.dump="&ref_"+p+e.dump)):(tce(e,t,e.dump),g&&(e.dump="&ref_"+p+" "+e.dump));else if(o==="[object String]")e.tag!=="?"&&Qle(e,e.dump,t,a,u);else{if(o==="[object Undefined]"||e.skipInvalid)return!1;throw new Sa("unacceptable kind of an object to dump "+o)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function nce(e,t){var r=[],i=[],n,a;for(c6(e,r,i),n=0,a=i.length;n<a;n+=1)t.duplicates.push(r[i[n]]);t.usedDuplicates=new Array(a)}function c6(e,t,r){var i,n,a;if(e!==null&&typeof e=="object")if(n=t.indexOf(e),n!==-1)r.indexOf(n)===-1&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,a=e.length;n<a;n+=1)c6(e[n],t,r);else for(i=Object.keys(e),n=0,a=i.length;n<a;n+=1)c6(e[i[n]],t,r)}function ace(e,t){t=t||{};var r=new Yle(t);r.noRefs||nce(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),ul(r,0,i,!0,!0)?r.dump+`
`:""}function u6(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var sce,oce,lce,cce,uce,hce,Qi,Sa,dce,pce,gce,Fn,fce,mce,yce,vce,bce,xce,wce,kce,Tce,Ece,Cce,SL,Sce,_L,AL,_ce,Ace,h6,Lce,Nce,Mce,Ice,Dce,Rce,Oce,Pce,LL,gc,Zy,NL,ML,Qy,d6,Bce,IL,$ce,Fce,zce,DL,RL,OL,PL,xd,BL,Gce,Uce,$L,FL,zL,p6,qce,Rg,jce,Hce,Vce,Yce,g6,Wce,Xce,Kce,Zce,GL,Qce,Jy,Jce,eue,tue,rue,UL,qL,iue,jL,nue,HL,zn,aue,sue,oue,Og,VL,f6,YL,WL,wd,lue,cue,e2,t2,LYe,NYe,MYe,IYe,DYe,m6=B(()=>{"use strict";for(l(lL,"isNothing"),l(qoe,"isObject"),l(joe,"toArray"),l(Hoe,"extend"),l(Voe,"repeat"),l(Yoe,"isNegativeZero"),sce=lL,oce=qoe,lce=joe,cce=Voe,uce=Yoe,hce=Hoe,Qi={isNothing:sce,isObject:oce,toArray:lce,repeat:cce,isNegativeZero:uce,extend:hce},l(cL,"formatError"),l(Mg,"YAMLException$1"),Mg.prototype=Object.create(Error.prototype),Mg.prototype.constructor=Mg,Mg.prototype.toString=l(function(e){return this.name+": "+cL(this,e)},"toString"),Sa=Mg,l(i6,"getLine"),l(n6,"padStart"),l(Woe,"makeSnippet"),dce=Woe,pce=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],gce=["scalar","sequence","mapping"],l(Xoe,"compileStyleAliases"),l(Koe,"Type$1"),Fn=Koe,l(uL,"compileList"),l(Zoe,"compileMap"),l(a6,"Schema$1"),a6.prototype.extend=l(function(e){var t=[],r=[];if(e instanceof Fn)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Sa("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(n){if(!(n instanceof Fn))throw new Sa("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&n.loadKind!=="scalar")throw new Sa("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new Sa("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(n){if(!(n instanceof Fn))throw new Sa("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(a6.prototype);return i.implicit=(this.implicit||[]).concat(t),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=uL(i,"implicit"),i.compiledExplicit=uL(i,"explicit"),i.compiledTypeMap=Zoe(i.compiledImplicit,i.compiledExplicit),i},"extend"),fce=a6,mce=new Fn("tag:yaml.org,2002:str",{kind:"scalar",construct:l(function(e){return e!==null?e:""},"construct")}),yce=new Fn("tag:yaml.org,2002:seq",{kind:"sequence",construct:l(function(e){return e!==null?e:[]},"construct")}),vce=new Fn("tag:yaml.org,2002:map",{kind:"mapping",construct:l(function(e){return e!==null?e:{}},"construct")}),bce=new fce({explicit:[mce,yce,vce]}),l(Qoe,"resolveYamlNull"),l(Joe,"constructYamlNull"),l(ele,"isNull"),xce=new Fn("tag:yaml.org,2002:null",{kind:"scalar",resolve:Qoe,construct:Joe,predicate:ele,represent:{canonical:l(function(){return"~"},"canonical"),lowercase:l(function(){return"null"},"lowercase"),uppercase:l(function(){return"NULL"},"uppercase"),camelcase:l(function(){return"Null"},"camelcase"),empty:l(function(){return""},"empty")},defaultStyle:"lowercase"}),l(tle,"resolveYamlBoolean"),l(rle,"constructYamlBoolean"),l(ile,"isBoolean"),wce=new Fn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:tle,construct:rle,predicate:ile,represent:{lowercase:l(function(e){return e?"true":"false"},"lowercase"),uppercase:l(function(e){return e?"TRUE":"FALSE"},"uppercase"),camelcase:l(function(e){return e?"True":"False"},"camelcase")},defaultStyle:"lowercase"}),l(nle,"isHexCode"),l(ale,"isOctCode"),l(sle,"isDecCode"),l(ole,"resolveYamlInteger"),l(lle,"constructYamlInteger"),l(cle,"isInteger"),kce=new Fn("tag:yaml.org,2002:int",{kind:"scalar",resolve:ole,construct:lle,predicate:cle,represent:{binary:l(function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},"binary"),octal:l(function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},"octal"),decimal:l(function(e){return e.toString(10)},"decimal"),hexadecimal:l(function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Tce=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),l(ule,"resolveYamlFloat"),l(hle,"constructYamlFloat"),Ece=/^[-+]?[0-9]+e/,l(dle,"representYamlFloat"),l(ple,"isFloat"),Cce=new Fn("tag:yaml.org,2002:float",{kind:"scalar",resolve:ule,construct:hle,predicate:ple,represent:dle,defaultStyle:"lowercase"}),SL=bce.extend({implicit:[xce,wce,kce,Cce]}),Sce=SL,_L=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),AL=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),l(gle,"resolveYamlTimestamp"),l(fle,"constructYamlTimestamp"),l(mle,"representYamlTimestamp"),_ce=new Fn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gle,construct:fle,instanceOf:Date,represent:mle}),l(yle,"resolveYamlMerge"),Ace=new Fn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:yle}),h6=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`,l(vle,"resolveYamlBinary"),l(ble,"constructYamlBinary"),l(xle,"representYamlBinary"),l(wle,"isBinary"),Lce=new Fn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vle,construct:ble,predicate:wle,represent:xle}),Nce=Object.prototype.hasOwnProperty,Mce=Object.prototype.toString,l(kle,"resolveYamlOmap"),l(Tle,"constructYamlOmap"),Ice=new Fn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:kle,construct:Tle}),Dce=Object.prototype.toString,l(Ele,"resolveYamlPairs"),l(Cle,"constructYamlPairs"),Rce=new Fn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Ele,construct:Cle}),Oce=Object.prototype.hasOwnProperty,l(Sle,"resolveYamlSet"),l(_le,"constructYamlSet"),Pce=new Fn("tag:yaml.org,2002:set",{kind:"mapping",resolve:Sle,construct:_le}),LL=Sce.extend({implicit:[_ce,Ace],explicit:[Lce,Ice,Rce,Pce]}),gc=Object.prototype.hasOwnProperty,Zy=1,NL=2,ML=3,Qy=4,d6=1,Bce=2,IL=3,$ce=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Fce=/[\x85\u2028\u2029]/,zce=/[,\[\]\{\}]/,DL=/^(?:!|!!|![a-z\-]+!)$/i,RL=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,l(hL,"_class"),l(bo,"is_EOL"),l(zu,"is_WHITE_SPACE"),l(Ca,"is_WS_OR_EOL"),l(yd,"is_FLOW_INDICATOR"),l(Ale,"fromHexCode"),l(Lle,"escapedHexLen"),l(Nle,"fromDecimalCode"),l(dL,"simpleEscapeSequence"),l(Mle,"charFromCodepoint"),OL=new Array(256),PL=new Array(256),xd=0;xd<256;xd++)OL[xd]=dL(xd)?1:0,PL[xd]=dL(xd);l(Ile,"State$1"),l(pL,"generateError"),l(jt,"throwError"),l(Wy,"throwWarning"),BL={YAML:l(function(e,t,r){var i,n,a;e.version!==null&&jt(e,"duplication of %YAML directive"),r.length!==1&&jt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&jt(e,"ill-formed argument of the YAML directive"),n=parseInt(i[1],10),a=parseInt(i[2],10),n!==1&&jt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Wy(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:l(function(e,t,r){var i,n;r.length!==2&&jt(e,"TAG directive accepts exactly two arguments"),i=r[0],n=r[1],DL.test(i)||jt(e,"ill-formed tag handle (first argument) of the TAG directive"),gc.call(e.tagMap,i)&&jt(e,'there is a previously declared suffix for "'+i+'" tag handle'),RL.test(n)||jt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch(a){jt(e,"tag prefix is malformed: "+n)}e.tagMap[i]=n},"handleTagDirective")},l(pc,"captureSegment"),l(gL,"mergeMappings"),l(vd,"storeMappingPair"),l(s6,"readLineBreak"),l(zi,"skipSeparationSpace"),l(Xy,"testDocumentSeparator"),l(o6,"writeFoldedLines"),l(Dle,"readPlainScalar"),l(Rle,"readSingleQuotedScalar"),l(Ole,"readDoubleQuotedScalar"),l(Ple,"readFlowCollection"),l(Ble,"readBlockScalar"),l(fL,"readBlockSequence"),l($le,"readBlockMapping"),l(Fle,"readTagProperty"),l(zle,"readAnchorProperty"),l(Gle,"readAlias"),l(bd,"composeNode"),l(Ule,"readDocument"),l(mL,"loadDocuments"),l(qle,"loadAll$1"),l(jle,"load$1"),Gce=qle,Uce=jle,$L={loadAll:Gce,load:Uce},FL=Object.prototype.toString,zL=Object.prototype.hasOwnProperty,p6=65279,qce=9,Rg=10,jce=13,Hce=32,Vce=33,Yce=34,g6=35,Wce=37,Xce=38,Kce=39,Zce=42,GL=44,Qce=45,Jy=58,Jce=61,eue=62,tue=63,rue=64,UL=91,qL=93,iue=96,jL=123,nue=124,HL=125,zn={},zn[0]="\\0",zn[7]="\\a",zn[8]="\\b",zn[9]="\\t",zn[10]="\\n",zn[11]="\\v",zn[12]="\\f",zn[13]="\\r",zn[27]="\\e",zn[34]='\\"',zn[92]="\\\\",zn[133]="\\N",zn[160]="\\_",zn[8232]="\\L",zn[8233]="\\P",aue=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],sue=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/,l(Hle,"compileStyleMap"),l(Vle,"encodeHex"),oue=1,Og=2,l(Yle,"State"),l(yL,"indentString"),l(l6,"generateNextLine"),l(Wle,"testImplicitResolving"),l(Ky,"isWhitespace"),l(Ig,"isPrintable"),l(vL,"isNsCharOrWhitespace"),l(bL,"isPlainSafe"),l(Xle,"isPlainSafeFirst"),l(Kle,"isPlainSafeLast"),l(Dg,"codePointAt"),l(xL,"needIndentIndicator"),VL=1,f6=2,YL=3,WL=4,wd=5,l(Zle,"chooseScalarStyle"),l(Qle,"writeScalar"),l(wL,"blockHeader"),l(kL,"dropEndingNewline"),l(Jle,"foldString"),l(TL,"foldLine"),l(ece,"escapeString"),l(tce,"writeFlowSequence"),l(EL,"writeBlockSequence"),l(rce,"writeFlowMapping"),l(ice,"writeBlockMapping"),l(CL,"detectType"),l(ul,"writeNode"),l(nce,"getDuplicateReferences"),l(c6,"inspectNode"),l(ace,"dump$1"),lue=ace,cue={dump:lue},l(u6,"renamed"),e2=SL,t2=$L.load,LYe=$L.loadAll,NYe=cue.dump,MYe=u6("safeLoad","load"),IYe=u6("safeLoadAll","loadAll"),DYe=u6("safeDump","dump")});function y6(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function XL(e){Gu=e}function Fr(e,t=""){let r=typeof e=="string"?e:e.source,i={replace:l((n,a)=>{let s=typeof a=="string"?a:a.source;return s=s.replace(na.caret,"$1"),r=r.replace(n,s),i},"replace"),getRegex:l(()=>new RegExp(r,t),"getRegex")};return i}function xo(e,t){if(t){if(na.escapeTest.test(e))return e.replace(na.escapeReplace,uN)}else if(na.escapeTestNoEncode.test(e))return e.replace(na.escapeReplaceNoEncode,uN);return e}function KL(e){try{e=encodeURI(e).replace(na.percentDecode,"%")}catch(t){return null}return e}function ZL(e,t){var a;let r=e.replace(na.findPipe,(s,o,u)=>{let h=!1,d=o;for(;--d>=0&&u[d]==="\\";)h=!h;return h?"|":" |"}),i=r.split(na.splitPipe),n=0;if(i[0].trim()||i.shift(),i.length>0&&!((a=i.at(-1))!=null&&a.trim())&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;n<i.length;n++)i[n]=i[n].trim().replace(na.slashPipe,"|");return i}function Pg(e,t,r){let i=e.length;if(i===0)return"";let n=0;for(;n<i;){let a=e.charAt(i-n-1);if(a===t&&!r)n++;else if(a!==t&&r)n++;else break}return e.slice(0,i-n)}function uue(e,t){if(e.indexOf(t[1])===-1)return-1;let r=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return r>0?-2:-1}function QL(e,t,r,i,n){let a=t.href,s=t.title||null,o=e[1].replace(n.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:r,href:a,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,u}function hue(e,t,r){let i=e.match(r.other.indentCodeCompensation);if(i===null)return t;let n=i[1];return t.split(`
`).map(a=>{let s=a.match(r.other.beginningSpace);if(s===null)return a;let[o]=s;return o.length>=n.length?a.slice(n.length):a}).join(`
`)}function zr(e,t){return Uu.parse(e,t)}var Gu,Bg,na,due,pue,gue,$g,fue,v6,JL,eN,mue,b6,yue,x6,vue,bue,r2,w6,xue,tN,wue,k6,rN,kue,Tue,Eue,Cue,iN,Sue,i2,T6,nN,_ue,aN,Aue,Lue,Nue,sN,Mue,Iue,oN,Due,Rue,Oue,Pue,Bue,$ue,Fue,n2,zue,lN,cN,Gue,E6,Uue,C6,que,a2,Fg,jue,uN,s2,hl,o2,S6,dl,zg,Hue,Uu,RYe,OYe,PYe,BYe,$Ye,FYe,zYe,GYe=B(()=>{"use strict";var e,t,r,i,n,a,s;l(y6,"L"),Gu=y6(),l(XL,"G"),Bg={exec:l(()=>null,"exec")},l(Fr,"h"),na={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:l(o=>new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:l(o=>new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:l(o=>new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:l(o=>new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:l(o=>new RegExp(`^ {0,${Math.min(3,o-1)}}#`),"headingBeginRegex"),htmlBeginRegex:l(o=>new RegExp(`^ {0,${Math.min(3,o-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},due=/^(?:[ \t]*(?:\n|$))+/,pue=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,gue=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$g=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,v6=/(?:[*+-]|\d{1,9}[.)])/,JL=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,eN=Fr(JL).replace(/bull/g,v6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),mue=Fr(JL).replace(/bull/g,v6).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),b6=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,yue=/^[^\n]+/,x6=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vue=Fr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",x6).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),bue=Fr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,v6).getRegex(),r2="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",w6=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xue=Fr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",w6).replace("tag",r2).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),tN=Fr(b6).replace("hr",$g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",r2).getRegex(),wue=Fr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",tN).getRegex(),k6={blockquote:wue,code:pue,def:vue,fences:gue,heading:fue,hr:$g,html:xue,lheading:eN,list:bue,newline:due,paragraph:tN,table:Bg,text:yue},rN=Fr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",r2).getRegex(),kue=hr(dt({},k6),{lheading:mue,table:rN,paragraph:Fr(b6).replace("hr",$g).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rN).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",r2).getRegex()}),Tue=hr(dt({},k6),{html:Fr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",w6).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Bg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Fr(b6).replace("hr",$g).replace("heading",` *#{1,6} *[^
]`).replace("lheading",eN).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Eue=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Cue=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,iN=/^( {2,}|\\)\n(?!\s*$)/,Sue=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,i2=/[\p{P}\p{S}]/u,T6=/[\s\p{P}\p{S}]/u,nN=/[^\s\p{P}\p{S}]/u,_ue=Fr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,T6).getRegex(),aN=/(?!~)[\p{P}\p{S}]/u,Aue=/(?!~)[\s\p{P}\p{S}]/u,Lue=/(?:[^\s\p{P}\p{S}]|~)/u,Nue=/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,sN=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Mue=Fr(sN,"u").replace(/punct/g,i2).getRegex(),Iue=Fr(sN,"u").replace(/punct/g,aN).getRegex(),oN="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Due=Fr(oN,"gu").replace(/notPunctSpace/g,nN).replace(/punctSpace/g,T6).replace(/punct/g,i2).getRegex(),Rue=Fr(oN,"gu").replace(/notPunctSpace/g,Lue).replace(/punctSpace/g,Aue).replace(/punct/g,aN).getRegex(),Oue=Fr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nN).replace(/punctSpace/g,T6).replace(/punct/g,i2).getRegex(),Pue=Fr(/\\(punct)/,"gu").replace(/punct/g,i2).getRegex(),Bue=Fr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),$ue=Fr(w6).replace("(?:-->|$)","-->").getRegex(),Fue=Fr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",$ue).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),n2=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,zue=Fr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",n2).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),lN=Fr(/^!?\[(label)\]\[(ref)\]/).replace("label",n2).replace("ref",x6).getRegex(),cN=Fr(/^!?\[(ref)\](?:\[\])?/).replace("ref",x6).getRegex(),Gue=Fr("reflink|nolink(?!\\()","g").replace("reflink",lN).replace("nolink",cN).getRegex(),E6={_backpedal:Bg,anyPunctuation:Pue,autolink:Bue,blockSkip:Nue,br:iN,code:Cue,del:Bg,emStrongLDelim:Mue,emStrongRDelimAst:Due,emStrongRDelimUnd:Oue,escape:Eue,link:zue,nolink:cN,punctuation:_ue,reflink:lN,reflinkSearch:Gue,tag:Fue,text:Sue,url:Bg},Uue=hr(dt({},E6),{link:Fr(/^!?\[(label)\]\((.*?)\)/).replace("label",n2).getRegex(),reflink:Fr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n2).getRegex()}),C6=hr(dt({},E6),{emStrongRDelimAst:Rue,emStrongLDelim:Iue,url:Fr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),que=hr(dt({},C6),{br:Fr(iN).replace("{2,}","*").getRegex(),text:Fr(C6.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),a2={normal:k6,gfm:kue,pedantic:Tue},Fg={normal:E6,gfm:C6,breaks:que,pedantic:Uue},jue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uN=l(o=>jue[o],"ke"),l(xo,"w"),l(KL,"J"),l(ZL,"V"),l(Pg,"z"),l(uue,"ge"),l(QL,"fe"),l(hue,"Je"),s2=(e=class{constructor(u){Ar(this,"options");Ar(this,"rules");Ar(this,"lexer");this.options=u||Gu}space(u){let h=this.rules.block.newline.exec(u);if(h&&h[0].length>0)return{type:"space",raw:h[0]}}code(u){let h=this.rules.block.code.exec(u);if(h){let d=h[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:h[0],codeBlockStyle:"indented",text:this.options.pedantic?d:Pg(d,`
`)}}}fences(u){let h=this.rules.block.fences.exec(u);if(h){let d=h[0],p=hue(d,h[3]||"",this.rules);return{type:"code",raw:d,lang:h[2]?h[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):h[2],text:p}}}heading(u){let h=this.rules.block.heading.exec(u);if(h){let d=h[2].trim();if(this.rules.other.endingHash.test(d)){let p=Pg(d,"#");(this.options.pedantic||!p||this.rules.other.endingSpaceChar.test(p))&&(d=p.trim())}return{type:"heading",raw:h[0],depth:h[1].length,text:d,tokens:this.lexer.inline(d)}}}hr(u){let h=this.rules.block.hr.exec(u);if(h)return{type:"hr",raw:Pg(h[0],`
`)}}blockquote(u){let h=this.rules.block.blockquote.exec(u);if(h){let d=Pg(h[0],`
`).split(`
`),p="",g="",f=[];for(;d.length>0;){let m=!1,x=[],T;for(T=0;T<d.length;T++)if(this.rules.other.blockquoteStart.test(d[T]))x.push(d[T]),m=!0;else if(!m)x.push(d[T]);else break;d=d.slice(T);let k=x.join(`
`),E=k.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");p=p?`${p}
${k}`:k,g=g?`${g}
${E}`:E;let S=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(E,f,!0),this.lexer.state.top=S,d.length===0)break;let L=f.at(-1);if((L==null?void 0:L.type)==="code")break;if((L==null?void 0:L.type)==="blockquote"){let b=L,y=b.raw+`
`+d.join(`
`),v=this.blockquote(y);f[f.length-1]=v,p=p.substring(0,p.length-b.raw.length)+v.raw,g=g.substring(0,g.length-b.text.length)+v.text;break}else if((L==null?void 0:L.type)==="list"){let b=L,y=b.raw+`
`+d.join(`
`),v=this.list(y);f[f.length-1]=v,p=p.substring(0,p.length-L.raw.length)+v.raw,g=g.substring(0,g.length-b.raw.length)+v.raw,d=y.substring(f.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:p,tokens:f,text:g}}}list(u){let h=this.rules.block.list.exec(u);if(h){let d=h[1].trim(),p=d.length>1,g={type:"list",raw:"",ordered:p,start:p?+d.slice(0,-1):"",loose:!1,items:[]};d=p?`\\d{1,9}\\${d.slice(-1)}`:`\\${d}`,this.options.pedantic&&(d=p?d:"[*+-]");let f=this.rules.other.listItemRegex(d),m=!1;for(;u;){let T=!1,k="",E="";if(!(h=f.exec(u))||this.rules.block.hr.test(u))break;k=h[0],u=u.substring(k.length);let S=h[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,C=>" ".repeat(3*C.length)),L=u.split(`
`,1)[0],b=!S.trim(),y=0;if(this.options.pedantic?(y=2,E=S.trimStart()):b?y=h[1].length+1:(y=h[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,E=S.slice(y),y+=h[1].length),b&&this.rules.other.blankLine.test(L)&&(k+=L+`
`,u=u.substring(L.length+1),T=!0),!T){let C=this.rules.other.nextBulletRegex(y),A=this.rules.other.hrRegex(y),M=this.rules.other.fencesBeginRegex(y),N=this.rules.other.headingBeginRegex(y),O=this.rules.other.htmlBeginRegex(y);for(;u;){let _=u.split(`
`,1)[0],I;if(L=_,this.options.pedantic?(L=L.replace(this.rules.other.listReplaceNesting,"  "),I=L):I=L.replace(this.rules.other.tabCharGlobal,"    "),M.test(L)||N.test(L)||O.test(L)||C.test(L)||A.test(L))break;if(I.search(this.rules.other.nonSpaceChar)>=y||!L.trim())E+=`
`+I.slice(y);else{if(b||S.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||M.test(S)||N.test(S)||A.test(S))break;E+=`
`+L}!b&&!L.trim()&&(b=!0),k+=_+`
`,u=u.substring(_.length+1),S=I.slice(y)}}g.loose||(m?g.loose=!0:this.rules.other.doubleBlankLine.test(k)&&(m=!0));let v=null,w;this.options.gfm&&(v=this.rules.other.listIsTask.exec(E),v&&(w=v[0]!=="[ ] ",E=E.replace(this.rules.other.listReplaceTask,""))),g.items.push({type:"list_item",raw:k,task:!!v,checked:w,loose:!1,text:E,tokens:[]}),g.raw+=k}let x=g.items.at(-1);if(x)x.raw=x.raw.trimEnd(),x.text=x.text.trimEnd();else return;g.raw=g.raw.trimEnd();for(let T=0;T<g.items.length;T++)if(this.lexer.state.top=!1,g.items[T].tokens=this.lexer.blockTokens(g.items[T].text,[]),!g.loose){let k=g.items[T].tokens.filter(S=>S.type==="space"),E=k.length>0&&k.some(S=>this.rules.other.anyLine.test(S.raw));g.loose=E}if(g.loose)for(let T=0;T<g.items.length;T++)g.items[T].loose=!0;return g}}html(u){let h=this.rules.block.html.exec(u);if(h)return{type:"html",block:!0,raw:h[0],pre:h[1]==="pre"||h[1]==="script"||h[1]==="style",text:h[0]}}def(u){let h=this.rules.block.def.exec(u);if(h){let d=h[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),p=h[2]?h[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",g=h[3]?h[3].substring(1,h[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):h[3];return{type:"def",tag:d,raw:h[0],href:p,title:g}}}table(u){var m;let h=this.rules.block.table.exec(u);if(!h||!this.rules.other.tableDelimiter.test(h[2]))return;let d=ZL(h[1]),p=h[2].replace(this.rules.other.tableAlignChars,"").split("|"),g=(m=h[3])!=null&&m.trim()?h[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],f={type:"table",raw:h[0],header:[],align:[],rows:[]};if(d.length===p.length){for(let x of p)this.rules.other.tableAlignRight.test(x)?f.align.push("right"):this.rules.other.tableAlignCenter.test(x)?f.align.push("center"):this.rules.other.tableAlignLeft.test(x)?f.align.push("left"):f.align.push(null);for(let x=0;x<d.length;x++)f.header.push({text:d[x],tokens:this.lexer.inline(d[x]),header:!0,align:f.align[x]});for(let x of g)f.rows.push(ZL(x,f.header.length).map((T,k)=>({text:T,tokens:this.lexer.inline(T),header:!1,align:f.align[k]})));return f}}lheading(u){let h=this.rules.block.lheading.exec(u);if(h)return{type:"heading",raw:h[0],depth:h[2].charAt(0)==="="?1:2,text:h[1],tokens:this.lexer.inline(h[1])}}paragraph(u){let h=this.rules.block.paragraph.exec(u);if(h){let d=h[1].charAt(h[1].length-1)===`
`?h[1].slice(0,-1):h[1];return{type:"paragraph",raw:h[0],text:d,tokens:this.lexer.inline(d)}}}text(u){let h=this.rules.block.text.exec(u);if(h)return{type:"text",raw:h[0],text:h[0],tokens:this.lexer.inline(h[0])}}escape(u){let h=this.rules.inline.escape.exec(u);if(h)return{type:"escape",raw:h[0],text:h[1]}}tag(u){let h=this.rules.inline.tag.exec(u);if(h)return!this.lexer.state.inLink&&this.rules.other.startATag.test(h[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(h[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(h[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(h[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:h[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:h[0]}}link(u){let h=this.rules.inline.link.exec(u);if(h){let d=h[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(d)){if(!this.rules.other.endAngleBracket.test(d))return;let f=Pg(d.slice(0,-1),"\\");if((d.length-f.length)%2===0)return}else{let f=uue(h[2],"()");if(f===-2)return;if(f>-1){let m=(h[0].indexOf("!")===0?5:4)+h[1].length+f;h[2]=h[2].substring(0,f),h[0]=h[0].substring(0,m).trim(),h[3]=""}}let p=h[2],g="";if(this.options.pedantic){let f=this.rules.other.pedanticHrefTitle.exec(p);f&&(p=f[1],g=f[3])}else g=h[3]?h[3].slice(1,-1):"";return p=p.trim(),this.rules.other.startAngleBracket.test(p)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(d)?p=p.slice(1):p=p.slice(1,-1)),QL(h,{href:p&&p.replace(this.rules.inline.anyPunctuation,"$1"),title:g&&g.replace(this.rules.inline.anyPunctuation,"$1")},h[0],this.lexer,this.rules)}}reflink(u,h){let d;if((d=this.rules.inline.reflink.exec(u))||(d=this.rules.inline.nolink.exec(u))){let p=(d[2]||d[1]).replace(this.rules.other.multipleSpaceGlobal," "),g=h[p.toLowerCase()];if(!g){let f=d[0].charAt(0);return{type:"text",raw:f,text:f}}return QL(d,g,d[0],this.lexer,this.rules)}}emStrong(u,h,d=""){let p=this.rules.inline.emStrongLDelim.exec(u);if(!(!p||p[3]&&d.match(this.rules.other.unicodeAlphaNumeric))&&(!(p[1]||p[2])||!d||this.rules.inline.punctuation.exec(d))){let g=[...p[0]].length-1,f,m,x=g,T=0,k=p[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(k.lastIndex=0,h=h.slice(-1*u.length+g);(p=k.exec(h))!=null;){if(f=p[1]||p[2]||p[3]||p[4]||p[5]||p[6],!f)continue;if(m=[...f].length,p[3]||p[4]){x+=m;continue}else if((p[5]||p[6])&&g%3&&!((g+m)%3)){T+=m;continue}if(x-=m,x>0)continue;m=Math.min(m,m+x+T);let E=[...p[0]][0].length,S=u.slice(0,g+p.index+E+m);if(Math.min(g,m)%2){let b=S.slice(1,-1);return{type:"em",raw:S,text:b,tokens:this.lexer.inlineTokens(b)}}let L=S.slice(2,-2);return{type:"strong",raw:S,text:L,tokens:this.lexer.inlineTokens(L)}}}}codespan(u){let h=this.rules.inline.code.exec(u);if(h){let d=h[2].replace(this.rules.other.newLineCharGlobal," "),p=this.rules.other.nonSpaceChar.test(d),g=this.rules.other.startingSpaceChar.test(d)&&this.rules.other.endingSpaceChar.test(d);return p&&g&&(d=d.substring(1,d.length-1)),{type:"codespan",raw:h[0],text:d}}}br(u){let h=this.rules.inline.br.exec(u);if(h)return{type:"br",raw:h[0]}}del(u){let h=this.rules.inline.del.exec(u);if(h)return{type:"del",raw:h[0],text:h[2],tokens:this.lexer.inlineTokens(h[2])}}autolink(u){let h=this.rules.inline.autolink.exec(u);if(h){let d,p;return h[2]==="@"?(d=h[1],p="mailto:"+d):(d=h[1],p=d),{type:"link",raw:h[0],text:d,href:p,tokens:[{type:"text",raw:d,text:d}]}}}url(u){var d,p;let h;if(h=this.rules.inline.url.exec(u)){let g,f;if(h[2]==="@")g=h[0],f="mailto:"+g;else{let m;do m=h[0],h[0]=(p=(d=this.rules.inline._backpedal.exec(h[0]))==null?void 0:d[0])!=null?p:"";while(m!==h[0]);g=h[0],h[1]==="www."?f="http://"+h[0]:f=h[0]}return{type:"link",raw:h[0],text:g,href:f,tokens:[{type:"text",raw:g,text:g}]}}}inlineText(u){let h=this.rules.inline.text.exec(u);if(h){let d=this.lexer.state.inRawBlock;return{type:"text",raw:h[0],text:h[0],escaped:d}}}},l(e,"y"),e),hl=(t=class{constructor(u){Ar(this,"tokens");Ar(this,"options");Ar(this,"state");Ar(this,"tokenizer");Ar(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=u||Gu,this.options.tokenizer=this.options.tokenizer||new s2,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let h={other:na,block:a2.normal,inline:Fg.normal};this.options.pedantic?(h.block=a2.pedantic,h.inline=Fg.pedantic):this.options.gfm&&(h.block=a2.gfm,this.options.breaks?h.inline=Fg.breaks:h.inline=Fg.gfm),this.tokenizer.rules=h}static get rules(){return{block:a2,inline:Fg}}static lex(u,h){return new t(h).lex(u)}static lexInline(u,h){return new t(h).inlineTokens(u)}lex(u){u=u.replace(na.carriageReturn,`
`),this.blockTokens(u,this.tokens);for(let h=0;h<this.inlineQueue.length;h++){let d=this.inlineQueue[h];this.inlineTokens(d.src,d.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(u,h=[],d=!1){var p,g,f;for(this.options.pedantic&&(u=u.replace(na.tabCharGlobal,"    ").replace(na.spaceLine,""));u;){let m;if((g=(p=this.options.extensions)==null?void 0:p.block)!=null&&g.some(T=>(m=T.call({lexer:this},u,h))?(u=u.substring(m.raw.length),h.push(m),!0):!1))continue;if(m=this.tokenizer.space(u)){u=u.substring(m.raw.length);let T=h.at(-1);m.raw.length===1&&T!==void 0?T.raw+=`
`:h.push(m);continue}if(m=this.tokenizer.code(u)){u=u.substring(m.raw.length);let T=h.at(-1);(T==null?void 0:T.type)==="paragraph"||(T==null?void 0:T.type)==="text"?(T.raw+=(T.raw.endsWith(`
`)?"":`
`)+m.raw,T.text+=`
`+m.text,this.inlineQueue.at(-1).src=T.text):h.push(m);continue}if(m=this.tokenizer.fences(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.heading(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.hr(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.blockquote(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.list(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.html(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.def(u)){u=u.substring(m.raw.length);let T=h.at(-1);(T==null?void 0:T.type)==="paragraph"||(T==null?void 0:T.type)==="text"?(T.raw+=(T.raw.endsWith(`
`)?"":`
`)+m.raw,T.text+=`
`+m.raw,this.inlineQueue.at(-1).src=T.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title},h.push(m));continue}if(m=this.tokenizer.table(u)){u=u.substring(m.raw.length),h.push(m);continue}if(m=this.tokenizer.lheading(u)){u=u.substring(m.raw.length),h.push(m);continue}let x=u;if((f=this.options.extensions)!=null&&f.startBlock){let T=1/0,k=u.slice(1),E;this.options.extensions.startBlock.forEach(S=>{E=S.call({lexer:this},k),typeof E=="number"&&E>=0&&(T=Math.min(T,E))}),T<1/0&&T>=0&&(x=u.substring(0,T+1))}if(this.state.top&&(m=this.tokenizer.paragraph(x))){let T=h.at(-1);d&&(T==null?void 0:T.type)==="paragraph"?(T.raw+=(T.raw.endsWith(`
`)?"":`
`)+m.raw,T.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=T.text):h.push(m),d=x.length!==u.length,u=u.substring(m.raw.length);continue}if(m=this.tokenizer.text(u)){u=u.substring(m.raw.length);let T=h.at(-1);(T==null?void 0:T.type)==="text"?(T.raw+=(T.raw.endsWith(`
`)?"":`
`)+m.raw,T.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=T.text):h.push(m);continue}if(u){let T="Infinite loop on byte: "+u.charCodeAt(0);if(this.options.silent){console.error(T);break}else throw new Error(T)}}return this.state.top=!0,h}inline(u,h=[]){return this.inlineQueue.push({src:u,tokens:h}),h}inlineTokens(u,h=[]){var m,x,T,k,E,S;let d=u,p=null;if(this.tokens.links){let L=Object.keys(this.tokens.links);if(L.length>0)for(;(p=this.tokenizer.rules.inline.reflinkSearch.exec(d))!=null;)L.includes(p[0].slice(p[0].lastIndexOf("[")+1,-1))&&(d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(p=this.tokenizer.rules.inline.anyPunctuation.exec(d))!=null;)d=d.slice(0,p.index)+"++"+d.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(p=this.tokenizer.rules.inline.blockSkip.exec(d))!=null;)d=d.slice(0,p.index)+"["+"a".repeat(p[0].length-2)+"]"+d.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);d=(T=(x=(m=this.options.hooks)==null?void 0:m.emStrongMask)==null?void 0:x.call({lexer:this},d))!=null?T:d;let g=!1,f="";for(;u;){g||(f=""),g=!1;let L;if((E=(k=this.options.extensions)==null?void 0:k.inline)!=null&&E.some(y=>(L=y.call({lexer:this},u,h))?(u=u.substring(L.raw.length),h.push(L),!0):!1))continue;if(L=this.tokenizer.escape(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.tag(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.link(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.reflink(u,this.tokens.links)){u=u.substring(L.raw.length);let y=h.at(-1);L.type==="text"&&(y==null?void 0:y.type)==="text"?(y.raw+=L.raw,y.text+=L.text):h.push(L);continue}if(L=this.tokenizer.emStrong(u,d,f)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.codespan(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.br(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.del(u)){u=u.substring(L.raw.length),h.push(L);continue}if(L=this.tokenizer.autolink(u)){u=u.substring(L.raw.length),h.push(L);continue}if(!this.state.inLink&&(L=this.tokenizer.url(u))){u=u.substring(L.raw.length),h.push(L);continue}let b=u;if((S=this.options.extensions)!=null&&S.startInline){let y=1/0,v=u.slice(1),w;this.options.extensions.startInline.forEach(C=>{w=C.call({lexer:this},v),typeof w=="number"&&w>=0&&(y=Math.min(y,w))}),y<1/0&&y>=0&&(b=u.substring(0,y+1))}if(L=this.tokenizer.inlineText(b)){u=u.substring(L.raw.length),L.raw.slice(-1)!=="_"&&(f=L.raw.slice(-1)),g=!0;let y=h.at(-1);(y==null?void 0:y.type)==="text"?(y.raw+=L.raw,y.text+=L.text):h.push(L);continue}if(u){let y="Infinite loop on byte: "+u.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return h}},l(t,"l"),t),o2=(r=class{constructor(u){Ar(this,"options");Ar(this,"parser");this.options=u||Gu}space(u){return""}code({text:u,lang:h,escaped:d}){var f;let p=(f=(h||"").match(na.notSpaceStart))==null?void 0:f[0],g=u.replace(na.endingNewline,"")+`
`;return p?'<pre><code class="language-'+xo(p)+'">'+(d?g:xo(g,!0))+`</code></pre>
`:"<pre><code>"+(d?g:xo(g,!0))+`</code></pre>
`}blockquote({tokens:u}){return`<blockquote>
${this.parser.parse(u)}</blockquote>
`}html({text:u}){return u}def(u){return""}heading({tokens:u,depth:h}){return`<h${h}>${this.parser.parseInline(u)}</h${h}>
`}hr(u){return`<hr>
`}list(u){let h=u.ordered,d=u.start,p="";for(let m=0;m<u.items.length;m++){let x=u.items[m];p+=this.listitem(x)}let g=h?"ol":"ul",f=h&&d!==1?' start="'+d+'"':"";return"<"+g+f+`>
`+p+"</"+g+`>
`}listitem(u){var d;let h="";if(u.task){let p=this.checkbox({checked:!!u.checked});u.loose?((d=u.tokens[0])==null?void 0:d.type)==="paragraph"?(u.tokens[0].text=p+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&u.tokens[0].tokens[0].type==="text"&&(u.tokens[0].tokens[0].text=p+" "+xo(u.tokens[0].tokens[0].text),u.tokens[0].tokens[0].escaped=!0)):u.tokens.unshift({type:"text",raw:p+" ",text:p+" ",escaped:!0}):h+=p+" "}return h+=this.parser.parse(u.tokens,!!u.loose),`<li>${h}</li>
`}checkbox({checked:u}){return"<input "+(u?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:u}){return`<p>${this.parser.parseInline(u)}</p>
`}table(u){let h="",d="";for(let g=0;g<u.header.length;g++)d+=this.tablecell(u.header[g]);h+=this.tablerow({text:d});let p="";for(let g=0;g<u.rows.length;g++){let f=u.rows[g];d="";for(let m=0;m<f.length;m++)d+=this.tablecell(f[m]);p+=this.tablerow({text:d})}return p&&(p=`<tbody>${p}</tbody>`),`<table>
<thead>
`+h+`</thead>
`+p+`</table>
`}tablerow({text:u}){return`<tr>
${u}</tr>
`}tablecell(u){let h=this.parser.parseInline(u.tokens),d=u.header?"th":"td";return(u.align?`<${d} align="${u.align}">`:`<${d}>`)+h+`</${d}>
`}strong({tokens:u}){return`<strong>${this.parser.parseInline(u)}</strong>`}em({tokens:u}){return`<em>${this.parser.parseInline(u)}</em>`}codespan({text:u}){return`<code>${xo(u,!0)}</code>`}br(u){return"<br>"}del({tokens:u}){return`<del>${this.parser.parseInline(u)}</del>`}link({href:u,title:h,tokens:d}){let p=this.parser.parseInline(d),g=KL(u);if(g===null)return p;u=g;let f='<a href="'+u+'"';return h&&(f+=' title="'+xo(h)+'"'),f+=">"+p+"</a>",f}image({href:u,title:h,text:d,tokens:p}){p&&(d=this.parser.parseInline(p,this.parser.textRenderer));let g=KL(u);if(g===null)return xo(d);u=g;let f=`<img src="${u}" alt="${d}"`;return h&&(f+=` title="${xo(h)}"`),f+=">",f}text(u){return"tokens"in u&&u.tokens?this.parser.parseInline(u.tokens):"escaped"in u&&u.escaped?u.text:xo(u.text)}},l(r,"P"),r),S6=(i=class{strong({text:u}){return u}em({text:u}){return u}codespan({text:u}){return u}del({text:u}){return u}html({text:u}){return u}text({text:u}){return u}link({text:u}){return""+u}image({text:u}){return""+u}br(){return""}},l(i,"$"),i),dl=(n=class{constructor(u){Ar(this,"options");Ar(this,"renderer");Ar(this,"textRenderer");this.options=u||Gu,this.options.renderer=this.options.renderer||new o2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new S6}static parse(u,h){return new n(h).parse(u)}static parseInline(u,h){return new n(h).parseInline(u)}parse(u,h=!0){var p,g;let d="";for(let f=0;f<u.length;f++){let m=u[f];if((g=(p=this.options.extensions)==null?void 0:p.renderers)!=null&&g[m.type]){let T=m,k=this.options.extensions.renderers[T.type].call({parser:this},T);if(k!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(T.type)){d+=k||"";continue}}let x=m;switch(x.type){case"space":{d+=this.renderer.space(x);continue}case"hr":{d+=this.renderer.hr(x);continue}case"heading":{d+=this.renderer.heading(x);continue}case"code":{d+=this.renderer.code(x);continue}case"table":{d+=this.renderer.table(x);continue}case"blockquote":{d+=this.renderer.blockquote(x);continue}case"list":{d+=this.renderer.list(x);continue}case"html":{d+=this.renderer.html(x);continue}case"def":{d+=this.renderer.def(x);continue}case"paragraph":{d+=this.renderer.paragraph(x);continue}case"text":{let T=x,k=this.renderer.text(T);for(;f+1<u.length&&u[f+1].type==="text";)T=u[++f],k+=`
`+this.renderer.text(T);h?d+=this.renderer.paragraph({type:"paragraph",raw:k,text:k,tokens:[{type:"text",raw:k,text:k,escaped:!0}]}):d+=k;continue}default:{let T='Token with "'+x.type+'" type was not found.';if(this.options.silent)return console.error(T),"";throw new Error(T)}}}return d}parseInline(u,h=this.renderer){var p,g;let d="";for(let f=0;f<u.length;f++){let m=u[f];if((g=(p=this.options.extensions)==null?void 0:p.renderers)!=null&&g[m.type]){let T=this.options.extensions.renderers[m.type].call({parser:this},m);if(T!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(m.type)){d+=T||"";continue}}let x=m;switch(x.type){case"escape":{d+=h.text(x);break}case"html":{d+=h.html(x);break}case"link":{d+=h.link(x);break}case"image":{d+=h.image(x);break}case"strong":{d+=h.strong(x);break}case"em":{d+=h.em(x);break}case"codespan":{d+=h.codespan(x);break}case"br":{d+=h.br(x);break}case"del":{d+=h.del(x);break}case"text":{d+=h.text(x);break}default:{let T='Token with "'+x.type+'" type was not found.';if(this.options.silent)return console.error(T),"";throw new Error(T)}}}return d}},l(n,"l"),n),zg=(a=class{constructor(u){Ar(this,"options");Ar(this,"block");this.options=u||Gu}preprocess(u){return u}postprocess(u){return u}processAllTokens(u){return u}emStrongMask(u){return u}provideLexer(){return this.block?hl.lex:hl.lexInline}provideParser(){return this.block?dl.parse:dl.parseInline}},l(a,"S"),Ar(a,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),Ar(a,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),a),Hue=(s=class{constructor(...u){Ar(this,"defaults",y6());Ar(this,"options",this.setOptions);Ar(this,"parse",this.parseMarkdown(!0));Ar(this,"parseInline",this.parseMarkdown(!1));Ar(this,"Parser",dl);Ar(this,"Renderer",o2);Ar(this,"TextRenderer",S6);Ar(this,"Lexer",hl);Ar(this,"Tokenizer",s2);Ar(this,"Hooks",zg);this.use(...u)}walkTokens(u,h){var p,g;let d=[];for(let f of u)switch(d=d.concat(h.call(this,f)),f.type){case"table":{let m=f;for(let x of m.header)d=d.concat(this.walkTokens(x.tokens,h));for(let x of m.rows)for(let T of x)d=d.concat(this.walkTokens(T.tokens,h));break}case"list":{let m=f;d=d.concat(this.walkTokens(m.items,h));break}default:{let m=f;(g=(p=this.defaults.extensions)==null?void 0:p.childTokens)!=null&&g[m.type]?this.defaults.extensions.childTokens[m.type].forEach(x=>{let T=m[x].flat(1/0);d=d.concat(this.walkTokens(T,h))}):m.tokens&&(d=d.concat(this.walkTokens(m.tokens,h)))}}return d}use(...u){let h=this.defaults.extensions||{renderers:{},childTokens:{}};return u.forEach(d=>{let p=dt({},d);if(p.async=this.defaults.async||p.async||!1,d.extensions&&(d.extensions.forEach(g=>{if(!g.name)throw new Error("extension name required");if("renderer"in g){let f=h.renderers[g.name];f?h.renderers[g.name]=function(...m){let x=g.renderer.apply(this,m);return x===!1&&(x=f.apply(this,m)),x}:h.renderers[g.name]=g.renderer}if("tokenizer"in g){if(!g.level||g.level!=="block"&&g.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let f=h[g.level];f?f.unshift(g.tokenizer):h[g.level]=[g.tokenizer],g.start&&(g.level==="block"?h.startBlock?h.startBlock.push(g.start):h.startBlock=[g.start]:g.level==="inline"&&(h.startInline?h.startInline.push(g.start):h.startInline=[g.start]))}"childTokens"in g&&g.childTokens&&(h.childTokens[g.name]=g.childTokens)}),p.extensions=h),d.renderer){let g=this.defaults.renderer||new o2(this.defaults);for(let f in d.renderer){if(!(f in g))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;let m=f,x=d.renderer[m],T=g[m];g[m]=(...k)=>{let E=x.apply(g,k);return E===!1&&(E=T.apply(g,k)),E||""}}p.renderer=g}if(d.tokenizer){let g=this.defaults.tokenizer||new s2(this.defaults);for(let f in d.tokenizer){if(!(f in g))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;let m=f,x=d.tokenizer[m],T=g[m];g[m]=(...k)=>{let E=x.apply(g,k);return E===!1&&(E=T.apply(g,k)),E}}p.tokenizer=g}if(d.hooks){let g=this.defaults.hooks||new zg;for(let f in d.hooks){if(!(f in g))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;let m=f,x=d.hooks[m],T=g[m];zg.passThroughHooks.has(f)?g[m]=k=>{if(this.defaults.async&&zg.passThroughHooksRespectAsync.has(f))return Promise.resolve(x.call(g,k)).then(S=>T.call(g,S));let E=x.call(g,k);return T.call(g,E)}:g[m]=(...k)=>{let E=x.apply(g,k);return E===!1&&(E=T.apply(g,k)),E}}p.hooks=g}if(d.walkTokens){let g=this.defaults.walkTokens,f=d.walkTokens;p.walkTokens=function(m){let x=[];return x.push(f.call(this,m)),g&&(x=x.concat(g.call(this,m))),x}}this.defaults=dt(dt({},this.defaults),p)}),this}setOptions(u){return this.defaults=dt(dt({},this.defaults),u),this}lexer(u,h){return hl.lex(u,h!=null?h:this.defaults)}parser(u,h){return dl.parse(u,h!=null?h:this.defaults)}parseMarkdown(u){return(h,d)=>{let p=dt({},d),g=dt(dt({},this.defaults),p),f=this.onError(!!g.silent,!!g.async);if(this.defaults.async===!0&&p.async===!1)return f(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof h>"u"||h===null)return f(new Error("marked(): input parameter is undefined or null"));if(typeof h!="string")return f(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(h)+", string expected"));g.hooks&&(g.hooks.options=g,g.hooks.block=u);let m=g.hooks?g.hooks.provideLexer():u?hl.lex:hl.lexInline,x=g.hooks?g.hooks.provideParser():u?dl.parse:dl.parseInline;if(g.async)return Promise.resolve(g.hooks?g.hooks.preprocess(h):h).then(T=>m(T,g)).then(T=>g.hooks?g.hooks.processAllTokens(T):T).then(T=>g.walkTokens?Promise.all(this.walkTokens(T,g.walkTokens)).then(()=>T):T).then(T=>x(T,g)).then(T=>g.hooks?g.hooks.postprocess(T):T).catch(f);try{g.hooks&&(h=g.hooks.preprocess(h));let T=m(h,g);g.hooks&&(T=g.hooks.processAllTokens(T)),g.walkTokens&&this.walkTokens(T,g.walkTokens);let k=x(T,g);return g.hooks&&(k=g.hooks.postprocess(k)),k}catch(T){return f(T)}}}onError(u,h){return d=>{if(d.message+=`
Please report this to https://github.com/markedjs/marked.`,u){let p="<p>An error occurred:</p><pre>"+xo(d.message+"",!0)+"</pre>";return h?Promise.resolve(p):p}if(h)return Promise.reject(d);throw d}}},l(s,"B"),s),Uu=new Hue,l(zr,"d"),zr.options=zr.setOptions=function(o){return Uu.setOptions(o),zr.defaults=Uu.defaults,XL(zr.defaults),zr},zr.getDefaults=y6,zr.defaults=Gu,zr.use=function(...o){return Uu.use(...o),zr.defaults=Uu.defaults,XL(zr.defaults),zr},zr.walkTokens=function(o,u){return Uu.walkTokens(o,u)},zr.parseInline=Uu.parseInline,zr.Parser=dl,zr.parser=dl.parse,zr.Renderer=o2,zr.TextRenderer=S6,zr.Lexer=hl,zr.lexer=hl.lex,zr.Tokenizer=s2,zr.Hooks=zg,zr.parse=zr,RYe=zr.options,OYe=zr.setOptions,PYe=zr.use,BYe=zr.walkTokens,$Ye=zr.parseInline,FYe=dl.parse,zYe=hl.lex});function Vue(e,{markdownAutoWrap:t}){let r=e.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=CS(r);return t===!1?i.replace(/ /g,"&nbsp;"):i}function Yue(e,t={}){let r=Vue(e,t),i=zr.lexer(r),n=[[]],a=0;function s(o,u="normal"){o.type==="text"?o.text.split(`
`).forEach((h,d)=>{d!==0&&(a++,n.push([])),h.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&n[a].push({content:p,type:u})})}):o.type==="strong"||o.type==="em"?o.tokens.forEach(h=>{s(h,o.type)}):o.type==="html"&&n[a].push({content:o.text,type:"normal"})}return l(s,"processNode"),i.forEach(o=>{var u;o.type==="paragraph"?(u=o.tokens)==null||u.forEach(h=>{s(h)}):o.type==="html"?n[a].push({content:o.text,type:"normal"}):n[a].push({content:o.raw,type:"normal"})}),n}function Wue(e,{markdownAutoWrap:t}={}){let r=zr.lexer(e);function i(n){var a,s,o;return n.type==="text"?t===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${(a=n.tokens)==null?void 0:a.map(i).join("")}</strong>`:n.type==="em"?`<em>${(s=n.tokens)==null?void 0:s.map(i).join("")}</em>`:n.type==="paragraph"?`<p>${(o=n.tokens)==null?void 0:o.map(i).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(ae.warn(`Unsupported markdown: ${n.type}`),n.raw)}return l(i,"output"),r.map(i).join("")}var UYe=B(()=>{"use strict";GYe(),MW(),lt(),l(Vue,"preprocessMarkdown"),l(Yue,"markdownToLines"),l(Wue,"markdownToHTML")});function Xue(e){return Intl.Segmenter?[...new Intl.Segmenter().segment(e)].map(t=>t.segment):[...e]}function Kue(e,t){let r=Xue(t.content);return hN(e,[],r,t.type)}function hN(e,t,r,i){if(r.length===0)return[{content:t.join(""),type:i},{content:"",type:i}];let[n,...a]=r,s=[...t,n];return e([{content:s.join(""),type:i}])?hN(e,s,a,i):(t.length===0&&n&&(t.push(n),r.shift()),[{content:t.join(""),type:i},{content:r.join(""),type:i}])}function Zue(e,t){if(e.some(({content:r})=>r.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return _6(e,t)}function _6(e,t,r=[],i=[]){var o;if(e.length===0)return i.length>0&&r.push(i),r.length>0?r:[];let n="";e[0].content===" "&&(n=" ",e.shift());let a=(o=e.shift())!=null?o:{content:" ",type:"normal"},s=[...i];if(n!==""&&s.push({content:n,type:"normal"}),s.push(a),t(s))return _6(e,t,r,s);if(i.length>0)r.push(i),e.unshift(a);else if(a.content){let[u,h]=Kue(t,a);r.push([u]),h.content&&e.unshift(h)}return _6(e,t,r)}var qYe=B(()=>{"use strict";l(Xue,"splitTextToChars"),l(Kue,"splitWordToFitWidth"),l(hN,"splitWordToFitWidthRecursion"),l(Zue,"splitLineToFitWidth"),l(_6,"splitLineToFitWidthRecursion")});function dN(e,t){t&&e.attr("style",t)}function Que(s,o,u,h){return xe(this,arguments,function*(e,t,r,i,n=!1,a=_r()){let d=e.append("foreignObject");d.attr("width",`${10*r}px`),d.attr("height",`${10*r}px`);let p=d.append("xhtml:div"),g=wi(t.label)?yield Hp(t.label.replace(at.lineBreakRegex,`
`),a):Er(t.label,a),f=t.isNode?"nodeLabel":"edgeLabel",m=p.append("span");m.html(g),dN(m,t.labelStyle),m.attr("class",`${f} ${i}`),dN(p,t.labelStyle),p.style("display","table-cell"),p.style("white-space","nowrap"),p.style("line-height","1.5"),p.style("max-width",r+"px"),p.style("text-align","center"),p.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&p.attr("class","labelBkg");let x=p.node().getBoundingClientRect();return x.width===r&&(p.style("display","table"),p.style("white-space","break-spaces"),p.style("width",r+"px"),x=p.node().getBoundingClientRect()),d.node()})}function A6(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function Jue(e,t,r){let i=e.append("text"),n=A6(i,1,t);L6(n,r);let a=n.node().getComputedTextLength();return i.remove(),a}function ehe(e,t,r){var s;let i=e.append("text"),n=A6(i,1,t);L6(n,[{content:r,type:"normal"}]);let a=(s=n.node())==null?void 0:s.getBoundingClientRect();return a&&i.remove(),a}function the(e,t,r,i=!1){let n=t.append("g"),a=n.insert("rect").attr("class","background").attr("style","stroke: none"),s=n.append("text").attr("y","-10.1"),o=0;for(let u of r){let h=l(p=>Jue(n,1.1,p)<=e,"checkWidth"),d=h(u)?[u]:Zue(u,h);for(let p of d){let g=A6(s,o,1.1);L6(g,p),o++}}if(i){let u=s.node().getBBox(),h=2;return a.attr("x",u.x-h).attr("y",u.y-h).attr("width",u.width+2*h).attr("height",u.height+2*h),n.node()}else return s.node()}function L6(e,t){e.text(""),t.forEach((r,i)=>{let n=e.append("tspan").attr("font-style",r.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",r.type==="strong"?"bold":"normal");i===0?n.text(r.content):n.text(" "+r.content)})}function pN(r){return xe(this,arguments,function*(e,t={}){let i=[];e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,s,o)=>(i.push(xe(null,null,function*(){let u=`${s}:${o}`;return(yield NW(u))?yield nc(u,void 0,{class:"label-icon"}):`<i class='${Er(a,t).replace(":"," ")}'></i>`})),a));let n=yield Promise.all(i);return e.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>{var a;return(a=n.shift())!=null?a:""})})}var Ha,wo=B(()=>{"use strict";gr(),dr(),lt(),UYe(),Jt(),ac(),qYe(),bi(),l(dN,"applyStyle"),l(Que,"addHtmlSpan"),l(A6,"createTspan"),l(Jue,"computeWidthOfText"),l(ehe,"computeDimensionOfText"),l(the,"createFormattedText"),l(L6,"updateTextContentAndStyles"),l(pN,"replaceIconSubstring"),Ha=l((d,...p)=>xe(null,[d,...p],function*(e,t="",{style:r="",isTitle:i=!1,classes:n="",useHtmlLabels:a=!0,isNode:s=!0,width:o=200,addSvgBackground:u=!1}={},h){if(ae.debug("XYZ createText",t,r,i,n,a,s,"addSvgBackground: ",u),a){let g=Wue(t,h),f=yield pN(vo(g),h),m=t.replace(/\\\\/g,"\\"),x={isNode:s,label:wi(t)?m:f,labelStyle:r.replace("fill:","color:")};return yield Que(e,x,o,n,u,h)}else{let g=t.replace(/<br\s*\/?>/g,"<br/>"),f=Yue(g.replace("<br>","<br/>"),h),m=the(o,e,f,t?u:!1);if(s){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));let x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ze(m).attr("style",x)}else{let x=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Ze(m).select("rect").attr("style",x.replace(/background:/g,"fill:"));let T=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Ze(m).select("text").attr("style",T)}return m}}),"createText")});function wr(e){let t=e.map((r,i)=>`${i===0?"M":"L"}${r.x},${r.y}`);return t.push("Z"),t.join(" ")}function qu(e,t,r,i,n,a){let s=[],o=r-e,u=i-t,h=o/a,d=2*Math.PI/h,p=t+u/2;for(let g=0;g<=50;g++){let f=g/50,m=e+f*o,x=p+n*Math.sin(d*(m-e));s.push({x:m,y:x})}return s}function l2(e,t,r,i,n,a){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}var rr,N6,Ot,Xt,Mt=B(()=>{"use strict";wo(),qt(),gr(),va(),dr(),Jt(),rr=l((e,t,r)=>xe(null,null,function*(){var p,g,f;let i,n=t.useHtmlLabels||Hr((p=Ce())==null?void 0:p.htmlLabels);r?i=r:i="node default";let a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),s=a.insert("g").attr("class","label").attr("style",ia(t.labelStyle)),o;t.label===void 0?o="":o=typeof t.label=="string"?t.label:t.label[0];let u=yield Ha(s,Er(vo(o),Ce()),{useHtmlLabels:n,width:t.width||((g=Ce().flowchart)==null?void 0:g.wrappingWidth),cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img}),h=u.getBBox(),d=((f=t==null?void 0:t.padding)!=null?f:0)/2;if(n){let m=u.children[0],x=Ze(u),T=m.getElementsByTagName("img");if(T){let k=o.replace(/<img[^>]*>/g,"").trim()==="";yield Promise.all([...T].map(E=>new Promise(S=>{function L(){if(E.style.display="flex",E.style.flexDirection="column",k){let b=Ce().fontSize?Ce().fontSize:window.getComputedStyle(document.body).fontSize,y=5,[v=Tr.fontSize]=Fu(b),w=v*y+"px";E.style.minWidth=w,E.style.maxWidth=w}else E.style.width="100%";S(E)}l(L,"setupImage"),setTimeout(()=>{E.complete&&L()}),E.addEventListener("error",L),E.addEventListener("load",L)})))}h=m.getBoundingClientRect(),x.attr("width",h.width),x.attr("height",h.height)}return n?s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"):s.attr("transform","translate(0, "+-h.height/2+")"),t.centerLabel&&s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:a,bbox:h,halfPadding:d,label:s}}),"labelHelper"),N6=l((e,t,r)=>xe(null,null,function*(){var u,h,d,p,g,f;let i=r.useHtmlLabels||Hr((h=(u=Ce())==null?void 0:u.flowchart)==null?void 0:h.htmlLabels),n=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),a=yield Ha(n,Er(vo(t),Ce()),{useHtmlLabels:i,width:r.width||((p=(d=Ce())==null?void 0:d.flowchart)==null?void 0:p.wrappingWidth),style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img}),s=a.getBBox(),o=r.padding/2;if(Hr((f=(g=Ce())==null?void 0:g.flowchart)==null?void 0:f.htmlLabels)){let m=a.children[0],x=Ze(a);s=m.getBoundingClientRect(),x.attr("width",s.width),x.attr("height",s.height)}return i?n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"):n.attr("transform","translate(0, "+-s.height/2+")"),r.centerLabel&&n.attr("transform","translate("+-s.width/2+", "+-s.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:e,bbox:s,halfPadding:o,label:n}}),"insertLabel"),Ot=l((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),Xt=l((e,t)=>(e.look==="handDrawn"?"rough-node":"node")+" "+e.cssClasses+" "+(t||""),"getNodeClasses"),l(wr,"createPathFromPoints"),l(qu,"generateFullSineWavePoints"),l(l2,"generateCirclePoints")});function rhe(e,t){return e.intersect(t)}var ihe,jYe=B(()=>{"use strict";l(rhe,"intersectNode"),ihe=rhe});function nhe(e,t,r,i){var n=e.x,a=e.y,s=n-i.x,o=a-i.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);i.x<n&&(h=-h);var d=Math.abs(t*r*o/u);return i.y<a&&(d=-d),{x:n+h,y:a+d}}var gN,ahe=B(()=>{"use strict";l(nhe,"intersectEllipse"),gN=nhe});function she(e,t,r){return gN(e,t,t,r)}var ohe,HYe=B(()=>{"use strict";ahe(),l(she,"intersectCircle"),ohe=she});function lhe(e,t,r,i){{let n=t.y-e.y,a=e.x-t.x,s=t.x*e.y-e.x*t.y,o=n*r.x+a*r.y+s,u=n*i.x+a*i.y+s,h=1e-6;if(o!==0&&u!==0&&fN(o,u))return;let d=i.y-r.y,p=r.x-i.x,g=i.x*r.y-r.x*i.y,f=d*e.x+p*e.y+g,m=d*t.x+p*t.y+g;if(Math.abs(f)<h&&Math.abs(m)<h&&fN(f,m))return;let x=n*p-d*a;if(x===0)return;let T=Math.abs(x/2),k=a*g-p*s,E=k<0?(k-T)/x:(k+T)/x;k=d*s-n*g;let S=k<0?(k-T)/x:(k+T)/x;return{x:E,y:S}}}function fN(e,t){return e*t>0}var che,VYe=B(()=>{"use strict";l(lhe,"intersectLine"),l(fN,"sameSign"),che=lhe});function uhe(e,t,r){let i=e.x,n=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(d){s=Math.min(s,d.x),o=Math.min(o,d.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));let u=i-e.width/2-s,h=n-e.height/2-o;for(let d=0;d<t.length;d++){let p=t[d],g=t[d<t.length-1?d+1:0],f=che(e,r,{x:u+p.x,y:h+p.y},{x:u+g.x,y:h+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(d,p){let g=d.x-r.x,f=d.y-r.y,m=Math.sqrt(g*g+f*f),x=p.x-r.x,T=p.y-r.y,k=Math.sqrt(x*x+T*T);return m<k?-1:m===k?0:1}),a[0]):e}var hhe,YYe=B(()=>{"use strict";VYe(),l(uhe,"intersectPolygon"),hhe=uhe}),dhe,kd,phe=B(()=>{"use strict";dhe=l((e,t)=>{var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2,u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=a===0?0:o*n/a,h=o):(n<0&&(s=-s),u=s,h=n===0?0:s*a/n),{x:r+u,y:i+h}},"intersectRect"),kd=dhe}),Ct,Bt=B(()=>{"use strict";jYe(),HYe(),ahe(),YYe(),phe(),Ct={node:ihe,circle:ohe,ellipse:gN,polygon:hhe,rect:kd}}),ghe,Td,fhe,M6,At,Pt,mhe,Dt=B(()=>{"use strict";qt(),ghe=l(e=>{let{handDrawnSeed:t}=Ce();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}},"solidStateFill"),Td=l(e=>{let t=fhe([...e.cssCompiledStyles||[],...e.cssStyles||[],...e.labelStyle||[]]);return{stylesMap:t,stylesArray:[...t]}},"compileStyles"),fhe=l(e=>{let t=new Map;return e.forEach(r=>{let[i,n]=r.split(":");t.set(i.trim(),n==null?void 0:n.trim())}),t},"styles2Map"),M6=l(e=>e==="color"||e==="font-size"||e==="font-family"||e==="font-weight"||e==="font-style"||e==="text-decoration"||e==="text-align"||e==="text-transform"||e==="line-height"||e==="letter-spacing"||e==="word-spacing"||e==="text-shadow"||e==="text-overflow"||e==="white-space"||e==="word-wrap"||e==="word-break"||e==="overflow-wrap"||e==="hyphens","isLabelStyle"),At=l(e=>{let{stylesArray:t}=Td(e),r=[],i=[],n=[],a=[];return t.forEach(s=>{let o=s[0];M6(o)?r.push(s.join(":")+" !important"):(i.push(s.join(":")+" !important"),o.includes("stroke")&&n.push(s.join(":")+" !important"),o==="fill"&&a.push(s.join(":")+" !important"))}),{labelStyles:r.join(";"),nodeStyles:i.join(";"),stylesArray:t,borderStyles:n,backgroundStyles:a}},"styles2String"),Pt=l((e,t)=>{var o;let{themeVariables:r,handDrawnSeed:i}=Ce(),{nodeBorder:n,mainBkg:a}=r,{stylesMap:s}=Td(e);return Object.assign({roughness:.7,fill:s.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:s.get("stroke")||n,seed:i,strokeWidth:((o=s.get("stroke-width"))==null?void 0:o.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:mhe(s.get("stroke-dasharray"))},t)},"userNodeOverrides"),mhe=l(e=>{if(!e)return[0,0];let t=e.trim().split(/\s+/).map(Number);if(t.length===1){let n=isNaN(t[0])?0:t[0];return[n,n]}let r=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1];return[r,i]},"getStrokeDashArray")});function I6(e,t,r){if(e&&e.length){let[i,n]=t,a=Math.PI/180*r,s=Math.cos(a),o=Math.sin(a);for(let u of e){let[h,d]=u;u[0]=(h-i)*s-(d-n)*o+i,u[1]=(h-i)*o+(d-n)*s+n}}}function yhe(e,t){return e[0]===t[0]&&e[1]===t[1]}function vhe(e,t,r,i=1){let n=r,a=Math.max(t,.1),s=e[0]&&e[0][0]&&typeof e[0][0]=="number"?[e]:e,o=[0,0];if(n)for(let h of s)I6(h,o,n);let u=(function(h,d,p){let g=[];for(let E of h){let S=[...E];yhe(S[0],S[S.length-1])||S.push([S[0][0],S[0][1]]),S.length>2&&g.push(S)}let f=[];d=Math.max(d,.1);let m=[];for(let E of g)for(let S=0;S<E.length-1;S++){let L=E[S],b=E[S+1];if(L[1]!==b[1]){let y=Math.min(L[1],b[1]);m.push({ymin:y,ymax:Math.max(L[1],b[1]),x:y===L[1]?L[0]:b[0],islope:(b[0]-L[0])/(b[1]-L[1])})}}if(m.sort(((E,S)=>E.ymin<S.ymin?-1:E.ymin>S.ymin?1:E.x<S.x?-1:E.x>S.x?1:E.ymax===S.ymax?0:(E.ymax-S.ymax)/Math.abs(E.ymax-S.ymax))),!m.length)return f;let x=[],T=m[0].ymin,k=0;for(;x.length||m.length;){if(m.length){let E=-1;for(let S=0;S<m.length&&!(m[S].ymin>T);S++)E=S;m.splice(0,E+1).forEach((S=>{x.push({s:T,edge:S})}))}if(x=x.filter((E=>!(E.edge.ymax<=T))),x.sort(((E,S)=>E.edge.x===S.edge.x?0:(E.edge.x-S.edge.x)/Math.abs(E.edge.x-S.edge.x))),(p!==1||k%d==0)&&x.length>1)for(let E=0;E<x.length;E+=2){let S=E+1;if(S>=x.length)break;let L=x[E].edge,b=x[S].edge;f.push([[Math.round(L.x),T],[Math.round(b.x),T]])}T+=p,x.forEach((E=>{E.edge.x=E.edge.x+p*E.edge.islope})),k++}return f})(s,a,i);if(n){for(let h of s)I6(h,o,-n);(function(h,d,p){let g=[];h.forEach((f=>g.push(...f))),I6(g,d,p)})(u,o,-n)}return u}function Gg(e,t){var r;let i=t.hachureAngle+90,n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.round(Math.max(n,.1));let a=1;return t.roughness>=1&&(((r=t.randomizer)===null||r===void 0?void 0:r.next())||Math.random())>.7&&(a=n),vhe(e,n,i,a||1)}function c2(e){let t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}function D6(e,t){return e.type===t}function R6(e){let t=[],r=(function(s){let o=new Array;for(;s!=="";)if(s.match(/^([ \t\r\n,]+)/))s=s.substr(RegExp.$1.length);else if(s.match(/^([aAcChHlLmMqQsStTvVzZ])/))o[o.length]={type:Lhe,text:RegExp.$1},s=s.substr(RegExp.$1.length);else{if(!s.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];o[o.length]={type:G6,text:`${parseFloat(RegExp.$1)}`},s=s.substr(RegExp.$1.length)}return o[o.length]={type:LN,text:""},o})(e),i="BOD",n=0,a=r[n];for(;!D6(a,LN);){let s=0,o=[];if(i==="BOD"){if(a.text!=="M"&&a.text!=="m")return R6("M0,0"+e);n++,s=m2[a.text],i=a.text}else D6(a,G6)?s=m2[i]:(n++,s=m2[a.text],i=a.text);if(!(n+s<r.length))throw new Error("Path data ended short");for(let u=n;u<n+s;u++){let h=r[u];if(!D6(h,G6))throw new Error("Param not a number: "+i+","+h.text);o[o.length]=+h.text}if(typeof m2[i]!="number")throw new Error("Bad segment: "+i);{let u={key:i,data:o};t.push(u),n+=s,a=r[n],i==="M"&&(i="L"),i==="m"&&(i="l")}}return t}function mN(e){let t=0,r=0,i=0,n=0,a=[];for(let{key:s,data:o}of e)switch(s){case"M":a.push({key:"M",data:[...o]}),[t,r]=o,[i,n]=o;break;case"m":t+=o[0],r+=o[1],a.push({key:"M",data:[t,r]}),i=t,n=r;break;case"L":a.push({key:"L",data:[...o]}),[t,r]=o;break;case"l":t+=o[0],r+=o[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...o]}),t=o[4],r=o[5];break;case"c":{let u=o.map(((h,d)=>d%2?h+r:h+t));a.push({key:"C",data:u}),t=u[4],r=u[5];break}case"Q":a.push({key:"Q",data:[...o]}),t=o[2],r=o[3];break;case"q":{let u=o.map(((h,d)=>d%2?h+r:h+t));a.push({key:"Q",data:u}),t=u[2],r=u[3];break}case"A":a.push({key:"A",data:[...o]}),t=o[5],r=o[6];break;case"a":t+=o[5],r+=o[6],a.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,r]});break;case"H":a.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...o]}),r=o[0];break;case"v":r+=o[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...o]}),t=o[2],r=o[3];break;case"s":{let u=o.map(((h,d)=>d%2?h+r:h+t));a.push({key:"S",data:u}),t=u[2],r=u[3];break}case"T":a.push({key:"T",data:[...o]}),t=o[0],r=o[1];break;case"t":t+=o[0],r+=o[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=i,r=n}return a}function yN(e){let t=[],r="",i=0,n=0,a=0,s=0,o=0,u=0;for(let{key:h,data:d}of e){switch(h){case"M":t.push({key:"M",data:[...d]}),[i,n]=d,[a,s]=d;break;case"C":t.push({key:"C",data:[...d]}),i=d[4],n=d[5],o=d[2],u=d[3];break;case"L":t.push({key:"L",data:[...d]}),[i,n]=d;break;case"H":i=d[0],t.push({key:"L",data:[i,n]});break;case"V":n=d[0],t.push({key:"L",data:[i,n]});break;case"S":{let p=0,g=0;r==="C"||r==="S"?(p=i+(i-o),g=n+(n-u)):(p=i,g=n),t.push({key:"C",data:[p,g,...d]}),o=d[0],u=d[1],i=d[2],n=d[3];break}case"T":{let[p,g]=d,f=0,m=0;r==="Q"||r==="T"?(f=i+(i-o),m=n+(n-u)):(f=i,m=n);let x=i+2*(f-i)/3,T=n+2*(m-n)/3,k=p+2*(f-p)/3,E=g+2*(m-g)/3;t.push({key:"C",data:[x,T,k,E,p,g]}),o=f,u=m,i=p,n=g;break}case"Q":{let[p,g,f,m]=d,x=i+2*(p-i)/3,T=n+2*(g-n)/3,k=f+2*(p-f)/3,E=m+2*(g-m)/3;t.push({key:"C",data:[x,T,k,E,f,m]}),o=p,u=g,i=f,n=m;break}case"A":{let p=Math.abs(d[0]),g=Math.abs(d[1]),f=d[2],m=d[3],x=d[4],T=d[5],k=d[6];p===0||g===0?(t.push({key:"C",data:[i,n,T,k,T,k]}),i=T,n=k):(i!==T||n!==k)&&(vN(i,n,T,k,p,g,f,m,x).forEach((function(E){t.push({key:"C",data:E})})),i=T,n=k);break}case"Z":t.push({key:"Z",data:[]}),i=a,n=s}r=h}return t}function Ug(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function vN(e,t,r,i,n,a,s,o,u,h){let d=(p=s,Math.PI*p/180);var p;let g=[],f=0,m=0,x=0,T=0;if(h)[f,m,x,T]=h;else{[e,t]=Ug(e,t,-d),[r,i]=Ug(r,i,-d);let O=(e-r)/2,_=(t-i)/2,I=O*O/(n*n)+_*_/(a*a);I>1&&(I=Math.sqrt(I),n*=I,a*=I);let R=n*n,P=a*a,D=R*P-R*_*_-P*O*O,$=R*_*_+P*O*O,F=(o===u?-1:1)*Math.sqrt(Math.abs(D/$));x=F*n*_/a+(e+r)/2,T=F*-a*O/n+(t+i)/2,f=Math.asin(parseFloat(((t-T)/a).toFixed(9))),m=Math.asin(parseFloat(((i-T)/a).toFixed(9))),e<x&&(f=Math.PI-f),r<x&&(m=Math.PI-m),f<0&&(f=2*Math.PI+f),m<0&&(m=2*Math.PI+m),u&&f>m&&(f-=2*Math.PI),!u&&m>f&&(m-=2*Math.PI)}let k=m-f;if(Math.abs(k)>120*Math.PI/180){let O=m,_=r,I=i;m=u&&m>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,g=vN(r=x+n*Math.cos(m),i=T+a*Math.sin(m),_,I,n,a,s,0,u,[m,O,x,T])}k=m-f;let E=Math.cos(f),S=Math.sin(f),L=Math.cos(m),b=Math.sin(m),y=Math.tan(k/4),v=4/3*n*y,w=4/3*a*y,C=[e,t],A=[e+v*S,t-w*E],M=[r+v*b,i-w*L],N=[r,i];if(A[0]=2*C[0]-A[0],A[1]=2*C[1]-A[1],h)return[A,M,N].concat(g);{g=[A,M,N].concat(g);let O=[];for(let _=0;_<g.length;_+=3){let I=Ug(g[_][0],g[_][1],d),R=Ug(g[_+1][0],g[_+1][1],d),P=Ug(g[_+2][0],g[_+2][1],d);O.push([I[0],I[1],R[0],R[1],P[0],P[1]])}return O}}function bN(e,t,r,i,n){return{type:"path",ops:fc(e,t,r,i,n)}}function u2(e,t,r){let i=(e||[]).length;if(i>2){let n=[];for(let a=0;a<i-1;a++)n.push(...fc(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&n.push(...fc(e[i-1][0],e[i-1][1],e[0][0],e[0][1],r)),{type:"path",ops:n}}return i===2?bN(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function bhe(e,t,r,i,n){return(function(a,s){return u2(a,!0,s)})([[e,t],[e+r,t],[e+r,t+i],[e,t+i]],n)}function xN(e,t){if(e.length){let r=typeof e[0][0]=="number"?[e]:e,i=d2(r[0],1*(1+.2*t.roughness),t),n=t.disableMultiStroke?[]:d2(r[0],1.5*(1+.22*t.roughness),EN(t));for(let a=1;a<r.length;a++){let s=r[a];if(s.length){let o=d2(s,1*(1+.2*t.roughness),t),u=t.disableMultiStroke?[]:d2(s,1.5*(1+.22*t.roughness),EN(t));for(let h of o)h.op!=="move"&&i.push(h);for(let h of u)h.op!=="move"&&n.push(h)}}return{type:"path",ops:i.concat(n)}}return{type:"path",ops:[]}}function wN(e,t,r){let i=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),n=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*i)),a=2*Math.PI/n,s=Math.abs(e/2),o=Math.abs(t/2),u=1-r.curveFitting;return s+=ir(s*u,r),o+=ir(o*u,r),{increment:a,rx:s,ry:o}}function O6(e,t,r,i){let[n,a]=SN(i.increment,e,t,i.rx,i.ry,1,i.increment*h2(.1,h2(.4,1,r),r),r),s=p2(n,null,r);if(!r.disableMultiStroke&&r.roughness!==0){let[o]=SN(i.increment,e,t,i.rx,i.ry,1.5,0,r),u=p2(o,null,r);s=s.concat(u)}return{estimatedPoints:a,opset:{type:"path",ops:s}}}function kN(e,t,r,i,n,a,s,o,u){let h=e,d=t,p=Math.abs(r/2),g=Math.abs(i/2);p+=ir(.01*p,u),g+=ir(.01*g,u);let f=n,m=a;for(;f<0;)f+=2*Math.PI,m+=2*Math.PI;m-f>2*Math.PI&&(f=0,m=2*Math.PI);let x=2*Math.PI/u.curveStepCount,T=Math.min(x/2,(m-f)/2),k=_N(T,h,d,p,g,f,m,1,u);if(!u.disableMultiStroke){let E=_N(T,h,d,p,g,f,m,1.5,u);k.push(...E)}return s&&(o?k.push(...fc(h,d,h+p*Math.cos(f),d+g*Math.sin(f),u),...fc(h,d,h+p*Math.cos(m),d+g*Math.sin(m),u)):k.push({op:"lineTo",data:[h,d]},{op:"lineTo",data:[h+p*Math.cos(f),d+g*Math.sin(f)]})),{type:"path",ops:k}}function TN(e,t){let r=yN(mN(R6(e))),i=[],n=[0,0],a=[0,0];for(let{key:s,data:o}of r)switch(s){case"M":a=[o[0],o[1]],n=[o[0],o[1]];break;case"L":i.push(...fc(a[0],a[1],o[0],o[1],t)),a=[o[0],o[1]];break;case"C":{let[u,h,d,p,g,f]=o;i.push(...xhe(u,h,d,p,g,f,a,t)),a=[g,f];break}case"Z":i.push(...fc(a[0],a[1],n[0],n[1],t)),a=[n[0],n[1]]}return{type:"path",ops:i}}function P6(e,t){let r=[];for(let i of e)if(i.length){let n=t.maxRandomnessOffset||0,a=i.length;if(a>2){r.push({op:"move",data:[i[0][0]+ir(n,t),i[0][1]+ir(n,t)]});for(let s=1;s<a;s++)r.push({op:"lineTo",data:[i[s][0]+ir(n,t),i[s][1]+ir(n,t)]})}}return{type:"fillPath",ops:r}}function Ed(e,t){return(function(r,i){let n=r.fillStyle||"hachure";if(!_a[n])switch(n){case"zigzag":_a[n]||(_a[n]=new The(i));break;case"cross-hatch":_a[n]||(_a[n]=new Ehe(i));break;case"dots":_a[n]||(_a[n]=new Che(i));break;case"dashed":_a[n]||(_a[n]=new She(i));break;case"zigzag-line":_a[n]||(_a[n]=new _he(i));break;default:n="hachure",_a[n]||(_a[n]=new z6(i))}return _a[n]})(t,Nhe).fillPolygons(e,t)}function EN(e){let t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function CN(e){return e.randomizer||(e.randomizer=new Ahe(e.seed||0)),e.randomizer.next()}function h2(e,t,r,i=1){return r.roughness*i*(CN(r)*(t-e)+e)}function ir(e,t,r=1){return h2(-e,e,t,r)}function fc(e,t,r,i,n,a=!1){let s=a?n.disableMultiStrokeFill:n.disableMultiStroke,o=B6(e,t,r,i,n,!0,!1);if(s)return o;let u=B6(e,t,r,i,n,!0,!0);return o.concat(u)}function B6(e,t,r,i,n,a,s){let o=Math.pow(e-r,2)+Math.pow(t-i,2),u=Math.sqrt(o),h=1;h=u<200?1:u>500?.4:-.0016668*u+1.233334;let d=n.maxRandomnessOffset||0;d*d*100>o&&(d=u/10);let p=d/2,g=.2+.2*CN(n),f=n.bowing*n.maxRandomnessOffset*(i-t)/200,m=n.bowing*n.maxRandomnessOffset*(e-r)/200;f=ir(f,n,h),m=ir(m,n,h);let x=[],T=l(()=>ir(p,n,h),"M"),k=l(()=>ir(d,n,h),"k"),E=n.preserveVertices;return a&&(s?x.push({op:"move",data:[e+(E?0:T()),t+(E?0:T())]}):x.push({op:"move",data:[e+(E?0:ir(d,n,h)),t+(E?0:ir(d,n,h))]})),s?x.push({op:"bcurveTo",data:[f+e+(r-e)*g+T(),m+t+(i-t)*g+T(),f+e+2*(r-e)*g+T(),m+t+2*(i-t)*g+T(),r+(E?0:T()),i+(E?0:T())]}):x.push({op:"bcurveTo",data:[f+e+(r-e)*g+k(),m+t+(i-t)*g+k(),f+e+2*(r-e)*g+k(),m+t+2*(i-t)*g+k(),r+(E?0:k()),i+(E?0:k())]}),x}function d2(e,t,r){if(!e.length)return[];let i=[];i.push([e[0][0]+ir(t,r),e[0][1]+ir(t,r)]),i.push([e[0][0]+ir(t,r),e[0][1]+ir(t,r)]);for(let n=1;n<e.length;n++)i.push([e[n][0]+ir(t,r),e[n][1]+ir(t,r)]),n===e.length-1&&i.push([e[n][0]+ir(t,r),e[n][1]+ir(t,r)]);return p2(i,null,r)}function p2(e,t,r){let i=e.length,n=[];if(i>3){let a=[],s=1-r.curveTightness;n.push({op:"move",data:[e[1][0],e[1][1]]});for(let o=1;o+2<i;o++){let u=e[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*e[o+1][0]-s*e[o-1][0])/6,u[1]+(s*e[o+1][1]-s*e[o-1][1])/6],a[2]=[e[o+1][0]+(s*e[o][0]-s*e[o+2][0])/6,e[o+1][1]+(s*e[o][1]-s*e[o+2][1])/6],a[3]=[e[o+1][0],e[o+1][1]],n.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&t.length===2){let o=r.maxRandomnessOffset;n.push({op:"lineTo",data:[t[0]+ir(o,r),t[1]+ir(o,r)]})}}else i===3?(n.push({op:"move",data:[e[1][0],e[1][1]]}),n.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):i===2&&n.push(...B6(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return n}function SN(e,t,r,i,n,a,s,o){let u=[],h=[];if(o.roughness===0){e/=4,h.push([t+i*Math.cos(-e),r+n*Math.sin(-e)]);for(let d=0;d<=2*Math.PI;d+=e){let p=[t+i*Math.cos(d),r+n*Math.sin(d)];u.push(p),h.push(p)}h.push([t+i*Math.cos(0),r+n*Math.sin(0)]),h.push([t+i*Math.cos(e),r+n*Math.sin(e)])}else{let d=ir(.5,o)-Math.PI/2;h.push([ir(a,o)+t+.9*i*Math.cos(d-e),ir(a,o)+r+.9*n*Math.sin(d-e)]);let p=2*Math.PI+d-.01;for(let g=d;g<p;g+=e){let f=[ir(a,o)+t+i*Math.cos(g),ir(a,o)+r+n*Math.sin(g)];u.push(f),h.push(f)}h.push([ir(a,o)+t+i*Math.cos(d+2*Math.PI+.5*s),ir(a,o)+r+n*Math.sin(d+2*Math.PI+.5*s)]),h.push([ir(a,o)+t+.98*i*Math.cos(d+s),ir(a,o)+r+.98*n*Math.sin(d+s)]),h.push([ir(a,o)+t+.9*i*Math.cos(d+.5*s),ir(a,o)+r+.9*n*Math.sin(d+.5*s)])}return[h,u]}function _N(e,t,r,i,n,a,s,o,u){let h=a+ir(.1,u),d=[];d.push([ir(o,u)+t+.9*i*Math.cos(h-e),ir(o,u)+r+.9*n*Math.sin(h-e)]);for(let p=h;p<=s;p+=e)d.push([ir(o,u)+t+i*Math.cos(p),ir(o,u)+r+n*Math.sin(p)]);return d.push([t+i*Math.cos(s),r+n*Math.sin(s)]),d.push([t+i*Math.cos(s),r+n*Math.sin(s)]),p2(d,null,u)}function xhe(e,t,r,i,n,a,s,o){let u=[],h=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3],d=[0,0],p=o.disableMultiStroke?1:2,g=o.preserveVertices;for(let f=0;f<p;f++)f===0?u.push({op:"move",data:[s[0],s[1]]}):u.push({op:"move",data:[s[0]+(g?0:ir(h[0],o)),s[1]+(g?0:ir(h[0],o))]}),d=g?[n,a]:[n+ir(h[f],o),a+ir(h[f],o)],u.push({op:"bcurveTo",data:[e+ir(h[f],o),t+ir(h[f],o),r+ir(h[f],o),i+ir(h[f],o),d[0],d[1]]});return u}function qg(e){return[...e]}function AN(e,t=0){let r=e.length;if(r<3)throw new Error("A curve must have at least three points.");let i=[];if(r===3)i.push(qg(e[0]),qg(e[1]),qg(e[2]),qg(e[2]));else{let n=[];n.push(e[0],e[0]);for(let o=1;o<e.length;o++)n.push(e[o]),o===e.length-1&&n.push(e[o]);let a=[],s=1-t;i.push(qg(n[0]));for(let o=1;o+2<n.length;o++){let u=n[o];a[0]=[u[0],u[1]],a[1]=[u[0]+(s*n[o+1][0]-s*n[o-1][0])/6,u[1]+(s*n[o+1][1]-s*n[o-1][1])/6],a[2]=[n[o+1][0]+(s*n[o][0]-s*n[o+2][0])/6,n[o+1][1]+(s*n[o][1]-s*n[o+2][1])/6],a[3]=[n[o+1][0],n[o+1][1]],i.push(a[1],a[2],a[3])}}return i}function g2(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function whe(e,t,r){let i=g2(t,r);if(i===0)return g2(e,t);let n=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/i;return n=Math.max(0,Math.min(1,n)),g2(e,ju(t,r,n))}function ju(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function $6(e,t,r,i){let n=i||[];if((function(o,u){let h=o[u+0],d=o[u+1],p=o[u+2],g=o[u+3],f=3*d[0]-2*h[0]-g[0];f*=f;let m=3*d[1]-2*h[1]-g[1];m*=m;let x=3*p[0]-2*g[0]-h[0];x*=x;let T=3*p[1]-2*g[1]-h[1];return T*=T,f<x&&(f=x),m<T&&(m=T),f+m})(e,t)<r){let o=e[t+0];n.length?(a=n[n.length-1],s=o,Math.sqrt(g2(a,s))>1&&n.push(o)):n.push(o),n.push(e[t+3])}else{let o=e[t+0],u=e[t+1],h=e[t+2],d=e[t+3],p=ju(o,u,.5),g=ju(u,h,.5),f=ju(h,d,.5),m=ju(p,g,.5),x=ju(g,f,.5),T=ju(m,x,.5);$6([o,p,m,T],0,r,n),$6([T,x,f,d],0,r,n)}var a,s;return n}function khe(e,t){return f2(e,0,e.length,t)}function f2(e,t,r,i,n){let a=n||[],s=e[t],o=e[r-1],u=0,h=1;for(let d=t+1;d<r-1;++d){let p=whe(e[d],s,o);p>u&&(u=p,h=d)}return Math.sqrt(u)>i?(f2(e,t,h+1,i,a),f2(e,h,r,i,a)):(a.length||a.push(s),a.push(o)),a}function F6(e,t=.15,r){let i=[],n=(e.length-1)/3;for(let a=0;a<n;a++)$6(e,3*a,t,i);return r&&r>0?f2(i,0,i.length,r):i}var z6,The,Ehe,Che,She,_he,_a,Ahe,Lhe,G6,LN,m2,Nhe,Va,y2,Mhe,v2,Ihe,Rt,zt=B(()=>{"use strict";var e,t,r,i,n,a,s,o,u,h;l(I6,"t"),l(yhe,"e"),l(vhe,"s"),l(Gg,"n"),z6=(e=class{constructor(p){this.helper=p}fillPolygons(p,g){return this._fillPolygons(p,g)}_fillPolygons(p,g){let f=Gg(p,g);return{type:"fillSketch",ops:this.renderLines(f,g)}}renderLines(p,g){let f=[];for(let m of p)f.push(...this.helper.doubleLineOps(m[0][0],m[0][1],m[1][0],m[1][1],g));return f}},l(e,"o"),e),l(c2,"a"),The=(t=class extends z6{fillPolygons(p,g){let f=g.hachureGap;f<0&&(f=4*g.strokeWidth),f=Math.max(f,.1);let m=Gg(p,Object.assign({},g,{hachureGap:f})),x=Math.PI/180*g.hachureAngle,T=[],k=.5*f*Math.cos(x),E=.5*f*Math.sin(x);for(let[S,L]of m)c2([S,L])&&T.push([[S[0]-k,S[1]+E],[...L]],[[S[0]+k,S[1]-E],[...L]]);return{type:"fillSketch",ops:this.renderLines(T,g)}}},l(t,"h"),t),Ehe=(r=class extends z6{fillPolygons(p,g){let f=this._fillPolygons(p,g),m=Object.assign({},g,{hachureAngle:g.hachureAngle+90}),x=this._fillPolygons(p,m);return f.ops=f.ops.concat(x.ops),f}},l(r,"r"),r),Che=(i=class{constructor(p){this.helper=p}fillPolygons(p,g){let f=Gg(p,g=Object.assign({},g,{hachureAngle:0}));return this.dotsOnLines(f,g)}dotsOnLines(p,g){let f=[],m=g.hachureGap;m<0&&(m=4*g.strokeWidth),m=Math.max(m,.1);let x=g.fillWeight;x<0&&(x=g.strokeWidth/2);let T=m/4;for(let k of p){let E=c2(k),S=E/m,L=Math.ceil(S)-1,b=E-L*m,y=(k[0][0]+k[1][0])/2-m/4,v=Math.min(k[0][1],k[1][1]);for(let w=0;w<L;w++){let C=v+b+w*m,A=y-T+2*Math.random()*T,M=C-T+2*Math.random()*T,N=this.helper.ellipse(A,M,x,x,g);f.push(...N.ops)}}return{type:"fillSketch",ops:f}}},l(i,"i"),i),She=(n=class{constructor(p){this.helper=p}fillPolygons(p,g){let f=Gg(p,g);return{type:"fillSketch",ops:this.dashedLine(f,g)}}dashedLine(p,g){let f=g.dashOffset<0?g.hachureGap<0?4*g.strokeWidth:g.hachureGap:g.dashOffset,m=g.dashGap<0?g.hachureGap<0?4*g.strokeWidth:g.hachureGap:g.dashGap,x=[];return p.forEach((T=>{let k=c2(T),E=Math.floor(k/(f+m)),S=(k+m-E*(f+m))/2,L=T[0],b=T[1];L[0]>b[0]&&(L=T[1],b=T[0]);let y=Math.atan((b[1]-L[1])/(b[0]-L[0]));for(let v=0;v<E;v++){let w=v*(f+m),C=w+f,A=[L[0]+w*Math.cos(y)+S*Math.cos(y),L[1]+w*Math.sin(y)+S*Math.sin(y)],M=[L[0]+C*Math.cos(y)+S*Math.cos(y),L[1]+C*Math.sin(y)+S*Math.sin(y)];x.push(...this.helper.doubleLineOps(A[0],A[1],M[0],M[1],g))}})),x}},l(n,"c"),n),_he=(a=class{constructor(p){this.helper=p}fillPolygons(p,g){let f=g.hachureGap<0?4*g.strokeWidth:g.hachureGap,m=g.zigzagOffset<0?f:g.zigzagOffset,x=Gg(p,g=Object.assign({},g,{hachureGap:f+m}));return{type:"fillSketch",ops:this.zigzagLines(x,m,g)}}zigzagLines(p,g,f){let m=[];return p.forEach((x=>{let T=c2(x),k=Math.round(T/(2*g)),E=x[0],S=x[1];E[0]>S[0]&&(E=x[1],S=x[0]);let L=Math.atan((S[1]-E[1])/(S[0]-E[0]));for(let b=0;b<k;b++){let y=2*b*g,v=2*(b+1)*g,w=Math.sqrt(2*Math.pow(g,2)),C=[E[0]+y*Math.cos(L),E[1]+y*Math.sin(L)],A=[E[0]+v*Math.cos(L),E[1]+v*Math.sin(L)],M=[C[0]+w*Math.cos(L+Math.PI/4),C[1]+w*Math.sin(L+Math.PI/4)];m.push(...this.helper.doubleLineOps(C[0],C[1],M[0],M[1],f),...this.helper.doubleLineOps(M[0],M[1],A[0],A[1],f))}})),m}},l(a,"l"),a),_a={},Ahe=(s=class{constructor(p){this.seed=p}next(){return this.seed?(jo(2,31)-1&(this.seed=Math.imul(48271,this.seed)))/jo(2,31):Math.random()}},l(s,"p"),s),Lhe=0,G6=1,LN=2,m2={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},l(D6,"k"),l(R6,"b"),l(mN,"y"),l(yN,"m"),l(Ug,"w"),l(vN,"x"),Nhe={randOffset:l(function(d,p){return ir(d,p)},"randOffset"),randOffsetWithRange:l(function(d,p,g){return h2(d,p,g)},"randOffsetWithRange"),ellipse:l(function(d,p,g,f,m){let x=wN(g,f,m);return O6(d,p,m,x).opset},"ellipse"),doubleLineOps:l(function(d,p,g,f,m){return fc(d,p,g,f,m,!0)},"doubleLineOps")},l(bN,"v"),l(u2,"S"),l(bhe,"O"),l(xN,"L"),l(wN,"T"),l(O6,"D"),l(kN,"A"),l(TN,"_"),l(P6,"I"),l(Ed,"C"),l(EN,"z"),l(CN,"W"),l(h2,"E"),l(ir,"G"),l(fc,"$"),l(B6,"R"),l(d2,"j"),l(p2,"q"),l(SN,"F"),l(_N,"V"),l(xhe,"Z"),l(qg,"Q"),l(AN,"H"),l(g2,"N"),l(whe,"B"),l(ju,"J"),l($6,"K"),l(khe,"U"),l(f2,"X"),l(F6,"Y"),Va="none",y2=(o=class{constructor(p){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=p||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*jo(2,31))}_o(p){return p?Object.assign({},this.defaultOptions,p):this.defaultOptions}_d(p,g,f){return{shape:p,sets:g||[],options:f||this.defaultOptions}}line(p,g,f,m,x){let T=this._o(x);return this._d("line",[bN(p,g,f,m,T)],T)}rectangle(p,g,f,m,x){let T=this._o(x),k=[],E=bhe(p,g,f,m,T);if(T.fill){let S=[[p,g],[p+f,g],[p+f,g+m],[p,g+m]];T.fillStyle==="solid"?k.push(P6([S],T)):k.push(Ed([S],T))}return T.stroke!==Va&&k.push(E),this._d("rectangle",k,T)}ellipse(p,g,f,m,x){let T=this._o(x),k=[],E=wN(f,m,T),S=O6(p,g,T,E);if(T.fill)if(T.fillStyle==="solid"){let L=O6(p,g,T,E).opset;L.type="fillPath",k.push(L)}else k.push(Ed([S.estimatedPoints],T));return T.stroke!==Va&&k.push(S.opset),this._d("ellipse",k,T)}circle(p,g,f,m){let x=this.ellipse(p,g,f,f,m);return x.shape="circle",x}linearPath(p,g){let f=this._o(g);return this._d("linearPath",[u2(p,!1,f)],f)}arc(p,g,f,m,x,T,k=!1,E){let S=this._o(E),L=[],b=kN(p,g,f,m,x,T,k,!0,S);if(k&&S.fill)if(S.fillStyle==="solid"){let y=Object.assign({},S);y.disableMultiStroke=!0;let v=kN(p,g,f,m,x,T,!0,!1,y);v.type="fillPath",L.push(v)}else L.push((function(y,v,w,C,A,M,N){let O=y,_=v,I=Math.abs(w/2),R=Math.abs(C/2);I+=ir(.01*I,N),R+=ir(.01*R,N);let P=A,D=M;for(;P<0;)P+=2*Math.PI,D+=2*Math.PI;D-P>2*Math.PI&&(P=0,D=2*Math.PI);let $=(D-P)/N.curveStepCount,F=[];for(let z=P;z<=D;z+=$)F.push([O+I*Math.cos(z),_+R*Math.sin(z)]);return F.push([O+I*Math.cos(D),_+R*Math.sin(D)]),F.push([O,_]),Ed([F],N)})(p,g,f,m,x,T,S));return S.stroke!==Va&&L.push(b),this._d("arc",L,S)}curve(p,g){let f=this._o(g),m=[],x=xN(p,f);if(f.fill&&f.fill!==Va)if(f.fillStyle==="solid"){let T=xN(p,Object.assign(Object.assign({},f),{disableMultiStroke:!0,roughness:f.roughness?f.roughness+f.fillShapeRoughnessGain:0}));m.push({type:"fillPath",ops:this._mergedShape(T.ops)})}else{let T=[],k=p;if(k.length){let E=typeof k[0][0]=="number"?[k]:k;for(let S of E)S.length<3?T.push(...S):S.length===3?T.push(...F6(AN([S[0],S[0],S[1],S[2]]),10,(1+f.roughness)/2)):T.push(...F6(AN(S),10,(1+f.roughness)/2))}T.length&&m.push(Ed([T],f))}return f.stroke!==Va&&m.push(x),this._d("curve",m,f)}polygon(p,g){let f=this._o(g),m=[],x=u2(p,!0,f);return f.fill&&(f.fillStyle==="solid"?m.push(P6([p],f)):m.push(Ed([p],f))),f.stroke!==Va&&m.push(x),this._d("polygon",m,f)}path(p,g){let f=this._o(g),m=[];if(!p)return this._d("path",m,f);p=(p||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");let x=f.fill&&f.fill!=="transparent"&&f.fill!==Va,T=f.stroke!==Va,k=!!(f.simplification&&f.simplification<1),E=(function(L,b,y){let v=yN(mN(R6(L))),w=[],C=[],A=[0,0],M=[],N=l(()=>{M.length>=4&&C.push(...F6(M,b)),M=[]},"i"),O=l(()=>{N(),C.length&&(w.push(C),C=[])},"c");for(let{key:I,data:R}of v)switch(I){case"M":O(),A=[R[0],R[1]],C.push(A);break;case"L":N(),C.push([R[0],R[1]]);break;case"C":if(!M.length){let P=C.length?C[C.length-1]:A;M.push([P[0],P[1]])}M.push([R[0],R[1]]),M.push([R[2],R[3]]),M.push([R[4],R[5]]);break;case"Z":N(),C.push([A[0],A[1]])}if(O(),!y)return w;let _=[];for(let I of w){let R=khe(I,y);R.length&&_.push(R)}return _})(p,1,k?4-4*(f.simplification||1):(1+f.roughness)/2),S=TN(p,f);if(x)if(f.fillStyle==="solid")if(E.length===1){let L=TN(p,Object.assign(Object.assign({},f),{disableMultiStroke:!0,roughness:f.roughness?f.roughness+f.fillShapeRoughnessGain:0}));m.push({type:"fillPath",ops:this._mergedShape(L.ops)})}else m.push(P6(E,f));else m.push(Ed(E,f));return T&&(k?E.forEach((L=>{m.push(u2(L,!1,f))})):m.push(S)),this._d("path",m,f)}opsToPath(p,g){let f="";for(let m of p.ops){let x=typeof g=="number"&&g>=0?m.data.map((T=>+T.toFixed(g))):m.data;switch(m.op){case"move":f+=`M${x[0]} ${x[1]} `;break;case"bcurveTo":f+=`C${x[0]} ${x[1]}, ${x[2]} ${x[3]}, ${x[4]} ${x[5]} `;break;case"lineTo":f+=`L${x[0]} ${x[1]} `}}return f.trim()}toPaths(p){let g=p.sets||[],f=p.options||this.defaultOptions,m=[];for(let x of g){let T=null;switch(x.type){case"path":T={d:this.opsToPath(x),stroke:f.stroke,strokeWidth:f.strokeWidth,fill:Va};break;case"fillPath":T={d:this.opsToPath(x),stroke:Va,strokeWidth:0,fill:f.fill||Va};break;case"fillSketch":T=this.fillSketch(x,f)}T&&m.push(T)}return m}fillSketch(p,g){let f=g.fillWeight;return f<0&&(f=g.strokeWidth/2),{d:this.opsToPath(p),stroke:g.fill||Va,strokeWidth:f,fill:Va}}_mergedShape(p){return p.filter(((g,f)=>f===0||g.op!=="move"))}},l(o,"et"),o),Mhe=(u=class{constructor(p,g){this.canvas=p,this.ctx=this.canvas.getContext("2d"),this.gen=new y2(g)}draw(p){let g=p.sets||[],f=p.options||this.getDefaultOptions(),m=this.ctx,x=p.options.fixedDecimalPlaceDigits;for(let T of g)switch(T.type){case"path":m.save(),m.strokeStyle=f.stroke==="none"?"transparent":f.stroke,m.lineWidth=f.strokeWidth,f.strokeLineDash&&m.setLineDash(f.strokeLineDash),f.strokeLineDashOffset&&(m.lineDashOffset=f.strokeLineDashOffset),this._drawToContext(m,T,x),m.restore();break;case"fillPath":{m.save(),m.fillStyle=f.fill||"";let k=p.shape==="curve"||p.shape==="polygon"||p.shape==="path"?"evenodd":"nonzero";this._drawToContext(m,T,x,k),m.restore();break}case"fillSketch":this.fillSketch(m,T,f)}}fillSketch(p,g,f){let m=f.fillWeight;m<0&&(m=f.strokeWidth/2),p.save(),f.fillLineDash&&p.setLineDash(f.fillLineDash),f.fillLineDashOffset&&(p.lineDashOffset=f.fillLineDashOffset),p.strokeStyle=f.fill||"",p.lineWidth=m,this._drawToContext(p,g,f.fixedDecimalPlaceDigits),p.restore()}_drawToContext(p,g,f,m="nonzero"){p.beginPath();for(let x of g.ops){let T=typeof f=="number"&&f>=0?x.data.map((k=>+k.toFixed(f))):x.data;switch(x.op){case"move":p.moveTo(T[0],T[1]);break;case"bcurveTo":p.bezierCurveTo(T[0],T[1],T[2],T[3],T[4],T[5]);break;case"lineTo":p.lineTo(T[0],T[1])}}g.type==="fillPath"?p.fill(m):p.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(p,g,f,m,x){let T=this.gen.line(p,g,f,m,x);return this.draw(T),T}rectangle(p,g,f,m,x){let T=this.gen.rectangle(p,g,f,m,x);return this.draw(T),T}ellipse(p,g,f,m,x){let T=this.gen.ellipse(p,g,f,m,x);return this.draw(T),T}circle(p,g,f,m){let x=this.gen.circle(p,g,f,m);return this.draw(x),x}linearPath(p,g){let f=this.gen.linearPath(p,g);return this.draw(f),f}polygon(p,g){let f=this.gen.polygon(p,g);return this.draw(f),f}arc(p,g,f,m,x,T,k=!1,E){let S=this.gen.arc(p,g,f,m,x,T,k,E);return this.draw(S),S}curve(p,g){let f=this.gen.curve(p,g);return this.draw(f),f}path(p,g){let f=this.gen.path(p,g);return this.draw(f),f}},l(u,"st"),u),v2="http://www.w3.org/2000/svg",Ihe=(h=class{constructor(p,g){this.svg=p,this.gen=new y2(g)}draw(p){let g=p.sets||[],f=p.options||this.getDefaultOptions(),m=this.svg.ownerDocument||window.document,x=m.createElementNS(v2,"g"),T=p.options.fixedDecimalPlaceDigits;for(let k of g){let E=null;switch(k.type){case"path":E=m.createElementNS(v2,"path"),E.setAttribute("d",this.opsToPath(k,T)),E.setAttribute("stroke",f.stroke),E.setAttribute("stroke-width",f.strokeWidth+""),E.setAttribute("fill","none"),f.strokeLineDash&&E.setAttribute("stroke-dasharray",f.strokeLineDash.join(" ").trim()),f.strokeLineDashOffset&&E.setAttribute("stroke-dashoffset",`${f.strokeLineDashOffset}`);break;case"fillPath":E=m.createElementNS(v2,"path"),E.setAttribute("d",this.opsToPath(k,T)),E.setAttribute("stroke","none"),E.setAttribute("stroke-width","0"),E.setAttribute("fill",f.fill||""),p.shape!=="curve"&&p.shape!=="polygon"||E.setAttribute("fill-rule","evenodd");break;case"fillSketch":E=this.fillSketch(m,k,f)}E&&x.appendChild(E)}return x}fillSketch(p,g,f){let m=f.fillWeight;m<0&&(m=f.strokeWidth/2);let x=p.createElementNS(v2,"path");return x.setAttribute("d",this.opsToPath(g,f.fixedDecimalPlaceDigits)),x.setAttribute("stroke",f.fill||""),x.setAttribute("stroke-width",m+""),x.setAttribute("fill","none"),f.fillLineDash&&x.setAttribute("stroke-dasharray",f.fillLineDash.join(" ").trim()),f.fillLineDashOffset&&x.setAttribute("stroke-dashoffset",`${f.fillLineDashOffset}`),x}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(p,g){return this.gen.opsToPath(p,g)}line(p,g,f,m,x){let T=this.gen.line(p,g,f,m,x);return this.draw(T)}rectangle(p,g,f,m,x){let T=this.gen.rectangle(p,g,f,m,x);return this.draw(T)}ellipse(p,g,f,m,x){let T=this.gen.ellipse(p,g,f,m,x);return this.draw(T)}circle(p,g,f,m){let x=this.gen.circle(p,g,f,m);return this.draw(x)}linearPath(p,g){let f=this.gen.linearPath(p,g);return this.draw(f)}polygon(p,g){let f=this.gen.polygon(p,g);return this.draw(f)}arc(p,g,f,m,x,T,k=!1,E){let S=this.gen.arc(p,g,f,m,x,T,k,E);return this.draw(S)}curve(p,g){let f=this.gen.curve(p,g);return this.draw(f)}path(p,g){let f=this.gen.path(p,g);return this.draw(f)}},l(h,"ot"),h),Rt={canvas:l((d,p)=>new Mhe(d,p),"canvas"),svg:l((d,p)=>new Ihe(d,p),"svg"),generator:l(d=>new y2(d),"generator"),newSeed:l(()=>y2.newSeed(),"newSeed")}});function Dhe(e,t){let{labelStyles:r}=At(t);t.labelStyle=r;let i=Xt(t),n=i;i||(n="anchor");let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=1,{cssStyles:o}=t,u=Rt.svg(a),h=Pt(t,{fill:"black",stroke:"none",fillStyle:"solid"});t.look!=="handDrawn"&&(h.roughness=0);let d=u.circle(0,0,s*2,h),p=a.insert(()=>d,":first-child");return p.attr("class","anchor").attr("style",ia(o)),Ot(t,p),t.intersect=function(g){return ae.info("Circle intersect",t,s,g),Ct.circle(t,s,g)},a}var WYe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),Jt(),l(Dhe,"anchor")});function NN(e,t,r,i,n,a,s){let o=(e+r)/2,u=(t+i)/2,h=Math.atan2(i-t,r-e),d=(r-e)/2,p=(i-t)/2,g=d/n,f=p/a,m=Math.sqrt(jo(g,2)+jo(f,2));if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let x=Math.sqrt(1-jo(m,2)),T=o+x*a*Math.sin(h)*(s?-1:1),k=u-x*n*Math.cos(h)*(s?-1:1),E=Math.atan2((t-k)/a,(e-T)/n),S=Math.atan2((i-k)/a,(r-T)/n)-E;s&&S<0&&(S+=2*Math.PI),!s&&S>0&&(S-=2*Math.PI);let L=[];for(let b=0;b<20;b++){let y=b/19,v=E+y*S,w=T+n*Math.cos(v),C=k+a*Math.sin(v);L.push({x:w,y:C})}return L}function Rhe(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.width+t.padding+20,o=a.height+t.padding,u=o/2,h=u/(2.5+o/50),{cssStyles:d}=t,p=[{x:s/2,y:-o/2},{x:-s/2,y:-o/2},...NN(-s/2,-o/2,-s/2,o/2,h,u,!1),{x:s/2,y:o/2},...NN(s/2,o/2,s/2,-o/2,h,u,!0)],g=Rt.svg(n),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=wr(p),x=g.path(m,f),T=n.insert(()=>x,":first-child");return T.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),T.attr("transform",`translate(${h/2}, 0)`),Ot(t,T),t.intersect=function(k){return Ct.polygon(t,p,k)},n})}var XYe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(NN,"generateArcPoints"),l(Rhe,"bowTieRect")});function Hu(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var Cd=B(()=>{"use strict";l(Hu,"insertPolygonShape")});function Ohe(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.height+t.padding,o=12,u=a.width+t.padding+o,h=0,d=u,p=-s,g=0,f=[{x:h+o,y:p},{x:d,y:p},{x:d,y:g},{x:h,y:g},{x:h,y:p+o},{x:h+o,y:p}],m,{cssStyles:x}=t;if(t.look==="handDrawn"){let T=Rt.svg(n),k=Pt(t,{}),E=wr(f),S=T.path(E,k);m=n.insert(()=>S,":first-child").attr("transform",`translate(${-u/2}, ${s/2})`),x&&m.attr("style",x)}else m=Hu(n,u,s,f);return i&&m.attr("style",i),Ot(t,m),t.intersect=function(T){return Ct.polygon(t,f,T)},n})}var KYe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),Mt(),l(Ohe,"card")});function Phe(e,t){var g,f;let{nodeStyles:r}=At(t);t.label="";let i=e.insert("g").attr("class",Xt(t)).attr("id",(g=t.domId)!=null?g:t.id),{cssStyles:n}=t,a=Math.max(28,(f=t.width)!=null?f:0),s=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],o=Rt.svg(i),u=Pt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=wr(s),d=o.path(h,u),p=i.insert(()=>d,":first-child");return n&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",n),r&&t.look!=="handDrawn"&&p.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(m){return Ct.polygon(t,s,m)},i}var ZYe=B(()=>{"use strict";Bt(),zt(),Dt(),Mt(),l(Phe,"choice")});function MN(e,t,r){return xe(this,null,function*(){var g;let{labelStyles:i,nodeStyles:n}=At(t);t.labelStyle=i;let{shapeSvg:a,bbox:s,halfPadding:o}=yield rr(e,t,Xt(t)),u=(g=r==null?void 0:r.padding)!=null?g:o,h=s.width/2+u,d,{cssStyles:p}=t;if(t.look==="handDrawn"){let f=Rt.svg(a),m=Pt(t,{}),x=f.circle(0,0,h*2,m);d=a.insert(()=>x,":first-child"),d.attr("class","basic label-container").attr("style",ia(p))}else d=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0);return Ot(t,d),t.calcIntersect=function(f,m){let x=f.width/2;return Ct.circle(f,x,m)},t.intersect=function(f){return ae.info("Circle intersect",t,h,f),Ct.circle(t,h,f)},a})}var Bhe=B(()=>{"use strict";zt(),lt(),Jt(),Bt(),Dt(),Mt(),l(MN,"circle")});function $he(e){let t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),i=e*2,n={x:i/2*t,y:i/2*r},a={x:-(i/2)*t,y:i/2*r},s={x:-(i/2)*t,y:-(i/2)*r},o={x:i/2*t,y:-(i/2)*r};return`M ${a.x},${a.y} L ${o.x},${o.y}
                   M ${n.x},${n.y} L ${s.x},${s.y}`}function Fhe(e,t){var f,m;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r,t.label="";let n=e.insert("g").attr("class",Xt(t)).attr("id",(f=t.domId)!=null?f:t.id),a=Math.max(30,(m=t==null?void 0:t.width)!=null?m:0),{cssStyles:s}=t,o=Rt.svg(n),u=Pt(t,{});t.look!=="handDrawn"&&(u.roughness=0,u.fillStyle="solid");let h=o.circle(0,0,a*2,u),d=$he(a),p=o.path(d,u),g=n.insert(()=>h,":first-child");return g.insert(()=>p),s&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",i),Ot(t,g),t.intersect=function(x){return ae.info("crossedCircle intersect",t,{radius:a,point:x}),Ct.circle(t,a,x)},n}var QYe=B(()=>{"use strict";lt(),Mt(),Dt(),zt(),Bt(),l($he,"createLine"),l(Fhe,"crossedCircle")});function mc(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}function zhe(e,t){return xe(this,null,function*(){var L,b,y,v,w;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=a.width+((L=t.padding)!=null?L:0),u=a.height+((b=t.padding)!=null?b:0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...mc(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...mc(o/2+h*2,-h,h,20,-180,-270),...mc(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...mc(o/2,u/2,h,20,0,90)],g=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...mc(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...mc(o/2+o*.1,-h,h,20,-180,-270),...mc(o/2+o*.1,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...mc(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2,y:u/2+h}],f=Rt.svg(n),m=Pt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=wr(p).replace("Z",""),T=f.path(x,m),k=wr(g),E=f.path(k,dt({},m)),S=n.insert("g",":first-child");return S.insert(()=>E,":first-child").attr("stroke-opacity",0),S.insert(()=>T,":first-child"),S.attr("class","text"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(${h}, 0)`),s.attr("transform",`translate(${-o/2+h-(a.x-((y=a.left)!=null?y:0))},${-u/2+((v=t.padding)!=null?v:0)/2-(a.y-((w=a.top)!=null?w:0))})`),Ot(t,S),t.intersect=function(C){return Ct.polygon(t,g,C)},n})}var JYe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(mc,"generateCirclePoints"),l(zhe,"curlyBraceLeft")});function yc(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:p,y:g})}return s}function Ghe(e,t){return xe(this,null,function*(){var L,b,y,v,w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=a.width+((L=t.padding)!=null?L:0),u=a.height+((b=t.padding)!=null?b:0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...yc(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},...yc(o/2+h*2,-h,h,20,-180,-270),...yc(o/2+h*2,h,h,20,-90,-180),{x:o/2+h,y:u/2},...yc(o/2,u/2,h,20,0,90)],g=[{x:-o/2,y:-u/2-h},{x:o/2,y:-u/2-h},...yc(o/2,-u/2,h,20,-90,0),{x:o/2+h,y:-h},...yc(o/2+h*2,-h,h,20,-180,-270),...yc(o/2+h*2,h,h,20,-90,-180),{x:o/2+h,y:u/2},...yc(o/2,u/2,h,20,0,90),{x:o/2,y:u/2+h},{x:-o/2,y:u/2+h}],f=Rt.svg(n),m=Pt(t,{fill:"none"});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=wr(p).replace("Z",""),T=f.path(x,m),k=wr(g),E=f.path(k,dt({},m)),S=n.insert("g",":first-child");return S.insert(()=>E,":first-child").attr("stroke-opacity",0),S.insert(()=>T,":first-child"),S.attr("class","text"),d&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(${-h}, 0)`),s.attr("transform",`translate(${-o/2+((y=t.padding)!=null?y:0)/2-(a.x-((v=a.left)!=null?v:0))},${-u/2+((w=t.padding)!=null?w:0)/2-(a.y-((C=a.top)!=null?C:0))})`),Ot(t,S),t.intersect=function(A){return Ct.polygon(t,g,A)},n})}var eWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(yc,"generateCirclePoints"),l(Ghe,"curlyBraceRight")});function Gn(e,t,r,i=100,n=0,a=180){let s=[],o=n*Math.PI/180,u=(a*Math.PI/180-o)/(i-1);for(let h=0;h<i;h++){let d=o+h*u,p=e+r*Math.cos(d),g=t+r*Math.sin(d);s.push({x:-p,y:-g})}return s}function Uhe(e,t){return xe(this,null,function*(){var v,w,C,A,M,N;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=a.width+((v=t.padding)!=null?v:0),u=a.height+((w=t.padding)!=null?w:0),h=Math.max(5,u*.1),{cssStyles:d}=t,p=[...Gn(o/2,-u/2,h,30,-90,0),{x:-o/2-h,y:h},...Gn(o/2+h*2,-h,h,20,-180,-270),...Gn(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:-u/2},...Gn(o/2,u/2,h,20,0,90)],g=[...Gn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Gn(-o/2-h/2,-h,h,20,0,90),...Gn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Gn(-o/2+h+h/2,u/2,h,30,-180,-270)],f=[{x:o/2,y:-u/2-h},{x:-o/2,y:-u/2-h},...Gn(o/2,-u/2,h,20,-90,0),{x:-o/2-h,y:-h},...Gn(o/2+h*2,-h,h,20,-180,-270),...Gn(o/2+h*2,h,h,20,-90,-180),{x:-o/2-h,y:u/2},...Gn(o/2,u/2,h,20,0,90),{x:-o/2,y:u/2+h},{x:o/2-h-h/2,y:u/2+h},...Gn(-o/2+h+h/2,-u/2,h,20,-90,-180),{x:o/2-h/2,y:h},...Gn(-o/2-h/2,-h,h,20,0,90),...Gn(-o/2-h/2,h,h,20,-90,0),{x:o/2-h/2,y:-h},...Gn(-o/2+h+h/2,u/2,h,30,-180,-270)],m=Rt.svg(n),x=Pt(t,{fill:"none"});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");let T=wr(p).replace("Z",""),k=m.path(T,x),E=wr(g).replace("Z",""),S=m.path(E,x),L=wr(f),b=m.path(L,dt({},x)),y=n.insert("g",":first-child");return y.insert(()=>b,":first-child").attr("stroke-opacity",0),y.insert(()=>k,":first-child"),y.insert(()=>S,":first-child"),y.attr("class","text"),d&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",d),i&&t.look!=="handDrawn"&&y.selectAll("path").attr("style",i),y.attr("transform",`translate(${h-h/4}, 0)`),s.attr("transform",`translate(${-o/2+((C=t.padding)!=null?C:0)/2-(a.x-((A=a.left)!=null?A:0))},${-u/2+((M=t.padding)!=null?M:0)/2-(a.y-((N=a.top)!=null?N:0))})`),Ot(t,y),t.intersect=function(O){return Ct.polygon(t,f,O)},n})}var tWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(Gn,"generateCirclePoints"),l(Uhe,"curlyBraces")});function qhe(e,t){return xe(this,null,function*(){var y,v,w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=80,o=20,u=Math.max(s,(a.width+((y=t.padding)!=null?y:0)*2)*1.25,(v=t==null?void 0:t.width)!=null?v:0),h=Math.max(o,a.height+((w=t.padding)!=null?w:0)*2,(C=t==null?void 0:t.height)!=null?C:0),d=h/2,{cssStyles:p}=t,g=Rt.svg(n),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=u,x=h,T=m-d,k=x/4,E=[{x:T,y:0},{x:k,y:0},{x:0,y:x/2},{x:k,y:x},{x:T,y:x},...l2(-T,-x/2,d,50,270,90)],S=wr(E),L=g.path(S,f),b=n.insert(()=>L,":first-child");return b.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&b.selectChildren("path").attr("style",i),b.attr("transform",`translate(${-u/2}, ${-h/2})`),Ot(t,b),t.intersect=function(A){return Ct.polygon(t,E,A)},n})}var rWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(qhe,"curvedTrapezoid")});function jhe(e,t){return xe(this,null,function*(){var f,m,x,T,k;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+t.padding,(f=t.width)!=null?f:0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+t.padding,(m=t.height)!=null?m:0),p,{cssStyles:g}=t;if(t.look==="handDrawn"){let E=Rt.svg(n),S=Vhe(0,0,o,d,u,h),L=Yhe(0,h,o,d,u,h),b=E.path(S,Pt(t,{})),y=E.path(L,Pt(t,{fill:"none"}));p=n.insert(()=>y,":first-child"),p=n.insert(()=>b,":first-child"),p.attr("class","basic label-container"),g&&p.attr("style",g)}else{let E=Hhe(0,0,o,d,u,h);p=n.insert("path",":first-child").attr("d",E).attr("class","basic label-container").attr("style",ia(g)).attr("style",i)}return p.attr("label-offset-y",h),p.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),Ot(t,p),s.attr("transform",`translate(${-(a.width/2)-(a.x-((x=a.left)!=null?x:0))}, ${-(a.height/2)+((T=t.padding)!=null?T:0)/1.5-(a.y-((k=a.top)!=null?k:0))})`),t.intersect=function(E){var b,y,v,w,C,A;let S=Ct.rect(t,E),L=S.x-((b=t.x)!=null?b:0);if(u!=0&&(Math.abs(L)<((y=t.width)!=null?y:0)/2||Math.abs(L)==((v=t.width)!=null?v:0)/2&&Math.abs(S.y-((w=t.y)!=null?w:0))>((C=t.height)!=null?C:0)/2-h)){let M=h*h*(1-L*L/(u*u));M>0&&(M=Math.sqrt(M)),M=h-M,E.y-((A=t.y)!=null?A:0)>0&&(M=-M),S.y+=M}return S},n})}var Hhe,Vhe,Yhe,iWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Jt(),Hhe=l((e,t,r,i,n,a)=>[`M${e},${t+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createCylinderPathD"),Vhe=l((e,t,r,i,n,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`].join(" "),"createOuterCylinderPathD"),Yhe=l((e,t,r,i,n,a)=>[`M${e-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),l(jhe,"cylinder")});function Whe(e,t){return xe(this,null,function*(){var E,S,L,b;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=a.width+t.padding,u=a.height+t.padding,h=u*.2,d=-o/2,p=-u/2-h/2,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=[{x:d,y:p+h},{x:-d,y:p+h},{x:-d,y:-p},{x:d,y:-p},{x:d,y:p},{x:-d,y:p},{x:-d,y:p+h}],T=f.polygon(x.map(y=>[y.x,y.y]),m),k=n.insert(()=>T,":first-child");return k.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),s.attr("transform",`translate(${d+((E=t.padding)!=null?E:0)/2-(a.x-((S=a.left)!=null?S:0))}, ${p+h+((L=t.padding)!=null?L:0)/2-(a.y-((b=a.top)!=null?b:0))})`),Ot(t,k),t.intersect=function(y){return Ct.rect(t,y)},n})}var nWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(Whe,"dividedRectangle")});function Xhe(e,t){return xe(this,null,function*(){var p,g;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s}=yield rr(e,t,Xt(t)),o=a.width/2+s+5,u=a.width/2+s,h,{cssStyles:d}=t;if(t.look==="handDrawn"){let f=Rt.svg(n),m=Pt(t,{roughness:.2,strokeWidth:2.5}),x=Pt(t,{roughness:.2,strokeWidth:1.5}),T=f.circle(0,0,o*2,m),k=f.circle(0,0,u*2,x);h=n.insert("g",":first-child"),h.attr("class",ia(t.cssClasses)).attr("style",ia(d)),(p=h.node())==null||p.appendChild(T),(g=h.node())==null||g.appendChild(k)}else{h=n.insert("g",":first-child");let f=h.insert("circle",":first-child"),m=h.insert("circle");h.attr("class","basic label-container").attr("style",i),f.attr("class","outer-circle").attr("style",i).attr("r",o).attr("cx",0).attr("cy",0),m.attr("class","inner-circle").attr("style",i).attr("r",u).attr("cx",0).attr("cy",0)}return Ot(t,h),t.intersect=function(f){return ae.info("DoubleCircle intersect",t,o,f),Ct.circle(t,o,f)},n})}var aWe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),Jt(),l(Xhe,"doublecircle")});function Khe(e,t,{config:{themeVariables:r}}){var f;let{labelStyles:i,nodeStyles:n}=At(t);t.label="",t.labelStyle=i;let a=e.insert("g").attr("class",Xt(t)).attr("id",(f=t.domId)!=null?f:t.id),s=7,{cssStyles:o}=t,u=Rt.svg(a),{nodeBorder:h}=r,d=Pt(t,{fillStyle:"solid"});t.look!=="handDrawn"&&(d.roughness=0);let p=u.circle(0,0,s*2,d),g=a.insert(()=>p,":first-child");return g.selectAll("path").attr("style",`fill: ${h} !important;`),o&&o.length>0&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",o),n&&t.look!=="handDrawn"&&g.selectAll("path").attr("style",n),Ot(t,g),t.intersect=function(m){return ae.info("filledCircle intersect",t,{radius:s,point:m}),Ct.circle(t,s,m)},a}var sWe=B(()=>{"use strict";zt(),lt(),Bt(),Dt(),Mt(),l(Khe,"filledCircle")});function Zhe(e,t){return xe(this,null,function*(){var k,E,S,L;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=a.width+((k=t.padding)!=null?k:0),u=o+a.height,h=o+a.height,d=[{x:0,y:-u},{x:h,y:-u},{x:h/2,y:0}],{cssStyles:p}=t,g=Rt.svg(n),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=wr(d),x=g.path(m,f),T=n.insert(()=>x,":first-child").attr("transform",`translate(${-u/2}, ${u/2})`);return p&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),t.width=o,t.height=u,Ot(t,T),s.attr("transform",`translate(${-a.width/2-(a.x-((E=a.left)!=null?E:0))}, ${-u/2+((S=t.padding)!=null?S:0)/2+(a.y-((L=a.top)!=null?L:0))})`),t.intersect=function(b){return ae.info("Triangle intersect",t,d,b),Ct.polygon(t,d,b)},n})}var oWe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),Mt(),l(Zhe,"flippedTriangle")});function Qhe(e,t,{dir:r,config:{state:i,themeVariables:n}}){var k,E,S,L,b,y;let{nodeStyles:a}=At(t);t.label="";let s=e.insert("g").attr("class",Xt(t)).attr("id",(k=t.domId)!=null?k:t.id),{cssStyles:o}=t,u=Math.max(70,(E=t==null?void 0:t.width)!=null?E:0),h=Math.max(10,(S=t==null?void 0:t.height)!=null?S:0);r==="LR"&&(u=Math.max(10,(L=t==null?void 0:t.width)!=null?L:0),h=Math.max(70,(b=t==null?void 0:t.height)!=null?b:0));let d=-1*u/2,p=-1*h/2,g=Rt.svg(s),f=Pt(t,{stroke:n.lineColor,fill:n.lineColor});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=g.rectangle(d,p,u,h,f),x=s.insert(()=>m,":first-child");o&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",o),a&&t.look!=="handDrawn"&&x.selectAll("path").attr("style",a),Ot(t,x);let T=(y=i==null?void 0:i.padding)!=null?y:0;return t.width&&t.height&&(t.width+=T/2||0,t.height+=T/2||0),t.intersect=function(v){return Ct.rect(t,v)},s}var lWe=B(()=>{"use strict";zt(),Bt(),Dt(),Mt(),l(Qhe,"forkJoin")});function Jhe(e,t){return xe(this,null,function*(){var E,S,L,b;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let n=80,a=50,{shapeSvg:s,bbox:o}=yield rr(e,t,Xt(t)),u=Math.max(n,o.width+((E=t.padding)!=null?E:0)*2,(S=t==null?void 0:t.width)!=null?S:0),h=Math.max(a,o.height+((L=t.padding)!=null?L:0)*2,(b=t==null?void 0:t.height)!=null?b:0),d=h/2,{cssStyles:p}=t,g=Rt.svg(s),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-u/2,y:-h/2},{x:u/2-d,y:-h/2},...l2(-u/2+d,0,d,50,90,270),{x:u/2-d,y:h/2},{x:-u/2,y:h/2}],x=wr(m),T=g.path(x,f),k=s.insert(()=>T,":first-child");return k.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),Ot(t,k),t.intersect=function(y){return ae.info("Pill intersect",t,{radius:d,point:y}),Ct.polygon(t,m,y)},s})}var cWe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),l(Jhe,"halfRoundedRectangle")});function ede(e,t){return xe(this,null,function*(){var L,b;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.height+((L=t.padding)!=null?L:0),o=a.width+((b=t.padding)!=null?b:0)*2.5,{cssStyles:u}=t,h=Rt.svg(n),d=Pt(t,{});t.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");let p=o/2,g=p/6;p=p+g;let f=s/2,m=f/2,x=p-m,T=[{x:-x,y:-f},{x:0,y:-f},{x,y:-f},{x:p,y:0},{x,y:f},{x:0,y:f},{x:-x,y:f},{x:-p,y:0}],k=wr(T),E=h.path(k,d),S=n.insert(()=>E,":first-child");return S.attr("class","basic label-container"),u&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",u),i&&t.look!=="handDrawn"&&S.selectChildren("path").attr("style",i),t.width=o,t.height=s,Ot(t,S),t.intersect=function(y){return Ct.polygon(t,T,y)},n})}var uWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(ede,"hexagon")});function tde(e,t){return xe(this,null,function*(){var m,x;let{labelStyles:r,nodeStyles:i}=At(t);t.label="",t.labelStyle=r;let{shapeSvg:n}=yield rr(e,t,Xt(t)),a=Math.max(30,(m=t==null?void 0:t.width)!=null?m:0),s=Math.max(30,(x=t==null?void 0:t.height)!=null?x:0),{cssStyles:o}=t,u=Rt.svg(n),h=Pt(t,{});t.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");let d=[{x:0,y:0},{x:a,y:0},{x:0,y:s},{x:a,y:s}],p=wr(d),g=u.path(p,h),f=n.insert(()=>g,":first-child");return f.attr("class","basic label-container"),o&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",o),i&&t.look!=="handDrawn"&&f.selectChildren("path").attr("style",i),f.attr("transform",`translate(${-a/2}, ${-s/2})`),Ot(t,f),t.intersect=function(T){return ae.info("Pill intersect",t,{points:d}),Ct.polygon(t,d,T)},n})}var hWe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),l(tde,"hourglass")});function rde(n,a,s){return xe(this,arguments,function*(e,t,{config:{themeVariables:r,flowchart:i}}){var I,R,P,D;let{labelStyles:o}=At(t);t.labelStyle=o;let u=(I=t.assetHeight)!=null?I:48,h=(R=t.assetWidth)!=null?R:48,d=Math.max(u,h),p=i==null?void 0:i.wrappingWidth;t.width=Math.max(d,p!=null?p:0);let{shapeSvg:g,bbox:f,label:m}=yield rr(e,t,"icon-shape default"),x=t.pos==="t",T=d,k=d,{nodeBorder:E}=r,{stylesMap:S}=Td(t),L=-k/2,b=-T/2,y=t.label?8:0,v=Rt.svg(g),w=Pt(t,{stroke:"none",fill:"none"});t.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");let C=v.rectangle(L,b,k,T,w),A=Math.max(k,f.width),M=T+f.height+y,N=v.rectangle(-A/2,-M/2,A,M,hr(dt({},w),{fill:"transparent",stroke:"none"})),O=g.insert(()=>C,":first-child"),_=g.insert(()=>N);if(t.icon){let $=g.append("g");$.html(`<g>${yield nc(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let F=$.node().getBBox(),z=F.width,U=F.height,j=F.x,H=F.y;$.attr("transform",`translate(${-z/2-j},${x?f.height/2+y/2-U/2-H:-f.height/2-y/2-U/2-H})`),$.attr("style",`color: ${(P=S.get("stroke"))!=null?P:E};`)}return m.attr("transform",`translate(${-f.width/2-(f.x-((D=f.left)!=null?D:0))},${x?-M/2:M/2-f.height})`),O.attr("transform",`translate(0,${x?f.height/2+y/2:-f.height/2-y/2})`),Ot(t,_),t.intersect=function($){var H,Q,re;if(ae.info("iconSquare intersect",t,$),!t.label)return Ct.rect(t,$);let F=(H=t.x)!=null?H:0,z=(Q=t.y)!=null?Q:0,U=(re=t.height)!=null?re:0,j=[];return x?j=[{x:F-f.width/2,y:z-U/2},{x:F+f.width/2,y:z-U/2},{x:F+f.width/2,y:z-U/2+f.height+y},{x:F+k/2,y:z-U/2+f.height+y},{x:F+k/2,y:z+U/2},{x:F-k/2,y:z+U/2},{x:F-k/2,y:z-U/2+f.height+y},{x:F-f.width/2,y:z-U/2+f.height+y}]:j=[{x:F-k/2,y:z-U/2},{x:F+k/2,y:z-U/2},{x:F+k/2,y:z-U/2+T},{x:F+f.width/2,y:z-U/2+T},{x:F+f.width/2/2,y:z+U/2},{x:F-f.width/2,y:z+U/2},{x:F-f.width/2,y:z-U/2+T},{x:F-k/2,y:z-U/2+T}],Ct.polygon(t,j,$)},g})}var dWe=B(()=>{"use strict";zt(),lt(),ac(),Bt(),Dt(),Mt(),l(rde,"icon")});function ide(n,a,s){return xe(this,arguments,function*(e,t,{config:{themeVariables:r,flowchart:i}}){var z,U,j,H;let{labelStyles:o}=At(t);t.labelStyle=o;let u=(z=t.assetHeight)!=null?z:48,h=(U=t.assetWidth)!=null?U:48,d=Math.max(u,h),p=i==null?void 0:i.wrappingWidth;t.width=Math.max(d,p!=null?p:0);let{shapeSvg:g,bbox:f,label:m}=yield rr(e,t,"icon-shape default"),x=20,T=t.label?8:0,k=t.pos==="t",{nodeBorder:E,mainBkg:S}=r,{stylesMap:L}=Td(t),b=Rt.svg(g),y=Pt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let v=L.get("fill");y.stroke=v!=null?v:S;let w=g.append("g");t.icon&&w.html(`<g>${yield nc(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let C=w.node().getBBox(),A=C.width,M=C.height,N=C.x,O=C.y,_=Math.max(A,M)*Math.SQRT2+x*2,I=b.circle(0,0,_,y),R=Math.max(_,f.width),P=_+f.height+T,D=b.rectangle(-R/2,-P/2,R,P,hr(dt({},y),{fill:"transparent",stroke:"none"})),$=g.insert(()=>I,":first-child"),F=g.insert(()=>D);return w.attr("transform",`translate(${-A/2-N},${k?f.height/2+T/2-M/2-O:-f.height/2-T/2-M/2-O})`),w.attr("style",`color: ${(j=L.get("stroke"))!=null?j:E};`),m.attr("transform",`translate(${-f.width/2-(f.x-((H=f.left)!=null?H:0))},${k?-P/2:P/2-f.height})`),$.attr("transform",`translate(0,${k?f.height/2+T/2:-f.height/2-T/2})`),Ot(t,F),t.intersect=function(Q){return ae.info("iconSquare intersect",t,Q),Ct.rect(t,Q)},g})}var pWe=B(()=>{"use strict";zt(),lt(),ac(),Bt(),Dt(),Mt(),l(ide,"iconCircle")}),vc,jg=B(()=>{"use strict";vc=l((e,t,r,i,n)=>["M",e+n,t,"H",e+r-n,"A",n,n,0,0,1,e+r,t+n,"V",t+i-n,"A",n,n,0,0,1,e+r-n,t+i,"H",e+n,"A",n,n,0,0,1,e,t+i-n,"V",t+n,"A",n,n,0,0,1,e+n,t,"Z"].join(" "),"createRoundedRectPathD")});function nde(n,a,s){return xe(this,arguments,function*(e,t,{config:{themeVariables:r,flowchart:i}}){var D,$,F,z;let{labelStyles:o}=At(t);t.labelStyle=o;let u=(D=t.assetHeight)!=null?D:48,h=($=t.assetWidth)!=null?$:48,d=Math.max(u,h),p=i==null?void 0:i.wrappingWidth;t.width=Math.max(d,p!=null?p:0);let{shapeSvg:g,bbox:f,halfPadding:m,label:x}=yield rr(e,t,"icon-shape default"),T=t.pos==="t",k=d+m*2,E=d+m*2,{nodeBorder:S,mainBkg:L}=r,{stylesMap:b}=Td(t),y=-E/2,v=-k/2,w=t.label?8:0,C=Rt.svg(g),A=Pt(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");let M=b.get("fill");A.stroke=M!=null?M:L;let N=C.path(vc(y,v,E,k,5),A),O=Math.max(E,f.width),_=k+f.height+w,I=C.rectangle(-O/2,-_/2,O,_,hr(dt({},A),{fill:"transparent",stroke:"none"})),R=g.insert(()=>N,":first-child").attr("class","icon-shape2"),P=g.insert(()=>I);if(t.icon){let U=g.append("g");U.html(`<g>${yield nc(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let j=U.node().getBBox(),H=j.width,Q=j.height,re=j.x,le=j.y;U.attr("transform",`translate(${-H/2-re},${T?f.height/2+w/2-Q/2-le:-f.height/2-w/2-Q/2-le})`),U.attr("style",`color: ${(F=b.get("stroke"))!=null?F:S};`)}return x.attr("transform",`translate(${-f.width/2-(f.x-((z=f.left)!=null?z:0))},${T?-_/2:_/2-f.height})`),R.attr("transform",`translate(0,${T?f.height/2+w/2:-f.height/2-w/2})`),Ot(t,P),t.intersect=function(U){var le,oe,W;if(ae.info("iconSquare intersect",t,U),!t.label)return Ct.rect(t,U);let j=(le=t.x)!=null?le:0,H=(oe=t.y)!=null?oe:0,Q=(W=t.height)!=null?W:0,re=[];return T?re=[{x:j-f.width/2,y:H-Q/2},{x:j+f.width/2,y:H-Q/2},{x:j+f.width/2,y:H-Q/2+f.height+w},{x:j+E/2,y:H-Q/2+f.height+w},{x:j+E/2,y:H+Q/2},{x:j-E/2,y:H+Q/2},{x:j-E/2,y:H-Q/2+f.height+w},{x:j-f.width/2,y:H-Q/2+f.height+w}]:re=[{x:j-E/2,y:H-Q/2},{x:j+E/2,y:H-Q/2},{x:j+E/2,y:H-Q/2+k},{x:j+f.width/2,y:H-Q/2+k},{x:j+f.width/2/2,y:H+Q/2},{x:j-f.width/2,y:H+Q/2},{x:j-f.width/2,y:H-Q/2+k},{x:j-E/2,y:H-Q/2+k}],Ct.polygon(t,re,U)},g})}var gWe=B(()=>{"use strict";zt(),lt(),ac(),Bt(),Dt(),jg(),Mt(),l(nde,"iconRounded")});function ade(n,a,s){return xe(this,arguments,function*(e,t,{config:{themeVariables:r,flowchart:i}}){var D,$,F,z;let{labelStyles:o}=At(t);t.labelStyle=o;let u=(D=t.assetHeight)!=null?D:48,h=($=t.assetWidth)!=null?$:48,d=Math.max(u,h),p=i==null?void 0:i.wrappingWidth;t.width=Math.max(d,p!=null?p:0);let{shapeSvg:g,bbox:f,halfPadding:m,label:x}=yield rr(e,t,"icon-shape default"),T=t.pos==="t",k=d+m*2,E=d+m*2,{nodeBorder:S,mainBkg:L}=r,{stylesMap:b}=Td(t),y=-E/2,v=-k/2,w=t.label?8:0,C=Rt.svg(g),A=Pt(t,{});t.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");let M=b.get("fill");A.stroke=M!=null?M:L;let N=C.path(vc(y,v,E,k,.1),A),O=Math.max(E,f.width),_=k+f.height+w,I=C.rectangle(-O/2,-_/2,O,_,hr(dt({},A),{fill:"transparent",stroke:"none"})),R=g.insert(()=>N,":first-child"),P=g.insert(()=>I);if(t.icon){let U=g.append("g");U.html(`<g>${yield nc(t.icon,{height:d,width:d,fallbackPrefix:""})}</g>`);let j=U.node().getBBox(),H=j.width,Q=j.height,re=j.x,le=j.y;U.attr("transform",`translate(${-H/2-re},${T?f.height/2+w/2-Q/2-le:-f.height/2-w/2-Q/2-le})`),U.attr("style",`color: ${(F=b.get("stroke"))!=null?F:S};`)}return x.attr("transform",`translate(${-f.width/2-(f.x-((z=f.left)!=null?z:0))},${T?-_/2:_/2-f.height})`),R.attr("transform",`translate(0,${T?f.height/2+w/2:-f.height/2-w/2})`),Ot(t,P),t.intersect=function(U){var le,oe,W;if(ae.info("iconSquare intersect",t,U),!t.label)return Ct.rect(t,U);let j=(le=t.x)!=null?le:0,H=(oe=t.y)!=null?oe:0,Q=(W=t.height)!=null?W:0,re=[];return T?re=[{x:j-f.width/2,y:H-Q/2},{x:j+f.width/2,y:H-Q/2},{x:j+f.width/2,y:H-Q/2+f.height+w},{x:j+E/2,y:H-Q/2+f.height+w},{x:j+E/2,y:H+Q/2},{x:j-E/2,y:H+Q/2},{x:j-E/2,y:H-Q/2+f.height+w},{x:j-f.width/2,y:H-Q/2+f.height+w}]:re=[{x:j-E/2,y:H-Q/2},{x:j+E/2,y:H-Q/2},{x:j+E/2,y:H-Q/2+k},{x:j+f.width/2,y:H-Q/2+k},{x:j+f.width/2/2,y:H+Q/2},{x:j-f.width/2,y:H+Q/2},{x:j-f.width/2,y:H-Q/2+k},{x:j-E/2,y:H-Q/2+k}],Ct.polygon(t,re,U)},g})}var fWe=B(()=>{"use strict";zt(),lt(),ac(),Bt(),jg(),Dt(),Mt(),l(ade,"iconSquare")});function sde(i,n,a){return xe(this,arguments,function*(e,t,{config:{flowchart:r}}){var O,_,I,R;let s=new Image;s.src=(O=t==null?void 0:t.img)!=null?O:"",yield s.decode();let o=Number(s.naturalWidth.toString().replace("px","")),u=Number(s.naturalHeight.toString().replace("px",""));t.imageAspectRatio=o/u;let{labelStyles:h}=At(t);t.labelStyle=h;let d=r==null?void 0:r.wrappingWidth;t.defaultWidth=r==null?void 0:r.wrappingWidth;let p=Math.max(t.label&&d!=null?d:0,(_=t==null?void 0:t.assetWidth)!=null?_:o),g=t.constraint==="on"&&(t!=null&&t.assetHeight)?t.assetHeight*t.imageAspectRatio:p,f=t.constraint==="on"?g/t.imageAspectRatio:(I=t==null?void 0:t.assetHeight)!=null?I:u;t.width=Math.max(g,d!=null?d:0);let{shapeSvg:m,bbox:x,label:T}=yield rr(e,t,"image-shape default"),k=t.pos==="t",E=-g/2,S=-f/2,L=t.label?8:0,b=Rt.svg(m),y=Pt(t,{});t.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let v=b.rectangle(E,S,g,f,y),w=Math.max(g,x.width),C=f+x.height+L,A=b.rectangle(-w/2,-C/2,w,C,hr(dt({},y),{fill:"none",stroke:"none"})),M=m.insert(()=>v,":first-child"),N=m.insert(()=>A);if(t.img){let P=m.append("image");P.attr("href",t.img),P.attr("width",g),P.attr("height",f),P.attr("preserveAspectRatio","none"),P.attr("transform",`translate(${-g/2},${k?C/2-f:-C/2})`)}return T.attr("transform",`translate(${-x.width/2-(x.x-((R=x.left)!=null?R:0))},${k?-f/2-x.height/2-L/2:f/2-x.height/2+L/2})`),M.attr("transform",`translate(0,${k?x.height/2+L/2:-x.height/2-L/2})`),Ot(t,N),t.intersect=function(P){var U,j,H;if(ae.info("iconSquare intersect",t,P),!t.label)return Ct.rect(t,P);let D=(U=t.x)!=null?U:0,$=(j=t.y)!=null?j:0,F=(H=t.height)!=null?H:0,z=[];return k?z=[{x:D-x.width/2,y:$-F/2},{x:D+x.width/2,y:$-F/2},{x:D+x.width/2,y:$-F/2+x.height+L},{x:D+g/2,y:$-F/2+x.height+L},{x:D+g/2,y:$+F/2},{x:D-g/2,y:$+F/2},{x:D-g/2,y:$-F/2+x.height+L},{x:D-x.width/2,y:$-F/2+x.height+L}]:z=[{x:D-g/2,y:$-F/2},{x:D+g/2,y:$-F/2},{x:D+g/2,y:$-F/2+f},{x:D+x.width/2,y:$-F/2+f},{x:D+x.width/2/2,y:$+F/2},{x:D-x.width/2,y:$+F/2},{x:D-x.width/2,y:$-F/2+f},{x:D-g/2,y:$-F/2+f}],Ct.polygon(t,z,P)},m})}var mWe=B(()=>{"use strict";zt(),lt(),Bt(),Dt(),Mt(),l(sde,"imageSquare")});function ode(e,t){return xe(this,null,function*(){var p,g,f,m;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=Math.max(a.width+((p=t.padding)!=null?p:0)*2,(g=t==null?void 0:t.width)!=null?g:0),o=Math.max(a.height+((f=t.padding)!=null?f:0)*2,(m=t==null?void 0:t.height)!=null?m:0),u=[{x:0,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:-3*o/6,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let x=Rt.svg(n),T=Pt(t,{}),k=wr(u),E=x.path(k,T);h=n.insert(()=>E,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=Hu(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Ot(t,h),t.intersect=function(x){return Ct.polygon(t,u,x)},n})}var yWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),l(ode,"inv_trapezoid")});function U6(e,t,r){return xe(this,null,function*(){let{labelStyles:i,nodeStyles:n}=At(t);t.labelStyle=i;let{shapeSvg:a,bbox:s}=yield rr(e,t,Xt(t)),o=Math.max(s.width+r.labelPaddingX*2,(t==null?void 0:t.width)||0),u=Math.max(s.height+r.labelPaddingY*2,(t==null?void 0:t.height)||0),h=-o/2,d=-u/2,p,{rx:g,ry:f}=t,{cssStyles:m}=t;if(r!=null&&r.rx&&r.ry&&(g=r.rx,f=r.ry),t.look==="handDrawn"){let x=Rt.svg(a),T=Pt(t,{}),k=g||f?x.path(vc(h,d,o,u,g||0),T):x.rectangle(h,d,o,u,T);p=a.insert(()=>k,":first-child"),p.attr("class","basic label-container").attr("style",ia(m))}else p=a.insert("rect",":first-child"),p.attr("class","basic label-container").attr("style",n).attr("rx",ia(g)).attr("ry",ia(f)).attr("x",h).attr("y",d).attr("width",o).attr("height",u);return Ot(t,p),t.calcIntersect=function(x,T){return Ct.rect(x,T)},t.intersect=function(x){return Ct.rect(t,x)},a})}var q6=B(()=>{"use strict";Mt(),Bt(),jg(),Dt(),zt(),Jt(),l(U6,"drawRect")});function lde(e,t){return xe(this,null,function*(){var s,o;let{shapeSvg:r,bbox:i,label:n}=yield rr(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(i.width/2)-(i.x-((s=i.left)!=null?s:0))}, ${-(i.height/2)-(i.y-((o=i.top)!=null?o:0))})`),Ot(t,a),t.intersect=function(u){return Ct.rect(t,u)},r})}var vWe=B(()=>{"use strict";q6(),Mt(),Bt(),l(lde,"labelRect")});function cde(e,t){return xe(this,null,function*(){var p,g,f,m;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=Math.max(a.width+((p=t.padding)!=null?p:0),(g=t==null?void 0:t.width)!=null?g:0),o=Math.max(a.height+((f=t.padding)!=null?f:0),(m=t==null?void 0:t.height)!=null?m:0),u=[{x:0,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:-(3*o)/6,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let x=Rt.svg(n),T=Pt(t,{}),k=wr(u),E=x.path(k,T);h=n.insert(()=>E,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=Hu(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Ot(t,h),t.intersect=function(x){return Ct.polygon(t,u,x)},n})}var bWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),l(cde,"lean_left")});function ude(e,t){return xe(this,null,function*(){var p,g,f,m;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=Math.max(a.width+((p=t.padding)!=null?p:0),(g=t==null?void 0:t.width)!=null?g:0),o=Math.max(a.height+((f=t.padding)!=null?f:0),(m=t==null?void 0:t.height)!=null?m:0),u=[{x:-3*o/6,y:0},{x:s,y:0},{x:s+3*o/6,y:-o},{x:0,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let x=Rt.svg(n),T=Pt(t,{}),k=wr(u),E=x.path(k,T);h=n.insert(()=>E,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=Hu(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Ot(t,h),t.intersect=function(x){return Ct.polygon(t,u,x)},n})}var xWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),l(ude,"lean_right")});function hde(e,t){var x,T,k;let{labelStyles:r,nodeStyles:i}=At(t);t.label="",t.labelStyle=r;let n=e.insert("g").attr("class",Xt(t)).attr("id",(x=t.domId)!=null?x:t.id),{cssStyles:a}=t,s=Math.max(35,(T=t==null?void 0:t.width)!=null?T:0),o=Math.max(35,(k=t==null?void 0:t.height)!=null?k:0),u=7,h=[{x:s,y:0},{x:0,y:o+u/2},{x:s-2*u,y:o+u/2},{x:0,y:2*o},{x:s,y:o-u/2},{x:2*u,y:o-u/2}],d=Rt.svg(n),p=Pt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=wr(h),f=d.path(g,p),m=n.insert(()=>f,":first-child");return a&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",a),i&&t.look!=="handDrawn"&&m.selectAll("path").attr("style",i),m.attr("transform",`translate(-${s/2},${-o})`),Ot(t,m),t.intersect=function(E){return ae.info("lightningBolt intersect",t,E),Ct.polygon(t,h,E)},n}var wWe=B(()=>{"use strict";lt(),Mt(),Dt(),zt(),Bt(),Mt(),l(hde,"lightningBolt")});function dde(e,t){return xe(this,null,function*(){var m,x,T,k,E,S;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((m=t.padding)!=null?m:0),(x=t.width)!=null?x:0),u=o/2,h=u/(2.5+o/50),d=Math.max(a.height+h+((T=t.padding)!=null?T:0),(k=t.height)!=null?k:0),p=d*.1,g,{cssStyles:f}=t;if(t.look==="handDrawn"){let L=Rt.svg(n),b=gde(0,0,o,d,u,h,p),y=fde(0,h,o,d,u,h),v=Pt(t,{}),w=L.path(b,v),C=L.path(y,v);n.insert(()=>C,":first-child").attr("class","line"),g=n.insert(()=>w,":first-child"),g.attr("class","basic label-container"),f&&g.attr("style",f)}else{let L=pde(0,0,o,d,u,h,p);g=n.insert("path",":first-child").attr("d",L).attr("class","basic label-container").attr("style",ia(f)).attr("style",i)}return g.attr("label-offset-y",h),g.attr("transform",`translate(${-o/2}, ${-(d/2+h)})`),Ot(t,g),s.attr("transform",`translate(${-(a.width/2)-(a.x-((E=a.left)!=null?E:0))}, ${-(a.height/2)+h-(a.y-((S=a.top)!=null?S:0))})`),t.intersect=function(L){var v,w,C,A,M,N;let b=Ct.rect(t,L),y=b.x-((v=t.x)!=null?v:0);if(u!=0&&(Math.abs(y)<((w=t.width)!=null?w:0)/2||Math.abs(y)==((C=t.width)!=null?C:0)/2&&Math.abs(b.y-((A=t.y)!=null?A:0))>((M=t.height)!=null?M:0)/2-h)){let O=h*h*(1-y*y/(u*u));O>0&&(O=Math.sqrt(O)),O=h-O,L.y-((N=t.y)!=null?N:0)>0&&(O=-O),b.y+=O}return b},n})}var pde,gde,fde,kWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Jt(),pde=l((e,t,r,i,n,a,s)=>[`M${e},${t+a}`,`a${n},${a} 0,0,0 ${r},0`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createCylinderPathD"),gde=l((e,t,r,i,n,a,s)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${n},${a} 0,0,0 ${-r},0`,`l0,${i}`,`a${n},${a} 0,0,0 ${r},0`,`l0,${-i}`,`M${e},${t+a+s}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createOuterCylinderPathD"),fde=l((e,t,r,i,n,a)=>[`M${e-r/2},${-i/2}`,`a${n},${a} 0,0,0 ${r},0`].join(" "),"createInnerCylinderPathD"),l(dde,"linedCylinder")});function mde(e,t){return xe(this,null,function*(){var k,E,S,L,b,y,v,w;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((k=t.padding)!=null?k:0)*2,(E=t==null?void 0:t.width)!=null?E:0),u=Math.max(a.height+((S=t.padding)!=null?S:0)*2,(L=t==null?void 0:t.height)!=null?L:0),h=u/4,d=u+h,{cssStyles:p}=t,g=Rt.svg(n),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:-o/2-o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:d/2},...qu(-o/2-o/2*.1,d/2,o/2+o/2*.1,d/2,h,.8),{x:o/2+o/2*.1,y:-d/2},{x:-o/2-o/2*.1,y:-d/2},{x:-o/2,y:-d/2},{x:-o/2,y:d/2*1.1},{x:-o/2,y:-d/2}],x=g.polygon(m.map(C=>[C.x,C.y]),f),T=n.insert(()=>x,":first-child");return T.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&T.selectAll("path").attr("style",i),T.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+((b=t.padding)!=null?b:0)+o/2*.1/2-(a.x-((y=a.left)!=null?y:0))},${-u/2+((v=t.padding)!=null?v:0)-h/2-(a.y-((w=a.top)!=null?w:0))})`),Ot(t,T),t.intersect=function(C){return Ct.polygon(t,m,C)},n})}var TWe=B(()=>{"use strict";Mt(),Bt(),zt(),Dt(),l(mde,"linedWaveEdgedRect")});function yde(e,t){return xe(this,null,function*(){var y,v,w,C,A,M;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((y=t.padding)!=null?y:0)*2,(v=t==null?void 0:t.width)!=null?v:0),u=Math.max(a.height+((w=t.padding)!=null?w:0)*2,(C=t==null?void 0:t.height)!=null?C:0),h=5,d=-o/2,p=-u/2,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{}),x=[{x:d-h,y:p+h},{x:d-h,y:p+u+h},{x:d+o-h,y:p+u+h},{x:d+o-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p+u-h},{x:d+o+h,y:p+u-h},{x:d+o+h,y:p-h},{x:d+h,y:p-h},{x:d+h,y:p},{x:d,y:p},{x:d,y:p+h}],T=[{x:d,y:p+h},{x:d+o-h,y:p+h},{x:d+o-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p},{x:d,y:p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let k=wr(x),E=f.path(k,m),S=wr(T),L=f.path(S,hr(dt({},m),{fill:"none"})),b=n.insert(()=>L,":first-child");return b.insert(()=>E,":first-child"),b.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)-h-(a.x-((A=a.left)!=null?A:0))}, ${-(a.height/2)+h-(a.y-((M=a.top)!=null?M:0))})`),Ot(t,b),t.intersect=function(N){return Ct.polygon(t,x,N)},n})}var EWe=B(()=>{"use strict";Mt(),Dt(),zt(),Bt(),l(yde,"multiRect")});function vde(e,t){return xe(this,null,function*(){var A,M,N,O,_,I;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((A=t.padding)!=null?A:0)*2,(M=t==null?void 0:t.width)!=null?M:0),u=Math.max(a.height+((N=t.padding)!=null?N:0)*2,(O=t==null?void 0:t.height)!=null?O:0),h=u/4,d=u+h,p=-o/2,g=-d/2,f=5,{cssStyles:m}=t,x=qu(p-f,g+d+f,p+o-f,g+d+f,h,.8),T=x==null?void 0:x[x.length-1],k=[{x:p-f,y:g+f},{x:p-f,y:g+d+f},...x,{x:p+o-f,y:T.y-f},{x:p+o,y:T.y-f},{x:p+o,y:T.y-2*f},{x:p+o+f,y:T.y-2*f},{x:p+o+f,y:g-f},{x:p+f,y:g-f},{x:p+f,y:g},{x:p,y:g},{x:p,y:g+f}],E=[{x:p,y:g+f},{x:p+o-f,y:g+f},{x:p+o-f,y:T.y-f},{x:p+o,y:T.y-f},{x:p+o,y:g},{x:p,y:g}],S=Rt.svg(n),L=Pt(t,{});t.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");let b=wr(k),y=S.path(b,L),v=wr(E),w=S.path(v,L),C=n.insert(()=>y,":first-child");return C.insert(()=>w),C.attr("class","basic label-container"),m&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",m),i&&t.look!=="handDrawn"&&C.selectAll("path").attr("style",i),C.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-(a.width/2)-f-(a.x-((_=a.left)!=null?_:0))}, ${-(a.height/2)+f-h/2-(a.y-((I=a.top)!=null?I:0))})`),Ot(t,C),t.intersect=function(R){return Ct.polygon(t,k,R)},n})}var CWe=B(()=>{"use strict";Mt(),Bt(),zt(),Dt(),l(vde,"multiWaveEdgedRectangle")});function bde(i,n,a){return xe(this,arguments,function*(e,t,{config:{themeVariables:r}}){var L,b,y,v,w,C,A;let{labelStyles:s,nodeStyles:o}=At(t);t.labelStyle=s,t.useHtmlLabels||((L=_r().flowchart)==null?void 0:L.htmlLabels)!==!1||(t.centerLabel=!0);let{shapeSvg:u,bbox:h,label:d}=yield rr(e,t,Xt(t)),p=Math.max(h.width+((b=t.padding)!=null?b:0)*2,(y=t==null?void 0:t.width)!=null?y:0),g=Math.max(h.height+((v=t.padding)!=null?v:0)*2,(w=t==null?void 0:t.height)!=null?w:0),f=-p/2,m=-g/2,{cssStyles:x}=t,T=Rt.svg(u),k=Pt(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let E=T.rectangle(f,m,p,g,k),S=u.insert(()=>E,":first-child");return S.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",x),o&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",o),d.attr("transform",`translate(${-h.width/2-(h.x-((C=h.left)!=null?C:0))}, ${-(h.height/2)-(h.y-((A=h.top)!=null?A:0))})`),Ot(t,S),t.intersect=function(M){return Ct.rect(t,M)},u})}var SWe=B(()=>{"use strict";zt(),Bt(),Dt(),Mt(),bi(),l(bde,"note")});function xde(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.width+t.padding,o=a.height+t.padding,u=s+o,h=.5,d=[{x:u/2,y:0},{x:u,y:-u/2},{x:u/2,y:-u},{x:0,y:-u/2}],p,{cssStyles:g}=t;if(t.look==="handDrawn"){let f=Rt.svg(n),m=Pt(t,{}),x=wde(0,0,u),T=f.path(x,m);p=n.insert(()=>T,":first-child").attr("transform",`translate(${-u/2+h}, ${u/2})`),g&&p.attr("style",g)}else p=Hu(n,u,u,d),p.attr("transform",`translate(${-u/2+h}, ${u/2})`);return i&&p.attr("style",i),Ot(t,p),t.calcIntersect=function(f,m){let x=f.width,T=[{x:x/2,y:0},{x,y:-x/2},{x:x/2,y:-x},{x:0,y:-x/2}],k=Ct.polygon(f,T,m);return{x:k.x-.5,y:k.y-.5}},t.intersect=function(f){return this.calcIntersect(t,f)},n})}var wde,_We=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),wde=l((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" "),"createDecisionBoxPathD"),l(xde,"question")});function kde(e,t){return xe(this,null,function*(){var S,L,b,y,v,w;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((S=t.padding)!=null?S:0),(L=t==null?void 0:t.width)!=null?L:0),u=Math.max(a.height+((b=t.padding)!=null?b:0),(y=t==null?void 0:t.height)!=null?y:0),h=-o/2,d=-u/2,p=d/2,g=[{x:h+p,y:d},{x:h,y:0},{x:h+p,y:-d},{x:-h,y:-d},{x:-h,y:d}],{cssStyles:f}=t,m=Rt.svg(n),x=Pt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");let T=wr(g),k=m.path(T,x),E=n.insert(()=>k,":first-child");return E.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),E.attr("transform",`translate(${-p/2},0)`),s.attr("transform",`translate(${-p/2-a.width/2-(a.x-((v=a.left)!=null?v:0))}, ${-(a.height/2)-(a.y-((w=a.top)!=null?w:0))})`),Ot(t,E),t.intersect=function(C){return Ct.polygon(t,g,C)},n})}var AWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(kde,"rect_left_inv_arrow")});function Tde(e,t){t&&e.attr("style",t)}function Ede(e){return xe(this,null,function*(){let t=Ze(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),i=Ce(),n=e.label;e.label&&wi(e.label)&&(n=yield Hp(e.label.replace(at.lineBreakRegex,`
`),i));let a='<span class="'+(e.isNode?"nodeLabel":"edgeLabel")+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>";return r.html(Er(a,i)),Tde(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()})}var Cde,Vu,IN=B(()=>{"use strict";gr(),qt(),dr(),lt(),Jt(),l(Tde,"applyStyle"),l(Ede,"addHtmlLabel"),Cde=l((e,t,r,i)=>xe(null,null,function*(){let n=e||"";if(typeof n=="object"&&(n=n[0]),Hr(Ce().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ae.info("vertexText"+n);let a={isNode:i,label:vo(n).replace(/fa[blrs]?:fa-[\w-]+/g,s=>`<i class='${s.replace(":"," ")}'></i>`),labelStyle:t&&t.replace("fill:","color:")};return yield Ede(a)}else{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",t.replace("color:","fill:"));let s=[];typeof n=="string"?s=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?s=n:s=[];for(let o of s){let u=document.createElementNS("http://www.w3.org/2000/svg","tspan");u.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),u.setAttribute("dy","1em"),u.setAttribute("x","0"),r?u.setAttribute("class","title-row"):u.setAttribute("class","row"),u.textContent=o.trim(),a.appendChild(u)}return a}}),"createLabel"),Vu=Cde});function Sde(e,t){return xe(this,null,function*(){var w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let n;t.cssClasses?n="node "+t.cssClasses:n="node default";let a=e.insert("g").attr("class",n).attr("id",t.domId||t.id),s=a.insert("g"),o=a.insert("g").attr("class","label").attr("style",i),u=t.description,h=t.label,d=o.node().appendChild(yield Vu(h,t.labelStyle,!0,!0)),p={width:0,height:0};if(Hr((C=(w=Ce())==null?void 0:w.flowchart)==null?void 0:C.htmlLabels)){let A=d.children[0],M=Ze(d);p=A.getBoundingClientRect(),M.attr("width",p.width),M.attr("height",p.height)}ae.info("Text 2",u);let g=u||[],f=d.getBBox(),m=o.node().appendChild(yield Vu(g.join?g.join("<br/>"):g,t.labelStyle,!0,!0)),x=m.children[0],T=Ze(m);p=x.getBoundingClientRect(),T.attr("width",p.width),T.attr("height",p.height);let k=(t.padding||0)/2;Ze(m).attr("transform","translate( "+(p.width>f.width?0:(f.width-p.width)/2)+", "+(f.height+k+5)+")"),Ze(d).attr("transform","translate( "+(p.width<f.width?0:-(f.width-p.width)/2)+", 0)"),p=o.node().getBBox(),o.attr("transform","translate("+-p.width/2+", "+(-p.height/2-k+3)+")");let E=p.width+(t.padding||0),S=p.height+(t.padding||0),L=-p.width/2-k,b=-p.height/2-k,y,v;if(t.look==="handDrawn"){let A=Rt.svg(a),M=Pt(t,{}),N=A.path(vc(L,b,E,S,t.rx||0),M),O=A.line(-p.width/2-k,-p.height/2-k+f.height+k,p.width/2+k,-p.height/2-k+f.height+k,M);v=a.insert(()=>(ae.debug("Rough node insert CXC",N),O),":first-child"),y=a.insert(()=>(ae.debug("Rough node insert CXC",N),N),":first-child")}else y=s.insert("rect",":first-child"),v=s.insert("line"),y.attr("class","outer title-state").attr("style",i).attr("x",-p.width/2-k).attr("y",-p.height/2-k).attr("width",p.width+(t.padding||0)).attr("height",p.height+(t.padding||0)),v.attr("class","divider").attr("x1",-p.width/2-k).attr("x2",p.width/2+k).attr("y1",-p.height/2-k+f.height+k).attr("y2",-p.height/2-k+f.height+k);return Ot(t,y),t.intersect=function(A){return Ct.rect(t,A)},a})}var LWe=B(()=>{"use strict";gr(),dr(),Mt(),IN(),Bt(),Dt(),zt(),qt(),jg(),lt(),l(Sde,"rectWithTitle")});function b2(e,t,r,i,n,a,s){let o=(e+r)/2,u=(t+i)/2,h=Math.atan2(i-t,r-e),d=(r-e)/2,p=(i-t)/2,g=d/n,f=p/a,m=Math.sqrt(jo(g,2)+jo(f,2));if(m>1)throw new Error("The given radii are too small to create an arc between the points.");let x=Math.sqrt(1-jo(m,2)),T=o+x*a*Math.sin(h)*(s?-1:1),k=u-x*n*Math.cos(h)*(s?-1:1),E=Math.atan2((t-k)/a,(e-T)/n),S=Math.atan2((i-k)/a,(r-T)/n)-E;s&&S<0&&(S+=2*Math.PI),!s&&S>0&&(S-=2*Math.PI);let L=[];for(let b=0;b<20;b++){let y=b/19,v=E+y*S,w=T+n*Math.cos(v),C=k+a*Math.sin(v);L.push({x:w,y:C})}return L}function _de(e,t){return xe(this,null,function*(){var S,L;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=(S=t==null?void 0:t.padding)!=null?S:0,o=(L=t==null?void 0:t.padding)!=null?L:0,u=(t!=null&&t.width?t==null?void 0:t.width:a.width)+s*2,h=(t!=null&&t.height?t==null?void 0:t.height:a.height)+o*2,d=t.radius||5,p=t.taper||5,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{});t.stroke&&(m.stroke=t.stroke),t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=[{x:-u/2+p,y:-h/2},{x:u/2-p,y:-h/2},...b2(u/2-p,-h/2,u/2,-h/2+p,d,d,!0),{x:u/2,y:-h/2+p},{x:u/2,y:h/2-p},...b2(u/2,h/2-p,u/2-p,h/2,d,d,!0),{x:u/2-p,y:h/2},{x:-u/2+p,y:h/2},...b2(-u/2+p,h/2,-u/2,h/2-p,d,d,!0),{x:-u/2,y:h/2-p},{x:-u/2,y:-h/2+p},...b2(-u/2,-h/2+p,-u/2+p,-h/2,d,d,!0)],T=wr(x),k=f.path(T,m),E=n.insert(()=>k,":first-child");return E.attr("class","basic label-container outer-path"),g&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&E.selectChildren("path").attr("style",i),Ot(t,E),t.intersect=function(b){return Ct.polygon(t,x,b)},n})}var NWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(b2,"generateArcPoints"),l(_de,"roundedRect")});function Ade(e,t){return xe(this,null,function*(){var E,S,L,b,y,v,w,C,A;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=(E=t==null?void 0:t.padding)!=null?E:0,u=Math.max(a.width+((S=t.padding)!=null?S:0)*2,(L=t==null?void 0:t.width)!=null?L:0),h=Math.max(a.height+((b=t.padding)!=null?b:0)*2,(y=t==null?void 0:t.height)!=null?y:0),d=-a.width/2-o,p=-a.height/2-o,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=[{x:d,y:p},{x:d+u+8,y:p},{x:d+u+8,y:p+h},{x:d-8,y:p+h},{x:d-8,y:p},{x:d,y:p},{x:d,y:p+h}],T=f.polygon(x.map(M=>[M.x,M.y]),m),k=n.insert(()=>T,":first-child");return k.attr("class","basic label-container").attr("style",ia(g)),i&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),g&&t.look!=="handDrawn"&&k.selectAll("path").attr("style",i),s.attr("transform",`translate(${-u/2+4+((v=t.padding)!=null?v:0)-(a.x-((w=a.left)!=null?w:0))},${-h/2+((C=t.padding)!=null?C:0)-(a.y-((A=a.top)!=null?A:0))})`),Ot(t,k),t.intersect=function(M){return Ct.rect(t,M)},n})}var MWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Jt(),l(Ade,"shadedProcess")});function Lde(e,t){return xe(this,null,function*(){var E,S,L,b,y,v,w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((E=t.padding)!=null?E:0)*2,(S=t==null?void 0:t.width)!=null?S:0),u=Math.max(a.height+((L=t.padding)!=null?L:0)*2,(b=t==null?void 0:t.height)!=null?b:0),h=-o/2,d=-u/2,{cssStyles:p}=t,g=Rt.svg(n),f=Pt(t,{});t.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let m=[{x:h,y:d},{x:h,y:d+u},{x:h+o,y:d+u},{x:h+o,y:d-u/2}],x=wr(m),T=g.path(x,f),k=n.insert(()=>T,":first-child");return k.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",p),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),k.attr("transform",`translate(0, ${u/4})`),s.attr("transform",`translate(${-o/2+((y=t.padding)!=null?y:0)-(a.x-((v=a.left)!=null?v:0))}, ${-u/4+((w=t.padding)!=null?w:0)-(a.y-((C=a.top)!=null?C:0))})`),Ot(t,k),t.intersect=function(A){return Ct.polygon(t,m,A)},n})}var IWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(Lde,"slopedRect")});function Nde(e,t){return xe(this,null,function*(){var i;let r={rx:0,ry:0,classes:"",labelPaddingX:(i=t.labelPaddingX)!=null?i:((t==null?void 0:t.padding)||0)*2,labelPaddingY:((t==null?void 0:t.padding)||0)*1};return U6(e,t,r)})}var DWe=B(()=>{"use strict";q6(),l(Nde,"squareRect")});function Mde(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.height+t.padding,o=a.width+s/4+t.padding,u=s/2,{cssStyles:h}=t,d=Rt.svg(n),p=Pt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=[{x:-o/2+u,y:-s/2},{x:o/2-u,y:-s/2},...l2(-o/2+u,0,u,50,90,270),{x:o/2-u,y:s/2},...l2(o/2-u,0,u,50,270,450)],f=wr(g),m=d.path(f,p),x=n.insert(()=>m,":first-child");return x.attr("class","basic label-container outer-path"),h&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),i&&t.look!=="handDrawn"&&x.selectChildren("path").attr("style",i),Ot(t,x),t.intersect=function(T){return Ct.polygon(t,g,T)},n})}var RWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(Mde,"stadium")});function Ide(e,t){return xe(this,null,function*(){return U6(e,t,{rx:5,ry:5,classes:"flowchart-node"})})}var OWe=B(()=>{"use strict";q6(),l(Ide,"state")});function Dde(e,t,{config:{themeVariables:r}}){let{labelStyles:i,nodeStyles:n}=At(t);t.labelStyle=i;let{cssStyles:a}=t,{lineColor:s,stateBorder:o,nodeBorder:u}=r,h=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),d=Rt.svg(h),p=Pt(t,{});t.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");let g=d.circle(0,0,14,hr(dt({},p),{stroke:s,strokeWidth:2})),f=o!=null?o:u,m=d.circle(0,0,5,hr(dt({},p),{fill:f,stroke:f,strokeWidth:2,fillStyle:"solid"})),x=h.insert(()=>g,":first-child");return x.insert(()=>m),a&&x.selectAll("path").attr("style",a),n&&x.selectAll("path").attr("style",n),Ot(t,x),t.intersect=function(T){return Ct.circle(t,7,T)},h}var PWe=B(()=>{"use strict";zt(),Bt(),Dt(),Mt(),l(Dde,"stateEnd")});function Rde(e,t,{config:{themeVariables:r}}){let{lineColor:i}=r,n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),a;if(t.look==="handDrawn"){let s=Rt.svg(n).circle(0,0,14,ghe(i));a=n.insert(()=>s),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=n.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Ot(t,a),t.intersect=function(s){return Ct.circle(t,7,s)},n}var BWe=B(()=>{"use strict";zt(),Bt(),Dt(),Mt(),l(Rde,"stateStart")});function Ode(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=((t==null?void 0:t.padding)||0)/2,o=a.width+t.padding,u=a.height+t.padding,h=-a.width/2-s,d=-a.height/2-s,p=[{x:0,y:0},{x:o,y:0},{x:o,y:-u},{x:0,y:-u},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-u},{x:-8,y:-u},{x:-8,y:0}];if(t.look==="handDrawn"){let g=Rt.svg(n),f=Pt(t,{}),m=g.rectangle(h-8,d,o+16,u,f),x=g.line(h,d,h,d+u,f),T=g.line(h+o,d,h+o,d+u,f);n.insert(()=>x,":first-child"),n.insert(()=>T,":first-child");let k=n.insert(()=>m,":first-child"),{cssStyles:E}=t;k.attr("class","basic label-container").attr("style",ia(E)),Ot(t,k)}else{let g=Hu(n,o,u,p);i&&g.attr("style",i),Ot(t,g)}return t.intersect=function(g){return Ct.polygon(t,p,g)},n})}var $We=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),Jt(),l(Ode,"subroutine")});function Pde(e,t){return xe(this,null,function*(){var y,v,w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=Math.max(a.width+((y=t.padding)!=null?y:0)*2,(v=t==null?void 0:t.width)!=null?v:0),o=Math.max(a.height+((w=t.padding)!=null?w:0)*2,(C=t==null?void 0:t.height)!=null?C:0),u=-s/2,h=-o/2,d=.2*o,p=.2*o,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{}),x=[{x:u-d/2,y:h},{x:u+s+d/2,y:h},{x:u+s+d/2,y:h+o},{x:u-d/2,y:h+o}],T=[{x:u+s-d/2,y:h+o},{x:u+s+d/2,y:h+o},{x:u+s+d/2,y:h+o-p}];t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let k=wr(x),E=f.path(k,m),S=wr(T),L=f.path(S,hr(dt({},m),{fillStyle:"solid"})),b=n.insert(()=>L,":first-child");return b.insert(()=>E,":first-child"),b.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),Ot(t,b),t.intersect=function(A){return Ct.polygon(t,x,A)},n})}var FWe=B(()=>{"use strict";Mt(),Dt(),zt(),Bt(),l(Pde,"taggedRect")});function Bde(e,t){return xe(this,null,function*(){var C,A,M,N,O,_,I,R;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((C=t.padding)!=null?C:0)*2,(A=t==null?void 0:t.width)!=null?A:0),u=Math.max(a.height+((M=t.padding)!=null?M:0)*2,(N=t==null?void 0:t.height)!=null?N:0),h=u/4,d=.2*o,p=.2*u,g=u+h,{cssStyles:f}=t,m=Rt.svg(n),x=Pt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");let T=[{x:-o/2-o/2*.1,y:g/2},...qu(-o/2-o/2*.1,g/2,o/2+o/2*.1,g/2,h,.8),{x:o/2+o/2*.1,y:-g/2},{x:-o/2-o/2*.1,y:-g/2}],k=-o/2+o/2*.1,E=-g/2-p*.4,S=[{x:k+o-d,y:(E+u)*1.4},{x:k+o,y:E+u-p},{x:k+o,y:(E+u)*.9},...qu(k+o,(E+u)*1.3,k+o-d,(E+u)*1.5,-u*.03,.5)],L=wr(T),b=m.path(L,x),y=wr(S),v=m.path(y,hr(dt({},x),{fillStyle:"solid"})),w=n.insert(()=>v,":first-child");return w.insert(()=>b,":first-child"),w.attr("class","basic label-container"),f&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",f),i&&t.look!=="handDrawn"&&w.selectAll("path").attr("style",i),w.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+((O=t.padding)!=null?O:0)-(a.x-((_=a.left)!=null?_:0))},${-u/2+((I=t.padding)!=null?I:0)-h/2-(a.y-((R=a.top)!=null?R:0))})`),Ot(t,w),t.intersect=function(P){return Ct.polygon(t,T,P)},n})}var zWe=B(()=>{"use strict";Mt(),Bt(),zt(),Dt(),l(Bde,"taggedWaveEdgedRectangle")});function $de(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=Math.max(a.width+t.padding,(t==null?void 0:t.width)||0),o=Math.max(a.height+t.padding,(t==null?void 0:t.height)||0),u=-s/2,h=-o/2,d=n.insert("rect",":first-child");return d.attr("class","text").attr("style",i).attr("rx",0).attr("ry",0).attr("x",u).attr("y",h).attr("width",s).attr("height",o),Ot(t,d),t.intersect=function(p){return Ct.rect(t,p)},n})}var GWe=B(()=>{"use strict";Mt(),Bt(),Dt(),l($de,"text")});function Fde(e,t){return xe(this,null,function*(){var x,T;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s,halfPadding:o}=yield rr(e,t,Xt(t)),u=t.look==="neo"?o*2:o,h=a.height+u,d=h/2,p=d/(2.5+h/50),g=a.width+p+u,{cssStyles:f}=t,m;if(t.look==="handDrawn"){let k=Rt.svg(n),E=Gde(0,0,g,h,p,d),S=Ude(0,0,g,h,p,d),L=k.path(E,Pt(t,{})),b=k.path(S,Pt(t,{fill:"none"}));m=n.insert(()=>b,":first-child"),m=n.insert(()=>L,":first-child"),m.attr("class","basic label-container"),f&&m.attr("style",f)}else{let k=zde(0,0,g,h,p,d);m=n.insert("path",":first-child").attr("d",k).attr("class","basic label-container").attr("style",ia(f)).attr("style",i),m.attr("class","basic label-container"),f&&m.selectAll("path").attr("style",f),i&&m.selectAll("path").attr("style",i)}return m.attr("label-offset-x",p),m.attr("transform",`translate(${-g/2}, ${h/2} )`),s.attr("transform",`translate(${-(a.width/2)-p-(a.x-((x=a.left)!=null?x:0))}, ${-(a.height/2)-(a.y-((T=a.top)!=null?T:0))})`),Ot(t,m),t.intersect=function(k){var L,b,y,v,w,C;let E=Ct.rect(t,k),S=E.y-((L=t.y)!=null?L:0);if(d!=0&&(Math.abs(S)<((b=t.height)!=null?b:0)/2||Math.abs(S)==((y=t.height)!=null?y:0)/2&&Math.abs(E.x-((v=t.x)!=null?v:0))>((w=t.width)!=null?w:0)/2-p)){let A=p*p*(1-S*S/(d*d));A!=0&&(A=Math.sqrt(Math.abs(A))),A=p-A,k.x-((C=t.x)!=null?C:0)>0&&(A=-A),E.x+=A}return E},n})}var zde,Gde,Ude,UWe=B(()=>{"use strict";Mt(),Dt(),zt(),Bt(),Jt(),zde=l((e,t,r,i,n,a)=>`M${e},${t}
    a${n},${a} 0,0,1 0,${-i}
    l${r},0
    a${n},${a} 0,0,1 0,${i}
    M${r},${-i}
    a${n},${a} 0,0,0 0,${i}
    l${-r},0`,"createCylinderPathD"),Gde=l((e,t,r,i,n,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${n},${a} 0,0,0 0,${-i}`,`l${-r},0`,`a${n},${a} 0,0,0 0,${i}`,`l${r},0`].join(" "),"createOuterCylinderPathD"),Ude=l((e,t,r,i,n,a)=>[`M${e+r/2},${-i/2}`,`a${n},${a} 0,0,0 0,${i}`].join(" "),"createInnerCylinderPathD"),l(Fde,"tiltedCylinder")});function qde(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=a.width+t.padding,o=a.height+t.padding,u=[{x:-3*o/6,y:0},{x:s+3*o/6,y:0},{x:s,y:-o},{x:0,y:-o}],h,{cssStyles:d}=t;if(t.look==="handDrawn"){let p=Rt.svg(n),g=Pt(t,{}),f=wr(u),m=p.path(f,g);h=n.insert(()=>m,":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),d&&h.attr("style",d)}else h=Hu(n,s,o,u);return i&&h.attr("style",i),t.width=s,t.height=o,Ot(t,h),t.intersect=function(p){return Ct.polygon(t,u,p)},n})}var qWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Cd(),l(qde,"trapezoid")});function jde(e,t){return xe(this,null,function*(){var k,E,S,L;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=60,o=20,u=Math.max(s,a.width+((k=t.padding)!=null?k:0)*2,(E=t==null?void 0:t.width)!=null?E:0),h=Math.max(o,a.height+((S=t.padding)!=null?S:0)*2,(L=t==null?void 0:t.height)!=null?L:0),{cssStyles:d}=t,p=Rt.svg(n),g=Pt(t,{});t.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let f=[{x:-u/2*.8,y:-h/2},{x:u/2*.8,y:-h/2},{x:u/2,y:-h/2*.6},{x:u/2,y:h/2},{x:-u/2,y:h/2},{x:-u/2,y:-h/2*.6}],m=wr(f),x=p.path(m,g),T=n.insert(()=>x,":first-child");return T.attr("class","basic label-container"),d&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",d),i&&t.look!=="handDrawn"&&T.selectChildren("path").attr("style",i),Ot(t,T),t.intersect=function(b){return Ct.polygon(t,f,b)},n})}var jWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(jde,"trapezoidalPentagon")});function Hde(e,t){return xe(this,null,function*(){var E,S,L,b,y;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Hr((E=Ce().flowchart)==null?void 0:E.htmlLabels),u=a.width+((S=t.padding)!=null?S:0),h=u+a.height,d=u+a.height,p=[{x:0,y:0},{x:d,y:0},{x:d/2,y:-h}],{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=wr(p),T=f.path(x,m),k=n.insert(()=>T,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",g),i&&t.look!=="handDrawn"&&k.selectChildren("path").attr("style",i),t.width=u,t.height=h,Ot(t,k),s.attr("transform",`translate(${-a.width/2-(a.x-((L=a.left)!=null?L:0))}, ${h/2-(a.height+((b=t.padding)!=null?b:0)/(o?2:1)-(a.y-((y=a.top)!=null?y:0)))})`),t.intersect=function(v){return ae.info("Triangle intersect",t,p,v),Ct.polygon(t,p,v)},n})}var HWe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),Mt(),dr(),qt(),l(Hde,"triangle")});function Vde(e,t){return xe(this,null,function*(){var L,b,y,v,w,C,A,M;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((L=t.padding)!=null?L:0)*2,(b=t==null?void 0:t.width)!=null?b:0),u=Math.max(a.height+((y=t.padding)!=null?y:0)*2,(v=t==null?void 0:t.height)!=null?v:0),h=u/8,d=u+h,{cssStyles:p}=t,g=70-o,f=g>0?g/2:0,m=Rt.svg(n),x=Pt(t,{});t.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");let T=[{x:-o/2-f,y:d/2},...qu(-o/2-f,d/2,o/2+f,d/2,h,.8),{x:o/2+f,y:-d/2},{x:-o/2-f,y:-d/2}],k=wr(T),E=m.path(k,x),S=n.insert(()=>E,":first-child");return S.attr("class","basic label-container"),p&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",p),i&&t.look!=="handDrawn"&&S.selectAll("path").attr("style",i),S.attr("transform",`translate(0,${-h/2})`),s.attr("transform",`translate(${-o/2+((w=t.padding)!=null?w:0)-(a.x-((C=a.left)!=null?C:0))},${-u/2+((A=t.padding)!=null?A:0)-h-(a.y-((M=a.top)!=null?M:0))})`),Ot(t,S),t.intersect=function(N){return Ct.polygon(t,T,N)},n})}var VWe=B(()=>{"use strict";Mt(),Bt(),zt(),Dt(),l(Vde,"waveEdgedRectangle")});function Yde(e,t){return xe(this,null,function*(){var y,v,w,C;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a}=yield rr(e,t,Xt(t)),s=100,o=50,u=Math.max(a.width+((y=t.padding)!=null?y:0)*2,(v=t==null?void 0:t.width)!=null?v:0),h=Math.max(a.height+((w=t.padding)!=null?w:0)*2,(C=t==null?void 0:t.height)!=null?C:0),d=u/h,p=u,g=h;p>g*d?g=p/d:p=g*d,p=Math.max(p,s),g=Math.max(g,o);let f=Math.min(g*.2,g/4),m=g+f*2,{cssStyles:x}=t,T=Rt.svg(n),k=Pt(t,{});t.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");let E=[{x:-p/2,y:m/2},...qu(-p/2,m/2,p/2,m/2,f,1),{x:p/2,y:-m/2},...qu(p/2,-m/2,-p/2,-m/2,f,-1)],S=wr(E),L=T.path(S,k),b=n.insert(()=>L,":first-child");return b.attr("class","basic label-container"),x&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",x),i&&t.look!=="handDrawn"&&b.selectAll("path").attr("style",i),Ot(t,b),t.intersect=function(A){return Ct.polygon(t,E,A)},n})}var YWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),l(Yde,"waveRectangle")});function Wde(e,t){return xe(this,null,function*(){var S,L,b,y,v,w;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,label:s}=yield rr(e,t,Xt(t)),o=Math.max(a.width+((S=t.padding)!=null?S:0)*2,(L=t==null?void 0:t.width)!=null?L:0),u=Math.max(a.height+((b=t.padding)!=null?b:0)*2,(y=t==null?void 0:t.height)!=null?y:0),h=5,d=-o/2,p=-u/2,{cssStyles:g}=t,f=Rt.svg(n),m=Pt(t,{}),x=[{x:d-h,y:p-h},{x:d-h,y:p+u},{x:d+o,y:p+u},{x:d+o,y:p-h}],T=`M${d-h},${p-h} L${d+o},${p-h} L${d+o},${p+u} L${d-h},${p+u} L${d-h},${p-h}
                M${d-h},${p} L${d+o},${p}
                M${d},${p-h} L${d},${p+u}`;t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let k=f.path(T,m),E=n.insert(()=>k,":first-child");return E.attr("transform",`translate(${h/2}, ${h/2})`),E.attr("class","basic label-container"),g&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",g),i&&t.look!=="handDrawn"&&E.selectAll("path").attr("style",i),s.attr("transform",`translate(${-(a.width/2)+h/2-(a.x-((v=a.left)!=null?v:0))}, ${-(a.height/2)+h/2-(a.y-((w=a.top)!=null?w:0))})`),Ot(t,E),t.intersect=function(C){return Ct.polygon(t,x,C)},n})}var WWe=B(()=>{"use strict";Mt(),Dt(),zt(),Bt(),l(Wde,"windowPane")});function DN(e,t){return xe(this,null,function*(){var U,j,H,Q,re,le,oe,W;let r=t;if(r.alias&&(t.label=r.alias),t.look==="handDrawn"){let{themeVariables:J}=_r(),{background:Y}=J,X=hr(dt({},t),{id:t.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Y}`]});yield DN(e,X)}let i=_r();t.useHtmlLabels=i.htmlLabels;let n=(j=(U=i.er)==null?void 0:U.diagramPadding)!=null?j:10,a=(Q=(H=i.er)==null?void 0:H.entityPadding)!=null?Q:6,{cssStyles:s}=t,{labelStyles:o,nodeStyles:u}=At(t);if(r.attributes.length===0&&t.label){let J={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5,classes:""};Ta(t.label,i)+J.labelPaddingX*2<i.er.minEntityWidth&&(t.width=i.er.minEntityWidth);let Y=yield U6(e,t,J);if(!Hr(i.htmlLabels)){let X=Y.select("text"),te=(re=X.node())==null?void 0:re.getBBox();X.attr("transform",`translate(${-te.width/2}, 0)`)}return Y}i.htmlLabels||(n*=1.25,a*=1.25);let h=Xt(t);h||(h="node default");let d=e.insert("g").attr("class",h).attr("id",t.domId||t.id),p=yield Hg(d,(le=t.label)!=null?le:"",i,0,0,["name"],o);p.height+=a;let g=0,f=[],m=[],x=0,T=0,k=0,E=0,S=!0,L=!0;for(let J of r.attributes){let Y=yield Hg(d,J.type,i,0,g,["attribute-type"],o);x=Math.max(x,Y.width+n);let X=yield Hg(d,J.name,i,0,g,["attribute-name"],o);T=Math.max(T,X.width+n);let te=yield Hg(d,J.keys.join(),i,0,g,["attribute-keys"],o);k=Math.max(k,te.width+n);let ce=yield Hg(d,J.comment,i,0,g,["attribute-comment"],o);E=Math.max(E,ce.width+n);let K=Math.max(Y.height,X.height,te.height,ce.height)+a;m.push({yOffset:g,rowHeight:K}),g+=K}let b=4;k<=n&&(S=!1,k=0,b--),E<=n&&(L=!1,E=0,b--);let y=d.node().getBBox();if(p.width+n*2-(x+T+k+E)>0){let J=p.width+n*2-(x+T+k+E);x+=J/b,T+=J/b,k>0&&(k+=J/b),E>0&&(E+=J/b)}let v=x+T+k+E,w=Rt.svg(d),C=Pt(t,{});t.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");let A=0;m.length>0&&(A=m.reduce((J,Y)=>{var X;return J+((X=Y==null?void 0:Y.rowHeight)!=null?X:0)},0));let M=Math.max(y.width+n*2,(t==null?void 0:t.width)||0,v),N=Math.max((A!=null?A:0)+p.height,(t==null?void 0:t.height)||0),O=-M/2,_=-N/2;d.selectAll("g:not(:first-child)").each((J,Y,X)=>{let te=Ze(X[Y]),ce=te.attr("transform"),K=0,me=0;if(ce){let Z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ce);Z&&(K=parseFloat(Z[1]),me=parseFloat(Z[2]),te.attr("class").includes("attribute-name")?K+=x:te.attr("class").includes("attribute-keys")?K+=x+T:te.attr("class").includes("attribute-comment")&&(K+=x+T+k))}te.attr("transform",`translate(${O+n/2+K}, ${me+_+p.height+a/2})`)}),d.select(".name").attr("transform","translate("+-p.width/2+", "+(_+a/2)+")");let I=w.rectangle(O,_,M,N,C),R=d.insert(()=>I,":first-child").attr("style",s.join("")),{themeVariables:P}=_r(),{rowEven:D,rowOdd:$,nodeBorder:F}=P;f.push(0);for(let[J,Y]of m.entries()){let X=(J+1)%2===0&&Y.yOffset!==0,te=w.rectangle(O,p.height+_+(Y==null?void 0:Y.yOffset),M,Y==null?void 0:Y.rowHeight,hr(dt({},C),{fill:X?D:$,stroke:F}));d.insert(()=>te,"g.label").attr("style",s.join("")).attr("class",`row-rect-${X?"even":"odd"}`)}let z=w.line(O,p.height+_,M+O,p.height+_,C);d.insert(()=>z).attr("class","divider"),z=w.line(x+O,p.height+_,x+O,N+_,C),d.insert(()=>z).attr("class","divider"),S&&(z=w.line(x+T+O,p.height+_,x+T+O,N+_,C),d.insert(()=>z).attr("class","divider")),L&&(z=w.line(x+T+k+O,p.height+_,x+T+k+O,N+_,C),d.insert(()=>z).attr("class","divider"));for(let J of f)z=w.line(O,p.height+_+J,M+O,p.height+_+J,C),d.insert(()=>z).attr("class","divider");if(Ot(t,R),u&&t.look!=="handDrawn"){let J=(W=(oe=u.split(";"))==null?void 0:oe.filter(Y=>Y.includes("stroke")))==null?void 0:W.map(Y=>`${Y}`).join("; ");d.selectAll("path").attr("style",J!=null?J:""),d.selectAll(".row-rect-even path").attr("style",u)}return t.intersect=function(J){return Ct.rect(t,J)},d})}function Hg(o,u,h){return xe(this,arguments,function*(e,t,r,i=0,n=0,a=[],s=""){let d=e.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${i}, ${n})`).attr("style",s);t!==ic(t)&&(t=ic(t),t=t.replaceAll("<","&lt;").replaceAll(">","&gt;"));let p=d.node().appendChild(yield Ha(d,t,{width:Ta(t,r)+100,style:s,useHtmlLabels:r.htmlLabels},r));if(t.includes("&lt;")||t.includes("&gt;")){let f=p.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let g=p.getBBox();if(Hr(r.htmlLabels)){let f=p.children[0];f.style.textAlign="start";let m=Ze(p);g=f.getBoundingClientRect(),m.attr("width",g.width),m.attr("height",g.height)}return g})}var XWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),q6(),bi(),wo(),dr(),gr(),Jt(),l(DN,"erBox"),l(Hg,"addText")});function Xde(s,o,u,h){return xe(this,arguments,function*(e,t,r,i,n=(a=>(a=r.class.padding)!=null?a:12)()){let d=i?0:3,p=e.insert("g").attr("class",Xt(t)).attr("id",t.domId||t.id),g=null,f=null,m=null,x=null,T=0,k=0,E=0;if(g=p.insert("g").attr("class","annotation-group text"),t.annotations.length>0){let v=t.annotations[0];yield x2(g,{text:`\xAB${v}\xBB`},0),T=g.node().getBBox().height}f=p.insert("g").attr("class","label-group text"),yield x2(f,t,0,["font-weight: bolder"]);let S=f.node().getBBox();k=S.height,m=p.insert("g").attr("class","members-group text");let L=0;for(let v of t.members){let w=yield x2(m,v,L,[v.parseClassifier()]);L+=w+d}E=m.node().getBBox().height,E<=0&&(E=n/2),x=p.insert("g").attr("class","methods-group text");let b=0;for(let v of t.methods){let w=yield x2(x,v,b,[v.parseClassifier()]);b+=w+d}let y=p.node().getBBox();if(g!==null){let v=g.node().getBBox();g.attr("transform",`translate(${-v.width/2})`)}return f.attr("transform",`translate(${-S.width/2}, ${T})`),y=p.node().getBBox(),m.attr("transform",`translate(0, ${T+k+n*2})`),y=p.node().getBBox(),x.attr("transform",`translate(0, ${T+k+(E?E+n*4:n*2)})`),y=p.node().getBBox(),{shapeSvg:p,bbox:y}})}function x2(n,a,s){return xe(this,arguments,function*(e,t,r,i=[]){var m;let o=e.insert("g").attr("class","label").attr("style",i.join("; ")),u=_r(),h="useHtmlLabels"in t?t.useHtmlLabels:(m=Hr(u.htmlLabels))!=null?m:!0,d="";"text"in t?d=t.text:d=t.label,!h&&d.startsWith("\\")&&(d=d.substring(1)),wi(d)&&(h=!0);let p=yield Ha(o,x3(vo(d)),{width:Ta(d,u)+50,classes:"markdown-node-label",useHtmlLabels:h},u),g,f=1;if(h){let x=p.children[0],T=Ze(p);f=x.innerHTML.split("<br>").length,x.innerHTML.includes("</math>")&&(f+=x.innerHTML.split("<mrow>").length-1);let k=x.getElementsByTagName("img");if(k){let E=d.replace(/<img[^>]*>/g,"").trim()==="";yield Promise.all([...k].map(S=>new Promise(L=>{function b(){var y,v;if(S.style.display="flex",S.style.flexDirection="column",E){let w=(v=(y=u.fontSize)==null?void 0:y.toString())!=null?v:window.getComputedStyle(document.body).fontSize,C=parseInt(w,10)*5+"px";S.style.minWidth=C,S.style.maxWidth=C}else S.style.width="100%";L(S)}l(b,"setupImage"),setTimeout(()=>{S.complete&&b()}),S.addEventListener("error",b),S.addEventListener("load",b)})))}g=x.getBoundingClientRect(),T.attr("width",g.width),T.attr("height",g.height)}else{i.includes("font-weight: bolder")&&Ze(p).selectAll("tspan").attr("font-weight",""),f=p.children.length;let x=p.children[0];(p.textContent===""||p.textContent.includes("&gt"))&&(x.textContent=d[0]+d.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),d[1]===" "&&(x.textContent=x.textContent[0]+" "+x.textContent.substring(1))),x.textContent==="undefined"&&(x.textContent=""),g=p.getBBox()}return o.attr("transform","translate(0,"+(-g.height/(2*f)+r)+")"),g.height})}var KWe=B(()=>{"use strict";gr(),bi(),Mt(),Jt(),qt(),wo(),dr(),l(Xde,"textHelper"),l(x2,"addText")});function Kde(e,t){return xe(this,null,function*(){var C,A,M,N,O,_,I,R;let r=Ce(),i=(C=r.class.padding)!=null?C:12,n=i,a=(M=(A=t.useHtmlLabels)!=null?A:Hr(r.htmlLabels))!=null?M:!0,s=t;s.annotations=(N=s.annotations)!=null?N:[],s.members=(O=s.members)!=null?O:[],s.methods=(_=s.methods)!=null?_:[];let{shapeSvg:o,bbox:u}=yield Xde(e,t,r,a,n),{labelStyles:h,nodeStyles:d}=At(t);t.labelStyle=h,t.cssStyles=s.styles||"";let p=((I=s.styles)==null?void 0:I.join(";"))||d||"";t.cssStyles||(t.cssStyles=p.replaceAll("!important","").split(";"));let g=s.members.length===0&&s.methods.length===0&&!((R=r.class)!=null&&R.hideEmptyMembersBox),f=Rt.svg(o),m=Pt(t,{});t.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");let x=u.width,T=u.height;s.members.length===0&&s.methods.length===0?T+=n:s.members.length>0&&s.methods.length===0&&(T+=n*2);let k=-x/2,E=-T/2,S=f.rectangle(k-i,E-i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0),x+2*i,T+2*i+(g?i*2:s.members.length===0&&s.methods.length===0?-i:0),m),L=o.insert(()=>S,":first-child");L.attr("class","basic label-container");let b=L.node().getBBox();o.selectAll(".text").each((P,D,$)=>{var Q;let F=Ze($[D]),z=F.attr("transform"),U=0;if(z){let re=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(z);re&&(U=parseFloat(re[2]))}let j=U+E+i-(g?i:s.members.length===0&&s.methods.length===0?-i/2:0);a||(j-=4);let H=k;(F.attr("class").includes("label-group")||F.attr("class").includes("annotation-group"))&&(H=-((Q=F.node())==null?void 0:Q.getBBox().width)/2||0,o.selectAll("text").each(function(re,le,oe){window.getComputedStyle(oe[le]).textAnchor==="middle"&&(H=0)})),F.attr("transform",`translate(${H}, ${j})`)});let y=o.select(".annotation-group").node().getBBox().height-(g?i/2:0)||0,v=o.select(".label-group").node().getBBox().height-(g?i/2:0)||0,w=o.select(".members-group").node().getBBox().height-(g?i/2:0)||0;if(s.members.length>0||s.methods.length>0||g){let P=f.line(b.x,y+v+E+i,b.x+b.width,y+v+E+i,m);o.insert(()=>P).attr("class","divider").attr("style",p)}if(g||s.members.length>0||s.methods.length>0){let P=f.line(b.x,y+v+w+E+n*2+i,b.x+b.width,y+v+w+E+i+n*2,m);o.insert(()=>P).attr("class","divider").attr("style",p)}if(s.look!=="handDrawn"&&o.selectAll("path").attr("style",p),L.select(":nth-child(2)").attr("style",p),o.selectAll(".divider").select("path").attr("style",p),t.labelStyle?o.selectAll("span").attr("style",t.labelStyle):o.selectAll("span").attr("style",p),!a){let P=RegExp(/color\s*:\s*([^;]*)/),D=P.exec(p);if(D){let $=D[0].replace("color","fill");o.selectAll("tspan").attr("style",$)}else if(h){let $=P.exec(h);if($){let F=$[0].replace("color","fill");o.selectAll("tspan").attr("style",F)}}}return Ot(t,L),t.intersect=function(P){return Ct.rect(t,P)},o})}var ZWe=B(()=>{"use strict";Mt(),qt(),gr(),zt(),Dt(),Bt(),KWe(),dr(),l(Kde,"classBox")});function Zde(e,t){return xe(this,null,function*(){var y,v,w,C,A;let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let n=t,a=t,s=20,o=20,u="verifyMethod"in t,h=Xt(t),d=e.insert("g").attr("class",h).attr("id",(y=t.domId)!=null?y:t.id),p;u?p=yield pl(d,`&lt;&lt;${n.type}&gt;&gt;`,0,t.labelStyle):p=yield pl(d,"&lt;&lt;Element&gt;&gt;",0,t.labelStyle);let g=p,f=yield pl(d,n.name,g,t.labelStyle+"; font-weight: bold;");if(g+=f+o,u){let M=yield pl(d,`${n.requirementId?`ID: ${n.requirementId}`:""}`,g,t.labelStyle);g+=M;let N=yield pl(d,`${n.text?`Text: ${n.text}`:""}`,g,t.labelStyle);g+=N;let O=yield pl(d,`${n.risk?`Risk: ${n.risk}`:""}`,g,t.labelStyle);g+=O,yield pl(d,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,g,t.labelStyle)}else{let M=yield pl(d,`${a.type?`Type: ${a.type}`:""}`,g,t.labelStyle);g+=M,yield pl(d,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,g,t.labelStyle)}let m=((w=(v=d.node())==null?void 0:v.getBBox().width)!=null?w:200)+s,x=((A=(C=d.node())==null?void 0:C.getBBox().height)!=null?A:200)+s,T=-m/2,k=-x/2,E=Rt.svg(d),S=Pt(t,{});t.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");let L=E.rectangle(T,k,m,x,S),b=d.insert(()=>L,":first-child");if(b.attr("class","basic label-container").attr("style",i),d.selectAll(".label").each((M,N,O)=>{let _=Ze(O[N]),I=_.attr("transform"),R=0,P=0;if(I){let F=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(I);F&&(R=parseFloat(F[1]),P=parseFloat(F[2]))}let D=P-x/2,$=T+s/2;(N===0||N===1)&&($=R),_.attr("transform",`translate(${$}, ${D+s})`)}),g>p+f+o){let M=E.line(T,k+p+f+o,T+m,k+p+f+o,S);d.insert(()=>M).attr("style",i)}return Ot(t,b),t.intersect=function(M){return Ct.rect(t,M)},d})}function pl(e,t,r,i=""){return xe(this,null,function*(){var h;if(t==="")return 0;let n=e.insert("g").attr("class","label").attr("style",i),a=Ce(),s=(h=a.htmlLabels)!=null?h:!0,o=yield Ha(n,x3(vo(t)),{width:Ta(t,a)+50,classes:"markdown-node-label",useHtmlLabels:s,style:i},a),u;if(s){let d=o.children[0],p=Ze(o);u=d.getBoundingClientRect(),p.attr("width",u.width),p.attr("height",u.height)}else{let d=o.children[0];for(let p of d.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),i&&p.setAttribute("style",i);u=o.getBBox(),u.height+=6}return n.attr("transform",`translate(${-u.width/2},${-u.height/2+r})`),u.height})}var QWe=B(()=>{"use strict";Mt(),Bt(),Dt(),zt(),Jt(),qt(),wo(),gr(),l(Zde,"requirementBox"),l(pl,"addText")});function Qde(i,n,a){return xe(this,arguments,function*(e,t,{config:r}){var I,R,P;let{labelStyles:s,nodeStyles:o}=At(t);t.labelStyle=s||"";let u=10,h=t.width;t.width=((I=t.width)!=null?I:200)-10;let{shapeSvg:d,bbox:p,label:g}=yield rr(e,t,Xt(t)),f=t.padding||10,m="",x;"ticket"in t&&t.ticket&&((R=r==null?void 0:r.kanban)!=null&&R.ticketBaseUrl)&&(m=(P=r==null?void 0:r.kanban)==null?void 0:P.ticketBaseUrl.replace("#TICKET#",t.ticket),x=d.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));let T={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1},k,E;x?{label:k,bbox:E}=yield N6(x,"ticket"in t&&t.ticket||"",T):{label:k,bbox:E}=yield N6(d,"ticket"in t&&t.ticket||"",T);let{label:S,bbox:L}=yield N6(d,"assigned"in t&&t.assigned||"",T);t.width=h;let b=10,y=(t==null?void 0:t.width)||0,v=Math.max(E.height,L.height)/2,w=Math.max(p.height+b*2,(t==null?void 0:t.height)||0)+v,C=-y/2,A=-w/2;g.attr("transform","translate("+(f-y/2)+", "+(-v-p.height/2)+")"),k.attr("transform","translate("+(f-y/2)+", "+(-v+p.height/2)+")"),S.attr("transform","translate("+(f+y/2-L.width-2*u)+", "+(-v+p.height/2)+")");let M,{rx:N,ry:O}=t,{cssStyles:_}=t;if(t.look==="handDrawn"){let D=Rt.svg(d),$=Pt(t,{}),F=N||O?D.path(vc(C,A,y,w,N||0),$):D.rectangle(C,A,y,w,$);M=d.insert(()=>F,":first-child"),M.attr("class","basic label-container").attr("style",_||null)}else{M=d.insert("rect",":first-child"),M.attr("class","basic label-container __APA__").attr("style",o).attr("rx",N!=null?N:5).attr("ry",O!=null?O:5).attr("x",C).attr("y",A).attr("width",y).attr("height",w);let D="priority"in t&&t.priority;if(D){let $=d.append("line"),F=C+2,z=A+Math.floor((N!=null?N:0)/2),U=A+w-Math.floor((N!=null?N:0)/2);$.attr("x1",F).attr("y1",z).attr("x2",F).attr("y2",U).attr("stroke-width","4").attr("stroke",Jde(D))}}return Ot(t,M),t.height=w,t.intersect=function(D){return Ct.rect(t,D)},d})}var Jde,JWe=B(()=>{"use strict";Mt(),Bt(),jg(),Dt(),zt(),Jde=l(e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority"),l(Qde,"kanbanItem")});function e0e(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=yield rr(e,t,Xt(t)),u=a.width+10*s,h=a.height+8*s,d=.15*u,{cssStyles:p}=t,g=a.width+20,f=a.height+20,m=Math.max(u,g),x=Math.max(h,f);o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`);let T,k=`M0 0 
    a${d},${d} 1 0,0 ${m*.25},${-1*x*.1}
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},0
    a${d},${d} 1 0,0 ${m*.25},${x*.1}

    a${d},${d} 1 0,0 ${m*.15},${x*.33}
    a${d*.8},${d*.8} 1 0,0 0,${x*.34}
    a${d},${d} 1 0,0 ${-1*m*.15},${x*.33}

    a${d},${d} 1 0,0 ${-1*m*.25},${x*.15}
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},0
    a${d},${d} 1 0,0 ${-1*m*.25},${-1*x*.15}

    a${d},${d} 1 0,0 ${-1*m*.1},${-1*x*.33}
    a${d*.8},${d*.8} 1 0,0 0,${-1*x*.34}
    a${d},${d} 1 0,0 ${m*.1},${-1*x*.33}
  H0 V0 Z`;if(t.look==="handDrawn"){let E=Rt.svg(n),S=Pt(t,{}),L=E.path(k,S);T=n.insert(()=>L,":first-child"),T.attr("class","basic label-container").attr("style",ia(p))}else T=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",k);return T.attr("transform",`translate(${-m/2}, ${-x/2})`),Ot(t,T),t.calcIntersect=function(E,S){return Ct.rect(E,S)},t.intersect=function(E){return ae.info("Bang intersect",t,E),Ct.rect(t,E)},n})}var eXe=B(()=>{"use strict";lt(),Mt(),Bt(),Dt(),zt(),Jt(),l(e0e,"bang")});function t0e(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=yield rr(e,t,Xt(t)),u=a.width+2*s,h=a.height+2*s,d=.15*u,p=.25*u,g=.35*u,f=.2*u,{cssStyles:m}=t,x,T=`M0 0 
    a${d},${d} 0 0,1 ${u*.25},${-1*u*.1}
    a${g},${g} 1 0,1 ${u*.4},${-1*u*.1}
    a${p},${p} 1 0,1 ${u*.35},${u*.2}

    a${d},${d} 1 0,1 ${u*.15},${h*.35}
    a${f},${f} 1 0,1 ${-1*u*.15},${h*.65}

    a${p},${d} 1 0,1 ${-1*u*.25},${u*.15}
    a${g},${g} 1 0,1 ${-1*u*.5},0
    a${d},${d} 1 0,1 ${-1*u*.25},${-1*u*.15}

    a${d},${d} 1 0,1 ${-1*u*.1},${-1*h*.35}
    a${f},${f} 1 0,1 ${u*.1},${-1*h*.65}
  H0 V0 Z`;if(t.look==="handDrawn"){let k=Rt.svg(n),E=Pt(t,{}),S=k.path(T,E);x=n.insert(()=>S,":first-child"),x.attr("class","basic label-container").attr("style",ia(m))}else x=n.insert("path",":first-child").attr("class","basic label-container").attr("style",i).attr("d",T);return o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),x.attr("transform",`translate(${-u/2}, ${-h/2})`),Ot(t,x),t.calcIntersect=function(k,E){return Ct.rect(k,E)},t.intersect=function(k){return ae.info("Cloud intersect",t,k),Ct.rect(t,k)},n})}var tXe=B(()=>{"use strict";zt(),lt(),Jt(),Bt(),Dt(),Mt(),l(t0e,"cloud")});function r0e(e,t){return xe(this,null,function*(){let{labelStyles:r,nodeStyles:i}=At(t);t.labelStyle=r;let{shapeSvg:n,bbox:a,halfPadding:s,label:o}=yield rr(e,t,Xt(t)),u=a.width+8*s,h=a.height+2*s,d=5,p=`
    M${-u/2} ${h/2-d}
    v${-h+2*d}
    q0,-${d} ${d},-${d}
    h${u-2*d}
    q${d},0 ${d},${d}
    v${h-2*d}
    q0,${d} -${d},${d}
    h${-u+2*d}
    q-${d},0 -${d},-${d}
    Z
  `,g=n.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("style",i).attr("d",p);return n.append("line").attr("class","node-line-").attr("x1",-u/2).attr("y1",h/2).attr("x2",u/2).attr("y2",h/2),o.attr("transform",`translate(${-a.width/2}, ${-a.height/2})`),n.append(()=>o.node()),Ot(t,g),t.calcIntersect=function(f,m){return Ct.rect(f,m)},t.intersect=function(f){return Ct.rect(t,f)},n})}var rXe=B(()=>{"use strict";Bt(),Dt(),Mt(),l(r0e,"defaultMindmapNode")});function i0e(e,t){return xe(this,null,function*(){var i;let r={padding:(i=t.padding)!=null?i:0};return MN(e,t,r)})}var iXe=B(()=>{"use strict";Bhe(),l(i0e,"mindmapCircle")});function n0e(e){return e in RN}var a0e,s0e,RN,o0e=B(()=>{"use strict";WYe(),XYe(),KYe(),ZYe(),Bhe(),QYe(),JYe(),eWe(),tWe(),rWe(),iWe(),nWe(),aWe(),sWe(),oWe(),lWe(),cWe(),uWe(),hWe(),dWe(),pWe(),gWe(),fWe(),mWe(),yWe(),vWe(),bWe(),xWe(),wWe(),kWe(),TWe(),EWe(),CWe(),SWe(),_We(),AWe(),LWe(),NWe(),MWe(),IWe(),DWe(),RWe(),OWe(),PWe(),BWe(),$We(),FWe(),zWe(),GWe(),UWe(),qWe(),jWe(),HWe(),VWe(),YWe(),WWe(),XWe(),ZWe(),QWe(),JWe(),eXe(),tXe(),rXe(),iXe(),a0e=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Nde},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:_de},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Mde},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Ode},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:jhe},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:MN},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:e0e},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:t0e},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:xde},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:ede},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:ude},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:cde},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:qde},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:ode},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:Xhe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:$de},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Ohe},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:Ade},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Rde},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Dde},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:Qhe},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:tde},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:zhe},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:Ghe},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Uhe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:hde},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:Vde},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:Jhe},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:Fde},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:dde},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:qhe},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:Whe},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:Hde},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:Wde},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:Khe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:jde},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:Zhe},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Lde},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:vde},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:yde},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:Rhe},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:Fhe},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:Bde},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Pde},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:Yde},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:kde},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:mde}],s0e=l(()=>{let e=[...Object.entries({state:Ide,choice:Phe,note:bde,rectWithTitle:Sde,labelRect:lde,iconSquare:ade,iconCircle:ide,icon:rde,iconRounded:nde,imageSquare:sde,anchor:Dhe,kanbanItem:Qde,mindmapCircle:i0e,defaultMindmapNode:r0e,classBox:Kde,erBox:DN,requirementBox:Zde}),...a0e.flatMap(t=>[t.shortName,..."aliases"in t?t.aliases:[],..."internalAliases"in t?t.internalAliases:[]].map(r=>[r,t.handler]))];return Object.fromEntries(e)},"generateShapeMap"),RN=s0e(),l(n0e,"isValidShape")}),l0e,c0e,nXe=B(()=>{"use strict";var e;gr(),m6(),qt(),lt(),o0e(),Jt(),dr(),Fi(),l0e="flowchart-",c0e=(e=class{constructor(){this.vertexCounter=0,this.config=Ce(),this.vertices=new Map,this.edges=[],this.classes=new Map,this.subGraphs=[],this.subGraphLookup=new Map,this.tooltips=new Map,this.subCount=0,this.firstGraphFlag=!0,this.secCount=-1,this.posCrossRef=[],this.funs=[],this.setAccTitle=Bi,this.setAccDescription=Xi,this.setDiagramTitle=gn,this.getAccTitle=Wi,this.getAccDescription=Ki,this.getDiagramTitle=$i,this.funs.push(this.setupToolTips.bind(this)),this.addVertex=this.addVertex.bind(this),this.firstGraph=this.firstGraph.bind(this),this.setDirection=this.setDirection.bind(this),this.addSubGraph=this.addSubGraph.bind(this),this.addLink=this.addLink.bind(this),this.setLink=this.setLink.bind(this),this.updateLink=this.updateLink.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.destructLink=this.destructLink.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setTooltip=this.setTooltip.bind(this),this.updateLinkInterpolate=this.updateLinkInterpolate.bind(this),this.setClickFun=this.setClickFun.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.lex={firstGraph:this.firstGraph.bind(this)},this.clear(),this.setGen("gen-2")}sanitizeText(r){return at.sanitizeText(r,this.config)}lookUpDomId(r){for(let i of this.vertices.values())if(i.id===r)return i.domId;return r}addVertex(r,i,n,a,s,o,u={},h){var m,x;if(!r||r.trim().length===0)return;let d;if(h!==void 0){let T;h.includes(`
`)?T=h+`
`:T=`{
`+h+`
}`,d=t2(T,{schema:e2})}let p=this.edges.find(T=>T.id===r);if(p){let T=d;(T==null?void 0:T.animate)!==void 0&&(p.animate=T.animate),(T==null?void 0:T.animation)!==void 0&&(p.animation=T.animation),(T==null?void 0:T.curve)!==void 0&&(p.interpolate=T.curve);return}let g,f=this.vertices.get(r);if(f===void 0&&(f={id:r,labelType:"text",domId:l0e+r+"-"+this.vertexCounter,styles:[],classes:[]},this.vertices.set(r,f)),this.vertexCounter++,i!==void 0?(this.config=Ce(),g=this.sanitizeText(i.text.trim()),f.labelType=i.type,g.startsWith('"')&&g.endsWith('"')&&(g=g.substring(1,g.length-1)),f.text=g):f.text===void 0&&(f.text=r),n!==void 0&&(f.type=n),a==null||a.forEach(T=>{f.styles.push(T)}),s==null||s.forEach(T=>{f.classes.push(T)}),o!==void 0&&(f.dir=o),f.props===void 0?f.props=u:u!==void 0&&Object.assign(f.props,u),d!==void 0){if(d.shape){if(d.shape!==d.shape.toLowerCase()||d.shape.includes("_"))throw new Error(`No such shape: ${d.shape}. Shape names should be lowercase.`);if(!n0e(d.shape))throw new Error(`No such shape: ${d.shape}.`);f.type=d==null?void 0:d.shape}d!=null&&d.label&&(f.text=d==null?void 0:d.label),d!=null&&d.icon&&(f.icon=d==null?void 0:d.icon,!((m=d.label)!=null&&m.trim())&&f.text===r&&(f.text="")),d!=null&&d.form&&(f.form=d==null?void 0:d.form),d!=null&&d.pos&&(f.pos=d==null?void 0:d.pos),d!=null&&d.img&&(f.img=d==null?void 0:d.img,!((x=d.label)!=null&&x.trim())&&f.text===r&&(f.text="")),d!=null&&d.constraint&&(f.constraint=d.constraint),d.w&&(f.assetWidth=Number(d.w)),d.h&&(f.assetHeight=Number(d.h))}}addSingleLink(r,i,n,a){var u;let s={start:r,end:i,type:void 0,text:"",labelType:"text",classes:[],isUserDefinedId:!1,interpolate:this.edges.defaultInterpolate};ae.info("abc78 Got edge...",s);let o=n.text;if(o!==void 0&&(s.text=this.sanitizeText(o.text.trim()),s.text.startsWith('"')&&s.text.endsWith('"')&&(s.text=s.text.substring(1,s.text.length-1)),s.labelType=o.type),n!==void 0&&(s.type=n.type,s.stroke=n.stroke,s.length=n.length>10?10:n.length),a&&!this.edges.some(h=>h.id===a))s.id=a,s.isUserDefinedId=!0;else{let h=this.edges.filter(d=>d.start===s.start&&d.end===s.end);h.length===0?s.id=md(s.start,s.end,{counter:0,prefix:"L"}):s.id=md(s.start,s.end,{counter:h.length+1,prefix:"L"})}if(this.edges.length<((u=this.config.maxEdges)!=null?u:500))ae.info("Pushing edge..."),this.edges.push(s);else throw new Error(`Edge limit exceeded. ${this.edges.length} edges found, but the limit is ${this.config.maxEdges}.

Initialize mermaid with maxEdges set to a higher number to allow more edges.
You cannot set this config via configuration inside the diagram as it is a secure config.
You have to call mermaid.initialize.`)}isLinkData(r){return r!==null&&typeof r=="object"&&"id"in r&&typeof r.id=="string"}addLink(r,i,n){let a=this.isLinkData(n)?n.id.replace("@",""):void 0;ae.info("addLink",r,i,a);for(let s of r)for(let o of i){let u=s===r[r.length-1],h=o===i[0];u&&h?this.addSingleLink(s,o,n,a):this.addSingleLink(s,o,n,void 0)}}updateLinkInterpolate(r,i){r.forEach(n=>{n==="default"?this.edges.defaultInterpolate=i:this.edges[n].interpolate=i})}updateLink(r,i){r.forEach(n=>{var a,s,o,u,h,d,p;if(typeof n=="number"&&n>=this.edges.length)throw new Error(`The index ${n} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${this.edges.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);n==="default"?this.edges.defaultStyle=i:(this.edges[n].style=i,((o=(s=(a=this.edges[n])==null?void 0:a.style)==null?void 0:s.length)!=null?o:0)>0&&!((h=(u=this.edges[n])==null?void 0:u.style)!=null&&h.some(g=>g==null?void 0:g.startsWith("fill")))&&((p=(d=this.edges[n])==null?void 0:d.style)==null||p.push("fill:none")))})}addClass(r,i){let n=i.join().replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");r.split(",").forEach(a=>{let s=this.classes.get(a);s===void 0&&(s={id:a,styles:[],textStyles:[]},this.classes.set(a,s)),n==null||n.forEach(o=>{if(/color/.exec(o)){let u=o.replace("fill","bgFill");s.textStyles.push(u)}s.styles.push(o)})})}setDirection(r){this.direction=r.trim(),/.*</.exec(this.direction)&&(this.direction="RL"),/.*\^/.exec(this.direction)&&(this.direction="BT"),/.*>/.exec(this.direction)&&(this.direction="LR"),/.*v/.exec(this.direction)&&(this.direction="TB"),this.direction==="TD"&&(this.direction="TB")}setClass(r,i){for(let n of r.split(",")){let a=this.vertices.get(n);a&&a.classes.push(i);let s=this.edges.find(u=>u.id===n);s&&s.classes.push(i);let o=this.subGraphLookup.get(n);o&&o.classes.push(i)}}setTooltip(r,i){if(i!==void 0){i=this.sanitizeText(i);for(let n of r.split(","))this.tooltips.set(this.version==="gen-1"?this.lookUpDomId(n):n,i)}}setClickFun(r,i,n){let a=this.lookUpDomId(r);if(Ce().securityLevel!=="loose"||i===void 0)return;let s=[];if(typeof n=="string"){s=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let u=0;u<s.length;u++){let h=s[u].trim();h.startsWith('"')&&h.endsWith('"')&&(h=h.substr(1,h.length-2)),s[u]=h}}s.length===0&&s.push(r);let o=this.vertices.get(r);o&&(o.haveCallback=!0,this.funs.push(()=>{let u=document.querySelector(`[id="${a}"]`);u!==null&&u.addEventListener("click",()=>{cr.runFunc(i,...s)},!1)}))}setLink(r,i,n){r.split(",").forEach(a=>{let s=this.vertices.get(a);s!==void 0&&(s.link=cr.formatUrl(i,this.config),s.linkTarget=n)}),this.setClass(r,"clickable")}getTooltip(r){return this.tooltips.get(r)}setClickEvent(r,i,n){r.split(",").forEach(a=>{this.setClickFun(a,i,n)}),this.setClass(r,"clickable")}bindFunctions(r){this.funs.forEach(i=>{i(r)})}getDirection(){var r;return(r=this.direction)==null?void 0:r.trim()}getVertices(){return this.vertices}getEdges(){return this.edges}getClasses(){return this.classes}setupToolTips(r){let i=Ze(".mermaidTooltip");(i._groups||i)[0][0]===null&&(i=Ze("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ze(r).select("svg").selectAll("g.node").on("mouseover",n=>{var o;let a=Ze(n.currentTarget);if(a.attr("title")===null)return;let s=(o=n.currentTarget)==null?void 0:o.getBoundingClientRect();i.transition().duration(200).style("opacity",".9"),i.text(a.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.bottom+"px"),i.html(i.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",n=>{i.transition().duration(500).style("opacity",0),Ze(n.currentTarget).classed("hover",!1)})}clear(r="gen-2"){this.vertices=new Map,this.classes=new Map,this.edges=[],this.funs=[this.setupToolTips.bind(this)],this.subGraphs=[],this.subGraphLookup=new Map,this.subCount=0,this.tooltips=new Map,this.firstGraphFlag=!0,this.version=r,this.config=Ce(),Pi()}setGen(r){this.version=r||"gen-2"}defaultStyle(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}addSubGraph(r,i,n){var g,f,m;let a=r.text.trim(),s=n.text;r===n&&/\s/.exec(n.text)&&(a=void 0);let o=l(x=>{let T={boolean:{},number:{},string:{}},k=[],E;return{nodeList:x.filter(function(S){let L=typeof S;return S.stmt&&S.stmt==="dir"?(E=S.value,!1):S.trim()===""?!1:L in T?T[L].hasOwnProperty(S)?!1:T[L][S]=!0:k.includes(S)?!1:k.push(S)}),dir:E}},"uniq")(i.flat()),u=o.nodeList,h=o.dir,d=(g=Ce().flowchart)!=null?g:{};if(h=h!=null?h:d.inheritDir&&(m=(f=this.getDirection())!=null?f:Ce().direction)!=null?m:void 0,this.version==="gen-1")for(let x=0;x<u.length;x++)u[x]=this.lookUpDomId(u[x]);a=a!=null?a:"subGraph"+this.subCount,s=s||"",s=this.sanitizeText(s),this.subCount=this.subCount+1;let p={id:a,nodes:u,title:s.trim(),classes:[],dir:h,labelType:n.type};return ae.info("Adding",p.id,p.nodes,p.dir),p.nodes=this.makeUniq(p,this.subGraphs).nodes,this.subGraphs.push(p),this.subGraphLookup.set(a,p),a}getPosForId(r){for(let[i,n]of this.subGraphs.entries())if(n.id===r)return i;return-1}indexNodes2(r,i){let n=this.subGraphs[i].nodes;if(this.secCount=this.secCount+1,this.secCount>2e3)return{result:!1,count:0};if(this.posCrossRef[this.secCount]=i,this.subGraphs[i].id===r)return{result:!0,count:0};let a=0,s=1;for(;a<n.length;){let o=this.getPosForId(n[a]);if(o>=0){let u=this.indexNodes2(r,o);if(u.result)return{result:!0,count:s+u.count};s=s+u.count}a=a+1}return{result:!1,count:s}}getDepthFirstPos(r){return this.posCrossRef[r]}indexNodes(){this.secCount=-1,this.subGraphs.length>0&&this.indexNodes2("none",this.subGraphs.length-1)}getSubGraphs(){return this.subGraphs}firstGraph(){return this.firstGraphFlag?(this.firstGraphFlag=!1,!0):!1}destructStartLink(r){let i=r.trim(),n="arrow_open";switch(i[0]){case"<":n="arrow_point",i=i.slice(1);break;case"x":n="arrow_cross",i=i.slice(1);break;case"o":n="arrow_circle",i=i.slice(1);break}let a="normal";return i.includes("=")&&(a="thick"),i.includes(".")&&(a="dotted"),{type:n,stroke:a}}countChar(r,i){let n=i.length,a=0;for(let s=0;s<n;++s)i[s]===r&&++a;return a}destructEndLink(r){let i=r.trim(),n=i.slice(0,-1),a="arrow_open";switch(i.slice(-1)){case"x":a="arrow_cross",i.startsWith("x")&&(a="double_"+a,n=n.slice(1));break;case">":a="arrow_point",i.startsWith("<")&&(a="double_"+a,n=n.slice(1));break;case"o":a="arrow_circle",i.startsWith("o")&&(a="double_"+a,n=n.slice(1));break}let s="normal",o=n.length-1;n.startsWith("=")&&(s="thick"),n.startsWith("~")&&(s="invisible");let u=this.countChar(".",n);return u&&(s="dotted",o=u),{type:a,stroke:s,length:o}}destructLink(r,i){let n=this.destructEndLink(r),a;if(i){if(a=this.destructStartLink(i),a.stroke!==n.stroke)return{type:"INVALID",stroke:"INVALID"};if(a.type==="arrow_open")a.type=n.type;else{if(a.type!==n.type)return{type:"INVALID",stroke:"INVALID"};a.type="double_"+a.type}return a.type==="double_arrow"&&(a.type="double_arrow_point"),a.length=n.length,a}return n}exists(r,i){for(let n of r)if(n.nodes.includes(i))return!0;return!1}makeUniq(r,i){let n=[];return r.nodes.forEach((a,s)=>{this.exists(i,a)||n.push(r.nodes[s])}),{nodes:n}}getTypeFromVertex(r){if(r.img)return"imageSquare";if(r.icon)return r.form==="circle"?"iconCircle":r.form==="square"?"iconSquare":r.form==="rounded"?"iconRounded":"icon";switch(r.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return r.type}}findNode(r,i){return r.find(n=>n.id===i)}destructEdgeType(r){let i="none",n="arrow_point";switch(r){case"arrow_point":case"arrow_circle":case"arrow_cross":n=r;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":i=r.replace("double_",""),n=i;break}return{arrowTypeStart:i,arrowTypeEnd:n}}addNodeFromVertex(r,i,n,a,s,o){var p,g;let u=n.get(r.id),h=(p=a.get(r.id))!=null?p:!1,d=this.findNode(i,r.id);if(d)d.cssStyles=r.styles,d.cssCompiledStyles=this.getCompiledStyles(r.classes),d.cssClasses=r.classes.join(" ");else{let f={id:r.id,label:r.text,labelStyle:"",parentId:u,padding:((g=s.flowchart)==null?void 0:g.padding)||8,cssStyles:r.styles,cssCompiledStyles:this.getCompiledStyles(["default","node",...r.classes]),cssClasses:"default "+r.classes.join(" "),dir:r.dir,domId:r.domId,look:o,link:r.link,linkTarget:r.linkTarget,tooltip:this.getTooltip(r.id),icon:r.icon,pos:r.pos,img:r.img,assetWidth:r.assetWidth,assetHeight:r.assetHeight,constraint:r.constraint};h?i.push(hr(dt({},f),{isGroup:!0,shape:"rect"})):i.push(hr(dt({},f),{isGroup:!1,shape:this.getTypeFromVertex(r)}))}}getCompiledStyles(r){var n,a;let i=[];for(let s of r){let o=this.classes.get(s);o!=null&&o.styles&&(i=[...i,...(n=o.styles)!=null?n:[]].map(u=>u.trim())),o!=null&&o.textStyles&&(i=[...i,...(a=o.textStyles)!=null?a:[]].map(u=>u.trim()))}return i}getData(){let r=Ce(),i=[],n=[],a=this.getSubGraphs(),s=new Map,o=new Map;for(let h=a.length-1;h>=0;h--){let d=a[h];d.nodes.length>0&&o.set(d.id,!0);for(let p of d.nodes)s.set(p,d.id)}for(let h=a.length-1;h>=0;h--){let d=a[h];i.push({id:d.id,label:d.title,labelStyle:"",parentId:s.get(d.id),padding:8,cssCompiledStyles:this.getCompiledStyles(d.classes),cssClasses:d.classes.join(" "),shape:"rect",dir:d.dir,isGroup:!0,look:r.look})}this.getVertices().forEach(h=>{this.addNodeFromVertex(h,i,s,o,r,r.look||"classic")});let u=this.getEdges();return u.forEach((h,d)=>{var x,T,k;let{arrowTypeStart:p,arrowTypeEnd:g}=this.destructEdgeType(h.type),f=[...(x=u.defaultStyle)!=null?x:[]];h.style&&f.push(...h.style);let m={id:md(h.start,h.end,{counter:d,prefix:"L"},h.id),isUserDefinedId:h.isUserDefinedId,start:h.start,end:h.end,type:(T=h.type)!=null?T:"normal",label:h.text,labelpos:"c",thickness:h.stroke,minlen:h.length,classes:(h==null?void 0:h.stroke)==="invisible"?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:(h==null?void 0:h.stroke)==="invisible"||(h==null?void 0:h.type)==="arrow_open"?"none":p,arrowTypeEnd:(h==null?void 0:h.stroke)==="invisible"||(h==null?void 0:h.type)==="arrow_open"?"none":g,arrowheadStyle:"fill: #333",cssCompiledStyles:this.getCompiledStyles(h.classes),labelStyle:f,style:f,pattern:h.stroke,look:r.look,animate:h.animate,animation:h.animation,curve:h.interpolate||this.edges.defaultInterpolate||((k=r.flowchart)==null?void 0:k.curve)};n.push(m)}),{nodes:i,edges:n,other:{},config:r}}defaultConfig(){return IS.flowchart}},l(e,"FlowDB"),e)}),Sd,Vg=B(()=>{"use strict";gr(),Sd=l((e,t)=>{let r;return t==="sandbox"&&(r=Ze("#i"+e)),Ze(t==="sandbox"?r.nodes()[0].contentDocument.body:"body").select(`[id="${e}"]`)},"getDiagramElement")}),Yg,j6=B(()=>{"use strict";Yg=l(({flowchart:e})=>{var n,a,s,o;let t=(a=(n=e==null?void 0:e.subGraphTitleMargin)==null?void 0:n.top)!=null?a:0,r=(o=(s=e==null?void 0:e.subGraphTitleMargin)==null?void 0:s.bottom)!=null?o:0,i=t+r;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:i}},"getSubGraphTitleMargins")}),ON,u0e,h0e,d0e,p0e,g0e,f0e,PN,H6,m0e,BN=B(()=>{"use strict";qt(),dr(),lt(),j6(),gr(),zt(),wo(),phe(),IN(),jg(),Dt(),ON=l((e,t)=>xe(null,null,function*(){ae.info("Creating subgraph rect for ",t.id,t);let r=Ce(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=At(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=Hr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=yield Ha(f,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0}),x=m.getBBox();if(Hr(r.flowchart.htmlLabels)){let v=m.children[0],w=Ze(m);x=v.getBoundingClientRect(),w.attr("width",x.width),w.attr("height",x.height)}let T=t.width<=x.width+t.padding?x.width+t.padding:t.width;t.width<=x.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;let k=t.height,E=t.x-T/2,S=t.y-k/2;ae.trace("Data ",t,JSON.stringify(t));let L;if(t.look==="handDrawn"){let v=Rt.svg(p),w=Pt(t,{roughness:.7,fill:a,stroke:s,fillWeight:3,seed:n}),C=v.path(vc(E,S,T,k,0),w);L=p.insert(()=>(ae.debug("Rough node insert CXC",C),C),":first-child"),L.select("path:nth-child(2)").attr("style",h.join(";")),L.select("path").attr("style",d.join(";").replace("fill","stroke"))}else L=p.insert("rect",":first-child"),L.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",S).attr("width",T).attr("height",k);let{subGraphTitleTopMargin:b}=Yg(r);if(f.attr("transform",`translate(${t.x-x.width/2}, ${t.y-t.height/2+b})`),o){let v=f.select("span");v&&v.attr("style",o)}let y=L.node().getBBox();return t.offsetX=0,t.width=y.width,t.height=y.height,t.offsetY=x.height-t.padding/2,t.intersect=function(v){return kd(t,v)},{cluster:p,labelBBox:x}}),"rect"),u0e=l((e,t)=>{let r=e.insert("g").attr("class","note-cluster").attr("id",t.id),i=r.insert("rect",":first-child"),n=0*t.padding,a=n/2;i.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+n).attr("height",t.height+n).attr("fill","none");let s=i.node().getBBox();return t.width=s.width,t.height=s.height,t.intersect=function(o){return kd(t,o)},{cluster:r,labelBBox:{width:0,height:0}}},"noteGroup"),h0e=l((e,t)=>xe(null,null,function*(){let r=Ce(),{themeVariables:i,handDrawnSeed:n}=r,{altBackground:a,compositeBackground:s,compositeTitleBackground:o,nodeBorder:u}=i,h=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),d=h.insert("g",":first-child"),p=h.insert("g").attr("class","cluster-label"),g=h.append("rect"),f=p.node().appendChild(yield Vu(t.label,t.labelStyle,void 0,!0)),m=f.getBBox();if(Hr(r.flowchart.htmlLabels)){let C=f.children[0],A=Ze(f);m=C.getBoundingClientRect(),A.attr("width",m.width),A.attr("height",m.height)}let x=0*t.padding,T=x/2,k=(t.width<=m.width+t.padding?m.width+t.padding:t.width)+x;t.width<=m.width+t.padding?t.diff=(k-t.width)/2-t.padding:t.diff=-t.padding;let E=t.height+x,S=t.height+x-m.height-6,L=t.x-k/2,b=t.y-E/2;t.width=k;let y=t.y-t.height/2-T+m.height+2,v;if(t.look==="handDrawn"){let C=t.cssClasses.includes("statediagram-cluster-alt"),A=Rt.svg(h),M=t.rx||t.ry?A.path(vc(L,b,k,E,10),{roughness:.7,fill:o,fillStyle:"solid",stroke:u,seed:n}):A.rectangle(L,b,k,E,{seed:n});v=h.insert(()=>M,":first-child");let N=A.rectangle(L,y,k,S,{fill:C?a:s,fillStyle:C?"hachure":"solid",stroke:u,seed:n});v=h.insert(()=>M,":first-child"),g=h.insert(()=>N)}else v=d.insert("rect",":first-child"),v.attr("class","outer").attr("x",L).attr("y",b).attr("width",k).attr("height",E).attr("data-look",t.look),g.attr("class","inner").attr("x",L).attr("y",y).attr("width",k).attr("height",S);p.attr("transform",`translate(${t.x-m.width/2}, ${b+1-(Hr(r.flowchart.htmlLabels)?0:3)})`);let w=v.node().getBBox();return t.height=w.height,t.offsetX=0,t.offsetY=m.height-t.padding/2,t.labelBBox=m,t.intersect=function(C){return kd(t,C)},{cluster:h,labelBBox:m}}),"roundedWithTitle"),d0e=l((e,t)=>xe(null,null,function*(){ae.info("Creating subgraph rect for ",t.id,t);let r=Ce(),{themeVariables:i,handDrawnSeed:n}=r,{clusterBkg:a,clusterBorder:s}=i,{labelStyles:o,nodeStyles:u,borderStyles:h,backgroundStyles:d}=At(t),p=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),g=Hr(r.flowchart.htmlLabels),f=p.insert("g").attr("class","cluster-label "),m=yield Ha(f,t.label,{style:t.labelStyle,useHtmlLabels:g,isNode:!0,width:t.width}),x=m.getBBox();if(Hr(r.flowchart.htmlLabels)){let v=m.children[0],w=Ze(m);x=v.getBoundingClientRect(),w.attr("width",x.width),w.attr("height",x.height)}let T=t.width<=x.width+t.padding?x.width+t.padding:t.width;t.width<=x.width+t.padding?t.diff=(T-t.width)/2-t.padding:t.diff=-t.padding;let k=t.height,E=t.x-T/2,S=t.y-k/2;ae.trace("Data ",t,JSON.stringify(t));let L;if(t.look==="handDrawn"){let v=Rt.svg(p),w=Pt(t,{roughness:.7,fill:a,stroke:s,fillWeight:4,seed:n}),C=v.path(vc(E,S,T,k,t.rx),w);L=p.insert(()=>(ae.debug("Rough node insert CXC",C),C),":first-child"),L.select("path:nth-child(2)").attr("style",h.join(";")),L.select("path").attr("style",d.join(";").replace("fill","stroke"))}else L=p.insert("rect",":first-child"),L.attr("style",u).attr("rx",t.rx).attr("ry",t.ry).attr("x",E).attr("y",S).attr("width",T).attr("height",k);let{subGraphTitleTopMargin:b}=Yg(r);if(f.attr("transform",`translate(${t.x-x.width/2}, ${t.y-t.height/2+b})`),o){let v=f.select("span");v&&v.attr("style",o)}let y=L.node().getBBox();return t.offsetX=0,t.width=y.width,t.height=y.height,t.offsetY=x.height-t.padding/2,t.intersect=function(v){return kd(t,v)},{cluster:p,labelBBox:x}}),"kanbanSection"),p0e=l((e,t)=>{let r=Ce(),{themeVariables:i,handDrawnSeed:n}=r,{nodeBorder:a}=i,s=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),o=s.insert("g",":first-child"),u=0*t.padding,h=t.width+u;t.diff=-t.padding;let d=t.height+u,p=t.x-h/2,g=t.y-d/2;t.width=h;let f;if(t.look==="handDrawn"){let x=Rt.svg(s).rectangle(p,g,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:n});f=s.insert(()=>x,":first-child")}else f=o.insert("rect",":first-child"),f.attr("class","divider").attr("x",p).attr("y",g).attr("width",h).attr("height",d).attr("data-look",t.look);let m=f.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(x){return kd(t,x)},{cluster:s,labelBBox:{}}},"divider"),g0e=ON,f0e={rect:ON,squareRect:g0e,roundedWithTitle:h0e,noteGroup:u0e,divider:p0e,kanbanSection:d0e},PN=new Map,H6=l((e,t)=>xe(null,null,function*(){let r=t.shape||"rect",i=yield f0e[r](e,t);return PN.set(t.id,i),i}),"insertCluster"),m0e=l(()=>{PN=new Map},"clear")});function w2(e,t){if(e===void 0||t===void 0)return{angle:0,deltaX:0,deltaY:0};e=hi(e),t=hi(t);let[r,i]=[e.x,e.y],[n,a]=[t.x,t.y],s=n-r,o=a-i;return{angle:Math.atan(o/s),deltaX:s,deltaY:o}}var Un,$N,hi,FN,y0e=B(()=>{"use strict";Un={aggregation:17.25,extension:17.25,composition:17.25,dependency:6,lollipop:13.5,arrow_point:4},$N={arrow_point:9,arrow_cross:12.5,arrow_circle:12.5},l(w2,"calculateDeltaAndAngle"),hi=l(e=>Array.isArray(e)?{x:e[0],y:e[1]}:e,"pointTransformer"),FN=l(e=>({x:l(function(t,r,i){let n=0,a=hi(i[0]).x<hi(i[i.length-1]).x?"left":"right";if(r===0&&Object.hasOwn(Un,e.arrowTypeStart)){let{angle:f,deltaX:m}=w2(i[0],i[1]);n=Un[e.arrowTypeStart]*Math.cos(f)*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Un,e.arrowTypeEnd)){let{angle:f,deltaX:m}=w2(i[i.length-1],i[i.length-2]);n=Un[e.arrowTypeEnd]*Math.cos(f)*(m>=0?1:-1)}let s=Math.abs(hi(t).x-hi(i[i.length-1]).x),o=Math.abs(hi(t).y-hi(i[i.length-1]).y),u=Math.abs(hi(t).x-hi(i[0]).x),h=Math.abs(hi(t).y-hi(i[0]).y),d=Un[e.arrowTypeStart],p=Un[e.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="right"?-1:1,n-=f}if(u<d&&u>0&&h<d){let f=d+g-u;f*=a==="right"?-1:1,n+=f}return hi(t).x+n},"x"),y:l(function(t,r,i){let n=0,a=hi(i[0]).y<hi(i[i.length-1]).y?"down":"up";if(r===0&&Object.hasOwn(Un,e.arrowTypeStart)){let{angle:f,deltaY:m}=w2(i[0],i[1]);n=Un[e.arrowTypeStart]*Math.abs(Math.sin(f))*(m>=0?1:-1)}else if(r===i.length-1&&Object.hasOwn(Un,e.arrowTypeEnd)){let{angle:f,deltaY:m}=w2(i[i.length-1],i[i.length-2]);n=Un[e.arrowTypeEnd]*Math.abs(Math.sin(f))*(m>=0?1:-1)}let s=Math.abs(hi(t).y-hi(i[i.length-1]).y),o=Math.abs(hi(t).x-hi(i[i.length-1]).x),u=Math.abs(hi(t).y-hi(i[0]).y),h=Math.abs(hi(t).x-hi(i[0]).x),d=Un[e.arrowTypeStart],p=Un[e.arrowTypeEnd],g=1;if(s<p&&s>0&&o<p){let f=p+g-s;f*=a==="up"?-1:1,n-=f}if(u<d&&u>0&&h<d){let f=d+g-u;f*=a==="up"?-1:1,n+=f}return hi(t).y+n},"y")}),"getLineFunctionsWithOffset")}),v0e,b0e,zN,aXe=B(()=>{"use strict";lt(),v0e=l((e,t,r,i,n,a)=>{t.arrowTypeStart&&zN(e,"start",t.arrowTypeStart,r,i,n,a),t.arrowTypeEnd&&zN(e,"end",t.arrowTypeEnd,r,i,n,a)},"addEdgeMarkers"),b0e={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},zN=l((e,t,r,i,n,a,s)=>{var d;let o=b0e[r];if(!o){ae.warn(`Unknown arrow type: ${r}`);return}let u=o.type,h=`${n}_${a}-${u}${t==="start"?"Start":"End"}`;if(s&&s.trim()!==""){let p=s.replace(/[^\dA-Za-z]/g,"_"),g=`${h}_${p}`;if(!document.getElementById(g)){let f=document.getElementById(h);if(f){let m=f.cloneNode(!0);m.id=g,m.querySelectorAll("path, circle, line").forEach(x=>{x.setAttribute("stroke",s),o.fill&&x.setAttribute("fill",s)}),(d=f.parentNode)==null||d.appendChild(m)}}e.attr(`marker-${t}`,`url(${i}#${g})`)}else e.attr(`marker-${t}`,`url(${i}#${h})`)},"addEdgeMarker")});function k2(e,t){Ce().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}function x0e(e){let t=[],r=[];for(let i=1;i<e.length-1;i++){let n=e[i-1],a=e[i],s=e[i+1];(n.x===a.x&&a.y===s.y&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-n.y)>5||n.y===a.y&&a.x===s.x&&Math.abs(a.x-n.x)>5&&Math.abs(a.y-s.y)>5)&&(t.push(a),r.push(i))}return{cornerPoints:t,cornerPointPositions:r}}function w0e(e,t){if(e.length<2)return"";let r="",i=e.length,n=1e-5;for(let a=0;a<i;a++){let s=e[a],o=e[a-1],u=e[a+1];if(a===0)r+=`M${s.x},${s.y}`;else if(a===i-1)r+=`L${s.x},${s.y}`;else{let h=s.x-o.x,d=s.y-o.y,p=u.x-s.x,g=u.y-s.y,f=Math.hypot(h,d),m=Math.hypot(p,g);if(f<n||m<n){r+=`L${s.x},${s.y}`;continue}let x=h/f,T=d/f,k=p/m,E=g/m,S=x*k+T*E,L=Math.max(-1,Math.min(1,S)),b=Math.acos(L);if(b<n||Math.abs(Math.PI-b)<n){r+=`L${s.x},${s.y}`;continue}let y=Math.min(t/Math.sin(b/2),f/2,m/2),v=s.x-x*y,w=s.y-T*y,C=s.x+k*y,A=s.y+E*y;r+=`L${v},${w}`,r+=`Q${s.x},${s.y} ${C},${A}`}}return r}function GN(e,t){if(!e||!t)return{angle:0,deltaX:0,deltaY:0};let r=t.x-e.x,i=t.y-e.y;return{angle:Math.atan2(i,r),deltaX:r,deltaY:i}}function k0e(e,t){let r=e.map(n=>dt({},n));if(e.length>=2&&Un[t.arrowTypeStart]){let n=Un[t.arrowTypeStart],a=e[0],s=e[1],{angle:o}=GN(a,s),u=n*Math.cos(o),h=n*Math.sin(o);r[0].x=a.x+u,r[0].y=a.y+h}let i=e.length;if(i>=2&&Un[t.arrowTypeEnd]){let n=Un[t.arrowTypeEnd],a=e[i-1],s=e[i-2],{angle:o}=GN(s,a),u=n*Math.cos(o),h=n*Math.sin(o);r[i-1].x=a.x-u,r[i-1].y=a.y-h}return r}var T2,Tn,T0e,E2,UN,qN,E0e,C0e,jN,HN,S0e,_0e,VN,A0e=B(()=>{"use strict";qt(),dr(),lt(),wo(),Jt(),y0e(),j6(),gr(),zt(),IN(),aXe(),Dt(),T2=new Map,Tn=new Map,T0e=l(()=>{T2.clear(),Tn.clear()},"clear"),E2=l(e=>e?e.reduce((t,r)=>t+";"+r,""):"","getLabelStyles"),UN=l((e,t)=>xe(null,null,function*(){let r=Hr(Ce().flowchart.htmlLabels),{labelStyles:i}=At(t);t.labelStyle=i;let n=yield Ha(e,t.label,{style:t.labelStyle,useHtmlLabels:r,addSvgBackground:!0,isNode:!1});ae.info("abc82",t,t.labelType);let a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label").attr("data-id",t.id);s.node().appendChild(n);let o=n.getBBox();if(r){let h=n.children[0],d=Ze(n);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),T2.set(t.id,a),t.width=o.width,t.height=o.height;let u;if(t.startLabelLeft){let h=yield Vu(t.startLabelLeft,E2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Tn.get(t.id)||Tn.set(t.id,{}),Tn.get(t.id).startLeft=d,k2(u,t.startLabelLeft)}if(t.startLabelRight){let h=yield Vu(t.startLabelRight,E2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Tn.get(t.id)||Tn.set(t.id,{}),Tn.get(t.id).startRight=d,k2(u,t.startLabelRight)}if(t.endLabelLeft){let h=yield Vu(t.endLabelLeft,E2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Tn.get(t.id)||Tn.set(t.id,{}),Tn.get(t.id).endLeft=d,k2(u,t.endLabelLeft)}if(t.endLabelRight){let h=yield Vu(t.endLabelRight,E2(t.labelStyle)),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Tn.get(t.id)||Tn.set(t.id,{}),Tn.get(t.id).endRight=d,k2(u,t.endLabelRight)}return n}),"insertEdgeLabel"),l(k2,"setTerminalWidth"),qN=l((e,t)=>{ae.debug("Moving label abc88 ",e.id,e.label,T2.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath,i=Ce(),{subGraphTitleTotalMargin:n}=Yg(i);if(e.label){let a=T2.get(e.id),s=e.x,o=e.y;if(r){let u=cr.calcLabelPosition(r);ae.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(e.startLabelLeft){let a=Tn.get(e.id).startLeft,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){let a=Tn.get(e.id).startRight,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){let a=Tn.get(e.id).endLeft,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){let a=Tn.get(e.id).endRight,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),E0e=l((e,t)=>{let r=e.x,i=e.y,n=Math.abs(t.x-r),a=Math.abs(t.y-i),s=e.width/2,o=e.height/2;return n>=s||a>=o},"outsideNode"),C0e=l((e,t,r)=>{ae.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let i=e.x,n=e.y,a=Math.abs(i-r.x),s=e.width/2,o=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*s>Math.abs(i-t.x)*u){let p=r.y<t.y?t.y-u-n:n-u-t.y;o=d*p/h;let g={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),h===0&&(g.y=t.y),ae.debug(`abc89 top/bottom calc, Q ${h}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<t.x?o=t.x-s-i:o=i-s-t.x;let p=h*o/d,g=r.x<t.x?r.x+d-o:r.x-d+o,f=r.y<t.y?r.y+p:r.y-p;return ae.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=t.x,f=t.y),d===0&&(g=t.x),h===0&&(f=t.y),{x:g,y:f}}},"intersection"),jN=l((e,t)=>{ae.warn("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(a=>{if(ae.info("abc88 checking point",a,t),!E0e(t,a)&&!n){let s=C0e(t,i,a);ae.debug("abc88 inside",a,i,s),ae.debug("abc88 intersection",s,t);let o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)?ae.warn("abc88 no intersect",s,r):r.push(s),n=!0}else ae.warn("abc88 outside",a,i),i=a,n||r.push(a)}),ae.debug("returning points",r),r},"cutPathAtIntersect"),l(x0e,"extractCornerPoints"),HN=l(function(e,t,r){let i=t.x-e.x,n=t.y-e.y,a=Math.sqrt(i*i+n*n),s=r/a;return{x:t.x-s*i,y:t.y-s*n}},"findAdjacentPoint"),S0e=l(function(e){let{cornerPointPositions:t}=x0e(e),r=[];for(let i=0;i<e.length;i++)if(t.includes(i)){let n=e[i-1],a=e[i+1],s=e[i],o=HN(n,s,5),u=HN(a,s,5),h=u.x-o.x,d=u.y-o.y;r.push(o);let p=Math.sqrt(2)*2,g={x:s.x,y:s.y};if(Math.abs(a.x-n.x)>10&&Math.abs(a.y-n.y)>=10){ae.debug("Corner point fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));let f=5;s.x===o.x?g={x:h<0?o.x-f+p:o.x+f-p,y:d<0?o.y-p:o.y+p}:g={x:h<0?o.x-p:o.x+p,y:d<0?o.y-f+p:o.y+f-p}}else ae.debug("Corner point skipping fixing",Math.abs(a.x-n.x),Math.abs(a.y-n.y));r.push(g,u)}else r.push(e[i]);return r},"fixCorners"),_0e=l((e,t,r)=>{let i=e-t-r,n=2,a=2,s=n+a,o=Math.floor(i/s),u=Array(o).fill(`${n} ${a}`).join(" ");return`0 ${t} ${u} ${r}`},"generateDashArray"),VN=l(function(e,t,r,i,n,a,s,o=!1){var _;let{handDrawnSeed:u}=Ce(),h=t.points,d=!1,p=n;var g=a;let f=[];for(let I in t.cssCompiledStyles)M6(I)||f.push(t.cssCompiledStyles[I]);ae.debug("UIO intersect check",t.points,g.x,p.x),g.intersect&&p.intersect&&!o&&(h=h.slice(1,t.points.length-1),h.unshift(p.intersect(h[0])),ae.debug("Last point UIO",t.start,"-->",t.end,h[h.length-1],g,g.intersect(h[h.length-1])),h.push(g.intersect(h[h.length-1])));let m=btoa(JSON.stringify(h));t.toCluster&&(ae.info("to cluster abc88",r.get(t.toCluster)),h=jN(t.points,r.get(t.toCluster).node),d=!0),t.fromCluster&&(ae.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(h,null,2)),h=jN(h.reverse(),r.get(t.fromCluster).node).reverse(),d=!0);let x=h.filter(I=>!Number.isNaN(I.y));x=S0e(x);let T=rd;switch(T=xy,t.curve){case"linear":T=xy;break;case"basis":T=rd;break;case"cardinal":T=FA;break;case"bumpX":T=DA;break;case"bumpY":T=RA;break;case"catmullRom":T=GA;break;case"monotoneX":T=ZA;break;case"monotoneY":T=QA;break;case"natural":T=t9;break;case"step":T=r9;break;case"stepAfter":T=n9;break;case"stepBefore":T=i9;break;default:T=rd}let{x:k,y:E}=FN(t),S=mg().x(k).y(E).curve(T),L;switch(t.thickness){case"normal":L="edge-thickness-normal";break;case"thick":L="edge-thickness-thick";break;case"invisible":L="edge-thickness-invisible";break;default:L="edge-thickness-normal"}switch(t.pattern){case"solid":L+=" edge-pattern-solid";break;case"dotted":L+=" edge-pattern-dotted";break;case"dashed":L+=" edge-pattern-dashed";break;default:L+=" edge-pattern-solid"}let b,y=t.curve==="rounded"?w0e(k0e(x,t),5):S(x),v=Array.isArray(t.style)?t.style:[t.style],w=v.find(I=>I==null?void 0:I.startsWith("stroke:")),C=!1;if(t.look==="handDrawn"){let I=Rt.svg(e);Object.assign([],x);let R=I.path(y,{roughness:.3,seed:u});L+=" transition",b=Ze(R).select("path").attr("id",t.id).attr("class"," "+L+(t.classes?" "+t.classes:"")).attr("style",v?v.reduce((D,$)=>D+";"+$,""):"");let P=b.attr("d");b.attr("d",P),e.node().appendChild(b.node())}else{let I=f.join(";"),R=v?v.reduce((j,H)=>j+H+";",""):"",P="";t.animate&&(P=" edge-animation-fast"),t.animation&&(P=" edge-animation-"+t.animation);let D=(I?I+";"+R+";":R)+";"+(v?v.reduce((j,H)=>j+";"+H,""):"");b=e.append("path").attr("d",y).attr("id",t.id).attr("class"," "+L+(t.classes?" "+t.classes:"")+(P!=null?P:"")).attr("style",D),w=(_=D.match(/stroke:([^;]+)/))==null?void 0:_[1],C=t.animate===!0||!!t.animation||I.includes("animation");let $=b.node(),F=typeof $.getTotalLength=="function"?$.getTotalLength():0,z=$N[t.arrowTypeStart]||0,U=$N[t.arrowTypeEnd]||0;if(t.look==="neo"&&!C){let j=`stroke-dasharray: ${t.pattern==="dotted"||t.pattern==="dashed"?_0e(F,z,U):`0 ${z} ${F-z-U} ${U}`}; stroke-dashoffset: 0;`;b.attr("style",j+b.attr("style"))}}b.attr("data-edge",!0),b.attr("data-et","edge"),b.attr("data-id",t.id),b.attr("data-points",m),t.showPoints&&x.forEach(I=>{e.append("circle").style("stroke","red").style("fill","red").attr("r",1).attr("cx",I.x).attr("cy",I.y)});let A="";(Ce().flowchart.arrowMarkerAbsolute||Ce().state.arrowMarkerAbsolute)&&(A=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,A=A.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),ae.info("arrowTypeStart",t.arrowTypeStart),ae.info("arrowTypeEnd",t.arrowTypeEnd),v0e(b,t,A,s,i,w);let M=Math.floor(h.length/2),N=h[M];cr.isLabelCoordinateInPath(N,b.attr("d"))||(d=!0);let O={};return d&&(O.updatedPath=h),O.originalPath=t.points,O},"insertEdge"),l(w0e,"generateRoundedPath"),l(GN,"calculateDeltaAndAngle"),l(k0e,"applyMarkerOffsetsToPoints")}),L0e,N0e,M0e,I0e,D0e,R0e,O0e,P0e,B0e,$0e,F0e,z0e,G0e,U0e,q0e,j0e,H0e,YN,V0e=B(()=>{"use strict";lt(),L0e=l((e,t,r,i)=>{t.forEach(n=>{H0e[n](e,r,i)})},"insertMarkers"),N0e=l((e,t,r)=>{ae.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),M0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),I0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),D0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),R0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),O0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),P0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),B0e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),$0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),F0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneStart").attr("class","marker onlyOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",r+"_"+t+"-onlyOneEnd").attr("class","marker onlyOne "+t).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),z0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneStart").attr("class","marker zeroOrOne "+t).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),i.append("path").attr("d","M9,0 L9,18");let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+t).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),G0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreStart").attr("class","marker oneOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",r+"_"+t+"-oneOrMoreEnd").attr("class","marker oneOrMore "+t).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),U0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+t).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");i.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),i.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");let n=e.append("defs").append("marker").attr("id",r+"_"+t+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+t).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),q0e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),j0e=l((e,t,r)=>{let i=e.append("defs").append("marker").attr("id",r+"_"+t+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");i.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),i.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),i.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),H0e={extension:N0e,composition:M0e,aggregation:I0e,dependency:D0e,lollipop:R0e,point:O0e,circle:P0e,cross:B0e,barb:$0e,only_one:F0e,zero_or_one:z0e,one_or_more:G0e,zero_or_more:U0e,requirement_arrow:q0e,requirement_contains:j0e},YN=L0e});function V6(e,t,r){return xe(this,null,function*(){let i,n;t.shape==="rect"&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");let a=t.shape?RN[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let s;r.config.securityLevel==="sandbox"?s="_top":t.linkTarget&&(s=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",s!=null?s:null),n=yield a(i,t,r)}else n=yield a(e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),C2.set(t.id,i),t.haveCallback&&i.attr("class",i.attr("class")+" clickable"),i})}var C2,Y0e,W0e,Y6,WN=B(()=>{"use strict";lt(),o0e(),C2=new Map,l(V6,"insertNode"),Y0e=l((e,t)=>{C2.set(t.id,e)},"setNodeElem"),W0e=l(()=>{C2.clear()},"clear"),Y6=l(e=>{let t=C2.get(e.id);ae.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode")}),X0e,sXe=B(()=>{"use strict";bi(),dr(),lt(),BN(),A0e(),V0e(),WN(),Mt(),Jt(),X0e={common:at,getConfig:_r,insertCluster:H6,insertEdge:VN,insertEdgeLabel:UN,insertMarkers:YN,insertNode:V6,interpolateToCurve:j9,labelHelper:rr,log:ae,positionEdgeLabel:qN}});function K0e(e){return typeof e=="symbol"||ps(e)&&ll(e)==Z0e}var Z0e,Yu,Wg=B(()=>{"use strict";Du(),mo(),Z0e="[object Symbol]",l(K0e,"isSymbol"),Yu=K0e});function Q0e(e,t){for(var r=-1,i=e==null?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var bc,Xg=B(()=>{"use strict";l(Q0e,"arrayMap"),bc=Q0e});function XN(e){if(typeof e=="string")return e;if(xr(e))return bc(e,XN)+"";if(Yu(e))return ZN?ZN.call(e):"";var t=e+"";return t=="0"&&1/e==-J0e?"-0":t}var J0e,KN,ZN,epe,oXe=B(()=>{"use strict";yg(),Xg(),ki(),Wg(),J0e=1/0,KN=hs?hs.prototype:void 0,ZN=KN?KN.toString:void 0,l(XN,"baseToString"),epe=XN});function tpe(e){for(var t=e.length;t--&&rpe.test(e.charAt(t)););return t}var rpe,ipe,lXe=B(()=>{"use strict";rpe=/\s/,l(tpe,"trimmedEndIndex"),ipe=tpe});function npe(e){return e&&e.slice(0,ipe(e)+1).replace(ape,"")}var ape,spe,cXe=B(()=>{"use strict";lXe(),ape=/^\s+/,l(npe,"baseTrim"),spe=npe});function ope(e){if(typeof e=="number")return e;if(Yu(e))return QN;if(ka(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ka(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=spe(e);var r=cpe.test(e);return r||upe.test(e)?hpe(e.slice(2),r?2:8):lpe.test(e)?QN:+e}var QN,lpe,cpe,upe,hpe,dpe,uXe=B(()=>{"use strict";cXe(),$s(),Wg(),QN=NaN,lpe=/^[-+]0x[0-9a-f]+$/i,cpe=/^0b[01]+$/i,upe=/^0o[0-7]+$/i,hpe=parseInt,l(ope,"toNumber"),dpe=ope});function ppe(e){if(!e)return e===0?e:0;if(e=dpe(e),e===JN||e===-JN){var t=e<0?-1:1;return t*gpe}return e===e?e:0}var JN,gpe,S2,fpe=B(()=>{"use strict";uXe(),JN=1/0,gpe=17976931348623157e292,l(ppe,"toFinite"),S2=ppe});function mpe(e){var t=S2(e),r=t%1;return t===t?r?t-r:t:0}var Kg,_2=B(()=>{"use strict";fpe(),l(mpe,"toInteger"),Kg=mpe}),ype,W6,hXe=B(()=>{"use strict";nd(),fo(),ype=Ou(Bs,"WeakMap"),W6=ype});function vpe(){}var Ji,bpe=B(()=>{"use strict";l(vpe,"noop"),Ji=vpe});function xpe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i&&t(e[r],r,e)!==!1;);return e}var eM,wpe=B(()=>{"use strict";l(xpe,"arrayEach"),eM=xpe});function kpe(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}var tM,Tpe=B(()=>{"use strict";l(kpe,"baseFindIndex"),tM=kpe});function Epe(e){return e!==e}var Cpe,dXe=B(()=>{"use strict";l(Epe,"baseIsNaN"),Cpe=Epe});function Spe(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}var _pe,pXe=B(()=>{"use strict";l(Spe,"strictIndexOf"),_pe=Spe});function Ape(e,t,r){return t===t?_pe(e,t,r):tM(e,Cpe,r)}var X6,rM=B(()=>{"use strict";Tpe(),dXe(),pXe(),l(Ape,"baseIndexOf"),X6=Ape});function Lpe(e,t){var r=e==null?0:e.length;return!!r&&X6(e,t,0)>-1}var iM,Npe=B(()=>{"use strict";rM(),l(Lpe,"arrayIncludes"),iM=Lpe}),Mpe,Ipe,gXe=B(()=>{"use strict";gae(),Mpe=C9(Object.keys,Object),Ipe=Mpe});function Dpe(e){if(!Tg(e))return Ipe(e);var t=[];for(var r in Object(e))Ope.call(e,r)&&r!="constructor"&&t.push(r);return t}var Rpe,Ope,K6,nM=B(()=>{"use strict";Py(),gXe(),Rpe=Object.prototype,Ope=Rpe.hasOwnProperty,l(Dpe,"baseKeys"),K6=Dpe});function Ppe(e){return Fs(e)?$9(e):K6(e)}var en,xc=B(()=>{"use strict";Dse(),nM(),yo(),l(Ppe,"keys"),en=Ppe}),Bpe,$pe,Fpe,Ya,fXe=B(()=>{"use strict";Gy(),_g(),hoe(),yo(),Py(),xc(),Bpe=Object.prototype,$pe=Bpe.hasOwnProperty,Fpe=q9(function(e,t){if(Tg(t)||Fs(t)){gd(t,en(t),e);return}for(var r in t)$pe.call(t,r)&&Sg(e,r,t[r])}),Ya=Fpe});function zpe(e,t){if(xr(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Yu(e)?!0:Upe.test(e)||!Gpe.test(e)||t!=null&&e in Object(t)}var Gpe,Upe,Z6,aM=B(()=>{"use strict";ki(),Wg(),Gpe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Upe=/^\w*$/,l(zpe,"isKey"),Z6=zpe});function qpe(e){var t=Iy(e,function(i){return r.size===jpe&&r.clear(),i}),r=t.cache;return t}var jpe,Hpe,mXe=B(()=>{"use strict";One(),jpe=500,l(qpe,"memoizeCapped"),Hpe=qpe}),Vpe,Ype,Wpe,Xpe,yXe=B(()=>{"use strict";mXe(),Vpe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ype=/\\(\\)?/g,Wpe=Hpe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Vpe,function(r,i,n,a){t.push(n?a.replace(Ype,"$1"):i||r)}),t}),Xpe=Wpe});function Kpe(e){return e==null?"":epe(e)}var sM,Zpe=B(()=>{"use strict";oXe(),l(Kpe,"toString"),sM=Kpe});function Qpe(e,t){return xr(e)?e:Z6(e,t)?[e]:Xpe(sM(e))}var A2,Q6=B(()=>{"use strict";ki(),aM(),yXe(),Zpe(),l(Qpe,"castPath"),A2=Qpe});function Jpe(e){if(typeof e=="string"||Yu(e))return e;var t=e+"";return t=="0"&&1/e==-ege?"-0":t}var ege,Zg,L2=B(()=>{"use strict";Wg(),ege=1/0,l(Jpe,"toKey"),Zg=Jpe});function tge(e,t){t=A2(t,e);for(var r=0,i=t.length;e!=null&&r<i;)e=e[Zg(t[r++])];return r&&r==i?e:void 0}var N2,J6=B(()=>{"use strict";Q6(),L2(),l(tge,"baseGet"),N2=tge});function rge(e,t,r){var i=e==null?void 0:N2(e,t);return i===void 0?r:i}var ige,vXe=B(()=>{"use strict";J6(),l(rge,"get"),ige=rge});function nge(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}var ew,oM=B(()=>{"use strict";l(nge,"arrayPush"),ew=nge});function age(e){return xr(e)||hd(e)||!!(lM&&e&&e[lM])}var lM,sge,bXe=B(()=>{"use strict";yg(),By(),ki(),lM=hs?hs.isConcatSpreadable:void 0,l(age,"isFlattenable"),sge=age});function cM(e,t,r,i,n){var a=-1,s=e.length;for(r||(r=sge),n||(n=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?cM(o,t-1,r,i,n):ew(n,o):i||(n[n.length]=o)}return n}var Qg,M2=B(()=>{"use strict";oM(),bXe(),l(cM,"baseFlatten"),Qg=cM});function oge(e){var t=e==null?0:e.length;return t?Qg(e,1):[]}var mn,uM=B(()=>{"use strict";M2(),l(oge,"flatten"),mn=oge});function lge(e){return U9(G9(e,void 0,mn),e+"")}var cge,xXe=B(()=>{"use strict";uM(),Kse(),ooe(),l(lge,"flatRest"),cge=lge});function uge(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++i<n;)a[i]=e[i+t];return a}var hM,hge=B(()=>{"use strict";l(uge,"baseSlice"),hM=uge});function dge(e){return xge.test(e)}var pge,gge,fge,mge,yge,vge,bge,xge,wge,wXe=B(()=>{"use strict";pge="\\ud800-\\udfff",gge="\\u0300-\\u036f",fge="\\ufe20-\\ufe2f",mge="\\u20d0-\\u20ff",yge=gge+fge+mge,vge="\\ufe0e\\ufe0f",bge="\\u200d",xge=RegExp("["+bge+pge+yge+vge+"]"),l(dge,"hasUnicode"),wge=dge});function kge(e,t,r,i){var n=-1,a=e==null?0:e.length;for(i&&a&&(r=e[++n]);++n<a;)r=t(r,e[n],n,e);return r}var Tge,kXe=B(()=>{"use strict";l(kge,"arrayReduce"),Tge=kge});function Ege(e,t){return e&&gd(t,en(t),e)}var Cge,TXe=B(()=>{"use strict";_g(),xc(),l(Ege,"baseAssign"),Cge=Ege});function Sge(e,t){return e&&gd(t,Pu(t),e)}var _ge,EXe=B(()=>{"use strict";_g(),fd(),l(Sge,"baseAssignIn"),_ge=Sge});function Age(e,t){for(var r=-1,i=e==null?0:e.length,n=0,a=[];++r<i;){var s=e[r];t(s,r,e)&&(a[n++]=s)}return a}var tw,dM=B(()=>{"use strict";l(Age,"arrayFilter"),tw=Age});function Lge(){return[]}var pM,Nge=B(()=>{"use strict";l(Lge,"stubArray"),pM=Lge}),Mge,Ige,gM,Dge,rw,fM=B(()=>{"use strict";dM(),Nge(),Mge=Object.prototype,Ige=Mge.propertyIsEnumerable,gM=Object.getOwnPropertySymbols,Dge=gM?function(e){return e==null?[]:(e=Object(e),tw(gM(e),function(t){return Ige.call(e,t)}))}:pM,rw=Dge});function Rge(e,t){return gd(e,rw(e),t)}var Oge,CXe=B(()=>{"use strict";_g(),fM(),l(Rge,"copySymbols"),Oge=Rge}),Pge,Bge,mM,$ge=B(()=>{"use strict";oM(),S9(),fM(),Nge(),Pge=Object.getOwnPropertySymbols,Bge=Pge?function(e){for(var t=[];e;)ew(t,rw(e)),e=j5(e);return t}:pM,mM=Bge});function Fge(e,t){return gd(e,mM(e),t)}var zge,SXe=B(()=>{"use strict";_g(),$ge(),l(Fge,"copySymbolsIn"),zge=Fge});function Gge(e,t,r){var i=t(e);return xr(e)?i:ew(i,r(e))}var yM,Uge=B(()=>{"use strict";oM(),ki(),l(Gge,"baseGetAllKeys"),yM=Gge});function qge(e){return yM(e,en,rw)}var iw,jge=B(()=>{"use strict";Uge(),fM(),xc(),l(qge,"getAllKeys"),iw=qge});function Hge(e){return yM(e,Pu,mM)}var vM,Vge=B(()=>{"use strict";Uge(),$ge(),fd(),l(Hge,"getAllKeysIn"),vM=Hge}),Yge,nw,_Xe=B(()=>{"use strict";nd(),fo(),Yge=Ou(Bs,"DataView"),nw=Yge}),Wge,aw,AXe=B(()=>{"use strict";nd(),fo(),Wge=Ou(Bs,"Promise"),aw=Wge}),Xge,_d,Kge=B(()=>{"use strict";nd(),fo(),Xge=Ou(Bs,"Set"),_d=Xge}),bM,Zge,xM,wM,kM,TM,Qge,Jge,e1e,t1e,r1e,Wu,Xu,Jg=B(()=>{"use strict";_Xe(),p9(),AXe(),Kge(),hXe(),Du(),Nie(),bM="[object Map]",Zge="[object Object]",xM="[object Promise]",wM="[object Set]",kM="[object WeakMap]",TM="[object DataView]",Qge=Ru(nw),Jge=Ru(wg),e1e=Ru(aw),t1e=Ru(_d),r1e=Ru(W6),Wu=ll,(nw&&Wu(new nw(new ArrayBuffer(1)))!=TM||wg&&Wu(new wg)!=bM||aw&&Wu(aw.resolve())!=xM||_d&&Wu(new _d)!=wM||W6&&Wu(new W6)!=kM)&&(Wu=l(function(e){var t=ll(e),r=t==Zge?e.constructor:void 0,i=r?Ru(r):"";if(i)switch(i){case Qge:return TM;case Jge:return bM;case e1e:return xM;case t1e:return wM;case r1e:return kM}return t},"getTag")),Xu=Wu});function i1e(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&a1e.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var n1e,a1e,s1e,LXe=B(()=>{"use strict";n1e=Object.prototype,a1e=n1e.hasOwnProperty,l(i1e,"initCloneArray"),s1e=i1e});function o1e(e,t){var r=t?q5(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var l1e,NXe=B(()=>{"use strict";w9(),l(o1e,"cloneDataView"),l1e=o1e});function c1e(e){var t=new e.constructor(e.source,u1e.exec(e));return t.lastIndex=e.lastIndex,t}var u1e,h1e,MXe=B(()=>{"use strict";u1e=/\w*$/,l(c1e,"cloneRegExp"),h1e=c1e});function d1e(e){return CM?Object(CM.call(e)):{}}var EM,CM,p1e,IXe=B(()=>{"use strict";yg(),EM=hs?hs.prototype:void 0,CM=EM?EM.valueOf:void 0,l(d1e,"cloneSymbol"),p1e=d1e});function g1e(e,t,r){var i=e.constructor;switch(t){case T1e:return q5(e);case f1e:case m1e:return new i(+e);case E1e:return l1e(e,r);case C1e:case S1e:case _1e:case A1e:case L1e:case N1e:case M1e:case I1e:case D1e:return k9(e,r);case y1e:return new i;case v1e:case w1e:return new i(e);case b1e:return h1e(e);case x1e:return new i;case k1e:return p1e(e)}}var f1e,m1e,y1e,v1e,b1e,x1e,w1e,k1e,T1e,E1e,C1e,S1e,_1e,A1e,L1e,N1e,M1e,I1e,D1e,R1e,DXe=B(()=>{"use strict";w9(),NXe(),MXe(),IXe(),lae(),f1e="[object Boolean]",m1e="[object Date]",y1e="[object Map]",v1e="[object Number]",b1e="[object RegExp]",x1e="[object Set]",w1e="[object String]",k1e="[object Symbol]",T1e="[object ArrayBuffer]",E1e="[object DataView]",C1e="[object Float32Array]",S1e="[object Float64Array]",_1e="[object Int8Array]",A1e="[object Int16Array]",L1e="[object Int32Array]",N1e="[object Uint8Array]",M1e="[object Uint8ClampedArray]",I1e="[object Uint16Array]",D1e="[object Uint32Array]",l(g1e,"initCloneByTag"),R1e=g1e});function O1e(e){return ps(e)&&Xu(e)==P1e}var P1e,B1e,RXe=B(()=>{"use strict";Jg(),mo(),P1e="[object Map]",l(O1e,"baseIsMap"),B1e=O1e}),SM,$1e,F1e,OXe=B(()=>{"use strict";RXe(),Eg(),Y5(),SM=hc&&hc.isMap,$1e=SM?pd(SM):B1e,F1e=$1e});function z1e(e){return ps(e)&&Xu(e)==G1e}var G1e,U1e,PXe=B(()=>{"use strict";Jg(),mo(),G1e="[object Set]",l(z1e,"baseIsSet"),U1e=z1e}),_M,q1e,j1e,BXe=B(()=>{"use strict";PXe(),Eg(),Y5(),_M=hc&&hc.isSet,q1e=_M?pd(_M):U1e,j1e=q1e});function I2(e,t,r,i,n,a){var s,o=t&H1e,u=t&V1e,h=t&Y1e;if(r&&(s=n?r(e,i,n,a):r(e)),s!==void 0)return s;if(!ka(e))return e;var d=xr(e);if(d){if(s=s1e(e),!o)return T9(e,s)}else{var p=Xu(e),g=p==LM||p==Q1e;if(dd(e))return x9(e,o);if(p==NM||p==AM||g&&!n){if(s=u||g?{}:_9(e),!o)return u?zge(e,_ge(s,e)):Oge(e,Cge(s,e))}else{if(!ti[p])return n?e:{};s=R1e(e,p,o)}}a||(a=new ud);var f=a.get(e);if(f)return f;a.set(e,s),j1e(e)?e.forEach(function(T){s.add(I2(T,t,r,T,e,a))}):F1e(e)&&e.forEach(function(T,k){s.set(k,I2(T,t,r,k,e,a))});var m=h?u?vM:iw:u?Pu:en,x=d?void 0:m(e);return eM(x||e,function(T,k){x&&(k=T,T=e[k]),Sg(s,k,I2(T,t,r,k,e,a))}),s}var H1e,V1e,Y1e,AM,W1e,X1e,K1e,Z1e,LM,Q1e,J1e,efe,NM,tfe,rfe,ife,nfe,afe,sfe,ofe,lfe,cfe,ufe,hfe,dfe,pfe,gfe,ffe,mfe,ti,MM,yfe=B(()=>{"use strict";z5(),wpe(),Gy(),TXe(),EXe(),iae(),uae(),CXe(),SXe(),jge(),Vge(),Jg(),LXe(),DXe(),bae(),ki(),Fy(),OXe(),$s(),BXe(),xc(),fd(),H1e=1,V1e=2,Y1e=4,AM="[object Arguments]",W1e="[object Array]",X1e="[object Boolean]",K1e="[object Date]",Z1e="[object Error]",LM="[object Function]",Q1e="[object GeneratorFunction]",J1e="[object Map]",efe="[object Number]",NM="[object Object]",tfe="[object RegExp]",rfe="[object Set]",ife="[object String]",nfe="[object Symbol]",afe="[object WeakMap]",sfe="[object ArrayBuffer]",ofe="[object DataView]",lfe="[object Float32Array]",cfe="[object Float64Array]",ufe="[object Int8Array]",hfe="[object Int16Array]",dfe="[object Int32Array]",pfe="[object Uint8Array]",gfe="[object Uint8ClampedArray]",ffe="[object Uint16Array]",mfe="[object Uint32Array]",ti={},ti[AM]=ti[W1e]=ti[sfe]=ti[ofe]=ti[X1e]=ti[K1e]=ti[lfe]=ti[cfe]=ti[ufe]=ti[hfe]=ti[dfe]=ti[J1e]=ti[efe]=ti[NM]=ti[tfe]=ti[rfe]=ti[ife]=ti[nfe]=ti[pfe]=ti[gfe]=ti[ffe]=ti[mfe]=!0,ti[Z1e]=ti[LM]=ti[afe]=!1,l(I2,"baseClone"),MM=I2});function vfe(e){return MM(e,bfe)}var bfe,tn,xfe=B(()=>{"use strict";yfe(),bfe=4,l(vfe,"clone"),tn=vfe});function wfe(e){return MM(e,kfe|Tfe)}var kfe,Tfe,Efe,$Xe=B(()=>{"use strict";yfe(),kfe=1,Tfe=4,l(wfe,"cloneDeep"),Efe=wfe});function Cfe(e){for(var t=-1,r=e==null?0:e.length,i=0,n=[];++t<r;){var a=e[t];a&&(n[i++]=a)}return n}var e1,FXe=B(()=>{"use strict";l(Cfe,"compact"),e1=Cfe});function Sfe(e){return this.__data__.set(e,_fe),this}var _fe,Afe,zXe=B(()=>{"use strict";_fe="__lodash_hash_undefined__",l(Sfe,"setCacheAdd"),Afe=Sfe});function Lfe(e){return this.__data__.has(e)}var Nfe,GXe=B(()=>{"use strict";l(Lfe,"setCacheHas"),Nfe=Lfe});function D2(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new My;++t<r;)this.add(e[t])}var sw,IM=B(()=>{"use strict";g9(),zXe(),GXe(),l(D2,"SetCache"),D2.prototype.add=D2.prototype.push=Afe,D2.prototype.has=Nfe,sw=D2});function Mfe(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var DM,Ife=B(()=>{"use strict";l(Mfe,"arraySome"),DM=Mfe});function Dfe(e,t){return e.has(t)}var ow,RM=B(()=>{"use strict";l(Dfe,"cacheHas"),ow=Dfe});function Rfe(e,t,r,i,n,a){var s=r&Ofe,o=e.length,u=t.length;if(o!=u&&!(s&&u>o))return!1;var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var p=-1,g=!0,f=r&Pfe?new sw:void 0;for(a.set(e,t),a.set(t,e);++p<o;){var m=e[p],x=t[p];if(i)var T=s?i(x,m,p,t,e,a):i(m,x,p,e,t,a);if(T!==void 0){if(T)continue;g=!1;break}if(f){if(!DM(t,function(k,E){if(!ow(f,E)&&(m===k||n(m,k,r,i,a)))return f.push(E)})){g=!1;break}}else if(!(m===x||n(m,x,r,i,a))){g=!1;break}}return a.delete(e),a.delete(t),g}var Ofe,Pfe,OM,Bfe=B(()=>{"use strict";IM(),Ife(),RM(),Ofe=1,Pfe=2,l(Rfe,"equalArrays"),OM=Rfe});function $fe(e){var t=-1,r=Array(e.size);return e.forEach(function(i,n){r[++t]=[n,i]}),r}var Ffe,UXe=B(()=>{"use strict";l($fe,"mapToArray"),Ffe=$fe});function zfe(e){var t=-1,r=Array(e.size);return e.forEach(function(i){r[++t]=i}),r}var lw,PM=B(()=>{"use strict";l(zfe,"setToArray"),lw=zfe});function Gfe(e,t,r,i,n,a,s){switch(r){case eme:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jfe:return!(e.byteLength!=t.byteLength||!a(new Oy(e),new Oy(t)));case jfe:case Hfe:case Wfe:return sd(+e,+t);case Vfe:return e.name==t.name&&e.message==t.message;case Xfe:case Zfe:return e==t+"";case Yfe:var o=Ffe;case Kfe:var u=i&Ufe;if(o||(o=lw),e.size!=t.size&&!u)return!1;var h=s.get(e);if(h)return h==t;i|=qfe,s.set(e,t);var d=OM(o(e),o(t),i,n,a,s);return s.delete(e),d;case Qfe:if(cw)return cw.call(e)==cw.call(t)}return!1}var Ufe,qfe,jfe,Hfe,Vfe,Yfe,Wfe,Xfe,Kfe,Zfe,Qfe,Jfe,eme,BM,cw,tme,qXe=B(()=>{"use strict";yg(),aae(),xg(),Bfe(),UXe(),PM(),Ufe=1,qfe=2,jfe="[object Boolean]",Hfe="[object Date]",Vfe="[object Error]",Yfe="[object Map]",Wfe="[object Number]",Xfe="[object RegExp]",Kfe="[object Set]",Zfe="[object String]",Qfe="[object Symbol]",Jfe="[object ArrayBuffer]",eme="[object DataView]",BM=hs?hs.prototype:void 0,cw=BM?BM.valueOf:void 0,l(Gfe,"equalByTag"),tme=Gfe});function rme(e,t,r,i,n,a){var s=r&ime,o=iw(e),u=o.length,h=iw(t),d=h.length;if(u!=d&&!s)return!1;for(var p=u;p--;){var g=o[p];if(!(s?g in t:ame.call(t,g)))return!1}var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var x=!0;a.set(e,t),a.set(t,e);for(var T=s;++p<u;){g=o[p];var k=e[g],E=t[g];if(i)var S=s?i(E,k,g,t,e,a):i(k,E,g,e,t,a);if(!(S===void 0?k===E||n(k,E,r,i,a):S)){x=!1;break}T||(T=g=="constructor")}if(x&&!T){var L=e.constructor,b=t.constructor;L!=b&&"constructor"in e&&"constructor"in t&&!(typeof L=="function"&&L instanceof L&&typeof b=="function"&&b instanceof b)&&(x=!1)}return a.delete(e),a.delete(t),x}var ime,nme,ame,sme,jXe=B(()=>{"use strict";jge(),ime=1,nme=Object.prototype,ame=nme.hasOwnProperty,l(rme,"equalObjects"),sme=rme});function ome(e,t,r,i,n,a){var s=xr(e),o=xr(t),u=s?FM:Xu(e),h=o?FM:Xu(t);u=u==$M?R2:u,h=h==$M?R2:h;var d=u==R2,p=h==R2,g=u==h;if(g&&dd(e)){if(!dd(t))return!1;s=!0,d=!1}if(g&&!d)return a||(a=new ud),s||zy(e)?OM(e,t,r,i,n,a):tme(e,t,u,r,i,n,a);if(!(r&lme)){var f=d&&zM.call(e,"__wrapped__"),m=p&&zM.call(t,"__wrapped__");if(f||m){var x=f?e.value():e,T=m?t.value():t;return a||(a=new ud),n(x,T,r,i,a)}}return g?(a||(a=new ud),sme(e,t,r,i,n,a)):!1}var lme,$M,FM,R2,cme,zM,ume,HXe=B(()=>{"use strict";z5(),Bfe(),qXe(),jXe(),Jg(),ki(),Fy(),W5(),lme=1,$M="[object Arguments]",FM="[object Array]",R2="[object Object]",cme=Object.prototype,zM=cme.hasOwnProperty,l(ome,"baseIsEqualDeep"),ume=ome});function GM(e,t,r,i,n){return e===t?!0:e==null||t==null||!ps(e)&&!ps(t)?e!==e&&t!==t:ume(e,t,r,i,GM,n)}var UM,hme=B(()=>{"use strict";HXe(),mo(),l(GM,"baseIsEqual"),UM=GM});function dme(e,t,r,i){var n=r.length,a=n,s=!i;if(e==null)return!a;for(e=Object(e);n--;){var o=r[n];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<a;){o=r[n];var u=o[0],h=e[u],d=o[1];if(s&&o[2]){if(h===void 0&&!(u in e))return!1}else{var p=new ud;if(i)var g=i(h,d,u,e,t,p);if(!(g===void 0?UM(d,h,pme|gme,i,p):g))return!1}}return!0}var pme,gme,fme,VXe=B(()=>{"use strict";z5(),hme(),pme=1,gme=2,l(dme,"baseIsMatch"),fme=dme});function mme(e){return e===e&&!ka(e)}var qM,yme=B(()=>{"use strict";$s(),l(mme,"isStrictComparable"),qM=mme});function vme(e){for(var t=en(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,qM(n)]}return t}var bme,YXe=B(()=>{"use strict";yme(),xc(),l(vme,"getMatchData"),bme=vme});function xme(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var jM,wme=B(()=>{"use strict";l(xme,"matchesStrictComparable"),jM=xme});function kme(e){var t=bme(e);return t.length==1&&t[0][2]?jM(t[0][0],t[0][1]):function(r){return r===e||fme(r,e,t)}}var Tme,WXe=B(()=>{"use strict";VXe(),YXe(),wme(),l(kme,"baseMatches"),Tme=kme});function Eme(e,t){return e!=null&&t in Object(e)}var Cme,XXe=B(()=>{"use strict";l(Eme,"baseHasIn"),Cme=Eme});function Sme(e,t,r){t=A2(t,e);for(var i=-1,n=t.length,a=!1;++i<n;){var s=Zg(t[i]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++i!=n?a:(n=e==null?0:e.length,!!n&&H5(n)&&Uy(s,n)&&(xr(e)||hd(e)))}var HM,_me=B(()=>{"use strict";Q6(),By(),ki(),K5(),N9(),L2(),l(Sme,"hasPath"),HM=Sme});function Ame(e,t){return e!=null&&HM(e,t,Cme)}var VM,Lme=B(()=>{"use strict";XXe(),_me(),l(Ame,"hasIn"),VM=Ame});function Nme(e,t){return Z6(e)&&qM(t)?jM(Zg(e),t):function(r){var i=ige(r,e);return i===void 0&&i===t?VM(r,e):UM(t,i,Mme|Ime)}}var Mme,Ime,Dme,KXe=B(()=>{"use strict";hme(),vXe(),Lme(),aM(),yme(),wme(),L2(),Mme=1,Ime=2,l(Nme,"baseMatchesProperty"),Dme=Nme});function Rme(e){return function(t){return t==null?void 0:t[e]}}var YM,Ome=B(()=>{"use strict";l(Rme,"baseProperty"),YM=Rme});function Pme(e){return function(t){return N2(t,e)}}var Bme,ZXe=B(()=>{"use strict";J6(),l(Pme,"basePropertyDeep"),Bme=Pme});function $me(e){return Z6(e)?YM(Zg(e)):Bme(e)}var Fme,QXe=B(()=>{"use strict";Ome(),ZXe(),aM(),L2(),l($me,"property"),Fme=$me});function zme(e){return typeof e=="function"?e:e==null?cl:typeof e=="object"?xr(e)?Dme(e[0],e[1]):Tme(e):Fme(e)}var Aa,Wa=B(()=>{"use strict";WXe(),KXe(),Bu(),ki(),QXe(),l(zme,"baseIteratee"),Aa=zme});function Gme(e,t,r,i){for(var n=-1,a=e==null?0:e.length;++n<a;){var s=e[n];t(i,s,r(s),e)}return i}var Ume,JXe=B(()=>{"use strict";l(Gme,"arrayAggregator"),Ume=Gme});function qme(e,t){return e&&U5(e,t,en)}var uw,WM=B(()=>{"use strict";f9(),xc(),l(qme,"baseForOwn"),uw=qme});function jme(e,t){return function(r,i){if(r==null)return r;if(!Fs(r))return e(r,i);for(var n=r.length,a=t?n:-1,s=Object(r);(t?a--:++a<n)&&i(s[a],a,s)!==!1;);return r}}var Hme,eKe=B(()=>{"use strict";yo(),l(jme,"createBaseEach"),Hme=jme}),Vme,Ku,Ad=B(()=>{"use strict";WM(),eKe(),Vme=Hme(uw),Ku=Vme});function Yme(e,t,r,i){return Ku(e,function(n,a,s){t(i,n,r(n),s)}),i}var Wme,tKe=B(()=>{"use strict";Ad(),l(Yme,"baseAggregator"),Wme=Yme});function Xme(e,t){return function(r,i){var n=xr(r)?Ume:Wme,a=t?t():{};return n(r,e,Aa(i,2),a)}}var Kme,rKe=B(()=>{"use strict";JXe(),tKe(),Wa(),ki(),l(Xme,"createAggregator"),Kme=Xme}),Zme,XM,iKe=B(()=>{"use strict";fo(),Zme=l(function(){return Bs.Date.now()},"now"),XM=Zme}),KM,Qme,Jme,O2,nKe=B(()=>{"use strict";qy(),xg(),Lg(),fd(),KM=Object.prototype,Qme=KM.hasOwnProperty,Jme=Ag(function(e,t){e=Object(e);var r=-1,i=t.length,n=i>2?t[2]:void 0;for(n&&$u(t[0],t[1],n)&&(i=1);++r<i;)for(var a=t[r],s=Pu(a),o=-1,u=s.length;++o<u;){var h=s[o],d=e[h];(d===void 0||sd(d,KM[h])&&!Qme.call(e,h))&&(e[h]=a[h])}return e}),O2=Jme});function eye(e,t,r){for(var i=-1,n=e==null?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}var ZM,tye=B(()=>{"use strict";l(eye,"arrayIncludesWith"),ZM=eye});function rye(e,t,r,i){var n=-1,a=iM,s=!0,o=e.length,u=[],h=t.length;if(!o)return u;r&&(t=bc(t,pd(r))),i?(a=ZM,s=!1):t.length>=iye&&(a=ow,s=!1,t=new sw(t));e:for(;++n<o;){var d=e[n],p=r==null?d:r(d);if(d=i||d!==0?d:0,s&&p===p){for(var g=h;g--;)if(t[g]===p)continue e;u.push(d)}else a(t,p,i)||u.push(d)}return u}var iye,nye,aKe=B(()=>{"use strict";IM(),Npe(),tye(),Xg(),Eg(),RM(),iye=200,l(rye,"baseDifference"),nye=rye}),aye,P2,sKe=B(()=>{"use strict";aKe(),M2(),qy(),M9(),aye=Ag(function(e,t){return $y(e)?nye(e,Qg(t,1,$y,!0)):[]}),P2=aye});function sye(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ko,oKe=B(()=>{"use strict";l(sye,"last"),ko=sye});function oye(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===void 0?1:Kg(t),hM(e,t<0?0:t,i)):[]}var En,lKe=B(()=>{"use strict";hge(),_2(),l(oye,"drop"),En=oye});function lye(e,t,r){var i=e==null?0:e.length;return i?(t=r||t===void 0?1:Kg(t),t=i-t,hM(e,0,t<0?0:t)):[]}var t1,cKe=B(()=>{"use strict";hge(),_2(),l(lye,"dropRight"),t1=lye});function cye(e){return typeof e=="function"?e:cl}var hw,QM=B(()=>{"use strict";Bu(),l(cye,"castFunction"),hw=cye});function uye(e,t){var r=xr(e)?eM:Ku;return r(e,hw(t))}var Re,JM=B(()=>{"use strict";wpe(),Ad(),QM(),ki(),l(uye,"forEach"),Re=uye}),uKe=B(()=>{"use strict";JM()});function hye(e,t){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}var dye,hKe=B(()=>{"use strict";l(hye,"arrayEvery"),dye=hye});function pye(e,t){var r=!0;return Ku(e,function(i,n,a){return r=!!t(i,n,a),r}),r}var gye,dKe=B(()=>{"use strict";Ad(),l(pye,"baseEvery"),gye=pye});function fye(e,t,r){var i=xr(e)?dye:gye;return r&&$u(e,t,r)&&(t=void 0),i(e,Aa(t,3))}var Gs,pKe=B(()=>{"use strict";hKe(),dKe(),Wa(),ki(),Lg(),l(fye,"every"),Gs=fye});function mye(e,t){var r=[];return Ku(e,function(i,n,a){t(i,n,a)&&r.push(i)}),r}var eI,yye=B(()=>{"use strict";Ad(),l(mye,"baseFilter"),eI=mye});function vye(e,t){var r=xr(e)?tw:eI;return r(e,Aa(t,3))}var Ti,bye=B(()=>{"use strict";dM(),yye(),Wa(),ki(),l(vye,"filter"),Ti=vye});function xye(e){return function(t,r,i){var n=Object(t);if(!Fs(t)){var a=Aa(r,3);t=en(t),r=l(function(o){return a(n[o],o,n)},"predicate")}var s=e(t,r,i);return s>-1?n[a?t[s]:s]:void 0}}var wye,gKe=B(()=>{"use strict";Wa(),yo(),xc(),l(xye,"createFind"),wye=xye});function kye(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=r==null?0:Kg(r);return n<0&&(n=Tye(i+n,0)),tM(e,Aa(t,3),n)}var Tye,Eye,fKe=B(()=>{"use strict";Tpe(),Wa(),_2(),Tye=Math.max,l(kye,"findIndex"),Eye=kye}),Cye,gl,mKe=B(()=>{"use strict";gKe(),fKe(),Cye=wye(Eye),gl=Cye});function Sye(e){return e&&e.length?e[0]:void 0}var Us,yKe=B(()=>{"use strict";l(Sye,"head"),Us=Sye}),vKe=B(()=>{"use strict";yKe()});function _ye(e,t){var r=-1,i=Fs(e)?Array(e.length):[];return Ku(e,function(n,a,s){i[++r]=t(n,a,s)}),i}var tI,Aye=B(()=>{"use strict";Ad(),yo(),l(_ye,"baseMap"),tI=_ye});function Lye(e,t){var r=xr(e)?bc:tI;return r(e,Aa(t,3))}var ft,B2=B(()=>{"use strict";Xg(),Wa(),Aye(),ki(),l(Lye,"map"),ft=Lye});function Nye(e,t){return Qg(ft(e,t),1)}var Xa,Mye=B(()=>{"use strict";M2(),B2(),l(Nye,"flatMap"),Xa=Nye});function Iye(e,t){return e==null?e:U5(e,hw(t),Pu)}var Dye,bKe=B(()=>{"use strict";f9(),QM(),fd(),l(Iye,"forIn"),Dye=Iye});function Rye(e,t){return e&&uw(e,hw(t))}var Oye,xKe=B(()=>{"use strict";WM(),QM(),l(Rye,"forOwn"),Oye=Rye}),Pye,Bye,$ye,Fye,wKe=B(()=>{"use strict";Ry(),rKe(),Pye=Object.prototype,Bye=Pye.hasOwnProperty,$ye=Kme(function(e,t,r){Bye.call(e,r)?e[r].push(t):kg(e,r,[t])}),Fye=$ye});function zye(e,t){return e>t}var Gye,kKe=B(()=>{"use strict";l(zye,"baseGt"),Gye=zye});function Uye(e,t){return e!=null&&jye.call(e,t)}var qye,jye,Hye,TKe=B(()=>{"use strict";qye=Object.prototype,jye=qye.hasOwnProperty,l(Uye,"baseHas"),Hye=Uye});function Vye(e,t){return e!=null&&HM(e,t,Hye)}var Kt,EKe=B(()=>{"use strict";TKe(),_me(),l(Vye,"has"),Kt=Vye});function Yye(e){return typeof e=="string"||!xr(e)&&ps(e)&&ll(e)==Wye}var Wye,aa,rI=B(()=>{"use strict";Du(),ki(),mo(),Wye="[object String]",l(Yye,"isString"),aa=Yye});function Xye(e,t){return bc(t,function(r){return e[r]})}var Kye,CKe=B(()=>{"use strict";Xg(),l(Xye,"baseValues"),Kye=Xye});function Zye(e){return e==null?[]:Kye(e,en(e))}var Wr,Qye=B(()=>{"use strict";CKe(),xc(),l(Zye,"values"),Wr=Zye});function Jye(e,t,r,i){e=Fs(e)?e:Wr(e),r=r&&!i?Kg(r):0;var n=e.length;return r<0&&(r=e2e(n+r,0)),aa(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&X6(e,t,r)>-1}var e2e,sa,SKe=B(()=>{"use strict";rM(),yo(),rI(),_2(),Qye(),e2e=Math.max,l(Jye,"includes"),sa=Jye});function t2e(e,t,r){var i=e==null?0:e.length;if(!i)return-1;var n=r==null?0:Kg(r);return n<0&&(n=r2e(i+n,0)),X6(e,t,n)}var r2e,iI,_Ke=B(()=>{"use strict";rM(),_2(),r2e=Math.max,l(t2e,"indexOf"),iI=t2e});function i2e(e){if(e==null)return!0;if(Fs(e)&&(xr(e)||typeof e=="string"||typeof e.splice=="function"||dd(e)||zy(e)||hd(e)))return!e.length;var t=Xu(e);if(t==n2e||t==a2e)return!e.size;if(Tg(e))return!K6(e).length;for(var r in e)if(o2e.call(e,r))return!1;return!0}var n2e,a2e,s2e,o2e,Br,nI=B(()=>{"use strict";nM(),Jg(),By(),ki(),yo(),Fy(),Py(),W5(),n2e="[object Map]",a2e="[object Set]",s2e=Object.prototype,o2e=s2e.hasOwnProperty,l(i2e,"isEmpty"),Br=i2e});function l2e(e){return ps(e)&&ll(e)==c2e}var c2e,u2e,AKe=B(()=>{"use strict";Du(),mo(),c2e="[object RegExp]",l(l2e,"baseIsRegExp"),u2e=l2e}),aI,h2e,fl,LKe=B(()=>{"use strict";AKe(),Eg(),Y5(),aI=hc&&hc.isRegExp,h2e=aI?pd(aI):u2e,fl=h2e});function d2e(e){return e===void 0}var Gr,NKe=B(()=>{"use strict";l(d2e,"isUndefined"),Gr=d2e});function p2e(e,t){return e<t}var sI,g2e=B(()=>{"use strict";l(p2e,"baseLt"),sI=p2e});function f2e(e,t){var r={};return t=Aa(t,3),uw(e,function(i,n,a){kg(r,n,t(i,n,a))}),r}var $2,MKe=B(()=>{"use strict";Ry(),WM(),Wa(),l(f2e,"mapValues"),$2=f2e});function m2e(e,t,r){for(var i=-1,n=e.length;++i<n;){var a=e[i],s=t(a);if(s!=null&&(o===void 0?s===s&&!Yu(s):r(s,o)))var o=s,u=a}return u}var dw,oI=B(()=>{"use strict";Wg(),l(m2e,"baseExtremum"),dw=m2e});function y2e(e){return e&&e.length?dw(e,cl,Gye):void 0}var Zu,IKe=B(()=>{"use strict";oI(),kKe(),Bu(),l(y2e,"max"),Zu=y2e});function v2e(e){return e&&e.length?dw(e,cl,sI):void 0}var Ld,b2e=B(()=>{"use strict";oI(),g2e(),Bu(),l(v2e,"min"),Ld=v2e});function x2e(e,t){return e&&e.length?dw(e,Aa(t,2),sI):void 0}var pw,DKe=B(()=>{"use strict";oI(),Wa(),g2e(),l(x2e,"minBy"),pw=x2e});function w2e(e){if(typeof e!="function")throw new TypeError(k2e);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var k2e,T2e,RKe=B(()=>{"use strict";k2e="Expected a function",l(w2e,"negate"),T2e=w2e});function E2e(e,t,r,i){if(!ka(e))return e;t=A2(t,e);for(var n=-1,a=t.length,s=a-1,o=e;o!=null&&++n<a;){var u=Zg(t[n]),h=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(n!=s){var d=o[u];h=i?i(d,u,o):void 0,h===void 0&&(h=ka(d)?d:Uy(t[n+1])?[]:{})}Sg(o,u,h),o=o[u]}return e}var C2e,OKe=B(()=>{"use strict";Gy(),Q6(),K5(),$s(),L2(),l(E2e,"baseSet"),C2e=E2e});function S2e(e,t,r){for(var i=-1,n=t.length,a={};++i<n;){var s=t[i],o=N2(e,s);r(o,s)&&C2e(a,A2(s,e),o)}return a}var lI,_2e=B(()=>{"use strict";J6(),OKe(),Q6(),l(S2e,"basePickBy"),lI=S2e});function A2e(e,t){if(e==null)return{};var r=bc(vM(e),function(i){return[i]});return t=Aa(t),lI(e,r,function(i,n){return t(i,n[0])})}var qs,PKe=B(()=>{"use strict";Xg(),Wa(),_2e(),Vge(),l(A2e,"pickBy"),qs=A2e});function L2e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var N2e,BKe=B(()=>{"use strict";l(L2e,"baseSortBy"),N2e=L2e});function M2e(e,t){if(e!==t){var r=e!==void 0,i=e===null,n=e===e,a=Yu(e),s=t!==void 0,o=t===null,u=t===t,h=Yu(t);if(!o&&!h&&!a&&e>t||a&&s&&u&&!o&&!h||i&&s&&u||!r&&u||!n)return 1;if(!i&&!a&&!h&&e<t||h&&r&&n&&!i&&!a||o&&r&&n||!s&&n||!u)return-1}return 0}var I2e,$Ke=B(()=>{"use strict";Wg(),l(M2e,"compareAscending"),I2e=M2e});function D2e(e,t,r){for(var i=-1,n=e.criteria,a=t.criteria,s=n.length,o=r.length;++i<s;){var u=I2e(n[i],a[i]);if(u){if(i>=o)return u;var h=r[i];return u*(h=="desc"?-1:1)}}return e.index-t.index}var R2e,FKe=B(()=>{"use strict";$Ke(),l(D2e,"compareMultiple"),R2e=D2e});function O2e(e,t,r){t.length?t=bc(t,function(a){return xr(a)?function(s){return N2(s,a.length===1?a[0]:a)}:a}):t=[cl];var i=-1;t=bc(t,pd(Aa));var n=tI(e,function(a,s,o){var u=bc(t,function(h){return h(a)});return{criteria:u,index:++i,value:a}});return N2e(n,function(a,s){return R2e(a,s,r)})}var P2e,zKe=B(()=>{"use strict";Xg(),J6(),Wa(),Aye(),BKe(),Eg(),FKe(),Bu(),ki(),l(O2e,"baseOrderBy"),P2e=O2e}),B2e,$2e,GKe=B(()=>{"use strict";Ome(),B2e=YM("length"),$2e=B2e});function F2e(e){for(var t=fI.lastIndex=0;fI.test(e);)++t;return t}var cI,z2e,G2e,U2e,q2e,j2e,H2e,gw,fw,V2e,uI,hI,dI,Y2e,pI,gI,W2e,X2e,K2e,fI,Z2e,UKe=B(()=>{"use strict";cI="\\ud800-\\udfff",z2e="\\u0300-\\u036f",G2e="\\ufe20-\\ufe2f",U2e="\\u20d0-\\u20ff",q2e=z2e+G2e+U2e,j2e="\\ufe0e\\ufe0f",H2e="["+cI+"]",gw="["+q2e+"]",fw="\\ud83c[\\udffb-\\udfff]",V2e="(?:"+gw+"|"+fw+")",uI="[^"+cI+"]",hI="(?:\\ud83c[\\udde6-\\uddff]){2}",dI="[\\ud800-\\udbff][\\udc00-\\udfff]",Y2e="\\u200d",pI=V2e+"?",gI="["+j2e+"]?",W2e="(?:"+Y2e+"(?:"+[uI,hI,dI].join("|")+")"+gI+pI+")*",X2e=gI+pI+W2e,K2e="(?:"+[uI+gw+"?",gw,hI,dI,H2e].join("|")+")",fI=RegExp(fw+"(?="+fw+")|"+K2e+X2e,"g"),l(F2e,"unicodeSize"),Z2e=F2e});function Q2e(e){return wge(e)?Z2e(e):$2e(e)}var J2e,qKe=B(()=>{"use strict";GKe(),wXe(),UKe(),l(Q2e,"stringSize"),J2e=Q2e});function eve(e,t){return lI(e,t,function(r,i){return VM(e,i)})}var tve,jKe=B(()=>{"use strict";_2e(),Lme(),l(eve,"basePick"),tve=eve}),rve,F2,HKe=B(()=>{"use strict";jKe(),xXe(),rve=cge(function(e,t){return e==null?{}:tve(e,t)}),F2=rve});function ive(e,t,r,i){for(var n=-1,a=ave(nve((t-e)/(r||1)),0),s=Array(a);a--;)s[i?a:++n]=e,e+=r;return s}var nve,ave,sve,VKe=B(()=>{"use strict";nve=Math.ceil,ave=Math.max,l(ive,"baseRange"),sve=ive});function ove(e){return function(t,r,i){return i&&typeof i!="number"&&$u(t,r,i)&&(r=i=void 0),t=S2(t),r===void 0?(r=t,t=0):r=S2(r),i=i===void 0?t<r?1:-1:S2(i),sve(t,r,i,e)}}var lve,YKe=B(()=>{"use strict";VKe(),Lg(),fpe(),l(ove,"createRange"),lve=ove}),cve,Nd,WKe=B(()=>{"use strict";YKe(),cve=lve(),Nd=cve});function uve(e,t,r,i,n){return n(e,function(a,s,o){r=i?(i=!1,a):t(r,a,s,o)}),r}var hve,XKe=B(()=>{"use strict";l(uve,"baseReduce"),hve=uve});function dve(e,t,r){var i=xr(e)?Tge:hve,n=arguments.length<3;return i(e,Aa(t,4),r,n,Ku)}var Gi,pve=B(()=>{"use strict";kXe(),Ad(),Wa(),XKe(),ki(),l(dve,"reduce"),Gi=dve});function gve(e,t){var r=xr(e)?tw:eI;return r(e,T2e(Aa(t,3)))}var z2,KKe=B(()=>{"use strict";dM(),yye(),Wa(),ki(),RKe(),l(gve,"reject"),z2=gve});function fve(e){if(e==null)return 0;if(Fs(e))return aa(e)?J2e(e):e.length;var t=Xu(e);return t==mve||t==yve?e.size:K6(e).length}var mve,yve,vve,ZKe=B(()=>{"use strict";nM(),Jg(),yo(),rI(),qKe(),mve="[object Map]",yve="[object Set]",l(fve,"size"),vve=fve});function bve(e,t){var r;return Ku(e,function(i,n,a){return r=t(i,n,a),!r}),!!r}var xve,QKe=B(()=>{"use strict";Ad(),l(bve,"baseSome"),xve=bve});function wve(e,t,r){var i=xr(e)?DM:xve;return r&&$u(e,t,r)&&(t=void 0),i(e,Aa(t,3))}var mI,JKe=B(()=>{"use strict";Ife(),Wa(),QKe(),ki(),Lg(),l(wve,"some"),mI=wve}),kve,r1,eZe=B(()=>{"use strict";M2(),zKe(),qy(),Lg(),kve=Ag(function(e,t){if(e==null)return[];var r=t.length;return r>1&&$u(e,t[0],t[1])?t=[]:r>2&&$u(t[0],t[1],t[2])&&(t=[t[0]]),P2e(e,Qg(t,1),[])}),r1=kve}),Tve,Eve,Cve,tZe=B(()=>{"use strict";Kge(),bpe(),PM(),Tve=1/0,Eve=_d&&1/lw(new _d([,-0]))[1]==Tve?function(e){return new _d(e)}:Ji,Cve=Eve});function Sve(e,t,r){var i=-1,n=iM,a=e.length,s=!0,o=[],u=o;if(r)s=!1,n=ZM;else if(a>=_ve){var h=t?null:Cve(e);if(h)return lw(h);s=!1,n=ow,u=new sw}else u=t?[]:o;e:for(;++i<a;){var d=e[i],p=t?t(d):d;if(d=r||d!==0?d:0,s&&p===p){for(var g=u.length;g--;)if(u[g]===p)continue e;t&&u.push(p),o.push(d)}else n(u,p,r)||(u!==o&&u.push(p),o.push(d))}return o}var _ve,mw,yI=B(()=>{"use strict";IM(),Npe(),tye(),RM(),tZe(),PM(),_ve=200,l(Sve,"baseUniq"),mw=Sve}),Ave,Lve,rZe=B(()=>{"use strict";M2(),qy(),yI(),M9(),Ave=Ag(function(e){return mw(Qg(e,1,$y,!0))}),Lve=Ave});function Nve(e){return e&&e.length?mw(e):[]}var yw,iZe=B(()=>{"use strict";yI(),l(Nve,"uniq"),yw=Nve});function Mve(e,t){return e&&e.length?mw(e,Aa(t,2)):[]}var Ive,nZe=B(()=>{"use strict";Wa(),yI(),l(Mve,"uniqBy"),Ive=Mve});function Dve(e){var t=++Rve;return sM(e)+t}var Rve,vw,aZe=B(()=>{"use strict";Zpe(),Rve=0,l(Dve,"uniqueId"),vw=Dve});function Ove(e,t,r){for(var i=-1,n=e.length,a=t.length,s={};++i<n;){var o=i<a?t[i]:void 0;r(s,e[i],o)}return s}var Pve,sZe=B(()=>{"use strict";l(Ove,"baseZipObject"),Pve=Ove});function Bve(e,t){return Pve(e||[],t||[],Sg)}var $ve,oZe=B(()=>{"use strict";Gy(),sZe(),l(Bve,"zipObject"),$ve=Bve}),Ut=B(()=>{"use strict";fXe(),xfe(),$Xe(),FXe(),Qse(),nKe(),sKe(),lKe(),cKe(),uKe(),pKe(),bye(),mKe(),vKe(),Mye(),uM(),JM(),bKe(),xKe(),wKe(),EKe(),Bu(),SKe(),_Ke(),ki(),nI(),D5(),$s(),LKe(),rI(),NKe(),xc(),oKe(),B2(),MKe(),IKe(),poe(),b2e(),DKe(),bpe(),iKe(),HKe(),PKe(),WKe(),pve(),KKe(),ZKe(),JKe(),eZe(),rZe(),iZe(),aZe(),Qye(),oZe()});function vI(e,t){e[t]?e[t]++:e[t]=1}function bI(e,t){--e[t]||delete e[t]}function i1(e,t,r,i){var n=""+t,a=""+r;if(!e&&n>a){var s=n;n=a,a=s}return n+xI+a+xI+(Gr(i)?zve:i)}function Fve(e,t,r,i){var n=""+t,a=""+r;if(!e&&n>a){var s=n;n=a,a=s}var o={v:n,w:a};return i&&(o.name=i),o}function bw(e,t){return i1(e,t.v,t.w,t.name)}var zve,Qu,xI,La,wI=B(()=>{"use strict";var e;Ut(),zve="\0",Qu="\0",xI="",La=(e=class{constructor(r={}){this._isDirected=Object.prototype.hasOwnProperty.call(r,"directed")?r.directed:!0,this._isMultigraph=Object.prototype.hasOwnProperty.call(r,"multigraph")?r.multigraph:!1,this._isCompound=Object.prototype.hasOwnProperty.call(r,"compound")?r.compound:!1,this._label=void 0,this._defaultNodeLabelFn=dc(void 0),this._defaultEdgeLabelFn=dc(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Qu]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(r){return this._label=r,this}graph(){return this._label}setDefaultNodeLabel(r){return ds(r)||(r=dc(r)),this._defaultNodeLabelFn=r,this}nodeCount(){return this._nodeCount}nodes(){return en(this._nodes)}sources(){var r=this;return Ti(this.nodes(),function(i){return Br(r._in[i])})}sinks(){var r=this;return Ti(this.nodes(),function(i){return Br(r._out[i])})}setNodes(r,i){var n=arguments,a=this;return Re(r,function(s){n.length>1?a.setNode(s,i):a.setNode(s)}),this}setNode(r,i){return Object.prototype.hasOwnProperty.call(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=i),this):(this._nodes[r]=arguments.length>1?i:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=Qu,this._children[r]={},this._children[Qu][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)}node(r){return this._nodes[r]}hasNode(r){return Object.prototype.hasOwnProperty.call(this._nodes,r)}removeNode(r){if(Object.prototype.hasOwnProperty.call(this._nodes,r)){var i=l(n=>this.removeEdge(this._edgeObjs[n]),"removeEdge");delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],Re(this.children(r),n=>{this.setParent(n)}),delete this._children[r]),Re(en(this._in[r]),i),delete this._in[r],delete this._preds[r],Re(en(this._out[r]),i),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this}setParent(r,i){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Gr(i))i=Qu;else{i+="";for(var n=i;!Gr(n);n=this.parent(n))if(n===r)throw new Error("Setting "+i+" as parent of "+r+" would create a cycle");this.setNode(i)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=i,this._children[i][r]=!0,this}_removeFromParentsChildList(r){delete this._children[this._parent[r]][r]}parent(r){if(this._isCompound){var i=this._parent[r];if(i!==Qu)return i}}children(r){if(Gr(r)&&(r=Qu),this._isCompound){var i=this._children[r];if(i)return en(i)}else{if(r===Qu)return this.nodes();if(this.hasNode(r))return[]}}predecessors(r){var i=this._preds[r];if(i)return en(i)}successors(r){var i=this._sucs[r];if(i)return en(i)}neighbors(r){var i=this.predecessors(r);if(i)return Lve(i,this.successors(r))}isLeaf(r){var i;return this.isDirected()?i=this.successors(r):i=this.neighbors(r),i.length===0}filterNodes(r){var i=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});i.setGraph(this.graph());var n=this;Re(this._nodes,function(o,u){r(u)&&i.setNode(u,o)}),Re(this._edgeObjs,function(o){i.hasNode(o.v)&&i.hasNode(o.w)&&i.setEdge(o,n.edge(o))});var a={};function s(o){var u=n.parent(o);return u===void 0||i.hasNode(u)?(a[o]=u,u):u in a?a[u]:s(u)}return l(s,"findParent"),this._isCompound&&Re(i.nodes(),function(o){i.setParent(o,s(o))}),i}setDefaultEdgeLabel(r){return ds(r)||(r=dc(r)),this._defaultEdgeLabelFn=r,this}edgeCount(){return this._edgeCount}edges(){return Wr(this._edgeObjs)}setPath(r,i){var n=this,a=arguments;return Gi(r,function(s,o){return a.length>1?n.setEdge(s,o,i):n.setEdge(s,o),o}),this}setEdge(){var r,i,n,a,s=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(r=o.v,i=o.w,n=o.name,arguments.length===2&&(a=arguments[1],s=!0)):(r=o,i=arguments[1],n=arguments[3],arguments.length>2&&(a=arguments[2],s=!0)),r=""+r,i=""+i,Gr(n)||(n=""+n);var u=i1(this._isDirected,r,i,n);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,u))return s&&(this._edgeLabels[u]=a),this;if(!Gr(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(i),this._edgeLabels[u]=s?a:this._defaultEdgeLabelFn(r,i,n);var h=Fve(this._isDirected,r,i,n);return r=h.v,i=h.w,Object.freeze(h),this._edgeObjs[u]=h,vI(this._preds[i],r),vI(this._sucs[r],i),this._in[i][u]=h,this._out[r][u]=h,this._edgeCount++,this}edge(r,i,n){var a=arguments.length===1?bw(this._isDirected,arguments[0]):i1(this._isDirected,r,i,n);return this._edgeLabels[a]}hasEdge(r,i,n){var a=arguments.length===1?bw(this._isDirected,arguments[0]):i1(this._isDirected,r,i,n);return Object.prototype.hasOwnProperty.call(this._edgeLabels,a)}removeEdge(r,i,n){var a=arguments.length===1?bw(this._isDirected,arguments[0]):i1(this._isDirected,r,i,n),s=this._edgeObjs[a];return s&&(r=s.v,i=s.w,delete this._edgeLabels[a],delete this._edgeObjs[a],bI(this._preds[i],r),bI(this._sucs[r],i),delete this._in[i][a],delete this._out[r][a],this._edgeCount--),this}inEdges(r,i){var n=this._in[r];if(n){var a=Wr(n);return i?Ti(a,function(s){return s.v===i}):a}}outEdges(r,i){var n=this._out[r];if(n){var a=Wr(n);return i?Ti(a,function(s){return s.w===i}):a}}nodeEdges(r,i){var n=this.inEdges(r,i);if(n)return n.concat(this.outEdges(r,i))}},l(e,"Graph"),e),La.prototype._nodeCount=0,La.prototype._edgeCount=0,l(vI,"incrementOrInitEntry"),l(bI,"decrementOrRemoveEntry"),l(i1,"edgeArgsToId"),l(Fve,"edgeArgsToObj"),l(bw,"edgeObjToId")}),To=B(()=>{"use strict";wI()});function kI(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function Gve(e,t){if(e!=="_next"&&e!=="_prev")return t}var Uve,lZe=B(()=>{"use strict";var e;Uve=(e=class{constructor(){var r={};r._next=r._prev=r,this._sentinel=r}dequeue(){var r=this._sentinel,i=r._prev;if(i!==r)return kI(i),i}enqueue(r){var i=this._sentinel;r._prev&&r._next&&kI(r),r._next=i._next,i._next._prev=r,i._next=r,r._prev=i}toString(){for(var r=[],i=this._sentinel,n=i._prev;n!==i;)r.push(JSON.stringify(n,Gve)),n=n._prev;return"["+r.join(", ")+"]"}},l(e,"List"),e),l(kI,"unlink"),l(Gve,"filterOutLinks")});function qve(e,t){if(e.nodeCount()<=1)return[];var r=Hve(e,t||Vve),i=jve(r.graph,r.buckets,r.zeroIdx);return mn(ft(i,function(n){return e.outEdges(n.v,n.w)}))}function jve(e,t,r){for(var i=[],n=t[t.length-1],a=t[0],s;e.nodeCount();){for(;s=a.dequeue();)xw(e,t,r,s);for(;s=n.dequeue();)xw(e,t,r,s);if(e.nodeCount()){for(var o=t.length-2;o>0;--o)if(s=t[o].dequeue(),s){i=i.concat(xw(e,t,r,s,!0));break}}}return i}function xw(e,t,r,i,n){var a=n?[]:void 0;return Re(e.inEdges(i.v),function(s){var o=e.edge(s),u=e.node(s.v);n&&a.push({v:s.v,w:s.w}),u.out-=o,ww(t,r,u)}),Re(e.outEdges(i.v),function(s){var o=e.edge(s),u=s.w,h=e.node(u);h.in-=o,ww(t,r,h)}),e.removeNode(i.v),a}function Hve(e,t){var r=new La,i=0,n=0;Re(e.nodes(),function(o){r.setNode(o,{v:o,in:0,out:0})}),Re(e.edges(),function(o){var u=r.edge(o.v,o.w)||0,h=t(o),d=u+h;r.setEdge(o.v,o.w,d),n=Math.max(n,r.node(o.v).out+=h),i=Math.max(i,r.node(o.w).in+=h)});var a=Nd(n+i+3).map(function(){return new Uve}),s=i+1;return Re(r.nodes(),function(o){ww(a,s,r.node(o))}),{graph:r,buckets:a,zeroIdx:s}}function ww(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Vve,cZe=B(()=>{"use strict";Ut(),To(),lZe(),Vve=dc(1),l(qve,"greedyFAS"),l(jve,"doGreedyFAS"),l(xw,"removeNode"),l(Hve,"buildState"),l(ww,"assignBucket")});function Yve(e){var t=e.graph().acyclicer==="greedy"?qve(e,r(e)):Wve(e);Re(t,function(i){var n=e.edge(i);e.removeEdge(i),n.forwardName=i.name,n.reversed=!0,e.setEdge(i.w,i.v,n,vw("rev"))});function r(i){return function(n){return i.edge(n).weight}}l(r,"weightFn")}function Wve(e){var t=[],r={},i={};function n(a){Object.prototype.hasOwnProperty.call(i,a)||(i[a]=!0,r[a]=!0,Re(e.outEdges(a),function(s){Object.prototype.hasOwnProperty.call(r,s.w)?t.push(s):n(s.w)}),delete r[a])}return l(n,"dfs"),Re(e.nodes(),n),t}function Xve(e){Re(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var i=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,i)}})}var Kve=B(()=>{"use strict";Ut(),cZe(),l(Yve,"run"),l(Wve,"dfsFAS"),l(Xve,"undo")});function Md(e,t,r,i){var n;do n=vw(i);while(e.hasNode(n));return r.dummy=t,e.setNode(n,r),n}function Zve(e){var t=new La().setGraph(e.graph());return Re(e.nodes(),function(r){t.setNode(r,e.node(r))}),Re(e.edges(),function(r){var i=t.edge(r.v,r.w)||{weight:0,minlen:1},n=e.edge(r);t.setEdge(r.v,r.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}),t}function TI(e){var t=new La({multigraph:e.isMultigraph()}).setGraph(e.graph());return Re(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Re(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function EI(e,t){var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2;if(!n&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=o*n/a,h=o):(n<0&&(s=-s),u=s,h=s*a/n),{x:r+u,y:i+h}}function G2(e){var t=ft(Nd(SI(e)+1),function(){return[]});return Re(e.nodes(),function(r){var i=e.node(r),n=i.rank;Gr(n)||(t[n][i.order]=r)}),t}function Qve(e){var t=Ld(ft(e.nodes(),function(r){return e.node(r).rank}));Re(e.nodes(),function(r){var i=e.node(r);Kt(i,"rank")&&(i.rank-=t)})}function Jve(e){var t=Ld(ft(e.nodes(),function(a){return e.node(a).rank})),r=[];Re(e.nodes(),function(a){var s=e.node(a).rank-t;r[s]||(r[s]=[]),r[s].push(a)});var i=0,n=e.graph().nodeRankFactor;Re(r,function(a,s){Gr(a)&&s%n!==0?--i:i&&Re(a,function(o){e.node(o).rank+=i})})}function CI(e,t,r,i){var n={width:0,height:0};return arguments.length>=4&&(n.rank=r,n.order=i),Md(e,"border",n,t)}function SI(e){return Zu(ft(e.nodes(),function(t){var r=e.node(t).rank;if(!Gr(r))return r}))}function ebe(e,t){var r={lhs:[],rhs:[]};return Re(e,function(i){t(i)?r.lhs.push(i):r.rhs.push(i)}),r}function tbe(e,t){var r=XM();try{return t()}finally{console.log(e+" time: "+(XM()-r)+"ms")}}function rbe(e,t){return t()}var wc=B(()=>{"use strict";Ut(),To(),l(Md,"addDummyNode"),l(Zve,"simplify"),l(TI,"asNonCompoundGraph"),l(EI,"intersectRect"),l(G2,"buildLayerMatrix"),l(Qve,"normalizeRanks"),l(Jve,"removeEmptyRanks"),l(CI,"addBorderNode"),l(SI,"maxRank"),l(ebe,"partition"),l(tbe,"time"),l(rbe,"notime")});function ibe(e){function t(r){var i=e.children(r),n=e.node(r);if(i.length&&Re(i,t),Object.prototype.hasOwnProperty.call(n,"minRank")){n.borderLeft=[],n.borderRight=[];for(var a=n.minRank,s=n.maxRank+1;a<s;++a)_I(e,"borderLeft","_bl",r,n,a),_I(e,"borderRight","_br",r,n,a)}}l(t,"dfs"),Re(e.children(),t)}function _I(e,t,r,i,n,a){var s={width:0,height:0,rank:a,borderType:t},o=n[t][a-1],u=Md(e,"border",s,r);n[t][a]=u,e.setParent(u,i),o&&e.setEdge(o,u,{weight:1})}var uZe=B(()=>{"use strict";Ut(),wc(),l(ibe,"addBorderSegments"),l(_I,"addBorderNode")});function nbe(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&AI(e)}function abe(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&sbe(e),(t==="lr"||t==="rl")&&(obe(e),AI(e))}function AI(e){Re(e.nodes(),function(t){LI(e.node(t))}),Re(e.edges(),function(t){LI(e.edge(t))})}function LI(e){var t=e.width;e.width=e.height,e.height=t}function sbe(e){Re(e.nodes(),function(t){kw(e.node(t))}),Re(e.edges(),function(t){var r=e.edge(t);Re(r.points,kw),Object.prototype.hasOwnProperty.call(r,"y")&&kw(r)})}function kw(e){e.y=-e.y}function obe(e){Re(e.nodes(),function(t){Tw(e.node(t))}),Re(e.edges(),function(t){var r=e.edge(t);Re(r.points,Tw),Object.prototype.hasOwnProperty.call(r,"x")&&Tw(r)})}function Tw(e){var t=e.x;e.x=e.y,e.y=t}var hZe=B(()=>{"use strict";Ut(),l(nbe,"adjust"),l(abe,"undo"),l(AI,"swapWidthHeight"),l(LI,"swapWidthHeightOne"),l(sbe,"reverseY"),l(kw,"reverseYOne"),l(obe,"swapXY"),l(Tw,"swapXYOne")});function lbe(e){e.graph().dummyChains=[],Re(e.edges(),function(t){cbe(e,t)})}function cbe(e,t){var r=t.v,i=e.node(r).rank,n=t.w,a=e.node(n).rank,s=t.name,o=e.edge(t),u=o.labelRank;if(a!==i+1){e.removeEdge(t);var h=void 0,d,p;for(p=0,++i;i<a;++p,++i)o.points=[],h={width:0,height:0,edgeLabel:o,edgeObj:t,rank:i},d=Md(e,"edge",h,"_d"),i===u&&(h.width=o.width,h.height=o.height,h.dummy="edge-label",h.labelpos=o.labelpos),e.setEdge(r,d,{weight:o.weight},s),p===0&&e.graph().dummyChains.push(d),r=d;e.setEdge(r,n,{weight:o.weight},s)}}function ube(e){Re(e.graph().dummyChains,function(t){var r=e.node(t),i=r.edgeLabel,n;for(e.setEdge(r.edgeObj,i);r.dummy;)n=e.successors(t)[0],e.removeNode(t),i.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),t=n,r=e.node(t)})}var hbe=B(()=>{"use strict";Ut(),wc(),l(lbe,"run"),l(cbe,"normalizeEdge"),l(ube,"undo")});function Ew(e){var t={};function r(i){var n=e.node(i);if(Object.prototype.hasOwnProperty.call(t,i))return n.rank;t[i]=!0;var a=Ld(ft(e.outEdges(i),function(s){return r(s.w)-e.edge(s).minlen}));return(a===Number.POSITIVE_INFINITY||a===void 0||a===null)&&(a=0),n.rank=a}l(r,"dfs"),Re(e.sources(),r)}function n1(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var NI=B(()=>{"use strict";Ut(),l(Ew,"longestPath"),l(n1,"slack")});function MI(e){var t=new La({directed:!1}),r=e.nodes()[0],i=e.nodeCount();t.setNode(r,{});for(var n,a;dbe(t,e)<i;)n=pbe(t,e),a=t.hasNode(n.v)?n1(e,n):-n1(e,n),gbe(t,e,a);return t}function dbe(e,t){function r(i){Re(t.nodeEdges(i),function(n){var a=n.v,s=i===a?n.w:a;!e.hasNode(s)&&!n1(t,n)&&(e.setNode(s,{}),e.setEdge(i,s,{}),r(s))})}return l(r,"dfs"),Re(e.nodes(),r),e.nodeCount()}function pbe(e,t){return pw(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return n1(t,r)})}function gbe(e,t,r){Re(e.nodes(),function(i){t.node(i).rank+=r})}var fbe=B(()=>{"use strict";Ut(),To(),NI(),l(MI,"feasibleTree"),l(dbe,"tightTree"),l(pbe,"findMinSlackEdge"),l(gbe,"shiftRanks")}),dZe=B(()=>{"use strict"}),mbe=B(()=>{"use strict"}),pZe,ybe=B(()=>{"use strict";Ut(),mbe(),pZe=dc(1)}),gZe=B(()=>{"use strict";ybe()}),vbe=B(()=>{"use strict"}),fZe=B(()=>{"use strict";vbe()}),mZe,yZe=B(()=>{"use strict";Ut(),mZe=dc(1)});function bbe(e){var t={},r={},i=[];function n(a){if(Object.prototype.hasOwnProperty.call(r,a))throw new U2;Object.prototype.hasOwnProperty.call(t,a)||(r[a]=!0,t[a]=!0,Re(e.predecessors(a),n),delete r[a],i.push(a))}if(l(n,"visit"),Re(e.sinks(),n),vve(t)!==e.nodeCount())throw new U2;return i}function U2(){}var xbe=B(()=>{"use strict";Ut(),bbe.CycleException=U2,l(bbe,"topsort"),l(U2,"CycleException"),U2.prototype=new Error}),vZe=B(()=>{"use strict";xbe()});function II(e,t,r){xr(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),n=[],a={};return Re(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);DI(e,s,r==="post",a,i,n)}),n}function DI(e,t,r,i,n,a){Object.prototype.hasOwnProperty.call(i,t)||(i[t]=!0,r||a.push(t),Re(n(t),function(s){DI(e,s,r,i,n,a)}),r&&a.push(t))}var wbe=B(()=>{"use strict";Ut(),l(II,"dfs"),l(DI,"doDfs")});function kbe(e,t){return II(e,t,"post")}var bZe=B(()=>{"use strict";wbe(),l(kbe,"postorder")});function Tbe(e,t){return II(e,t,"pre")}var xZe=B(()=>{"use strict";wbe(),l(Tbe,"preorder")}),wZe=B(()=>{"use strict";mbe(),wI()}),kZe=B(()=>{"use strict";dZe(),ybe(),gZe(),fZe(),yZe(),vZe(),bZe(),xZe(),wZe(),vbe(),xbe()});function Ju(e){e=Zve(e),Ew(e);var t=MI(e);Sw(t),Cw(t,e);for(var r,i;r=PI(t);)i=BI(t,e,r),$I(t,e,r,i)}function Cw(e,t){var r=kbe(e,e.nodes());r=r.slice(0,r.length-1),Re(r,function(i){Ebe(e,t,i)})}function Ebe(e,t,r){var i=e.node(r),n=i.parent;e.edge(r,n).cutvalue=RI(e,t,r)}function RI(e,t,r){var i=e.node(r),n=i.parent,a=!0,s=t.edge(r,n),o=0;return s||(a=!1,s=t.edge(n,r)),o=s.weight,Re(t.nodeEdges(r),function(u){var h=u.v===r,d=h?u.w:u.v;if(d!==n){var p=h===a,g=t.edge(u).weight;if(o+=p?g:-g,Sbe(e,r,d)){var f=e.edge(r,d).cutvalue;o+=p?-f:f}}}),o}function Sw(e,t){arguments.length<2&&(t=e.nodes()[0]),OI(e,{},1,t)}function OI(e,t,r,i,n){var a=r,s=e.node(i);return t[i]=!0,Re(e.neighbors(i),function(o){Object.prototype.hasOwnProperty.call(t,o)||(r=OI(e,t,r,o,i))}),s.low=a,s.lim=r++,n?s.parent=n:delete s.parent,r}function PI(e){return gl(e.edges(),function(t){return e.edge(t).cutvalue<0})}function BI(e,t,r){var i=r.v,n=r.w;t.hasEdge(i,n)||(i=r.w,n=r.v);var a=e.node(i),s=e.node(n),o=a,u=!1;a.lim>s.lim&&(o=s,u=!0);var h=Ti(t.edges(),function(d){return u===FI(e,e.node(d.v),o)&&u!==FI(e,e.node(d.w),o)});return pw(h,function(d){return n1(t,d)})}function $I(e,t,r,i){var n=r.v,a=r.w;e.removeEdge(n,a),e.setEdge(i.v,i.w,{}),Sw(e),Cw(e,t),Cbe(e,t)}function Cbe(e,t){var r=gl(e.nodes(),function(n){return!t.node(n).parent}),i=Tbe(e,r);i=i.slice(1),Re(i,function(n){var a=e.node(n).parent,s=t.edge(n,a),o=!1;s||(s=t.edge(a,n),o=!0),t.node(n).rank=t.node(a).rank+(o?s.minlen:-s.minlen)})}function Sbe(e,t,r){return e.hasEdge(t,r)}function FI(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var TZe=B(()=>{"use strict";Ut(),kZe(),wc(),fbe(),NI(),Ju.initLowLimValues=Sw,Ju.initCutValues=Cw,Ju.calcCutValue=RI,Ju.leaveEdge=PI,Ju.enterEdge=BI,Ju.exchangeEdges=$I,l(Ju,"networkSimplex"),l(Cw,"initCutValues"),l(Ebe,"assignCutValue"),l(RI,"calcCutValue"),l(Sw,"initLowLimValues"),l(OI,"dfsAssignLowLim"),l(PI,"leaveEdge"),l(BI,"enterEdge"),l($I,"exchangeEdges"),l(Cbe,"updateRanks"),l(Sbe,"isTreeEdge"),l(FI,"isDescendant")});function _be(e){switch(e.graph().ranker){case"network-simplex":zI(e);break;case"tight-tree":Abe(e);break;case"longest-path":Lbe(e);break;default:zI(e)}}function Abe(e){Ew(e),MI(e)}function zI(e){Ju(e)}var Lbe,Nbe=B(()=>{"use strict";fbe(),TZe(),NI(),l(_be,"rank"),Lbe=Ew,l(Abe,"tightTreeRanker"),l(zI,"networkSimplexRanker")});function Mbe(e){var t=Md(e,"root",{},"_root"),r=Ibe(e),i=Zu(Wr(r))-1,n=2*i+1;e.graph().nestingRoot=t,Re(e.edges(),function(s){e.edge(s).minlen*=n});var a=Dbe(e)+1;Re(e.children(),function(s){GI(e,t,n,a,i,r,s)}),e.graph().nodeRankFactor=n}function GI(e,t,r,i,n,a,s){var o=e.children(s);if(!o.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var u=CI(e,"_bt"),h=CI(e,"_bb"),d=e.node(s);e.setParent(u,s),d.borderTop=u,e.setParent(h,s),d.borderBottom=h,Re(o,function(p){GI(e,t,r,i,n,a,p);var g=e.node(p),f=g.borderTop?g.borderTop:p,m=g.borderBottom?g.borderBottom:p,x=g.borderTop?i:2*i,T=f!==m?1:n-a[s]+1;e.setEdge(u,f,{weight:x,minlen:T,nestingEdge:!0}),e.setEdge(m,h,{weight:x,minlen:T,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:n+a[s]})}function Ibe(e){var t={};function r(i,n){var a=e.children(i);a&&a.length&&Re(a,function(s){r(s,n+1)}),t[i]=n}return l(r,"dfs"),Re(e.children(),function(i){r(i,1)}),t}function Dbe(e){return Gi(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Rbe(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,Re(e.edges(),function(r){var i=e.edge(r);i.nestingEdge&&e.removeEdge(r)})}var EZe=B(()=>{"use strict";Ut(),wc(),l(Mbe,"run"),l(GI,"dfs"),l(Ibe,"treeDepths"),l(Dbe,"sumWeights"),l(Rbe,"cleanup")});function Obe(e,t,r){var i={},n;Re(r,function(a){for(var s=e.parent(a),o,u;s;){if(o=e.parent(s),o?(u=i[o],i[o]=s):(u=n,n=s),u&&u!==s){t.setEdge(u,s);return}s=o}})}var CZe=B(()=>{"use strict";Ut(),l(Obe,"addSubgraphConstraints")});function Pbe(e,t,r){var i=Bbe(e),n=new La({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(a){return e.node(a)});return Re(e.nodes(),function(a){var s=e.node(a),o=e.parent(a);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(n.setNode(a),n.setParent(a,o||i),Re(e[r](a),function(u){var h=u.v===a?u.w:u.v,d=n.edge(h,a),p=Gr(d)?0:d.weight;n.setEdge(h,a,{weight:e.edge(u).weight+p})}),Object.prototype.hasOwnProperty.call(s,"minRank")&&n.setNode(a,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),n}function Bbe(e){for(var t;e.hasNode(t=vw("_root")););return t}var SZe=B(()=>{"use strict";Ut(),To(),l(Pbe,"buildLayerGraph"),l(Bbe,"createRootNode")});function $be(e,t){for(var r=0,i=1;i<t.length;++i)r+=Fbe(e,t[i-1],t[i]);return r}function Fbe(e,t,r){for(var i=$ve(r,ft(r,function(h,d){return d})),n=mn(ft(t,function(h){return r1(ft(e.outEdges(h),function(d){return{pos:i[d.w],weight:e.edge(d).weight}}),"pos")})),a=1;a<r.length;)a<<=1;var s=2*a-1;a-=1;var o=ft(new Array(s),function(){return 0}),u=0;return Re(n.forEach(function(h){var d=h.pos+a;o[d]+=h.weight;for(var p=0;d>0;)d%2&&(p+=o[d+1]),d=d-1>>1,o[d]+=h.weight;u+=h.weight*p})),u}var _Ze=B(()=>{"use strict";Ut(),l($be,"crossCount"),l(Fbe,"twoLayerCrossCount")});function zbe(e){var t={},r=Ti(e.nodes(),function(o){return!e.children(o).length}),i=Zu(ft(r,function(o){return e.node(o).rank})),n=ft(Nd(i+1),function(){return[]});function a(o){if(!Kt(t,o)){t[o]=!0;var u=e.node(o);n[u.rank].push(o),Re(e.successors(o),a)}}l(a,"dfs");var s=r1(r,function(o){return e.node(o).rank});return Re(s,a),n}var AZe=B(()=>{"use strict";Ut(),l(zbe,"initOrder")});function Gbe(e,t){return ft(t,function(r){var i=e.inEdges(r);if(i.length){var n=Gi(i,function(a,s){var o=e.edge(s),u=e.node(s.v);return{sum:a.sum+o.weight*u.order,weight:a.weight+o.weight}},{sum:0,weight:0});return{v:r,barycenter:n.sum/n.weight,weight:n.weight}}else return{v:r}})}var LZe=B(()=>{"use strict";Ut(),l(Gbe,"barycenter")});function Ube(e,t){var r={};Re(e,function(n,a){var s=r[n.v]={indegree:0,in:[],out:[],vs:[n.v],i:a};Gr(n.barycenter)||(s.barycenter=n.barycenter,s.weight=n.weight)}),Re(t.edges(),function(n){var a=r[n.v],s=r[n.w];!Gr(a)&&!Gr(s)&&(s.indegree++,a.out.push(r[n.w]))});var i=Ti(r,function(n){return!n.indegree});return qbe(i)}function qbe(e){var t=[];function r(a){return function(s){s.merged||(Gr(s.barycenter)||Gr(a.barycenter)||s.barycenter>=a.barycenter)&&jbe(a,s)}}l(r,"handleIn");function i(a){return function(s){s.in.push(a),--s.indegree===0&&e.push(s)}}for(l(i,"handleOut");e.length;){var n=e.pop();t.push(n),Re(n.in.reverse(),r(n)),Re(n.out,i(n))}return ft(Ti(t,function(a){return!a.merged}),function(a){return F2(a,["vs","i","barycenter","weight"])})}function jbe(e,t){var r=0,i=0;e.weight&&(r+=e.barycenter*e.weight,i+=e.weight),t.weight&&(r+=t.barycenter*t.weight,i+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/i,e.weight=i,e.i=Math.min(t.i,e.i),t.merged=!0}var NZe=B(()=>{"use strict";Ut(),l(Ube,"resolveConflicts"),l(qbe,"doResolveConflicts"),l(jbe,"mergeEntries")});function Hbe(e,t){var r=ebe(e,function(d){return Object.prototype.hasOwnProperty.call(d,"barycenter")}),i=r.lhs,n=r1(r.rhs,function(d){return-d.i}),a=[],s=0,o=0,u=0;i.sort(Vbe(!!t)),u=UI(a,n,u),Re(i,function(d){u+=d.vs.length,a.push(d.vs),s+=d.barycenter*d.weight,o+=d.weight,u=UI(a,n,u)});var h={vs:mn(a)};return o&&(h.barycenter=s/o,h.weight=o),h}function UI(e,t,r){for(var i;t.length&&(i=ko(t)).i<=r;)t.pop(),e.push(i.vs),r++;return r}function Vbe(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var MZe=B(()=>{"use strict";Ut(),wc(),l(Hbe,"sort"),l(UI,"consumeUnsortable"),l(Vbe,"compareWithBias")});function qI(e,t,r,i){var n=e.children(t),a=e.node(t),s=a?a.borderLeft:void 0,o=a?a.borderRight:void 0,u={};s&&(n=Ti(n,function(m){return m!==s&&m!==o}));var h=Gbe(e,n);Re(h,function(m){if(e.children(m.v).length){var x=qI(e,m.v,r,i);u[m.v]=x,Object.prototype.hasOwnProperty.call(x,"barycenter")&&Wbe(m,x)}});var d=Ube(h,r);Ybe(d,u);var p=Hbe(d,i);if(s&&(p.vs=mn([s,p.vs,o]),e.predecessors(s).length)){var g=e.node(e.predecessors(s)[0]),f=e.node(e.predecessors(o)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+f.order)/(p.weight+2),p.weight+=2}return p}function Ybe(e,t){Re(e,function(r){r.vs=mn(r.vs.map(function(i){return t[i]?t[i].vs:i}))})}function Wbe(e,t){Gr(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var IZe=B(()=>{"use strict";Ut(),LZe(),NZe(),MZe(),l(qI,"sortSubgraph"),l(Ybe,"expandSubgraphs"),l(Wbe,"mergeBarycenters")});function Xbe(e){var t=SI(e),r=jI(e,Nd(1,t+1),"inEdges"),i=jI(e,Nd(t-1,-1,-1),"outEdges"),n=zbe(e);HI(e,n);for(var a=Number.POSITIVE_INFINITY,s,o=0,u=0;u<4;++o,++u){Kbe(o%2?r:i,o%4>=2),n=G2(e);var h=$be(e,n);h<a&&(u=0,s=Efe(n),a=h)}HI(e,s)}function jI(e,t,r){return ft(t,function(i){return Pbe(e,i,r)})}function Kbe(e,t){var r=new La;Re(e,function(i){var n=i.graph().root,a=qI(i,n,r,t);Re(a.vs,function(s,o){i.node(s).order=o}),Obe(i,r,a.vs)})}function HI(e,t){Re(t,function(r){Re(r,function(i,n){e.node(i).order=n})})}var DZe=B(()=>{"use strict";Ut(),To(),wc(),CZe(),SZe(),_Ze(),AZe(),IZe(),l(Xbe,"order"),l(jI,"buildLayerGraphs"),l(Kbe,"sweepLayerGraphs"),l(HI,"assignOrder")});function Zbe(e){var t=Jbe(e);Re(e.graph().dummyChains,function(r){for(var i=e.node(r),n=i.edgeObj,a=Qbe(e,t,n.v,n.w),s=a.path,o=a.lca,u=0,h=s[u],d=!0;r!==n.w;){if(i=e.node(r),d){for(;(h=s[u])!==o&&e.node(h).maxRank<i.rank;)u++;h===o&&(d=!1)}if(!d){for(;u<s.length-1&&e.node(h=s[u+1]).minRank<=i.rank;)u++;h=s[u]}e.setParent(r,h),r=e.successors(r)[0]}})}function Qbe(e,t,r,i){var n=[],a=[],s=Math.min(t[r].low,t[i].low),o=Math.max(t[r].lim,t[i].lim),u,h;u=r;do u=e.parent(u),n.push(u);while(u&&(t[u].low>s||o>t[u].lim));for(h=u,u=i;(u=e.parent(u))!==h;)a.push(u);return{path:n.concat(a.reverse()),lca:h}}function Jbe(e){var t={},r=0;function i(n){var a=r;Re(e.children(n),i),t[n]={low:a,lim:r++}}return l(i,"dfs"),Re(e.children(),i),t}var RZe=B(()=>{"use strict";Ut(),l(Zbe,"parentDummyChains"),l(Qbe,"findPath"),l(Jbe,"postorder")});function exe(e,t){var r={};function i(n,a){var s=0,o=0,u=n.length,h=ko(a);return Re(a,function(d,p){var g=rxe(e,d),f=g?e.node(g).order:u;(g||d===h)&&(Re(a.slice(o,p+1),function(m){Re(e.predecessors(m),function(x){var T=e.node(x),k=T.order;(k<s||f<k)&&!(T.dummy&&e.node(m).dummy)&&VI(r,x,m)})}),o=p+1,s=f)}),a}return l(i,"visitLayer"),Gi(t,i),r}function txe(e,t){var r={};function i(a,s,o,u,h){var d;Re(Nd(s,o),function(p){d=a[p],e.node(d).dummy&&Re(e.predecessors(d),function(g){var f=e.node(g);f.dummy&&(f.order<u||f.order>h)&&VI(r,g,d)})})}l(i,"scan");function n(a,s){var o=-1,u,h=0;return Re(s,function(d,p){if(e.node(d).dummy==="border"){var g=e.predecessors(d);g.length&&(u=e.node(g[0]).order,i(s,h,p,o,u),h=p,o=u)}i(s,h,s.length,u,a.length)}),s}return l(n,"visitLayer"),Gi(t,n),r}function rxe(e,t){if(e.node(t).dummy)return gl(e.predecessors(t),function(r){return e.node(r).dummy})}function VI(e,t,r){if(t>r){var i=t;t=r,r=i}Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{enumerable:!0,configurable:!0,value:{},writable:!0});var n=e[t];Object.defineProperty(n,r,{enumerable:!0,configurable:!0,value:!0,writable:!0})}function ixe(e,t,r){if(t>r){var i=t;t=r,r=i}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function nxe(e,t,r,i){var n={},a={},s={};return Re(t,function(o){Re(o,function(u,h){n[u]=u,a[u]=u,s[u]=h})}),Re(t,function(o){var u=-1;Re(o,function(h){var d=i(h);if(d.length){d=r1(d,function(x){return s[x]});for(var p=(d.length-1)/2,g=Math.floor(p),f=Math.ceil(p);g<=f;++g){var m=d[g];a[h]===h&&u<s[m]&&!ixe(r,h,m)&&(a[m]=h,a[h]=n[h]=n[m],u=s[m])}}})}),{root:n,align:a}}function axe(e,t,r,i,n){var a={},s=sxe(e,t,r,n),o=n?"borderLeft":"borderRight";function u(p,g){for(var f=s.nodes(),m=f.pop(),x={};m;)x[m]?p(m):(x[m]=!0,f.push(m),f=f.concat(g(m))),m=f.pop()}l(u,"iterate");function h(p){a[p]=s.inEdges(p).reduce(function(g,f){return Math.max(g,a[f.v]+s.edge(f))},0)}l(h,"pass1");function d(p){var g=s.outEdges(p).reduce(function(m,x){return Math.min(m,a[x.w]-s.edge(x))},Number.POSITIVE_INFINITY),f=e.node(p);g!==Number.POSITIVE_INFINITY&&f.borderType!==o&&(a[p]=Math.max(a[p],g))}return l(d,"pass2"),u(h,s.predecessors.bind(s)),u(d,s.successors.bind(s)),Re(i,function(p){a[p]=a[r[p]]}),a}function sxe(e,t,r,i){var n=new La,a=e.graph(),s=hxe(a.nodesep,a.edgesep,i);return Re(t,function(o){var u;Re(o,function(h){var d=r[h];if(n.setNode(d),u){var p=r[u],g=n.edge(p,d);n.setEdge(p,d,Math.max(s(e,h,u),g||0))}u=h})}),n}function oxe(e,t){return pw(Wr(t),function(r){var i=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return Dye(r,function(a,s){var o=dxe(e,s)/2;i=Math.max(a+o,i),n=Math.min(a-o,n)}),i-n})}function lxe(e,t){var r=Wr(t),i=Ld(r),n=Zu(r);Re(["u","d"],function(a){Re(["l","r"],function(s){var o=a+s,u=e[o],h;if(u!==t){var d=Wr(u);h=s==="l"?i-Ld(d):n-Zu(d),h&&(e[o]=$2(u,function(p){return p+h}))}})})}function cxe(e,t){return $2(e.ul,function(r,i){if(t)return e[t.toLowerCase()][i];var n=r1(ft(e,i));return(n[1]+n[2])/2})}function uxe(e){var t=G2(e),r=jy(exe(e,t),txe(e,t)),i={},n;Re(["u","d"],function(s){n=s==="u"?t:Wr(t).reverse(),Re(["l","r"],function(o){o==="r"&&(n=ft(n,function(p){return Wr(p).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),h=nxe(e,n,r,u),d=axe(e,n,h.root,h.align,o==="r");o==="r"&&(d=$2(d,function(p){return-p})),i[s+o]=d})});var a=oxe(e,i);return lxe(i,a),cxe(i,e.graph().align)}function hxe(e,t,r){return function(i,n,a){var s=i.node(n),o=i.node(a),u=0,h;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":h=-s.width/2;break;case"r":h=s.width/2;break}if(h&&(u+=r?h:-h),h=0,u+=(s.dummy?t:e)/2,u+=(o.dummy?t:e)/2,u+=o.width/2,Object.prototype.hasOwnProperty.call(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":h=o.width/2;break;case"r":h=-o.width/2;break}return h&&(u+=r?h:-h),h=0,u}}function dxe(e,t){return e.node(t).width}var OZe=B(()=>{"use strict";Ut(),To(),wc(),l(exe,"findType1Conflicts"),l(txe,"findType2Conflicts"),l(rxe,"findOtherInnerSegmentNode"),l(VI,"addConflict"),l(ixe,"hasConflict"),l(nxe,"verticalAlignment"),l(axe,"horizontalCompaction"),l(sxe,"buildBlockGraph"),l(oxe,"findSmallestWidthAlignment"),l(lxe,"alignCoordinates"),l(cxe,"balance"),l(uxe,"positionX"),l(hxe,"sep"),l(dxe,"width")});function pxe(e){e=TI(e),gxe(e),Oye(uxe(e),function(t,r){e.node(r).x=t})}function gxe(e){var t=G2(e),r=e.graph().ranksep,i=0;Re(t,function(n){var a=Zu(ft(n,function(s){return e.node(s).height}));Re(n,function(s){e.node(s).y=i+a/2}),i+=a+r})}var PZe=B(()=>{"use strict";Ut(),wc(),OZe(),l(pxe,"position"),l(gxe,"positionY")});function YI(e,t){var r=t&&t.debugTiming?tbe:rbe;r("layout",()=>{var i=r("  buildLayoutGraph",()=>yxe(e));r("  runLayout",()=>fxe(i,r)),r("  updateInputGraph",()=>mxe(e,i))})}function fxe(e,t){t("    makeSpaceForEdgeLabels",()=>vxe(e)),t("    removeSelfEdges",()=>_xe(e)),t("    acyclic",()=>Yve(e)),t("    nestingGraph.run",()=>Mbe(e)),t("    rank",()=>_be(TI(e))),t("    injectEdgeLabelProxies",()=>bxe(e)),t("    removeEmptyRanks",()=>Jve(e)),t("    nestingGraph.cleanup",()=>Rbe(e)),t("    normalizeRanks",()=>Qve(e)),t("    assignRankMinMax",()=>xxe(e)),t("    removeEdgeLabelProxies",()=>wxe(e)),t("    normalize.run",()=>lbe(e)),t("    parentDummyChains",()=>Zbe(e)),t("    addBorderSegments",()=>ibe(e)),t("    order",()=>Xbe(e)),t("    insertSelfEdges",()=>Axe(e)),t("    adjustCoordinateSystem",()=>nbe(e)),t("    position",()=>pxe(e)),t("    positionSelfEdges",()=>Lxe(e)),t("    removeBorderNodes",()=>Sxe(e)),t("    normalize.undo",()=>ube(e)),t("    fixupEdgeLabelCoords",()=>Exe(e)),t("    undoCoordinateSystem",()=>abe(e)),t("    translateGraph",()=>kxe(e)),t("    assignNodeIntersects",()=>Txe(e)),t("    reversePoints",()=>Cxe(e)),t("    acyclic.undo",()=>Xve(e))}function mxe(e,t){Re(e.nodes(),function(r){var i=e.node(r),n=t.node(r);i&&(i.x=n.x,i.y=n.y,t.children(r).length&&(i.width=n.width,i.height=n.height))}),Re(e.edges(),function(r){var i=e.edge(r),n=t.edge(r);i.points=n.points,Object.prototype.hasOwnProperty.call(n,"x")&&(i.x=n.x,i.y=n.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}function yxe(e){var t=new La({multigraph:!0,compound:!0}),r=Aw(e.graph());return t.setGraph(jy({},Mxe,_w(r,Nxe),F2(r,Ixe))),Re(e.nodes(),function(i){var n=Aw(e.node(i));t.setNode(i,O2(_w(n,Dxe),Rxe)),t.setParent(i,e.parent(i))}),Re(e.edges(),function(i){var n=Aw(e.edge(i));t.setEdge(i,jy({},Pxe,_w(n,Oxe),F2(n,Bxe)))}),t}function vxe(e){var t=e.graph();t.ranksep/=2,Re(e.edges(),function(r){var i=e.edge(r);i.minlen*=2,i.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?i.width+=i.labeloffset:i.height+=i.labeloffset)})}function bxe(e){Re(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var i=e.node(t.v),n=e.node(t.w),a={rank:(n.rank-i.rank)/2+i.rank,e:t};Md(e,"edge-proxy",a,"_ep")}})}function xxe(e){var t=0;Re(e.nodes(),function(r){var i=e.node(r);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,t=Zu(t,i.maxRank))}),e.graph().maxRank=t}function wxe(e){Re(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function kxe(e){var t=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,n=0,a=e.graph(),s=a.marginx||0,o=a.marginy||0;function u(h){var d=h.x,p=h.y,g=h.width,f=h.height;t=Math.min(t,d-g/2),r=Math.max(r,d+g/2),i=Math.min(i,p-f/2),n=Math.max(n,p+f/2)}l(u,"getExtremes"),Re(e.nodes(),function(h){u(e.node(h))}),Re(e.edges(),function(h){var d=e.edge(h);Object.prototype.hasOwnProperty.call(d,"x")&&u(d)}),t-=s,i-=o,Re(e.nodes(),function(h){var d=e.node(h);d.x-=t,d.y-=i}),Re(e.edges(),function(h){var d=e.edge(h);Re(d.points,function(p){p.x-=t,p.y-=i}),Object.prototype.hasOwnProperty.call(d,"x")&&(d.x-=t),Object.prototype.hasOwnProperty.call(d,"y")&&(d.y-=i)}),a.width=r-t+s,a.height=n-i+o}function Txe(e){Re(e.edges(),function(t){var r=e.edge(t),i=e.node(t.v),n=e.node(t.w),a,s;r.points?(a=r.points[0],s=r.points[r.points.length-1]):(r.points=[],a=n,s=i),r.points.unshift(EI(i,a)),r.points.push(EI(n,s))})}function Exe(e){Re(e.edges(),function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Cxe(e){Re(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Sxe(e){Re(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),i=e.node(r.borderTop),n=e.node(r.borderBottom),a=e.node(ko(r.borderLeft)),s=e.node(ko(r.borderRight));r.width=Math.abs(s.x-a.x),r.height=Math.abs(n.y-i.y),r.x=a.x+r.width/2,r.y=i.y+r.height/2}}),Re(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function _xe(e){Re(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Axe(e){var t=G2(e);Re(t,function(r){var i=0;Re(r,function(n,a){var s=e.node(n);s.order=a+i,Re(s.selfEdges,function(o){Md(e,"selfedge",{width:o.label.width,height:o.label.height,rank:s.rank,order:a+ ++i,e:o.e,label:o.label},"_se")}),delete s.selfEdges})})}function Lxe(e){Re(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var i=e.node(r.e.v),n=i.x+i.width/2,a=i.y,s=r.x-n,o=i.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:n+2*s/3,y:a-o},{x:n+5*s/6,y:a-o},{x:n+s,y:a},{x:n+5*s/6,y:a+o},{x:n+2*s/3,y:a+o}],r.label.x=r.x,r.label.y=r.y}})}function _w(e,t){return $2(F2(e,t),Number)}function Aw(e){var t={};return Re(e,function(r,i){t[i.toLowerCase()]=r}),t}var Nxe,Mxe,Ixe,Dxe,Rxe,Oxe,Pxe,Bxe,BZe=B(()=>{"use strict";Ut(),To(),uZe(),hZe(),Kve(),hbe(),Nbe(),EZe(),DZe(),RZe(),PZe(),wc(),l(YI,"layout"),l(fxe,"runLayout"),l(mxe,"updateInputGraph"),Nxe=["nodesep","edgesep","ranksep","marginx","marginy"],Mxe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Ixe=["acyclicer","ranker","rankdir","align"],Dxe=["width","height"],Rxe={width:0,height:0},Oxe=["minlen","weight","width","height","labeloffset"],Pxe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Bxe=["labelpos"],l(yxe,"buildLayoutGraph"),l(vxe,"makeSpaceForEdgeLabels"),l(bxe,"injectEdgeLabelProxies"),l(xxe,"assignRankMinMax"),l(wxe,"removeEdgeLabelProxies"),l(kxe,"translateGraph"),l(Txe,"assignNodeIntersects"),l(Exe,"fixupEdgeLabelCoords"),l(Cxe,"reversePointsForReversedEdges"),l(Sxe,"removeBorderNodes"),l(_xe,"removeSelfEdges"),l(Axe,"insertSelfEdges"),l(Lxe,"positionSelfEdges"),l(_w,"selectNumberAttrs"),l(Aw,"canonicalize")}),$xe=B(()=>{"use strict";Kve(),BZe(),hbe(),Nbe()});function Eo(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Fxe(e),edges:zxe(e)};return Gr(e.graph())||(t.value=tn(e.graph())),t}function Fxe(e){return ft(e.nodes(),function(t){var r=e.node(t),i=e.parent(t),n={v:t};return Gr(r)||(n.value=r),Gr(i)||(n.parent=i),n})}function zxe(e){return ft(e.edges(),function(t){var r=e.edge(t),i={v:t.v,w:t.w};return Gr(t.name)||(i.name=t.name),Gr(r)||(i.value=r),i})}var Gxe=B(()=>{"use strict";Ut(),wI(),l(Eo,"write"),l(Fxe,"writeNodes"),l(zxe,"writeEdges")}),mr,eh,WI,Uxe,q2,qxe,XI,KI,jxe,a1,ZI,Hxe,QI,JI,Vxe,$Ze=B(()=>{"use strict";lt(),To(),Gxe(),mr=new Map,eh=new Map,WI=new Map,Uxe=l(()=>{eh.clear(),WI.clear(),mr.clear()},"clear"),q2=l((e,t)=>{let r=eh.get(t)||[];return ae.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)},"isDescendant"),qxe=l((e,t)=>{let r=eh.get(t)||[];return ae.info("Descendants of ",t," is ",r),ae.info("Edge is ",e),e.v===t||e.w===t?!1:r?r.includes(e.v)||q2(e.v,t)||q2(e.w,t)||r.includes(e.w):(ae.debug("Tilt, ",t,",not in descendants"),!1)},"edgeInCluster"),XI=l((e,t,r,i)=>{ae.warn("Copying children of ",e,"root",i,"data",t.node(e),i);let n=t.children(e)||[];e!==i&&n.push(e),ae.warn("Copying (nodes) clusterId",e,"nodes",n),n.forEach(a=>{if(t.children(a).length>0)XI(a,t,r,i);else{let s=t.node(a);ae.info("cp ",a," to ",i," with parent ",e),r.setNode(a,s),i!==t.parent(a)&&(ae.warn("Setting parent",a,t.parent(a)),r.setParent(a,t.parent(a))),e!==i&&a!==e?(ae.debug("Setting parent",a,e),r.setParent(a,e)):(ae.info("In copy ",e,"root",i,"data",t.node(e),i),ae.debug("Not Setting parent for node=",a,"cluster!==rootId",e!==i,"node!==clusterId",a!==e));let o=t.edges(a);ae.debug("Copying Edges",o),o.forEach(u=>{ae.info("Edge",u);let h=t.edge(u.v,u.w,u.name);ae.info("Edge data",h,i);try{qxe(u,i)?(ae.info("Copying as ",u.v,u.w,h,u.name),r.setEdge(u.v,u.w,h,u.name),ae.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):ae.info("Skipping copy of edge ",u.v,"-->",u.w," rootId: ",i," clusterId:",e)}catch(d){ae.error(d)}})}ae.debug("Removing node",a),t.removeNode(a)})},"copy"),KI=l((e,t)=>{let r=t.children(e),i=[...r];for(let n of r)WI.set(n,e),i=[...i,...KI(n,t)];return i},"extractDescendants"),jxe=l((e,t,r)=>{let i=e.edges().filter(o=>o.v===t||o.w===t),n=e.edges().filter(o=>o.v===r||o.w===r),a=i.map(o=>({v:o.v===t?r:o.v,w:o.w===t?t:o.w})),s=n.map(o=>({v:o.v,w:o.w}));return a.filter(o=>s.some(u=>o.v===u.v&&o.w===u.w))},"findCommonEdges"),a1=l((e,t,r)=>{let i=t.children(e);if(ae.trace("Searching children of id ",e,i),i.length<1)return e;let n;for(let a of i){let s=a1(a,t,r),o=jxe(t,r,s);if(s)if(o.length>0)n=s;else return s}return n},"findNonClusterChild"),ZI=l(e=>!mr.has(e)||!mr.get(e).externalConnections?e:mr.has(e)?mr.get(e).id:e,"getAnchorId"),Hxe=l((e,t)=>{if(!e||t>10){ae.debug("Opting out, no graph ");return}else ae.debug("Opting in, graph ");e.nodes().forEach(function(r){e.children(r).length>0&&(ae.warn("Cluster identified",r," Replacement id in edges: ",a1(r,e,r)),eh.set(r,KI(r,e)),mr.set(r,{id:a1(r,e,r),clusterData:e.node(r)}))}),e.nodes().forEach(function(r){let i=e.children(r),n=e.edges();i.length>0?(ae.debug("Cluster identified",r,eh),n.forEach(a=>{let s=q2(a.v,r),o=q2(a.w,r);s^o&&(ae.warn("Edge: ",a," leaves cluster ",r),ae.warn("Descendants of XXX ",r,": ",eh.get(r)),mr.get(r).externalConnections=!0)})):ae.debug("Not a cluster ",r,eh)});for(let r of mr.keys()){let i=mr.get(r).id,n=e.parent(i);n!==r&&mr.has(n)&&!mr.get(n).externalConnections&&(mr.get(r).id=n)}e.edges().forEach(function(r){let i=e.edge(r);ae.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(r)),ae.warn("Edge "+r.v+" -> "+r.w+": "+JSON.stringify(e.edge(r)));let n=r.v,a=r.w;if(ae.warn("Fix XXX",mr,"ids:",r.v,r.w,"Translating: ",mr.get(r.v)," --- ",mr.get(r.w)),mr.get(r.v)||mr.get(r.w)){if(ae.warn("Fixing and trying - removing XXX",r.v,r.w,r.name),n=ZI(r.v),a=ZI(r.w),e.removeEdge(r.v,r.w,r.name),n!==r.v){let s=e.parent(n);mr.get(s).externalConnections=!0,i.fromCluster=r.v}if(a!==r.w){let s=e.parent(a);mr.get(s).externalConnections=!0,i.toCluster=r.w}ae.warn("Fix Replacing with XXX",n,a,r.name),e.setEdge(n,a,i,r.name)}}),ae.warn("Adjusted Graph",Eo(e)),QI(e,0),ae.trace(mr)},"adjustClustersAndEdges"),QI=l((e,t)=>{var n,a;if(ae.warn("extractor - ",t,Eo(e),e.children("D")),t>10){ae.error("Bailing out");return}let r=e.nodes(),i=!1;for(let s of r){let o=e.children(s);i=i||o.length>0}if(!i){ae.debug("Done, no node has children",e.nodes());return}ae.debug("Nodes = ",r,t);for(let s of r)if(ae.debug("Extracting node",s,mr,mr.has(s)&&!mr.get(s).externalConnections,!e.parent(s),e.node(s),e.children("D")," Depth ",t),!mr.has(s))ae.debug("Not a cluster",s,t);else if(!mr.get(s).externalConnections&&e.children(s)&&e.children(s).length>0){ae.warn("Cluster without external connections, without a parent and with children",s,t);let o=e.graph().rankdir==="TB"?"LR":"TB";(a=(n=mr.get(s))==null?void 0:n.clusterData)!=null&&a.dir&&(o=mr.get(s).clusterData.dir,ae.warn("Fixing dir",mr.get(s).clusterData.dir,o));let u=new La({multigraph:!0,compound:!0}).setGraph({rankdir:o,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});ae.warn("Old graph before copy",Eo(e)),XI(s,e,u,s),e.setNode(s,{clusterNode:!0,id:s,clusterData:mr.get(s).clusterData,label:mr.get(s).label,graph:u}),ae.warn("New graph after copy node: (",s,")",Eo(u)),ae.debug("Old graph after copy",Eo(e))}else ae.warn("Cluster ** ",s," **not meeting the criteria !externalConnections:",!mr.get(s).externalConnections," no parent: ",!e.parent(s)," children ",e.children(s)&&e.children(s).length>0,e.children("D"),t),ae.debug(mr);r=e.nodes(),ae.warn("New list of nodes",r);for(let s of r){let o=e.node(s);ae.warn(" Now next level",s,o),o!=null&&o.clusterNode&&QI(o.graph,t+1)}},"extractor"),JI=l((e,t)=>{if(t.length===0)return[];let r=Object.assign([],t);return t.forEach(i=>{let n=e.children(i),a=JI(e,n);r=[...r,...a]}),r},"sorter"),Vxe=l(e=>JI(e,e.children()),"sortNodesByHierarchy")}),Yxe={};nr(Yxe,{render:()=>Wxe});var eD,Wxe,FZe=B(()=>{"use strict";$xe(),Gxe(),To(),V0e(),Mt(),$Ze(),WN(),BN(),A0e(),lt(),j6(),qt(),eD=l((e,t,r,i,n,a)=>xe(null,null,function*(){ae.warn("Graph in recursive render:XAX",Eo(t),n);let s=t.graph().rankdir;ae.trace("Dir in recursive render - dir:",s);let o=e.insert("g").attr("class","root");t.nodes()?ae.info("Recursive render XXX",t.nodes()):ae.info("No nodes found for",t),t.edges().length>0&&ae.info("Recursive edges",t.edge(t.edges()[0]));let u=o.insert("g").attr("class","clusters"),h=o.insert("g").attr("class","edgePaths"),d=o.insert("g").attr("class","edgeLabels"),p=o.insert("g").attr("class","nodes");yield Promise.all(t.nodes().map(function(m){return xe(this,null,function*(){let x=t.node(m);if(n!==void 0){let T=JSON.parse(JSON.stringify(n.clusterData));ae.trace(`Setting data for parent cluster XXX
 Node.id = `,m,`
 data=`,T.height,`
Parent cluster`,n.height),t.setNode(n.id,T),t.parent(m)||(ae.trace("Setting parent",m,n.id),t.setParent(m,n.id,T))}if(ae.info("(Insert) Node XXX"+m+": "+JSON.stringify(t.node(m))),x==null?void 0:x.clusterNode){ae.info("Cluster identified XBX",m,x.width,t.node(m));let{ranksep:T,nodesep:k}=t.graph();x.graph.setGraph(hr(dt({},x.graph.graph()),{ranksep:T+25,nodesep:k}));let E=yield eD(p,x.graph,r,i,t.node(m),a),S=E.elem;Ot(x,S),x.diff=E.diff||0,ae.info("New compound node after recursive render XAX",m,"width",x.width,"height",x.height),Y0e(S,x)}else t.children(m).length>0?(ae.trace("Cluster - the non recursive path XBX",m,x.id,x,x.width,"Graph:",t),ae.trace(a1(x.id,t)),mr.set(x.id,{id:a1(x.id,t),node:x})):(ae.trace("Node - the non recursive path XAX",m,p,t.node(m),s),yield V6(p,t.node(m),{config:a,dir:s}))})})),yield l(()=>xe(null,null,function*(){let m=t.edges().map(function(x){return xe(this,null,function*(){let T=t.edge(x.v,x.w,x.name);ae.info("Edge "+x.v+" -> "+x.w+": "+JSON.stringify(x)),ae.info("Edge "+x.v+" -> "+x.w+": ",x," ",JSON.stringify(t.edge(x))),ae.info("Fix",mr,"ids:",x.v,x.w,"Translating: ",mr.get(x.v),mr.get(x.w)),yield UN(d,T)})});yield Promise.all(m)}),"processEdges")(),ae.info("Graph before layout:",JSON.stringify(Eo(t))),ae.info("############################################# XXX"),ae.info("###                Layout                 ### XXX"),ae.info("############################################# XXX"),YI(t),ae.info("Graph after layout:",JSON.stringify(Eo(t)));let g=0,{subGraphTitleTotalMargin:f}=Yg(a);return yield Promise.all(Vxe(t).map(function(m){return xe(this,null,function*(){var T;let x=t.node(m);if(ae.info("Position XBX => "+m+": ("+x.x,","+x.y,") width: ",x.width," height: ",x.height),x==null?void 0:x.clusterNode)x.y+=f,ae.info("A tainted cluster node XBX1",m,x.id,x.width,x.height,x.x,x.y,t.parent(m)),mr.get(x.id).node=x,Y6(x);else if(t.children(m).length>0){ae.info("A pure cluster node XBX1",m,x.id,x.x,x.y,x.width,x.height,t.parent(m)),x.height+=f,t.node(x.parentId);let k=(x==null?void 0:x.padding)/2||0,E=((T=x==null?void 0:x.labelBBox)==null?void 0:T.height)||0,S=E-k||0;ae.debug("OffsetY",S,"labelHeight",E,"halfPadding",k),yield H6(u,x),mr.get(x.id).node=x}else{let k=t.node(x.parentId);x.y+=f/2,ae.info("A regular node XBX1 - using the padding",x.id,"parent",x.parentId,x.width,x.height,x.x,x.y,"offsetY",x.offsetY,"parent",k,k==null?void 0:k.offsetY,x),Y6(x)}})})),t.edges().forEach(function(m){let x=t.edge(m);ae.info("Edge "+m.v+" -> "+m.w+": "+JSON.stringify(x),x),x.points.forEach(S=>S.y+=f/2);let T=t.node(m.v);var k=t.node(m.w);let E=VN(h,x,mr,r,T,k,i);qN(x,E)}),t.nodes().forEach(function(m){let x=t.node(m);ae.info(m,x.type,x.diff),x.isGroup&&(g=x.diff)}),ae.warn("Returning from recursive render XAX",o,g),{elem:o,diff:g}}),"recursiveRender"),Wxe=l((e,t)=>xe(null,null,function*(){var a,s,o,u,h,d;let r=new La({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:((a=e.config)==null?void 0:a.nodeSpacing)||((o=(s=e.config)==null?void 0:s.flowchart)==null?void 0:o.nodeSpacing)||e.nodeSpacing,ranksep:((u=e.config)==null?void 0:u.rankSpacing)||((d=(h=e.config)==null?void 0:h.flowchart)==null?void 0:d.rankSpacing)||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),i=t.select("g");YN(i,e.markers,e.type,e.diagramId),W0e(),T0e(),m0e(),Uxe(),e.nodes.forEach(p=>{r.setNode(p.id,dt({},p)),p.parentId&&r.setParent(p.id,p.parentId)}),ae.debug("Edges:",e.edges),e.edges.forEach(p=>{if(p.start===p.end){let g=p.start,f=g+"---"+g+"---1",m=g+"---"+g+"---2",x=r.node(g);r.setNode(f,{domId:f,id:f,parentId:x.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(f,x.parentId),r.setNode(m,{domId:m,id:m,parentId:x.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(m,x.parentId);let T=structuredClone(p),k=structuredClone(p),E=structuredClone(p);T.label="",T.arrowTypeEnd="none",T.id=g+"-cyclic-special-1",k.arrowTypeStart="none",k.arrowTypeEnd="none",k.id=g+"-cyclic-special-mid",E.label="",x.isGroup&&(T.fromCluster=g,E.toCluster=g),E.id=g+"-cyclic-special-2",E.arrowTypeStart="none",r.setEdge(g,f,T,g+"-cyclic-special-0"),r.setEdge(f,m,k,g+"-cyclic-special-1"),r.setEdge(m,g,E,g+"-cyc<lic-special-2")}else r.setEdge(p.start,p.end,dt({},p),p.id)}),ae.warn("Graph at first:",JSON.stringify(Eo(r))),Hxe(r),ae.warn("Graph after XAX:",JSON.stringify(Eo(r)));let n=Ce();yield eD(i,r,e.type,e.diagramId,void 0,n)}),"render")});function Lw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function Xxe(e){if(Array.isArray(e))return e}function Kxe(e){if(Array.isArray(e))return Lw(e)}function kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zxe(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,rD(i.key),i)}}function Tc(e,t,r){return t&&Zxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Na(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Nw(e))||t){r&&(e=r);var i=0,n=l(function(){},"F");return{s:n,n:l(function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},"n"),e:l(function(u){throw u},"e"),f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:l(function(){r=r.call(e)},"s"),n:l(function(){var u=r.next();return s=u.done,u},"n"),e:l(function(u){o=!0,a=u},"e"),f:l(function(){try{s||r.return==null||r.return()}finally{if(o)throw a}},"f")}}function tD(e,t,r){return(t=rD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,a,s,o=[],u=!0,h=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=a.call(r)).done)&&(o.push(i.value),o.length!==t);u=!0);}catch(d){h=!0,n=d}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(h)throw n}}return o}}function e4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ui(e,t){return Xxe(e)||Jxe(e,t)||Nw(e,t)||e4e()}function j2(e){return Kxe(e)||Qxe(e)||Nw(e)||t4e()}function r4e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rD(e){var t=r4e(e,"string");return typeof t=="symbol"?t:t+""}function rn(e){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function Nw(e,t){if(e){if(typeof e=="string")return Lw(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lw(e,t):void 0}}function s1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o1(){if(u5e)return JD;u5e=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return l(e,"isObject"),JD=e,JD}function i4e(){if(h5e)return eR;h5e=1;var e=typeof av=="object"&&av&&av.Object===Object&&av;return eR=e,eR}function H2(){if(d5e)return tR;d5e=1;var e=i4e(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return tR=r,tR}function n4e(){if(p5e)return rR;p5e=1;var e=H2(),t=l(function(){return e.Date.now()},"now");return rR=t,rR}function a4e(){if(g5e)return iR;g5e=1;var e=/\s/;function t(r){for(var i=r.length;i--&&e.test(r.charAt(i)););return i}return l(t,"trimmedEndIndex"),iR=t,iR}function s4e(){if(f5e)return nR;f5e=1;var e=a4e(),t=/^\s+/;function r(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return l(r,"baseTrim"),nR=r,nR}function Mw(){if(m5e)return aR;m5e=1;var e=H2(),t=e.Symbol;return aR=t,aR}function o4e(){if(y5e)return sR;y5e=1;var e=Mw(),t=Object.prototype,r=t.hasOwnProperty,i=t.toString,n=e?e.toStringTag:void 0;function a(s){var o=r.call(s,n),u=s[n];try{s[n]=void 0;var h=!0}catch(p){}var d=i.call(s);return h&&(o?s[n]=u:delete s[n]),d}return l(a,"getRawTag"),sR=a,sR}function l4e(){if(v5e)return oR;v5e=1;var e=Object.prototype,t=e.toString;function r(i){return t.call(i)}return l(r,"objectToString"),oR=r,oR}function iD(){if(b5e)return lR;b5e=1;var e=Mw(),t=o4e(),r=l4e(),i="[object Null]",n="[object Undefined]",a=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?n:i:a&&a in Object(o)?t(o):r(o)}return l(s,"baseGetTag"),lR=s,lR}function c4e(){if(x5e)return cR;x5e=1;function e(t){return t!=null&&typeof t=="object"}return l(e,"isObjectLike"),cR=e,cR}function l1(){if(w5e)return uR;w5e=1;var e=iD(),t=c4e(),r="[object Symbol]";function i(n){return typeof n=="symbol"||t(n)&&e(n)==r}return l(i,"isSymbol"),uR=i,uR}function u4e(){if(k5e)return hR;k5e=1;var e=s4e(),t=o1(),r=l1(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function u(h){if(typeof h=="number")return h;if(r(h))return i;if(t(h)){var d=typeof h.valueOf=="function"?h.valueOf():h;h=t(d)?d+"":d}if(typeof h!="string")return h===0?h:+h;h=e(h);var p=a.test(h);return p||s.test(h)?o(h.slice(2),p?2:8):n.test(h)?i:+h}return l(u,"toNumber"),hR=u,hR}function h4e(){if(T5e)return dR;T5e=1;var e=o1(),t=n4e(),r=u4e(),i="Expected a function",n=Math.max,a=Math.min;function s(o,u,h){var d,p,g,f,m,x,T=0,k=!1,E=!1,S=!0;if(typeof o!="function")throw new TypeError(i);u=r(u)||0,e(h)&&(k=!!h.leading,E="maxWait"in h,g=E?n(r(h.maxWait)||0,u):g,S="trailing"in h?!!h.trailing:S);function L(O){var _=d,I=p;return d=p=void 0,T=O,f=o.apply(I,_),f}l(L,"invokeFunc");function b(O){return T=O,m=setTimeout(w,u),k?L(O):f}l(b,"leadingEdge");function y(O){var _=O-x,I=O-T,R=u-_;return E?a(R,g-I):R}l(y,"remainingWait");function v(O){var _=O-x,I=O-T;return x===void 0||_>=u||_<0||E&&I>=g}l(v,"shouldInvoke");function w(){var O=t();if(v(O))return C(O);m=setTimeout(w,y(O))}l(w,"timerExpired");function C(O){return m=void 0,S&&d?L(O):(d=p=void 0,f)}l(C,"trailingEdge");function A(){m!==void 0&&clearTimeout(m),T=0,d=x=p=m=void 0}l(A,"cancel");function M(){return m===void 0?f:C(t())}l(M,"flush");function N(){var O=t(),_=v(O);if(d=arguments,p=this,x=O,_){if(m===void 0)return b(x);if(E)return clearTimeout(m),m=setTimeout(w,u),L(x)}return m===void 0&&(m=setTimeout(w,u)),f}return l(N,"debounced"),N.cancel=A,N.flush=M,N}return l(s,"debounce"),dR=s,dR}function d4e(e,t,r,i,n){var a=n*Math.PI/180,s=Math.cos(a)*(e-r)-Math.sin(a)*(t-i)+r,o=Math.sin(a)*(e-r)+Math.cos(a)*(t-i)+i;return{x:s,y:o}}function p4e(e,t,r){if(r===0)return e;var i=(t.x1+t.x2)/2,n=(t.y1+t.y2)/2,a=t.w/t.h,s=1/a,o=d4e(e.x,e.y,i,n,r),u=A5e(o.x,o.y,i,n,a,s);return{x:u.x,y:u.y}}function g4e(){return F5e||(F5e=1,(function(e,t){(function(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T;n=Math.floor,p=Math.min,i=l(function(k,E){return k<E?-1:k>E?1:0},"defaultCmp"),d=l(function(k,E,S,L,b){var y;if(S==null&&(S=0),b==null&&(b=i),S<0)throw new Error("lo must be non-negative");for(L==null&&(L=k.length);S<L;)y=n((S+L)/2),b(E,k[y])<0?L=y:S=y+1;return[].splice.apply(k,[S,S-S].concat(E)),E},"insort"),o=l(function(k,E,S){return S==null&&(S=i),k.push(E),x(k,0,k.length-1,S)},"heappush"),s=l(function(k,E){var S,L;return E==null&&(E=i),S=k.pop(),k.length?(L=k[0],k[0]=S,T(k,0,E)):L=S,L},"heappop"),h=l(function(k,E,S){var L;return S==null&&(S=i),L=k[0],k[0]=E,T(k,0,S),L},"heapreplace"),u=l(function(k,E,S){var L;return S==null&&(S=i),k.length&&S(k[0],E)<0&&(L=[k[0],E],E=L[0],k[0]=L[1],T(k,0,S)),E},"heappushpop"),a=l(function(k,E){var S,L,b,y,v,w;for(E==null&&(E=i),y=(function(){w=[];for(var C=0,A=n(k.length/2);0<=A?C<A:C>A;0<=A?C++:C--)w.push(C);return w}).apply(this).reverse(),v=[],L=0,b=y.length;L<b;L++)S=y[L],v.push(T(k,S,E));return v},"heapify"),m=l(function(k,E,S){var L;if(S==null&&(S=i),L=k.indexOf(E),L!==-1)return x(k,0,L,S),T(k,L,S)},"updateItem"),g=l(function(k,E,S){var L,b,y,v,w;if(S==null&&(S=i),b=k.slice(0,E),!b.length)return b;for(a(b,S),w=k.slice(E),y=0,v=w.length;y<v;y++)L=w[y],u(b,L,S);return b.sort(S).reverse()},"nlargest"),f=l(function(k,E,S){var L,b,y,v,w,C,A,M,N;if(S==null&&(S=i),E*10<=k.length){if(y=k.slice(0,E).sort(S),!y.length)return y;for(b=y[y.length-1],A=k.slice(E),v=0,C=A.length;v<C;v++)L=A[v],S(L,b)<0&&(d(y,L,0,null,S),y.pop(),b=y[y.length-1]);return y}for(a(k,S),N=[],w=0,M=p(E,k.length);0<=M?w<M:w>M;0<=M?++w:--w)N.push(s(k,S));return N},"nsmallest"),x=l(function(k,E,S,L){var b,y,v;for(L==null&&(L=i),b=k[S];S>E;){if(v=S-1>>1,y=k[v],L(b,y)<0){k[S]=y,S=v;continue}break}return k[S]=b},"_siftdown"),T=l(function(k,E,S){var L,b,y,v,w;for(S==null&&(S=i),b=k.length,w=E,y=k[E],L=2*E+1;L<b;)v=L+1,v<b&&!(S(k[L],k[v])<0)&&(L=v),k[E]=k[L],E=L,L=2*E+1;return k[E]=y,x(k,w,E,S)},"_siftup"),r=(function(){k.push=o,k.pop=s,k.replace=h,k.pushpop=u,k.heapify=a,k.updateItem=m,k.nlargest=g,k.nsmallest=f;function k(E){this.cmp=E!=null?E:i,this.nodes=[]}return l(k,"Heap"),k.prototype.push=function(E){return o(this.nodes,E,this.cmp)},k.prototype.pop=function(){return s(this.nodes,this.cmp)},k.prototype.peek=function(){return this.nodes[0]},k.prototype.contains=function(E){return this.nodes.indexOf(E)!==-1},k.prototype.replace=function(E){return h(this.nodes,E,this.cmp)},k.prototype.pushpop=function(E){return u(this.nodes,E,this.cmp)},k.prototype.heapify=function(){return a(this.nodes,this.cmp)},k.prototype.updateItem=function(E){return m(this.nodes,E,this.cmp)},k.prototype.clear=function(){return this.nodes=[]},k.prototype.empty=function(){return this.nodes.length===0},k.prototype.size=function(){return this.nodes.length},k.prototype.clone=function(){var E;return E=new k,E.nodes=this.nodes.slice(0),E},k.prototype.toArray=function(){return this.nodes.slice(0)},k.prototype.insert=k.prototype.push,k.prototype.top=k.prototype.peek,k.prototype.front=k.prototype.peek,k.prototype.has=k.prototype.contains,k.prototype.copy=k.prototype.clone,k})(),(function(k,E){return e.exports=E()})(this,function(){return r})}).call($5e)})(Zw)),Zw.exports}function f4e(){return G5e||(G5e=1,z5e=g4e()),z5e}function m4e(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=l(function(v,w){return{x:v.x+w.x,y:v.y+w.y}},"add"),i=l(function(v,w){return{x:v.x-w.x,y:v.y-w.y}},"sub"),n=l(function(v,w){return{x:v.x*w,y:v.y*w}},"scale"),a=l(function(v,w){return v.x*w.y-v.y*w.x},"cross"),s=l(function(v){var w=d6e(v.x,v.y);return w===0?{x:0,y:0}:{x:v.x/w,y:v.y/w}},"normalize"),o=l(function(v){for(var w=0,C=0;C<v.length;C++){var A=v[C],M=v[(C+1)%v.length];w+=A.x*M.y-M.x*A.y}return w/2},"signedArea"),u=l(function(v,w,C,A){var M=i(w,v),N=i(A,C),O=a(M,N);if(Math.abs(O)<1e-9)return r(v,n(M,.5));var _=a(i(C,v),N)/O;return r(v,n(M,_))},"intersectLines"),h=e.map(function(v){return{x:v.x,y:v.y}});o(h)<0&&h.reverse();for(var d=h.length,p=[],g=0;g<d;g++){var f=h[g],m=h[(g+1)%d],x=i(m,f),T=s({x:x.y,y:-x.x});p.push(T)}for(var k=p.map(function(v,w){var C=r(h[w],n(v,t)),A=r(h[(w+1)%d],n(v,t));return{p1:C,p2:A}}),E=[],S=0;S<d;S++){var L=k[(S-1+d)%d],b=k[S],y=u(L.p1,L.p2,b.p1,b.p2);E.push(y)}return E}function y4e(e,t,r,i,n,a){var s=w6e(e,t,r,i,n),o=m4e(s,a),u=oa();return o.forEach(function(h){return _R(u,h.x,h.y)}),u}function Iw(e,t){function r(p){for(var g=[],f=0;f<p.length;f++){var m=p[f],x=p[(f+1)%p.length],T={x:x.x-m.x,y:x.y-m.y},k={x:-T.y,y:T.x},E=Math.sqrt(k.x*k.x+k.y*k.y);g.push({x:k.x/E,y:k.y/E})}return g}l(r,"getAxes");function i(p,g){var f=1/0,m=-1/0,x=Na(p),T;try{for(x.s();!(T=x.n()).done;){var k=T.value,E=k.x*g.x+k.y*g.y;f=Math.min(f,E),m=Math.max(m,E)}}catch(S){x.e(S)}finally{x.f()}return{min:f,max:m}}l(i,"project");function n(p,g){return!(p.max<g.min||g.max<p.min)}l(n,"overlaps");var a=[].concat(j2(r(e)),j2(r(t))),s=Na(a),o;try{for(s.s();!(o=s.n()).done;){var u=o.value,h=i(e,u),d=i(t,u);if(!n(h,d))return!1}}catch(p){s.e(p)}finally{s.f()}return!0}function V2(e,t,r,i,n,a){var s;return vi(e)?s=e:s=qd[e]||qd.euclidean,t===0&&vi(e)?s(n,a):s(t,r,i,n,a)}function Y2(){if(gwe)return aO;gwe=1;var e=Array.isArray;return aO=e,aO}function v4e(){if(fwe)return sO;fwe=1;var e=Y2(),t=l1(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function n(a,s){if(e(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||t(a)?!0:i.test(a)||!r.test(a)||s!=null&&a in Object(s)}return l(n,"isKey"),sO=n,sO}function b4e(){if(mwe)return oO;mwe=1;var e=iD(),t=o1(),r="[object AsyncFunction]",i="[object Function]",n="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!t(o))return!1;var u=e(o);return u==i||u==n||u==r||u==a}return l(s,"isFunction"),oO=s,oO}function x4e(){if(ywe)return lO;ywe=1;var e=H2(),t=e["__core-js_shared__"];return lO=t,lO}function w4e(){if(vwe)return cO;vwe=1;var e=x4e(),t=(function(){var i=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""})();function r(i){return!!t&&t in i}return l(r,"isMasked"),cO=r,cO}function k4e(){if(bwe)return uO;bwe=1;var e=Function.prototype,t=e.toString;function r(i){if(i!=null){try{return t.call(i)}catch(n){}try{return i+""}catch(n){}}return""}return l(r,"toSource"),uO=r,uO}function T4e(){if(xwe)return hO;xwe=1;var e=b4e(),t=w4e(),r=o1(),i=k4e(),n=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,u=s.toString,h=o.hasOwnProperty,d=RegExp("^"+u.call(h).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var f=e(g)?d:a;return f.test(i(g))}return l(p,"baseIsNative"),hO=p,hO}function E4e(){if(wwe)return dO;wwe=1;function e(t,r){return t==null?void 0:t[r]}return l(e,"getValue"),dO=e,dO}function Dw(){if(kwe)return pO;kwe=1;var e=T4e(),t=E4e();function r(i,n){var a=t(i,n);return e(a)?a:void 0}return l(r,"getNative"),pO=r,pO}function W2(){if(Twe)return gO;Twe=1;var e=Dw(),t=e(Object,"create");return gO=t,gO}function C4e(){if(Ewe)return fO;Ewe=1;var e=W2();function t(){this.__data__=e?e(null):{},this.size=0}return l(t,"hashClear"),fO=t,fO}function S4e(){if(Cwe)return mO;Cwe=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return l(e,"hashDelete"),mO=e,mO}function _4e(){if(Swe)return yO;Swe=1;var e=W2(),t="__lodash_hash_undefined__",r=Object.prototype,i=r.hasOwnProperty;function n(a){var s=this.__data__;if(e){var o=s[a];return o===t?void 0:o}return i.call(s,a)?s[a]:void 0}return l(n,"hashGet"),yO=n,yO}function A4e(){if(_we)return vO;_we=1;var e=W2(),t=Object.prototype,r=t.hasOwnProperty;function i(n){var a=this.__data__;return e?a[n]!==void 0:r.call(a,n)}return l(i,"hashHas"),vO=i,vO}function L4e(){if(Awe)return bO;Awe=1;var e=W2(),t="__lodash_hash_undefined__";function r(i,n){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=e&&n===void 0?t:n,this}return l(r,"hashSet"),bO=r,bO}function N4e(){if(Lwe)return xO;Lwe=1;var e=C4e(),t=S4e(),r=_4e(),i=A4e(),n=L4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"Hash"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,xO=a,xO}function M4e(){if(Nwe)return wO;Nwe=1;function e(){this.__data__=[],this.size=0}return l(e,"listCacheClear"),wO=e,wO}function nD(){if(Mwe)return kO;Mwe=1;function e(t,r){return t===r||t!==t&&r!==r}return l(e,"eq"),kO=e,kO}function X2(){if(Iwe)return TO;Iwe=1;var e=nD();function t(r,i){for(var n=r.length;n--;)if(e(r[n][0],i))return n;return-1}return l(t,"assocIndexOf"),TO=t,TO}function I4e(){if(Dwe)return EO;Dwe=1;var e=X2(),t=Array.prototype,r=t.splice;function i(n){var a=this.__data__,s=e(a,n);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return l(i,"listCacheDelete"),EO=i,EO}function D4e(){if(Rwe)return CO;Rwe=1;var e=X2();function t(r){var i=this.__data__,n=e(i,r);return n<0?void 0:i[n][1]}return l(t,"listCacheGet"),CO=t,CO}function R4e(){if(Owe)return SO;Owe=1;var e=X2();function t(r){return e(this.__data__,r)>-1}return l(t,"listCacheHas"),SO=t,SO}function O4e(){if(Pwe)return _O;Pwe=1;var e=X2();function t(r,i){var n=this.__data__,a=e(n,r);return a<0?(++this.size,n.push([r,i])):n[a][1]=i,this}return l(t,"listCacheSet"),_O=t,_O}function P4e(){if(Bwe)return AO;Bwe=1;var e=M4e(),t=I4e(),r=D4e(),i=R4e(),n=O4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"ListCache"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,AO=a,AO}function B4e(){if($we)return LO;$we=1;var e=Dw(),t=H2(),r=e(t,"Map");return LO=r,LO}function $4e(){if(Fwe)return NO;Fwe=1;var e=N4e(),t=P4e(),r=B4e();function i(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return l(i,"mapCacheClear"),NO=i,NO}function F4e(){if(zwe)return MO;zwe=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return l(e,"isKeyable"),MO=e,MO}function K2(){if(Gwe)return IO;Gwe=1;var e=F4e();function t(r,i){var n=r.__data__;return e(i)?n[typeof i=="string"?"string":"hash"]:n.map}return l(t,"getMapData"),IO=t,IO}function z4e(){if(Uwe)return DO;Uwe=1;var e=K2();function t(r){var i=e(this,r).delete(r);return this.size-=i?1:0,i}return l(t,"mapCacheDelete"),DO=t,DO}function G4e(){if(qwe)return RO;qwe=1;var e=K2();function t(r){return e(this,r).get(r)}return l(t,"mapCacheGet"),RO=t,RO}function U4e(){if(jwe)return OO;jwe=1;var e=K2();function t(r){return e(this,r).has(r)}return l(t,"mapCacheHas"),OO=t,OO}function q4e(){if(Hwe)return PO;Hwe=1;var e=K2();function t(r,i){var n=e(this,r),a=n.size;return n.set(r,i),this.size+=n.size==a?0:1,this}return l(t,"mapCacheSet"),PO=t,PO}function j4e(){if(Vwe)return BO;Vwe=1;var e=$4e(),t=z4e(),r=G4e(),i=U4e(),n=q4e();function a(s){var o=-1,u=s==null?0:s.length;for(this.clear();++o<u;){var h=s[o];this.set(h[0],h[1])}}return l(a,"MapCache"),a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=i,a.prototype.set=n,BO=a,BO}function H4e(){if(Ywe)return $O;Ywe=1;var e=j4e(),t="Expected a function";function r(i,n){if(typeof i!="function"||n!=null&&typeof n!="function")throw new TypeError(t);var a=l(function(){var s=arguments,o=n?n.apply(this,s):s[0],u=a.cache;if(u.has(o))return u.get(o);var h=i.apply(this,s);return a.cache=u.set(o,h)||u,h},"memoized");return a.cache=new(r.Cache||e),a}return l(r,"memoize"),r.Cache=e,$O=r,$O}function V4e(){if(Wwe)return FO;Wwe=1;var e=H4e(),t=500;function r(i){var n=e(i,function(s){return a.size===t&&a.clear(),s}),a=n.cache;return n}return l(r,"memoizeCapped"),FO=r,FO}function aD(){if(Xwe)return zO;Xwe=1;var e=V4e(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=e(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(t,function(s,o,u,h){a.push(u?h.replace(r,"$1"):o||s)}),a});return zO=i,zO}function sD(){if(Kwe)return GO;Kwe=1;function e(t,r){for(var i=-1,n=t==null?0:t.length,a=Array(n);++i<n;)a[i]=r(t[i],i,t);return a}return l(e,"arrayMap"),GO=e,GO}function Y4e(){if(Zwe)return UO;Zwe=1;var e=Mw(),t=sD(),r=Y2(),i=l1(),n=e?e.prototype:void 0,a=n?n.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(i(o))return a?a.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}return l(s,"baseToString"),UO=s,UO}function oD(){if(Qwe)return qO;Qwe=1;var e=Y4e();function t(r){return r==null?"":e(r)}return l(t,"toString"),qO=t,qO}function lD(){if(Jwe)return jO;Jwe=1;var e=Y2(),t=v4e(),r=aD(),i=oD();function n(a,s){return e(a)?a:t(a,s)?[a]:r(i(a))}return l(n,"castPath"),jO=n,jO}function Rw(){if(eke)return HO;eke=1;var e=l1();function t(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}return l(t,"toKey"),HO=t,HO}function W4e(){if(tke)return VO;tke=1;var e=lD(),t=Rw();function r(i,n){n=e(n,i);for(var a=0,s=n.length;i!=null&&a<s;)i=i[t(n[a++])];return a&&a==s?i:void 0}return l(r,"baseGet"),VO=r,VO}function X4e(){if(rke)return YO;rke=1;var e=W4e();function t(r,i,n){var a=r==null?void 0:e(r,i);return a===void 0?n:a}return l(t,"get"),YO=t,YO}function K4e(){if(ake)return WO;ake=1;var e=Dw(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch(i){}})();return WO=t,WO}function Z4e(){if(ske)return XO;ske=1;var e=K4e();function t(r,i,n){i=="__proto__"&&e?e(r,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[i]=n}return l(t,"baseAssignValue"),XO=t,XO}function Q4e(){if(oke)return KO;oke=1;var e=Z4e(),t=nD(),r=Object.prototype,i=r.hasOwnProperty;function n(a,s,o){var u=a[s];(!(i.call(a,s)&&t(u,o))||o===void 0&&!(s in a))&&e(a,s,o)}return l(n,"assignValue"),KO=n,KO}function J4e(){if(lke)return ZO;lke=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(i,n){var a=typeof i;return n=n!=null?n:e,!!n&&(a=="number"||a!="symbol"&&t.test(i))&&i>-1&&i%1==0&&i<n}return l(r,"isIndex"),ZO=r,ZO}function e3e(){if(cke)return QO;cke=1;var e=Q4e(),t=lD(),r=J4e(),i=o1(),n=Rw();function a(s,o,u,h){if(!i(s))return s;o=t(o,s);for(var d=-1,p=o.length,g=p-1,f=s;f!=null&&++d<p;){var m=n(o[d]),x=u;if(m==="__proto__"||m==="constructor"||m==="prototype")return s;if(d!=g){var T=f[m];x=h?h(T,m,f):void 0,x===void 0&&(x=i(T)?T:r(o[d+1])?[]:{})}e(f,m,x),f=f[m]}return s}return l(a,"baseSet"),QO=a,QO}function t3e(){if(uke)return JO;uke=1;var e=e3e();function t(r,i,n){return r==null?r:e(r,i,n)}return l(t,"set"),JO=t,JO}function r3e(){if(pke)return eP;pke=1;function e(t,r){var i=-1,n=t.length;for(r||(r=Array(n));++i<n;)r[i]=t[i];return r}return l(e,"copyArray"),eP=e,eP}function i3e(){if(gke)return tP;gke=1;var e=sD(),t=r3e(),r=Y2(),i=l1(),n=aD(),a=Rw(),s=oD();function o(u){return r(u)?e(u,a):i(u)?[u]:t(n(s(u)))}return l(o,"toPath"),tP=o,tP}function Ow(e,t,r,i){for(var n=[],a=new $d,s=e.cy(),o=s.hasCompoundNodes(),u=0;u<e.length;u++){var h=e[u];r?n.push(h):o&&i(n,a,h)}for(;n.length>0;){var d=n.shift();t(d),a.add(d.id()),o&&i(n,a,d)}return e}function cD(e,t,r){if(r.isParent())for(var i=r._private.children,n=0;n<i.length;n++){var a=i[n];t.has(a.id())||e.push(a)}}function uD(e,t,r){if(r.isChild()){var i=r._private.parent;t.has(i.id())||e.push(i)}}function n3e(e,t,r){uD(e,t,r),cD(e,t,r)}function Pw(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var i=0,n=r[0],a=n._private.edges,s=0;s<a.length;s++){var o=a[s];!t&&o.isLoop()||(i+=e(n,o))}return i}else return}}function Id(e,t){return function(r){for(var i,n=this.nodes(),a=0;a<n.length;a++){var s=n[a],o=s[e](r);o!==void 0&&(i===void 0||t(o,i))&&(i=o)}return i}}function c1(){return!1}function Z2(){return!0}function Q2(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eTe,t=arguments.length>1?arguments[1]:void 0,r=0;r<yP.length;r++){var i=yP[r];this[i]=e[i]||mP[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}function hD(e,t,r){var i=r._private,n=i.styleCache=i.styleCache||[],a;return(a=n[e])!=null||(a=n[e]=t(r)),a}function J2(e,t){return e=ih(e),l(function(r){return hD(e,t,r)},"cachedStyleFunction")}function ev(e,t){e=ih(e);var r=l(function(i){return t.call(i)},"selfFn");return l(function(){var i=this[0];if(i)return hD(e,r,i)},"cachedPrototypeStyleFunction")}function Bw(e,t){var r=e._private,i=r.data.parent?e.parents():null;if(i)for(var n=0;n<i.length;n++){var a=i[n];if(!t(a))return!1}return!0}function $w(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,i=e.parentOk||e.ok;return function(){var n=this.cy();if(!n.styleEnabled())return!0;var a=this[0],s=n.hasCompoundNodes();if(a){var o=a._private;if(!t(a))return!1;if(a.isNode())return!s||Bw(a,i);var u=o.source,h=o.target;return r(u)&&(!s||Bw(u,r))&&(u===h||r(h)&&(!s||Bw(h,r)))}}}function dD(e){return function(){var t=arguments,r=[];if(t.length===2){var i=t[0],n=t[1];this.on(e.event,i,n)}else if(t.length===1&&vi(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&Qr(t[0])){for(var s=t.length===1?t[0]:null,o=0;o<this.length;o++){var u=this[o],h=!e.ableField||u._private[e.ableField],d=u._private[e.field]!=e.value;if(e.overrideAble){var p=e.overrideAble(u);if(p!==void 0&&(h=p,!p))return this}h&&(u._private[e.field]=e.value,d&&r.push(u))}var g=this.spawn(r);g.updateStyle(),g.emit(e.event),s&&g.emit(s)}return this}}function Dd(e){Bc[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Bc[e.on]=dD({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Bc[e.off]=dD({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}function pD(e){return l(function(t){for(var r=[],i=0;i<this.length;i++){var n=this[i],a=n._private[e.attr];a&&r.push(a)}return this.spawn(r,!0).filter(t)},"sourceImpl")}function gD(e){return l(function(t){var r=[],i=this._private.cy,n=e||{};Ht(t)&&(t=i.$(t));for(var a=0;a<t.length;a++)for(var s=t[a]._private.edges,o=0;o<s.length;o++){var u=s[o],h=u._private.data,d=this.hasElementWithId(h.source)&&t.hasElementWithId(h.target),p=t.hasElementWithId(h.source)&&this.hasElementWithId(h.target),g=d||p;g&&((n.thisIsSrc||n.thisIsTgt)&&(n.thisIsSrc&&!d||n.thisIsTgt&&!p)||r.push(u))}return this.spawn(r,!0)},"edgesWithImpl")}function fD(e){var t={codirected:!1};return e=er({},t,e),l(function(r){for(var i=[],n=this.edges(),a=e,s=0;s<n.length;s++)for(var o=n[s],u=o._private,h=u.source,d=h._private.data.id,p=u.data.target,g=h._private.edges,f=0;f<g.length;f++){var m=g[f],x=m._private.data,T=x.target,k=x.source,E=T===p&&k===d,S=d===T&&p===k;(a.codirected&&E||!a.codirected&&(E||S))&&i.push(m)}return this.spawn(i,!0).filter(r)},"parallelEdgesImpl")}function a3e(e,t,r,i){var n=4,a=.001,s=1e-7,o=10,u=11,h=1/(u-1),d=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var p=0;p<4;++p)if(typeof arguments[p]!="number"||isNaN(arguments[p])||!isFinite(arguments[p]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var g=d?new Float32Array(u):new Array(u);function f(A,M){return 1-3*M+3*A}l(f,"A");function m(A,M){return 3*M-6*A}l(m,"B");function x(A){return 3*A}l(x,"C");function T(A,M,N){return((f(M,N)*A+m(M,N))*A+x(M))*A}l(T,"calcBezier");function k(A,M,N){return 3*f(M,N)*A*A+2*m(M,N)*A+x(M)}l(k,"getSlope");function E(A,M){for(var N=0;N<n;++N){var O=k(M,e,r);if(O===0)return M;var _=T(M,e,r)-A;M-=_/O}return M}l(E,"newtonRaphsonIterate");function S(){for(var A=0;A<u;++A)g[A]=T(A*h,e,r)}l(S,"calcSampleValues");function L(A,M,N){var O,_,I=0;do _=M+(N-M)/2,O=T(_,e,r)-A,O>0?N=_:M=_;while(Math.abs(O)>s&&++I<o);return _}l(L,"binarySubdivide");function b(A){for(var M=0,N=1,O=u-1;N!==O&&g[N]<=A;++N)M+=h;--N;var _=(A-g[N])/(g[N+1]-g[N]),I=M+_*h,R=k(I,e,r);return R>=a?E(A,I):R===0?I:L(A,M,M+h)}l(b,"getTForX");var y=!1;function v(){y=!0,(e!==t||r!==i)&&S()}l(v,"precompute");var w=l(function(A){return y||v(),e===t&&r===i?A:A===0?0:A===1?1:T(b(A),t,i)},"f");w.getControlPoints=function(){return[{x:e,y:t},{x:r,y:i}]};var C="generateBezier("+[e,t,r,i]+")";return w.toString=function(){return C},w}function mD(e,t,r,i,n){if(i===1||t===r)return r;var a=n(t,r,i);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function yD(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function Rd(e,t,r,i,n){var a=n!=null?n.type:null;r<0?r=0:r>1&&(r=1);var s=yD(e,n),o=yD(t,n);if(bt(s)&&bt(o))return mD(a,s,o,r,i);if(Qr(s)&&Qr(o)){for(var u=[],h=0;h<o.length;h++){var d=s[h],p=o[h];if(d!=null&&p!=null){var g=mD(a,d,p,r,i);u.push(g)}else u.push(p)}return u}}function s3e(e,t,r,i){var n=!i,a=e._private,s=t._private,o=s.easing,u=s.startTime,h=i?e:e.cy(),d=h.style();if(!s.easingImpl)if(o==null)s.easingImpl=Lv.linear;else{var p;if(Ht(o)){var g=d.parse("transition-timing-function",o);p=g.value}else p=o;var f,m;Ht(p)?(f=p,m=[]):(f=p[1],m=p.slice(2).map(function($){return+$})),m.length>0?(f==="spring"&&m.push(s.duration),s.easingImpl=Lv[f].apply(null,m)):s.easingImpl=Lv[f]}var x=s.easingImpl,T;if(s.duration===0?T=1:T=(r-u)/s.duration,s.applying&&(T=s.progress),T<0?T=0:T>1&&(T=1),s.delay==null){var k=s.startPosition,E=s.position;if(E&&n&&!e.locked()){var S={};u1(k.x,E.x)&&(S.x=Rd(k.x,E.x,T,x)),u1(k.y,E.y)&&(S.y=Rd(k.y,E.y,T,x)),e.position(S)}var L=s.startPan,b=s.pan,y=a.pan,v=b!=null&&i;v&&(u1(L.x,b.x)&&(y.x=Rd(L.x,b.x,T,x)),u1(L.y,b.y)&&(y.y=Rd(L.y,b.y,T,x)),e.emit("pan"));var w=s.startZoom,C=s.zoom,A=C!=null&&i;A&&(u1(w,C)&&(a.zoom=v1(a.minZoom,Rd(w,C,T,x),a.maxZoom)),e.emit("zoom")),(v||A)&&e.emit("viewport");var M=s.style;if(M&&M.length>0&&n){for(var N=0;N<M.length;N++){var O=M[N],_=O.name,I=O,R=s.startStyle[_],P=d.properties[R.name],D=Rd(R,I,T,x,P);d.overrideBypass(e,_,D)}e.emit("style")}}return s.progress=T,T}function u1(e,t){return e==null||t==null?!1:bt(e)&&bt(t)?!0:!!(e&&t)}function o3e(e,t,r,i){var n=t._private;n.started=!0,n.startTime=r-n.progress*n.duration}function vD(e,t){var r=t._private.aniEles,i=[];function n(d,p){var g=d._private,f=g.animation.current,m=g.animation.queue,x=!1;if(f.length===0){var T=m.shift();T&&f.push(T)}for(var k=l(function(b){for(var y=b.length-1;y>=0;y--){var v=b[y];v()}b.splice(0,b.length)},"callbacks"),E=f.length-1;E>=0;E--){var S=f[E],L=S._private;if(L.stopped){f.splice(E,1),L.hooked=!1,L.playing=!1,L.started=!1,k(L.frames);continue}!L.playing&&!L.applying||(L.playing&&L.applying&&(L.applying=!1),L.started||o3e(d,S,e),s3e(d,S,e,p),L.applying&&(L.applying=!1),k(L.frames),L.step!=null&&L.step(e),S.completed()&&(f.splice(E,1),L.hooked=!1,L.playing=!1,L.started=!1,k(L.completes)),x=!0)}return!p&&f.length===0&&m.length===0&&i.push(d),x}l(n,"stepOne");for(var a=!1,s=0;s<r.length;s++){var o=r[s],u=n(o);a=a||u}var h=n(t,!0);(a||h)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(i),t.emit("step")}function bD(e){this.options=er({},bTe,xTe,e)}function xD(e){this.options=er({},wTe,e)}function wD(e){this.options=er({},kTe,e)}function tv(e){this.options=er({},TTe,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),i=r.filter(function(n){var a=n.source().data("id"),s=n.target().data("id"),o=t.some(function(h){return h.data("id")===a}),u=t.some(function(h){return h.data("id")===s});return!o||!u});this.options.eles=this.options.eles.not(i)}function kD(e){this.options=er({},BTe,e)}function Fw(e){this.options=er({},$Te,e)}function TD(e){this.options=er({},FTe,e)}function ED(e){this.options=er({},zTe,e)}function CD(e){this.options=e,this.notifications=0}function SD(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function zw(e,t,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return i===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(WTe(e,t,r,i,n),{cx:PP,cy:BP,radius:Qd,startX:jTe,startY:HTe,stopX:$P,stopY:FP,startAngle:Lo.ang+Math.PI/2*Kd,endAngle:ys.ang-Math.PI/2*Kd,counterClockwise:wk})}function _D(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];t.push({x:i,y:n})}return t}}function l3e(e,t,r){for(var i=l(function(u,h,d,p){return yn(u,h,d,p)},"qbezierAt$1"),n=t._private,a=n.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var o=e.bezierProjPcts[s];a.push({x:i(r[0],r[2],r[4],o),y:i(r[1],r[3],r[5],o)})}}function c3e(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.lineTo(i.x,i.y)}}function u3e(e,t,r){for(var i,n=0;n<t.length;n++){var a=t[n];n===0&&(i=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,i.x,i.y)}function AD(e,t,r){e.beginPath&&e.beginPath();for(var i=t,n=0;n<i.length;n++){var a=i[n];e.lineTo(a.x,a.y)}var s=r,o=r[0];e.moveTo(o.x,o.y);for(var n=1;n<s.length;n++){var a=s[n];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function h3e(e,t,r,i,n){e.beginPath&&e.beginPath(),e.arc(r,i,n,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var o=0;o<a.length;o++){var u=a[o];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function d3e(e,t,r,i){e.arc(t,r,i,0,Math.PI*2,!1)}function p3e(e,t,r,i,n){var a=Math.min(i,n),s=a/2,o=t+i/2,u=r+n/2;e.beginPath(),e.arc(o,u,s,0,Math.PI*2),e.closePath()}function LD(e,t,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(a,i/2,n/2);e.beginPath(),e.moveTo(t+s,r),e.lineTo(t+i-s,r),e.quadraticCurveTo(t+i,r,t+i,r+s),e.lineTo(t+i,r+n-s),e.quadraticCurveTo(t+i,r+n,t+i-s,r+n),e.lineTo(t+s,r+n),e.quadraticCurveTo(t,r+n,t,r+n-s),e.lineTo(t,r+s),e.quadraticCurveTo(t,r,t+s,r),e.closePath()}function ND(e,t,r){var i=e.createShader(t);if(e.shaderSource(i,r),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(i));return i}function g3e(e,t,r){var i=ND(e,e.VERTEX_SHADER,t),n=ND(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,n),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}function f3e(e,t,r){r===void 0&&(r=t);var i=e.makeOffscreenCanvas(t,r),n=i.context=i.getContext("2d");return i.clear=function(){return n.clearRect(0,0,i.width,i.height)},i.clear(),i}function Gw(e){var t=e.pixelRatio,r=e.cy.zoom(),i=e.cy.pan();return{zoom:r*t,pan:{x:i.x*t,y:i.y*t}}}function m3e(e){var t=e.pixelRatio,r=e.cy.zoom();return r*t}function y3e(e,t,r,i,n){var a=i*r+t.x,s=n*r+t.y;return s=Math.round(e.canvasHeight-s),[a,s]}function v3e(e){return e.pstyle("background-fill").value!=="solid"||e.pstyle("background-image").strValue!=="none"?!1:e.pstyle("border-width").value===0||e.pstyle("border-opacity").value===0?!0:e.pstyle("border-style").value==="solid"}function b3e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function th(e,t,r){var i=e[0]/255,n=e[1]/255,a=e[2]/255,s=t,o=r||new Array(4);return o[0]=i*s,o[1]=n*s,o[2]=a*s,o[3]=s,o}function Od(e,t){var r=t||new Array(4);return r[0]=(e>>0&255)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function x3e(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function w3e(e,t){var r=e.createTexture();return r.buffer=function(i){e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},r.deleteTexture=function(){e.deleteTexture(r)},r}function MD(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function ID(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function k3e(e,t,r,i,n,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*i,n);case e.INT:return new Int32Array(r.buffer,a*i,n)}}function T3e(e,t,r,i){var n=MD(e,t),a=Ui(n,2),s=a[0],o=a[1],u=ID(e,o,i),h=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),o===e.FLOAT?e.vertexAttribPointer(r,s,o,!1,0,0):o===e.INT&&e.vertexAttribIPointer(r,s,o,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null),h}function Co(e,t,r,i){var n=MD(e,r),a=Ui(n,3),s=a[0],o=a[1],u=a[2],h=ID(e,o,t*s),d=s*u,p=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,p),e.bufferData(e.ARRAY_BUFFER,t*d,e.DYNAMIC_DRAW),e.enableVertexAttribArray(i),o===e.FLOAT?e.vertexAttribPointer(i,s,o,!1,d,0):o===e.INT&&e.vertexAttribIPointer(i,s,o,d,0),e.vertexAttribDivisor(i,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var g=new Array(t),f=0;f<t;f++)g[f]=k3e(e,o,h,d,s,f);return p.dataArray=h,p.stride=d,p.size=s,p.getView=function(m){return g[m]},p.setPoint=function(m,x,T){var k=g[m];k[0]=x,k[1]=T},p.bufferSubData=function(m){e.bindBuffer(e.ARRAY_BUFFER,p),m?e.bufferSubData(e.ARRAY_BUFFER,0,h,0,m*s):e.bufferSubData(e.ARRAY_BUFFER,0,h)},p}function E3e(e,t,r){for(var i=9,n=new Float32Array(t*i),a=new Array(t),s=0;s<t;s++){var o=s*i*4;a[s]=new Float32Array(n.buffer,o,i)}var u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,n.byteLength,e.DYNAMIC_DRAW);for(var h=0;h<3;h++){var d=r+h;e.enableVertexAttribArray(d),e.vertexAttribPointer(d,3,e.FLOAT,!1,36,h*12),e.vertexAttribDivisor(d,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),u.getMatrixView=function(p){return a[p]},u.setData=function(p,g){a[g].set(p,0)},u.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferSubData(e.ARRAY_BUFFER,0,n)},u}function C3e(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(i,n){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i,n,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}function Uw(){var e=new sB(9);return sB!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function DD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function S3e(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=r[0],f=r[1],m=r[2],x=r[3],T=r[4],k=r[5],E=r[6],S=r[7],L=r[8];return e[0]=g*i+f*s+m*h,e[1]=g*n+f*o+m*d,e[2]=g*a+f*u+m*p,e[3]=x*i+T*s+k*h,e[4]=x*n+T*o+k*d,e[5]=x*a+T*u+k*p,e[6]=E*i+S*s+L*h,e[7]=E*n+S*o+L*d,e[8]=E*a+S*u+L*p,e}function rv(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=r[0],f=r[1];return e[0]=i,e[1]=n,e[2]=a,e[3]=s,e[4]=o,e[5]=u,e[6]=g*i+f*s+h,e[7]=g*n+f*o+d,e[8]=g*a+f*u+p,e}function RD(e,t,r){var i=t[0],n=t[1],a=t[2],s=t[3],o=t[4],u=t[5],h=t[6],d=t[7],p=t[8],g=Math.sin(r),f=Math.cos(r);return e[0]=f*i+g*s,e[1]=f*n+g*o,e[2]=f*a+g*u,e[3]=f*s-g*i,e[4]=f*o-g*n,e[5]=f*u-g*a,e[6]=h,e[7]=d,e[8]=p,e}function qw(e,t,r){var i=r[0],n=r[1];return e[0]=i*t[0],e[1]=i*t[1],e[2]=i*t[2],e[3]=n*t[3],e[4]=n*t[4],e[5]=n*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function _3e(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function A3e(e,t){return e.intersection?e.intersection(t):new Set(j2(e).filter(function(r){return t.has(r)}))}function L3e(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return KD(r)}function OD(e,t){var r=e._private.rscratch;return Ma(r,"labelWrapCachedLines",t)||[]}function N3e(e){{var t=e.render;e.render=function(a){a=a||{};var s=e.cy;e.webgl&&(s.zoom()>QP?(M3e(e),t.call(e,a)):(I3e(e),BD(e,a,O1.SCREEN)))}}{var r=e.matchCanvasSize;e.matchCanvasSize=function(a){r.call(e,a),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0}}e.findNearestElements=function(a,s,o,u){return $3e(e,a,s)};{var i=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){i.call(e),e.pickingFrameBuffer.needsDraw=!0}}{var n=e.notify;e.notify=function(a,s){n.call(e,a,s),a==="viewport"||a==="bounds"?e.pickingFrameBuffer.needsDraw=!0:a==="background"&&e.drawing.invalidate(s,{type:"node-body"})}}}function M3e(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}function I3e(e){var t=l(function(r){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.canvasWidth,e.canvasHeight),r.restore()},"clear");t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}function D3e(e){var t=e.canvasWidth,r=e.canvasHeight,i=Gw(e),n=i.pan,a=i.zoom,s=Uw();rv(s,s,[n.x,n.y]),qw(s,s,[a,a]);var o=Uw();_3e(o,t,r);var u=Uw();return S3e(u,o,s),u}function PD(e,t){var r=e.canvasWidth,i=e.canvasHeight,n=Gw(e),a=n.pan,s=n.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,i),t.translate(a.x,a.y),t.scale(s,s)}function R3e(e,t){e.drawSelectionRectangle(t,function(r){return PD(e,r)})}function O3e(e){var t=e.data.contexts[e.NODE];t.save(),PD(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}function P3e(e){var t=l(function(i,n,a){for(var s=i.atlasManager.getAtlasCollection(n),o=e.data.contexts[e.NODE],u=s.atlases,h=0;h<u.length;h++){var d=u[h],p=d.canvas;if(p){var g=p.width,f=p.height,m=g*h,x=p.height*a,T=.4;o.save(),o.scale(T,T),o.drawImage(p,m,x),o.strokeStyle="black",o.rect(m,x,g,f),o.stroke(),o.restore()}}},"draw"),r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}function B3e(e,t,r,i,n){var a,s,o,u,h=Gw(e),d=h.pan,p=h.zoom;{var g=y3e(e,d,p,t,r),f=Ui(g,2),m=f[0],x=f[1],T=6;a=m-T/2,s=x-T/2,o=T,u=T}if(o===0||u===0)return[];var k=e.data.contexts[e.WEBGL];k.bindFramebuffer(k.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(k.viewport(0,0,k.canvas.width,k.canvas.height),BD(e,null,O1.PICKING),e.pickingFrameBuffer.needsDraw=!1);var E=o*u,S=new Uint8Array(E*4);k.readPixels(a,s,o,u,k.RGBA,k.UNSIGNED_BYTE,S),k.bindFramebuffer(k.FRAMEBUFFER,null);for(var L=new Set,b=0;b<E;b++){var y=S.slice(b*4,b*4+4),v=x3e(y)-1;v>=0&&L.add(v)}return L}function $3e(e,t,r){var i=B3e(e,t,r),n=e.getCachedZSortedEles(),a,s,o=Na(i),u;try{for(o.s();!(u=o.n()).done;){var h=u.value,d=n[h];if(!a&&d.isNode()&&(a=d),!s&&d.isEdge()&&(s=d),a&&s)break}}catch(p){o.e(p)}finally{o.f()}return[a,s].filter(Boolean)}function jw(e,t,r){var i=e.drawing;t+=1,r.isNode()?(i.drawNode(r,t,"node-underlay"),i.drawNode(r,t,"node-body"),i.drawTexture(r,t,"label"),i.drawNode(r,t,"node-overlay")):(i.drawEdgeLine(r,t),i.drawEdgeArrow(r,t,"source"),i.drawEdgeArrow(r,t,"target"),i.drawTexture(r,t,"label"),i.drawTexture(r,t,"edge-source-label"),i.drawTexture(r,t,"edge-target-label"))}function BD(e,t,r){var i;e.webglDebug&&(i=performance.now());var n=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&R3e(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var s=e.data.contexts[e.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var o=D3e(e),u=e.getCachedZSortedEles();if(a=u.length,n.startFrame(o,r),r.screen){for(var h=0;h<u.nondrag.length;h++)jw(e,h,u.nondrag[h]);for(var d=0;d<u.drag.length;d++)jw(e,d,u.drag[d])}else if(r.picking)for(var p=0;p<u.length;p++)jw(e,p,u[p]);n.endFrame(),r.screen&&e.webglDebugShowAtlases&&(O3e(e),P3e(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var g=performance.now(),f=!1,m=Math.ceil(g-i),x=n.getDebugInfo(),T=["".concat(a," elements"),"".concat(x.totalInstances," instances"),"".concat(x.batchCount," batches"),"".concat(x.totalAtlases," atlases"),"".concat(x.wrappedCount," wrapped textures"),"".concat(x.simpleCount," simple shapes")].join(", ");if(f)console.log("WebGL (".concat(r.name,") - time ").concat(m,"ms, ").concat(T));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(m,"ms")),console.log("Totals:"),console.log("  ".concat(T)),console.log("Texture Atlases Used:");var k=x.atlasInfo,E=Na(k),S;try{for(E.s();!(S=E.n()).done;){var L=S.value;console.log("  ".concat(L.type,": ").concat(L.keyCount," keys, ").concat(L.atlasCount," atlases"))}}catch(b){E.e(b)}finally{E.f()}console.log("")}}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,n.gc())}function F3e(e,t){for(var r=atob(e),i=new ArrayBuffer(r.length),n=new Uint8Array(i),a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return new Blob([i],{type:t})}function $D(e){var t=e.indexOf(",");return e.substr(t+1)}function FD(e,t,r){var i=l(function(){return t.toDataURL(r,e.quality)},"getB64Uri");switch(e.output){case"blob-promise":return new Hd(function(n,a){try{t.toBlob(function(s){s!=null?n(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(s){a(s)}});case"blob":return F3e($D(i()),r);case"base64":return $D(i());case"base64uri":default:return i()}}function zD(e){var t=this,r=t.cy.window(),i=r.document;e.webgl&&(yr.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(yr.CANVAS_LAYERS),contexts:new Array(yr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(yr.CANVAS_LAYERS),bufferCanvases:new Array(yr.BUFFER_COUNT),bufferContexts:new Array(yr.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",a="rgba(0,0,0,0)";t.data.canvasContainer=i.createElement("div");var s=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=a,s.position="relative",s.zIndex="0",s.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[n]=a;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Z3e()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var h=0;h<yr.CANVAS_LAYERS;h++){var d=t.data.canvases[h]=i.createElement("canvas"),p=yr.CANVAS_TYPES[h];t.data.contexts[h]=d.getContext(p),t.data.contexts[h]||di("Could not create canvas of type "+p),Object.keys(u).forEach(function(W){d.style[W]=u[W]}),d.style.position="absolute",d.setAttribute("data-id","layer"+h),d.style.zIndex=String(yr.CANVAS_LAYERS-h),t.data.canvasContainer.appendChild(d),t.data.canvasNeedsRedraw[h]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[yr.NODE].setAttribute("data-id","layer"+yr.NODE+"-node"),t.data.canvases[yr.SELECT_BOX].setAttribute("data-id","layer"+yr.SELECT_BOX+"-selectbox"),t.data.canvases[yr.DRAG].setAttribute("data-id","layer"+yr.DRAG+"-drag"),t.data.canvases[yr.WEBGL]&&t.data.canvases[yr.WEBGL].setAttribute("data-id","layer"+yr.WEBGL+"-webgl");for(var h=0;h<yr.BUFFER_COUNT;h++)t.data.bufferCanvases[h]=i.createElement("canvas"),t.data.bufferContexts[h]=t.data.bufferCanvases[h].getContext("2d"),t.data.bufferCanvases[h].style.position="absolute",t.data.bufferCanvases[h].setAttribute("data-id","buffer"+h),t.data.bufferCanvases[h].style.zIndex=String(-h-1),t.data.bufferCanvases[h].style.visibility="hidden";t.pathsEnabled=!0;var g=oa(),f=l(function(W){return{x:(W.x1+W.x2)/2,y:(W.y1+W.y2)/2}},"getBoxCenter"),m=l(function(W){return{x:-W.w/2,y:-W.h/2}},"getCenterOffset"),x=l(function(W){var J=W[0]._private,Y=J.oldBackgroundTimestamp===J.backgroundTimestamp;return!Y},"backgroundTimestampHasChanged"),T=l(function(W){return W[0]._private.nodeKey},"getStyleKey"),k=l(function(W){return W[0]._private.labelStyleKey},"getLabelKey"),E=l(function(W){return W[0]._private.sourceLabelStyleKey},"getSourceLabelKey"),S=l(function(W){return W[0]._private.targetLabelStyleKey},"getTargetLabelKey"),L=l(function(W,J,Y,X,te){return t.drawElement(W,J,Y,!1,!1,te)},"drawElement"),b=l(function(W,J,Y,X,te){return t.drawElementText(W,J,Y,X,"main",te)},"drawLabel"),y=l(function(W,J,Y,X,te){return t.drawElementText(W,J,Y,X,"source",te)},"drawSourceLabel"),v=l(function(W,J,Y,X,te){return t.drawElementText(W,J,Y,X,"target",te)},"drawTargetLabel"),w=l(function(W){return W.boundingBox(),W[0]._private.bodyBounds},"getElementBox"),C=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.main||g},"getLabelBox"),A=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.source||g},"getSourceLabelBox"),M=l(function(W){return W.boundingBox(),W[0]._private.labelBounds.target||g},"getTargetLabelBox"),N=l(function(W,J){return J},"isLabelVisibleAtScale"),O=l(function(W){return f(w(W))},"getElementRotationPoint"),_=l(function(W,J,Y){var X=W?W+"-":"";return{x:J.x+Y.pstyle(X+"text-margin-x").pfValue,y:J.y+Y.pstyle(X+"text-margin-y").pfValue}},"addTextMargin"),I=l(function(W,J,Y){var X=W[0]._private.rscratch;return{x:X[J],y:X[Y]}},"getRsPt"),R=l(function(W){return _("",I(W,"labelX","labelY"),W)},"getLabelRotationPoint"),P=l(function(W){return _("source",I(W,"sourceLabelX","sourceLabelY"),W)},"getSourceLabelRotationPoint"),D=l(function(W){return _("target",I(W,"targetLabelX","targetLabelY"),W)},"getTargetLabelRotationPoint"),$=l(function(W){return m(w(W))},"getElementRotationOffset"),F=l(function(W){return m(A(W))},"getSourceLabelRotationOffset"),z=l(function(W){return m(M(W))},"getTargetLabelRotationOffset"),U=l(function(W){var J=C(W),Y=m(C(W));if(W.isNode()){switch(W.pstyle("text-halign").value){case"left":Y.x=-J.w-(J.leftPad||0);break;case"right":Y.x=-(J.rightPad||0);break}switch(W.pstyle("text-valign").value){case"top":Y.y=-J.h-(J.topPad||0);break;case"bottom":Y.y=-(J.botPad||0);break}}return Y},"getLabelRotationOffset"),j=t.data.eleTxrCache=new D1(t,{getKey:T,doesEleInvalidateKey:x,drawElement:L,getBoundingBox:w,getRotationPoint:O,getRotationOffset:$,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),H=t.data.lblTxrCache=new D1(t,{getKey:k,drawElement:b,getBoundingBox:C,getRotationPoint:R,getRotationOffset:U,isVisible:N}),Q=t.data.slbTxrCache=new D1(t,{getKey:E,drawElement:y,getBoundingBox:A,getRotationPoint:P,getRotationOffset:F,isVisible:N}),re=t.data.tlbTxrCache=new D1(t,{getKey:S,drawElement:v,getBoundingBox:M,getRotationPoint:D,getRotationOffset:z,isVisible:N}),le=t.data.lyrTxrCache=new tB(t);t.onUpdateEleCalcs(l(function(W,J){j.invalidateElements(J),H.invalidateElements(J),Q.invalidateElements(J),re.invalidateElements(J),le.invalidateElements(J);for(var Y=0;Y<J.length;Y++){var X=J[Y]._private;X.oldBackgroundTimestamp=X.backgroundTimestamp}},"invalidateTextureCaches"));var oe=l(function(W){for(var J=0;J<W.length;J++)le.enqueueElementRefinement(W[J].ele)},"refineInLayers");j.onDequeue(oe),H.onDequeue(oe),Q.onDequeue(oe),re.onDequeue(oe),e.webgl&&t.initWebgl(e,{getStyleKey:T,getLabelKey:k,getSourceLabelKey:E,getTargetLabelKey:S,drawElement:L,drawLabel:b,drawSourceLabel:y,drawTargetLabel:v,getElementBox:w,getLabelBox:C,getSourceLabelBox:A,getTargetLabelBox:M,getElementRotationPoint:O,getElementRotationOffset:$,getLabelRotationPoint:R,getSourceLabelRotationPoint:P,getTargetLabelRotationPoint:D,getLabelRotationOffset:U,getSourceLabelRotationOffset:F,getTargetLabelRotationOffset:z})}function GD(e,t,r){var i=r,n=l(function(v){Ur("Can not register `"+t+"` for `"+e+"` since `"+v+"` already exists in the prototype and can not be overridden")},"overrideErr");if(e==="core"){if(A1.prototype[t])return n(t);A1.prototype[t]=r}else if(e==="collection"){if(_n.prototype[t])return n(t);_n.prototype[t]=r}else if(e==="layout"){for(var a=l(function(v){this.options=v,r.call(this,v),Nr(this._private)||(this._private={}),this._private.cy=v.cy,this._private.listeners=[],this.createEmitter()},"Layout"),s=a.prototype=Object.create(r.prototype),o=[],u=0;u<o.length;u++){var h=o[u];s[h]=s[h]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var d=r.prototype.stop;s.stop=function(){var v=this.options;if(v&&v.animate){var w=this.animations;if(w)for(var C=0;C<w.length;C++)w[C].stop()}return d?d.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var p=l(function(v){return v._private.cy},"getCy"),g={addEventFields:l(function(v,w){w.layout=v,w.cy=p(v),w.target=v},"addEventFields"),bubble:l(function(){return!0},"bubble"),parent:l(function(v){return p(v)},"parent")};er(s,{createEmitter:l(function(){return this._private.emitter=new Q2(g,this),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(v,w){return this.emitter().on(v,w),this},"on"),one:l(function(v,w){return this.emitter().one(v,w),this},"one"),once:l(function(v,w){return this.emitter().one(v,w),this},"once"),removeListener:l(function(v,w){return this.emitter().removeListener(v,w),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),emit:l(function(v,w){return this.emitter().emit(v,w),this},"emit")}),qr.eventAliasesOn(s),i=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var f=UD("renderer","base"),m=f.prototype,x=r,T=r.prototype,k=l(function(){f.apply(this,arguments),x.apply(this,arguments)},"Renderer"),E=k.prototype;for(var S in m){var L=m[S],b=T[S]!=null;if(b)return n(S);E[S]=L}for(var y in T)E[y]=T[y];m.clientFunctions.forEach(function(v){E[v]=E[v]||function(){di("Renderer does not implement `renderer."+v+"()` on its prototype")}}),i=k}else if(e==="__proto__"||e==="constructor"||e==="prototype")return di(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return ZD({map:gB,keys:[e,t],value:i})}function UD(e,t){return QD({map:gB,keys:[e,t]})}function z3e(e,t,r,i,n){return ZD({map:fB,keys:[e,t,r,i],value:n})}function G3e(e,t,r,i){return QD({map:fB,keys:[e,t,r,i]})}var nn,qD,U3e,jD,q3e,j3e,h1,Ht,vi,Qr,Nr,H3e,bt,V3e,iv,Ka,d1,HD,Hw,VD,Y3e,Ec,W3e,X3e,K3e,Z3e,Pd,Vw,nv,YD,WD,Cc,an,Q3e,J3e,e5e,t5e,r5e,i5e,XD,n5e,er,a5e,s5e,o5e,l5e,KD,c5e,ZD,QD,av,JD,u5e,eR,h5e,tR,d5e,rR,p5e,iR,g5e,nR,f5e,aR,m5e,sR,y5e,oR,v5e,lR,b5e,cR,x5e,uR,w5e,hR,k5e,dR,T5e,E5e,p1,Yw,pR,C5e,sv,ml,rh,gR,Bd,fR,g1,f1,S5e,Sc,ov,mR,ih,yR,_5e,A5e,vR,L5e,N5e,Ww,bR,lv,xR,Xw,di,wR,Ur,M5e,So,I5e,kR,D5e,TR,Cn,_c,Kw,R5e,Ma,yl,O5e,vl,P5e,B5e,$d,cv,ER,m1,Zw,$5e,F5e,z5e,G5e,U5e,y1,q5e,j5e,H5e,V5e,Y5e,W5e,X5e,K5e,Z5e,Q5e,J5e,Qw,e6e,CR,t6e,uv,SR,Fd,r6e,i6e,n6e,a6e,s6e,hv,Jw,ek,nh,ah,o6e,yn,zd,l6e,v1,oa,c6e,u6e,h6e,_R,dv,pv,AR,tk,Ac,LR,NR,d6e,MR,p6e,g6e,f6e,m6e,y6e,v6e,Ia,bl,b6e,gv,fv,x6e,sh,b1,rk,Lc,w6e,x1,k6e,mv,la,IR,ik,Nc,DR,nk,T6e,ak,E6e,C6e,RR,Gd,OR,Ud,S6e,sk,_6e,A6e,L6e,N6e,PR,M6e,I6e,D6e,R6e,O6e,P6e,B6e,BR,$6e,F6e,$R,FR,zR,z6e,G6e,w1,qd,U6e,ok,yv,lk,GR,UR,q6e,j6e,H6e,qR,jR,V6e,Y6e,W6e,X6e,K6e,HR,Z6e,Q6e,J6e,ewe,VR,jd,ck,uk,YR,twe,rwe,iwe,nwe,awe,swe,WR,owe,XR,lwe,cwe,uwe,vv,hwe,bv,dwe,KR,ZR,QR,JR,js,eO,tO,rO,iO,nO,Hd,hk,oh,pwe,aO,gwe,sO,fwe,oO,mwe,lO,ywe,cO,vwe,uO,bwe,hO,xwe,dO,wwe,pO,kwe,gO,Twe,fO,Ewe,mO,Cwe,yO,Swe,vO,_we,bO,Awe,xO,Lwe,wO,Nwe,kO,Mwe,TO,Iwe,EO,Dwe,CO,Rwe,SO,Owe,_O,Pwe,AO,Bwe,LO,$we,NO,Fwe,MO,zwe,IO,Gwe,DO,Uwe,RO,qwe,OO,jwe,PO,Hwe,BO,Vwe,$O,Ywe,FO,Wwe,zO,Xwe,GO,Kwe,UO,Zwe,qO,Qwe,jO,Jwe,HO,eke,VO,tke,YO,rke,ike,nke,WO,ake,XO,ske,KO,oke,ZO,lke,QO,cke,JO,uke,hke,dke,eP,pke,tP,gke,fke,mke,yke,vke,qr,bke,xv,Mr,Xr,It,dk,xke,wke,kke,Vd,Mc,pk,Tke,Eke,Cke,Ske,_ke,rP,Ake,Lke,gk,Nke,Ei,ai,Mke,Ike,Dke,Ic,Dc,Rc,fs,Yd,wv,Rke,Oke,kv,_o,Pke,iP,nP,Bke,k1,lh,ms,Hs,Oc,T1,Tv,fk,aP,sP,$ke,Fke,oP,lP,cP,E1,uP,hP,zke,Ev,Cv,dP,Gke,Uke,qke,jke,Hke,Vke,Yke,Wke,Xke,pP,Kke,Zke,Qke,gP,fP,Jke,mP,yP,eTe,Pc,vP,bP,tTe,rTe,Sv,xP,wP,Rr,iTe,kP,_v,nTe,aTe,Av,Sn,Wd,sTe,oTe,lTe,cTe,Bc,qn,TP,EP,CP,_n,ri,uTe,hTe,ii,Lv,dTe,pTe,Nv,SP,mk,Mv,gTe,fTe,yk,Iv,vn,C1,mTe,S1,vk,Ao,Dv,bk,qi,Rv,bn,jn,yTe,vTe,ch,_1,A1,Ov,bTe,xTe,Xd,_P,wTe,kTe,AP,TTe,ETe,CTe,LP,zZe,STe,NP,_Te,ATe,LTe,MP,NTe,MTe,Pv,ITe,DTe,RTe,OTe,PTe,IP,DP,BTe,$Te,FTe,zTe,GTe,RP,OP,xk,uh,Bv,PP,BP,Lo,ys,UTe,qTe,Kd,wk,$c,Zd,Qd,xl,L1,kk,jTe,HTe,$P,FP,VTe,zP,YTe,WTe,N1,XTe,Hn,M1,Tk,No,GP,UP,KTe,qP,jP,HP,$v,Fv,VP,YP,Jd,wl,I1,WP,ZTe,XP,e0,Ek,KP,QTe,ZP,zv,Gv,Ck,QP,JTe,e7e,t7e,r7e,i7e,n7e,a7e,s7e,o7e,l7e,c7e,u7e,h7e,t0,d7e,D1,sn,p7e,R1,Uv,g7e,f7e,m7e,y7e,v7e,b7e,x7e,w7e,JP,k7e,eB,T7e,tB,An,rB,E7e,iB,C7e,Mo,S7e,_7e,A7e,L7e,N7e,Sk,kl,nB,_k,hh,Fc,aB,ca,M7e,qv,sB,I7e,D7e,R7e,O7e,P7e,B7e,$7e,F7e,O1,jv,Ak,oB,lB,Lk,r0,Hv,P1,B1,z7e,cB,Nk,Mk,zc,uB,hB,Ik,Dk,dB,i0,$1,pB,G7e,yr,U7e,q7e,j7e,gB,fB,Rk,Vv,dh,H7e,Io,V7e=B(()=>{"use strict";for(l(Lw,"_arrayLikeToArray"),l(Xxe,"_arrayWithHoles"),l(Kxe,"_arrayWithoutHoles"),l(kc,"_classCallCheck"),l(Zxe,"_defineProperties"),l(Tc,"_createClass"),l(Na,"_createForOfIteratorHelper"),l(tD,"_defineProperty$1"),l(Qxe,"_iterableToArray"),l(Jxe,"_iterableToArrayLimit"),l(e4e,"_nonIterableRest"),l(t4e,"_nonIterableSpread"),l(Ui,"_slicedToArray"),l(j2,"_toConsumableArray"),l(r4e,"_toPrimitive"),l(rD,"_toPropertyKey"),l(rn,"_typeof"),l(Nw,"_unsupportedIterableToArray"),nn=typeof window>"u"?null:window,qD=nn?nn.navigator:null,nn&&nn.document,U3e=rn(""),jD=rn({}),q3e=rn(function(){}),j3e=typeof HTMLElement>"u"?"undefined":rn(HTMLElement),h1=l(function(e){return e&&e.instanceString&&vi(e.instanceString)?e.instanceString():null},"instanceStr"),Ht=l(function(e){return e!=null&&rn(e)==U3e},"string"),vi=l(function(e){return e!=null&&rn(e)===q3e},"fn"),Qr=l(function(e){return!Ka(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},"array"),Nr=l(function(e){return e!=null&&rn(e)===jD&&!Qr(e)&&e.constructor===Object},"plainObject"),H3e=l(function(e){return e!=null&&rn(e)===jD},"object"),bt=l(function(e){return e!=null&&rn(e)===rn(1)&&!isNaN(e)},"number"),V3e=l(function(e){return bt(e)&&Math.floor(e)===e},"integer"),iv=l(function(e){if(j3e!=="undefined")return e!=null&&e instanceof HTMLElement},"htmlElement"),Ka=l(function(e){return d1(e)||HD(e)},"elementOrCollection"),d1=l(function(e){return h1(e)==="collection"&&e._private.single},"element"),HD=l(function(e){return h1(e)==="collection"&&!e._private.single},"collection"),Hw=l(function(e){return h1(e)==="core"},"core"),VD=l(function(e){return h1(e)==="stylesheet"},"stylesheet"),Y3e=l(function(e){return h1(e)==="event"},"event"),Ec=l(function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},"emptyString"),W3e=l(function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},"domElement"),X3e=l(function(e){return Nr(e)&&bt(e.x1)&&bt(e.x2)&&bt(e.y1)&&bt(e.y2)},"boundingBox"),K3e=l(function(e){return H3e(e)&&vi(e.then)},"promise"),Z3e=l(function(){return qD&&qD.userAgent.match(/msie|trident|edge/i)},"ms"),Pd=l(function(e,t){t||(t=l(function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n]);return i.join("$")},"keyFn"));var r=l(function(){var i=this,n=arguments,a,s=t.apply(i,n),o=r.cache;return(a=o[s])||(a=o[s]=e.apply(i,n)),a},"memoizedFn");return r.cache={},r},"memoize"),Vw=Pd(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),nv=Pd(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),YD=Pd(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),WD=l(function(e){return Ec(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},"capitalize"),Cc=l(function(e,t){return e.slice(-1*t.length)===t},"endsWith"),an="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Q3e="rgb[a]?\\(("+an+"[%]?)\\s*,\\s*("+an+"[%]?)\\s*,\\s*("+an+"[%]?)(?:\\s*,\\s*("+an+"))?\\)",J3e="rgb[a]?\\((?:"+an+"[%]?)\\s*,\\s*(?:"+an+"[%]?)\\s*,\\s*(?:"+an+"[%]?)(?:\\s*,\\s*(?:"+an+"))?\\)",e5e="hsl[a]?\\(("+an+")\\s*,\\s*("+an+"[%])\\s*,\\s*("+an+"[%])(?:\\s*,\\s*("+an+"))?\\)",t5e="hsl[a]?\\((?:"+an+")\\s*,\\s*(?:"+an+"[%])\\s*,\\s*(?:"+an+"[%])(?:\\s*,\\s*(?:"+an+"))?\\)",r5e="\\#[0-9a-fA-F]{3}",i5e="\\#[0-9a-fA-F]{6}",XD=l(function(e,t){return e<t?-1:e>t?1:0},"ascending"),n5e=l(function(e,t){return-1*XD(e,t)},"descending"),er=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var i=t[r];if(i!=null)for(var n=Object.keys(i),a=0;a<n.length;a++){var s=n[a];e[s]=i[s]}}return e},a5e=l(function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,r,i,n,a=16;return t?(r=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),n=parseInt(e[3]+e[3],a)):(r=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),n=parseInt(e[5]+e[6],a)),[r,i,n]}},"hex2tuple"),s5e=l(function(e){var t,r,i,n,a,s,o,u;function h(f,m,x){return x<0&&(x+=1),x>1&&(x-=1),x<1/6?f+(m-f)*6*x:x<1/2?m:x<2/3?f+(m-f)*(2/3-x)*6:f}l(h,"hue2rgb");var d=new RegExp("^"+e5e+"$").exec(e);if(d){if(r=parseInt(d[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(d[2]),i<0||i>100||(i=i/100,n=parseFloat(d[3]),n<0||n>100)||(n=n/100,a=d[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)s=o=u=Math.round(n*255);else{var p=n<.5?n*(1+i):n+i-n*i,g=2*n-p;s=Math.round(255*h(g,p,r+1/3)),o=Math.round(255*h(g,p,r)),u=Math.round(255*h(g,p,r-1/3))}t=[s,o,u,a]}return t},"hsl2tuple"),o5e=l(function(e){var t,r=new RegExp("^"+Q3e+"$").exec(e);if(r){t=[];for(var i=[],n=1;n<=3;n++){var a=r[n];if(a[a.length-1]==="%"&&(i[n]=!0),a=parseFloat(a),i[n]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var s=i[1]||i[2]||i[3],o=i[1]&&i[2]&&i[3];if(s&&!o)return;var u=r[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;t.push(u)}}return t},"rgb2tuple"),l5e=l(function(e){return c5e[e.toLowerCase()]},"colorname2tuple"),KD=l(function(e){return(Qr(e)?e:null)||l5e(e)||a5e(e)||o5e(e)||s5e(e)},"color2tuple"),c5e={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ZD=l(function(e){for(var t=e.map,r=e.keys,i=r.length,n=0;n<i;n++){var a=r[n];if(Nr(a))throw Error("Tried to set map with object key");n<r.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},"setMap"),QD=l(function(e){for(var t=e.map,r=e.keys,i=r.length,n=0;n<i;n++){var a=r[n];if(Nr(a))throw Error("Tried to get map with object key");if(t=t[a],t==null)return t}return t},"getMap"),av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},l(s1,"getDefaultExportFromCjs"),l(o1,"requireIsObject"),l(i4e,"require_freeGlobal"),l(H2,"require_root"),l(n4e,"requireNow"),l(a4e,"require_trimmedEndIndex"),l(s4e,"require_baseTrim"),l(Mw,"require_Symbol"),l(o4e,"require_getRawTag"),l(l4e,"require_objectToString"),l(iD,"require_baseGetTag"),l(c4e,"requireIsObjectLike"),l(l1,"requireIsSymbol"),l(u4e,"requireToNumber"),l(h4e,"requireDebounce"),E5e=h4e(),p1=s1(E5e),Yw=nn?nn.performance:null,pR=Yw&&Yw.now?function(){return Yw.now()}:function(){return Date.now()},C5e=(function(){if(nn){if(nn.requestAnimationFrame)return function(e){nn.requestAnimationFrame(e)};if(nn.mozRequestAnimationFrame)return function(e){nn.mozRequestAnimationFrame(e)};if(nn.webkitRequestAnimationFrame)return function(e){nn.webkitRequestAnimationFrame(e)};if(nn.msRequestAnimationFrame)return function(e){nn.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(pR())},1e3/60)}})(),sv=l(function(e){return C5e(e)},"requestAnimationFrame"),ml=pR,rh=9261,gR=65599,Bd=5381,fR=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rh,r=t,i;i=e.next(),!i.done;)r=r*gR+i.value|0;return r},"hashIterableInts"),g1=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rh;return t*gR+e|0},"hashInt"),f1=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Bd;return(t<<5)+t+e|0},"hashIntAlt"),S5e=l(function(e,t){return e*2097152+t},"combineHashes"),Sc=l(function(e){return e[0]*2097152+e[1]},"combineHashesArray"),ov=l(function(e,t){return[g1(e[0],t[0]),f1(e[1],t[1])]},"hashArrays"),mR=l(function(e,t){var r={value:0,done:!1},i=0,n=e.length,a={next:l(function(){return i<n?r.value=e[i++]:r.done=!0,r},"next")};return fR(a,t)},"hashIntsArray"),ih=l(function(e,t){var r={value:0,done:!1},i=0,n=e.length,a={next:l(function(){return i<n?r.value=e.charCodeAt(i++):r.done=!0,r},"next")};return fR(a,t)},"hashString"),yR=l(function(){return _5e(arguments)},"hashStrings"),_5e=l(function(e){for(var t,r=0;r<e.length;r++){var i=e[r];r===0?t=ih(i):t=ih(i,t)}return t},"hashStringsArray"),l(d4e,"rotatePoint"),A5e=l(function(e,t,r,i,n,a){return{x:(e-r)*n+r,y:(t-i)*a+i}},"movePointByBoxAspect"),l(p4e,"rotatePosAndSkewByBox"),vR=!0,L5e=console.warn!=null,N5e=console.trace!=null,Ww=Number.MAX_SAFE_INTEGER||9007199254740991,bR=l(function(){return!0},"trueify"),lv=l(function(){return!1},"falsify"),xR=l(function(){return 0},"zeroify"),Xw=l(function(){},"noop"),di=l(function(e){throw new Error(e)},"error"),wR=l(function(e){if(e!==void 0)vR=!!e;else return vR},"warnings"),Ur=l(function(e){wR()&&(L5e?console.warn(e):(console.log(e),N5e&&console.trace()))},"warn"),M5e=l(function(e){return er({},e)},"clone"),So=l(function(e){return e==null?e:Qr(e)?e.slice():Nr(e)?M5e(e):e},"copy"),I5e=l(function(e){return e.slice()},"copyArray"),kR=l(function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},"uuid"),D5e={},TR=l(function(){return D5e},"staticEmptyObject"),Cn=l(function(e){var t=Object.keys(e);return function(r){for(var i={},n=0;n<t.length;n++){var a=t[n],s=r==null?void 0:r[a];i[a]=s===void 0?e[a]:s}return i}},"defaults"),_c=l(function(e,t,r){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},"removeFromArray"),Kw=l(function(e){e.splice(0,e.length)},"clearArray"),R5e=l(function(e,t){for(var r=0;r<t.length;r++){var i=t[r];e.push(i)}},"push"),Ma=l(function(e,t,r){return r&&(t=YD(r,t)),e[t]},"getPrefixedProperty"),yl=l(function(e,t,r,i){r&&(t=YD(r,t)),e[t]=i},"setPrefixedProperty"),O5e=(function(){function e(){kc(this,e),this._obj={}}return l(e,"ObjectMap"),Tc(e,[{key:"set",value:l(function(t,r){return this._obj[t]=r,this},"set")},{key:"delete",value:l(function(t){return this._obj[t]=void 0,this},"_delete")},{key:"clear",value:l(function(){this._obj={}},"clear")},{key:"has",value:l(function(t){return this._obj[t]!==void 0},"has")},{key:"get",value:l(function(t){return this._obj[t]},"get")}])})(),vl=typeof Map<"u"?Map:O5e,P5e="undefined",B5e=(function(){function e(t){if(kc(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var i=0;i<r.length;i++)this.add(r[i])}}return l(e,"ObjectSet"),Tc(e,[{key:"instanceString",value:l(function(){return"set"},"instanceString")},{key:"add",value:l(function(t){var r=this._obj;r[t]!==1&&(r[t]=1,this.size++)},"add")},{key:"delete",value:l(function(t){var r=this._obj;r[t]===1&&(r[t]=0,this.size--)},"_delete")},{key:"clear",value:l(function(){this._obj=Object.create(null)},"clear")},{key:"has",value:l(function(t){return this._obj[t]===1},"has")},{key:"toArray",value:l(function(){var t=this;return Object.keys(this._obj).filter(function(r){return t.has(r)})},"toArray")},{key:"forEach",value:l(function(t,r){return this.toArray().forEach(t,r)},"forEach")}])})(),$d=(typeof Set>"u"?"undefined":rn(Set))!==P5e?Set:B5e,cv=l(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!Hw(e)){di("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){di("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var n=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new $d,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(n.position.x==null&&(n.position.x=0),n.position.y==null&&(n.position.y=0),t.renderedPosition){var a=t.renderedPosition,s=e.pan(),o=e.zoom();n.position={x:(a.x-s.x)/o,y:(a.y-s.y)/o}}var u=[];Qr(t.classes)?u=t.classes:Ht(t.classes)&&(u=t.classes.split(/\s+/));for(var h=0,d=u.length;h<d;h++){var p=u[h];!p||p===""||n.classes.add(p)}this.createEmitter(),(r===void 0||r)&&this.restore();var g=t.style||t.css;g&&(Ur("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(g))},"Element"),ER=l(function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},l(function(t,r,i){var n;Nr(t)&&!Ka(t)&&(n=t,t=n.roots||n.root,r=n.visit,i=n.directed),i=arguments.length===2&&!vi(r)?r:i,r=vi(r)?r:function(){};for(var a=this._private.cy,s=t=Ht(t)?this.filter(t):t,o=[],u=[],h={},d={},p={},g=0,f,m=this.byGroup(),x=m.nodes,T=m.edges,k=0;k<s.length;k++){var E=s[k],S=E.id();E.isNode()&&(o.unshift(E),e.bfs&&(p[S]=!0,u.push(E)),d[S]=0)}for(var L=l(function(){var A=e.bfs?o.shift():o.pop(),M=A.id();if(e.dfs){if(p[M])return 0;p[M]=!0,u.push(A)}var N=d[M],O=h[M],_=O!=null?O.source():null,I=O!=null?O.target():null,R=O==null?void 0:A.same(_)?I[0]:_[0],P;if(P=r(A,O,R,g++,N),P===!0)return f=A,1;if(P===!1)return 1;for(var D=A.connectedEdges().filter(function(j){return(!i||j.source().same(A))&&T.has(j)}),$=0;$<D.length;$++){var F=D[$],z=F.connectedNodes().filter(function(j){return!j.same(A)&&x.has(j)}),U=z.id();z.length!==0&&!p[U]&&(z=z[0],o.push(z),e.bfs&&(p[U]=!0,u.push(z)),h[U]=F,d[U]=d[M]+1)}},"_loop"),b;o.length!==0&&(b=L(),!(b!==0&&b===1)););for(var y=a.collection(),v=0;v<u.length;v++){var w=u[v],C=h[w.id()];C!=null&&y.push(C),y.push(w)}return{path:a.collection(y),found:a.collection(f)}},"searchFn")},"defineSearch"),m1={breadthFirstSearch:ER({bfs:!0}),depthFirstSearch:ER({dfs:!0})},m1.bfs=m1.breadthFirstSearch,m1.dfs=m1.depthFirstSearch,Zw={exports:{}},$5e=Zw.exports,l(g4e,"requireHeap$1"),l(f4e,"requireHeap"),U5e=f4e(),y1=s1(U5e),q5e=Cn({root:null,weight:l(function(e){return 1},"weight"),directed:!1}),j5e={dijkstra:l(function(e){if(!Nr(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=q5e(e),i=r.root,n=r.weight,a=r.directed,s=this,o=n,u=Ht(i)?this.filter(i)[0]:i[0],h={},d={},p={},g=this.byGroup(),f=g.nodes,m=g.edges;m.unmergeBy(function(_){return _.isLoop()});for(var x=l(function(_){return h[_.id()]},"getDist"),T=l(function(_,I){h[_.id()]=I,k.updateItem(_)},"setDist"),k=new y1(function(_,I){return x(_)-x(I)}),E=0;E<f.length;E++){var S=f[E];h[S.id()]=S.same(u)?0:1/0,k.push(S)}for(var L=l(function(_,I){for(var R=(a?_.edgesTo(I):_.edgesWith(I)).intersect(m),P=1/0,D,$=0;$<R.length;$++){var F=R[$],z=o(F);(z<P||!D)&&(P=z,D=F)}return{edge:D,dist:P}},"distBetween");k.size()>0;){var b=k.pop(),y=x(b),v=b.id();if(p[v]=y,y!==1/0)for(var w=b.neighborhood().intersect(f),C=0;C<w.length;C++){var A=w[C],M=A.id(),N=L(b,A),O=y+N.dist;O<x(A)&&(T(A,O),d[M]={node:b,edge:N.edge})}}return{distanceTo:l(function(_){var I=Ht(_)?f.filter(_)[0]:_[0];return p[I.id()]},"distanceTo"),pathTo:l(function(_){var I=Ht(_)?f.filter(_)[0]:_[0],R=[],P=I,D=P.id();if(I.length>0)for(R.unshift(I);d[D];){var $=d[D];R.unshift($.edge),R.unshift($.node),P=$.node,D=P.id()}return s.spawn(R)},"pathTo")}},"dijkstra")},H5e={kruskal:l(function(e){e=e||function(E){return 1};for(var t=this.byGroup(),r=t.nodes,i=t.edges,n=r.length,a=new Array(n),s=r,o=l(function(E){for(var S=0;S<a.length;S++){var L=a[S];if(L.has(E))return S}},"findSetIndex"),u=0;u<n;u++)a[u]=this.spawn(r[u]);for(var h=i.sort(function(E,S){return e(E)-e(S)}),d=0;d<h.length;d++){var p=h[d],g=p.source()[0],f=p.target()[0],m=o(g),x=o(f),T=a[m],k=a[x];m!==x&&(s.merge(p),T.merge(k),a.splice(x,1))}return s},"kruskal")},V5e=Cn({root:null,goal:null,weight:l(function(e){return 1},"weight"),heuristic:l(function(e){return 0},"heuristic"),directed:!1}),Y5e={aStar:l(function(e){var t=this.cy(),r=V5e(e),i=r.root,n=r.goal,a=r.heuristic,s=r.directed,o=r.weight;i=t.collection(i)[0],n=t.collection(n)[0];var u=i.id(),h=n.id(),d={},p={},g={},f=new y1(function($,F){return p[$.id()]-p[F.id()]}),m=new $d,x={},T={},k=l(function($,F){f.push($),m.add(F)},"addToOpenSet"),E,S,L=l(function(){E=f.pop(),S=E.id(),m.delete(S)},"popFromOpenSet"),b=l(function($){return m.has($)},"isInOpenSet");k(i,u),d[u]=0,p[u]=a(i);for(var y=0;f.size()>0;){if(L(),y++,S===h){for(var v=[],w=n,C=h,A=T[C];v.unshift(w),A!=null&&v.unshift(A),w=x[C],w!=null;)C=w.id(),A=T[C];return{found:!0,distance:d[S],path:this.spawn(v),steps:y}}g[S]=!0;for(var M=E._private.edges,N=0;N<M.length;N++){var O=M[N];if(this.hasElementWithId(O.id())&&!(s&&O.data("source")!==S)){var _=O.source(),I=O.target(),R=_.id()!==S?_:I,P=R.id();if(this.hasElementWithId(P)&&!g[P]){var D=d[S]+o(O);if(!b(P)){d[P]=D,p[P]=D+a(R),k(R,P),x[P]=E,T[P]=O;continue}D<d[P]&&(d[P]=D,p[P]=D+a(R),x[P]=E,T[P]=O)}}}}return{found:!1,distance:void 0,path:void 0,steps:y}},"aStar")},W5e=Cn({weight:l(function(e){return 1},"weight"),directed:!1}),X5e={floydWarshall:l(function(e){for(var t=this.cy(),r=W5e(e),i=r.weight,n=r.directed,a=i,s=this.byGroup(),o=s.nodes,u=s.edges,h=o.length,d=h*h,p=l(function(z){return o.indexOf(z)},"indexOf"),g=l(function(z){return o[z]},"atIndex"),f=new Array(d),m=0;m<d;m++){var x=m%h,T=(m-x)/h;T===x?f[m]=0:f[m]=1/0}for(var k=new Array(d),E=new Array(d),S=0;S<u.length;S++){var L=u[S],b=L.source()[0],y=L.target()[0];if(b!==y){var v=p(b),w=p(y),C=v*h+w,A=a(L);if(f[C]>A&&(f[C]=A,k[C]=w,E[C]=L),!n){var M=w*h+v;!n&&f[M]>A&&(f[M]=A,k[M]=v,E[M]=L)}}}for(var N=0;N<h;N++)for(var O=0;O<h;O++)for(var _=O*h+N,I=0;I<h;I++){var R=O*h+I,P=N*h+I;f[_]+f[P]<f[R]&&(f[R]=f[_]+f[P],k[R]=k[_])}var D=l(function(z){return(Ht(z)?t.filter(z):z)[0]},"getArgEle"),$=l(function(z){return p(D(z))},"indexOfArgEle"),F={distance:l(function(z,U){var j=$(z),H=$(U);return f[j*h+H]},"distance"),path:l(function(z,U){var j=$(z),H=$(U),Q=g(j);if(j===H)return Q.collection();if(k[j*h+H]==null)return t.collection();var re=t.collection(),le=j,oe;for(re.merge(Q);j!==H;)le=j,j=k[j*h+H],oe=E[le*h+j],re.merge(oe),re.merge(g(j));return re},"path")};return F},"floydWarshall")},K5e=Cn({weight:l(function(e){return 1},"weight"),directed:!1,root:null}),Z5e={bellmanFord:l(function(e){var t=this,r=K5e(e),i=r.weight,n=r.directed,a=r.root,s=i,o=this,u=this.cy(),h=this.byGroup(),d=h.edges,p=h.nodes,g=p.length,f=new vl,m=!1,x=[];a=u.collection(a)[0],d.unmergeBy(function(me){return me.isLoop()});for(var T=d.length,k=l(function(me){var Z=f.get(me.id());return Z||(Z={},f.set(me.id(),Z)),Z},"getInfo"),E=l(function(me){return(Ht(me)?u.$(me):me)[0]},"getNodeFromTo"),S=l(function(me){return k(E(me)).dist},"distanceTo"),L=l(function(me){for(var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,Ae=E(me),he=[],Ne=Ae;;){if(Ne==null)return t.spawn();var Pe=k(Ne),He=Pe.edge,qe=Pe.pred;if(he.unshift(Ne[0]),Ne.same(Z)&&he.length>0)break;He!=null&&he.unshift(He),Ne=qe}return o.spawn(he)},"pathTo"),b=0;b<g;b++){var y=p[b],v=k(y);y.same(a)?v.dist=0:v.dist=1/0,v.pred=null,v.edge=null}for(var w=!1,C=l(function(me,Z,Ae,he,Ne,Pe){var He=he.dist+Pe;He<Ne.dist&&!Ae.same(he.edge)&&(Ne.dist=He,Ne.pred=me,Ne.edge=Ae,w=!0)},"checkForEdgeReplacement"),A=1;A<g;A++){w=!1;for(var M=0;M<T;M++){var N=d[M],O=N.source(),_=N.target(),I=s(N),R=k(O),P=k(_);C(O,_,N,R,P,I),n||C(_,O,N,P,R,I)}if(!w)break}if(w)for(var D=[],$=0;$<T;$++){var F=d[$],z=F.source(),U=F.target(),j=s(F),H=k(z).dist,Q=k(U).dist;if(H+j<Q||!n&&Q+j<H)if(m||(Ur("Graph contains a negative weight cycle for Bellman-Ford"),m=!0),e.findNegativeWeightCycles!==!1){var re=[];H+j<Q&&re.push(z),!n&&Q+j<H&&re.push(U);for(var le=re.length,oe=0;oe<le;oe++){var W=re[oe],J=[W];J.push(k(W).edge);for(var Y=k(W).pred;J.indexOf(Y)===-1;)J.push(Y),J.push(k(Y).edge),Y=k(Y).pred;J=J.slice(J.indexOf(Y));for(var X=J[0].id(),te=0,ce=2;ce<J.length;ce+=2)J[ce].id()<X&&(X=J[ce].id(),te=ce);J=J.slice(te).concat(J.slice(0,te)),J.push(J[0]);var K=J.map(function(me){return me.id()}).join(",");D.indexOf(K)===-1&&(x.push(o.spawn(J)),D.push(K))}}else break}return{distanceTo:S,pathTo:L,hasNegativeWeightCycle:m,negativeWeightCycles:x}},"bellmanFord")},Q5e=Math.sqrt(2),J5e=l(function(e,t,r){r.length===0&&di("Karger-Stein must be run on a connected (sub)graph");for(var i=r[e],n=i[1],a=i[2],s=t[n],o=t[a],u=r,h=u.length-1;h>=0;h--){var d=u[h],p=d[1],g=d[2];(t[p]===s&&t[g]===o||t[p]===o&&t[g]===s)&&u.splice(h,1)}for(var f=0;f<u.length;f++){var m=u[f];m[1]===o?(u[f]=m.slice(),u[f][1]=s):m[2]===o&&(u[f]=m.slice(),u[f][2]=s)}for(var x=0;x<t.length;x++)t[x]===o&&(t[x]=s);return u},"collapse"),Qw=l(function(e,t,r,i){for(;r>i;){var n=Math.floor(Math.random()*t.length);t=J5e(n,e,t),r--}return t},"contractUntil"),e6e={kargerStein:l(function(){var e=this,t=this.byGroup(),r=t.nodes,i=t.edges;i.unmergeBy(function(P){return P.isLoop()});var n=r.length,a=i.length,s=Math.ceil(Math.pow(Math.log(n)/Math.LN2,2)),o=Math.floor(n/Q5e);if(n<2){di("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],h=0;h<a;h++){var d=i[h];u.push([h,r.indexOf(d.source()),r.indexOf(d.target())])}for(var p=1/0,g=[],f=new Array(n),m=new Array(n),x=new Array(n),T=l(function(P,D){for(var $=0;$<n;$++)D[$]=P[$]},"copyNodesMap"),k=0;k<=s;k++){for(var E=0;E<n;E++)m[E]=E;var S=Qw(m,u.slice(),n,o),L=S.slice();T(m,x);var b=Qw(m,S,o,2),y=Qw(x,L,o,2);b.length<=y.length&&b.length<p?(p=b.length,g=b,T(m,f)):y.length<=b.length&&y.length<p&&(p=y.length,g=y,T(x,f))}for(var v=this.spawn(g.map(function(P){return i[P[0]]})),w=this.spawn(),C=this.spawn(),A=f[0],M=0;M<f.length;M++){var N=f[M],O=r[M];N===A?w.merge(O):C.merge(O)}var _=l(function(P){var D=e.spawn();return P.forEach(function($){D.merge($),$.connectedEdges().forEach(function(F){e.contains(F)&&!v.contains(F)&&D.merge(F)})}),D},"constructComponent"),I=[_(w),_(C)],R={cut:v,components:I,partition1:w,partition2:C};return R},"kargerStein")},t6e=l(function(e){return{x:e.x,y:e.y}},"copyPosition"),uv=l(function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},"modelToRenderedPosition"),SR=l(function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},"renderedToModelPosition"),Fd=l(function(e){return{x:e[0],y:e[1]}},"array2point"),r6e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,n=t;n<r;n++){var a=e[n];isFinite(a)&&(i=Math.min(a,i))}return i},"min"),i6e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,n=t;n<r;n++){var a=e[n];isFinite(a)&&(i=Math.max(a,i))}return i},"max"),n6e=l(function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,n=0,a=t;a<r;a++){var s=e[a];isFinite(s)&&(i+=s,n++)}return i/n},"mean"),a6e=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,r):(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t));for(var s=0,o=e.length-1;o>=0;o--){var u=e[o];a?isFinite(u)||(e[o]=-1/0,s++):e.splice(o,1)}n&&e.sort(function(p,g){return p-g});var h=e.length,d=Math.floor(h/2);return h%2!==0?e[d+1+s]:(e[d-1+s]+e[d+s])/2},"median"),s6e=l(function(e){return Math.PI*e/180},"deg2rad"),hv=l(function(e,t){return Math.atan2(t,e)-Math.PI/2},"getAngleFromDisp"),Jw=Math.log2||function(e){return Math.log(e)/Math.log(2)},ek=l(function(e){return e>0?1:e<0?-1:0},"signum"),nh=l(function(e,t){return Math.sqrt(ah(e,t))},"dist"),ah=l(function(e,t){var r=t.x-e.x,i=t.y-e.y;return r*r+i*i},"sqdist"),o6e=l(function(e){for(var t=e.length,r=0,i=0;i<t;i++)r+=e[i];for(var n=0;n<t;n++)e[n]=e[n]/r;return e},"inPlaceSumNormalize"),yn=l(function(e,t,r,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*r},"qbezierAt"),zd=l(function(e,t,r,i){return{x:yn(e.x,t.x,r.x,i),y:yn(e.y,t.y,r.y,i)}},"qbezierPtAt"),l6e=l(function(e,t,r,i){var n={x:t.x-e.x,y:t.y-e.y},a=nh(e,t),s={x:n.x/a,y:n.y/a};return r=r!=null?r:0,i=i!=null?i:r*a,{x:e.x+s.x*i,y:e.y+s.y*i}},"lineAt"),v1=l(function(e,t,r){return Math.max(e,Math.min(r,t))},"bound"),oa=l(function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},"makeBoundingBox"),c6e=l(function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},"copyBoundingBox"),u6e=l(function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},"clearBoundingBox"),h6e=l(function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},"updateBoundingBox"),_R=l(function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},"expandBoundingBoxByPoint"),dv=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBox"),pv=l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,n,a;if(t.length===1)r=i=n=a=t[0];else if(t.length===2)r=n=t[0],a=i=t[1];else if(t.length===4){var s=Ui(t,4);r=s[0],i=s[1],n=s[2],a=s[3]}return e.x1-=a,e.x2+=i,e.y1-=r,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},"expandBoundingBoxSides"),AR=l(function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},"assignBoundingBox"),tk=l(function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},"boundingBoxesIntersect"),Ac=l(function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},"inBoundingBox"),LR=l(function(e,t){return Ac(e,t.x,t.y)},"pointInBoundingBox"),NR=l(function(e,t){return Ac(e,t.x1,t.y1)&&Ac(e,t.x2,t.y2)},"boundingBoxInBoundingBox"),d6e=(CR=Math.hypot)!==null&&CR!==void 0?CR:function(e,t){return Math.sqrt(e*e+t*t)},l(m4e,"inflatePolygon"),l(y4e,"miterBox"),MR=l(function(e,t,r,i,n,a,s){var o=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",u=o==="auto"?Nc(n,a):o,h=n/2,d=a/2;u=Math.min(u,h,d);var p=u!==h,g=u!==d,f;if(p){var m=r-h+u-s,x=i-d-s,T=r+h-u+s,k=x;if(f=Lc(e,t,r,i,m,x,T,k,!1),f.length>0)return f}if(g){var E=r+h+s,S=i-d+u-s,L=E,b=i+d-u+s;if(f=Lc(e,t,r,i,E,S,L,b,!1),f.length>0)return f}if(p){var y=r-h+u-s,v=i+d+s,w=r+h-u+s,C=v;if(f=Lc(e,t,r,i,y,v,w,C,!1),f.length>0)return f}if(g){var A=r-h-s,M=i-d+u-s,N=A,O=i+d-u+s;if(f=Lc(e,t,r,i,A,M,N,O,!1),f.length>0)return f}var _;{var I=r-h+u,R=i-d+u;if(_=b1(e,t,r,i,I,R,u+s),_.length>0&&_[0]<=I&&_[1]<=R)return[_[0],_[1]]}{var P=r+h-u,D=i-d+u;if(_=b1(e,t,r,i,P,D,u+s),_.length>0&&_[0]>=P&&_[1]<=D)return[_[0],_[1]]}{var $=r+h-u,F=i+d-u;if(_=b1(e,t,r,i,$,F,u+s),_.length>0&&_[0]>=$&&_[1]>=F)return[_[0],_[1]]}{var z=r-h+u,U=i+d-u;if(_=b1(e,t,r,i,z,U,u+s),_.length>0&&_[0]<=z&&_[1]>=U)return[_[0],_[1]]}return[]},"roundRectangleIntersectLine"),p6e=l(function(e,t,r,i,n,a,s){var o=s,u=Math.min(r,n),h=Math.max(r,n),d=Math.min(i,a),p=Math.max(i,a);return u-o<=e&&e<=h+o&&d-o<=t&&t<=p+o},"inLineVicinity"),g6e=l(function(e,t,r,i,n,a,s,o,u){var h={x1:Math.min(r,s,n)-u,x2:Math.max(r,s,n)+u,y1:Math.min(i,o,a)-u,y2:Math.max(i,o,a)+u};return!(e<h.x1||e>h.x2||t<h.y1||t>h.y2)},"inBezierVicinity"),f6e=l(function(e,t,r,i){r-=i;var n=t*t-4*e*r;if(n<0)return[];var a=Math.sqrt(n),s=2*e,o=(-t+a)/s,u=(-t-a)/s;return[o,u]},"solveQuadratic"),m6e=l(function(e,t,r,i,n){var a=1e-5;e===0&&(e=a),t/=e,r/=e,i/=e;var s,o,u,h,d,p,g,f;if(o=(3*r-t*t)/9,u=-(27*i)+t*(9*r-2*(t*t)),u/=54,s=o*o*o+u*u,n[1]=0,g=t/3,s>0){d=u+Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),p=u-Math.sqrt(s),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),n[0]=-g+d+p,g+=(d+p)/2,n[4]=n[2]=-g,g=Math.sqrt(3)*(-p+d)/2,n[3]=g,n[5]=-g;return}if(n[5]=n[3]=0,s===0){f=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),n[0]=-g+2*f,n[4]=n[2]=-(f+g);return}o=-o,h=o*o*o,h=Math.acos(u/Math.sqrt(h)),f=2*Math.sqrt(o),n[0]=-g+f*Math.cos(h/3),n[2]=-g+f*Math.cos((h+2*Math.PI)/3),n[4]=-g+f*Math.cos((h+4*Math.PI)/3)},"solveCubic"),y6e=l(function(e,t,r,i,n,a,s,o){var u=1*r*r-4*r*n+2*r*s+4*n*n-4*n*s+s*s+i*i-4*i*a+2*i*o+4*a*a-4*a*o+o*o,h=9*r*n-3*r*r-3*r*s-6*n*n+3*n*s+9*i*a-3*i*i-3*i*o-6*a*a+3*a*o,d=3*r*r-6*r*n+r*s-r*e+2*n*n+2*n*e-s*e+3*i*i-6*i*a+i*o-i*t+2*a*a+2*a*t-o*t,p=1*r*n-r*r+r*e-n*e+i*a-i*i+i*t-a*t,g=[];m6e(u,h,d,p,g);for(var f=1e-7,m=[],x=0;x<6;x+=2)Math.abs(g[x+1])<f&&g[x]>=0&&g[x]<=1&&m.push(g[x]);m.push(1),m.push(0);for(var T=-1,k,E,S,L=0;L<m.length;L++)k=Math.pow(1-m[L],2)*r+2*(1-m[L])*m[L]*n+m[L]*m[L]*s,E=Math.pow(1-m[L],2)*i+2*(1-m[L])*m[L]*a+m[L]*m[L]*o,S=Math.pow(k-e,2)+Math.pow(E-t,2),T>=0?S<T&&(T=S):T=S;return T},"sqdistToQuadraticBezier"),v6e=l(function(e,t,r,i,n,a){var s=[e-r,t-i],o=[n-r,a-i],u=o[0]*o[0]+o[1]*o[1],h=s[0]*s[0]+s[1]*s[1],d=s[0]*o[0]+s[1]*o[1],p=d*d/u;return d<0?h:p>u?(e-n)*(e-n)+(t-a)*(t-a):h-p},"sqdistToFiniteLine"),Ia=l(function(e,t,r){for(var i,n,a,s,o,u=0,h=0;h<r.length/2;h++)if(i=r[h*2],n=r[h*2+1],h+1<r.length/2?(a=r[(h+1)*2],s=r[(h+1)*2+1]):(a=r[(h+1-r.length/2)*2],s=r[(h+1-r.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)o=(e-i)/(a-i)*(s-n)+n,o>t&&u++;else continue;return u%2!==0},"pointInsidePolygonPoints"),bl=l(function(e,t,r,i,n,a,s,o,u){var h=new Array(r.length),d;o[0]!=null?(d=Math.atan(o[1]/o[0]),o[0]<0?d=d+Math.PI/2:d=-d-Math.PI/2):d=o;for(var p=Math.cos(-d),g=Math.sin(-d),f=0;f<h.length/2;f++)h[f*2]=a/2*(r[f*2]*p-r[f*2+1]*g),h[f*2+1]=s/2*(r[f*2+1]*p+r[f*2]*g),h[f*2]+=i,h[f*2+1]+=n;var m;if(u>0){var x=fv(h,-u);m=gv(x)}else m=h;return Ia(e,t,m)},"pointInsidePolygon"),b6e=l(function(e,t,r,i,n,a,s,o){for(var u=new Array(r.length*2),h=0;h<o.length;h++){var d=o[h];u[h*4+0]=d.startX,u[h*4+1]=d.startY,u[h*4+2]=d.stopX,u[h*4+3]=d.stopY;var p=Math.pow(d.cx-e,2)+Math.pow(d.cy-t,2);if(p<=Math.pow(d.radius,2))return!0}return Ia(e,t,u)},"pointInsideRoundPolygon"),gv=l(function(e){for(var t=new Array(e.length/2),r,i,n,a,s,o,u,h,d=0;d<e.length/4;d++){r=e[d*4],i=e[d*4+1],n=e[d*4+2],a=e[d*4+3],d<e.length/4-1?(s=e[(d+1)*4],o=e[(d+1)*4+1],u=e[(d+1)*4+2],h=e[(d+1)*4+3]):(s=e[0],o=e[1],u=e[2],h=e[3]);var p=Lc(r,i,n,a,s,o,u,h,!0);t[d*2]=p[0],t[d*2+1]=p[1]}return t},"joinLines"),fv=l(function(e,t){for(var r=new Array(e.length*2),i,n,a,s,o=0;o<e.length/2;o++){i=e[o*2],n=e[o*2+1],o<e.length/2-1?(a=e[(o+1)*2],s=e[(o+1)*2+1]):(a=e[0],s=e[1]);var u=s-n,h=-(a-i),d=Math.sqrt(u*u+h*h),p=u/d,g=h/d;r[o*4]=i+p*t,r[o*4+1]=n+g*t,r[o*4+2]=a+p*t,r[o*4+3]=s+g*t}return r},"expandPolygon"),x6e=l(function(e,t,r,i,n,a){var s=r-e,o=i-t;s/=n,o/=a;var u=Math.sqrt(s*s+o*o),h=u-1;if(h<0)return[];var d=h/u;return[(r-e)*d+e,(i-t)*d+t]},"intersectLineEllipse"),sh=l(function(e,t,r,i,n,a,s){return e-=n,t-=a,e/=r/2+s,t/=i/2+s,e*e+t*t<=1},"checkInEllipse"),b1=l(function(e,t,r,i,n,a,s){var o=[r-e,i-t],u=[e-n,t-a],h=o[0]*o[0]+o[1]*o[1],d=2*(u[0]*o[0]+u[1]*o[1]),p=u[0]*u[0]+u[1]*u[1]-s*s,g=d*d-4*h*p;if(g<0)return[];var f=(-d+Math.sqrt(g))/(2*h),m=(-d-Math.sqrt(g))/(2*h),x=Math.min(f,m),T=Math.max(f,m),k=[];if(x>=0&&x<=1&&k.push(x),T>=0&&T<=1&&k.push(T),k.length===0)return[];var E=k[0]*o[0]+e,S=k[0]*o[1]+t;if(k.length>1){if(k[0]==k[1])return[E,S];var L=k[1]*o[0]+e,b=k[1]*o[1]+t;return[E,S,L,b]}else return[E,S]},"intersectLineCircle"),rk=l(function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},"midOfThree"),Lc=l(function(e,t,r,i,n,a,s,o,u){var h=e-n,d=r-e,p=s-n,g=t-a,f=i-t,m=o-a,x=p*g-m*h,T=d*g-f*h,k=m*d-p*f;if(k!==0){var E=x/k,S=T/k,L=.001,b=0-L,y=1+L;return b<=E&&E<=y&&b<=S&&S<=y?[e+E*d,t+E*f]:u?[e+E*d,t+E*f]:[]}else return x===0||T===0?rk(e,r,s)===s?[s,o]:rk(e,r,n)===n?[n,a]:rk(n,s,r)===r?[r,i]:[]:[]},"finiteLinesIntersect"),w6e=l(function(e,t,r,i,n){var a=[],s=i/2,o=n/2,u=t,h=r;a.push({x:u+s*e[0],y:h+o*e[1]});for(var d=1;d<e.length/2;d++)a.push({x:u+s*e[d*2],y:h+o*e[d*2+1]});return a},"transformPoints"),x1=l(function(e,t,r,i,n,a,s,o){var u=[],h,d=new Array(r.length),p=!0;a==null&&(p=!1);var g;if(p){for(var f=0;f<d.length/2;f++)d[f*2]=r[f*2]*a+i,d[f*2+1]=r[f*2+1]*s+n;if(o>0){var m=fv(d,-o);g=gv(m)}else g=d}else g=r;for(var x,T,k,E,S=0;S<g.length/2;S++)x=g[S*2],T=g[S*2+1],S<g.length/2-1?(k=g[(S+1)*2],E=g[(S+1)*2+1]):(k=g[0],E=g[1]),h=Lc(e,t,i,n,x,T,k,E),h.length!==0&&u.push(h[0],h[1]);return u},"polygonIntersectLine"),k6e=l(function(e,t,r,i,n,a,s,o,u){var h=[],d,p=new Array(r.length*2);u.forEach(function(k,E){E===0?(p[p.length-2]=k.startX,p[p.length-1]=k.startY):(p[E*4-2]=k.startX,p[E*4-1]=k.startY),p[E*4]=k.stopX,p[E*4+1]=k.stopY,d=b1(e,t,i,n,k.cx,k.cy,k.radius),d.length!==0&&h.push(d[0],d[1])});for(var g=0;g<p.length/4;g++)d=Lc(e,t,i,n,p[g*4],p[g*4+1],p[g*4+2],p[g*4+3],!1),d.length!==0&&h.push(d[0],d[1]);if(h.length>2){for(var f=[h[0],h[1]],m=Math.pow(f[0]-e,2)+Math.pow(f[1]-t,2),x=1;x<h.length/2;x++){var T=Math.pow(h[x*2]-e,2)+Math.pow(h[x*2+1]-t,2);T<=m&&(f[0]=h[x*2],f[1]=h[x*2+1],m=T)}return f}return h},"roundPolygonIntersectLine"),mv=l(function(e,t,r){var i=[e[0]-t[0],e[1]-t[1]],n=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(n-r)/n;return a<0&&(a=1e-5),[t[0]+a*i[0],t[1]+a*i[1]]},"shortenIntersection"),la=l(function(e,t){var r=ik(e,t);return r=IR(r),r},"generateUnitNgonPointsFitToSquare"),IR=l(function(e){for(var t,r,i=e.length/2,n=1/0,a=1/0,s=-1/0,o=-1/0,u=0;u<i;u++)t=e[2*u],r=e[2*u+1],n=Math.min(n,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);for(var h=2/(s-n),d=2/(o-a),p=0;p<i;p++)t=e[2*p]=e[2*p]*h,r=e[2*p+1]=e[2*p+1]*d,n=Math.min(n,t),s=Math.max(s,t),a=Math.min(a,r),o=Math.max(o,r);if(a<-1)for(var g=0;g<i;g++)r=e[2*g+1]=e[2*g+1]+(-1-a);return e},"fitPolygonToSquare"),ik=l(function(e,t){var r=1/e*2*Math.PI,i=e%2===0?Math.PI/2+r/2:Math.PI/2;i+=t;for(var n=new Array(e*2),a,s=0;s<e;s++)a=s*r+i,n[2*s]=Math.cos(a),n[2*s+1]=Math.sin(-a);return n},"generateUnitNgonPoints"),Nc=l(function(e,t){return Math.min(e/4,t/4,8)},"getRoundRectangleRadius"),DR=l(function(e,t){return Math.min(e/10,t/10,8)},"getRoundPolygonRadius"),nk=l(function(){return 8},"getCutRectangleCornerLength"),T6e=l(function(e,t,r){return[e-2*t+r,2*(t-e),e]},"bezierPtsToQuadCoeff"),ak=l(function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},"getBarrelCurveConstants"),l(Iw,"satPolygonIntersection"),E6e=Cn({dampingFactor:.8,precision:1e-6,iterations:200,weight:l(function(e){return 1},"weight")}),C6e={pageRank:l(function(e){for(var t=E6e(e),r=t.dampingFactor,i=t.precision,n=t.iterations,a=t.weight,s=this._private.cy,o=this.byGroup(),u=o.nodes,h=o.edges,d=u.length,p=d*d,g=h.length,f=new Array(p),m=new Array(d),x=(1-r)/d,T=0;T<d;T++){for(var k=0;k<d;k++){var E=T*d+k;f[E]=0}m[T]=0}for(var S=0;S<g;S++){var L=h[S],b=L.data("source"),y=L.data("target");if(b!==y){var v=u.indexOfId(b),w=u.indexOfId(y),C=a(L),A=w*d+v;f[A]+=C,m[v]+=C}}for(var M=1/d+x,N=0;N<d;N++)if(m[N]===0)for(var O=0;O<d;O++){var _=O*d+N;f[_]=M}else for(var I=0;I<d;I++){var R=I*d+N;f[R]=f[R]/m[N]+x}for(var P=new Array(d),D=new Array(d),$,F=0;F<d;F++)P[F]=1;for(var z=0;z<n;z++){for(var U=0;U<d;U++)D[U]=0;for(var j=0;j<d;j++)for(var H=0;H<d;H++){var Q=j*d+H;D[j]+=f[Q]*P[H]}o6e(D),$=P,P=D,D=$;for(var re=0,le=0;le<d;le++){var oe=$[le]-P[le];re+=oe*oe}if(re<i)break}var W={rank:l(function(J){return J=s.collection(J)[0],P[u.indexOf(J)]},"rank")};return W},"pageRank")},RR=Cn({root:null,weight:l(function(e){return 1},"weight"),directed:!1,alpha:0}),Gd={degreeCentralityNormalized:l(function(e){e=RR(e);var t=this.cy(),r=this.nodes(),i=r.length;if(e.directed){for(var n={},a={},s=0,o=0,u=0;u<i;u++){var h=r[u],d=h.id();e.root=h;var p=this.degreeCentrality(e);s<p.indegree&&(s=p.indegree),o<p.outdegree&&(o=p.outdegree),n[d]=p.indegree,a[d]=p.outdegree}return{indegree:l(function(k){return s==0?0:(Ht(k)&&(k=t.filter(k)),n[k.id()]/s)},"indegree"),outdegree:l(function(k){return o===0?0:(Ht(k)&&(k=t.filter(k)),a[k.id()]/o)},"outdegree")}}else{for(var g={},f=0,m=0;m<i;m++){var x=r[m];e.root=x;var T=this.degreeCentrality(e);f<T.degree&&(f=T.degree),g[x.id()]=T.degree}return{degree:l(function(k){return f===0?0:(Ht(k)&&(k=t.filter(k)),g[k.id()]/f)},"degree")}}},"degreeCentralityNormalized"),degreeCentrality:l(function(e){e=RR(e);var t=this.cy(),r=this,i=e,n=i.root,a=i.weight,s=i.directed,o=i.alpha;if(n=t.collection(n)[0],s){for(var u=n.connectedEdges(),h=u.filter(function(b){return b.target().same(n)&&r.has(b)}),d=u.filter(function(b){return b.source().same(n)&&r.has(b)}),p=h.length,g=d.length,f=0,m=0,x=0;x<h.length;x++)f+=a(h[x]);for(var T=0;T<d.length;T++)m+=a(d[T]);return{indegree:Math.pow(p,1-o)*Math.pow(f,o),outdegree:Math.pow(g,1-o)*Math.pow(m,o)}}else{for(var k=n.connectedEdges().intersection(r),E=k.length,S=0,L=0;L<k.length;L++)S+=a(k[L]);return{degree:Math.pow(E,1-o)*Math.pow(S,o)}}},"degreeCentrality")},Gd.dc=Gd.degreeCentrality,Gd.dcn=Gd.degreeCentralityNormalised=Gd.degreeCentralityNormalized,OR=Cn({harmonic:!0,weight:l(function(){return 1},"weight"),directed:!1,root:null}),Ud={closenessCentralityNormalized:l(function(e){for(var t=OR(e),r=t.harmonic,i=t.weight,n=t.directed,a=this.cy(),s={},o=0,u=this.nodes(),h=this.floydWarshall({weight:i,directed:n}),d=0;d<u.length;d++){for(var p=0,g=u[d],f=0;f<u.length;f++)if(d!==f){var m=h.distance(g,u[f]);r?p+=1/m:p+=m}r||(p=1/p),o<p&&(o=p),s[g.id()]=p}return{closeness:l(function(x){return o==0?0:(Ht(x)?x=a.filter(x)[0].id():x=x.id(),s[x]/o)},"closeness")}},"closenessCentralityNormalized"),closenessCentrality:l(function(e){var t=OR(e),r=t.root,i=t.weight,n=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var s=this.dijkstra({root:r,weight:i,directed:n}),o=0,u=this.nodes(),h=0;h<u.length;h++){var d=u[h];if(!d.same(r)){var p=s.distanceTo(d);a?o+=1/p:o+=p}}return a?o:1/o},"closenessCentrality")},Ud.cc=Ud.closenessCentrality,Ud.ccn=Ud.closenessCentralityNormalised=Ud.closenessCentralityNormalized,S6e=Cn({weight:null,directed:!1}),sk={betweennessCentrality:l(function(e){for(var t=S6e(e),r=t.directed,i=t.weight,n=i!=null,a=this.cy(),s=this.nodes(),o={},u={},h=0,d={set:l(function(k,E){u[k]=E,E>h&&(h=E)},"set"),get:l(function(k){return u[k]},"get")},p=0;p<s.length;p++){var g=s[p],f=g.id();r?o[f]=g.outgoers().nodes():o[f]=g.openNeighborhood().nodes(),d.set(f,0)}for(var m=l(function(){for(var k=s[x].id(),E=[],S={},L={},b={},y=new y1(function(U,j){return b[U]-b[j]}),v=0;v<s.length;v++){var w=s[v].id();S[w]=[],L[w]=0,b[w]=1/0}for(L[k]=1,b[k]=0,y.push(k);!y.empty();){var C=y.pop();if(E.push(C),n)for(var A=0;A<o[C].length;A++){var M=o[C][A],N=a.getElementById(C),O=void 0;N.edgesTo(M).length>0?O=N.edgesTo(M)[0]:O=M.edgesTo(N)[0];var _=i(O);M=M.id(),b[M]>b[C]+_&&(b[M]=b[C]+_,y.nodes.indexOf(M)<0?y.push(M):y.updateItem(M),L[M]=0,S[M]=[]),b[M]==b[C]+_&&(L[M]=L[M]+L[C],S[M].push(C))}else for(var I=0;I<o[C].length;I++){var R=o[C][I].id();b[R]==1/0&&(y.push(R),b[R]=b[C]+1),b[R]==b[C]+1&&(L[R]=L[R]+L[C],S[R].push(C))}}for(var P={},D=0;D<s.length;D++)P[s[D].id()]=0;for(;E.length>0;){for(var $=E.pop(),F=0;F<S[$].length;F++){var z=S[$][F];P[z]=P[z]+L[z]/L[$]*(1+P[$])}$!=s[x].id()&&d.set($,d.get($)+P[$])}},"_loop"),x=0;x<s.length;x++)m();var T={betweenness:l(function(k){var E=a.collection(k).id();return d.get(E)},"betweenness"),betweennessNormalized:l(function(k){if(h==0)return 0;var E=a.collection(k).id();return d.get(E)/h},"betweennessNormalized")};return T.betweennessNormalised=T.betweennessNormalized,T},"betweennessCentrality")},sk.bc=sk.betweennessCentrality,_6e=Cn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),A6e=l(function(e){return _6e(e)},"setOptions"),L6e=l(function(e,t){for(var r=0,i=0;i<t.length;i++)r+=t[i](e);return r},"getSimilarity"),N6e=l(function(e,t,r){for(var i=0;i<t;i++)e[i*t+i]=r},"addLoops"),PR=l(function(e,t){for(var r,i=0;i<t;i++){r=0;for(var n=0;n<t;n++)r+=e[n*t+i];for(var a=0;a<t;a++)e[a*t+i]=e[a*t+i]/r}},"normalize"),M6e=l(function(e,t,r){for(var i=new Array(r*r),n=0;n<r;n++){for(var a=0;a<r;a++)i[n*r+a]=0;for(var s=0;s<r;s++)for(var o=0;o<r;o++)i[n*r+o]+=e[n*r+s]*t[s*r+o]}return i},"mmult"),I6e=l(function(e,t,r){for(var i=e.slice(0),n=1;n<r;n++)e=M6e(e,i,t);return e},"expand"),D6e=l(function(e,t,r){for(var i=new Array(t*t),n=0;n<t*t;n++)i[n]=Math.pow(e[n],r);return PR(i,t),i},"inflate"),R6e=l(function(e,t,r,i){for(var n=0;n<r;n++){var a=Math.round(e[n]*Math.pow(10,i))/Math.pow(10,i),s=Math.round(t[n]*Math.pow(10,i))/Math.pow(10,i);if(a!==s)return!1}return!0},"hasConverged"),O6e=l(function(e,t,r,i){for(var n=[],a=0;a<t;a++){for(var s=[],o=0;o<t;o++)Math.round(e[a*t+o]*1e3)/1e3>0&&s.push(r[o]);s.length!==0&&n.push(i.collection(s))}return n},"assign"),P6e=l(function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},"isDuplicate"),B6e=l(function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&P6e(e[t],e[r])&&e.splice(r,1);return e},"removeDuplicates"),BR=l(function(e){for(var t=this.nodes(),r=this.edges(),i=this.cy(),n=A6e(e),a={},s=0;s<t.length;s++)a[t[s].id()]=s;for(var o=t.length,u=o*o,h=new Array(u),d,p=0;p<u;p++)h[p]=0;for(var g=0;g<r.length;g++){var f=r[g],m=a[f.source().id()],x=a[f.target().id()],T=L6e(f,n.attributes);h[m*o+x]+=T,h[x*o+m]+=T}N6e(h,o,n.multFactor),PR(h,o);for(var k=!0,E=0;k&&E<n.maxIterations;)k=!1,d=I6e(h,o,n.expandFactor),h=D6e(d,o,n.inflateFactor),R6e(h,d,u,4)||(k=!0),E++;var S=O6e(h,o,t,i);return S=B6e(S),S},"markovClustering"),$6e={markovClustering:BR,mcl:BR},F6e=l(function(e){return e},"identity"),$R=l(function(e,t){return Math.abs(t-e)},"absDiff"),FR=l(function(e,t,r){return e+$R(t,r)},"addAbsDiff"),zR=l(function(e,t,r){return e+Math.pow(r-t,2)},"addSquaredDiff"),z6e=l(function(e){return Math.sqrt(e)},"sqrt"),G6e=l(function(e,t,r){return Math.max(e,$R(t,r))},"maxAbsDiff"),w1=l(function(e,t,r,i,n){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:F6e,s=i,o,u,h=0;h<e;h++)o=t(h),u=r(h),s=n(s,o,u);return a(s)},"getDistance"),qd={euclidean:l(function(e,t,r){return e>=2?w1(e,t,r,0,zR,z6e):w1(e,t,r,0,FR)},"euclidean"),squaredEuclidean:l(function(e,t,r){return w1(e,t,r,0,zR)},"squaredEuclidean"),manhattan:l(function(e,t,r){return w1(e,t,r,0,FR)},"manhattan"),max:l(function(e,t,r){return w1(e,t,r,-1/0,G6e)},"max")},qd["squared-euclidean"]=qd.squaredEuclidean,qd.squaredeuclidean=qd.squaredEuclidean,l(V2,"clusteringDistance"),U6e=Cn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),ok=l(function(e){return U6e(e)},"setOptions"),yv=l(function(e,t,r,i,n){var a=n!=="kMedoids",s=a?function(d){return r[d]}:function(d){return i[d](r)},o=l(function(d){return i[d](t)},"getQ"),u=r,h=t;return V2(e,i.length,s,o,u,h)},"getDist"),lk=l(function(e,t,r){for(var i=r.length,n=new Array(i),a=new Array(i),s=new Array(t),o=null,u=0;u<i;u++)n[u]=e.min(r[u]).value,a[u]=e.max(r[u]).value;for(var h=0;h<t;h++){o=[];for(var d=0;d<i;d++)o[d]=Math.random()*(a[d]-n[d])+n[d];s[h]=o}return s},"randomCentroids"),GR=l(function(e,t,r,i,n){for(var a=1/0,s=0,o=0;o<t.length;o++){var u=yv(r,e,t[o],i,n);u<a&&(a=u,s=o)}return s},"classify"),UR=l(function(e,t,r){for(var i=[],n=null,a=0;a<t.length;a++)n=t[a],r[n.id()]===e&&i.push(n);return i},"buildCluster"),q6e=l(function(e,t,r){return Math.abs(t-e)<=r},"haveValuesConverged"),j6e=l(function(e,t,r){for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++){var a=Math.abs(e[i][n]-t[i][n]);if(a>r)return!1}return!0},"haveMatricesConverged"),H6e=l(function(e,t,r){for(var i=0;i<r;i++)if(e===t[i])return!0;return!1},"seenBefore"),qR=l(function(e,t){var r=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var n=e[Math.floor(Math.random()*e.length)];H6e(n,r,i);)n=e[Math.floor(Math.random()*e.length)];r[i]=n}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},"randomMedoids"),jR=l(function(e,t,r){for(var i=0,n=0;n<t.length;n++)i+=yv("manhattan",t[n],e,r,"kMedoids");return i},"findCost"),V6e=l(function(e){var t=this.cy(),r=this.nodes(),i=null,n=ok(e),a=new Array(n.k),s={},o;n.testMode?typeof n.testCentroids=="number"?(n.testCentroids,o=lk(r,n.k,n.attributes)):rn(n.testCentroids)==="object"?o=n.testCentroids:o=lk(r,n.k,n.attributes):o=lk(r,n.k,n.attributes);for(var u=!0,h=0;u&&h<n.maxIterations;){for(var d=0;d<r.length;d++)i=r[d],s[i.id()]=GR(i,o,n.distance,n.attributes,"kMeans");u=!1;for(var p=0;p<n.k;p++){var g=UR(p,r,s);if(g.length!==0){for(var f=n.attributes.length,m=o[p],x=new Array(f),T=new Array(f),k=0;k<f;k++){T[k]=0;for(var E=0;E<g.length;E++)i=g[E],T[k]+=n.attributes[k](i);x[k]=T[k]/g.length,q6e(x[k],m[k],n.sensitivityThreshold)||(u=!0)}o[p]=x,a[p]=t.collection(g)}}h++}return a},"kMeans"),Y6e=l(function(e){var t=this.cy(),r=this.nodes(),i=null,n=ok(e),a=new Array(n.k),s,o={},u,h=new Array(n.k);n.testMode?typeof n.testCentroids=="number"||(rn(n.testCentroids)==="object"?s=n.testCentroids:s=qR(r,n.k)):s=qR(r,n.k);for(var d=!0,p=0;d&&p<n.maxIterations;){for(var g=0;g<r.length;g++)i=r[g],o[i.id()]=GR(i,s,n.distance,n.attributes,"kMedoids");d=!1;for(var f=0;f<s.length;f++){var m=UR(f,r,o);if(m.length!==0){h[f]=jR(s[f],m,n.attributes);for(var x=0;x<m.length;x++)u=jR(m[x],m,n.attributes),u<h[f]&&(h[f]=u,s[f]=m[x],d=!0);a[f]=t.collection(m)}}p++}return a},"kMedoids"),W6e=l(function(e,t,r,i,n){for(var a,s,o=0;o<t.length;o++)for(var u=0;u<e.length;u++)i[o][u]=Math.pow(r[o][u],n.m);for(var h=0;h<e.length;h++)for(var d=0;d<n.attributes.length;d++){a=0,s=0;for(var p=0;p<t.length;p++)a+=i[p][h]*n.attributes[d](t[p]),s+=i[p][h];e[h][d]=a/s}},"updateCentroids"),X6e=l(function(e,t,r,i,n){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var s,o,u,h=2/(n.m-1),d=0;d<r.length;d++)for(var p=0;p<i.length;p++){s=0;for(var g=0;g<r.length;g++)o=yv(n.distance,i[p],r[d],n.attributes,"cmeans"),u=yv(n.distance,i[p],r[g],n.attributes,"cmeans"),s+=Math.pow(o/u,h);e[p][d]=1/s}},"updateMembership"),K6e=l(function(e,t,r,i){for(var n=new Array(r.k),a=0;a<n.length;a++)n[a]=[];for(var s,o,u=0;u<t.length;u++){s=-1/0,o=-1;for(var h=0;h<t[0].length;h++)t[u][h]>s&&(s=t[u][h],o=h);n[o].push(e[u])}for(var d=0;d<n.length;d++)n[d]=i.collection(n[d]);return n},"assign"),HR=l(function(e){var t=this.cy(),r=this.nodes(),i=ok(e),n,a,s,o,u;o=new Array(r.length);for(var h=0;h<r.length;h++)o[h]=new Array(i.k);s=new Array(r.length);for(var d=0;d<r.length;d++)s[d]=new Array(i.k);for(var p=0;p<r.length;p++){for(var g=0,f=0;f<i.k;f++)s[p][f]=Math.random(),g+=s[p][f];for(var m=0;m<i.k;m++)s[p][m]=s[p][m]/g}a=new Array(i.k);for(var x=0;x<i.k;x++)a[x]=new Array(i.attributes.length);u=new Array(r.length);for(var T=0;T<r.length;T++)u[T]=new Array(i.k);for(var k=!0,E=0;k&&E<i.maxIterations;)k=!1,W6e(a,r,s,u,i),X6e(s,o,a,r,i),j6e(s,o,i.sensitivityThreshold)||(k=!0),E++;return n=K6e(r,s,i,t),{clusters:n,degreeOfMembership:s}},"fuzzyCMeans"),Z6e={kMeans:V6e,kMedoids:Y6e,fuzzyCMeans:HR,fcm:HR},Q6e=Cn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),J6e={single:"min",complete:"max"},ewe=l(function(e){var t=Q6e(e),r=J6e[t.linkage];return r!=null&&(t.linkage=r),t},"setOptions"),VR=l(function(e,t,r,i,n){for(var a=0,s=1/0,o,u=n.attributes,h=l(function(v,w){return V2(n.distance,u.length,function(C){return u[C](v)},function(C){return u[C](w)},v,w)},"getDist"),d=0;d<e.length;d++){var p=e[d].key,g=r[p][i[p]];g<s&&(a=p,s=g)}if(n.mode==="threshold"&&s>=n.threshold||n.mode==="dendrogram"&&e.length===1)return!1;var f=t[a],m=t[i[a]],x;n.mode==="dendrogram"?x={left:f,right:m,key:f.key}:x={value:f.value.concat(m.value),key:f.key},e[f.index]=x,e.splice(m.index,1),t[f.key]=x;for(var T=0;T<e.length;T++){var k=e[T];f.key===k.key?o=1/0:n.linkage==="min"?(o=r[f.key][k.key],r[f.key][k.key]>r[m.key][k.key]&&(o=r[m.key][k.key])):n.linkage==="max"?(o=r[f.key][k.key],r[f.key][k.key]<r[m.key][k.key]&&(o=r[m.key][k.key])):n.linkage==="mean"?o=(r[f.key][k.key]*f.size+r[m.key][k.key]*m.size)/(f.size+m.size):n.mode==="dendrogram"?o=h(k.value,f.value):o=h(k.value[0],f.value[0]),r[f.key][k.key]=r[k.key][f.key]=o}for(var E=0;E<e.length;E++){var S=e[E].key;if(i[S]===f.key||i[S]===m.key){for(var L=S,b=0;b<e.length;b++){var y=e[b].key;r[S][y]<r[S][L]&&(L=y)}i[S]=L}e[E].index=E}return f.key=m.key=f.index=m.index=null,!0},"mergeClosest"),jd=l(function(e,t,r){e&&(e.value?t.push(e.value):(e.left&&jd(e.left,t),e.right&&jd(e.right,t)))},"getAllChildren"),ck=l(function(e,t){if(!e)return"";if(e.left&&e.right){var r=ck(e.left,t),i=ck(e.right,t),n=t.add({group:"nodes",data:{id:r+","+i}});return t.add({group:"edges",data:{source:r,target:n.id()}}),t.add({group:"edges",data:{source:i,target:n.id()}}),n.id()}else if(e.value)return e.value.id()},"buildDendrogram"),uk=l(function(e,t,r){if(!e)return[];var i=[],n=[],a=[];return t===0?(e.left&&jd(e.left,i),e.right&&jd(e.right,n),a=i.concat(n),[r.collection(a)]):t===1?e.value?[r.collection(e.value)]:(e.left&&jd(e.left,i),e.right&&jd(e.right,n),[r.collection(i),r.collection(n)]):e.value?[r.collection(e.value)]:(e.left&&(i=uk(e.left,t-1,r)),e.right&&(n=uk(e.right,t-1,r)),i.concat(n))},"buildClustersFromTree"),YR=l(function(e){for(var t=this.cy(),r=this.nodes(),i=ewe(e),n=i.attributes,a=l(function(k,E){return V2(i.distance,n.length,function(S){return n[S](k)},function(S){return n[S](E)},k,E)},"getDist"),s=[],o=[],u=[],h=[],d=0;d<r.length;d++){var p={value:i.mode==="dendrogram"?r[d]:[r[d]],key:d,index:d};s[d]=p,h[d]=p,o[d]=[],u[d]=0}for(var g=0;g<s.length;g++)for(var f=0;f<=g;f++){var m=void 0;i.mode==="dendrogram"?m=g===f?1/0:a(s[g].value,s[f].value):m=g===f?1/0:a(s[g].value[0],s[f].value[0]),o[g][f]=m,o[f][g]=m,m<o[g][u[g]]&&(u[g]=f)}for(var x=VR(s,h,o,u,i);x;)x=VR(s,h,o,u,i);var T;return i.mode==="dendrogram"?(T=uk(s[0],i.dendrogramDepth,t),i.addDendrogram&&ck(s[0],t)):(T=new Array(s.length),s.forEach(function(k,E){k.key=k.index=null,T[E]=t.collection(k.value)})),T},"hierarchicalClustering"),twe={hierarchicalClustering:YR,hca:YR},rwe=Cn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),iwe=l(function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||di("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(n){return n===r})||bt(r)||di("Preference must be one of [".concat(i.map(function(n){return"'".concat(n,"'")}).join(", "),"] or a number.  Got: ").concat(r)),rwe(e)},"setOptions"),nwe=l(function(e,t,r,i){var n=l(function(a,s){return i[s](a)},"attr");return-V2(e,i.length,function(a){return n(t,a)},function(a){return n(r,a)},t,r)},"getSimilarity"),awe=l(function(e,t){var r=null;return t==="median"?r=a6e(e):t==="mean"?r=n6e(e):t==="min"?r=r6e(e):t==="max"?r=i6e(e):r=t,r},"getPreference"),swe=l(function(e,t,r){for(var i=[],n=0;n<e;n++)t[n*e+n]+r[n*e+n]>0&&i.push(n);return i},"findExemplars"),WR=l(function(e,t,r){for(var i=[],n=0;n<e;n++){for(var a=-1,s=-1/0,o=0;o<r.length;o++){var u=r[o];t[n*e+u]>s&&(a=u,s=t[n*e+u])}a>0&&i.push(a)}for(var h=0;h<r.length;h++)i[r[h]]=r[h];return i},"assignClusters"),owe=l(function(e,t,r){for(var i=WR(e,t,r),n=0;n<r.length;n++){for(var a=[],s=0;s<i.length;s++)i[s]===r[n]&&a.push(s);for(var o=-1,u=-1/0,h=0;h<a.length;h++){for(var d=0,p=0;p<a.length;p++)d+=t[a[p]*e+a[h]];d>u&&(o=h,u=d)}r[n]=a[o]}return i=WR(e,t,r),i},"assign"),XR=l(function(e){for(var t=this.cy(),r=this.nodes(),i=iwe(e),n={},a=0;a<r.length;a++)n[r[a].id()]=a;var s,o,u,h,d,p;s=r.length,o=s*s,u=new Array(o);for(var g=0;g<o;g++)u[g]=-1/0;for(var f=0;f<s;f++)for(var m=0;m<s;m++)f!==m&&(u[f*s+m]=nwe(i.distance,r[f],r[m],i.attributes));h=awe(u,i.preference);for(var x=0;x<s;x++)u[x*s+x]=h;d=new Array(o);for(var T=0;T<o;T++)d[T]=0;p=new Array(o);for(var k=0;k<o;k++)p[k]=0;for(var E=new Array(s),S=new Array(s),L=new Array(s),b=0;b<s;b++)E[b]=0,S[b]=0,L[b]=0;for(var y=new Array(s*i.minIterations),v=0;v<y.length;v++)y[v]=0;var w;for(w=0;w<i.maxIterations;w++){for(var C=0;C<s;C++){for(var A=-1/0,M=-1/0,N=-1,O=0,_=0;_<s;_++)E[_]=d[C*s+_],O=p[C*s+_]+u[C*s+_],O>=A?(M=A,A=O,N=_):O>M&&(M=O);for(var I=0;I<s;I++)d[C*s+I]=(1-i.damping)*(u[C*s+I]-A)+i.damping*E[I];d[C*s+N]=(1-i.damping)*(u[C*s+N]-M)+i.damping*E[N]}for(var R=0;R<s;R++){for(var P=0,D=0;D<s;D++)E[D]=p[D*s+R],S[D]=Math.max(0,d[D*s+R]),P+=S[D];P-=S[R],S[R]=d[R*s+R],P+=S[R];for(var $=0;$<s;$++)p[$*s+R]=(1-i.damping)*Math.min(0,P-S[$])+i.damping*E[$];p[R*s+R]=(1-i.damping)*(P-S[R])+i.damping*E[R]}for(var F=0,z=0;z<s;z++){var U=p[z*s+z]+d[z*s+z]>0?1:0;y[w%i.minIterations*s+z]=U,F+=U}if(F>0&&(w>=i.minIterations-1||w==i.maxIterations-1)){for(var j=0,H=0;H<s;H++){L[H]=0;for(var Q=0;Q<i.minIterations;Q++)L[H]+=y[Q*s+H];(L[H]===0||L[H]===i.minIterations)&&j++}if(j===s)break}}for(var re=swe(s,d,p),le=owe(s,u,re),oe={},W=0;W<re.length;W++)oe[re[W]]=[];for(var J=0;J<r.length;J++){var Y=n[r[J].id()],X=le[Y];X!=null&&oe[X].push(r[J])}for(var te=new Array(re.length),ce=0;ce<re.length;ce++)te[ce]=t.collection(oe[re[ce]]);return te},"affinityPropagation"),lwe={affinityPropagation:XR,ap:XR},cwe=Cn({root:void 0,directed:!1}),uwe={hierholzer:l(function(e){if(!Nr(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r=cwe(e),i=r.root,n=r.directed,a=this,s=!1,o,u,h;i&&(h=Ht(i)?this.filter(i)[0].id():i[0].id());var d={},p={};n?a.forEach(function(k){var E=k.id();if(k.isNode()){var S=k.indegree(!0),L=k.outdegree(!0),b=S-L,y=L-S;b==1?o?s=!0:o=E:y==1?u?s=!0:u=E:(y>1||b>1)&&(s=!0),d[E]=[],k.outgoers().forEach(function(v){v.isEdge()&&d[E].push(v.id())})}else p[E]=[void 0,k.target().id()]}):a.forEach(function(k){var E=k.id();if(k.isNode()){var S=k.degree(!0);S%2&&(o?u?s=!0:u=E:o=E),d[E]=[],k.connectedEdges().forEach(function(L){return d[E].push(L.id())})}else p[E]=[k.source().id(),k.target().id()]});var g={found:!1,trail:void 0};if(s)return g;if(u&&o)if(n){if(h&&u!=h)return g;h=u}else{if(h&&u!=h&&o!=h)return g;h||(h=u)}else h||(h=a[0].id());var f=l(function(k){for(var E=k,S=[k],L,b,y;d[E].length;)L=d[E].shift(),b=p[L][0],y=p[L][1],E!=y?(d[y]=d[y].filter(function(v){return v!=L}),E=y):!n&&E!=b&&(d[b]=d[b].filter(function(v){return v!=L}),E=b),S.unshift(L),S.unshift(E);return S},"walk"),m=[],x=[];for(x=f(h);x.length!=1;)d[x[0]].length==0?(m.unshift(a.getElementById(x.shift())),m.unshift(a.getElementById(x.shift()))):x=f(x.shift()).concat(x);m.unshift(a.getElementById(x.shift()));for(var T in d)if(d[T].length)return g;return g.found=!0,g.trail=this.spawn(m,!0),g},"hierholzer")},vv=l(function(){var e=this,t={},r=0,i=0,n=[],a=[],s={},o=l(function(d,p){for(var g=a.length-1,f=[],m=e.spawn();a[g].x!=d||a[g].y!=p;)f.push(a.pop().edge),g--;f.push(a.pop().edge),f.forEach(function(x){var T=x.connectedNodes().intersection(e);m.merge(x),T.forEach(function(k){var E=k.id(),S=k.connectedEdges().intersection(e);m.merge(k),t[E].cutVertex?m.merge(S.filter(function(L){return L.isLoop()})):m.merge(S)})}),n.push(m)},"buildComponent"),u=l(function(d,p,g){d===g&&(i+=1),t[p]={id:r,low:r++,cutVertex:!1};var f=e.getElementById(p).connectedEdges().intersection(e);if(f.size()===0)n.push(e.spawn(e.getElementById(p)));else{var m,x,T,k;f.forEach(function(E){m=E.source().id(),x=E.target().id(),T=m===p?x:m,T!==g&&(k=E.id(),s[k]||(s[k]=!0,a.push({x:p,y:T,edge:E})),T in t?t[p].low=Math.min(t[p].low,t[T].id):(u(d,T,p),t[p].low=Math.min(t[p].low,t[T].low),t[p].id<=t[T].low&&(t[p].cutVertex=!0,o(p,T))))})}},"biconnectedSearch");e.forEach(function(d){if(d.isNode()){var p=d.id();p in t||(i=0,u(p,p),t[p].cutVertex=i>1)}});var h=Object.keys(t).filter(function(d){return t[d].cutVertex}).map(function(d){return e.getElementById(d)});return{cut:e.spawn(h),components:n}},"hopcroftTarjanBiconnected"),hwe={hopcroftTarjanBiconnected:vv,htbc:vv,htb:vv,hopcroftTarjanBiconnectedComponents:vv},bv=l(function(){var e=this,t={},r=0,i=[],n=[],a=e.spawn(e),s=l(function(o){n.push(o),t[o]={index:r,low:r++,explored:!1};var u=e.getElementById(o).connectedEdges().intersection(e);if(u.forEach(function(f){var m=f.target().id();m!==o&&(m in t||s(m),t[m].explored||(t[o].low=Math.min(t[o].low,t[m].low)))}),t[o].index===t[o].low){for(var h=e.spawn();;){var d=n.pop();if(h.merge(e.getElementById(d)),t[d].low=t[o].index,t[d].explored=!0,d===o)break}var p=h.edgesWith(h),g=h.merge(p);i.push(g),a=a.difference(g)}},"stronglyConnectedSearch");return e.forEach(function(o){if(o.isNode()){var u=o.id();u in t||s(u)}}),{cut:a,components:i}},"tarjanStronglyConnected"),dwe={tarjanStronglyConnected:bv,tsc:bv,tscc:bv,tarjanStronglyConnectedComponents:bv},KR={},[m1,j5e,H5e,Y5e,X5e,Z5e,e6e,C6e,Gd,Ud,sk,$6e,Z6e,twe,lwe,uwe,hwe,dwe].forEach(function(e){er(KR,e)}),ZR=0,QR=1,JR=2,js=l(function(e){if(!(this instanceof js))return new js(e);this.id="Thenable/1.0.7",this.state=ZR,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))},"api"),js.prototype={fulfill:l(function(e){return eO(this,QR,"fulfillValue",e)},"fulfill"),reject:l(function(e){return eO(this,JR,"rejectReason",e)},"reject"),then:l(function(e,t){var r=this,i=new js;return r.onFulfilled.push(iO(e,i,"fulfill")),r.onRejected.push(iO(t,i,"reject")),tO(r),i.proxy},"then")},eO=l(function(e,t,r,i){return e.state===ZR&&(e.state=t,e[r]=i,tO(e)),e},"deliver"),tO=l(function(e){e.state===QR?rO(e,"onFulfilled",e.fulfillValue):e.state===JR&&rO(e,"onRejected",e.rejectReason)},"execute"),rO=l(function(e,t,r){if(e[t].length!==0){var i=e[t];e[t]=[];var n=l(function(){for(var a=0;a<i.length;a++)i[a](r)},"func");typeof setImmediate=="function"?setImmediate(n):setTimeout(n,0)}},"execute_handlers"),iO=l(function(e,t,r){return function(i){if(typeof e!="function")t[r].call(t,i);else{var n;try{n=e(i)}catch(a){t.reject(a);return}nO(t,n)}}},"resolver"),nO=l(function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(rn(t)==="object"&&t!==null||typeof t=="function")try{r=t.then}catch(n){e.reject(n);return}if(typeof r=="function"){var i=!1;try{r.call(t,function(n){i||(i=!0,n===t?e.reject(new TypeError("circular thenable chain")):nO(e,n))},function(n){i||(i=!0,e.reject(n))})}catch(n){i||e.reject(n)}return}e.fulfill(t)},"resolve"),js.all=function(e){return new js(function(t,r){for(var i=new Array(e.length),n=0,a=l(function(o,u){i[o]=u,n++,n===e.length&&t(i)},"fulfill"),s=0;s<e.length;s++)(function(o){var u=e[o],h=u!=null&&u.then!=null;if(h)u.then(function(p){a(o,p)},function(p){r(p)});else{var d=u;a(o,d)}})(s)})},js.resolve=function(e){return new js(function(t,r){t(e)})},js.reject=function(e){return new js(function(t,r){r(e)})},Hd=typeof Promise<"u"?Promise:js,hk=l(function(e,t,r){var i=Hw(e),n=!i,a=this._private=er({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&vi(a.complete)&&a.completes.push(a.complete),n){var s=e.position();a.startPosition=a.startPosition||{x:s.x,y:s.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var o=e.pan();a.startPan={x:o.x,y:o.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},"Animation"),oh=hk.prototype,er(oh,{instanceString:l(function(){return"animation"},"instanceString"),hook:l(function(){var e=this._private;if(!e.hooked){var t,r=e.target._private.animation;e.queue?t=r.queue:t=r.current,t.push(this),Ka(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},"hook"),play:l(function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},"play"),playing:l(function(){return this._private.playing},"playing"),apply:l(function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},"apply"),applying:l(function(){return this._private.applying},"applying"),pause:l(function(){var e=this._private;return e.playing=!1,e.started=!1,this},"pause"),stop:l(function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},"stop"),rewind:l(function(){return this.progress(0)},"rewind"),fastforward:l(function(){return this.progress(1)},"fastforward"),time:l(function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},"time"),progress:l(function(e){var t=this._private,r=t.playing;return e===void 0?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},"progress"),completed:l(function(){return this._private.progress===1},"completed"),reverse:l(function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=l(function(o,u){var h=e[o];h!=null&&(e[o]=e[u],e[u]=h)},"swap");if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var n=e.style[i],a=n.name,s=e.startStyle[a];e.startStyle[a]=n,e.style[i]=s}return t&&this.play(),this},"reverse"),promise:l(function(e){var t=this._private,r;switch(e){case"frame":r=t.frames;break;default:case"complete":case"completed":r=t.completes}return new Hd(function(i,n){r.push(function(){i()})})},"promise")}),oh.complete=oh.completed,oh.run=oh.play,oh.running=oh.playing,pwe={animated:l(function(){return l(function(){var e=this,t=e.length!==void 0,r=t?e:[e],i=this._private.cy||this;if(!i.styleEnabled())return!1;var n=r[0];if(n)return n._private.animation.current.length>0},"animatedImpl")},"animated"),clearQueue:l(function(){return l(function(){var e=this,t=e.length!==void 0,r=t?e:[e],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var n=0;n<r.length;n++){var a=r[n];a._private.animation.queue=[]}return this},"clearQueueImpl")},"clearQueue"),delay:l(function(){return l(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this},"delayImpl")},"delay"),delayAnimation:l(function(){return l(function(e,t){var r=this._private.cy||this;return r.styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this},"delayAnimationImpl")},"delayAnimation"),animation:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this,s=!i,o=!s;if(!a.styleEnabled())return this;var u=a.style();e=er({},e,t);var h=Object.keys(e).length===0;if(h)return new hk(n[0],e);switch(e.duration===void 0&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200;break}if(o&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),o&&e.renderedPosition!=null){var d=e.renderedPosition,p=a.pan(),g=a.zoom();e.position=SR(d,g,p)}if(s&&e.panBy!=null){var f=e.panBy,m=a.pan();e.pan={x:m.x+f.x,y:m.y+f.y}}var x=e.center||e.centre;if(s&&x!=null){var T=a.getCenterPan(x.eles,e.zoom);T!=null&&(e.pan=T)}if(s&&e.fit!=null){var k=e.fit,E=a.getFitViewport(k.eles||k.boundingBox,k.padding);E!=null&&(e.pan=E.pan,e.zoom=E.zoom)}if(s&&Nr(e.zoom)){var S=a.getZoomedViewport(e.zoom);S!=null?(S.zoomed&&(e.zoom=S.zoom),S.panned&&(e.pan=S.pan)):e.zoom=null}return new hk(n[0],e)},"animationImpl")},"animation"),animate:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;t&&(e=er({},e,t));for(var s=0;s<n.length;s++){var o=n[s],u=o.animated()&&(e.queue===void 0||e.queue),h=o.animation(e,u?{queue:!0}:void 0);h.play()}return this},"animateImpl")},"animate"),stop:l(function(){return l(function(e,t){var r=this,i=r.length!==void 0,n=i?r:[r],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<n.length;s++){for(var o=n[s],u=o._private,h=u.animation.current,d=0;d<h.length;d++){var p=h[d],g=p._private;t&&(g.duration=0)}e&&(u.animation.queue=[]),t||(u.animation.current=[])}return a.notify("draw"),this},"stopImpl")},"stop")},l(Y2,"requireIsArray"),l(v4e,"require_isKey"),l(b4e,"requireIsFunction"),l(x4e,"require_coreJsData"),l(w4e,"require_isMasked"),l(k4e,"require_toSource"),l(T4e,"require_baseIsNative"),l(E4e,"require_getValue"),l(Dw,"require_getNative"),l(W2,"require_nativeCreate"),l(C4e,"require_hashClear"),l(S4e,"require_hashDelete"),l(_4e,"require_hashGet"),l(A4e,"require_hashHas"),l(L4e,"require_hashSet"),l(N4e,"require_Hash"),l(M4e,"require_listCacheClear"),l(nD,"requireEq"),l(X2,"require_assocIndexOf"),l(I4e,"require_listCacheDelete"),l(D4e,"require_listCacheGet"),l(R4e,"require_listCacheHas"),l(O4e,"require_listCacheSet"),l(P4e,"require_ListCache"),l(B4e,"require_Map"),l($4e,"require_mapCacheClear"),l(F4e,"require_isKeyable"),l(K2,"require_getMapData"),l(z4e,"require_mapCacheDelete"),l(G4e,"require_mapCacheGet"),l(U4e,"require_mapCacheHas"),l(q4e,"require_mapCacheSet"),l(j4e,"require_MapCache"),l(H4e,"requireMemoize"),l(V4e,"require_memoizeCapped"),l(aD,"require_stringToPath"),l(sD,"require_arrayMap"),l(Y4e,"require_baseToString"),l(oD,"requireToString"),l(lD,"require_castPath"),l(Rw,"require_toKey"),l(W4e,"require_baseGet"),l(X4e,"requireGet"),ike=X4e(),nke=s1(ike),l(K4e,"require_defineProperty"),l(Z4e,"require_baseAssignValue"),l(Q4e,"require_assignValue"),l(J4e,"require_isIndex"),l(e3e,"require_baseSet"),l(t3e,"requireSet"),hke=t3e(),dke=s1(hke),l(r3e,"require_copyArray"),l(i3e,"requireToPath"),fke=i3e(),mke=s1(fke),yke={data:l(function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:l(function(r){},"beforeGet"),beforeSet:l(function(r,i){},"beforeSet"),onSet:l(function(r){},"onSet"),canSet:l(function(r){return!0},"canSet")};return e=er({},t,e),l(function(r,i){var n=e,a=this,s=a.length!==void 0,o=s?a:[a],u=s?a[0]:a;if(Ht(r)){var h=r.indexOf(".")!==-1,d=h&&mke(r);if(n.allowGetting&&i===void 0){var p;return u&&(n.beforeGet(u),d&&u._private[n.field][r]===void 0?p=nke(u._private[n.field],d):p=u._private[n.field][r]),p}else if(n.allowSetting&&i!==void 0){var g=!n.immutableKeys[r];if(g){var f=tD({},r,i);n.beforeSet(a,f);for(var m=0,x=o.length;m<x;m++){var T=o[m];n.canSet(T)&&(d&&u._private[n.field][r]===void 0?dke(T._private[n.field],d,i):T._private[n.field][r]=i)}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}}}else if(n.allowSetting&&Nr(r)){var k=r,E,S,L=Object.keys(k);n.beforeSet(a,k);for(var b=0;b<L.length;b++){E=L[b],S=k[E];var y=!n.immutableKeys[E];if(y)for(var v=0;v<o.length;v++){var w=o[v];n.canSet(w)&&(w._private[n.field][E]=S)}}n.updateStyle&&a.updateStyle(),n.onSet(a),n.settingTriggersEvent&&a[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&vi(r)){var C=r;a.on(n.bindingEvent,C)}else if(n.allowGetting&&r===void 0){var A;return u&&(n.beforeGet(u),A=u._private[n.field]),A}return a},"dataImpl")},"data"),removeData:l(function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=er({},t,e),l(function(r){var i=e,n=this,a=n.length!==void 0,s=a?n:[n];if(Ht(r)){for(var o=r.split(/\s+/),u=o.length,h=0;h<u;h++){var d=o[h];if(!Ec(d)){var p=!i.immutableKeys[d];if(p)for(var g=0,f=s.length;g<f;g++)s[g]._private[i.field][d]=void 0}}i.triggerEvent&&n[i.triggerFnName](i.event)}else if(r===void 0){for(var m=0,x=s.length;m<x;m++)for(var T=s[m]._private[i.field],k=Object.keys(T),E=0;E<k.length;E++){var S=k[E],L=!i.immutableKeys[S];L&&(T[S]=void 0)}i.triggerEvent&&n[i.triggerFnName](i.event)}return n},"removeDataImpl")},"removeData")},vke={eventAliasesOn:l(function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(r,i){var n=this,a=Array.prototype.slice.call(arguments,0);return new Hd(function(s,o){var u=l(function(p){n.off.apply(n,d),s(p)},"callback"),h=a.concat([u]),d=h.concat([]);n.on.apply(n,h)})}},"eventAliasesOn")},qr={},[pwe,yke,vke].forEach(function(e){er(qr,e)}),bke={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop()},xv={classes:l(function(e){var t=this;if(e===void 0){var r=[];return t[0]._private.classes.forEach(function(f){return r.push(f)}),r}else Qr(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],n=new $d(e),a=0;a<t.length;a++){for(var s=t[a],o=s._private,u=o.classes,h=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p);if(!g){h=!0;break}}h||(h=u.size!==e.length),h&&(o.classes=n,i.push(s))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},"classes"),addClass:l(function(e){return this.toggleClass(e,!0)},"addClass"),hasClass:l(function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},"hasClass"),toggleClass:l(function(e,t){Qr(e)||(e=e.match(/\S+/g)||[]);for(var r=this,i=t===void 0,n=[],a=0,s=r.length;a<s;a++)for(var o=r[a],u=o._private.classes,h=!1,d=0;d<e.length;d++){var p=e[d],g=u.has(p),f=!1;t||i&&!g?(u.add(p),f=!0):(!t||i&&g)&&(u.delete(p),f=!0),!h&&f&&(n.push(o),h=!0)}return n.length>0&&this.spawn(n).updateStyle().emit("class"),r},"toggleClass"),removeClass:l(function(e){return this.toggleClass(e,!1)},"removeClass"),flashClass:l(function(e,t){var r=this;if(t==null)t=250;else if(t===0)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r},"flashClass")},xv.className=xv.classNames=xv.classes,Mr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:an,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"},Mr.variable="(?:[\\w-.]|(?:\\\\"+Mr.metaChar+"))+",Mr.className="(?:[\\w-]|(?:\\\\"+Mr.metaChar+"))+",Mr.value=Mr.string+"|"+Mr.number,Mr.id=Mr.variable,(function(){var e,t,r;for(e=Mr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Mr.comparatorOp+="|@"+t;for(e=Mr.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Mr.comparatorOp+="|\\!"+t)})(),Xr=l(function(){return{checks:[]}},"newQuery"),It={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},dk=[{selector:":selected",matches:l(function(e){return e.selected()},"matches")},{selector:":unselected",matches:l(function(e){return!e.selected()},"matches")},{selector:":selectable",matches:l(function(e){return e.selectable()},"matches")},{selector:":unselectable",matches:l(function(e){return!e.selectable()},"matches")},{selector:":locked",matches:l(function(e){return e.locked()},"matches")},{selector:":unlocked",matches:l(function(e){return!e.locked()},"matches")},{selector:":visible",matches:l(function(e){return e.visible()},"matches")},{selector:":hidden",matches:l(function(e){return!e.visible()},"matches")},{selector:":transparent",matches:l(function(e){return e.transparent()},"matches")},{selector:":grabbed",matches:l(function(e){return e.grabbed()},"matches")},{selector:":free",matches:l(function(e){return!e.grabbed()},"matches")},{selector:":removed",matches:l(function(e){return e.removed()},"matches")},{selector:":inside",matches:l(function(e){return!e.removed()},"matches")},{selector:":grabbable",matches:l(function(e){return e.grabbable()},"matches")},{selector:":ungrabbable",matches:l(function(e){return!e.grabbable()},"matches")},{selector:":animated",matches:l(function(e){return e.animated()},"matches")},{selector:":unanimated",matches:l(function(e){return!e.animated()},"matches")},{selector:":parent",matches:l(function(e){return e.isParent()},"matches")},{selector:":childless",matches:l(function(e){return e.isChildless()},"matches")},{selector:":child",matches:l(function(e){return e.isChild()},"matches")},{selector:":orphan",matches:l(function(e){return e.isOrphan()},"matches")},{selector:":nonorphan",matches:l(function(e){return e.isChild()},"matches")},{selector:":compound",matches:l(function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()},"matches")},{selector:":loop",matches:l(function(e){return e.isLoop()},"matches")},{selector:":simple",matches:l(function(e){return e.isSimple()},"matches")},{selector:":active",matches:l(function(e){return e.active()},"matches")},{selector:":inactive",matches:l(function(e){return!e.active()},"matches")},{selector:":backgrounding",matches:l(function(e){return e.backgrounding()},"matches")},{selector:":nonbackgrounding",matches:l(function(e){return!e.backgrounding()},"matches")}].sort(function(e,t){return n5e(e.selector,t.selector)}),xke=(function(){for(var e={},t,r=0;r<dk.length;r++)t=dk[r],e[t.selector]=t.matches;return e})(),wke=l(function(e,t){return xke[e](t)},"stateSelectorMatches"),kke="("+dk.map(function(e){return e.selector}).join("|")+")",Vd=l(function(e){return e.replace(new RegExp("\\\\("+Mr.metaChar+")","g"),function(t,r){return r})},"cleanMetaChars"),Mc=l(function(e,t,r){e[e.length-1]=r},"replaceLastQuery"),pk=[{name:"group",query:!0,regex:"("+Mr.group+")",populate:l(function(e,t,r){var i=Ui(r,1),n=i[0];t.checks.push({type:It.GROUP,value:n==="*"?n:n+"s"})},"populate")},{name:"state",query:!0,regex:kke,populate:l(function(e,t,r){var i=Ui(r,1),n=i[0];t.checks.push({type:It.STATE,value:n})},"populate")},{name:"id",query:!0,regex:"\\#("+Mr.id+")",populate:l(function(e,t,r){var i=Ui(r,1),n=i[0];t.checks.push({type:It.ID,value:Vd(n)})},"populate")},{name:"className",query:!0,regex:"\\.("+Mr.className+")",populate:l(function(e,t,r){var i=Ui(r,1),n=i[0];t.checks.push({type:It.CLASS,value:Vd(n)})},"populate")},{name:"dataExists",query:!0,regex:"\\[\\s*("+Mr.variable+")\\s*\\]",populate:l(function(e,t,r){var i=Ui(r,1),n=i[0];t.checks.push({type:It.DATA_EXIST,field:Vd(n)})},"populate")},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Mr.variable+")\\s*("+Mr.comparatorOp+")\\s*("+Mr.value+")\\s*\\]",populate:l(function(e,t,r){var i=Ui(r,3),n=i[0],a=i[1],s=i[2],o=new RegExp("^"+Mr.string+"$").exec(s)!=null;o?s=s.substring(1,s.length-1):s=parseFloat(s),t.checks.push({type:It.DATA_COMPARE,field:Vd(n),operator:a,value:s})},"populate")},{name:"dataBool",query:!0,regex:"\\[\\s*("+Mr.boolOp+")\\s*("+Mr.variable+")\\s*\\]",populate:l(function(e,t,r){var i=Ui(r,2),n=i[0],a=i[1];t.checks.push({type:It.DATA_BOOL,field:Vd(a),operator:n})},"populate")},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Mr.meta+")\\s*("+Mr.comparatorOp+")\\s*("+Mr.number+")\\s*\\]\\]",populate:l(function(e,t,r){var i=Ui(r,3),n=i[0],a=i[1],s=i[2];t.checks.push({type:It.META_COMPARE,field:Vd(n),operator:a,value:parseFloat(s)})},"populate")},{name:"nextQuery",separator:!0,regex:Mr.separator,populate:l(function(e,t){var r=e.currentSubject,i=e.edgeCount,n=e.compoundCount,a=e[e.length-1];r!=null&&(a.subject=r,e.currentSubject=null),a.edgeCount=i,a.compoundCount=n,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=Xr();return s},"populate")},{name:"directedEdge",separator:!0,regex:Mr.directedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Xr(),i=t,n=Xr();return r.checks.push({type:It.DIRECTED_EDGE,source:i,target:n}),Mc(e,t,r),e.edgeCount++,n}else{var a=Xr(),s=t,o=Xr();return a.checks.push({type:It.NODE_SOURCE,source:s,target:o}),Mc(e,t,a),e.edgeCount++,o}},"populate")},{name:"undirectedEdge",separator:!0,regex:Mr.undirectedEdge,populate:l(function(e,t){if(e.currentSubject==null){var r=Xr(),i=t,n=Xr();return r.checks.push({type:It.UNDIRECTED_EDGE,nodes:[i,n]}),Mc(e,t,r),e.edgeCount++,n}else{var a=Xr(),s=t,o=Xr();return a.checks.push({type:It.NODE_NEIGHBOR,node:s,neighbor:o}),Mc(e,t,a),o}},"populate")},{name:"child",separator:!0,regex:Mr.child,populate:l(function(e,t){if(e.currentSubject==null){var r=Xr(),i=Xr(),n=e[e.length-1];return r.checks.push({type:It.CHILD,parent:n,child:i}),Mc(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var a=Xr(),s=e[e.length-1],o=Xr(),u=Xr(),h=Xr(),d=Xr();return a.checks.push({type:It.COMPOUND_SPLIT,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:It.TRUE}],d.checks.push({type:It.TRUE}),o.checks.push({type:It.PARENT,parent:d,child:h}),Mc(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Xr(),g=Xr(),f=[{type:It.PARENT,parent:p,child:g}];return p.checks=t.checks,t.checks=f,e.compoundCount++,g}},"populate")},{name:"descendant",separator:!0,regex:Mr.descendant,populate:l(function(e,t){if(e.currentSubject==null){var r=Xr(),i=Xr(),n=e[e.length-1];return r.checks.push({type:It.DESCENDANT,ancestor:n,descendant:i}),Mc(e,t,r),e.compoundCount++,i}else if(e.currentSubject===t){var a=Xr(),s=e[e.length-1],o=Xr(),u=Xr(),h=Xr(),d=Xr();return a.checks.push({type:It.COMPOUND_SPLIT,left:s,right:o,subject:u}),u.checks=t.checks,t.checks=[{type:It.TRUE}],d.checks.push({type:It.TRUE}),o.checks.push({type:It.ANCESTOR,ancestor:d,descendant:h}),Mc(e,s,a),e.currentSubject=u,e.compoundCount++,h}else{var p=Xr(),g=Xr(),f=[{type:It.ANCESTOR,ancestor:p,descendant:g}];return p.checks=t.checks,t.checks=f,e.compoundCount++,g}},"populate")},{name:"subject",modifier:!0,regex:Mr.subject,populate:l(function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return Ur("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1],i=r.checks[0],n=i==null?null:i.type;n===It.DIRECTED_EDGE?i.type=It.NODE_TARGET:n===It.UNDIRECTED_EDGE&&(i.type=It.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)},"populate")}],pk.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),Tke=l(function(e){for(var t,r,i,n=0;n<pk.length;n++){var a=pk[n],s=a.name,o=e.match(a.regexObj);if(o!=null){r=o,t=a,i=s;var u=o[0];e=e.substring(u.length);break}}return{expr:t,match:r,name:i,remaining:e}},"consumeExpr"),Eke=l(function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e},"consumeWhitespace"),Cke=l(function(e){var t=this,r=t.inputText=e,i=t[0]=Xr();for(t.length=1,r=Eke(r);;){var n=Tke(r);if(n.expr==null)return Ur("The selector `"+e+"`is invalid"),!1;var a=n.match.slice(1),s=n.expr.populate(t,i,a);if(s===!1)return!1;if(s!=null&&(i=s),r=n.remaining,r.match(/^\s*$/))break}var o=t[t.length-1];t.currentSubject!=null&&(o.subject=t.currentSubject),o.edgeCount=t.edgeCount,o.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var h=t[u];if(h.compoundCount>0&&h.edgeCount>0)return Ur("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(h.edgeCount>1)return Ur("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;h.edgeCount===1&&Ur("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},"parse"),Ske=l(function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=l(function(u){return u!=null?u:""},"clean"),t=l(function(u){return Ht(u)?'"'+u+'"':e(u)},"cleanVal"),r=l(function(u){return" "+u+" "},"space"),i=l(function(u,h){var d=u.type,p=u.value;switch(d){case It.GROUP:{var g=e(p);return g.substring(0,g.length-1)}case It.DATA_COMPARE:{var f=u.field,m=u.operator;return"["+f+r(e(m))+t(p)+"]"}case It.DATA_BOOL:{var x=u.operator,T=u.field;return"["+e(x)+T+"]"}case It.DATA_EXIST:{var k=u.field;return"["+k+"]"}case It.META_COMPARE:{var E=u.operator,S=u.field;return"[["+S+r(e(E))+t(p)+"]]"}case It.STATE:return p;case It.ID:return"#"+p;case It.CLASS:return"."+p;case It.PARENT:case It.CHILD:return n(u.parent,h)+r(">")+n(u.child,h);case It.ANCESTOR:case It.DESCENDANT:return n(u.ancestor,h)+" "+n(u.descendant,h);case It.COMPOUND_SPLIT:{var L=n(u.left,h),b=n(u.subject,h),y=n(u.right,h);return L+(L.length>0?" ":"")+b+y}case It.TRUE:return""}},"checkToString"),n=l(function(u,h){return u.checks.reduce(function(d,p,g){return d+(h===u&&g===0?"$":"")+i(p,h)},"")},"queryToString"),a="",s=0;s<this.length;s++){var o=this[s];a+=n(o,o.subject),this.length>1&&s<this.length-1&&(a+=", ")}return this.toStringCache=a,a},"toString"),_ke={parse:Cke,toString:Ske},rP=l(function(e,t,r){var i,n=Ht(e),a=bt(e),s=Ht(r),o,u,h=!1,d=!1,p=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),d=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),h=!0),(n||s||h)&&(o=!n&&!a?"":""+e,u=""+r),h&&(e=o=o.toLowerCase(),r=u=u.toLowerCase()),t){case"*=":i=o.indexOf(u)>=0;break;case"$=":i=o.indexOf(u,o.length-u.length)>=0;break;case"^=":i=o.indexOf(u)===0;break;case"=":i=e===r;break;case">":p=!0,i=e>r;break;case">=":p=!0,i=e>=r;break;case"<":p=!0,i=e<r;break;case"<=":p=!0,i=e<=r;break;default:i=!1;break}return d&&(e!=null||!p)&&(i=!i),i},"valCmp"),Ake=l(function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},"boolCmp"),Lke=l(function(e){return e!==void 0},"existCmp"),gk=l(function(e,t){return e.data(t)},"data"),Nke=l(function(e,t){return e[t]()},"meta"),Ei=[],ai=l(function(e,t){return e.checks.every(function(r){return Ei[r.type](r,t)})},"matches"),Ei[It.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()},Ei[It.STATE]=function(e,t){var r=e.value;return wke(r,t)},Ei[It.ID]=function(e,t){var r=e.value;return t.id()===r},Ei[It.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)},Ei[It.META_COMPARE]=function(e,t){var r=e.field,i=e.operator,n=e.value;return rP(Nke(t,r),i,n)},Ei[It.DATA_COMPARE]=function(e,t){var r=e.field,i=e.operator,n=e.value;return rP(gk(t,r),i,n)},Ei[It.DATA_BOOL]=function(e,t){var r=e.field,i=e.operator;return Ake(gk(t,r),i)},Ei[It.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,Lke(gk(t,r))},Ei[It.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],i=e.nodes[1],n=t.source(),a=t.target();return ai(r,n)&&ai(i,a)||ai(i,n)&&ai(r,a)},Ei[It.NODE_NEIGHBOR]=function(e,t){return ai(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&ai(e.neighbor,r)})},Ei[It.DIRECTED_EDGE]=function(e,t){return ai(e.source,t.source())&&ai(e.target,t.target())},Ei[It.NODE_SOURCE]=function(e,t){return ai(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&ai(e.target,r)})},Ei[It.NODE_TARGET]=function(e,t){return ai(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&ai(e.source,r)})},Ei[It.CHILD]=function(e,t){return ai(e.child,t)&&ai(e.parent,t.parent())},Ei[It.PARENT]=function(e,t){return ai(e.parent,t)&&t.children().some(function(r){return ai(e.child,r)})},Ei[It.DESCENDANT]=function(e,t){return ai(e.descendant,t)&&t.ancestors().some(function(r){return ai(e.ancestor,r)})},Ei[It.ANCESTOR]=function(e,t){return ai(e.ancestor,t)&&t.descendants().some(function(r){return ai(e.descendant,r)})},Ei[It.COMPOUND_SPLIT]=function(e,t){return ai(e.subject,t)&&ai(e.left,t)&&ai(e.right,t)},Ei[It.TRUE]=function(){return!0},Ei[It.COLLECTION]=function(e,t){var r=e.value;return r.has(t)},Ei[It.FILTER]=function(e,t){var r=e.value;return r(t)},Mke=l(function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===It.ID)return e.getElementById(t[0].checks[0].value).collection();var r=l(function(i){for(var n=0;n<t.length;n++){var a=t[n];if(ai(a,i))return!0}return!1},"selectorFunction");return t.text()==null&&(r=l(function(){return!0},"selectorFunction")),e.filter(r)},"filter"),Ike=l(function(e){for(var t=this,r=0;r<t.length;r++){var i=t[r];if(ai(i,e))return!0}return!1},"matches"),Dke={matches:Ike,filter:Mke},Ic=l(function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ht(e)&&e.match(/^\s*$/)||(Ka(e)?this.addQuery({checks:[{type:It.COLLECTION,value:e.collection()}]}):vi(e)?this.addQuery({checks:[{type:It.FILTER,value:e}]}):Ht(e)?this.parse(e)||(this.invalid=!0):di("A selector must be created from a string; found "))},"Selector"),Dc=Ic.prototype,[_ke,Dke].forEach(function(e){return er(Dc,e)}),Dc.text=function(){return this.inputText},Dc.size=function(){return this.length},Dc.eq=function(e){return this[e]},Dc.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Dc.addQuery=function(e){this[this.length++]=e},Dc.selector=Dc.toString,Rc={allAre:l(function(e){var t=new Ic(e);return this.every(function(r){return t.matches(r)})},"allAre"),is:l(function(e){var t=new Ic(e);return this.some(function(r){return t.matches(r)})},"is"),some:l(function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(i)return!0}return!1},"some"),every:l(function(e,t){for(var r=0;r<this.length;r++){var i=t?e.apply(t,[this[r],r,this]):e(this[r],r,this);if(!i)return!1}return!0},"every"),same:l(function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,r=e.length;return t!==r?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},"same"),anySame:l(function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},"anySame"),allAreNeighbors:l(function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(r){return t.hasElementWithId(r.id())})},"allAreNeighbors"),contains:l(function(e){e=this.cy().collection(e);var t=this;return e.every(function(r){return t.hasElementWithId(r.id())})},"contains")},Rc.allAreNeighbours=Rc.allAreNeighbors,Rc.has=Rc.contains,Rc.equal=Rc.equals=Rc.same,fs=l(function(e,t){return l(function(r,i,n,a){var s=r,o=this,u;if(s==null?u="":Ka(s)&&s.length===1&&(u=s.id()),o.length===1&&u){var h=o[0]._private,d=h.traversalCache=h.traversalCache||{},p=d[t]=d[t]||[],g=ih(u),f=p[g];return f||(p[g]=e.call(o,r,i,n,a))}else return e.call(o,r,i,n,a)},"traversalCache")},"cache"),Yd={parent:l(function(e){var t=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var n=this[i],a=n._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},"parent"),parents:l(function(e){for(var t=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var n=r[i];t.push(n)}r=r.parent()}return this.spawn(t,!0).filter(e)},"parents"),commonAncestors:l(function(e){for(var t,r=0;r<this.length;r++){var i=this[r],n=i.parents();t=t||n,t=t.intersect(n)}return t.filter(e)},"commonAncestors"),orphans:l(function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},"orphans"),nonorphans:l(function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},"nonorphans"),children:fs(function(e){for(var t=[],r=0;r<this.length;r++)for(var i=this[r],n=i._private.children,a=0;a<n.length;a++)t.push(n[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:l(function(e){return this.parent().children().not(this).filter(e)},"siblings"),isParent:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},"isParent"),isChildless:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},"isChildless"),isChild:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},"isChild"),isOrphan:l(function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},"isOrphan"),descendants:l(function(e){var t=[];function r(i){for(var n=0;n<i.length;n++){var a=i[n];t.push(a),a.children().nonempty()&&r(a.children())}}return l(r,"add"),r(this.children()),this.spawn(t,!0).filter(e)},"descendants")},l(Ow,"forEachCompound"),l(cD,"addChildren"),Yd.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ow(this,e,t,cD)},l(uD,"addParent"),Yd.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ow(this,e,t,uD)},l(n3e,"addParentAndChildren"),Yd.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ow(this,e,t,n3e)},Yd.ancestors=Yd.parents,wv=Rke={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:qr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:qr.removeData({field:"rscratch",triggerEvent:!1}),id:l(function(){var e=this[0];if(e)return e._private.data.id},"id")},wv.attr=wv.data,wv.removeAttr=wv.removeData,Oke=Rke,kv={},l(Pw,"defineDegreeFunction"),er(kv,{degree:Pw(function(e,t){return t.source().same(t.target())?2:1}),indegree:Pw(function(e,t){return t.target().same(e)?1:0}),outdegree:Pw(function(e,t){return t.source().same(e)?1:0})}),l(Id,"defineDegreeBoundsFunction"),er(kv,{minDegree:Id("degree",function(e,t){return e<t}),maxDegree:Id("degree",function(e,t){return e>t}),minIndegree:Id("indegree",function(e,t){return e<t}),maxIndegree:Id("indegree",function(e,t){return e>t}),minOutdegree:Id("outdegree",function(e,t){return e<t}),maxOutdegree:Id("outdegree",function(e,t){return e>t})}),er(kv,{totalDegree:l(function(e){for(var t=0,r=this.nodes(),i=0;i<r.length;i++)t+=r[i].degree(e);return t},"totalDegree")}),iP=l(function(e,t,r){for(var i=0;i<e.length;i++){var n=e[i];if(!n.locked()){var a=n._private.position,s={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};n.isParent()&&!(s.x===0&&s.y===0)&&n.children().shift(s,r),n.dirtyBoundingBoxCache()}}},"beforePositionSet"),nP={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:l(function(e){e.updateCompoundBounds()},"beforeGet"),beforeSet:l(function(e,t){iP(e,t,!1)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet"),canSet:l(function(e){return!e.locked()},"canSet")},_o=Pke={position:qr.data(nP),silentPosition:qr.data(er({},nP,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:l(function(e,t){iP(e,t,!0)},"beforeSet"),onSet:l(function(e){e.dirtyCompoundBoundsCache()},"onSet")})),positions:l(function(e,t){if(Nr(e))t?this.silentPosition(e):this.position(e);else if(vi(e)){var r=e,i=this.cy();i.startBatch();for(var n=0;n<this.length;n++){var a=this[n],s=void 0;(s=r(a,n))&&(t?a.silentPosition(s):a.position(s))}i.endBatch()}return this},"positions"),silentPositions:l(function(e){return this.positions(e,!0)},"silentPositions"),shift:l(function(e,t,r){var i;if(Nr(e)?(i={x:bt(e.x)?e.x:0,y:bt(e.y)?e.y:0},r=t):Ht(e)&&bt(t)&&(i={x:0,y:0},i[e]=t),i!=null){var n=this.cy();n.startBatch();for(var a=0;a<this.length;a++){var s=this[a];if(!(n.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var o=s.position(),u={x:o.x+i.x,y:o.y+i.y};r?s.silentPosition(u):s.position(u)}}n.endBatch()}return this},"shift"),silentShift:l(function(e,t){return Nr(e)?this.shift(e,!0):Ht(e)&&bt(t)&&this.shift(e,t,!0),this},"silentShift"),renderedPosition:l(function(e,t){var r=this[0],i=this.cy(),n=i.zoom(),a=i.pan(),s=Nr(e)?e:void 0,o=s!==void 0||t!==void 0&&Ht(e);if(r&&r.isNode())if(o)for(var u=0;u<this.length;u++){var h=this[u];t!==void 0?h.position(e,(t-a[e])/n):s!==void 0&&h.position(SR(s,n,a))}else{var d=r.position();return s=uv(d,n,a),e===void 0?s:s[e]}else if(!o)return;return this},"renderedPosition"),relativePosition:l(function(e,t){var r=this[0],i=this.cy(),n=Nr(e)?e:void 0,a=n!==void 0||t!==void 0&&Ht(e),s=i.hasCompoundNodes();if(r&&r.isNode())if(a)for(var o=0;o<this.length;o++){var u=this[o],h=s?u.parent():null,d=h&&h.length>0,p=d;d&&(h=h[0]);var g=p?h.position():{x:0,y:0};t!==void 0?u.position(e,t+g[e]):n!==void 0&&u.position({x:n.x+g.x,y:n.y+g.y})}else{var f=r.position(),m=s?r.parent():null,x=m&&m.length>0,T=x;x&&(m=m[0]);var k=T?m.position():{x:0,y:0};return n={x:f.x-k.x,y:f.y-k.y},e===void 0?n:n[e]}else if(!a)return;return this},"relativePosition")},_o.modelPosition=_o.point=_o.position,_o.modelPositions=_o.points=_o.positions,_o.renderedPoint=_o.renderedPosition,_o.relativePoint=_o.relativePosition,Bke=Pke,k1=lh={},lh.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),i=r.zoom(),n=r.pan(),a=t.x1*i+n.x,s=t.x2*i+n.x,o=t.y1*i+n.y,u=t.y2*i+n.y;return{x1:a,x2:s,y1:o,y2:u,w:s-a,h:u-o}},lh.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var i=r._private;i.compoundBoundsClean=!1,i.bbCache=null,e||r.emitAndNotify("bounds")}}),this)},lh.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(s){if(!s.isParent())return;var o=s._private,u=s.children(),h=s.pstyle("compound-sizing-wrt-labels").value==="include",d={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},p=u.boundingBox({includeLabels:h,includeOverlays:!1,useCache:!1}),g=o.position;(p.w===0||p.h===0)&&(p={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},p.x1=g.x-p.w/2,p.x2=g.x+p.w/2,p.y1=g.y-p.h/2,p.y2=g.y+p.h/2);function f(C,A,M){var N=0,O=0,_=A+M;return C>0&&_>0&&(N=A/_*C,O=M/_*C),{biasDiff:N,biasComplementDiff:O}}l(f,"computeBiasValues");function m(C,A,M,N){if(M.units==="%")switch(N){case"width":return C>0?M.pfValue*C:0;case"height":return A>0?M.pfValue*A:0;case"average":return C>0&&A>0?M.pfValue*(C+A)/2:0;case"min":return C>0&&A>0?C>A?M.pfValue*A:M.pfValue*C:0;case"max":return C>0&&A>0?C>A?M.pfValue*C:M.pfValue*A:0;default:return 0}else return M.units==="px"?M.pfValue:0}l(m,"computePaddingValues");var x=d.width.left.value;d.width.left.units==="px"&&d.width.val>0&&(x=x*100/d.width.val);var T=d.width.right.value;d.width.right.units==="px"&&d.width.val>0&&(T=T*100/d.width.val);var k=d.height.top.value;d.height.top.units==="px"&&d.height.val>0&&(k=k*100/d.height.val);var E=d.height.bottom.value;d.height.bottom.units==="px"&&d.height.val>0&&(E=E*100/d.height.val);var S=f(d.width.val-p.w,x,T),L=S.biasDiff,b=S.biasComplementDiff,y=f(d.height.val-p.h,k,E),v=y.biasDiff,w=y.biasComplementDiff;o.autoPadding=m(p.w,p.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),o.autoWidth=Math.max(p.w,d.width.val),g.x=(-L+p.x1+p.x2+b)/2,o.autoHeight=Math.max(p.h,d.height.val),g.y=(-v+p.y1+p.y2+w)/2}l(r,"update");for(var i=0;i<this.length;i++){var n=this[i],a=n._private;(!a.compoundBoundsClean||e)&&(r(n),t.batching()||(a.compoundBoundsClean=!0))}return this},ms=l(function(e){return e===1/0||e===-1/0?0:e},"noninf"),Hs=l(function(e,t,r,i,n){i-t===0||n-r===0||t==null||r==null||i==null||n==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=n>e.y2?n:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},"updateBounds"),Oc=l(function(e,t){return t==null?e:Hs(e,t.x1,t.y1,t.x2,t.y2)},"updateBoundsFromBox"),T1=l(function(e,t,r){return Ma(e,t,r)},"prefixedProperty"),Tv=l(function(e,t,r){if(!t.cy().headless()){var i=t._private,n=i.rstyle,a=n.arrowWidth/2,s=t.pstyle(r+"-arrow-shape").value,o,u;if(s!=="none"){r==="source"?(o=n.srcX,u=n.srcY):r==="target"?(o=n.tgtX,u=n.tgtY):(o=n.midX,u=n.midY);var h=i.arrowBounds=i.arrowBounds||{},d=h[r]=h[r]||{};d.x1=o-a,d.y1=u-a,d.x2=o+a,d.y2=u+a,d.w=d.x2-d.x1,d.h=d.y2-d.y1,dv(d,1),Hs(e,d.x1,d.y1,d.x2,d.y2)}}},"updateBoundsFromArrow"),fk=l(function(e,t,r){if(!t.cy().headless()){var i;r?i=r+"-":i="";var n=t._private,a=n.rstyle,s=t.pstyle(i+"label").strValue;if(s){var o=t.pstyle("text-halign"),u=t.pstyle("text-valign"),h=T1(a,"labelWidth",r),d=T1(a,"labelHeight",r),p=T1(a,"labelX",r),g=T1(a,"labelY",r),f=t.pstyle(i+"text-margin-x").pfValue,m=t.pstyle(i+"text-margin-y").pfValue,x=t.isEdge(),T=t.pstyle(i+"text-rotation"),k=t.pstyle("text-outline-width").pfValue,E=t.pstyle("text-border-width").pfValue,S=E/2,L=t.pstyle("text-background-padding").pfValue,b=2,y=d,v=h,w=v/2,C=y/2,A,M,N,O;if(x)A=p-w,M=p+w,N=g-C,O=g+C;else{switch(o.value){case"left":A=p-v,M=p;break;case"center":A=p-w,M=p+w;break;case"right":A=p,M=p+v;break}switch(u.value){case"top":N=g-y,O=g;break;case"center":N=g-C,O=g+C;break;case"bottom":N=g,O=g+y;break}}var _=f-Math.max(k,S)-L-b,I=f+Math.max(k,S)+L+b,R=m-Math.max(k,S)-L-b,P=m+Math.max(k,S)+L+b;A+=_,M+=I,N+=R,O+=P;var D=r||"main",$=n.labelBounds,F=$[D]=$[D]||{};F.x1=A,F.y1=N,F.x2=M,F.y2=O,F.w=M-A,F.h=O-N,F.leftPad=_,F.rightPad=I,F.topPad=R,F.botPad=P;var z=x&&T.strValue==="autorotate",U=T.pfValue!=null&&T.pfValue!==0;if(z||U){var j=z?T1(n.rstyle,"labelAngle",r):T.pfValue,H=Math.cos(j),Q=Math.sin(j),re=(A+M)/2,le=(N+O)/2;if(!x){switch(o.value){case"left":re=M;break;case"right":re=A;break}switch(u.value){case"top":le=O;break;case"bottom":le=N;break}}var oe=l(function(K,me){return K=K-re,me=me-le,{x:K*H-me*Q+re,y:K*Q+me*H+le}},"rotate"),W=oe(A,N),J=oe(A,O),Y=oe(M,N),X=oe(M,O);A=Math.min(W.x,J.x,Y.x,X.x),M=Math.max(W.x,J.x,Y.x,X.x),N=Math.min(W.y,J.y,Y.y,X.y),O=Math.max(W.y,J.y,Y.y,X.y)}var te=D+"Rot",ce=$[te]=$[te]||{};ce.x1=A,ce.y1=N,ce.x2=M,ce.y2=O,ce.w=M-A,ce.h=O-N,Hs(e,A,N,M,O),Hs(n.labelBounds.all,A,N,M,O)}return e}},"updateBoundsFromLabel"),aP=l(function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value,n=t.pstyle("outline-offset").value,a=i+n;sP(e,t,r,a,"outside",a/2)}},"updateBoundsFromOutline"),sP=l(function(e,t,r,i,n,a){if(!(r===0||i<=0||n==="inside")){var s=t.cy(),o=t.pstyle("shape").value,u=s.renderer().nodeShapes[o],h=t.position(),d=h.x,p=h.y,g=t.width(),f=t.height();if(u.hasMiterBounds){n==="center"&&(i/=2);var m=u.miterBounds(d,p,g,f,i);Oc(e,m)}else a!=null&&a>0&&pv(e,[a,a,a,a])}},"updateBoundsFromMiter"),$ke=l(function(e,t){if(!t.cy().headless()){var r=t.pstyle("border-opacity").value,i=t.pstyle("border-width").pfValue,n=t.pstyle("border-position").value;sP(e,t,r,i,n)}},"updateBoundsFromMiterBorder"),Fke=l(function(e,t){var r=e._private.cy,i=r.styleEnabled(),n=r.headless(),a=oa(),s=e._private,o=e.isNode(),u=e.isEdge(),h,d,p,g,f,m,x=s.rstyle,T=o&&i?e.pstyle("bounds-expansion").pfValue:[0],k=l(function(ce){return ce.pstyle("display").value!=="none"},"isDisplayed"),E=!i||k(e)&&(!u||k(e.source())&&k(e.target()));if(E){var S=0,L=0;i&&t.includeOverlays&&(S=e.pstyle("overlay-opacity").value,S!==0&&(L=e.pstyle("overlay-padding").value));var b=0,y=0;i&&t.includeUnderlays&&(b=e.pstyle("underlay-opacity").value,b!==0&&(y=e.pstyle("underlay-padding").value));var v=Math.max(L,y),w=0,C=0;if(i&&(w=e.pstyle("width").pfValue,C=w/2),o&&t.includeNodes){var A=e.position();f=A.x,m=A.y;var M=e.outerWidth(),N=M/2,O=e.outerHeight(),_=O/2;h=f-N,d=f+N,p=m-_,g=m+_,Hs(a,h,p,d,g),i&&aP(a,e),i&&t.includeOutlines&&!n&&aP(a,e),i&&$ke(a,e)}else if(u&&t.includeEdges)if(i&&!n){var I=e.pstyle("curve-style").strValue;if(h=Math.min(x.srcX,x.midX,x.tgtX),d=Math.max(x.srcX,x.midX,x.tgtX),p=Math.min(x.srcY,x.midY,x.tgtY),g=Math.max(x.srcY,x.midY,x.tgtY),h-=C,d+=C,p-=C,g+=C,Hs(a,h,p,d,g),I==="haystack"){var R=x.haystackPts;if(R&&R.length===2){if(h=R[0].x,p=R[0].y,d=R[1].x,g=R[1].y,h>d){var P=h;h=d,d=P}if(p>g){var D=p;p=g,g=D}Hs(a,h-C,p-C,d+C,g+C)}}else if(I==="bezier"||I==="unbundled-bezier"||Cc(I,"segments")||Cc(I,"taxi")){var $;switch(I){case"bezier":case"unbundled-bezier":$=x.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":$=x.linePts;break}if($!=null)for(var F=0;F<$.length;F++){var z=$[F];h=z.x-C,d=z.x+C,p=z.y-C,g=z.y+C,Hs(a,h,p,d,g)}}}else{var U=e.source(),j=U.position(),H=e.target(),Q=H.position();if(h=j.x,d=Q.x,p=j.y,g=Q.y,h>d){var re=h;h=d,d=re}if(p>g){var le=p;p=g,g=le}h-=C,d+=C,p-=C,g+=C,Hs(a,h,p,d,g)}if(i&&t.includeEdges&&u&&(Tv(a,e,"mid-source"),Tv(a,e,"mid-target"),Tv(a,e,"source"),Tv(a,e,"target")),i){var oe=e.pstyle("ghost").value==="yes";if(oe){var W=e.pstyle("ghost-offset-x").pfValue,J=e.pstyle("ghost-offset-y").pfValue;Hs(a,a.x1+W,a.y1+J,a.x2+W,a.y2+J)}}var Y=s.bodyBounds=s.bodyBounds||{};AR(Y,a),pv(Y,T),dv(Y,1),i&&(h=a.x1,d=a.x2,p=a.y1,g=a.y2,Hs(a,h-v,p-v,d+v,g+v));var X=s.overlayBounds=s.overlayBounds||{};AR(X,a),pv(X,T),dv(X,1);var te=s.labelBounds=s.labelBounds||{};te.all!=null?u6e(te.all):te.all=oa(),i&&t.includeLabels&&(t.includeMainLabels&&fk(a,e,null),u&&(t.includeSourceLabels&&fk(a,e,"source"),t.includeTargetLabels&&fk(a,e,"target")))}return a.x1=ms(a.x1),a.y1=ms(a.y1),a.x2=ms(a.x2),a.y2=ms(a.y2),a.w=ms(a.x2-a.x1),a.h=ms(a.y2-a.y1),a.w>0&&a.h>0&&E&&(pv(a,T),dv(a,1)),a},"boundingBoxImpl"),oP=l(function(e){var t=0,r=l(function(n){return(n?1:0)<<t++},"tf"),i=0;return i+=r(e.incudeNodes),i+=r(e.includeEdges),i+=r(e.includeLabels),i+=r(e.includeMainLabels),i+=r(e.includeSourceLabels),i+=r(e.includeTargetLabels),i+=r(e.includeOverlays),i+=r(e.includeOutlines),i},"getKey"),lP=l(function(e){var t=l(function(a){return Math.round(a)},"r");if(e.isEdge()){var r=e.source().position(),i=e.target().position();return mR([t(r.x),t(r.y),t(i.x),t(i.y)])}else{var n=e.position();return mR([t(n.x),t(n.y)])}},"getBoundingBoxPosKey"),cP=l(function(e,t){var r=e._private,i,n=e.isEdge(),a=t==null?uP:oP(t),s=a===uP;if(r.bbCache==null?(i=Fke(e,E1),r.bbCache=i,r.bbCachePosKey=lP(e)):i=r.bbCache,!s){var o=e.isNode();i=oa(),(t.includeNodes&&o||t.includeEdges&&!o)&&(t.includeOverlays?Oc(i,r.overlayBounds):Oc(i,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!n||t.includeSourceLabels&&t.includeTargetLabels)?Oc(i,r.labelBounds.all):(t.includeMainLabels&&Oc(i,r.labelBounds.mainRot),t.includeSourceLabels&&Oc(i,r.labelBounds.sourceRot),t.includeTargetLabels&&Oc(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},"cachedBoundingBoxImpl"),E1={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},uP=oP(E1),hP=Cn(E1),lh.boundingBox=function(e){var t,r=e===void 0||e.useCache===void 0||e.useCache===!0,i=Pd(function(d){var p=d._private;return p.bbCache==null||p.styleDirty||p.bbCachePosKey!==lP(d)},function(d){return d.id()});if(r&&this.length===1&&!i(this[0]))e===void 0?e=E1:e=hP(e),t=cP(this[0],e);else{t=oa(),e=e||E1;var n=hP(e),a=this,s=a.cy(),o=s.styleEnabled();this.edges().forEach(i),this.nodes().forEach(i),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var u=0;u<a.length;u++){var h=a[u];i(h)&&h.dirtyBoundingBoxCache(),Oc(t,cP(h,n))}}return t.x1=ms(t.x1),t.y1=ms(t.y1),t.x2=ms(t.x2),t.y2=ms(t.y2),t.w=ms(t.x2-t.x1),t.h=ms(t.y2-t.y1),t},lh.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},lh.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),i=r.hasCompoundNodes(),n=r.collection();if(i&&(n=t.filter(function(h){return h.isParent()}),t=t.not(n)),Nr(e)){var a=e;e=l(function(){return a},"fn")}var s=l(function(h,d){return h._private.bbAtOldPos=e(h,d)},"storeOldPos"),o=l(function(h){return h._private.bbAtOldPos},"getOldPos");r.startBatch(),t.forEach(s).silentPositions(e),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0));var u=c6e(this.boundingBox({useCache:!1}));return t.silentPositions(o),i&&(n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),n.updateCompoundBounds(!0)),r.endBatch(),u},k1.boundingbox=k1.bb=k1.boundingBox,k1.renderedBoundingbox=k1.renderedBoundingBox,zke=lh,Ev=Cv={},dP=l(function(e){e.uppercaseName=WD(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=WD(e.outerName),Ev[e.name]=l(function(){var t=this[0],r=t._private,i=r.cy,n=i._private.styleEnabled;if(t)if(n){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var a=t.pstyle(e.name);switch(a.strValue){case"label":return t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0;default:return a.pfValue}}else return 1},"dimImpl"),Ev["outer"+e.uppercaseName]=l(function(){var t=this[0],r=t._private,i=r.cy,n=i._private.styleEnabled;if(t)if(n){var a=t[e.name](),s=t.pstyle("border-position").value,o;s==="center"?o=t.pstyle("border-width").pfValue:s==="outside"?o=2*t.pstyle("border-width").pfValue:o=0;var u=2*t.padding();return a+o+u}else return 1},"outerDimImpl"),Ev["rendered"+e.uppercaseName]=l(function(){var t=this[0];if(t){var r=t[e.name]();return r*this.cy().zoom()}},"renderedDimImpl"),Ev["rendered"+e.uppercaseOuterName]=l(function(){var t=this[0];if(t){var r=t[e.outerName]();return r*this.cy().zoom()}},"renderedOuterDimImpl")},"defineDimFns"),dP({name:"width"}),dP({name:"height"}),Cv.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Cv.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Cv.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()},Gke=Cv,Uke=l(function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},"ifEdge"),qke=l(function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return uv(t(e),r.zoom(),r.pan())}},"ifEdgeRenderedPosition"),jke=l(function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),i=r.pan(),n=r.zoom();return t(e).map(function(a){return uv(a,n,i)})}},"ifEdgeRenderedPositions"),Hke=l(function(e){return e.renderer().getControlPoints(e)},"controlPoints"),Vke=l(function(e){return e.renderer().getSegmentPoints(e)},"segmentPoints"),Yke=l(function(e){return e.renderer().getSourceEndpoint(e)},"sourceEndpoint"),Wke=l(function(e){return e.renderer().getTargetEndpoint(e)},"targetEndpoint"),Xke=l(function(e){return e.renderer().getEdgeMidpoint(e)},"midpoint"),pP={controlPoints:{get:Hke,mult:!0},segmentPoints:{get:Vke,mult:!0},sourceEndpoint:{get:Yke},targetEndpoint:{get:Wke},midpoint:{get:Xke}},Kke=l(function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},"renderedName"),Zke=Object.keys(pP).reduce(function(e,t){var r=pP[t],i=Kke(t);return e[t]=function(){return Uke(this,r.get)},r.mult?e[i]=function(){return jke(this,r.get)}:e[i]=function(){return qke(this,r.get)},e},{}),Qke=er({},Bke,zke,Gke,Zke),gP=l(function(e,t){this.recycle(e,t)},"Event"),l(c1,"returnFalse"),l(Z2,"returnTrue"),gP.prototype={instanceString:l(function(){return"event"},"instanceString"),recycle:l(function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=c1,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Z2:c1):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),n=this.cy.pan();this.renderedPosition={x:r.x*i+n.x,y:r.y*i+n.y}}this.timeStamp=e&&e.timeStamp||Date.now()},"recycle"),preventDefault:l(function(){this.isDefaultPrevented=Z2;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},"preventDefault"),stopPropagation:l(function(){this.isPropagationStopped=Z2;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},"stopPropagation"),stopImmediatePropagation:l(function(){this.isImmediatePropagationStopped=Z2,this.stopPropagation()},"stopImmediatePropagation"),isDefaultPrevented:c1,isPropagationStopped:c1,isImmediatePropagationStopped:c1},fP=/^([^.]+)(\.(?:[^.]+))?$/,Jke=".*",mP={qualifierCompare:l(function(e,t){return e===t},"qualifierCompare"),eventMatches:l(function(){return!0},"eventMatches"),addEventFields:l(function(){},"addEventFields"),callbackContext:l(function(e){return e},"callbackContext"),beforeEmit:l(function(){},"beforeEmit"),afterEmit:l(function(){},"afterEmit"),bubble:l(function(){return!1},"bubble"),parent:l(function(){return null},"parent"),context:null},yP=Object.keys(mP),eTe={},l(Q2,"Emitter"),Pc=Q2.prototype,vP=l(function(e,t,r,i,n,a,s){vi(i)&&(n=i,i=null),s&&(a==null?a=s:a=er({},a,s));for(var o=Qr(r)?r:r.split(/\s+/),u=0;u<o.length;u++){var h=o[u];if(!Ec(h)){var d=h.match(fP);if(d){var p=d[1],g=d[2]?d[2]:null,f=t(e,h,p,g,i,n,a);if(f===!1)break}}}},"forEachEvent"),bP=l(function(e,t){return e.addEventFields(e.context,t),new gP(t.type,t)},"makeEventObj"),tTe=l(function(e,t,r){if(Y3e(r)){t(e,r);return}else if(Nr(r)){t(e,bP(e,r));return}for(var i=Qr(r)?r:r.split(/\s+/),n=0;n<i.length;n++){var a=i[n];if(!Ec(a)){var s=a.match(fP);if(s){var o=s[1],u=s[2]?s[2]:null,h=bP(e,{type:o,namespace:u,target:e.context});t(e,h)}}}},"forEachEventObj"),Pc.on=Pc.addListener=function(e,t,r,i,n){return vP(this,function(a,s,o,u,h,d,p){vi(d)&&a.listeners.push({event:s,callback:d,type:o,namespace:u,qualifier:h,conf:p})},e,t,r,i,n),this},Pc.one=function(e,t,r,i){return this.on(e,t,r,i,{one:!0})},Pc.removeListener=Pc.off=function(e,t,r,i){var n=this;this.emitting!==0&&(this.listeners=I5e(this.listeners));for(var a=this.listeners,s=l(function(u){var h=a[u];vP(n,function(d,p,g,f,m,x){if((h.type===g||e==="*")&&(!f&&h.namespace!==".*"||h.namespace===f)&&(!m||d.qualifierCompare(h.qualifier,m))&&(!x||h.callback===x))return a.splice(u,1),!1},e,t,r,i)},"_loop"),o=a.length-1;o>=0;o--)s(o);return this},Pc.removeAllListeners=function(){return this.removeListener("*")},Pc.emit=Pc.trigger=function(e,t,r){var i=this.listeners,n=i.length;return this.emitting++,Qr(t)||(t=[t]),tTe(this,function(a,s){r!=null&&(i=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],n=i.length);for(var o=l(function(){var h=i[u];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===Jke)&&a.eventMatches(a.context,h,s)){var d=[s];t!=null&&R5e(d,t),a.beforeEmit(a.context,h,s),h.conf&&h.conf.one&&(a.listeners=a.listeners.filter(function(f){return f!==h}));var p=a.callbackContext(a.context,h,s),g=h.callback.apply(p,d);a.afterEmit(a.context,h,s),g===!1&&(s.stopPropagation(),s.preventDefault())}},"_loop2"),u=0;u<n;u++)o();a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this},rTe={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&d1(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(e,t){t.cy=e.cy(),t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext"),beforeEmit:l(function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},"beforeEmit"),bubble:l(function(){return!0},"bubble"),parent:l(function(e){return e.isChild()?e.parent():e.cy()},"parent")},Sv=l(function(e){return Ht(e)?new Ic(e):e},"argSelector"),xP={createEmitter:l(function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new Q2(rTe,t))}return this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){for(var i=Sv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().on(e,i,r)}return this},"on"),removeListener:l(function(e,t,r){for(var i=Sv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().removeListener(e,i,r)}return this},"removeListener"),removeAllListeners:l(function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},"removeAllListeners"),one:l(function(e,t,r){for(var i=Sv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().one(e,i,r)}return this},"one"),once:l(function(e,t,r){for(var i=Sv(t),n=0;n<this.length;n++){var a=this[n];a.emitter().on(e,i,r,{once:!0,onceCollection:this})}},"once"),emit:l(function(e,t){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(e,t)}return this},"emit"),emitAndNotify:l(function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this},"emitAndNotify")},qr.eventAliasesOn(xP),wP={nodes:l(function(e){return this.filter(function(t){return t.isNode()}).filter(e)},"nodes"),edges:l(function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},"edges"),byGroup:l(function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},"byGroup"),filter:l(function(e,t){if(e===void 0)return this;if(Ht(e)||Ka(e))return new Ic(e).filter(this);if(vi(e)){for(var r=this.spawn(),i=this,n=0;n<i.length;n++){var a=i[n],s=t?e.apply(t,[a,n,i]):e(a,n,i);s&&r.push(a)}return r}return this.spawn()},"filter"),not:l(function(e){if(e){Ht(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var i=this[r],n=e.has(i);n||t.push(i)}return t}else return this},"not"),absoluteComplement:l(function(){var e=this.cy();return e.mutableElements().not(this)},"absoluteComplement"),intersect:l(function(e){if(Ht(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),i=this,n=e,a=this.length<e.length,s=a?i:n,o=a?n:i,u=0;u<s.length;u++){var h=s[u];o.has(h)&&r.push(h)}return r},"intersect"),xor:l(function(e){var t=this._private.cy;Ht(e)&&(e=t.$(e));var r=this.spawn(),i=this,n=e,a=l(function(s,o){for(var u=0;u<s.length;u++){var h=s[u],d=h._private.data.id,p=o.hasElementWithId(d);p||r.push(h)}},"add");return a(i,n),a(n,i),r},"xor"),diff:l(function(e){var t=this._private.cy;Ht(e)&&(e=t.$(e));var r=this.spawn(),i=this.spawn(),n=this.spawn(),a=this,s=e,o=l(function(u,h,d){for(var p=0;p<u.length;p++){var g=u[p],f=g._private.data.id,m=h.hasElementWithId(f);m?n.merge(g):d.push(g)}},"add");return o(a,s,r),o(s,a,i),{left:r,right:i,both:n}},"diff"),add:l(function(e){var t=this._private.cy;if(!e)return this;if(Ht(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=this.spawnSelf(),n=0;n<e.length;n++){var a=e[n],s=!this.has(a);s&&i.push(a)}return i},"add"),merge:l(function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&Ht(e)){var i=e;e=r.mutableElements().filter(i)}for(var n=t.map,a=0;a<e.length;a++){var s=e[a],o=s._private.data.id,u=!n.has(o);if(u){var h=this.length++;this[h]=s,n.set(o,{ele:s,index:h})}}return this},"merge"),unmergeAt:l(function(e){var t=this[e],r=t.id(),i=this._private,n=i.map;this[e]=void 0,n.delete(r);var a=e===this.length-1;if(this.length>1&&!a){var s=this.length-1,o=this[s],u=o._private.data.id;this[s]=void 0,this[e]=o,n.set(u,{ele:o,index:e})}return this.length--,this},"unmergeAt"),unmergeOne:l(function(e){e=e[0];var t=this._private,r=e._private.data.id,i=t.map,n=i.get(r);if(!n)return this;var a=n.index;return this.unmergeAt(a),this},"unmergeOne"),unmerge:l(function(e){var t=this._private.cy;if(!e)return this;if(e&&Ht(e)){var r=e;e=t.mutableElements().filter(r)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},"unmerge"),unmergeBy:l(function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];e(r)&&this.unmergeAt(t)}return this},"unmergeBy"),map:l(function(e,t){for(var r=[],i=this,n=0;n<i.length;n++){var a=i[n],s=t?e.apply(t,[a,n,i]):e(a,n,i);r.push(s)}return r},"map"),reduce:l(function(e,t){for(var r=t,i=this,n=0;n<i.length;n++)r=e(r,i[n],n,i);return r},"reduce"),max:l(function(e,t){for(var r=-1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=t?e.apply(t,[s,a,n]):e(s,a,n);o>r&&(r=o,i=s)}return{value:r,ele:i}},"max"),min:l(function(e,t){for(var r=1/0,i,n=this,a=0;a<n.length;a++){var s=n[a],o=t?e.apply(t,[s,a,n]):e(s,a,n);o<r&&(r=o,i=s)}return{value:r,ele:i}},"min")},Rr=wP,Rr.u=Rr["|"]=Rr["+"]=Rr.union=Rr.or=Rr.add,Rr["\\"]=Rr["!"]=Rr["-"]=Rr.difference=Rr.relativeComplement=Rr.subtract=Rr.not,Rr.n=Rr["&"]=Rr["."]=Rr.and=Rr.intersection=Rr.intersect,Rr["^"]=Rr["(+)"]=Rr["(-)"]=Rr.symmetricDifference=Rr.symdiff=Rr.xor,Rr.fnFilter=Rr.filterFn=Rr.stdFilter=Rr.filter,Rr.complement=Rr.abscomp=Rr.absoluteComplement,iTe={isNode:l(function(){return this.group()==="nodes"},"isNode"),isEdge:l(function(){return this.group()==="edges"},"isEdge"),isLoop:l(function(){return this.isEdge()&&this.source()[0]===this.target()[0]},"isLoop"),isSimple:l(function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},"isSimple"),group:l(function(){var e=this[0];if(e)return e._private.group},"group")},kP=l(function(e,t){var r=e.cy(),i=r.hasCompoundNodes();function n(h){var d=h.pstyle("z-compound-depth");return d.value==="auto"?i?h.zDepth():0:d.value==="bottom"?-1:d.value==="top"?Ww:0}l(n,"getDepth");var a=n(e)-n(t);if(a!==0)return a;function s(h){var d=h.pstyle("z-index-compare");return d.value==="auto"&&h.isNode()?1:0}l(s,"getEleDepth");var o=s(e)-s(t);if(o!==0)return o;var u=e.pstyle("z-index").value-t.pstyle("z-index").value;return u!==0?u:e.poolIndex()-t.poolIndex()},"zIndexSort"),_v={forEach:l(function(e,t){if(vi(e))for(var r=this.length,i=0;i<r;i++){var n=this[i],a=t?e.apply(t,[n,i,this]):e(n,i,this);if(a===!1)break}return this},"forEach"),toArray:l(function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},"toArray"),slice:l(function(e,t){var r=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var n=e;n>=0&&n<t&&n<i;n++)r.push(this[n]);return this.spawn(r)},"slice"),size:l(function(){return this.length},"size"),eq:l(function(e){return this[e]||this.spawn()},"eq"),first:l(function(){return this[0]||this.spawn()},"first"),last:l(function(){return this[this.length-1]||this.spawn()},"last"),empty:l(function(){return this.length===0},"empty"),nonempty:l(function(){return!this.empty()},"nonempty"),sort:l(function(e){if(!vi(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},"sort"),sortByZIndex:l(function(){return this.sort(kP)},"sortByZIndex"),zDepth:l(function(){var e=this[0];if(e){var t=e._private,r=t.group;if(r==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:Ww-1}else{var n=t.source,a=t.target,s=n.zDepth(),o=a.zDepth();return Math.max(s,o,0)}}},"zDepth")},_v.each=_v.forEach,nTe=l(function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":rn(Symbol))!=e&&rn(Symbol.iterator)!=e;t&&(_v[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},n=0,a=this.length;return tD({next:l(function(){return n<a?i.value=r[n++]:(i.value=void 0,i.done=!0),i},"next")},Symbol.iterator,function(){return this})})},"defineSymbolIterator"),nTe(),aTe=Cn({nodeDimensionsIncludeLabels:!1}),Av={layoutDimensions:l(function(e){e=aTe(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},"layoutDimensions"),layoutPositions:l(function(e,t,r){var i=this.nodes().filter(function(L){return!L.isParent()}),n=this.cy(),a=t.eles,s=l(function(L){return L.id()},"getMemoizeKey"),o=Pd(r,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=l(function(L,b,y){var v={x:b.x1+b.w/2,y:b.y1+b.h/2},w={x:(y.x-v.x)*L,y:(y.y-v.y)*L};return{x:v.x+w.x,y:v.y+w.y}},"calculateSpacing"),h=t.spacingFactor&&t.spacingFactor!==1,d=l(function(){if(!h)return null;for(var L=oa(),b=0;b<i.length;b++){var y=i[b],v=o(y,b);_R(L,v.x,v.y)}return L},"spacingBb"),p=d(),g=Pd(function(L,b){var y=o(L,b);if(h){var v=Math.abs(t.spacingFactor);y=u(v,p,y)}return t.transform!=null&&(y=t.transform(L,y)),y},s);if(t.animate){for(var f=0;f<i.length;f++){var m=i[f],x=g(m,f),T=t.animateFilter==null||t.animateFilter(m,f);if(T){var k=m.animation({position:x,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(k)}else m.position(x)}if(t.fit){var E=n.animation({fit:{boundingBox:a.boundingBoxAt(g),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(E)}else if(t.zoom!==void 0&&t.pan!==void 0){var S=n.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(S)}e.animations.forEach(function(L){return L.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Hd.all(e.animations.map(function(L){return L.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(g),t.fit&&n.fit(t.eles,t.padding),t.zoom!=null&&n.zoom(t.zoom),t.pan&&n.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},"layoutPositions"),layout:l(function(e){var t=this.cy();return t.makeLayout(er({},e,{eles:this}))},"layout")},Av.createLayout=Av.makeLayout=Av.layout,l(hD,"styleCache"),l(J2,"cacheStyleFunction"),l(ev,"cachePrototypeStyleFunction"),Sn={recalculateRenderedStyle:l(function(e){var t=this.cy(),r=t.renderer(),i=t.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,e),this},"recalculateRenderedStyle"),dirtyStyleCache:l(function(){var e=this.cy(),t=l(function(i){return i._private.styleCache=null},"dirty");if(e.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},"dirtyStyleCache"),updateStyle:l(function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var r=t._private.batchStyleEles;return r.merge(this),this}var i=t.hasCompoundNodes(),n=this;e=!!(e||e===void 0),i&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=n;return e?a.emitAndNotify("style"):a.emit("style"),n.forEach(function(s){return s._private.styleDirty=!0}),this},"updateStyle"),cleanStyle:l(function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},"cleanStyle"),parsedStyle:l(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,i.style().apply(r));var n=r._private.style[e];return n!=null?n:t?i.style().getDefaultProperty(e):null}},"parsedStyle"),numericStyle:l(function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return r.pfValue!==void 0?r.pfValue:r.value}},"numericStyle"),numericStyleUnits:l(function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},"numericStyleUnits"),renderedStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];if(r)return t.style().getRenderedStyle(r,e)},"renderedStyle"),style:l(function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,n=r.style();if(Nr(e)){var a=e;n.applyBypass(this,a,i),this.emitAndNotify("style")}else if(Ht(e))if(t===void 0){var s=this[0];return s?n.getStylePropertyValue(s,e):void 0}else n.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var o=this[0];return o?n.getRawStyle(o):void 0}return this},"style"),removeStyle:l(function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,i=t.style(),n=this;if(e===void 0)for(var a=0;a<n.length;a++){var s=n[a];i.removeAllBypasses(s,r)}else{e=e.split(/\s+/);for(var o=0;o<n.length;o++){var u=n[o];i.removeBypasses(u,e,r)}}return this.emitAndNotify("style"),this},"removeStyle"),show:l(function(){return this.css("display","element"),this},"show"),hide:l(function(){return this.css("display","none"),this},"hide"),effectiveOpacity:l(function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var i=r._private,n=r.pstyle("opacity").value;if(!t)return n;var a=i.data.parent?r.parents():null;if(a)for(var s=0;s<a.length;s++){var o=a[s],u=o.pstyle("opacity").value;n=u*n}return n}},"effectiveOpacity"),transparent:l(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],r=t.cy().hasCompoundNodes();if(t)return r?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},"transparent"),backgrounding:l(function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding},"backgrounding")},l(Bw,"checkCompound"),l($w,"defineDerivedStateFunction"),Wd=J2("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)}),Sn.takesUpSpace=ev("takesUpSpace",$w({ok:Wd})),sTe=J2("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Wd(e)}),oTe=J2("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Wd(e)}),Sn.interactive=ev("interactive",$w({ok:sTe,parentOk:oTe,edgeOkViaNode:Wd})),Sn.noninteractive=function(){var e=this[0];if(e)return!e.interactive()},lTe=J2("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Wd(e)}),cTe=Wd,Sn.visible=ev("visible",$w({ok:lTe,edgeOkViaNode:cTe})),Sn.hidden=function(){var e=this[0];if(e)return!e.visible()},Sn.isBundledBezier=ev("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1}),Sn.bypass=Sn.css=Sn.style,Sn.renderedCss=Sn.renderedStyle,Sn.removeBypass=Sn.removeCss=Sn.removeStyle,Sn.pstyle=Sn.parsedStyle,Bc={},l(dD,"defineSwitchFunction"),l(Dd,"defineSwitchSet"),Dd({field:"locked",overrideField:l(function(e){return e.cy().autolock()?!0:void 0},"overrideField"),on:"lock",off:"unlock"}),Dd({field:"grabbable",overrideField:l(function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},"overrideField"),on:"grabify",off:"ungrabify"}),Dd({field:"selected",ableField:"selectable",overrideAble:l(function(e){return e.cy().autounselectify()?!1:void 0},"overrideAble"),on:"select",off:"unselect"}),Dd({field:"selectable",overrideField:l(function(e){return e.cy().autounselectify()?!1:void 0},"overrideField"),on:"selectify",off:"unselectify"}),Bc.deselect=Bc.unselect,Bc.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Dd({field:"active",on:"activate",off:"unactivate"}),Dd({field:"pannable",on:"panify",off:"unpanify"}),Bc.inactive=function(){var e=this[0];if(e)return!e._private.active},qn={},TP=l(function(e){return l(function(t){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode()){for(var s=!1,o=a.connectedEdges(),u=0;u<o.length;u++){var h=o[u],d=h.source(),p=h.target();if(e.noIncomingEdges&&p===a&&d!==a||e.noOutgoingEdges&&d===a&&p!==a){s=!0;break}}s||i.push(a)}}return this.spawn(i,!0).filter(t)},"dagExtremityImpl")},"defineDagExtremity"),EP=l(function(e){return function(t){for(var r=this,i=[],n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var s=a.connectedEdges(),o=0;o<s.length;o++){var u=s[o],h=u.source(),d=u.target();e.outgoing&&h===a?(i.push(u),i.push(d)):e.incoming&&d===a&&(i.push(u),i.push(h))}}return this.spawn(i,!0).filter(t)}},"defineDagOneHop"),CP=l(function(e){return function(t){for(var r=this,i=[],n={};;){var a=e.outgoing?r.outgoers():r.incomers();if(a.length===0)break;for(var s=!1,o=0;o<a.length;o++){var u=a[o],h=u.id();n[h]||(n[h]=!0,i.push(u),s=!0)}if(!s)break;r=a}return this.spawn(i,!0).filter(t)}},"defineDagAllHops"),qn.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},er(qn,{roots:TP({noIncomingEdges:!0}),leaves:TP({noOutgoingEdges:!0}),outgoers:fs(EP({outgoing:!0}),"outgoers"),successors:CP({outgoing:!0}),incomers:fs(EP({incoming:!0}),"incomers"),predecessors:CP({})}),er(qn,{neighborhood:fs(function(e){for(var t=[],r=this.nodes(),i=0;i<r.length;i++)for(var n=r[i],a=n.connectedEdges(),s=0;s<a.length;s++){var o=a[s],u=o.source(),h=o.target(),d=n===u?h:u;d.length>0&&t.push(d[0]),t.push(o[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:l(function(e){return this.neighborhood().add(this).filter(e)},"closedNeighborhood"),openNeighborhood:l(function(e){return this.neighborhood(e)},"openNeighborhood")}),qn.neighbourhood=qn.neighborhood,qn.closedNeighbourhood=qn.closedNeighborhood,qn.openNeighbourhood=qn.openNeighborhood,er(qn,{source:fs(l(function(e){var t=this[0],r;return t&&(r=t._private.source||t.cy().collection()),r&&e?r.filter(e):r},"sourceImpl"),"source"),target:fs(l(function(e){var t=this[0],r;return t&&(r=t._private.target||t.cy().collection()),r&&e?r.filter(e):r},"targetImpl"),"target"),sources:pD({attr:"source"}),targets:pD({attr:"target"})}),l(pD,"defineSourceFunction"),er(qn,{edgesWith:fs(gD(),"edgesWith"),edgesTo:fs(gD({thisIsSrc:!0}),"edgesTo")}),l(gD,"defineEdgesWithFunction"),er(qn,{connectedEdges:fs(function(e){for(var t=[],r=this,i=0;i<r.length;i++){var n=r[i];if(n.isNode())for(var a=n._private.edges,s=0;s<a.length;s++){var o=a[s];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:fs(function(e){for(var t=[],r=this,i=0;i<r.length;i++){var n=r[i];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:fs(fD(),"parallelEdges"),codirectedEdges:fs(fD({codirected:!0}),"codirectedEdges")}),l(fD,"defineParallelEdgesFunction"),er(qn,{components:l(function(e){var t=this,r=t.cy(),i=r.collection(),n=e==null?t.nodes():e.nodes(),a=[];e!=null&&n.empty()&&(n=e.sources());var s=l(function(u,h){i.merge(u),n.unmerge(u),h.merge(u)},"visitInComponent");if(n.empty())return t.spawn();var o=l(function(){var u=r.collection();a.push(u);var h=n[0];s(h,u),t.bfs({directed:!1,roots:h,visit:l(function(d){return s(d,u)},"visit")}),u.forEach(function(d){d.connectedEdges().forEach(function(p){t.has(p)&&u.has(p.source())&&u.has(p.target())&&u.merge(p)})})},"_loop");do o();while(n.length>0);return a},"components"),component:l(function(){var e=this[0];return e.cy().mutableElements().components(e)[0]},"component")}),qn.componentsOf=qn.components,_n=l(function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){di("A collection must have a reference to the core");return}var n=new vl,a=!1;if(!t)t=[];else if(t.length>0&&Nr(t[0])&&!d1(t[0])){a=!0;for(var s=[],o=new $d,u=0,h=t.length;u<h;u++){var d=t[u];d.data==null&&(d.data={});var p=d.data;if(p.id==null)p.id=kR();else if(e.hasElementWithId(p.id)||o.has(p.id))continue;var g=new cv(e,d,!1);s.push(g),o.add(p.id)}t=s}this.length=0;for(var f=0,m=t.length;f<m;f++){var x=t[f][0];if(x!=null){var T=x._private.data.id;(!r||!n.has(T))&&(r&&n.set(T,{index:this.length,ele:x}),this[this.length]=x,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(k){this.lazyMap=k},rebuildMap:l(function(){for(var k=this.lazyMap=new vl,E=this.eles,S=0;S<E.length;S++){var L=E[S];k.set(L.id(),{index:S,ele:L})}},"rebuildMap")},r&&(this._private.map=n),a&&!i&&this.restore()},"Collection"),ri=cv.prototype=_n.prototype=Object.create(Array.prototype),ri.instanceString=function(){return"collection"},ri.spawn=function(e,t){return new _n(this.cy(),e,t)},ri.spawnSelf=function(){return this.spawn(this)},ri.cy=function(){return this._private.cy},ri.renderer=function(){return this._private.cy.renderer()},ri.element=function(){return this[0]},ri.collection=function(){return HD(this)?this:new _n(this._private.cy,[this])},ri.unique=function(){return new _n(this._private.cy,this,!0)},ri.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},ri.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new _n(t)},ri.$id=ri.getElementById,ri.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index},ri.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},ri.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},ri.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var i=t._private;if(Nr(e)){if(r.startBatch(),e.data){t.data(e.data);var n=i.data;if(t.isEdge()){var a=!1,s={},o=e.data.source,u=e.data.target;o!=null&&o!=n.source&&(s.source=""+o,a=!0),u!=null&&u!=n.target&&(s.target=""+u,a=!0),a&&(t=t.move(s))}else{var h="parent"in e.data,d=e.data.parent;h&&(d!=null||n.parent!=null)&&d!=n.parent&&(d===void 0&&(d=null),d!=null&&(d=""+d),t=t.move({parent:d}))}}e.position&&t.position(e.position);var p=l(function(m,x,T){var k=e[m];k!=null&&k!==i[m]&&(k?t[x]():t[T]())},"checkSwitch");return p("removed","remove","restore"),p("selected","select","unselect"),p("selectable","selectify","unselectify"),p("locked","lock","unlock"),p("grabbable","grabify","ungrabify"),p("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var g={data:So(i.data),position:So(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};g.classes="";var f=0;return i.classes.forEach(function(m){return g.classes+=f++===0?m:" "+m}),g}}},ri.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],i=r.json();e.push(i)}return e},ri.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var i=this[r],n=i.json(),a=new cv(e,n,!1);t.push(a)}return new _n(e,t)},ri.copy=ri.clone,ri.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=r.cy(),n=i._private,a=[],s=[],o,u=0,h=r.length;u<h;u++){var d=r[u];t&&!d.removed()||(d.isNode()?a.push(d):s.push(d))}o=a.concat(s);var p,g=l(function(){o.splice(p,1),p--},"removeFromElements");for(p=0;p<o.length;p++){var f=o[p],m=f._private,x=m.data;if(f.clearTraversalCache(),!(!t&&!m.removed)){if(x.id===void 0)x.id=kR();else if(bt(x.id))x.id=""+x.id;else if(Ec(x.id)||!Ht(x.id)){di("Can not create element with invalid string ID `"+x.id+"`"),g();continue}else if(i.hasElementWithId(x.id)){di("Can not create second element with ID `"+x.id+"`"),g();continue}}var T=x.id;if(f.isNode()){var k=m.position;k.x==null&&(k.x=0),k.y==null&&(k.y=0)}if(f.isEdge()){for(var E=f,S=["source","target"],L=S.length,b=!1,y=0;y<L;y++){var v=S[y],w=x[v];bt(w)&&(w=x[v]=""+x[v]),w==null||w===""?(di("Can not create edge `"+T+"` with unspecified "+v),b=!0):i.hasElementWithId(w)||(di("Can not create edge `"+T+"` with nonexistant "+v+" `"+w+"`"),b=!0)}if(b){g();continue}var C=i.getElementById(x.source),A=i.getElementById(x.target);C.same(A)?C._private.edges.push(E):(C._private.edges.push(E),A._private.edges.push(E)),E._private.source=C,E._private.target=A}m.map=new vl,m.map.set(T,{ele:f,index:0}),m.removed=!1,t&&i.addToPool(f)}for(var M=0;M<a.length;M++){var N=a[M],O=N._private.data;bt(O.parent)&&(O.parent=""+O.parent);var _=O.parent,I=_!=null;if(I||N._private.parent){var R=N._private.parent?i.collection().merge(N._private.parent):i.getElementById(_);if(R.empty())O.parent=void 0;else if(R[0].removed())Ur("Node added with missing parent, reference to parent removed"),O.parent=void 0,N._private.parent=null;else{for(var P=!1,D=R;!D.empty();){if(N.same(D)){P=!0,O.parent=void 0;break}D=D.parent()}P||(R[0]._private.children.push(N),N._private.parent=R[0],n.hasCompoundNodes=!0)}}}if(o.length>0){for(var $=o.length===r.length?r:new _n(i,o),F=0;F<$.length;F++){var z=$[F];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}var U;n.hasCompoundNodes?U=i.collection().merge($).merge($.connectedNodes()).merge($.parent()):U=$,U.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?$.emitAndNotify("add"):t&&$.emit("add")}return r},ri.removed=function(){var e=this[0];return e&&e._private.removed},ri.inside=function(){var e=this[0];return e&&!e._private.removed},ri.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,i=[],n={},a=r._private.cy;function s(_){for(var I=_._private.edges,R=0;R<I.length;R++)u(I[R])}l(s,"addConnectedEdges");function o(_){for(var I=_._private.children,R=0;R<I.length;R++)u(I[R])}l(o,"addChildren");function u(_){var I=n[_.id()];t&&_.removed()||I||(n[_.id()]=!0,_.isNode()?(i.push(_),s(_),o(_)):i.unshift(_))}l(u,"add");for(var h=0,d=r.length;h<d;h++){var p=r[h];u(p)}function g(_,I){var R=_._private.edges;_c(R,I),_.clearTraversalCache()}l(g,"removeEdgeRef");function f(_){_.clearTraversalCache()}l(f,"removeParallelRef");var m=[];m.ids={};function x(_,I){I=I[0],_=_[0];var R=_._private.children,P=_.id();_c(R,I),I._private.parent=null,m.ids[P]||(m.ids[P]=!0,m.push(_))}l(x,"removeChildRef"),r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(i);for(var T=0;T<i.length;T++){var k=i[T];if(k.isEdge()){var E=k.source()[0],S=k.target()[0];g(E,k),g(S,k);for(var L=k.parallelEdges(),b=0;b<L.length;b++){var y=L[b];f(y),y.isBundledBezier()&&y.dirtyBoundingBoxCache()}}else{var v=k.parent();v.length!==0&&x(v,k)}t&&(k._private.removed=!0)}var w=a._private.elements;a._private.hasCompoundNodes=!1;for(var C=0;C<w.length;C++){var A=w[C];if(A.isParent()){a._private.hasCompoundNodes=!0;break}}var M=new _n(this.cy(),i);M.size()>0&&(e?M.emitAndNotify("remove"):t&&M.emit("remove"));for(var N=0;N<m.length;N++){var O=m[N];(!t||!O.removed())&&O.updateStyle()}return M},ri.move=function(e){var t=this._private.cy,r=this,i=!1,n=!1,a=l(function(f){return f==null?f:""+f},"toString");if(e.source!==void 0||e.target!==void 0){var s=a(e.source),o=a(e.target),u=s!=null&&t.hasElementWithId(s),h=o!=null&&t.hasElementWithId(o);(u||h)&&(t.batch(function(){r.remove(i,n),r.emitAndNotify("moveout");for(var f=0;f<r.length;f++){var m=r[f],x=m._private.data;m.isEdge()&&(u&&(x.source=s),h&&(x.target=o))}r.restore(i,n)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var d=a(e.parent),p=d===null||t.hasElementWithId(d);if(p){var g=d===null?void 0:d;t.batch(function(){var f=r.remove(i,n);f.emitAndNotify("moveout");for(var m=0;m<r.length;m++){var x=r[m],T=x._private.data;x.isNode()&&(T.parent=g)}f.restore(i,n)}),r.emitAndNotify("move")}}return this},[KR,bke,xv,Rc,Yd,Oke,kv,Qke,xP,wP,iTe,_v,Av,Sn,Bc,qn].forEach(function(e){er(ri,e)}),uTe={add:l(function(e){var t,r=this;if(Ka(e)){var i=e;if(i._private.cy===r)t=i.restore();else{for(var n=[],a=0;a<i.length;a++){var s=i[a];n.push(s.json())}t=new _n(r,n)}}else if(Qr(e)){var o=e;t=new _n(r,o)}else if(Nr(e)&&(Qr(e.nodes)||Qr(e.edges))){for(var u=e,h=[],d=["nodes","edges"],p=0,g=d.length;p<g;p++){var f=d[p],m=u[f];if(Qr(m))for(var x=0,T=m.length;x<T;x++){var k=er({group:f},m[x]);h.push(k)}}t=new _n(r,h)}else{var E=e;t=new cv(r,E).collection()}return t},"add"),remove:l(function(e){if(!Ka(e)&&Ht(e)){var t=e;e=this.$(t)}return e.remove()},"remove")},l(a3e,"generateCubicBezier"),hTe=(function(){function e(i){return-i.tension*i.x-i.friction*i.v}l(e,"springAccelerationForState");function t(i,n,a){var s={x:i.x+a.dx*n,v:i.v+a.dv*n,tension:i.tension,friction:i.friction};return{dx:s.v,dv:e(s)}}l(t,"springEvaluateStateWithDerivative");function r(i,n){var a={dx:i.v,dv:e(i)},s=t(i,n*.5,a),o=t(i,n*.5,s),u=t(i,n,o),h=1/6*(a.dx+2*(s.dx+o.dx)+u.dx),d=1/6*(a.dv+2*(s.dv+o.dv)+u.dv);return i.x=i.x+h*n,i.v=i.v+d*n,i}return l(r,"springIntegrateState"),l(function i(n,a,s){var o={x:-1,v:0,tension:null,friction:null},u=[0],h=0,d=1/1e4,p=16/1e3,g,f,m;for(n=parseFloat(n)||500,a=parseFloat(a)||20,s=s||null,o.tension=n,o.friction=a,g=s!==null,g?(h=i(n,a),f=h/s*p):f=p;m=r(m||o,f),u.push(1+m.x),h+=16,Math.abs(m.x)>d&&Math.abs(m.v)>d;);return g?function(x){return u[x*(u.length-1)|0]}:h},"springRK4Factory")})(),ii=l(function(e,t,r,i){var n=a3e(e,t,r,i);return function(a,s,o){return a+(s-a)*n(o)}},"cubicBezier"),Lv={linear:l(function(e,t,r){return e+(t-e)*r},"linear"),ease:ii(.25,.1,.25,1),"ease-in":ii(.42,0,1,1),"ease-out":ii(0,0,.58,1),"ease-in-out":ii(.42,0,.58,1),"ease-in-sine":ii(.47,0,.745,.715),"ease-out-sine":ii(.39,.575,.565,1),"ease-in-out-sine":ii(.445,.05,.55,.95),"ease-in-quad":ii(.55,.085,.68,.53),"ease-out-quad":ii(.25,.46,.45,.94),"ease-in-out-quad":ii(.455,.03,.515,.955),"ease-in-cubic":ii(.55,.055,.675,.19),"ease-out-cubic":ii(.215,.61,.355,1),"ease-in-out-cubic":ii(.645,.045,.355,1),"ease-in-quart":ii(.895,.03,.685,.22),"ease-out-quart":ii(.165,.84,.44,1),"ease-in-out-quart":ii(.77,0,.175,1),"ease-in-quint":ii(.755,.05,.855,.06),"ease-out-quint":ii(.23,1,.32,1),"ease-in-out-quint":ii(.86,0,.07,1),"ease-in-expo":ii(.95,.05,.795,.035),"ease-out-expo":ii(.19,1,.22,1),"ease-in-out-expo":ii(1,0,0,1),"ease-in-circ":ii(.6,.04,.98,.335),"ease-out-circ":ii(.075,.82,.165,1),"ease-in-out-circ":ii(.785,.135,.15,.86),spring:l(function(e,t,r){if(r===0)return Lv.linear;var i=hTe(e,t,r);return function(n,a,s){return n+(a-n)*i(s)}},"spring"),"cubic-bezier":ii},l(mD,"getEasedValue"),l(yD,"getValue"),l(Rd,"ease"),l(s3e,"step$1"),l(u1,"valid"),l(o3e,"startAnimation"),l(vD,"stepAll"),dTe={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop(),addToAnimationPool:l(function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},"addToAnimationPool"),stopAnimationLoop:l(function(){this._private.animationsRunning=!1},"stopAnimationLoop"),startAnimationLoop:l(function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&sv(l(function(i){vD(i,e),t()},"animationStep"))}l(t,"headlessStep");var r=e.renderer();r&&r.beforeRender?r.beforeRender(l(function(i,n){vD(n,e)},"rendererAnimationStep"),r.beforeRenderPriorities.animations):t()},"startAnimationLoop")},pTe={qualifierCompare:l(function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},"qualifierCompare"),eventMatches:l(function(e,t,r){var i=t.qualifier;return i!=null?e!==r.target&&d1(r.target)&&i.matches(r.target):!0},"eventMatches"),addEventFields:l(function(e,t){t.cy=e,t.target=e},"addEventFields"),callbackContext:l(function(e,t,r){return t.qualifier!=null?r.target:e},"callbackContext")},Nv=l(function(e){return Ht(e)?new Ic(e):e},"argSelector"),SP={createEmitter:l(function(){var e=this._private;return e.emitter||(e.emitter=new Q2(pTe,this)),this},"createEmitter"),emitter:l(function(){return this._private.emitter},"emitter"),on:l(function(e,t,r){return this.emitter().on(e,Nv(t),r),this},"on"),removeListener:l(function(e,t,r){return this.emitter().removeListener(e,Nv(t),r),this},"removeListener"),removeAllListeners:l(function(){return this.emitter().removeAllListeners(),this},"removeAllListeners"),one:l(function(e,t,r){return this.emitter().one(e,Nv(t),r),this},"one"),once:l(function(e,t,r){return this.emitter().one(e,Nv(t),r),this},"once"),emit:l(function(e,t){return this.emitter().emit(e,t),this},"emit"),emitAndNotify:l(function(e,t){return this.emit(e),this.notify(e,t),this},"emitAndNotify")},qr.eventAliasesOn(SP),mk={png:l(function(e){var t=this._private.renderer;return e=e||{},t.png(e)},"png"),jpg:l(function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)},"jpg")},mk.jpeg=mk.jpg,Mv={layout:l(function(e){var t=this;if(e==null){di("Layout options must be specified to make a layout");return}if(e.name==null){di("A `name` must be specified to make a layout");return}var r=e.name,i=t.extension("layout",r);if(i==null){di("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var n;Ht(e.eles)?n=t.$(e.eles):n=e.eles!=null?e.eles:t.$();var a=new i(er({},e,{cy:t,eles:n}));return a},"layout")},Mv.createLayout=Mv.makeLayout=Mv.layout,gTe={notify:l(function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(r.notificationsEnabled){var n=this.renderer();this.destroyed()||!n||n.notify(e,t)}},"notify"),notifications:l(function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},"notifications"),noNotifications:l(function(e){this.notifications(!1),e(),this.notifications(!0)},"noNotifications"),batching:l(function(){return this._private.batchCount>0},"batching"),startBatch:l(function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},"startBatch"),endBatch:l(function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var i=e.batchNotifications[r];i.empty()?t.notify(r):t.notify(r,i)})}return this},"endBatch"),batch:l(function(e){return this.startBatch(),e(),this.endBatch(),this},"batch"),batchData:l(function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),i=0;i<r.length;i++){var n=r[i],a=e[n],s=t.getElementById(n);s.data(a)}})},"batchData")},fTe=Cn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),yk={renderTo:l(function(e,t,r,i){var n=this._private.renderer;return n.renderTo(e,t,r,i),this},"renderTo"),renderer:l(function(){return this._private.renderer},"renderer"),forceRender:l(function(){return this.notify("draw"),this},"forceRender"),resize:l(function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},"resize"),initRenderer:l(function(e){var t=this,r=t.extension("renderer",e.name);if(r==null){di("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Ur("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=fTe(e);i.cy=t,t._private.renderer=new r(i),this.notify("init")},"initRenderer"),destroyRenderer:l(function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},"destroyRenderer"),onRender:l(function(e){return this.on("render",e)},"onRender"),offRender:l(function(e){return this.off("render",e)},"offRender")},yk.invalidateDimensions=yk.resize,Iv={collection:l(function(e,t){return Ht(e)?this.$(e):Ka(e)?e.collection():Qr(e)?(t||(t={}),new _n(this,e,t.unique,t.removed)):new _n(this)},"collection"),nodes:l(function(e){var t=this.$(function(r){return r.isNode()});return e?t.filter(e):t},"nodes"),edges:l(function(e){var t=this.$(function(r){return r.isEdge()});return e?t.filter(e):t},"edges"),$:l(function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},"$"),mutableElements:l(function(){return this._private.elements},"mutableElements")},Iv.elements=Iv.filter=Iv.$,vn={},C1="t",mTe="f",vn.apply=function(e){for(var t=this,r=t._private,i=r.cy,n=i.collection(),a=0;a<e.length;a++){var s=e[a],o=t.getContextMeta(s);if(!o.empty){var u=t.getContextStyle(o),h=t.applyContextStyle(o,u,s);s._private.appliedInitStyle?t.updateTransitions(s,h.diffProps):s._private.appliedInitStyle=!0;var d=t.updateStyleHints(s);d&&n.push(s)}}return n},vn.getPropertiesDiff=function(e,t){var r=this,i=r._private.propDiffs=r._private.propDiffs||{},n=e+"-"+t,a=i[n];if(a)return a;for(var s=[],o={},u=0;u<r.length;u++){var h=r[u],d=e[u]===C1,p=t[u]===C1,g=d!==p,f=h.mappedProperties.length>0;if(g||p&&f){var m=void 0;g&&f||g?m=h.properties:f&&(m=h.mappedProperties);for(var x=0;x<m.length;x++){for(var T=m[x],k=T.name,E=!1,S=u+1;S<r.length;S++){var L=r[S],b=t[S]===C1;if(b&&(E=L.properties[T.name]!=null,E))break}!o[k]&&!E&&(o[k]=!0,s.push(k))}}}return i[n]=s,s},vn.getContextMeta=function(e){for(var t=this,r="",i,n=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],o=s.selector&&s.selector.matches(e);o?r+=C1:r+=mTe}return i=t.getPropertiesDiff(n,r),e._private.styleCxtKey=r,{key:r,diffPropNames:i,empty:i.length===0}},vn.getContextStyle=function(e){var t=e.key,r=this,i=this._private.contextStyles=this._private.contextStyles||{};if(i[t])return i[t];for(var n={_private:{key:t}},a=0;a<r.length;a++){var s=r[a],o=t[a]===C1;if(o)for(var u=0;u<s.properties.length;u++){var h=s.properties[u];n[h.name]=h}}return i[t]=n,n},vn.applyContextStyle=function(e,t,r){for(var i=this,n=e.diffPropNames,a={},s=i.types,o=0;o<n.length;o++){var u=n[o],h=t[u],d=r.pstyle(u);if(!h)if(d)d.bypass?h={name:u,deleteBypassed:!0}:h={name:u,delete:!0};else continue;if(d!==h){if(h.mapped===s.fn&&d!=null&&d.mapping!=null&&d.mapping.value===h.value){var p=d.mapping,g=p.fnValue=h.value(r);if(g===p.prevFnValue)continue}var f=a[u]={prev:d};i.applyParsedProperty(r,h),f.next=r.pstyle(u),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:a}},vn.updateStyleHints=function(e){var t=e._private,r=this,i=r.propertyGroupNames,n=r.propertyGroupKeys,a=l(function(Y,X,te){return r.getPropertiesHash(Y,X,te)},"propHash"),s=t.styleKey;if(e.removed())return!1;var o=t.group==="nodes",u=e._private.style;i=Object.keys(u);for(var h=0;h<n.length;h++){var d=n[h];t.styleKeys[d]=[rh,Bd]}for(var p=l(function(Y,X){return t.styleKeys[X][0]=g1(Y,t.styleKeys[X][0])},"updateGrKey1"),g=l(function(Y,X){return t.styleKeys[X][1]=f1(Y,t.styleKeys[X][1])},"updateGrKey2"),f=l(function(Y,X){p(Y,X),g(Y,X)},"updateGrKey"),m=l(function(Y,X){for(var te=0;te<Y.length;te++){var ce=Y.charCodeAt(te);p(ce,X),g(ce,X)}},"updateGrKeyWStr"),x=2e9,T=l(function(Y){return-128<Y&&Y<128&&Math.floor(Y)!==Y?x-(Y*1024|0):Y},"cleanNum"),k=0;k<i.length;k++){var E=i[k],S=u[E];if(S!=null){var L=this.properties[E],b=L.type,y=L.groupKey,v=void 0;L.hashOverride!=null?v=L.hashOverride(e,S):S.pfValue!=null&&(v=S.pfValue);var w=L.enums==null?S.value:null,C=v!=null,A=w!=null,M=C||A,N=S.units;if(b.number&&M&&!b.multiple){var O=C?v:w;f(T(O),y),!C&&N!=null&&m(N,y)}else m(S.strValue,y)}}for(var _=[rh,Bd],I=0;I<n.length;I++){var R=n[I],P=t.styleKeys[R];_[0]=g1(P[0],_[0]),_[1]=f1(P[1],_[1])}t.styleKey=S5e(_[0],_[1]);var D=t.styleKeys;t.labelDimsKey=Sc(D.labelDimensions);var $=a(e,["label"],D.labelDimensions);if(t.labelKey=Sc($),t.labelStyleKey=Sc(ov(D.commonLabel,$)),!o){var F=a(e,["source-label"],D.labelDimensions);t.sourceLabelKey=Sc(F),t.sourceLabelStyleKey=Sc(ov(D.commonLabel,F));var z=a(e,["target-label"],D.labelDimensions);t.targetLabelKey=Sc(z),t.targetLabelStyleKey=Sc(ov(D.commonLabel,z))}if(o){var U=t.styleKeys,j=U.nodeBody,H=U.nodeBorder,Q=U.nodeOutline,re=U.backgroundImage,le=U.compound,oe=U.pie,W=U.stripe,J=[j,H,Q,re,le,oe,W].filter(function(Y){return Y!=null}).reduce(ov,[rh,Bd]);t.nodeKey=Sc(J),t.hasPie=oe!=null&&oe[0]!==rh&&oe[1]!==Bd,t.hasStripe=W!=null&&W[0]!==rh&&W[1]!==Bd}return s!==t.styleKey},vn.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},vn.applyParsedProperty=function(e,t){var r=this,i=t,n=e._private.style,a,s=r.types,o=r.properties[i.name].type,u=i.bypass,h=n[i.name],d=h&&h.bypass,p=e._private,g="mapping",f=l(function(U){return U==null?null:U.pfValue!=null?U.pfValue:U.value},"getVal"),m=l(function(){var U=f(h),j=f(i);r.checkTriggers(e,i.name,U,j)},"checkTriggers");if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",u)),i.delete)return n[i.name]=void 0,m(),!0;if(i.deleteBypassed)return h?h.bypass?(h.bypassed=void 0,m(),!0):!1:(m(),!0);if(i.deleteBypass)return h?h.bypass?(n[i.name]=h.bypassed,m(),!0):!1:(m(),!0);var x=l(function(){Ur("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")},"printMappingErr");switch(i.mapped){case s.mapData:{for(var T=i.field.split("."),k=p.data,E=0;E<T.length&&k;E++){var S=T[E];k=k[S]}if(k==null)return x(),!1;var L;if(bt(k)){var b=i.fieldMax-i.fieldMin;b===0?L=0:L=(k-i.fieldMin)/b}else return Ur("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+k+"` for `"+e.id()+"` is non-numeric)"),!1;if(L<0?L=0:L>1&&(L=1),o.color){var y=i.valueMin[0],v=i.valueMax[0],w=i.valueMin[1],C=i.valueMax[1],A=i.valueMin[2],M=i.valueMax[2],N=i.valueMin[3]==null?1:i.valueMin[3],O=i.valueMax[3]==null?1:i.valueMax[3],_=[Math.round(y+(v-y)*L),Math.round(w+(C-w)*L),Math.round(A+(M-A)*L),Math.round(N+(O-N)*L)];a={bypass:i.bypass,name:i.name,value:_,strValue:"rgb("+_[0]+", "+_[1]+", "+_[2]+")"}}else if(o.number){var I=i.valueMin+(i.valueMax-i.valueMin)*L;a=this.parse(i.name,I,i.bypass,g)}else return!1;if(!a)return x(),!1;a.mapping=i,i=a;break}case s.data:{for(var R=i.field.split("."),P=p.data,D=0;D<R.length&&P;D++){var $=R[D];P=P[$]}if(P!=null&&(a=this.parse(i.name,P,i.bypass,g)),!a)return x(),!1;a.mapping=i,i=a;break}case s.fn:{var F=i.value,z=i.fnValue!=null?i.fnValue:F(e);if(i.prevFnValue=z,z==null)return Ur("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(i.name,z,i.bypass,g),!a)return Ur("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=So(i),i=a;break}case void 0:break;default:return!1}return u?(d?i.bypassed=h.bypassed:i.bypassed=h,n[i.name]=i):d?h.bypassed=i:n[i.name]=i,m(),!0},vn.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var i=e[r];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),!t)i._private.style={};else for(var n=i._private.style,a=Object.keys(n),s=0;s<a.length;s++){var o=a[s],u=n[o];u!=null&&(u.bypass?u.bypassed=null:n[o]=null)}}},vn.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()},vn.updateTransitions=function(e,t){var r=this,i=e._private,n=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(n.length>0&&a>0){for(var o={},u=!1,h=0;h<n.length;h++){var d=n[h],p=e.pstyle(d),g=t[d];if(g){var f=g.prev,m=f,x=g.next!=null?g.next:p,T=!1,k=void 0,E=1e-6;m&&(bt(m.pfValue)&&bt(x.pfValue)?(T=x.pfValue-m.pfValue,k=m.pfValue+E*T):bt(m.value)&&bt(x.value)?(T=x.value-m.value,k=m.value+E*T):Qr(m.value)&&Qr(x.value)&&(T=m.value[0]!==x.value[0]||m.value[1]!==x.value[1]||m.value[2]!==x.value[2],k=m.strValue),T&&(o[d]=x.strValue,this.applyBypass(e,d,k),u=!0))}}if(!u)return;i.transitioning=!0,new Hd(function(S){s>0?e.delayAnimation(s).play().promise().then(S):S()}).then(function(){return e.animation({style:o,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,n),e.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(e,n),e.emitAndNotify("style"),i.transitioning=!1)},vn.checkTrigger=function(e,t,r,i,n,a){var s=this.properties[t],o=n(s);e.removed()||o!=null&&o(r,i,e)&&a(s)},vn.checkZOrderTrigger=function(e,t,r,i){var n=this;this.checkTrigger(e,t,r,i,function(a){return a.triggersZOrder},function(){n._private.cy.notify("zorder",e)})},vn.checkBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBounds},function(n){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},vn.checkConnectedEdgesBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBoundsOfConnectedEdges},function(n){e.connectedEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},vn.checkParallelEdgesBoundsTrigger=function(e,t,r,i){this.checkTrigger(e,t,r,i,function(n){return n.triggersBoundsOfParallelEdges},function(n){e.parallelEdges().forEach(function(a){a.dirtyBoundingBoxCache()})})},vn.checkTriggers=function(e,t,r,i){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,i),this.checkBoundsTrigger(e,t,r,i),this.checkConnectedEdgesBoundsTrigger(e,t,r,i),this.checkParallelEdgesBoundsTrigger(e,t,r,i)},S1={},S1.applyBypass=function(e,t,r,i){var n=this,a=[],s=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var o=0;o<n.properties.length;o++){var u=n.properties[o],h=u.name,d=this.parse(h,r,!0);d&&a.push(d)}}else if(Ht(t)){var p=this.parse(t,r,!0);p&&a.push(p)}else if(Nr(t)){var g=t;i=r;for(var f=Object.keys(g),m=0;m<f.length;m++){var x=f[m],T=g[x];if(T===void 0&&(T=g[nv(x)]),T!==void 0){var k=this.parse(x,T,!0);k&&a.push(k)}}}else return!1;if(a.length===0)return!1;for(var E=!1,S=0;S<e.length;S++){for(var L=e[S],b={},y=void 0,v=0;v<a.length;v++){var w=a[v];if(i){var C=L.pstyle(w.name);y=b[w.name]={prev:C}}E=this.applyParsedProperty(L,So(w))||E,i&&(y.next=L.pstyle(w.name))}E&&this.updateStyleHints(L),i&&this.updateTransitions(L,b,s)}return E},S1.overrideBypass=function(e,t,r){t=Vw(t);for(var i=0;i<e.length;i++){var n=e[i],a=n._private.style[t],s=this.properties[t].type,o=s.color,u=s.mutiple,h=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(n,t,r):(a.value=r,a.pfValue!=null&&(a.pfValue=r),o?a.strValue="rgb("+r.join(",")+")":u?a.strValue=r.join(" "):a.strValue=""+r,this.updateStyleHints(n)),this.checkTriggers(n,t,h,r)}},S1.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)},S1.removeBypasses=function(e,t,r){for(var i=!0,n=0;n<e.length;n++){for(var a=e[n],s={},o=0;o<t.length;o++){var u=t[o],h=this.properties[u],d=a.pstyle(h.name);if(!(!d||!d.bypass)){var p="",g=this.parse(u,p,!0),f=s[h.name]={prev:d};this.applyParsedProperty(a,g),f.next=a.pstyle(h.name)}}this.updateStyleHints(a),r&&this.updateTransitions(a,s,i)}},vk={},vk.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1},vk.containerCss=function(e){var t=this._private.cy,r=t.container(),i=t.window();if(i&&r&&i.getComputedStyle)return i.getComputedStyle(r).getPropertyValue(e)},Ao={},Ao.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},Ao.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var i={},n=0;n<r.properties.length;n++){var a=r.properties[n],s=r.getStylePropertyValue(e,a.name,t);s!=null&&(i[a.name]=s,i[nv(a.name)]=s)}return i}},Ao.getIndexedStyle=function(e,t,r,i){var n=e.pstyle(t)[r][i];return n!=null?n:e.cy().style().getDefaultProperty(t)[r][0]},Ao.getStylePropertyValue=function(e,t,r){var i=this;if(e=e[0],e){var n=i.properties[t];n.alias&&(n=n.pointsTo);var a=n.type,s=e.pstyle(n.name);if(s){var o=s.value,u=s.units,h=s.strValue;if(r&&a.number&&o!=null&&bt(o)){var d=e.cy().zoom(),p=l(function(x){return x*d},"getRenderedValue"),g=l(function(x,T){return p(x)+T},"getValueStringWithUnits"),f=Qr(o),m=f?u.every(function(x){return x!=null}):u!=null;return m?f?o.map(function(x,T){return g(x,u[T])}).join(" "):g(o,u):f?o.map(function(x){return Ht(x)?x:""+p(x)}).join(" "):""+p(o)}else if(h!=null)return h}return null}},Ao.getAnimationStartStyle=function(e,t){for(var r={},i=0;i<t.length;i++){var n=t[i],a=n.name,s=e.pstyle(a);s!==void 0&&(Nr(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(r[a]=s)}return r},Ao.getPropsList=function(e){var t=this,r=[],i=e,n=t.properties;if(i)for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],u=i[o],h=n[o]||n[Vw(o)],d=this.parse(h.name,u);d&&r.push(d)}return r},Ao.getNonDefaultPropertiesHash=function(e,t,r){var i=r.slice(),n,a,s,o,u,h;for(u=0;u<t.length;u++)if(n=t[u],a=e.pstyle(n,!1),a!=null)if(a.pfValue!=null)i[0]=g1(o,i[0]),i[1]=f1(o,i[1]);else for(s=a.strValue,h=0;h<s.length;h++)o=s.charCodeAt(h),i[0]=g1(o,i[0]),i[1]=f1(o,i[1]);return i},Ao.getPropertiesHash=Ao.getNonDefaultPropertiesHash,Dv={},Dv.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var i=e[r],n=i.selector,a=i.style||i.css,s=Object.keys(a);t.selector(n);for(var o=0;o<s.length;o++){var u=s[o],h=a[u];t.css(u,h)}}return t},Dv.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},Dv.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],i=r.selector,n=r.properties,a={},s=0;s<n.length;s++){var o=n[s];a[o.name]=o.strValue}e.push({selector:i?i.toString():"core",style:a})}return e},bk={},bk.appendFromString=function(e){var t=this,r=this,i=""+e,n,a,s;i=i.replace(/[/][*](\s|.)+?[*][/]/g,"");function o(){i.length>n.length?i=i.substr(n.length):i=""}l(o,"removeSelAndBlockFromRemaining");function u(){a.length>s.length?a=a.substr(s.length):a=""}for(l(u,"removePropAndValFromRem");;){var h=i.match(/^\s*$/);if(h)break;var d=i.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!d){Ur("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+i);break}n=d[0];var p=d[1];if(p!=="core"){var g=new Ic(p);if(g.invalid){Ur("Skipping parsing of block: Invalid selector found in string stylesheet: "+p),o();continue}}var f=d[2],m=!1;a=f;for(var x=[];;){var T=a.match(/^\s*$/);if(T)break;var k=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!k){Ur("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+f),m=!0;break}s=k[0];var E=k[1],S=k[2],L=t.properties[E];if(!L){Ur("Skipping property: Invalid property name in: "+s),u();continue}var b=r.parse(E,S);if(!b){Ur("Skipping property: Invalid property definition in: "+s),u();continue}x.push({name:E,val:S}),u()}if(m){o();break}r.selector(p);for(var y=0;y<x.length;y++){var v=x[y];r.css(v.name,v.val)}o()}return r},bk.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t},qi={},(function(){var e=an,t=J3e,r=t5e,i=r5e,n=i5e,a=l(function(J){return"^"+J+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},"data"),s=l(function(J){var Y=e+"|\\w+|"+t+"|"+r+"|"+i+"|"+n;return"^"+J+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+Y+")\\s*\\,\\s*("+Y+")\\)$"},"mapData"),o=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];qi.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:o,singleRegexMatchValue:!0},urls:{regexes:o,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:l(function(J,Y){switch(J.length){case 2:return Y[0]!=="deg"&&Y[0]!=="rad"&&Y[1]!=="deg"&&Y[1]!=="rad";case 1:return Ht(J[0])||Y[0]==="deg"||Y[0]==="rad";default:return!1}},"validate")},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:l(function(J){var Y=J.length;return Y===1||Y===2||Y===4},"validate")}};var u={zeroNonZero:l(function(J,Y){return(J==null||Y==null)&&J!==Y||J==0&&Y!=0?!0:J!=0&&Y==0},"zeroNonZero"),any:l(function(J,Y){return J!=Y},"any"),emptyNonEmpty:l(function(J,Y){var X=Ec(J),te=Ec(Y);return X&&!te||!X&&te},"emptyNonEmpty")},h=qi.types,d=[{name:"label",type:h.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any}],p=[{name:"source-label",type:h.text,triggersBounds:u.any},{name:"source-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:h.size,triggersBounds:u.any}],g=[{name:"target-label",type:h.text,triggersBounds:u.any},{name:"target-text-rotation",type:h.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:h.size,triggersBounds:u.any}],f=[{name:"font-family",type:h.fontFamily,triggersBounds:u.any},{name:"font-style",type:h.fontStyle,triggersBounds:u.any},{name:"font-weight",type:h.fontWeight,triggersBounds:u.any},{name:"font-size",type:h.size,triggersBounds:u.any},{name:"text-transform",type:h.textTransform,triggersBounds:u.any},{name:"text-wrap",type:h.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:h.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:h.size,triggersBounds:u.any},{name:"text-outline-width",type:h.size,triggersBounds:u.any},{name:"line-height",type:h.positiveNumber,triggersBounds:u.any}],m=[{name:"text-valign",type:h.valign,triggersBounds:u.any},{name:"text-halign",type:h.halign,triggersBounds:u.any},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",type:h.zeroOneNumber},{name:"text-background-padding",type:h.size,triggersBounds:u.any},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size,triggersBounds:u.any},{name:"text-border-style",type:h.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:h.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:h.justification},{name:"box-select-labels",type:h.bool,triggersBounds:u.any}],x=[{name:"events",type:h.bool,triggersZOrder:u.any},{name:"text-events",type:h.bool,triggersZOrder:u.any},{name:"box-selection",type:h.boxSelection,triggersZOrder:u.any}],T=[{name:"display",type:h.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:u.any,triggersBoundsOfParallelEdges:l(function(J,Y,X){return J===Y?!1:X.pstyle("curve-style").value==="bezier"},"triggersBoundsOfParallelEdges")},{name:"visibility",type:h.visibility,triggersZOrder:u.any},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:h.zeroOneNumber},{name:"min-zoomed-font-size",type:h.size},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:h.number,triggersZOrder:u.any}],k=[{name:"overlay-padding",type:h.size,triggersBounds:u.any},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:h.cornerRadius}],E=[{name:"underlay-padding",type:h.size,triggersBounds:u.any},{name:"underlay-color",type:h.color},{name:"underlay-opacity",type:h.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:h.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:h.cornerRadius}],S=[{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing}],L=l(function(J,Y){return Y.value==="label"?-J.poolIndex():Y.pfValue},"nodeSizeHashOverride"),b=[{name:"height",type:h.nodeSize,triggersBounds:u.any,hashOverride:L},{name:"width",type:h.nodeSize,triggersBounds:u.any,hashOverride:L},{name:"shape",type:h.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:h.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:h.cornerRadius},{name:"background-color",type:h.color},{name:"background-fill",type:h.fill},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"background-gradient-stop-colors",type:h.colors},{name:"background-gradient-stop-positions",type:h.percentages},{name:"background-gradient-direction",type:h.gradientDirection},{name:"padding",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:h.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:h.boundsExpansion,triggersBounds:u.any}],y=[{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size,triggersBounds:u.any},{name:"border-style",type:h.borderStyle},{name:"border-cap",type:h.lineCap},{name:"border-join",type:h.lineJoin},{name:"border-dash-pattern",type:h.numbers},{name:"border-dash-offset",type:h.number},{name:"border-position",type:h.linePosition}],v=[{name:"outline-color",type:h.color},{name:"outline-opacity",type:h.zeroOneNumber},{name:"outline-width",type:h.size,triggersBounds:u.any},{name:"outline-style",type:h.borderStyle},{name:"outline-offset",type:h.size,triggersBounds:u.any}],w=[{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},{name:"background-image-containment",type:h.bgContainment},{name:"background-image-smoothing",type:h.bools},{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"background-offset-x",type:h.bgPos},{name:"background-offset-y",type:h.bgPos}],C=[{name:"position",type:h.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:h.size,triggersBounds:u.any},{name:"min-width-bias-left",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:h.size,triggersBounds:u.any},{name:"min-height-bias-top",type:h.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:h.sizeMaybePercent,triggersBounds:u.any}],A=[{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"line-fill",type:h.fill},{name:"line-cap",type:h.lineCap},{name:"line-opacity",type:h.zeroOneNumber},{name:"line-dash-pattern",type:h.numbers},{name:"line-dash-offset",type:h.number},{name:"line-outline-width",type:h.size},{name:"line-outline-color",type:h.color},{name:"line-gradient-stop-colors",type:h.colors},{name:"line-gradient-stop-positions",type:h.percentages},{name:"curve-style",type:h.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelEdges:l(function(J,Y){return J===Y?!1:J==="bezier"||Y==="bezier"},"triggersBoundsOfParallelEdges")},{name:"haystack-radius",type:h.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:h.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:h.size,triggersBounds:u.any},{name:"control-point-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-distances",type:h.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:h.numbers,triggersBounds:u.any},{name:"segment-radii",type:h.numbers,triggersBounds:u.any},{name:"radius-type",type:h.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:h.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:h.size,triggersBounds:u.any},{name:"taxi-direction",type:h.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:h.number,triggersBounds:u.any},{name:"edge-distances",type:h.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:h.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:h.angle,triggersBounds:u.any},{name:"loop-sweep",type:h.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:h.size,triggersBounds:u.any},{name:"target-distance-from-node",type:h.size,triggersBounds:u.any}],M=[{name:"ghost",type:h.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:h.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:h.zeroOneNumber}],N=[{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}],O=[];qi.pieBackgroundN=16,O.push({name:"pie-size",type:h.sizeMaybePercent}),O.push({name:"pie-hole",type:h.sizeMaybePercent}),O.push({name:"pie-start-angle",type:h.angle});for(var _=1;_<=qi.pieBackgroundN;_++)O.push({name:"pie-"+_+"-background-color",type:h.color}),O.push({name:"pie-"+_+"-background-size",type:h.percent}),O.push({name:"pie-"+_+"-background-opacity",type:h.zeroOneNumber});var I=[];qi.stripeBackgroundN=16,I.push({name:"stripe-size",type:h.sizeMaybePercent}),I.push({name:"stripe-direction",type:h.axisDirectionPrimary});for(var R=1;R<=qi.stripeBackgroundN;R++)I.push({name:"stripe-"+R+"-background-color",type:h.color}),I.push({name:"stripe-"+R+"-background-size",type:h.percent}),I.push({name:"stripe-"+R+"-background-opacity",type:h.zeroOneNumber});var P=[],D=qi.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill},{name:"arrow-width",type:h.arrowWidth}].forEach(function(J){D.forEach(function(Y){var X=Y+"-"+J.name,te=J.type,ce=J.triggersBounds;P.push({name:X,type:te,triggersBounds:ce})})},{});var $=qi.properties=[].concat(x,S,T,k,E,M,m,f,d,p,g,b,y,v,w,O,I,C,A,P,N),F=qi.propertyGroups={behavior:x,transition:S,visibility:T,overlay:k,underlay:E,ghost:M,commonLabel:m,labelDimensions:f,mainLabel:d,sourceLabel:p,targetLabel:g,nodeBody:b,nodeBorder:y,nodeOutline:v,backgroundImage:w,pie:O,stripe:I,compound:C,edgeLine:A,edgeArrow:P,core:N},z=qi.propertyGroupNames={},U=qi.propertyGroupKeys=Object.keys(F);U.forEach(function(J){z[J]=F[J].map(function(Y){return Y.name}),F[J].forEach(function(Y){return Y.groupKey=J})});var j=qi.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];qi.propertyNames=$.map(function(J){return J.name});for(var H=0;H<$.length;H++){var Q=$[H];$[Q.name]=Q}for(var re=0;re<j.length;re++){var le=j[re],oe=$[le.pointsTo],W={name:le.name,alias:!0,pointsTo:oe};$.push(W),$[le.name]=W}})(),qi.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},qi.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=er({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=qi.pieBackgroundN;d++){var p=h.name.replace("{{i}}",d),g=h.value;u[p]=g}return u},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(u,h){for(var d=1;d<=qi.stripeBackgroundN;d++){var p=h.name.replace("{{i}}",d),g=h.value;u[p]=g}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,h){return qi.arrowPrefixes.forEach(function(d){var p=d+"-"+h.name,g=h.value;u[p]=g}),u},{})),r={},i=0;i<this.properties.length;i++){var n=this.properties[i];if(!n.pointsTo){var a=n.name,s=t[a],o=this.parse(a,s);r[a]=o}}return e.defaultProperties=r,e.defaultProperties},qi.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length},Rv={},Rv.parse=function(e,t,r,i){var n=this;if(vi(t))return n.parseImplWarn(e,t,r,i);var a=i==="mapping"||i===!0||i===!1||i==null?"dontcare":i,s=r?"t":"f",o=""+t,u=yR(e,o,s,a),h=n.propCache=n.propCache||[],d;return(d=h[u])||(d=h[u]=n.parseImplWarn(e,t,r,i)),(r||i==="mapping")&&(d=So(d),d&&(d.value=So(d.value))),d},Rv.parseImplWarn=function(e,t,r,i){var n=this.parseImpl(e,t,r,i);return!n&&t!=null&&Ur("The style property `".concat(e,": ").concat(t,"` is invalid")),n&&(n.name==="width"||n.name==="height")&&t==="label"&&Ur("The style value of `label` is deprecated for `"+n.name+"`"),n},Rv.parseImpl=function(e,t,r,i){var n=this;e=Vw(e);var a=n.properties[e],s=t,o=n.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var u=Ht(t);u&&(t=t.trim());var h=a.type;if(!h)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(vi(t))return{name:e,value:t,strValue:"fn",mapped:o.fn,bypass:r};var d,p;if(!(!u||i||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(d=new RegExp(o.data.regex).exec(t))){if(r)return!1;var g=o.data;return{name:e,value:d,strValue:""+t,mapped:g,field:d[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(p=new RegExp(o.mapData.regex).exec(t))){if(r||h.multiple)return!1;var f=o.mapData;if(!(h.color||h.number))return!1;var m=this.parse(e,p[4]);if(!m||m.mapped)return!1;var x=this.parse(e,p[5]);if(!x||x.mapped)return!1;if(m.pfValue===x.pfValue||m.strValue===x.strValue)return Ur("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(h.color){var T=m.value,k=x.value,E=T[0]===k[0]&&T[1]===k[1]&&T[2]===k[2]&&(T[3]===k[3]||(T[3]==null||T[3]===1)&&(k[3]==null||k[3]===1));if(E)return!1}return{name:e,value:p,strValue:""+t,mapped:f,field:p[1],fieldMin:parseFloat(p[2]),fieldMax:parseFloat(p[3]),valueMin:m.value,valueMax:x.value,bypass:r}}}if(h.multiple&&i!=="multiple"){var S;if(u?S=t.split(/\s+/):Qr(t)?S=t:S=[t],h.evenMultiple&&S.length%2!==0)return null;for(var L=[],b=[],y=[],v="",w=!1,C=0;C<S.length;C++){var A=n.parse(e,S[C],r,"multiple");w=w||Ht(A.value),L.push(A.value),y.push(A.pfValue!=null?A.pfValue:A.value),b.push(A.units),v+=(C>0?" ":"")+A.strValue}return h.validate&&!h.validate(L,b)?null:h.singleEnum&&w?L.length===1&&Ht(L[0])?{name:e,value:L[0],strValue:L[0],bypass:r}:null:{name:e,value:L,pfValue:y,strValue:v,bypass:r,units:b}}var M=l(function(){for(var oe=0;oe<h.enums.length;oe++){var W=h.enums[oe];if(W===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null},"checkEnums");if(h.number){var N,O="px";if(h.units&&(N=h.units),h.implicitUnits&&(O=h.implicitUnits),!h.unitless)if(u){var _="px|em"+(h.allowPercent?"|\\%":"");N&&(_=N);var I=t.match("^("+an+")("+_+")?$");I&&(t=I[1],N=I[2]||O)}else(!N||h.implicitUnits)&&(N=O);if(t=parseFloat(t),isNaN(t)&&h.enums===void 0)return null;if(isNaN(t)&&h.enums!==void 0)return t=s,M();if(h.integer&&!V3e(t)||h.min!==void 0&&(t<h.min||h.strictMin&&t===h.min)||h.max!==void 0&&(t>h.max||h.strictMax&&t===h.max))return null;var R={name:e,value:t,strValue:""+t+(N||""),units:N,bypass:r};return h.unitless||N!=="px"&&N!=="em"?R.pfValue=t:R.pfValue=N==="px"||!N?t:this.getEmSizeInPixels()*t,(N==="ms"||N==="s")&&(R.pfValue=N==="ms"?t:1e3*t),(N==="deg"||N==="rad")&&(R.pfValue=N==="rad"?t:s6e(t)),N==="%"&&(R.pfValue=t/100),R}else if(h.propList){var P=[],D=""+t;if(D!=="none"){for(var $=D.split(/\s*,\s*|\s+/),F=0;F<$.length;F++){var z=$[F].trim();n.properties[z]?P.push(z):Ur("`"+z+"` is not a valid property name")}if(P.length===0)return null}return{name:e,value:P,strValue:P.length===0?"none":P.join(" "),bypass:r}}else if(h.color){var U=KD(t);return U?{name:e,value:U,pfValue:U,strValue:"rgb("+U[0]+","+U[1]+","+U[2]+")",bypass:r}:null}else if(h.regex||h.regexes){if(h.enums){var j=M();if(j)return j}for(var H=h.regexes?h.regexes:[h.regex],Q=0;Q<H.length;Q++){var re=new RegExp(H[Q]),le=re.exec(t);if(le)return{name:e,value:h.singleRegexMatchValue?le[1]:le,strValue:""+t,bypass:r}}return null}else return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?M():null},bn=l(function(e){if(!(this instanceof bn))return new bn(e);if(!Hw(e)){di("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},"Style"),jn=bn.prototype,jn.instanceString=function(){return"style"},jn.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),i=0;i<this.length;i++)this[i]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(n){var a=n[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this},jn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},jn.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},jn.selector=function(e){var t=e==="core"?null:new Ic(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},jn.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],i=0;i<e.properties.length;i++){var n=e.properties[i],a=r[n.name];a===void 0&&(a=r[nv(n.name)]),a!==void 0&&this.cssRule(n.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this},jn.style=jn.css,jn.cssRule=function(e,t){var r=this.parse(e,t);if(r){var i=this.length-1;this[i].properties.push(r),this[i].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[i].mappedProperties.push(r);var n=!this[i].selector;n&&(this._private.coreStyle[r.name]=r)}return this},jn.append=function(e){return VD(e)?e.appendToStyle(this):Qr(e)?this.appendFromJson(e):Ht(e)&&this.appendFromString(e),this},bn.fromJson=function(e,t){var r=new bn(e);return r.fromJson(t),r},bn.fromString=function(e,t){return new bn(e).fromString(t)},[vn,S1,vk,Ao,Dv,bk,qi,Rv].forEach(function(e){er(jn,e)}),bn.types=jn.types,bn.properties=jn.properties,bn.propertyGroups=jn.propertyGroups,bn.propertyGroupNames=jn.propertyGroupNames,bn.propertyGroupKeys=jn.propertyGroupKeys,yTe={style:l(function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},"style"),setStyle:l(function(e){var t=this._private;return VD(e)?t.style=e.generateStyle(this):Qr(e)?t.style=bn.fromJson(this,e):Ht(e)?t.style=bn.fromString(this,e):t.style=bn(this),t.style},"setStyle"),updateStyle:l(function(){this.mutableElements().updateStyle()},"updateStyle")},vTe="single",ch={autolock:l(function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},"autolock"),autoungrabify:l(function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},"autoungrabify"),autounselectify:l(function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},"autounselectify"),selectionType:l(function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=vTe),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},"selectionType"),panningEnabled:l(function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},"panningEnabled"),userPanningEnabled:l(function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},"userPanningEnabled"),zoomingEnabled:l(function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},"zoomingEnabled"),userZoomingEnabled:l(function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},"userZoomingEnabled"),boxSelectionEnabled:l(function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},"boxSelectionEnabled"),pan:l(function(){var e=arguments,t=this._private.pan,r,i,n,a,s;switch(e.length){case 0:return t;case 1:if(Ht(e[0]))return r=e[0],t[r];if(Nr(e[0])){if(!this._private.panningEnabled)return this;n=e[0],a=n.x,s=n.y,bt(a)&&(t.x=a),bt(s)&&(t.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=e[0],i=e[1],(r==="x"||r==="y")&&bt(i)&&(t[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},"pan"),panBy:l(function(e,t){var r=arguments,i=this._private.pan,n,a,s,o,u;if(!this._private.panningEnabled)return this;switch(r.length){case 1:Nr(e)&&(s=r[0],o=s.x,u=s.y,bt(o)&&(i.x+=o),bt(u)&&(i.y+=u),this.emit("pan viewport"));break;case 2:n=e,a=t,(n==="x"||n==="y")&&bt(a)&&(i[n]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},"panBy"),gc:l(function(){this.notify("gc")},"gc"),fit:l(function(e,t){var r=this.getFitViewport(e,t);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},"fit"),getFitViewport:l(function(e,t){if(bt(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(Ht(e)){var i=e;e=this.$(i)}else if(X3e(e)){var n=e;r={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else Ka(e)||(e=this.mutableElements());if(!(Ka(e)&&e.empty())){r=r||e.boundingBox();var a=this.width(),s=this.height(),o;if(t=bt(t)?t:0,!isNaN(a)&&!isNaN(s)&&a>0&&s>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){o=Math.min((a-2*t)/r.w,(s-2*t)/r.h),o=o>this._private.maxZoom?this._private.maxZoom:o,o=o<this._private.minZoom?this._private.minZoom:o;var u={x:(a-o*(r.x1+r.x2))/2,y:(s-o*(r.y1+r.y2))/2};return{zoom:o,pan:u}}}}},"getFitViewport"),zoomRange:l(function(e,t){var r=this._private;if(t==null){var i=e;e=i.min,t=i.max}return bt(e)&&bt(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):bt(e)&&t===void 0&&e<=r.maxZoom?r.minZoom=e:bt(t)&&e===void 0&&t>=r.minZoom&&(r.maxZoom=t),this},"zoomRange"),minZoom:l(function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},"minZoom"),maxZoom:l(function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},"maxZoom"),getZoomedViewport:l(function(e){var t=this._private,r=t.pan,i=t.zoom,n,a,s=!1;if(t.zoomingEnabled||(s=!0),bt(e)?a=e:Nr(e)&&(a=e.level,e.position!=null?n=uv(e.position,i,r):e.renderedPosition!=null&&(n=e.renderedPosition),n!=null&&!t.panningEnabled&&(s=!0)),a=a>t.maxZoom?t.maxZoom:a,a=a<t.minZoom?t.minZoom:a,s||!bt(a)||a===i||n!=null&&(!bt(n.x)||!bt(n.y)))return null;if(n!=null){var o=r,u=i,h=a,d={x:-h/u*(n.x-o.x)+n.x,y:-h/u*(n.y-o.y)+n.y};return{zoomed:!0,panned:!0,zoom:h,pan:d}}else return{zoomed:!0,panned:!1,zoom:a,pan:r}},"getZoomedViewport"),zoom:l(function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return t==null||!t.zoomed?this:(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},"zoom"),viewport:l(function(e){var t=this._private,r=!0,i=!0,n=[],a=!1,s=!1;if(!e)return this;if(bt(e.zoom)||(r=!1),Nr(e.pan)||(i=!1),!r&&!i)return this;if(r){var o=e.zoom;o<t.minZoom||o>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=o,n.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;bt(u.x)&&(t.pan.x=u.x,s=!1),bt(u.y)&&(t.pan.y=u.y,s=!1),s||n.push("pan")}return n.length>0&&(n.push("viewport"),this.emit(n.join(" ")),this.notify("viewport")),this},"viewport"),center:l(function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},"center"),getCenterPan:l(function(e,t){if(this._private.panningEnabled){if(Ht(e)){var r=e;e=this.mutableElements().filter(r)}else Ka(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),n=this.width(),a=this.height();t=t===void 0?this._private.zoom:t;var s={x:(n-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2};return s}}},"getCenterPan"),reset:l(function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},"reset"),invalidateSize:l(function(){this._private.sizeCache=null},"invalidateSize"),size:l(function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?(function(){var i=r.window().getComputedStyle(t),n=l(function(a){return parseFloat(i.getPropertyValue(a))},"val");return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}})():{width:1,height:1})},"size"),width:l(function(){return this.size().width},"width"),height:l(function(){return this.size().height},"height"),extent:l(function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},"extent"),renderedExtent:l(function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},"renderedExtent"),multiClickDebounceTime:l(function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this},"multiClickDebounceTime")},ch.centre=ch.center,ch.autolockNodes=ch.autolock,ch.autoungrabifyNodes=ch.autoungrabify,_1={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})},_1.attr=_1.data,_1.removeAttr=_1.removeData,A1=l(function(e){var t=this;e=er({},e);var r=e.container;r&&!iv(r)&&iv(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var n=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=t;var a=nn!==void 0&&r!==void 0&&!e.headless,s=e;s.layout=er({name:a?"grid":"null"},s.layout),s.renderer=er({name:a?"canvas":"null"},s.renderer);var o=l(function(g,f,m){return f!==void 0?f:m!==void 0?m:g},"defVal"),u=this._private={container:r,ready:!1,options:s,elements:new _n(this),listeners:[],aniEles:new _n(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:o(!0,s.zoomingEnabled),userZoomingEnabled:o(!0,s.userZoomingEnabled),panningEnabled:o(!0,s.panningEnabled),userPanningEnabled:o(!0,s.userPanningEnabled),boxSelectionEnabled:o(!0,s.boxSelectionEnabled),autolock:o(!1,s.autolock,s.autolockNodes),autoungrabify:o(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:o(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?a:s.styleEnabled,zoom:bt(s.zoom)?s.zoom:1,pan:{x:Nr(s.pan)&&bt(s.pan.x)?s.pan.x:0,y:Nr(s.pan)&&bt(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:o(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var h=l(function(g,f){var m=g.some(K3e);if(m)return Hd.all(g).then(f);f(g)},"loadExtData");u.styleEnabled&&t.setStyle([]);var d=er({},s,s.renderer);t.initRenderer(d);var p=l(function(g,f,m){t.notifications(!1);var x=t.mutableElements();x.length>0&&x.remove(),g!=null&&(Nr(g)||Qr(g))&&t.add(g),t.one("layoutready",function(k){t.notifications(!0),t.emit(k),t.one("load",f),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",m),t.emit("done")});var T=er({},t._private.options.layout);T.eles=t.elements(),t.layout(T).run()},"setElesAndLayout");h([s.style,s.elements],function(g){var f=g[0],m=g[1];u.styleEnabled&&t.style().append(f),p(m,function(){t.startAnimationLoop(),u.ready=!0,vi(s.ready)&&t.on("ready",s.ready);for(var x=0;x<n.length;x++){var T=n[x];t.on("ready",T)}i&&(i.readies=[]),t.emit("ready")},s.done)})},"Core"),Ov=A1.prototype,er(Ov,{instanceString:l(function(){return"core"},"instanceString"),isReady:l(function(){return this._private.ready},"isReady"),destroyed:l(function(){return this._private.destroyed},"destroyed"),ready:l(function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},"ready"),destroy:l(function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},"destroy"),hasElementWithId:l(function(e){return this._private.elements.hasElementWithId(e)},"hasElementWithId"),getElementById:l(function(e){return this._private.elements.getElementById(e)},"getElementById"),hasCompoundNodes:l(function(){return this._private.hasCompoundNodes},"hasCompoundNodes"),headless:l(function(){return this._private.renderer.isHeadless()},"headless"),styleEnabled:l(function(){return this._private.styleEnabled},"styleEnabled"),addToPool:l(function(e){return this._private.elements.merge(e),this},"addToPool"),removeFromPool:l(function(e){return this._private.elements.unmerge(e),this},"removeFromPool"),container:l(function(){return this._private.container||null},"container"),window:l(function(){var e=this._private.container;if(e==null)return nn;var t=this._private.container.ownerDocument;return t===void 0||t==null?nn:t.defaultView||nn},"window"),mount:l(function(e){if(e!=null){var t=this,r=t._private,i=r.options;return!iv(e)&&iv(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(er({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},"mount"),unmount:l(function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},"unmount"),options:l(function(){return So(this._private.options)},"options"),json:l(function(e){var t=this,r=t._private,i=t.mutableElements(),n=l(function(E){return t.getElementById(E.id())},"getFreshRef");if(Nr(e)){if(t.startBatch(),e.elements){var a={},s=l(function(E,S){for(var L=[],b=[],y=0;y<E.length;y++){var v=E[y];if(!v.data.id){Ur("cy.json() cannot handle elements without an ID attribute");continue}var w=""+v.data.id,C=t.getElementById(w);a[w]=!0,C.length!==0?b.push({ele:C,json:v}):(S&&(v.group=S),L.push(v))}t.add(L);for(var A=0;A<b.length;A++){var M=b[A],N=M.ele,O=M.json;N.json(O)}},"updateEles");if(Qr(e.elements))s(e.elements);else for(var o=["nodes","edges"],u=0;u<o.length;u++){var h=o[u],d=e.elements[h];Qr(d)&&s(d,h)}var p=t.collection();i.filter(function(E){return!a[E.id()]}).forEach(function(E){E.isParent()?p.merge(E):E.remove()}),p.forEach(function(E){return E.children().move({parent:null})}),p.forEach(function(E){return n(E).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==r.pan.x||e.pan.y!==r.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var g=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],f=0;f<g.length;f++){var m=g[f];e[m]!=null&&t[m](e[m])}return t.endBatch(),this}else{var x=!!e,T={};x?T.elements=this.elements().map(function(E){return E.json()}):(T.elements={},i.forEach(function(E){var S=E.group();T.elements[S]||(T.elements[S]=[]),T.elements[S].push(E.json())})),this._private.styleEnabled&&(T.style=t.style().json()),T.data=So(t.data());var k=r.options;return T.zoomingEnabled=r.zoomingEnabled,T.userZoomingEnabled=r.userZoomingEnabled,T.zoom=r.zoom,T.minZoom=r.minZoom,T.maxZoom=r.maxZoom,T.panningEnabled=r.panningEnabled,T.userPanningEnabled=r.userPanningEnabled,T.pan=So(r.pan),T.boxSelectionEnabled=r.boxSelectionEnabled,T.renderer=So(k.renderer),T.hideEdgesOnViewport=k.hideEdgesOnViewport,T.textureOnViewport=k.textureOnViewport,T.wheelSensitivity=k.wheelSensitivity,T.motionBlur=k.motionBlur,T.multiClickDebounceTime=k.multiClickDebounceTime,T}},"json")}),Ov.$id=Ov.getElementById,[uTe,dTe,SP,mk,Mv,gTe,yk,Iv,yTe,ch,_1].forEach(function(e){er(Ov,e)}),bTe={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},xTe={maximal:!1,acyclic:!1},Xd=l(function(e){return e.scratch("breadthfirst")},"getInfo"),_P=l(function(e,t){return e.scratch("breadthfirst",t)},"setInfo"),l(bD,"BreadthFirstLayout"),bD.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,i=r.nodes().filter(function(he){return he.isChildless()}),n=r,a=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,o=!!e.boundingBox,u=oa(o?e.boundingBox:structuredClone(t.extent())),h;if(Ka(e.roots))h=e.roots;else if(Qr(e.roots)){for(var d=[],p=0;p<e.roots.length;p++){var g=e.roots[p],f=t.getElementById(g);d.push(f)}h=t.collection(d)}else if(Ht(e.roots))h=t.$(e.roots);else if(a)h=i.roots();else{var m=r.components();h=t.collection();for(var x=l(function(){var he=m[T],Ne=he.maxDegree(!1),Pe=he.filter(function(He){return He.degree(!1)===Ne});h=h.add(Pe)},"_loop"),T=0;T<m.length;T++)x()}var k=[],E={},S=l(function(he,Ne){k[Ne]==null&&(k[Ne]=[]);var Pe=k[Ne].length;k[Ne].push(he),_P(he,{index:Pe,depth:Ne})},"addToDepth"),L=l(function(he,Ne){var Pe=Xd(he),He=Pe.depth,qe=Pe.index;k[He][qe]=null,he.isChildless()&&S(he,Ne)},"changeDepth");n.bfs({roots:h,directed:e.directed,visit:l(function(he,Ne,Pe,He,qe){var _e=he[0],De=_e.id();_e.isChildless()&&S(_e,qe),E[De]=!0},"visit")});for(var b=[],y=0;y<i.length;y++){var v=i[y];E[v.id()]||b.push(v)}var w=l(function(he){for(var Ne=k[he],Pe=0;Pe<Ne.length;Pe++){var He=Ne[Pe];if(He==null){Ne.splice(Pe,1),Pe--;continue}_P(He,{depth:he,index:Pe})}},"assignDepthsAt"),C=l(function(he,Ne){for(var Pe=Xd(he),He=he.incomers().filter(function(Ve){return Ve.isNode()&&r.has(Ve)}),qe=-1,_e=he.id(),De=0;De<He.length;De++){var ve=He[De],Be=Xd(ve);qe=Math.max(qe,Be.depth)}if(Pe.depth<=qe){if(!e.acyclic&&Ne[_e])return null;var de=qe+1;return L(he,de),Ne[_e]=de,!0}return!1},"adjustMaximally");if(a&&s){var A=[],M={},N=l(function(he){return A.push(he)},"enqueue"),O=l(function(){return A.shift()},"dequeue");for(i.forEach(function(he){return A.push(he)});A.length>0;){var _=O(),I=C(_,M);if(I)_.outgoers().filter(function(he){return he.isNode()&&r.has(he)}).forEach(N);else if(I===null){Ur("Detected double maximal shift for node `"+_.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var R=0;if(e.avoidOverlap)for(var P=0;P<i.length;P++){var D=i[P],$=D.layoutDimensions(e),F=$.w,z=$.h;R=Math.max(R,F,z)}var U={},j=l(function(he){if(U[he.id()])return U[he.id()];for(var Ne=Xd(he).depth,Pe=he.neighborhood(),He=0,qe=0,_e=0;_e<Pe.length;_e++){var De=Pe[_e];if(!(De.isEdge()||De.isParent()||!i.has(De))){var ve=Xd(De);if(ve!=null){var Be=ve.index,de=ve.depth;if(!(Be==null||de==null)){var Ve=k[de].length;de<Ne&&(He+=Be/Ve,qe++)}}}}return qe=Math.max(1,qe),He=He/qe,qe===0&&(He=0),U[he.id()]=He,He},"getWeightedPercent"),H=l(function(he,Ne){var Pe=j(he),He=j(Ne),qe=Pe-He;return qe===0?XD(he.id(),Ne.id()):qe},"sortFn");e.depthSort!==void 0&&(H=e.depthSort);for(var Q=k.length,re=0;re<Q;re++)k[re].sort(H),w(re);for(var le=[],oe=0;oe<b.length;oe++)le.push(b[oe]);var W=l(function(){for(var he=0;he<Q;he++)w(he)},"assignDepths");le.length&&(k.unshift(le),Q=k.length,W());for(var J=0,Y=0;Y<Q;Y++)J=Math.max(k[Y].length,J);var X={x:u.x1+u.w/2,y:u.y1+u.h/2},te=i.reduce(function(he,Ne){return(function(Pe){return{w:he.w===-1?Pe.w:(he.w+Pe.w)/2,h:he.h===-1?Pe.h:(he.h+Pe.h)/2}})(Ne.boundingBox({includeLabels:e.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),ce=Math.max(Q===1?0:o?(u.h-e.padding*2-te.h)/(Q-1):(u.h-e.padding*2-te.h)/(Q+1),R),K=k.reduce(function(he,Ne){return Math.max(he,Ne.length)},0),me=l(function(he){var Ne=Xd(he),Pe=Ne.depth,He=Ne.index;if(e.circle){var qe=Math.min(u.w/2/Q,u.h/2/Q);qe=Math.max(qe,R);var _e=qe*Pe+qe-(Q>0&&k[0].length<=3?qe/2:0),De=2*Math.PI/k[Pe].length*He;return Pe===0&&k[0].length===1&&(_e=1),{x:X.x+_e*Math.cos(De),y:X.y+_e*Math.sin(De)}}else{var ve=k[Pe].length,Be=Math.max(ve===1?0:o?(u.w-e.padding*2-te.w)/((e.grid?K:ve)-1):(u.w-e.padding*2-te.w)/((e.grid?K:ve)+1),R),de={x:X.x+(He+1-(ve+1)/2)*Be,y:X.y+(Pe+1-(Q+1)/2)*ce};return de}},"getPositionTopBottom"),Z={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Z).indexOf(e.direction)===-1&&di("Invalid direction '".concat(e.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Z).join(", ")));var Ae=l(function(he){return p4e(me(he),u,Z[e.direction])},"getPosition");return r.nodes().layoutPositions(this,e,Ae),this},wTe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(xD,"CircleLayout"),xD.prototype.run=function(){var e=this.options,t=e,r=e.cy,i=t.eles,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=i.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=oa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,h=u/Math.max(1,a.length-1),d,p=0,g=0;g<a.length;g++){var f=a[g],m=f.layoutDimensions(t),x=m.w,T=m.h;p=Math.max(p,x,T)}if(bt(t.radius)?d=t.radius:a.length<=1?d=0:d=Math.min(s.h,s.w)/2-p,a.length>1&&t.avoidOverlap){p*=1.75;var k=Math.cos(h)-Math.cos(0),E=Math.sin(h)-Math.sin(0),S=Math.sqrt(p*p/(k*k+E*E));d=Math.max(S,d)}var L=l(function(b,y){var v=t.startAngle+y*h*(n?1:-1),w=d*Math.cos(v),C=d*Math.sin(v),A={x:o.x+w,y:o.y+C};return A},"getPos");return i.nodes().layoutPositions(this,t,L),this},kTe={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:l(function(e){return e.degree()},"concentric"),levelWidth:l(function(e){return e.maxDegree()/4},"levelWidth"),animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(wD,"ConcentricLayout"),wD.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=e.cy,n=t.eles,a=n.nodes().not(":parent"),s=oa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),o={x:s.x1+s.w/2,y:s.y1+s.h/2},u=[],h=0,d=0;d<a.length;d++){var p=a[d],g=void 0;g=t.concentric(p),u.push({value:g,node:p}),p._private.scratch.concentric=g}a.updateStyle();for(var f=0;f<a.length;f++){var m=a[f],x=m.layoutDimensions(t);h=Math.max(h,x.w,x.h)}u.sort(function(ce,K){return K.value-ce.value});for(var T=t.levelWidth(a),k=[[]],E=k[0],S=0;S<u.length;S++){var L=u[S];if(E.length>0){var b=Math.abs(E[0].value-L.value);b>=T&&(E=[],k.push(E))}E.push(L)}var y=h+t.minNodeSpacing;if(!t.avoidOverlap){var v=k.length>0&&k[0].length>1,w=Math.min(s.w,s.h)/2-y,C=w/(k.length+v?1:0);y=Math.min(y,C)}for(var A=0,M=0;M<k.length;M++){var N=k[M],O=t.sweep===void 0?2*Math.PI-2*Math.PI/N.length:t.sweep,_=N.dTheta=O/Math.max(1,N.length-1);if(N.length>1&&t.avoidOverlap){var I=Math.cos(_)-Math.cos(0),R=Math.sin(_)-Math.sin(0),P=Math.sqrt(y*y/(I*I+R*R));A=Math.max(P,A)}N.r=A,A+=y}if(t.equidistant){for(var D=0,$=0,F=0;F<k.length;F++){var z=k[F],U=z.r-$;D=Math.max(D,U)}$=0;for(var j=0;j<k.length;j++){var H=k[j];j===0&&($=H.r),H.r=$,$+=D}}for(var Q={},re=0;re<k.length;re++)for(var le=k[re],oe=le.dTheta,W=le.r,J=0;J<le.length;J++){var Y=le[J],X=t.startAngle+(r?1:-1)*oe*J,te={x:o.x+W*Math.cos(X),y:o.y+W*Math.sin(X)};Q[Y.node.id()]=te}return n.nodes().layoutPositions(this,t,function(ce){var K=ce.id();return Q[K]}),this},TTe={ready:l(function(){},"ready"),stop:l(function(){},"stop"),animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:l(function(e){return 2048},"nodeRepulsion"),nodeOverlap:4,idealEdgeLength:l(function(e){return 32},"idealEdgeLength"),edgeElasticity:l(function(e){return 32},"edgeElasticity"),nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1},l(tv,"CoseLayout"),tv.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?AP=!0:AP=!1;var i=ETe(t,r,e);AP&&zZe(i),e.randomize&&STe(i);var n=ml(),a=l(function(){_Te(i,t,e),e.fit===!0&&t.fit(e.padding)},"refresh"),s=l(function(p){return!(r.stopped||p>=e.numIter||(ATe(i,e),i.temperature=i.temperature*e.coolingFactor,i.temperature<e.minTemp))},"mainLoop"),o=l(function(){if(e.animate===!0||e.animate===!1)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var p=e.eles.nodes(),g=NP(i,e,p);p.layoutPositions(r,e,g)}},"done"),u=0,h=!0;if(e.animate===!0){var d=l(function(){for(var p=0;h&&p<e.refresh;)h=s(u),u++,p++;if(!h)DP(i,e),o();else{var g=ml();g-n>=e.animationThreshold&&a(),sv(d)}},"frame");d()}else{for(;h;)h=s(u),u++;DP(i,e),o()}return this},tv.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},tv.prototype.destroy=function(){return this.thread&&this.thread.stop(),this},ETe=l(function(e,t,r){for(var i=r.eles.edges(),n=r.eles.nodes(),a=oa(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:n.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},o=r.eles.components(),u={},h=0;h<o.length;h++)for(var d=o[h],p=0;p<d.length;p++){var g=d[p];u[g.id()]=h}for(var h=0;h<s.nodeSize;h++){var f=n[h],m=f.layoutDimensions(r),x={};x.isLocked=f.locked(),x.id=f.data("id"),x.parentId=f.data("parent"),x.cmptId=u[f.id()],x.children=[],x.positionX=f.position("x"),x.positionY=f.position("y"),x.offsetX=0,x.offsetY=0,x.height=m.w,x.width=m.h,x.maxX=x.positionX+x.width/2,x.minX=x.positionX-x.width/2,x.maxY=x.positionY+x.height/2,x.minY=x.positionY-x.height/2,x.padLeft=parseFloat(f.style("padding")),x.padRight=parseFloat(f.style("padding")),x.padTop=parseFloat(f.style("padding")),x.padBottom=parseFloat(f.style("padding")),x.nodeRepulsion=vi(r.nodeRepulsion)?r.nodeRepulsion(f):r.nodeRepulsion,s.layoutNodes.push(x),s.idToIndex[x.id]=h}for(var T=[],k=0,E=-1,S=[],h=0;h<s.nodeSize;h++){var f=s.layoutNodes[h],L=f.parentId;L!=null?s.layoutNodes[s.idToIndex[L]].children.push(f.id):(T[++E]=f.id,S.push(f.id))}for(s.graphSet.push(S);k<=E;){var b=T[k++],y=s.idToIndex[b],g=s.layoutNodes[y],v=g.children;if(v.length>0){s.graphSet.push(v);for(var h=0;h<v.length;h++)T[++E]=v[h]}}for(var h=0;h<s.graphSet.length;h++)for(var w=s.graphSet[h],p=0;p<w.length;p++){var C=s.idToIndex[w[p]];s.indexToGraph[C]=h}for(var h=0;h<s.edgeSize;h++){var A=i[h],M={};M.id=A.data("id"),M.sourceId=A.data("source"),M.targetId=A.data("target");var N=vi(r.idealEdgeLength)?r.idealEdgeLength(A):r.idealEdgeLength,O=vi(r.edgeElasticity)?r.edgeElasticity(A):r.edgeElasticity,_=s.idToIndex[M.sourceId],I=s.idToIndex[M.targetId],R=s.indexToGraph[_],P=s.indexToGraph[I];if(R!=P){for(var D=CTe(M.sourceId,M.targetId,s),$=s.graphSet[D],F=0,x=s.layoutNodes[_];$.indexOf(x.id)===-1;)x=s.layoutNodes[s.idToIndex[x.parentId]],F++;for(x=s.layoutNodes[I];$.indexOf(x.id)===-1;)x=s.layoutNodes[s.idToIndex[x.parentId]],F++;N*=F*r.nestingFactor}M.idealLength=N,M.elasticity=O,s.layoutEdges.push(M)}return s},"createLayoutInfo"),CTe=l(function(e,t,r){var i=LP(e,t,0,r);return 2>i.count?0:i.graph},"findLCA"),LP=l(function(e,t,r,i){var n=i.graphSet[r];if(-1<n.indexOf(e)&&-1<n.indexOf(t))return{count:2,graph:r};for(var a=0,s=0;s<n.length;s++){var o=n[s],u=i.idToIndex[o],h=i.layoutNodes[u].children;if(h.length!==0){var d=i.indexToGraph[i.idToIndex[h[0]]],p=LP(e,t,d,i);if(p.count!==0)if(p.count===1){if(a++,a===2)break}else return p}}return{count:a,graph:r}},"findLCA_aux"),STe=l(function(e,t){for(var r=e.clientWidth,i=e.clientHeight,n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*r,a.positionY=Math.random()*i)}},"randomizePositions"),NP=l(function(e,t,r){var i=e.boundingBox,n={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(a){var s=e.layoutNodes[e.idToIndex[a.data("id")]];n.x1=Math.min(n.x1,s.positionX),n.x2=Math.max(n.x2,s.positionX),n.y1=Math.min(n.y1,s.positionY),n.y2=Math.max(n.y2,s.positionY)}),n.w=n.x2-n.x1,n.h=n.y2-n.y1),function(a,s){var o=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var u=n.w===0?.5:(o.positionX-n.x1)/n.w,h=n.h===0?.5:(o.positionY-n.y1)/n.h;return{x:i.x1+u*i.w,y:i.y1+h*i.h}}else return{x:o.positionX,y:o.positionY}}},"getScaleInBoundsFn"),_Te=l(function(e,t,r){var i=r.layout,n=r.eles.nodes(),a=NP(e,r,n);n.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},"refreshPositions"),ATe=l(function(e,t,r){LTe(e,t),ITe(e),DTe(e,t),RTe(e),OTe(e)},"step"),LTe=l(function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var i=e.graphSet[r],n=i.length,a=0;a<n;a++)for(var s=e.layoutNodes[e.idToIndex[i[a]]],o=a+1;o<n;o++){var u=e.layoutNodes[e.idToIndex[i[o]]];NTe(s,u,e,t)}},"calculateNodeForces"),MP=l(function(e){return-1+2*e*Math.random()},"randomDistance"),NTe=l(function(e,t,r,i){var n=e.cmptId,a=t.cmptId;if(!(n!==a&&!r.isCompound)){var s=t.positionX-e.positionX,o=t.positionY-e.positionY,u=1;s===0&&o===0&&(s=MP(u),o=MP(u));var h=MTe(e,t,s,o);if(h>0)var T=i.nodeOverlap*h,x=Math.sqrt(s*s+o*o),k=T*s/x,E=T*o/x;else var d=Pv(e,s,o),p=Pv(t,-1*s,-1*o),g=p.x-d.x,f=p.y-d.y,m=g*g+f*f,x=Math.sqrt(m),T=(e.nodeRepulsion+t.nodeRepulsion)/m,k=T*g/x,E=T*f/x;e.isLocked||(e.offsetX-=k,e.offsetY-=E),t.isLocked||(t.offsetX+=k,t.offsetY+=E)}},"nodeRepulsion"),MTe=l(function(e,t,r,i){if(r>0)var n=e.maxX-t.minX;else var n=t.maxX-e.minX;if(i>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return n>=0&&a>=0?Math.sqrt(n*n+a*a):0},"nodesOverlap"),Pv=l(function(e,t,r){var i=e.positionX,n=e.positionY,a=e.height||1,s=e.width||1,o=r/t,u=a/s,h={};return t===0&&0<r||t===0&&0>r?(h.x=i,h.y=n+a/2,h):0<t&&-1*u<=o&&o<=u?(h.x=i+s/2,h.y=n+s*r/2/t,h):0>t&&-1*u<=o&&o<=u?(h.x=i-s/2,h.y=n-s*r/2/t,h):0<r&&(o<=-1*u||o>=u)?(h.x=i+a*t/2/r,h.y=n+a/2,h):(0>r&&(o<=-1*u||o>=u)&&(h.x=i-a*t/2/r,h.y=n-a/2),h)},"findClippingPoint"),ITe=l(function(e,t){for(var r=0;r<e.edgeSize;r++){var i=e.layoutEdges[r],n=e.idToIndex[i.sourceId],a=e.layoutNodes[n],s=e.idToIndex[i.targetId],o=e.layoutNodes[s],u=o.positionX-a.positionX,h=o.positionY-a.positionY;if(!(u===0&&h===0)){var d=Pv(a,u,h),p=Pv(o,-1*u,-1*h),g=p.x-d.x,f=p.y-d.y,m=Math.sqrt(g*g+f*f),x=Math.pow(i.idealLength-m,2)/i.elasticity;if(m!==0)var T=x*g/m,k=x*f/m;else var T=0,k=0;a.isLocked||(a.offsetX+=T,a.offsetY+=k),o.isLocked||(o.offsetX-=T,o.offsetY-=k)}}},"calculateEdgeForces"),DTe=l(function(e,t){if(t.gravity!==0)for(var r=1,i=0;i<e.graphSet.length;i++){var n=e.graphSet[i],a=n.length;if(i===0)var u=e.clientHeight/2,h=e.clientWidth/2;else var s=e.layoutNodes[e.idToIndex[n[0]]],o=e.layoutNodes[e.idToIndex[s.parentId]],u=o.positionX,h=o.positionY;for(var d=0;d<a;d++){var p=e.layoutNodes[e.idToIndex[n[d]]];if(!p.isLocked){var g=u-p.positionX,f=h-p.positionY,m=Math.sqrt(g*g+f*f);if(m>r){var x=t.gravity*g/m,T=t.gravity*f/m;p.offsetX+=x,p.offsetY+=T}}}}},"calculateGravityForces"),RTe=l(function(e,t){var r=[],i=0,n=-1;for(r.push.apply(r,e.graphSet[0]),n+=e.graphSet[0].length;i<=n;){var a=r[i++],s=e.idToIndex[a],o=e.layoutNodes[s],u=o.children;if(0<u.length&&!o.isLocked){for(var h=o.offsetX,d=o.offsetY,p=0;p<u.length;p++){var g=e.layoutNodes[e.idToIndex[u[p]]];g.offsetX+=h,g.offsetY+=d,r[++n]=u[p]}o.offsetX=0,o.offsetY=0}}},"propagateForces"),OTe=l(function(e,t){for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var n=PTe(i.offsetX,i.offsetY,e.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,IP(i,e)}}for(var r=0;r<e.nodeSize;r++){var i=e.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},"updatePositions"),PTe=l(function(e,t,r){var i=Math.sqrt(e*e+t*t);if(i>r)var n={x:r*e/i,y:r*t/i};else var n={x:e,y:t};return n},"limitForce"),IP=l(function(e,t){var r=e.parentId;if(r!=null){var i=t.layoutNodes[t.idToIndex[r]],n=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,n=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,n=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,n=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,n=!0),n)return IP(i,t)}},"updateAncestryBoundaries"),DP=l(function(e,t){for(var r=e.layoutNodes,i=[],n=0;n<r.length;n++){var a=r[n],s=a.cmptId,o=i[s]=i[s]||[];o.push(a)}for(var u=0,n=0;n<i.length;n++){var h=i[n];if(h){h.x1=1/0,h.x2=-1/0,h.y1=1/0,h.y2=-1/0;for(var d=0;d<h.length;d++){var p=h[d];h.x1=Math.min(h.x1,p.positionX-p.width/2),h.x2=Math.max(h.x2,p.positionX+p.width/2),h.y1=Math.min(h.y1,p.positionY-p.height/2),h.y2=Math.max(h.y2,p.positionY+p.height/2)}h.w=h.x2-h.x1,h.h=h.y2-h.y1,u+=h.w*h.h}}i.sort(function(k,E){return E.w*E.h-k.w*k.h});for(var g=0,f=0,m=0,x=0,T=Math.sqrt(u)*e.clientWidth/e.clientHeight,n=0;n<i.length;n++){var h=i[n];if(h){for(var d=0;d<h.length;d++){var p=h[d];p.isLocked||(p.positionX+=g-h.x1,p.positionY+=f-h.y1)}g+=h.w+t.componentSpacing,m+=h.w+t.componentSpacing,x=Math.max(x,h.h),m>T&&(f+=x+t.componentSpacing,g=0,m=0,x=0)}}},"separateComponents"),BTe={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:l(function(e){},"position"),sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(kD,"GridLayout"),kD.prototype.run=function(){var e=this.options,t=e,r=e.cy,i=t.eles,n=i.nodes().not(":parent");t.sort&&(n=n.sort(t.sort));var a=oa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(a.h===0||a.w===0)i.nodes().layoutPositions(this,t,function(j){return{x:a.x1,y:a.y1}});else{var s=n.size(),o=Math.sqrt(s*a.h/a.w),u=Math.round(o),h=Math.round(a.w/a.h*o),d=l(function(j){if(j==null)return Math.min(u,h);var H=Math.min(u,h);H==u?u=j:h=j},"small"),p=l(function(j){if(j==null)return Math.max(u,h);var H=Math.max(u,h);H==u?u=j:h=j},"large"),g=t.rows,f=t.cols!=null?t.cols:t.columns;if(g!=null&&f!=null)u=g,h=f;else if(g!=null&&f==null)u=g,h=Math.ceil(s/u);else if(g==null&&f!=null)h=f,u=Math.ceil(s/h);else if(h*u>s){var m=d(),x=p();(m-1)*x>=s?d(m-1):(x-1)*m>=s&&p(x-1)}else for(;h*u<s;){var T=d(),k=p();(k+1)*T>=s?p(k+1):d(T+1)}var E=a.w/h,S=a.h/u;if(t.condense&&(E=0,S=0),t.avoidOverlap)for(var L=0;L<n.length;L++){var b=n[L],y=b._private.position;(y.x==null||y.y==null)&&(y.x=0,y.y=0);var v=b.layoutDimensions(t),w=t.avoidOverlapPadding,C=v.w+w,A=v.h+w;E=Math.max(E,C),S=Math.max(S,A)}for(var M={},N=l(function(j,H){return!!M["c-"+j+"-"+H]},"used"),O=l(function(j,H){M["c-"+j+"-"+H]=!0},"use"),_=0,I=0,R=l(function(){I++,I>=h&&(I=0,_++)},"moveToNextCell"),P={},D=0;D<n.length;D++){var $=n[D],F=t.position($);if(F&&(F.row!==void 0||F.col!==void 0)){var z={row:F.row,col:F.col};if(z.col===void 0)for(z.col=0;N(z.row,z.col);)z.col++;else if(z.row===void 0)for(z.row=0;N(z.row,z.col);)z.row++;P[$.id()]=z,O(z.row,z.col)}}var U=l(function(j,H){var Q,re;if(j.locked()||j.isParent())return!1;var le=P[j.id()];if(le)Q=le.col*E+E/2+a.x1,re=le.row*S+S/2+a.y1;else{for(;N(_,I);)R();Q=I*E+E/2+a.x1,re=_*S+S/2+a.y1,O(_,I),R()}return{x:Q,y:re}},"getPos");n.layoutPositions(this,t,U)}return this},$Te={ready:l(function(){},"ready"),stop:l(function(){},"stop")},l(Fw,"NullLayout"),Fw.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},Fw.prototype.stop=function(){return this},FTe={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(TD,"PresetLayout"),TD.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),i=vi(e.positions);function n(a){if(e.positions==null)return t6e(a.position());if(i)return e.positions(a);var s=e.positions[a._private.data.id];return s!=null?s:null}return l(n,"getPosition"),r.layoutPositions(this,e,function(a,s){var o=n(a);return a.locked()||o==null?!1:o}),this},zTe={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:l(function(e,t){return!0},"animateFilter"),ready:void 0,stop:void 0,transform:l(function(e,t){return t},"transform")},l(ED,"RandomLayout"),ED.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,i=oa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),n=l(function(a,s){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}},"getPos");return r.nodes().layoutPositions(this,e,n),this},GTe=[{name:"breadthfirst",impl:bD},{name:"circle",impl:xD},{name:"concentric",impl:wD},{name:"cose",impl:tv},{name:"grid",impl:kD},{name:"null",impl:Fw},{name:"preset",impl:TD},{name:"random",impl:ED}],l(CD,"NullRenderer"),RP=l(function(){},"noop"),OP=l(function(){throw new Error("A headless instance can not render images")},"throwImgErr"),CD.prototype={recalculateRenderedStyle:RP,notify:l(function(){this.notifications++},"notify"),init:RP,isHeadless:l(function(){return!0},"isHeadless"),png:OP,jpg:OP},xk={},xk.arrowShapeWidth=.3,xk.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=l(function(u,h,d,p,g,f,m){var x=g.x-d/2-m,T=g.x+d/2+m,k=g.y-d/2-m,E=g.y+d/2+m,S=x<=u&&u<=T&&k<=h&&h<=E;return S},"bbCollide"),i=l(function(u,h,d,p,g){var f=u*Math.cos(p)-h*Math.sin(p),m=u*Math.sin(p)+h*Math.cos(p),x=f*d,T=m*d,k=x+g.x,E=T+g.y;return{x:k,y:E}},"transform"),n=l(function(u,h,d,p){for(var g=[],f=0;f<u.length;f+=2){var m=u[f],x=u[f+1];g.push(i(m,x,h,d,p))}return g},"transformPoints"),a=l(function(u){for(var h=[],d=0;d<u.length;d++){var p=u[d];h.push(p.x,p.y)}return h},"pointsToArr"),s=l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},"standardGap"),o=l(function(u,h){Ht(h)&&(h=e[h]),e[u]=er({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:l(function(d,p,g,f,m,x){var T=a(n(this.points,g+2*x,f,m)),k=Ia(d,p,T);return k},"collide"),roughCollide:r,draw:l(function(d,p,g,f){var m=n(this.points,p,g,f);t.arrowShapeImpl("polygon")(d,m)},"draw"),spacing:l(function(d){return 0},"spacing"),gap:s},h)},"defineArrowShape");o("none",{collide:lv,roughCollide:lv,draw:Xw,spacing:xR,gap:xR}),o("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),o("arrow","triangle"),o("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=this.controlPoint,x=i(m[0],m[1],h,d,p);t.arrowShapeImpl(this.name)(u,f,x)},"draw"),gap:l(function(u){return s(u)*.8},"gap")}),o("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:l(function(u,h,d,p,g,f,m){var x=a(n(this.points,d+2*m,p,g)),T=a(n(this.pointsTee,d+2*m,p,g)),k=Ia(u,h,x)||Ia(u,h,T);return k},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=n(this.pointsTee,h,d,p);t.arrowShapeImpl(this.name)(u,f,m)},"draw")}),o("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:l(function(u,h,d,p,g,f,m){var x=g,T=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((d+2*m)*this.radius,2),k=a(n(this.points,d+2*m,p,g));return Ia(u,h,k)||T},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.pointsTr,h,d,p);t.arrowShapeImpl(this.name)(u,f,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:l(function(u,h){var d=this.baseCrossLinePts.slice(),p=h/u,g=3,f=5;return d[g]=d[g]-p,d[f]=d[f]-p,d},"crossLinePts"),collide:l(function(u,h,d,p,g,f,m){var x=a(n(this.points,d+2*m,p,g)),T=a(n(this.crossLinePts(d,f),d+2*m,p,g)),k=Ia(u,h,x)||Ia(u,h,T);return k},"collide"),draw:l(function(u,h,d,p,g){var f=n(this.points,h,d,p),m=n(this.crossLinePts(h,g),h,d,p);t.arrowShapeImpl(this.name)(u,f,m)},"draw")}),o("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:l(function(u){return s(u)*.525},"gap")}),o("circle",{radius:.15,collide:l(function(u,h,d,p,g,f,m){var x=g,T=Math.pow(x.x-u,2)+Math.pow(x.y-h,2)<=Math.pow((d+2*m)*this.radius,2);return T},"collide"),draw:l(function(u,h,d,p,g){t.arrowShapeImpl(this.name)(u,p.x,p.y,this.radius*h)},"draw"),spacing:l(function(u){return t.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius},"spacing")}),o("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:l(function(u){return 1},"spacing"),gap:l(function(u){return 1},"gap")}),o("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),o("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:l(function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")}),o("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:l(function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value},"gap")})},uh={},uh.projectIntoViewport=function(e,t){var r=this.cy,i=this.findContainerClientCoords(),n=i[0],a=i[1],s=i[4],o=r.pan(),u=r.zoom(),h=((e-n)/s-o.x)/u,d=((t-a)/s-o.y)/u;return[h,d]},uh.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),i=l(function(T){return parseFloat(r.getPropertyValue(T))},"styleValue"),n={left:i("padding-left"),right:i("padding-right"),top:i("padding-top"),bottom:i("padding-bottom")},a={left:i("border-left-width"),right:i("border-right-width"),top:i("border-top-width"),bottom:i("border-bottom-width")},s=e.clientWidth,o=e.clientHeight,u=n.left+n.right,h=n.top+n.bottom,d=a.left+a.right,p=t.width/(s+d),g=s-u,f=o-h,m=t.left+n.left+a.left,x=t.top+n.top+a.top;return this.containerBB=[m,x,g,f,p]},uh.invalidateContainerClientCoordsCache=function(){this.containerBB=null},uh.findNearestElement=function(e,t,r,i){return this.findNearestElements(e,t,r,i)[0]},uh.findNearestElements=function(e,t,r,i){var n=this,a=this,s=a.getCachedZSortedEles(),o=[],u=a.cy.zoom(),h=a.cy.hasCompoundNodes(),d=(i?24:8)/u,p=(i?8:2)/u,g=(i?8:2)/u,f=1/0,m,x;r&&(s=s.interactive);function T(v,w){if(v.isNode()){if(x)return;x=v,o.push(v)}if(v.isEdge()&&(w==null||w<f))if(m){if(m.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===v.pstyle("z-compound-depth").value){for(var C=0;C<o.length;C++)if(o[C].isEdge()){o[C]=v,m=v,f=w!=null?w:f;break}}}else o.push(v),m=v,f=w!=null?w:f}l(T,"addEle");function k(v){var w=v.outerWidth()+2*p,C=v.outerHeight()+2*p,A=w/2,M=C/2,N=v.position(),O=v.pstyle("corner-radius").value==="auto"?"auto":v.pstyle("corner-radius").pfValue,_=v._private.rscratch;if(N.x-A<=e&&e<=N.x+A&&N.y-M<=t&&t<=N.y+M){var I=a.nodeShapes[n.getNodeShape(v)];if(I.checkPoint(e,t,0,w,C,N.x,N.y,O,_))return T(v,0),!0}}l(k,"checkNode");function E(v){var w=v._private,C=w.rscratch,A=v.pstyle("width").pfValue,M=v.pstyle("arrow-scale").value,N=A/2+d,O=N*N,_=N*2,I=w.source,R=w.target,P;if(C.edgeType==="segments"||C.edgeType==="straight"||C.edgeType==="haystack"){for(var D=C.allpts,$=0;$+3<D.length;$+=2)if(p6e(e,t,D[$],D[$+1],D[$+2],D[$+3],_)&&O>(P=v6e(e,t,D[$],D[$+1],D[$+2],D[$+3])))return T(v,P),!0}else if(C.edgeType==="bezier"||C.edgeType==="multibezier"||C.edgeType==="self"||C.edgeType==="compound"){for(var D=C.allpts,$=0;$+5<C.allpts.length;$+=4)if(g6e(e,t,D[$],D[$+1],D[$+2],D[$+3],D[$+4],D[$+5],_)&&O>(P=y6e(e,t,D[$],D[$+1],D[$+2],D[$+3],D[$+4],D[$+5])))return T(v,P),!0}for(var I=I||w.source,R=R||w.target,F=n.getArrowWidth(A,M),z=[{name:"source",x:C.arrowStartX,y:C.arrowStartY,angle:C.srcArrowAngle},{name:"target",x:C.arrowEndX,y:C.arrowEndY,angle:C.tgtArrowAngle},{name:"mid-source",x:C.midX,y:C.midY,angle:C.midsrcArrowAngle},{name:"mid-target",x:C.midX,y:C.midY,angle:C.midtgtArrowAngle}],$=0;$<z.length;$++){var U=z[$],j=a.arrowShapes[v.pstyle(U.name+"-arrow-shape").value],H=v.pstyle("width").pfValue;if(j.roughCollide(e,t,F,U.angle,{x:U.x,y:U.y},H,d)&&j.collide(e,t,F,U.angle,{x:U.x,y:U.y},H,d))return T(v),!0}h&&o.length>0&&(k(I),k(R))}l(E,"checkEdge");function S(v,w,C){return Ma(v,w,C)}l(S,"preprop");function L(v,w){var C=v._private,A=g,M;w?M=w+"-":M="",v.boundingBox();var N=C.labelBounds[w||"main"],O=v.pstyle(M+"label").value,_=v.pstyle("text-events").strValue==="yes";if(!(!_||!O)){var I=S(C.rscratch,"labelX",w),R=S(C.rscratch,"labelY",w),P=S(C.rscratch,"labelAngle",w),D=v.pstyle(M+"text-margin-x").pfValue,$=v.pstyle(M+"text-margin-y").pfValue,F=N.x1-A-D,z=N.x2+A-D,U=N.y1-A-$,j=N.y2+A-$;if(P){var H=Math.cos(P),Q=Math.sin(P),re=l(function(X,te){return X=X-I,te=te-R,{x:X*H-te*Q+I,y:X*Q+te*H+R}},"rotate"),le=re(F,U),oe=re(F,j),W=re(z,U),J=re(z,j),Y=[le.x+D,le.y+$,W.x+D,W.y+$,J.x+D,J.y+$,oe.x+D,oe.y+$];if(Ia(e,t,Y))return T(v),!0}else if(Ac(N,e,t))return T(v),!0}}l(L,"checkLabel");for(var b=s.length-1;b>=0;b--){var y=s[b];y.isNode()?k(y)||L(y):E(y)||L(y)||L(y,"source")||L(y,"target")}return o},uh.getAllInBox=function(e,t,r,i){var n=this.getCachedZSortedEles().interactive,a=this.cy.zoom(),s=2/a,o=[],u=Math.min(e,r),h=Math.max(e,r),d=Math.min(t,i),p=Math.max(t,i);e=u,r=h,t=d,i=p;var g=oa({x1:e,y1:t,x2:r,y2:i}),f=[{x:g.x1,y:g.y1},{x:g.x2,y:g.y1},{x:g.x2,y:g.y2},{x:g.x1,y:g.y2}],m=[[f[0],f[1]],[f[1],f[2]],[f[2],f[3]],[f[3],f[0]]];function x(te,ce,K){return Ma(te,ce,K)}l(x,"preprop");function T(te,ce){var K=te._private,me=s,Z="";te.boundingBox();var Ae=K.labelBounds.main;if(!Ae)return null;var he=x(K.rscratch,"labelX",ce),Ne=x(K.rscratch,"labelY",ce),Pe=x(K.rscratch,"labelAngle",ce),He=te.pstyle(Z+"text-margin-x").pfValue,qe=te.pstyle(Z+"text-margin-y").pfValue,_e=Ae.x1-me-He,De=Ae.x2+me-He,ve=Ae.y1-me-qe,Be=Ae.y2+me-qe;if(Pe){var de=Math.cos(Pe),Ve=Math.sin(Pe),ee=l(function(Ie,G){return Ie=Ie-he,G=G-Ne,{x:Ie*de-G*Ve+he,y:Ie*Ve+G*de+Ne}},"rotate");return[ee(_e,ve),ee(De,ve),ee(De,Be),ee(_e,Be)]}else return[{x:_e,y:ve},{x:De,y:ve},{x:De,y:Be},{x:_e,y:Be}]}l(T,"getRotatedLabelBox");function k(te,ce,K,me){function Z(Ae,he,Ne){return(Ne.y-Ae.y)*(he.x-Ae.x)>(he.y-Ae.y)*(Ne.x-Ae.x)}return l(Z,"ccw"),Z(te,K,me)!==Z(ce,K,me)&&Z(te,ce,K)!==Z(te,ce,me)}l(k,"doLinesIntersect");for(var E=0;E<n.length;E++){var S=n[E];if(S.isNode()){var L=S,b=L.pstyle("text-events").strValue==="yes",y=L.pstyle("box-selection").strValue,v=L.pstyle("box-select-labels").strValue==="yes";if(y==="none")continue;var w=(y==="overlap"||v)&&b,C=L.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:w});if(y==="contain"){var A=!1;if(v&&b){var M=T(L);M&&Iw(M,f)&&(o.push(L),A=!0)}!A&&NR(g,C)&&o.push(L)}else if(y==="overlap"&&tk(g,C)){var N=L.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),O=[{x:N.x1,y:N.y1},{x:N.x2,y:N.y1},{x:N.x2,y:N.y2},{x:N.x1,y:N.y2}];if(Iw(O,f))o.push(L);else{var _=T(L);_&&Iw(_,f)&&o.push(L)}}}else{var I=S,R=I._private,P=R.rscratch,D=I.pstyle("box-selection").strValue;if(D==="none")continue;if(D==="contain"){if(P.startX!=null&&P.startY!=null&&!Ac(g,P.startX,P.startY)||P.endX!=null&&P.endY!=null&&!Ac(g,P.endX,P.endY))continue;if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"||P.edgeType==="segments"||P.edgeType==="haystack"){for(var $=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts,F=!0,z=0;z<$.length;z++)if(!LR(g,$[z])){F=!1;break}F&&o.push(I)}else P.edgeType==="straight"&&o.push(I)}else if(D==="overlap"){var U=!1;if(P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(Ac(g,P.startX,P.startY)||Ac(g,P.endX,P.endY)))o.push(I),U=!0;else if(!U&&P.edgeType==="haystack"){for(var j=R.rstyle.haystackPts,H=0;H<j.length;H++)if(LR(g,j[H])){o.push(I),U=!0;break}}if(!U){var Q=R.rstyle.bezierPts||R.rstyle.linePts||R.rstyle.haystackPts;if((!Q||Q.length<2)&&P.edgeType==="straight"&&P.startX!=null&&P.startY!=null&&P.endX!=null&&P.endY!=null&&(Q=[{x:P.startX,y:P.startY},{x:P.endX,y:P.endY}]),!Q||Q.length<2)continue;for(var re=0;re<Q.length-1;re++){for(var le=Q[re],oe=Q[re+1],W=0;W<m.length;W++){var J=Ui(m[W],2),Y=J[0],X=J[1];if(k(le,oe,Y,X)){o.push(I),U=!0;break}}if(U)break}}}}}return o},Bv={},Bv.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",i=t.edgeType==="bezier",n=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",o=t.edgeType==="self",u,h,d,p,g,f,k,E;if(r?(d=t.haystackPts[0],p=t.haystackPts[1],g=t.haystackPts[2],f=t.haystackPts[3]):(d=t.arrowStartX,p=t.arrowStartY,g=t.arrowEndX,f=t.arrowEndY),k=t.midX,E=t.midY,a)u=d-t.segpts[0],h=p-t.segpts[1];else if(n||s||o||i){var m=t.allpts,x=yn(m[0],m[2],m[4],.1),T=yn(m[1],m[3],m[5],.1);u=d-x,h=p-T}else u=d-k,h=p-E;t.srcArrowAngle=hv(u,h);var k=t.midX,E=t.midY;if(r&&(k=(d+g)/2,E=(p+f)/2),u=g-d,h=f-p,a){var m=t.allpts;if(m.length/2%2===0){var S=m.length/2,L=S-2;u=m[S]-m[L],h=m[S+1]-m[L+1]}else if(t.isRound)u=t.midVector[1],h=-t.midVector[0];else{var S=m.length/2-1,L=S-2;u=m[S]-m[L],h=m[S+1]-m[L+1]}}else if(n||s||o){var m=t.allpts,b=t.ctrlpts,y,v,w,C;if(b.length/2%2===0){var A=m.length/2-1,M=A+2,N=M+2;y=yn(m[A],m[M],m[N],0),v=yn(m[A+1],m[M+1],m[N+1],0),w=yn(m[A],m[M],m[N],1e-4),C=yn(m[A+1],m[M+1],m[N+1],1e-4)}else{var M=m.length/2-1,A=M-2,N=M+2;y=yn(m[A],m[M],m[N],.4999),v=yn(m[A+1],m[M+1],m[N+1],.4999),w=yn(m[A],m[M],m[N],.5),C=yn(m[A+1],m[M+1],m[N+1],.5)}u=w-y,h=C-v}if(t.midtgtArrowAngle=hv(u,h),t.midDispX=u,t.midDispY=h,u*=-1,h*=-1,a){var m=t.allpts;if(m.length/2%2!==0&&!t.isRound){var S=m.length/2-1,O=S+2;u=-(m[O]-m[S]),h=-(m[O+1]-m[S+1])}}if(t.midsrcArrowAngle=hv(u,h),a)u=g-t.segpts[t.segpts.length-2],h=f-t.segpts[t.segpts.length-1];else if(n||s||o||i){var m=t.allpts,_=m.length,x=yn(m[_-6],m[_-4],m[_-2],.9),T=yn(m[_-5],m[_-3],m[_-1],.9);u=g-x,h=f-T}else u=g-k,h=f-E;t.tgtArrowAngle=hv(u,h)},Bv.getArrowWidth=Bv.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},i=r[e+", "+t];return i||(i=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=i,i)},Lo={},ys={},zP=l(function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},"asVec"),YTe=l(function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},"invertVec"),WTe=l(function(e,t,r,i,n){if(e!==VTe?zP(t,e,Lo):YTe(ys,Lo),zP(t,r,ys),UTe=Lo.nx*ys.ny-Lo.ny*ys.nx,qTe=Lo.nx*ys.nx-Lo.ny*-ys.ny,$c=Math.asin(Math.max(-1,Math.min(1,UTe))),Math.abs($c)<1e-6){PP=t.x,BP=t.y,Qd=L1=0;return}Kd=1,wk=!1,qTe<0?$c<0?$c=Math.PI+$c:($c=Math.PI-$c,Kd=-1,wk=!0):$c>0&&(Kd=-1,wk=!0),t.radius!==void 0?L1=t.radius:L1=i,Zd=$c/2,kk=Math.min(Lo.len/2,ys.len/2),n?(xl=Math.abs(Math.cos(Zd)*L1/Math.sin(Zd)),xl>kk?(xl=kk,Qd=Math.abs(xl*Math.sin(Zd)/Math.cos(Zd))):Qd=L1):(xl=Math.min(kk,L1),Qd=Math.abs(xl*Math.sin(Zd)/Math.cos(Zd))),$P=t.x+ys.nx*xl,FP=t.y+ys.ny*xl,PP=$P-ys.ny*Qd*Kd,BP=FP+ys.nx*Qd*Kd,jTe=t.x+Lo.nx*xl,HTe=t.y+Lo.ny*xl,VTe=t},"calcCornerArc"),l(SD,"drawPreparedRoundCorner"),l(zw,"getRoundCorner"),N1=.01,XTe=Math.sqrt(2*N1),Hn={},Hn.findMidptPtsEtc=function(e,t){var r=t.posPts,i=t.intersectionPts,n=t.vectorNormInverse,a,s=e.pstyle("source-endpoint"),o=e.pstyle("target-endpoint"),u=s.units!=null&&o.units!=null,h=l(function(L,b,y,v){var w=v-b,C=y-L,A=Math.sqrt(C*C+w*w);return{x:-w/A,y:C/A}},"recalcVectorNormInverse"),d=e.pstyle("edge-distances").value;switch(d){case"node-position":a=r;break;case"intersection":a=i;break;case"endpoints":{if(u){var p=this.manualEndptToPx(e.source()[0],s),g=Ui(p,2),f=g[0],m=g[1],x=this.manualEndptToPx(e.target()[0],o),T=Ui(x,2),k=T[0],E=T[1],S={x1:f,y1:m,x2:k,y2:E};n=h(f,m,k,E),a=S}else Ur("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),a=i;break}}return{midptPts:a,vectorNormInverse:n}},Hn.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],i=r._private,n=i.rscratch;if(!n.haystack){var a=Math.random()*2*Math.PI;n.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,n.target={x:Math.cos(a),y:Math.sin(a)}}var s=i.source,o=i.target,u=s.position(),h=o.position(),d=s.width(),p=o.width(),g=s.height(),f=o.height(),m=r.pstyle("haystack-radius").value,x=m/2;n.haystackPts=n.allpts=[n.source.x*d*x+u.x,n.source.y*g*x+u.y,n.target.x*p*x+h.x,n.target.y*f*x+h.y],n.midX=(n.allpts[0]+n.allpts[2])/2,n.midY=(n.allpts[1]+n.allpts[3])/2,n.edgeType="haystack",n.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},Hn.findSegmentsPoints=function(e,t){var r=e._private.rscratch,i=e.pstyle("segment-weights"),n=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),s=e.pstyle("radius-type"),o=Math.min(i.pfValue.length,n.pfValue.length),u=a.pfValue[a.pfValue.length-1],h=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var d=0;d<o;d++){var p=i.pfValue[d],g=n.pfValue[d],f=1-p,m=p,x=this.findMidptPtsEtc(e,t),T=x.midptPts,k=x.vectorNormInverse,E={x:T.x1*f+T.x2*m,y:T.y1*f+T.y2*m};r.segpts.push(E.x+k.x*g,E.y+k.y*g),r.radii.push(a.pfValue[d]!==void 0?a.pfValue[d]:u),r.isArcRadius.push((s.pfValue[d]!==void 0?s.pfValue[d]:h)==="arc-radius")}},Hn.findLoopPoints=function(e,t,r,i){var n=e._private.rscratch,a=t.dirCounts,s=t.srcPos,o=e.pstyle("control-point-distances"),u=o?o.pfValue[0]:void 0,h=e.pstyle("loop-direction").pfValue,d=e.pstyle("loop-sweep").pfValue,p=e.pstyle("control-point-step-size").pfValue;n.edgeType="self";var g=r,f=p;i&&(g=0,f=u);var m=h-Math.PI/2,x=m-d/2,T=m+d/2,k=h+"_"+d;g=a[k]===void 0?a[k]=0:++a[k],n.ctrlpts=[s.x+Math.cos(x)*1.4*f*(g/3+1),s.y+Math.sin(x)*1.4*f*(g/3+1),s.x+Math.cos(T)*1.4*f*(g/3+1),s.y+Math.sin(T)*1.4*f*(g/3+1)]},Hn.findCompoundLoopPoints=function(e,t,r,i){var n=e._private.rscratch;n.edgeType="compound";var a=t.srcPos,s=t.tgtPos,o=t.srcW,u=t.srcH,h=t.tgtW,d=t.tgtH,p=e.pstyle("control-point-step-size").pfValue,g=e.pstyle("control-point-distances"),f=g?g.pfValue[0]:void 0,m=r,x=p;i&&(m=0,x=f);var T=50,k={x:a.x-o/2,y:a.y-u/2},E={x:s.x-h/2,y:s.y-d/2},S={x:Math.min(k.x,E.x),y:Math.min(k.y,E.y)},L=.5,b=Math.max(L,Math.log(o*N1)),y=Math.max(L,Math.log(h*N1));n.ctrlpts=[S.x,S.y-(1+Math.pow(T,1.12)/100)*x*(m/3+1)*b,S.x-(1+Math.pow(T,1.12)/100)*x*(m/3+1)*y,S.y]},Hn.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Hn.findBezierPoints=function(e,t,r,i,n){var a=e._private.rscratch,s=e.pstyle("control-point-step-size").pfValue,o=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),h=o&&u?Math.min(o.value.length,u.value.length):1,d=o?o.pfValue[0]:void 0,p=u.value[0],g=i;a.edgeType=g?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<h;f++){var m=(.5-t.eles.length/2+r)*s*(n?-1:1),x=void 0,T=ek(m);g&&(d=o?o.pfValue[f]:s,p=u.value[f]),i?x=d:x=d!==void 0?T*d:void 0;var k=x!==void 0?x:m,E=1-p,S=p,L=this.findMidptPtsEtc(e,t),b=L.midptPts,y=L.vectorNormInverse,v={x:b.x1*E+b.x2*S,y:b.y1*E+b.y2*S};a.ctrlpts.push(v.x+y.x*k,v.y+y.y*k)}},Hn.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var i="vertical",n="horizontal",a="leftward",s="rightward",o="downward",u="upward",h="auto",d=t.posPts,p=t.srcW,g=t.srcH,f=t.tgtW,m=t.tgtH,x=e.pstyle("edge-distances").value,T=x!=="node-position",k=e.pstyle("taxi-direction").value,E=k,S=e.pstyle("taxi-turn"),L=S.units==="%",b=S.pfValue,y=b<0,v=e.pstyle("taxi-turn-min-distance").pfValue,w=T?(p+f)/2:0,C=T?(g+m)/2:0,A=d.x2-d.x1,M=d.y2-d.y1,N=l(function(G,ie){return G>0?Math.max(G-ie,0):Math.min(G+ie,0)},"subDWH"),O=N(A,w),_=N(M,C),I=!1;E===h?k=Math.abs(O)>Math.abs(_)?n:i:E===u||E===o?(k=i,I=!0):(E===a||E===s)&&(k=n,I=!0);var R=k===i,P=R?_:O,D=R?M:A,$=ek(D),F=!1;!(I&&(L||y))&&(E===o&&D<0||E===u&&D>0||E===a&&D>0||E===s&&D<0)&&($*=-1,P=$*Math.abs(P),F=!0);var z;if(L){var U=b<0?1+b:b;z=U*P}else{var j=b<0?P:0;z=j+b*$}var H=l(function(G){return Math.abs(G)<v||Math.abs(G)>=Math.abs(P)},"getIsTooClose"),Q=H(z),re=H(Math.abs(P)-Math.abs(z)),le=Q||re;if(le&&!F)if(R){var oe=Math.abs(D)<=g/2,W=Math.abs(A)<=f/2;if(oe){var J=(d.x1+d.x2)/2,Y=d.y1,X=d.y2;r.segpts=[J,Y,J,X]}else if(W){var te=(d.y1+d.y2)/2,ce=d.x1,K=d.x2;r.segpts=[ce,te,K,te]}else r.segpts=[d.x1,d.y2]}else{var me=Math.abs(D)<=p/2,Z=Math.abs(M)<=m/2;if(me){var Ae=(d.y1+d.y2)/2,he=d.x1,Ne=d.x2;r.segpts=[he,Ae,Ne,Ae]}else if(Z){var Pe=(d.x1+d.x2)/2,He=d.y1,qe=d.y2;r.segpts=[Pe,He,Pe,qe]}else r.segpts=[d.x2,d.y1]}else if(R){var _e=d.y1+z+(T?g/2*$:0),De=d.x1,ve=d.x2;r.segpts=[De,_e,ve,_e]}else{var Be=d.x1+z+(T?p/2*$:0),de=d.y1,Ve=d.y2;r.segpts=[Be,de,Be,Ve]}if(r.isRound){var ee=e.pstyle("taxi-radius").value,Ie=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(ee),r.isArcRadius=new Array(r.segpts.length/2).fill(Ie)}},Hn.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var i=t.srcPos,n=t.tgtPos,a=t.srcW,s=t.srcH,o=t.tgtW,u=t.tgtH,h=t.srcShape,d=t.tgtShape,p=t.srcCornerRadius,g=t.tgtCornerRadius,f=t.srcRs,m=t.tgtRs,x=!bt(r.startX)||!bt(r.startY),T=!bt(r.arrowStartX)||!bt(r.arrowStartY),k=!bt(r.endX)||!bt(r.endY),E=!bt(r.arrowEndX)||!bt(r.arrowEndY),S=3,L=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,b=S*L,y=nh({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),v=y<b,w=nh({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),C=w<b,A=!1;if(x||T||v){A=!0;var M={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},N=Math.sqrt(M.x*M.x+M.y*M.y),O={x:M.x/N,y:M.y/N},_=Math.max(a,s),I={x:r.ctrlpts[0]+O.x*2*_,y:r.ctrlpts[1]+O.y*2*_},R=h.intersectLine(i.x,i.y,a,s,I.x,I.y,0,p,f);v?(r.ctrlpts[0]=r.ctrlpts[0]+O.x*(b-y),r.ctrlpts[1]=r.ctrlpts[1]+O.y*(b-y)):(r.ctrlpts[0]=R[0]+O.x*b,r.ctrlpts[1]=R[1]+O.y*b)}if(k||E||C){A=!0;var P={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},D=Math.sqrt(P.x*P.x+P.y*P.y),$={x:P.x/D,y:P.y/D},F=Math.max(a,s),z={x:r.ctrlpts[0]+$.x*2*F,y:r.ctrlpts[1]+$.y*2*F},U=d.intersectLine(n.x,n.y,o,u,z.x,z.y,0,g,m);C?(r.ctrlpts[0]=r.ctrlpts[0]+$.x*(b-w),r.ctrlpts[1]=r.ctrlpts[1]+$.y*(b-w)):(r.ctrlpts[0]=U[0]+$.x*b,r.ctrlpts[1]=U[1]+$.y*b)}A&&this.findEndpoints(e)}},Hn.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var i,n;t.ctrlpts.length/2%2===0?(i=t.allpts.length/2-1,t.midX=t.allpts[i],t.midY=t.allpts[i+1]):(i=t.allpts.length/2-3,n=.5,t.midX=yn(t.allpts[i],t.allpts[i+2],t.allpts[i+4],n),t.midY=yn(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],n))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var a=2;a+3<t.allpts.length;a+=2){var s=t.radii[a/2-1],o=t.isArcRadius[a/2-1];t.roundCorners.push(zw({x:t.allpts[a-2],y:t.allpts[a-1]},{x:t.allpts[a],y:t.allpts[a+1],radius:s},{x:t.allpts[a+2],y:t.allpts[a+3]},s,o))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,h=u-2;t.midX=(t.segpts[h]+t.segpts[u])/2,t.midY=(t.segpts[h+1]+t.segpts[u+1])/2}else{var d=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[d],t.midY=t.segpts[d+1];else{var p={x:t.segpts[d],y:t.segpts[d+1]},g=t.roundCorners[d/2];if(g.radius===0){var f={x:t.segpts[d+2],y:t.segpts[d+3]};t.midX=p.x,t.midY=p.y,t.midVector=[p.y-f.y,f.x-p.x]}else{var m=[p.x-g.cx,p.y-g.cy],x=g.radius/Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2));m=m.map(function(T){return T*x}),t.midX=g.cx+m[0],t.midY=g.cy+m[1],t.midVector=m}}}}},Hn.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||bt(t.startX)&&bt(t.startY)&&bt(t.endX)&&bt(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ur("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Hn.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,i=r.cy,n=i.hasCompoundNodes(),a=new vl,s=l(function(w,C){return[].concat(j2(w),[C?1:0]).join("-")},"getKey"),o=[],u=[],h=0;h<e.length;h++){var d=e[h],p=d._private,g=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(g==="haystack"){u.push(d);continue}var f=g==="unbundled-bezier"||Cc(g,"segments")||g==="straight"||g==="straight-triangle"||Cc(g,"taxi"),m=g==="unbundled-bezier"||g==="bezier",x=p.source,T=p.target,k=x.poolIndex(),E=T.poolIndex(),S=[k,E].sort(),L=s(S,f),b=a.get(L);b==null&&(b={eles:[]},o.push({pairId:S,edgeIsUnbundled:f}),a.set(L,b)),b.eles.push(d),f&&(b.hasUnbundled=!0),m&&(b.hasBezier=!0)}}for(var y=l(function(){var w=o[v],C=w.pairId,A=w.edgeIsUnbundled,M=s(C,A),N=a.get(M),O;if(!N.hasUnbundled){var _=N.eles[0].parallelEdges().filter(function(ee){return ee.isBundledBezier()});Kw(N.eles),_.forEach(function(ee){return N.eles.push(ee)}),N.eles.sort(function(ee,Ie){return ee.poolIndex()-Ie.poolIndex()})}var I=N.eles[0],R=I.source(),P=I.target();if(R.poolIndex()>P.poolIndex()){var D=R;R=P,P=D}var $=N.srcPos=R.position(),F=N.tgtPos=P.position(),z=N.srcW=R.outerWidth(),U=N.srcH=R.outerHeight(),j=N.tgtW=P.outerWidth(),H=N.tgtH=P.outerHeight(),Q=N.srcShape=r.nodeShapes[t.getNodeShape(R)],re=N.tgtShape=r.nodeShapes[t.getNodeShape(P)],le=N.srcCornerRadius=R.pstyle("corner-radius").value==="auto"?"auto":R.pstyle("corner-radius").pfValue,oe=N.tgtCornerRadius=P.pstyle("corner-radius").value==="auto"?"auto":P.pstyle("corner-radius").pfValue,W=N.tgtRs=P._private.rscratch,J=N.srcRs=R._private.rscratch;N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Y=0;Y<N.eles.length;Y++){var X=N.eles[Y],te=X[0]._private.rscratch,ce=X.pstyle("curve-style").value,K=ce==="unbundled-bezier"||Cc(ce,"segments")||Cc(ce,"taxi"),me=!R.same(X.source());if(!N.calculatedIntersection&&R!==P&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var Z=Q.intersectLine($.x,$.y,z,U,F.x,F.y,0,le,J),Ae=N.srcIntn=Z,he=re.intersectLine(F.x,F.y,j,H,$.x,$.y,0,oe,W),Ne=N.tgtIntn=he,Pe=N.intersectionPts={x1:Z[0],x2:he[0],y1:Z[1],y2:he[1]},He=N.posPts={x1:$.x,x2:F.x,y1:$.y,y2:F.y},qe=he[1]-Z[1],_e=he[0]-Z[0],De=Math.sqrt(_e*_e+qe*qe);bt(De)&&De>=XTe||(De=Math.sqrt(Math.max(_e*_e,N1)+Math.max(qe*qe,N1)));var ve=N.vector={x:_e,y:qe},Be=N.vectorNorm={x:ve.x/De,y:ve.y/De},de={x:-Be.y,y:Be.x};N.nodesOverlap=!bt(De)||re.checkPoint(Z[0],Z[1],0,j,H,F.x,F.y,oe,W)||Q.checkPoint(he[0],he[1],0,z,U,$.x,$.y,le,J),N.vectorNormInverse=de,O={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:F,srcRs:W,tgtPos:$,tgtRs:J,srcW:j,srcH:H,tgtW:z,tgtH:U,srcIntn:Ne,tgtIntn:Ae,srcShape:re,tgtShape:Q,posPts:{x1:He.x2,y1:He.y2,x2:He.x1,y2:He.y1},intersectionPts:{x1:Pe.x2,y1:Pe.y2,x2:Pe.x1,y2:Pe.y1},vector:{x:-ve.x,y:-ve.y},vectorNorm:{x:-Be.x,y:-Be.y},vectorNormInverse:{x:-de.x,y:-de.y}}}var Ve=me?O:N;te.nodesOverlap=Ve.nodesOverlap,te.srcIntn=Ve.srcIntn,te.tgtIntn=Ve.tgtIntn,te.isRound=ce.startsWith("round"),n&&(R.isParent()||R.isChild()||P.isParent()||P.isChild())&&(R.parents().anySame(P)||P.parents().anySame(R)||R.same(P)&&R.isParent())?t.findCompoundLoopPoints(X,Ve,Y,K):R===P?t.findLoopPoints(X,Ve,Y,K):ce.endsWith("segments")?t.findSegmentsPoints(X,Ve):ce.endsWith("taxi")?t.findTaxiPoints(X,Ve):ce==="straight"||!K&&N.eles.length%2===1&&Y===Math.floor(N.eles.length/2)?t.findStraightEdgePoints(X):t.findBezierPoints(X,Ve,Y,K,me),t.findEndpoints(X),t.tryToCorrectInvalidPoints(X,Ve),t.checkForInvalidEdgeWarning(X),t.storeAllpts(X),t.storeEdgeProjections(X),t.calculateArrowAngles(X),t.recalculateEdgeLabelProjections(X),t.calculateLabelAngles(X)}},"_loop"),v=0;v<o.length;v++)y();this.findHaystackPoints(u)}},l(_D,"getPts"),Hn.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return _D(t.segpts)},Hn.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return _D(t.ctrlpts)},Hn.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}},M1={},M1.manualEndptToPx=function(e,t){var r=this,i=e.position(),n=e.outerWidth(),a=e.outerHeight(),s=e._private.rscratch;if(t.value.length===2){var o=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(o[0]=o[0]*n),t.units[1]==="%"&&(o[1]=o[1]*a),o[0]+=i.x,o[1]+=i.y,o}else{var u=t.pfValue[0];u=-Math.PI/2+u;var h=2*Math.max(n,a),d=[i.x+Math.cos(u)*h,i.y+Math.sin(u)*h];return r.nodeShapes[this.getNodeShape(e)].intersectLine(i.x,i.y,n,a,d[0],d[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,s)}},M1.findEndpoints=function(e){var t,r,i,n,a=this,s,o=e.source()[0],u=e.target()[0],h=o.position(),d=u.position(),p=e.pstyle("target-arrow-shape").value,g=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,m=e.pstyle("source-distance-from-node").pfValue,x=o._private.rscratch,T=u._private.rscratch,k=e.pstyle("curve-style").value,E=e._private.rscratch,S=E.edgeType,L=Cc(k,"taxi"),b=S==="self"||S==="compound",y=S==="bezier"||S==="multibezier"||b,v=S!=="bezier",w=S==="straight"||S==="segments",C=S==="segments",A=y||v||w,M=b||L,N=e.pstyle("source-endpoint"),O=M?"outside-to-node":N.value,_=o.pstyle("corner-radius").value==="auto"?"auto":o.pstyle("corner-radius").pfValue,I=e.pstyle("target-endpoint"),R=M?"outside-to-node":I.value,P=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue;E.srcManEndpt=N,E.tgtManEndpt=I;var D,$,F,z,U=(t=(I==null||(r=I.pfValue)===null||r===void 0?void 0:r.length)===2?I.pfValue:null)!==null&&t!==void 0?t:[0,0],j=(i=(N==null||(n=N.pfValue)===null||n===void 0?void 0:n.length)===2?N.pfValue:null)!==null&&i!==void 0?i:[0,0];if(y){var H=[E.ctrlpts[0],E.ctrlpts[1]],Q=v?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:H;D=Q,$=H}else if(w){var re=C?E.segpts.slice(0,2):[d.x+U[0],d.y+U[1]],le=C?E.segpts.slice(E.segpts.length-2):[h.x+j[0],h.y+j[1]];D=le,$=re}if(R==="inside-to-node")s=[d.x,d.y];else if(I.units)s=this.manualEndptToPx(u,I);else if(R==="outside-to-line")s=E.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?F=D:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(F=[h.x,h.y]),s=a.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),F[0],F[1],0,P,T),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var oe=u._private.rscratch,W=oe.labelWidth,J=oe.labelHeight,Y=oe.labelX,X=oe.labelY,te=W/2,ce=J/2,K=u.pstyle("text-valign").value;K==="top"?X-=ce:K==="bottom"&&(X+=ce);var me=u.pstyle("text-halign").value;me==="left"?Y-=te:me==="right"&&(Y+=te);var Z=x1(F[0],F[1],[Y-te,X-ce,Y+te,X-ce,Y+te,X+ce,Y-te,X+ce],d.x,d.y);if(Z.length>0){var Ae=h,he=ah(Ae,Fd(s)),Ne=ah(Ae,Fd(Z)),Pe=he;if(Ne<he&&(s=Z,Pe=Ne),Z.length>2){var He=ah(Ae,{x:Z[2],y:Z[3]});He<Pe&&(s=[Z[2],Z[3]])}}}var qe=mv(s,D,a.arrowShapes[p].spacing(e)+f),_e=mv(s,D,a.arrowShapes[p].gap(e)+f);if(E.endX=_e[0],E.endY=_e[1],E.arrowEndX=qe[0],E.arrowEndY=qe[1],O==="inside-to-node")s=[h.x,h.y];else if(N.units)s=this.manualEndptToPx(o,N);else if(O==="outside-to-line")s=E.srcIntn;else if(O==="outside-to-node"||O==="outside-to-node-or-label"?z=$:(O==="outside-to-line"||O==="outside-to-line-or-label")&&(z=[d.x,d.y]),s=a.nodeShapes[this.getNodeShape(o)].intersectLine(h.x,h.y,o.outerWidth(),o.outerHeight(),z[0],z[1],0,_,x),O==="outside-to-node-or-label"||O==="outside-to-line-or-label"){var De=o._private.rscratch,ve=De.labelWidth,Be=De.labelHeight,de=De.labelX,Ve=De.labelY,ee=ve/2,Ie=Be/2,G=o.pstyle("text-valign").value;G==="top"?Ve-=Ie:G==="bottom"&&(Ve+=Ie);var ie=o.pstyle("text-halign").value;ie==="left"?de-=ee:ie==="right"&&(de+=ee);var se=x1(z[0],z[1],[de-ee,Ve-Ie,de+ee,Ve-Ie,de+ee,Ve+Ie,de-ee,Ve+Ie],h.x,h.y);if(se.length>0){var pe=d,fe=ah(pe,Fd(s)),be=ah(pe,Fd(se)),Se=fe;if(be<fe&&(s=[se[0],se[1]],Se=be),se.length>2){var Te=ah(pe,{x:se[2],y:se[3]});Te<Se&&(s=[se[2],se[3]])}}}var Ge=mv(s,$,a.arrowShapes[g].spacing(e)+m),Ye=mv(s,$,a.arrowShapes[g].gap(e)+m);E.startX=Ye[0],E.startY=Ye[1],E.arrowStartX=Ge[0],E.arrowStartY=Ge[1],A&&(!bt(E.startX)||!bt(E.startY)||!bt(E.endX)||!bt(E.endY)?E.badLine=!0:E.badLine=!1)},M1.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},M1.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}},Tk={},l(l3e,"pushBezierPts"),Tk.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,i=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,i==="multibezier"||i==="bezier"||i==="self"||i==="compound"){t.rstyle.bezierPts=[];for(var n=0;n+5<r.allpts.length;n+=4)l3e(this,e,r.allpts.slice(n,n+6))}else if(i==="segments")for(var a=t.rstyle.linePts=[],n=0;n+1<r.allpts.length;n+=2)a.push({x:r.allpts[n],y:r.allpts[n+1]});else if(i==="haystack"){var s=r.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},Tk.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},No={},No.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Ec(t)){var r,i,n=e._private,a=e.width(),s=e.height(),o=e.padding(),u=e.position(),h=e.pstyle("text-halign").strValue,d=e.pstyle("text-valign").strValue,p=n.rscratch,g=n.rstyle;switch(h){case"left":r=u.x-a/2-o;break;case"right":r=u.x+a/2+o;break;default:r=u.x}switch(d){case"top":i=u.y-s/2-o;break;case"bottom":i=u.y+s/2+o;break;default:i=u.y}p.labelX=r,p.labelY=i,g.labelX=r,g.labelY=i,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}},GP=l(function(e,t){var r=Math.atan(t/e);return e===0&&r<0&&(r=r*-1),r},"lineAngleFromDelta"),UP=l(function(e,t){var r=t.x-e.x,i=t.y-e.y;return GP(r,i)},"lineAngle"),KTe=l(function(e,t,r,i){var n=v1(0,i-.001,1),a=v1(0,i+.001,1),s=zd(e,t,r,n),o=zd(e,t,r,a);return UP(s,o)},"bezierAngle"),No.recalculateEdgeLabelProjections=function(e){var t,r=e._private,i=r.rscratch,n=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:i.midX,y:i.midY};var s=l(function(d,p,g){yl(r.rscratch,d,p,g),yl(r.rstyle,d,p,g)},"setRs");s("labelX",null,t.x),s("labelY",null,t.y);var o=GP(i.midDispX,i.midDispY);s("labelAutoAngle",null,o);var u=l(function(){if(u.cache)return u.cache;for(var d=[],p=0;p+5<i.allpts.length;p+=4){var g={x:i.allpts[p],y:i.allpts[p+1]},f={x:i.allpts[p+2],y:i.allpts[p+3]},m={x:i.allpts[p+4],y:i.allpts[p+5]};d.push({p0:g,p1:f,p2:m,startDist:0,length:0,segments:[]})}var x=r.rstyle.bezierPts,T=n.bezierProjPcts.length;function k(y,v,w,C,A){var M=nh(v,w),N=y.segments[y.segments.length-1],O={p0:v,p1:w,t0:C,t1:A,startDist:N?N.startDist+N.length:0,length:M};y.segments.push(O),y.length+=M}l(k,"addSegment");for(var E=0;E<d.length;E++){var S=d[E],L=d[E-1];L&&(S.startDist=L.startDist+L.length),k(S,S.p0,x[E*T],0,n.bezierProjPcts[0]);for(var b=0;b<T-1;b++)k(S,x[E*T+b],x[E*T+b+1],n.bezierProjPcts[b],n.bezierProjPcts[b+1]);k(S,x[E*T+T-1],S.p2,n.bezierProjPcts[T-1],1)}return u.cache=d},"createControlPointInfo"),h=l(function(d){var p,g=d==="source";if(a[d]){var f=e.pstyle(d+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var m=u(),x,T=0,k=0,E=0;E<m.length;E++){for(var S=m[g?E:m.length-1-E],L=0;L<S.segments.length;L++){var b=S.segments[g?L:S.segments.length-1-L],y=E===m.length-1&&L===S.segments.length-1;if(T=k,k+=b.length,k>=f||y){x={cp:S,segment:b};break}}if(x)break}var v=x.cp,w=x.segment,C=(f-T)/w.length,A=w.t1-w.t0,M=g?w.t0+A*C:w.t1-A*C;M=v1(0,M,1),t=zd(v.p0,v.p1,v.p2,M),p=KTe(v.p0,v.p1,v.p2,M);break}case"straight":case"segments":case"haystack":{for(var N=0,O,_,I,R,P=i.allpts.length,D=0;D+3<P&&(g?(I={x:i.allpts[D],y:i.allpts[D+1]},R={x:i.allpts[D+2],y:i.allpts[D+3]}):(I={x:i.allpts[P-2-D],y:i.allpts[P-1-D]},R={x:i.allpts[P-4-D],y:i.allpts[P-3-D]}),O=nh(I,R),_=N,N+=O,!(N>=f));D+=2);var $=f-_,F=$/O;F=v1(0,F,1),t=l6e(I,R,F),p=UP(I,R);break}}s("labelX",d,t.x),s("labelY",d,t.y),s("labelAutoAngle",d,p)}},"calculateEndProjection");h("source"),h("target"),this.applyLabelDimensions(e)}},No.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},No.applyPrefixedLabelDimensions=function(e,t){var r=e._private,i=this.getLabelText(e,t),n=ih(i,e._private.labelDimsKey);if(Ma(r.rscratch,"prefixedLabelDimsKey",t)!==n){yl(r.rscratch,"prefixedLabelDimsKey",t,n);var a=this.calculateLabelDimensions(e,i),s=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,u=Ma(r.rscratch,"labelWrapCachedLines",t)||[],h=o!=="wrap"?1:Math.max(u.length,1),d=a.height/h,p=d*s,g=a.width,f=a.height+(h-1)*(s-1)*d;yl(r.rstyle,"labelWidth",t,g),yl(r.rscratch,"labelWidth",t,g),yl(r.rstyle,"labelHeight",t,f),yl(r.rscratch,"labelHeight",t,f),yl(r.rscratch,"labelLineHeight",t,p)}},No.getLabelText=function(e,t){var r=e._private,i=t?t+"-":"",n=e.pstyle(i+"label").strValue,a=e.pstyle("text-transform").value,s=l(function(U,j){return j?(yl(r.rscratch,U,t,j),j):Ma(r.rscratch,U,t)},"rscratch");if(!n)return"";a=="none"||(a=="uppercase"?n=n.toUpperCase():a=="lowercase"&&(n=n.toLowerCase()));var o=e.pstyle("text-wrap").value;if(o==="wrap"){var u=s("labelKey");if(u!=null&&s("labelWrapKey")===u)return s("labelWrapCachedText");for(var h="\u200B",d=n.split(`
`),p=e.pstyle("text-max-width").pfValue,g=e.pstyle("text-overflow-wrap").value,f=g==="anywhere",m=[],x=/[\s\u200b]+|$/g,T=0;T<d.length;T++){var k=d[T],E=this.calculateLabelDimensions(e,k),S=E.width;if(f){var L=k.split("").join(h);k=L}if(S>p){var b=k.matchAll(x),y="",v=0,w=Na(b),C;try{for(w.s();!(C=w.n()).done;){var A=C.value,M=A[0],N=k.substring(v,A.index);v=A.index+M.length;var O=y.length===0?N:y+N+M,_=this.calculateLabelDimensions(e,O),I=_.width;I<=p?y+=N+M:(y&&m.push(y),y=N+M)}}catch(U){w.e(U)}finally{w.f()}y.match(/^[\s\u200b]+$/)||m.push(y)}else m.push(k)}s("labelWrapCachedLines",m),n=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",u)}else if(o==="ellipsis"){var R=e.pstyle("text-max-width").pfValue,P="",D="\u2026",$=!1;if(this.calculateLabelDimensions(e,n).width<R)return n;for(var F=0;F<n.length;F++){var z=this.calculateLabelDimensions(e,P+n[F]+D).width;if(z>R)break;P+=n[F],F===n.length-1&&($=!0)}return $||(P+=D),P}return n},No.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t},No.calculateLabelDimensions=function(e,t){var r=this,i=r.cy.window(),n=i.document,a=0,s=e.pstyle("font-style").strValue,o=e.pstyle("font-size").pfValue,u=e.pstyle("font-family").strValue,h=e.pstyle("font-weight").strValue,d=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!d){d=this.labelCalcCanvas=n.createElement("canvas"),p=this.labelCalcCanvasContext=d.getContext("2d");var g=d.style;g.position="absolute",g.left="-9999px",g.top="-9999px",g.zIndex="-1",g.visibility="hidden",g.pointerEvents="none"}p.font="".concat(s," ").concat(h," ").concat(o,"px ").concat(u);for(var f=0,m=0,x=t.split(`
`),T=0;T<x.length;T++){var k=x[T],E=p.measureText(k),S=Math.ceil(E.width),L=o;f=Math.max(S,f),m+=L}return f+=a,m+=a,{width:f,height:m}},No.calculateLabelAngle=function(e,t){var r=e._private,i=r.rscratch,n=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),o=s.strValue;return o==="none"?0:n&&o==="autorotate"?i.labelAutoAngle:o==="autorotate"?0:s.pfValue},No.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),i=e._private,n=i.rscratch;n.labelAngle=t.calculateLabelAngle(e),r&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))},qP={},jP=28,HP=!1,qP.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<jP||e.height()<jP))return HP||(Ur("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),HP=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var i=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(i).name}return r},$v={},$v.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,i=l(function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(a),s)for(var o=0;o<a.length;o++){var u=a[o],h=u._private,d=h.rstyle;d.clean=!1,d.cleanConnected=!1}},"enqueue");r.binder(e).on("bounds.* dirty.*",l(function(a){var s=a.target;i(s)},"onDirtyBounds")).on("style.* background.*",l(function(a){var s=a.target;i(s,!1)},"onDirtyStyle"));var n=l(function(a){if(a){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var u=t[o],h=u._private.rstyle;u.isNode()&&!h.cleanConnected&&(i(u.connectedEdges()),h.cleanConnected=!0)}if(s)for(var d=0;d<s.length;d++){var p=s[d];p(a,t)}r.recalculateRenderedStyle(t),t=e.collection()}},"updateEleCalcs");r.flushRenderedStyleQueue=function(){n(!0)},r.beforeRender(n,r.beforeRenderPriorities.eleCalcs)},$v.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)},$v.recalculateRenderedStyle=function(e,t){var r=l(function(S){return S._private.rstyle.cleanConnected},"isCleanConnected");if(e.length!==0){var i=[],n=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],o=s._private,u=o.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(u.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(S){return!S._private.rstyle.clean&&S.isBundledBezier()})&&(u.clean=!1),!(t&&u.clean||s.removed())&&s.pstyle("display").value!=="none"&&(o.group==="nodes"?n.push(s):i.push(s),u.clean=!0)}for(var h=0;h<n.length;h++){var d=n[h],p=d._private,g=p.rstyle,f=d.position();this.recalculateNodeLabelProjection(d),g.nodeX=f.x,g.nodeY=f.y,g.nodeW=d.pstyle("width").pfValue,g.nodeH=d.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var m=0;m<i.length;m++){var x=i[m],T=x._private,k=T.rstyle,E=T.rscratch;k.srcX=E.arrowStartX,k.srcY=E.arrowStartY,k.tgtX=E.arrowEndX,k.tgtY=E.arrowEndY,k.midX=E.midX,k.midY=E.midY,k.labelAngle=E.labelAngle,k.sourceLabelAngle=E.sourceLabelAngle,k.targetLabelAngle=E.targetLabelAngle}}}},Fv={},Fv.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var i=e[r],n=i._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(var r=0;r<t.length;r++){var i=t[r];e.drag.push(i)}}},Fv.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null},Fv.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(kP),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t},VP={},[uh,Bv,Hn,M1,Tk,No,qP,$v,Fv].forEach(function(e){er(VP,e)}),YP={},YP.getCachedImage=function(e,t,r){var i=this,n=i.imageCache=i.imageCache||{},a=n[e];if(a)return a.image.complete||a.image.addEventListener("load",r),a.image;a=n[e]=n[e]||{};var s=a.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var o="data:",u=e.substring(0,o.length).toLowerCase()===o;return u||(t=t==="null"?null:t,s.crossOrigin=t),s.src=e,s},Jd={},Jd.registerBinding=function(e,t,r,i){var n=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],s=0;s<e.length;s++){var o=e[s];if(o!==void 0){var u=this.binder(o);a.push(u.on.apply(u,n))}}return a}var u=this.binder(e);return u.on.apply(u,n)},Jd.binder=function(e){var t=this,r=t.cy.window(),i=e===r||e===r.document||e===r.document.body||W3e(e);if(t.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:l(function(){return n=!0,!0},"get")});r.addEventListener("test",null,a)}catch(o){}t.supportsPassiveEvents=n}var s=l(function(o,u,h){var d=Array.prototype.slice.call(arguments);return i&&t.supportsPassiveEvents&&(d[2]={capture:h!=null?h:!1,passive:!1,once:!1}),t.bindings.push({target:e,args:d}),(e.addEventListener||e.on).apply(e,d),this},"on");return{on:s,addEventListener:s,addListener:s,bind:s}},Jd.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},Jd.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},Jd.load=function(){var e=this,t=e.cy.window(),r=l(function(G){return G.selected()},"isSelected"),i=l(function(G){var ie=G.getRootNode();if(ie&&ie.nodeType===11&&ie.host!==void 0)return ie},"getShadowRoot"),n=l(function(G,ie,se,pe){G==null&&(G=e.cy);for(var fe=0;fe<ie.length;fe++){var be=ie[fe];G.emit({originalEvent:se,type:be,position:pe})}},"triggerEvents"),a=l(function(G){return G.shiftKey||G.metaKey||G.ctrlKey},"isMultSelKeyDown"),s=l(function(G,ie){var se=!0;if(e.cy.hasCompoundNodes()&&G&&G.pannable())for(var pe=0;ie&&pe<ie.length;pe++){var G=ie[pe];if(G.isNode()&&G.isParent()&&!G.pannable()){se=!1;break}}else se=!0;return se},"allowPanningPassthrough"),o=l(function(G){G[0]._private.grabbed=!0},"setGrabbed"),u=l(function(G){G[0]._private.grabbed=!1},"setFreed"),h=l(function(G){G[0]._private.rscratch.inDragLayer=!0},"setInDragLayer"),d=l(function(G){G[0]._private.rscratch.inDragLayer=!1},"setOutDragLayer"),p=l(function(G){G[0]._private.rscratch.isGrabTarget=!0},"setGrabTarget"),g=l(function(G){G[0]._private.rscratch.isGrabTarget=!1},"removeGrabTarget"),f=l(function(G,ie){var se=ie.addToList,pe=se.has(G);!pe&&G.grabbable()&&!G.locked()&&(se.merge(G),o(G))},"addToDragList"),m=l(function(G,ie){if(G.cy().hasCompoundNodes()&&!(ie.inDragLayer==null&&ie.addToList==null)){var se=G.descendants();ie.inDragLayer&&(se.forEach(h),se.connectedEdges().forEach(h)),ie.addToList&&f(se,ie)}},"addDescendantsToDrag"),x=l(function(G,ie){ie=ie||{};var se=G.cy().hasCompoundNodes();ie.inDragLayer&&(G.forEach(h),G.neighborhood().stdFilter(function(pe){return!se||pe.isEdge()}).forEach(h)),ie.addToList&&G.forEach(function(pe){f(pe,ie)}),m(G,ie),E(G,{inDragLayer:ie.inDragLayer}),e.updateCachedGrabbedEles()},"addNodesToDrag"),T=x,k=l(function(G){G&&(e.getCachedZSortedEles().forEach(function(ie){u(ie),d(ie),g(ie)}),e.updateCachedGrabbedEles())},"freeDraggedElements"),E=l(function(G,ie){if(!(ie.inDragLayer==null&&ie.addToList==null)&&G.cy().hasCompoundNodes()){var se=G.ancestors().orphans();if(!se.same(G)){var pe=se.descendants().spawnSelf().merge(se).unmerge(G).unmerge(G.descendants()),fe=pe.connectedEdges();ie.inDragLayer&&(fe.forEach(h),pe.forEach(h)),ie.addToList&&pe.forEach(function(be){f(be,ie)})}}},"updateAncestorsInDragLayer"),S=l(function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},"blurActiveDomElement"),L=typeof MutationObserver<"u",b=typeof ResizeObserver<"u";L?(e.removeObserver=new MutationObserver(function(G){for(var ie=0;ie<G.length;ie++){var se=G[ie],pe=se.removedNodes;if(pe)for(var fe=0;fe<pe.length;fe++){var be=pe[fe];if(be===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(G){e.destroy()});var y=p1(function(){e.cy.resize()},100);L&&(e.styleObserver=new MutationObserver(y),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",y),b&&(e.resizeObserver=new ResizeObserver(y),e.resizeObserver.observe(e.container));var v=l(function(G,ie){for(;G!=null;)ie(G),G=G.parentNode},"forEachUp"),w=l(function(){e.invalidateContainerClientCoordsCache()},"invalidateCoords");v(e.container,function(G){e.registerBinding(G,"transitionend",w),e.registerBinding(G,"animationend",w),e.registerBinding(G,"scroll",w)}),e.registerBinding(e.container,"contextmenu",function(G){G.preventDefault()});var C=l(function(){return e.selection[4]!==0},"inBoxSelection"),A=l(function(G){for(var ie=e.findContainerClientCoords(),se=ie[0],pe=ie[1],fe=ie[2],be=ie[3],Se=G.touches?G.touches:[G],Te=!1,Ge=0;Ge<Se.length;Ge++){var Ye=Se[Ge];if(se<=Ye.clientX&&Ye.clientX<=se+fe&&pe<=Ye.clientY&&Ye.clientY<=pe+be){Te=!0;break}}if(!Te)return!1;for(var st=e.container,ze=G.target,We=ze.parentNode,je=!1;We;){if(We===st){je=!0;break}We=We.parentNode}return!!je},"eventInContainer");e.registerBinding(e.container,"mousedown",l(function(G){if(A(G)&&!(e.hoverData.which===1&&G.which!==1)){G.preventDefault(),S(),e.hoverData.capture=!0,e.hoverData.which=G.which;var ie=e.cy,se=[G.clientX,G.clientY],pe=e.projectIntoViewport(se[0],se[1]),fe=e.selection,be=e.findNearestElements(pe[0],pe[1],!0,!1),Se=be[0],Te=e.dragData.possibleDragElements;e.hoverData.mdownPos=pe,e.hoverData.mdownGPos=se;var Ge=l(function(je){return{originalEvent:G,type:je,position:{x:pe[0],y:pe[1]}}},"makeEvent"),Ye=l(function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var je=e.hoverData.down;je?je.emit(Ge("taphold")):ie.emit(Ge("taphold"))}},e.tapholdDuration)},"checkForTaphold");if(G.which==3){e.hoverData.cxtStarted=!0;var st={originalEvent:G,type:"cxttapstart",position:{x:pe[0],y:pe[1]}};Se?(Se.activate(),Se.emit(st),e.hoverData.down=Se):ie.emit(st),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(G.which==1){Se&&Se.activate();{if(Se!=null&&e.nodeIsGrabbable(Se)){var ze=l(function(je){je.emit(Ge("grab"))},"triggerGrab");if(p(Se),!Se.selected())Te=e.dragData.possibleDragElements=ie.collection(),T(Se,{addToList:Te}),Se.emit(Ge("grabon")).emit(Ge("grab"));else{Te=e.dragData.possibleDragElements=ie.collection();var We=ie.$(function(je){return je.isNode()&&je.selected()&&e.nodeIsGrabbable(je)});x(We,{addToList:Te}),Se.emit(Ge("grabon")),We.forEach(ze)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=Se,e.hoverData.downs=be,e.hoverData.downTime=new Date().getTime()}n(Se,["mousedown","tapstart","vmousedown"],G,{x:pe[0],y:pe[1]}),Se==null?(fe[4]=1,e.data.bgActivePosistion={x:pe[0],y:pe[1]},e.redrawHint("select",!0),e.redraw()):Se.pannable()&&(fe[4]=1),Ye()}fe[0]=fe[2]=pe[0],fe[1]=fe[3]=pe[1]}},"mousedownHandler"),!1);var M=i(e.container);e.registerBinding([t,M],"mousemove",l(function(G){var ie=e.hoverData.capture;if(!(!ie&&!A(G))){var se=!1,pe=e.cy,fe=pe.zoom(),be=[G.clientX,G.clientY],Se=e.projectIntoViewport(be[0],be[1]),Te=e.hoverData.mdownPos,Ge=e.hoverData.mdownGPos,Ye=e.selection,st=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(st=e.findNearestElement(Se[0],Se[1],!0,!1));var ze=e.hoverData.last,We=e.hoverData.down,je=[Se[0]-Ye[2],Se[1]-Ye[3]],Ue=e.dragData.possibleDragElements,Ke;if(Ge){var Et=be[0]-Ge[0],ht=Et*Et,ct=be[1]-Ge[1],St=ct*ct,rt=ht+St;e.hoverData.isOverThresholdDrag=Ke=rt>=e.desktopTapThreshold2}var gt=a(G);Ke&&(e.hoverData.tapholdCancelled=!0);var yt=l(function(){var Or=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Or.length===0?(Or.push(je[0]),Or.push(je[1])):(Or[0]+=je[0],Or[1]+=je[1])},"updateDragDelta");se=!0,n(st,["mousemove","vmousemove","tapdrag"],G,{x:Se[0],y:Se[1]});var Je=l(function(Or){return{originalEvent:G,type:Or,position:{x:Se[0],y:Se[1]}}},"makeEvent"),Qe=l(function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||pe.emit(Je("boxstart")),Ye[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()},"goIntoBoxMode");if(e.hoverData.which===3){if(Ke){var Lt=Je("cxtdrag");We?We.emit(Lt):pe.emit(Lt),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||st!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(Je("cxtdragout")),e.hoverData.cxtOver=st,st&&st.emit(Je("cxtdragover")))}}else if(e.hoverData.dragging){if(se=!0,pe.panningEnabled()&&pe.userPanningEnabled()){var Vt;if(e.hoverData.justStartedPan){var $t=e.hoverData.mdownPos;Vt={x:(Se[0]-$t[0])*fe,y:(Se[1]-$t[1])*fe},e.hoverData.justStartedPan=!1}else Vt={x:je[0]*fe,y:je[1]*fe};pe.panBy(Vt),pe.emit(Je("dragpan")),e.hoverData.dragged=!0}Se=e.projectIntoViewport(G.clientX,G.clientY)}else if(Ye[4]==1&&(We==null||We.pannable())){if(Ke){if(!e.hoverData.dragging&&pe.boxSelectionEnabled()&&(gt||!pe.panningEnabled()||!pe.userPanningEnabled()))Qe();else if(!e.hoverData.selecting&&pe.panningEnabled()&&pe.userPanningEnabled()){var Kr=s(We,e.hoverData.downs);Kr&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Ye[4]=0,e.data.bgActivePosistion=Fd(Te),e.redrawHint("select",!0),e.redraw())}We&&We.pannable()&&We.active()&&We.unactivate()}}else{if(We&&We.pannable()&&We.active()&&We.unactivate(),(!We||!We.grabbed())&&st!=ze&&(ze&&n(ze,["mouseout","tapdragout"],G,{x:Se[0],y:Se[1]}),st&&n(st,["mouseover","tapdragover"],G,{x:Se[0],y:Se[1]}),e.hoverData.last=st),We)if(Ke){if(pe.boxSelectionEnabled()&&gt)We&&We.grabbed()&&(k(Ue),We.emit(Je("freeon")),Ue.emit(Je("free")),e.dragData.didDrag&&(We.emit(Je("dragfreeon")),Ue.emit(Je("dragfree")))),Qe();else if(We&&We.grabbed()&&e.nodeIsDraggable(We)){var ur=!e.dragData.didDrag;ur&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||x(Ue,{inDragLayer:!0});var tr={x:0,y:0};if(bt(je[0])&&bt(je[1])&&(tr.x+=je[0],tr.y+=je[1],ur)){var vr=e.hoverData.dragDelta;vr&&bt(vr[0])&&bt(vr[1])&&(tr.x+=vr[0],tr.y+=vr[1])}e.hoverData.draggingEles=!0,Ue.silentShift(tr).emit(Je("position")).emit(Je("drag")),e.redrawHint("drag",!0),e.redraw()}}else yt();se=!0}if(Ye[2]=Se[0],Ye[3]=Se[1],se)return G.stopPropagation&&G.stopPropagation(),G.preventDefault&&G.preventDefault(),!1}},"mousemoveHandler"),!1);var N,O,_;e.registerBinding(t,"mouseup",l(function(G){if(!(e.hoverData.which===1&&G.which!==1&&e.hoverData.capture)){var ie=e.hoverData.capture;if(ie){e.hoverData.capture=!1;var se=e.cy,pe=e.projectIntoViewport(G.clientX,G.clientY),fe=e.selection,be=e.findNearestElement(pe[0],pe[1],!0,!1),Se=e.dragData.possibleDragElements,Te=e.hoverData.down,Ge=a(G);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Te&&Te.unactivate();var Ye=l(function(Ke){return{originalEvent:G,type:Ke,position:{x:pe[0],y:pe[1]}}},"makeEvent");if(e.hoverData.which===3){var st=Ye("cxttapend");if(Te?Te.emit(st):se.emit(st),!e.hoverData.cxtDragged){var ze=Ye("cxttap");Te?Te.emit(ze):se.emit(ze)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(be,["mouseup","tapend","vmouseup"],G,{x:pe[0],y:pe[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(Te,["click","tap","vclick"],G,{x:pe[0],y:pe[1]}),O=!1,G.timeStamp-_<=se.multiClickDebounceTime()?(N&&clearTimeout(N),O=!0,_=null,n(Te,["dblclick","dbltap","vdblclick"],G,{x:pe[0],y:pe[1]})):(N=setTimeout(function(){O||n(Te,["oneclick","onetap","voneclick"],G,{x:pe[0],y:pe[1]})},se.multiClickDebounceTime()),_=G.timeStamp)),Te==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!a(G)&&(se.$(r).unselect(["tapunselect"]),Se.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=Se=se.collection()),be==Te&&!e.dragData.didDrag&&!e.hoverData.selecting&&be!=null&&be._private.selectable&&(e.hoverData.dragging||(se.selectionType()==="additive"||Ge?be.selected()?be.unselect(["tapunselect"]):be.select(["tapselect"]):Ge||(se.$(r).unmerge(be).unselect(["tapunselect"]),be.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var We=se.collection(e.getAllInBox(fe[0],fe[1],fe[2],fe[3]));e.redrawHint("select",!0),We.length>0&&e.redrawHint("eles",!0),se.emit(Ye("boxend"));var je=l(function(Ke){return Ke.selectable()&&!Ke.selected()},"eleWouldBeSelected");se.selectionType()==="additive"||Ge||se.$(r).unmerge(We).unselect(),We.emit(Ye("box")).stdFilter(je).select().emit(Ye("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!fe[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Ue=Te&&Te.grabbed();k(Se),Ue&&(Te.emit(Ye("freeon")),Se.emit(Ye("free")),e.dragData.didDrag&&(Te.emit(Ye("dragfreeon")),Se.emit(Ye("dragfree"))))}}fe[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},"mouseupHandler"),!1);var I=[],R=4,P,D=1e5,$=l(function(G,ie){for(var se=0;se<G.length;se++)if(G[se]%ie!==0)return!1;return!0},"allAreDivisibleBy"),F=l(function(G){for(var ie=Math.abs(G[0]),se=1;se<G.length;se++)if(Math.abs(G[se])!==ie)return!1;return!0},"allAreSameMagnitude"),z=l(function(G){var ie=!1,se=G.deltaY;if(se==null&&(G.wheelDeltaY!=null?se=G.wheelDeltaY/4:G.wheelDelta!=null&&(se=G.wheelDelta/4)),se!==0){if(P==null)if(I.length>=R){var pe=I;if(P=$(pe,5),!P){var fe=Math.abs(pe[0]);P=F(pe)&&fe>5}if(P)for(var be=0;be<pe.length;be++)D=Math.min(Math.abs(pe[be]),D)}else I.push(se),ie=!0;else P&&(D=Math.min(Math.abs(se),D));if(!e.scrollingPage){var Se=e.cy,Te=Se.zoom(),Ge=Se.pan(),Ye=e.projectIntoViewport(G.clientX,G.clientY),st=[Ye[0]*Te+Ge.x,Ye[1]*Te+Ge.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||C()){G.preventDefault();return}if(Se.panningEnabled()&&Se.userPanningEnabled()&&Se.zoomingEnabled()&&Se.userZoomingEnabled()){G.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var ze;ie&&Math.abs(se)>5&&(se=ek(se)*5),ze=se/-250,P&&(ze/=D,ze*=3),ze=ze*e.wheelSensitivity;var We=G.deltaMode===1;We&&(ze*=33);var je=Se.zoom()*Math.pow(10,ze);G.type==="gesturechange"&&(je=e.gestureStartZoom*G.scale),Se.zoom({level:je,renderedPosition:{x:st[0],y:st[1]}}),Se.emit({type:G.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:G,position:{x:Ye[0],y:Ye[1]}})}}}},"wheelHandler");e.registerBinding(e.container,"wheel",z,!0),e.registerBinding(t,"scroll",l(function(G){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},"scrollHandler"),!0),e.registerBinding(e.container,"gesturestart",l(function(G){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||G.preventDefault()},"gestureStartHandler"),!0),e.registerBinding(e.container,"gesturechange",function(G){e.hasTouchStarted||z(G)},!0),e.registerBinding(e.container,"mouseout",l(function(G){var ie=e.projectIntoViewport(G.clientX,G.clientY);e.cy.emit({originalEvent:G,type:"mouseout",position:{x:ie[0],y:ie[1]}})},"mouseOutHandler"),!1),e.registerBinding(e.container,"mouseover",l(function(G){var ie=e.projectIntoViewport(G.clientX,G.clientY);e.cy.emit({originalEvent:G,type:"mouseover",position:{x:ie[0],y:ie[1]}})},"mouseOverHandler"),!1);var U,j,H,Q,re,le,oe,W,J,Y,X,te,ce,K=l(function(G,ie,se,pe){return Math.sqrt((se-G)*(se-G)+(pe-ie)*(pe-ie))},"distance"),me=l(function(G,ie,se,pe){return(se-G)*(se-G)+(pe-ie)*(pe-ie)},"distanceSq"),Z;e.registerBinding(e.container,"touchstart",Z=l(function(G){if(e.hasTouchStarted=!0,!!A(G)){S(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ie=e.cy,se=e.touchData.now,pe=e.touchData.earlier;if(G.touches[0]){var fe=e.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);se[0]=fe[0],se[1]=fe[1]}if(G.touches[1]){var fe=e.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);se[2]=fe[0],se[3]=fe[1]}if(G.touches[2]){var fe=e.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);se[4]=fe[0],se[5]=fe[1]}var be=l(function(rt){return{originalEvent:G,type:rt,position:{x:se[0],y:se[1]}}},"makeEvent");if(G.touches[1]){e.touchData.singleTouchMoved=!0,k(e.dragData.touchDragEles);var Se=e.findContainerClientCoords();J=Se[0],Y=Se[1],X=Se[2],te=Se[3],U=G.touches[0].clientX-J,j=G.touches[0].clientY-Y,H=G.touches[1].clientX-J,Q=G.touches[1].clientY-Y,ce=0<=U&&U<=X&&0<=H&&H<=X&&0<=j&&j<=te&&0<=Q&&Q<=te;var Te=ie.pan(),Ge=ie.zoom();re=K(U,j,H,Q),le=me(U,j,H,Q),oe=[(U+H)/2,(j+Q)/2],W=[(oe[0]-Te.x)/Ge,(oe[1]-Te.y)/Ge];var Ye=200,st=Ye*Ye;if(le<st&&!G.touches[2]){var ze=e.findNearestElement(se[0],se[1],!0,!0),We=e.findNearestElement(se[2],se[3],!0,!0);ze&&ze.isNode()?(ze.activate().emit(be("cxttapstart")),e.touchData.start=ze):We&&We.isNode()?(We.activate().emit(be("cxttapstart")),e.touchData.start=We):ie.emit(be("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(G.touches[2])ie.boxSelectionEnabled()&&G.preventDefault();else if(!G.touches[1]&&G.touches[0]){var je=e.findNearestElements(se[0],se[1],!0,!0),Ue=je[0];if(Ue!=null&&(Ue.activate(),e.touchData.start=Ue,e.touchData.starts=je,e.nodeIsGrabbable(Ue))){var Ke=e.dragData.touchDragEles=ie.collection(),Et=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Ue.selected()?(Et=ie.$(function(rt){return rt.selected()&&e.nodeIsGrabbable(rt)}),x(Et,{addToList:Ke})):T(Ue,{addToList:Ke}),p(Ue),Ue.emit(be("grabon")),Et?Et.forEach(function(rt){rt.emit(be("grab"))}):Ue.emit(be("grab"))}n(Ue,["touchstart","tapstart","vmousedown"],G,{x:se[0],y:se[1]}),Ue==null&&(e.data.bgActivePosistion={x:fe[0],y:fe[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],G,{x:se[0],y:se[1]})},e.tapholdDuration)}if(G.touches.length>=1){for(var ht=e.touchData.startPosition=[null,null,null,null,null,null],ct=0;ct<se.length;ct++)ht[ct]=pe[ct]=se[ct];var St=G.touches[0];e.touchData.startGPosition=[St.clientX,St.clientY]}}},"touchstartHandler"),!1);var Ae;e.registerBinding(t,"touchmove",Ae=l(function(G){var ie=e.touchData.capture;if(!(!ie&&!A(G))){var se=e.selection,pe=e.cy,fe=e.touchData.now,be=e.touchData.earlier,Se=pe.zoom();if(G.touches[0]){var Te=e.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}if(G.touches[1]){var Te=e.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);fe[2]=Te[0],fe[3]=Te[1]}if(G.touches[2]){var Te=e.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);fe[4]=Te[0],fe[5]=Te[1]}var Ge=l(function(Z8){return{originalEvent:G,type:Z8,position:{x:fe[0],y:fe[1]}}},"makeEvent"),Ye=e.touchData.startGPosition,st;if(ie&&G.touches[0]&&Ye){for(var ze=[],We=0;We<fe.length;We++)ze[We]=fe[We]-be[We];var je=G.touches[0].clientX-Ye[0],Ue=je*je,Ke=G.touches[0].clientY-Ye[1],Et=Ke*Ke,ht=Ue+Et;st=ht>=e.touchTapThreshold2}if(ie&&e.touchData.cxt){G.preventDefault();var ct=G.touches[0].clientX-J,St=G.touches[0].clientY-Y,rt=G.touches[1].clientX-J,gt=G.touches[1].clientY-Y,yt=me(ct,St,rt,gt),Je=yt/le,Qe=150,Lt=Qe*Qe,Vt=1.5,$t=Vt*Vt;if(Je>=$t||yt>=Lt){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Kr=Ge("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(Kr),e.touchData.start=null):pe.emit(Kr)}}if(ie&&e.touchData.cxt){var Kr=Ge("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Kr):pe.emit(Kr),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var ur=e.findNearestElement(fe[0],fe[1],!0,!0);(!e.touchData.cxtOver||ur!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit(Ge("cxtdragout")),e.touchData.cxtOver=ur,ur&&ur.emit(Ge("cxtdragover")))}else if(ie&&G.touches[2]&&pe.boxSelectionEnabled())G.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||pe.emit(Ge("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,se[4]=1,!se||se.length===0||se[0]===void 0?(se[0]=(fe[0]+fe[2]+fe[4])/3,se[1]=(fe[1]+fe[3]+fe[5])/3,se[2]=(fe[0]+fe[2]+fe[4])/3+1,se[3]=(fe[1]+fe[3]+fe[5])/3+1):(se[2]=(fe[0]+fe[2]+fe[4])/3,se[3]=(fe[1]+fe[3]+fe[5])/3),e.redrawHint("select",!0),e.redraw();else if(ie&&G.touches[1]&&!e.touchData.didSelect&&pe.zoomingEnabled()&&pe.panningEnabled()&&pe.userZoomingEnabled()&&pe.userPanningEnabled()){G.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var tr=e.dragData.touchDragEles;if(tr){e.redrawHint("drag",!0);for(var vr=0;vr<tr.length;vr++){var Or=tr[vr]._private;Or.grabbed=!1,Or.rscratch.inDragLayer=!1}}var we=e.touchData.start,ct=G.touches[0].clientX-J,St=G.touches[0].clientY-Y,rt=G.touches[1].clientX-J,gt=G.touches[1].clientY-Y,pt=K(ct,St,rt,gt),ot=pt/re;if(ce){var pr=ct-U,Pr=St-j,Sr=rt-H,Dn=gt-Q,li=(pr+Sr)/2,hn=(Pr+Dn)/2,ns=pe.zoom(),Jr=ns*ot,Ri=pe.pan(),kt=W[0]*ns+Ri.x,it=W[1]*ns+Ri.y,Xe={x:-Jr/ns*(kt-Ri.x-li)+kt,y:-Jr/ns*(it-Ri.y-hn)+it};if(we&&we.active()){var tr=e.dragData.touchDragEles;k(tr),e.redrawHint("drag",!0),e.redrawHint("eles",!0),we.unactivate().emit(Ge("freeon")),tr.emit(Ge("free")),e.dragData.didDrag&&(we.emit(Ge("dragfreeon")),tr.emit(Ge("dragfree")))}pe.viewport({zoom:Jr,pan:Xe,cancelOnFailedZoom:!0}),pe.emit(Ge("pinchzoom")),re=pt,U=ct,j=St,H=rt,Q=gt,e.pinching=!0}if(G.touches[0]){var Te=e.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}if(G.touches[1]){var Te=e.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);fe[2]=Te[0],fe[3]=Te[1]}if(G.touches[2]){var Te=e.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);fe[4]=Te[0],fe[5]=Te[1]}}else if(G.touches[0]&&!e.touchData.didSelect){var Yt=e.touchData.start,ge=e.touchData.last,ur;if(!e.hoverData.draggingEles&&!e.swipePanning&&(ur=e.findNearestElement(fe[0],fe[1],!0,!0)),ie&&Yt!=null&&G.preventDefault(),ie&&Yt!=null&&e.nodeIsDraggable(Yt))if(st){var tr=e.dragData.touchDragEles,kn=!e.dragData.didDrag;kn&&x(tr,{inDragLayer:!0}),e.dragData.didDrag=!0;var ye={x:0,y:0};if(bt(ze[0])&&bt(ze[1])&&(ye.x+=ze[0],ye.y+=ze[1],kn)){e.redrawHint("eles",!0);var $r=e.touchData.dragDelta;$r&&bt($r[0])&&bt($r[1])&&(ye.x+=$r[0],ye.y+=$r[1])}e.hoverData.draggingEles=!0,tr.silentShift(ye).emit(Ge("position")).emit(Ge("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==be[0]&&e.touchData.startPosition[1]==be[1]&&e.redrawHint("eles",!0),e.redraw()}else{var $r=e.touchData.dragDelta=e.touchData.dragDelta||[];$r.length===0?($r.push(ze[0]),$r.push(ze[1])):($r[0]+=ze[0],$r[1]+=ze[1])}if(n(Yt||ur,["touchmove","tapdrag","vmousemove"],G,{x:fe[0],y:fe[1]}),(!Yt||!Yt.grabbed())&&ur!=ge&&(ge&&ge.emit(Ge("tapdragout")),ur&&ur.emit(Ge("tapdragover"))),e.touchData.last=ur,ie)for(var vr=0;vr<fe.length;vr++)fe[vr]&&e.touchData.startPosition[vr]&&st&&(e.touchData.singleTouchMoved=!0);if(ie&&(Yt==null||Yt.pannable())&&pe.panningEnabled()&&pe.userPanningEnabled()){var K8=s(Yt,e.touchData.starts);K8&&(G.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Fd(e.touchData.startPosition)),e.swipePanning?(pe.panBy({x:ze[0]*Se,y:ze[1]*Se}),pe.emit(Ge("dragpan"))):st&&(e.swipePanning=!0,pe.panBy({x:je*Se,y:Ke*Se}),pe.emit(Ge("dragpan")),Yt&&(Yt.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Te=e.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);fe[0]=Te[0],fe[1]=Te[1]}}for(var We=0;We<fe.length;We++)be[We]=fe[We];ie&&G.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},"touchmoveHandler"),!1);var he;e.registerBinding(t,"touchcancel",he=l(function(G){var ie=e.touchData.start;e.touchData.capture=!1,ie&&ie.unactivate()},"touchcancelHandler"));var Ne,Pe,He,qe;if(e.registerBinding(t,"touchend",Ne=l(function(G){var ie=e.touchData.start,se=e.touchData.capture;if(se)G.touches.length===0&&(e.touchData.capture=!1),G.preventDefault();else return;var pe=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var fe=e.cy,be=fe.zoom(),Se=e.touchData.now,Te=e.touchData.earlier;if(G.touches[0]){var Ge=e.projectIntoViewport(G.touches[0].clientX,G.touches[0].clientY);Se[0]=Ge[0],Se[1]=Ge[1]}if(G.touches[1]){var Ge=e.projectIntoViewport(G.touches[1].clientX,G.touches[1].clientY);Se[2]=Ge[0],Se[3]=Ge[1]}if(G.touches[2]){var Ge=e.projectIntoViewport(G.touches[2].clientX,G.touches[2].clientY);Se[4]=Ge[0],Se[5]=Ge[1]}var Ye=l(function(Qe){return{originalEvent:G,type:Qe,position:{x:Se[0],y:Se[1]}}},"makeEvent");ie&&ie.unactivate();var st;if(e.touchData.cxt){if(st=Ye("cxttapend"),ie?ie.emit(st):fe.emit(st),!e.touchData.cxtDragged){var ze=Ye("cxttap");ie?ie.emit(ze):fe.emit(ze)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!G.touches[2]&&fe.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var We=fe.collection(e.getAllInBox(pe[0],pe[1],pe[2],pe[3]));pe[0]=void 0,pe[1]=void 0,pe[2]=void 0,pe[3]=void 0,pe[4]=0,e.redrawHint("select",!0),fe.emit(Ye("boxend"));var je=l(function(Qe){return Qe.selectable()&&!Qe.selected()},"eleWouldBeSelected");We.emit(Ye("box")).stdFilter(je).select().emit(Ye("boxselect")),We.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ie==null||ie.unactivate(),G.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!G.touches[1]&&!G.touches[0]&&!G.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ue=e.dragData.touchDragEles;if(ie!=null){var Ke=ie._private.grabbed;k(Ue),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Ke&&(ie.emit(Ye("freeon")),Ue.emit(Ye("free")),e.dragData.didDrag&&(ie.emit(Ye("dragfreeon")),Ue.emit(Ye("dragfree")))),n(ie,["touchend","tapend","vmouseup","tapdragout"],G,{x:Se[0],y:Se[1]}),ie.unactivate(),e.touchData.start=null}else{var Et=e.findNearestElement(Se[0],Se[1],!0,!0);n(Et,["touchend","tapend","vmouseup","tapdragout"],G,{x:Se[0],y:Se[1]})}var ht=e.touchData.startPosition[0]-Se[0],ct=ht*ht,St=e.touchData.startPosition[1]-Se[1],rt=St*St,gt=ct+rt,yt=gt*be*be;e.touchData.singleTouchMoved||(ie||fe.$(":selected").unselect(["tapunselect"]),n(ie,["tap","vclick"],G,{x:Se[0],y:Se[1]}),Pe=!1,G.timeStamp-qe<=fe.multiClickDebounceTime()?(He&&clearTimeout(He),Pe=!0,qe=null,n(ie,["dbltap","vdblclick"],G,{x:Se[0],y:Se[1]})):(He=setTimeout(function(){Pe||n(ie,["onetap","voneclick"],G,{x:Se[0],y:Se[1]})},fe.multiClickDebounceTime()),qe=G.timeStamp)),ie!=null&&!e.dragData.didDrag&&ie._private.selectable&&yt<e.touchTapThreshold2&&!e.pinching&&(fe.selectionType()==="single"?(fe.$(r).unmerge(ie).unselect(["tapunselect"]),ie.select(["tapselect"])):ie.selected()?ie.unselect(["tapunselect"]):ie.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var Je=0;Je<Se.length;Je++)Te[Je]=Se[Je];e.dragData.didDrag=!1,G.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),G.touches.length<2&&(G.touches.length===1&&(e.touchData.startGPosition=[G.touches[0].clientX,G.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},"touchendHandler"),!1),typeof TouchEvent>"u"){var _e=[],De=l(function(G){return{clientX:G.clientX,clientY:G.clientY,force:1,identifier:G.pointerId,pageX:G.pageX,pageY:G.pageY,radiusX:G.width/2,radiusY:G.height/2,screenX:G.screenX,screenY:G.screenY,target:G.target}},"makeTouch"),ve=l(function(G){return{event:G,touch:De(G)}},"makePointer"),Be=l(function(G){_e.push(ve(G))},"addPointer"),de=l(function(G){for(var ie=0;ie<_e.length;ie++){var se=_e[ie];if(se.event.pointerId===G.pointerId){_e.splice(ie,1);return}}},"removePointer"),Ve=l(function(G){var ie=_e.filter(function(se){return se.event.pointerId===G.pointerId})[0];ie.event=G,ie.touch=De(G)},"updatePointer"),ee=l(function(G){G.touches=_e.map(function(ie){return ie.touch})},"addTouchesToEvent"),Ie=l(function(G){return G.pointerType==="mouse"||G.pointerType===4},"pointerIsMouse");e.registerBinding(e.container,"pointerdown",function(G){Ie(G)||(G.preventDefault(),Be(G),ee(G),Z(G))}),e.registerBinding(e.container,"pointerup",function(G){Ie(G)||(de(G),ee(G),Ne(G))}),e.registerBinding(e.container,"pointercancel",function(G){Ie(G)||(de(G),ee(G),he(G))}),e.registerBinding(e.container,"pointermove",function(G){Ie(G)||(G.preventDefault(),Ve(G),ee(G),Ae(G))})}},wl={},wl.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:l(function(r,i,n,a,s,o){this.renderer.nodeShapeImpl("polygon",r,i,n,a,s,this.points)},"draw"),intersectLine:l(function(r,i,n,a,s,o,u,h){return x1(s,o,this.points,r,i,n/2,a/2,u)},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,u,h){return bl(r,i,this.points,o,u,a,s,[0,-1],n)},"checkPoint"),hasMiterBounds:e!=="rectangle",miterBounds:l(function(r,i,n,a,s,o){return y4e(this.points,r,i,n,a,s)},"miterBounds")}},wl.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){return x6e(n,a,e,t,r/2+s,i/2+s)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){return sh(e,t,i,n,a,s,r)},"checkPoint")}},wl.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:l(function(r,i,n,a,s,o,u){if(o[u]!==void 0&&o[u+"-cx"]===r&&o[u+"-cy"]===i)return o[u];o[u]=new Array(t.length/2),o[u+"-cx"]=r,o[u+"-cy"]=i;var h=n/2,d=a/2;s=s==="auto"?DR(n,a):s;for(var p=new Array(t.length/2),g=0;g<t.length/2;g++)p[g]={x:r+h*t[g*2],y:i+d*t[g*2+1]};var f,m,x,T,k=p.length;for(m=p[k-1],f=0;f<k;f++)x=p[f%k],T=p[(f+1)%k],o[u][f]=zw(m,x,T,s),m=x,x=T;return o[u]},"getOrCreateCorners"),draw:l(function(r,i,n,a,s,o,u){this.renderer.nodeShapeImpl("round-polygon",r,i,n,a,s,this.points,this.getOrCreateCorners(i,n,a,s,o,u,"drawCorners"))},"draw"),intersectLine:l(function(r,i,n,a,s,o,u,h,d){return k6e(s,o,this.points,r,i,n,a,u,this.getOrCreateCorners(r,i,n,a,h,d,"corners"))},"intersectLine"),checkPoint:l(function(r,i,n,a,s,o,u,h,d){return b6e(r,i,this.points,o,u,a,s,this.getOrCreateCorners(o,u,a,s,h,d,"corners"))},"checkPoint")}},wl.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:la(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,this.points,a)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){return MR(n,a,e,t,r,i,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=i/2,h=n/2;o=o==="auto"?Nc(i,n):o,o=Math.min(u,h,o);var d=o*2;return!!(bl(e,t,this.points,a,s,i,n-d,[0,-1],r)||bl(e,t,this.points,a,s,i-d,n,[0,-1],r)||sh(e,t,d,d,a-u+o,s-h+o,r)||sh(e,t,d,d,a+u-o,s-h+o,r)||sh(e,t,d,d,a+u-o,s+h-o,r)||sh(e,t,d,d,a-u+o,s+h-o,r))},"checkPoint")}},wl.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:nk(),points:la(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,null,a)},"draw"),generateCutTrianglePts:l(function(e,t,r,i,n){var a=n==="auto"?this.cornerLength:n,s=t/2,o=e/2,u=r-o,h=r+o,d=i-s,p=i+s;return{topLeft:[u,d+a,u+a,d,u+a,d+a],topRight:[h-a,d,h,d+a,h-a,d+a],bottomRight:[h,p-a,h-a,p,h-a,p-a],bottomLeft:[u+a,p,u,p-a,u+a,p-a]}},"generateCutTrianglePts"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=this.generateCutTrianglePts(r+2*s,i+2*s,e,t,o),h=[].concat.apply([],[u.topLeft.splice(0,4),u.topRight.splice(0,4),u.bottomRight.splice(0,4),u.bottomLeft.splice(0,4)]);return x1(n,a,h,e,t)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=o==="auto"?this.cornerLength:o;if(bl(e,t,this.points,a,s,i,n-2*u,[0,-1],r)||bl(e,t,this.points,a,s,i-2*u,n,[0,-1],r))return!0;var h=this.generateCutTrianglePts(i,n,a,s);return Ia(e,t,h.topLeft)||Ia(e,t,h.topRight)||Ia(e,t,h.bottomRight)||Ia(e,t,h.bottomLeft)},"checkPoint")}},wl.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:la(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=.15,h=.5,d=.85,p=this.generateBarrelBezierPts(r+2*s,i+2*s,e,t),g=l(function(m){var x=zd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},u),T=zd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},h),k=zd({x:m[0],y:m[1]},{x:m[2],y:m[3]},{x:m[4],y:m[5]},d);return[m[0],m[1],x.x,x.y,T.x,T.y,k.x,k.y,m[4],m[5]]},"approximateBarrelCurvePts"),f=[].concat(g(p.topLeft),g(p.topRight),g(p.bottomRight),g(p.bottomLeft));return x1(n,a,f,e,t)},"intersectLine"),generateBarrelBezierPts:l(function(e,t,r,i){var n=t/2,a=e/2,s=r-a,o=r+a,u=i-n,h=i+n,d=ak(e,t),p=d.heightOffset,g=d.widthOffset,f=d.ctrlPtOffsetPct*e,m={topLeft:[s,u+p,s+f,u,s+g,u],topRight:[o-g,u,o-f,u,o,u+p],bottomRight:[o,h-p,o-f,h,o-g,h],bottomLeft:[s+g,h,s+f,h,s,h-p]};return m.topLeft.isTop=!0,m.topRight.isTop=!0,m.bottomLeft.isBottom=!0,m.bottomRight.isBottom=!0,m},"generateBarrelBezierPts"),checkPoint:l(function(e,t,r,i,n,a,s,o){var u=ak(i,n),h=u.heightOffset,d=u.widthOffset;if(bl(e,t,this.points,a,s,i,n-2*h,[0,-1],r)||bl(e,t,this.points,a,s,i-2*d,n,[0,-1],r))return!0;for(var p=this.generateBarrelBezierPts(i,n,a,s),g=l(function(y,v,w){var C=w[4],A=w[2],M=w[0],N=w[5],O=w[1],_=Math.min(C,M),I=Math.max(C,M),R=Math.min(N,O),P=Math.max(N,O);if(_<=y&&y<=I&&R<=v&&v<=P){var D=T6e(C,A,M),$=f6e(D[0],D[1],D[2],y),F=$.filter(function(z){return 0<=z&&z<=1});if(F.length>0)return F[0]}return null},"getCurveT"),f=Object.keys(p),m=0;m<f.length;m++){var x=f[m],T=p[x],k=g(e,t,T);if(k!=null){var E=T[5],S=T[3],L=T[1],b=yn(E,S,L,k);if(T.isTop&&b<=t||T.isBottom&&t<=b)return!0}}return!1},"checkPoint")}},wl.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:la(4,0),draw:l(function(e,t,r,i,n,a){this.renderer.nodeShapeImpl(this.name,e,t,r,i,n,this.points,a)},"draw"),intersectLine:l(function(e,t,r,i,n,a,s,o){var u=e-(r/2+s),h=t-(i/2+s),d=h,p=e+(r/2+s),g=Lc(n,a,e,t,u,h,p,d,!1);return g.length>0?g:MR(n,a,e,t,r,i,s,o)},"intersectLine"),checkPoint:l(function(e,t,r,i,n,a,s,o){o=o==="auto"?Nc(i,n):o;var u=2*o;if(bl(e,t,this.points,a,s,i,n-u,[0,-1],r)||bl(e,t,this.points,a,s,i-u,n,[0,-1],r))return!0;var h=i/2+2*r,d=n/2+2*r,p=[a-h,s-d,a-h,s,a+h,s,a+h,s-d];return!!(Ia(e,t,p)||sh(e,t,u,u,a+i/2-o,s+n/2-o,r)||sh(e,t,u,u,a-i/2+o,s+n/2-o,r))},"checkPoint")}},wl.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",la(3,0)),this.generateRoundPolygon("round-triangle",la(3,0)),this.generatePolygon("rectangle",la(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",la(5,0)),this.generateRoundPolygon("round-pentagon",la(5,0)),this.generatePolygon("hexagon",la(6,0)),this.generateRoundPolygon("round-hexagon",la(6,0)),this.generatePolygon("heptagon",la(7,0)),this.generateRoundPolygon("round-heptagon",la(7,0)),this.generatePolygon("octagon",la(8,0)),this.generateRoundPolygon("round-octagon",la(8,0));var i=new Array(20);{var n=ik(5,0),a=ik(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var o=0;o<a.length/2;o++)a[o*2]*=s,a[o*2+1]*=s;for(var o=0;o<20/4;o++)i[o*4]=n[o*2],i[o*4+1]=n[o*2+1],i[o*4+2]=a[o*2],i[o*4+3]=a[o*2+1]}i=IR(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(h){var d=h.join("$"),p="polygon-"+d,g;return(g=this[p])?g:t.generatePolygon(p,h)}},I1={},I1.timeToRender=function(){return this.redrawTotalTime/this.redrawCount},I1.redraw=function(e){e=e||TR();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},I1.beforeRender=function(e,t){if(!this.destroyed){t==null&&di("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(i,n){return n.priority-i.priority})}},WP=l(function(e,t,r){for(var i=e.beforeRenderCallbacks,n=0;n<i.length;n++)i[n].fn(t,r)},"beforeRenderCallbacks"),I1.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=l(function(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){WP(e,!0,i);var n=ml();e.render(e.renderOptions);var a=e.lastDrawTime=ml();e.averageRedrawTime===void 0&&(e.averageRedrawTime=a-n),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=a-n;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else WP(e,!1,i);e.skipFrame=!1,sv(r)}},"renderFn");sv(r)}},ZTe=l(function(e){this.init(e)},"BaseRenderer"),XP=ZTe,e0=XP.prototype,e0.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],e0.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),i=t.cy.window();if(i){var n=i.document,a=n.head,s="__________cytoscape_stylesheet",o="__________cytoscape_container",u=n.getElementById(s)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!u){var h=n.createElement("style");h.id=s,h.textContent="."+o+" { position: relative; }",a.insertBefore(h,a.children[0])}var d=i.getComputedStyle(r),p=d.getPropertyValue("position");p==="static"&&Ur("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=bt(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},e0.notify=function(e,t){var r=this,i=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&i.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),e==="gc"&&r.redrawHint("gc",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},e0.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],i=r,n=i.target;(n.off||n.removeEventListener).apply(n,i.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(a){}},e0.isHeadless=function(){return!1},[xk,VP,YP,Jd,wl,I1].forEach(function(e){er(e0,e)}),Ek=1e3/60,KP={setupDequeueing:l(function(e){return l(function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=p1(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),n=l(function(s,o){var u=ml(),h=r.averageRedrawTime,d=r.lastRedrawTime,p=[],g=r.cy.extent(),f=r.getPixelRatio();for(s||r.flushRenderedStyleQueue();;){var m=ml(),x=m-u,T=m-o;if(d<Ek){var k=Ek-(s?h:0);if(T>=e.deqFastCost*k)break}else if(s){if(x>=e.deqCost*d||x>=e.deqAvgCost*h)break}else if(T>=e.deqNoDrawCost*Ek)break;var E=e.deq(t,f,g);if(E.length>0)for(var S=0;S<E.length;S++)p.push(E[S]);else break}p.length>0&&(e.onDeqd(t,p),!s&&e.shouldRedraw(t,p,f,g)&&i())},"dequeue"),a=e.priority||Xw;r.beforeRender(n,a(t))}},"setupDequeueingImpl")},"setupDequeueing")},QTe=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lv;kc(this,e),this.idsByKey=new vl,this.keyForId=new vl,this.cachesByLvl=new vl,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return l(e,"ElementTextureCacheLookup"),Tc(e,[{key:"getIdsFor",value:l(function(t){t==null&&di("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new $d,r.set(t,i)),i},"getIdsFor")},{key:"addIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).add(r)},"addIdForKey")},{key:"deleteIdForKey",value:l(function(t,r){t!=null&&this.getIdsFor(t).delete(r)},"deleteIdForKey")},{key:"getNumberOfIdsForKey",value:l(function(t){return t==null?0:this.getIdsFor(t).size},"getNumberOfIdsForKey")},{key:"updateKeyMappingFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r),n=this.getKey(t);this.deleteIdForKey(i,r),this.addIdForKey(n,r),this.keyForId.set(r,n)},"updateKeyMappingFor")},{key:"deleteKeyMappingFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)},"deleteKeyMappingFor")},{key:"keyHasChangedFor",value:l(function(t){var r=t.id(),i=this.keyForId.get(r),n=this.getKey(t);return i!==n},"keyHasChangedFor")},{key:"isInvalid",value:l(function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)},"isInvalid")},{key:"getCachesAt",value:l(function(t){var r=this.cachesByLvl,i=this.lvls,n=r.get(t);return n||(n=new vl,r.set(t,n),i.push(t)),n},"getCachesAt")},{key:"getCache",value:l(function(t,r){return this.getCachesAt(r).get(t)},"getCache")},{key:"get",value:l(function(t,r){var i=this.getKey(t),n=this.getCache(i,r);return n!=null&&this.updateKeyMappingFor(t),n},"get")},{key:"getForCachedKey",value:l(function(t,r){var i=this.keyForId.get(t.id()),n=this.getCache(i,r);return n},"getForCachedKey")},{key:"hasCache",value:l(function(t,r){return this.getCachesAt(r).has(t)},"hasCache")},{key:"has",value:l(function(t,r){var i=this.getKey(t);return this.hasCache(i,r)},"has")},{key:"setCache",value:l(function(t,r,i){i.key=t,this.getCachesAt(r).set(t,i)},"setCache")},{key:"set",value:l(function(t,r,i){var n=this.getKey(t);this.setCache(n,r,i),this.updateKeyMappingFor(t)},"set")},{key:"deleteCache",value:l(function(t,r){this.getCachesAt(r).delete(t)},"deleteCache")},{key:"delete",value:l(function(t,r){var i=this.getKey(t);this.deleteCache(i,r)},"_delete")},{key:"invalidateKey",value:l(function(t){var r=this;this.lvls.forEach(function(i){return r.deleteCache(t,i)})},"invalidateKey")},{key:"invalidate",value:l(function(t){var r=t.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(t);var n=this.doesEleInvalidateKey(t);return n&&this.invalidateKey(i),n||this.getNumberOfIdsForKey(i)===0},"invalidate")}])})(),ZP=25,zv=50,Gv=-4,Ck=3,QP=7.99,JTe=8,e7e=1024,t7e=1024,r7e=1024,i7e=.2,n7e=.8,a7e=10,s7e=.15,o7e=.1,l7e=.9,c7e=.9,u7e=100,h7e=1,t0={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},d7e=Cn({getKey:null,doesEleInvalidateKey:lv,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:bR,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),D1=l(function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var i=d7e(t);er(r,i),r.lookup=new QTe(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},"ElementTextureCache"),sn=D1.prototype,sn.reasons=t0,sn.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},sn.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},i=r[e]=r[e]||[];return i},sn.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new y1(function(r,i){return i.reqs-r.reqs});return t},sn.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t},sn.getElement=function(e,t,r,i,n){var a=this,s=this.renderer,o=s.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(i==null&&(i=Math.ceil(Jw(o*r))),i<Gv)i=Gv;else if(o>=QP||i>Ck)return null;var h=Math.pow(2,i),d=t.h*h,p=t.w*h,g=s.eleTextBiggerThanMin(e,h);if(!this.isVisible(e,g))return null;var f=u.get(e,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;var m;if(d<=ZP?m=ZP:d<=zv?m=zv:m=Math.ceil(d/zv)*zv,d>r7e||p>t7e)return null;var x=a.getTextureQueue(m),T=x[x.length-2],k=l(function(){return a.recycleTexture(m,p)||a.addTexture(m,p)},"addNewTxr");T||(T=x[x.length-1]),T||(T=k()),T.width-T.usedWidth<p&&(T=k());for(var E=l(function(I){return I&&I.scaledLabelShown===g},"scalableFrom"),S=n&&n===t0.dequeue,L=n&&n===t0.highQuality,b=n&&n===t0.downscale,y,v=i+1;v<=Ck;v++){var w=u.get(e,v);if(w){y=w;break}}var C=y&&y.level===i+1?y:null,A=l(function(){T.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,T.usedWidth,0,p,d)},"downscale");if(T.context.setTransform(1,0,0,1,0,0),T.context.clearRect(T.usedWidth,0,p,m),E(C))A();else if(E(y))if(L){for(var M=y.level;M>i;M--)C=a.getElement(e,t,r,M,t0.downscale);A()}else return a.queueElement(e,y.level-1),y;else{var N;if(!S&&!L&&!b)for(var O=i-1;O>=Gv;O--){var _=u.get(e,O);if(_){N=_;break}}if(E(N))return a.queueElement(e,i),N;T.context.translate(T.usedWidth,0),T.context.scale(h,h),this.drawElement(T.context,e,t,g,!1),T.context.scale(1/h,1/h),T.context.translate(-T.usedWidth,0)}return f={x:T.usedWidth,texture:T,level:i,scale:h,width:p,height:d,scaledLabelShown:g},T.usedWidth+=Math.ceil(p+JTe),T.eleCaches.push(f),u.set(e,i,f),a.checkTextureFullness(T),f},sn.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},sn.invalidateElement=function(e){var t=this,r=t.lookup,i=[],n=r.isInvalid(e);if(n){for(var a=Gv;a<=Ck;a++){var s=r.getForCachedKey(e,a);s&&i.push(s)}var o=r.invalidate(e);if(o)for(var u=0;u<i.length;u++){var h=i[u],d=h.texture;d.invalidatedWidth+=h.width,h.invalidated=!0,t.checkTextureUtility(d)}t.removeFromQueue(e)}},sn.checkTextureUtility=function(e){e.invalidatedWidth>=i7e*e.width&&this.retireTexture(e)},sn.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>n7e&&e.fullnessChecks>=a7e?_c(r,e):e.fullnessChecks++},sn.retireTexture=function(e){var t=this,r=e.height,i=t.getTextureQueue(r),n=this.lookup;_c(i,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var o=a[s];n.deleteCache(o.key,o.level)}Kw(a);var u=t.getRetiredTextureQueue(r);u.push(e)},sn.addTexture=function(e,t){var r=this,i=r.getTextureQueue(e),n={};return i.push(n),n.eleCaches=[],n.height=e,n.width=Math.max(e7e,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=r.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},sn.recycleTexture=function(e,t){for(var r=this,i=r.getTextureQueue(e),n=r.getRetiredTextureQueue(e),a=0;a<n.length;a++){var s=n[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,Kw(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),_c(n,s),i.push(s),s}},sn.queueElement=function(e,t){var r=this,i=r.getElementQueue(),n=r.getElementKeyToQueue(),a=this.getKey(e),s=n[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,i.updateItem(s);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:a};i.push(o),n[a]=o}},sn.dequeue=function(e){for(var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),n=[],a=t.lookup,s=0;s<h7e&&r.size()>0;s++){var o=r.pop(),u=o.key,h=o.eles[0],d=a.hasCache(h,o.level);if(i[u]=null,!d){n.push(o);var p=t.getBoundingBox(h);t.getElement(h,p,e,o.level,t0.dequeue)}}return n},sn.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),i=t.getElementKeyToQueue(),n=this.getKey(e),a=i[n];a!=null&&(a.eles.length===1?(a.reqs=Ww,r.updateItem(a),r.pop(),i[n]=null):a.eles.unmerge(e))},sn.onDequeue=function(e){this.onDequeues.push(e)},sn.offDequeue=function(e){_c(this.onDequeues,e)},sn.setupDequeueing=KP.setupDequeueing({deqRedrawThreshold:u7e,deqCost:s7e,deqAvgCost:o7e,deqNoDrawCost:l7e,deqFastCost:c7e,deq:l(function(e,t,r){return e.dequeue(t,r)},"deq"),onDeqd:l(function(e,t){for(var r=0;r<e.onDequeues.length;r++){var i=e.onDequeues[r];i(t)}},"onDeqd"),shouldRedraw:l(function(e,t,r,i){for(var n=0;n<t.length;n++)for(var a=t[n].eles,s=0;s<a.length;s++){var o=a[s].boundingBox();if(tk(o,i))return!0}return!1},"shouldRedraw"),priority:l(function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq},"priority")}),p7e=1,R1=-4,Uv=2,g7e=3.99,f7e=50,m7e=50,y7e=.15,v7e=.1,b7e=.9,x7e=.9,w7e=1,JP=250,k7e=4e3*4e3,eB=32767,T7e=!0,tB=l(function(e){var t=this,r=t.renderer=e,i=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ml()-2*JP,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=p1(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},m7e),r.beforeRender(function(a,s){s-t.lastInvalidationTime<=JP?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var n=l(function(a,s){return s.reqs-a.reqs},"qSort");t.layersQueue=new y1(n),t.setupDequeueing()},"LayeredTextureCache"),An=tB.prototype,rB=0,E7e=Math.pow(2,53)-1,An.makeLayer=function(e,t){var r=Math.pow(2,t),i=Math.ceil(e.w*r),n=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(i,n),s={id:rB=++rB%E7e,bb:e,level:t,width:i,height:n,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},o=s.context,u=-s.bb.x1,h=-s.bb.y1;return o.scale(r,r),o.translate(u,h),s},An.getLayers=function(e,t,r){var i=this,n=i.renderer,a=n.cy,s=a.zoom(),o=i.firstGet;if(i.firstGet=!1,r==null){if(r=Math.ceil(Jw(s*t)),r<R1)r=R1;else if(s>=g7e||r>Uv)return null}i.validateLayersElesOrdering(r,e);var u=i.layersByLevel,h=Math.pow(2,r),d=u[r]=u[r]||[],p,g=i.levelIsComplete(r,e),f,m=l(function(){var C=l(function(O){if(i.validateLayersElesOrdering(O,e),i.levelIsComplete(O,e))return f=u[O],!0},"canUseAsTmpLvl"),A=l(function(O){if(!f)for(var _=r+O;R1<=_&&_<=Uv&&!C(_);_+=O);},"checkLvls");A(1),A(-1);for(var M=d.length-1;M>=0;M--){var N=d[M];N.invalid&&_c(d,N)}},"checkTempLevels");if(!g)m();else return d;var x=l(function(){if(!p){p=oa();for(var C=0;C<e.length;C++)h6e(p,e[C].boundingBox())}return p},"getBb"),T=l(function(C){C=C||{};var A=C.after;x();var M=Math.ceil(p.w*h),N=Math.ceil(p.h*h);if(M>eB||N>eB)return null;var O=M*N;if(O>k7e)return null;var _=i.makeLayer(p,r);if(A!=null){var I=d.indexOf(A)+1;d.splice(I,0,_)}else(C.insert===void 0||C.insert)&&d.unshift(_);return _},"makeLayer");if(i.skipping&&!o)return null;for(var k=null,E=e.length/p7e,S=!o,L=0;L<e.length;L++){var b=e[L],y=b._private.rscratch,v=y.imgLayerCaches=y.imgLayerCaches||{},w=v[r];if(w){k=w;continue}if((!k||k.eles.length>=E||!NR(k.bb,b.boundingBox()))&&(k=T({insert:!0,after:k}),!k))return null;f||S?i.queueLayer(k,b):i.drawEleInLayer(k,b,r,t),k.eles.push(b),v[r]=k}return f||(S?null:d)},An.getEleLevelForLayerLevel=function(e,t){return e},An.drawEleInLayer=function(e,t,r,i){var n=this,a=this.renderer,s=e.context,o=t.boundingBox();o.w===0||o.h===0||!t.visible()||(r=n.getEleLevelForLayerLevel(r,i),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,r,T7e),a.setImgSmoothing(s,!0))},An.levelIsComplete=function(e,t){var r=this,i=r.layersByLevel[e];if(!i||i.length===0)return!1;for(var n=0,a=0;a<i.length;a++){var s=i[a];if(s.reqs>0||s.invalid)return!1;n+=s.eles.length}return n===t.length},An.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=-1,s=0;s<t.length;s++)if(n.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(n);continue}for(var o=a,s=0;s<n.eles.length;s++)if(n.eles[s]!==t[o+s]){this.invalidateLayer(n);break}}},An.updateElementsInLayers=function(e,t){for(var r=this,i=d1(e[0]),n=0;n<e.length;n++)for(var a=i?null:e[n],s=i?e[n]:e[n].ele,o=s._private.rscratch,u=o.imgLayerCaches=o.imgLayerCaches||{},h=R1;h<=Uv;h++){var d=u[h];d&&(a&&r.getEleLevelForLayerLevel(d.level)!==a.level||t(d,s,a))}},An.haveLayers=function(){for(var e=this,t=!1,r=R1;r<=Uv;r++){var i=e.layersByLevel[r];if(i&&i.length>0){t=!0;break}}return t},An.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=ml(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,l(function(r,i,n){t.invalidateLayer(r)},"invalAssocLayers")))},An.invalidateLayer=function(e){if(this.lastInvalidationTime=ml(),!e.invalid){var t=e.level,r=e.eles,i=this.layersByLevel[t];_c(i,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var n=0;n<r.length;n++){var a=r[n]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},An.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,l(function(r,i,n){var a=r.replacement;if(a||(a=r.replacement=t.makeLayer(r.bb,r.level),a.replaces=r,a.eles=r.eles),!a.reqs)for(var s=0;s<a.eles.length;s++)t.queueLayer(a,a.eles[s])},"refineEachEle"))},An.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},An.queueLayer=function(e,t){var r=this,i=r.layersQueue,n=e.elesQueue,a=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;n.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,i.updateItem(e)):(e.reqs=1,i.push(e))}},An.dequeue=function(e){for(var t=this,r=t.layersQueue,i=[],n=0;n<w7e&&r.size()!==0;){var a=r.peek();if(a.replacement){r.pop();continue}if(a.replaces&&a!==a.replaces.replacement){r.pop();continue}if(a.invalid){r.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),n++),i.length===0&&i.push(!0),a.elesQueue.length===0&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return i},An.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],i=e.replaces,n=r.indexOf(i);if(!(n<0||i.invalid)){r[n]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[e.level]=e)}t.requestRedraw()}},An.requestRedraw=p1(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),An.setupDequeueing=KP.setupDequeueing({deqRedrawThreshold:f7e,deqCost:y7e,deqAvgCost:v7e,deqNoDrawCost:b7e,deqFastCost:x7e,deq:l(function(e,t){return e.dequeue(t)},"deq"),onDeqd:Xw,shouldRedraw:bR,priority:l(function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq},"priority")}),iB={},l(c3e,"polygon"),l(u3e,"triangleBackcurve"),l(AD,"triangleTee"),l(h3e,"circleTriangle"),l(d3e,"circle$1"),iB.arrowShapeImpl=function(e){return(C7e||(C7e={polygon:c3e,"triangle-backcurve":u3e,"triangle-tee":AD,"circle-triangle":h3e,"triangle-cross":AD,circle:d3e}))[e]},Mo={},Mo.drawElement=function(e,t,r,i,n,a){var s=this;t.isNode()?s.drawNode(e,t,r,i,n,a):s.drawEdge(e,t,r,i,n,a)},Mo.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)},Mo.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)},Mo.drawCachedElementPortion=function(e,t,r,i,n,a,s,o){var u=this,h=r.getBoundingBox(t);if(!(h.w===0||h.h===0)){var d=r.getElement(t,h,i,n,a);if(d!=null){var p=o(u,t);if(p===0)return;var g=s(u,t),f=h.x1,m=h.y1,x=h.w,T=h.h,k,E,S,L,b;if(g!==0){var y=r.getRotationPoint(t);S=y.x,L=y.y,e.translate(S,L),e.rotate(g),b=u.getImgSmoothing(e),b||u.setImgSmoothing(e,!0);var v=r.getRotationOffset(t);k=v.x,E=v.y}else k=f,E=m;var w;p!==1&&(w=e.globalAlpha,e.globalAlpha=w*p),e.drawImage(d.texture.canvas,d.x,0,d.width,d.height,k,E,x,T),p!==1&&(e.globalAlpha=w),g!==0&&(e.rotate(-g),e.translate(-S,-L),b||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}},S7e=l(function(){return 0},"getZeroRotation"),_7e=l(function(e,t){return e.getTextAngle(t,null)},"getLabelRotation"),A7e=l(function(e,t){return e.getTextAngle(t,"source")},"getSourceLabelRotation"),L7e=l(function(e,t){return e.getTextAngle(t,"target")},"getTargetLabelRotation"),N7e=l(function(e,t){return t.effectiveOpacity()},"getOpacity"),Sk=l(function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()},"getTextOpacity"),Mo.drawCachedElement=function(e,t,r,i,n,a){var s=this,o=s.data,u=o.eleTxrCache,h=o.lblTxrCache,d=o.slbTxrCache,p=o.tlbTxrCache,g=t.boundingBox(),f=a===!0?u.reasons.highQuality:null;if(!(g.w===0||g.h===0||!t.visible())&&(!i||tk(g,i))){var m=t.isEdge(),x=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,u,r,n,f,S7e,N7e),(!m||!x)&&s.drawCachedElementPortion(e,t,h,r,n,f,_7e,Sk),m&&!x&&(s.drawCachedElementPortion(e,t,d,r,n,f,A7e,Sk),s.drawCachedElementPortion(e,t,p,r,n,f,L7e,Sk)),s.drawElementOverlay(e,t)}},Mo.drawElements=function(e,t){for(var r=this,i=0;i<t.length;i++){var n=t[i];r.drawElement(e,n)}},Mo.drawCachedElements=function(e,t,r,i){for(var n=this,a=0;a<t.length;a++){var s=t[a];n.drawCachedElement(e,s,r,i)}},Mo.drawCachedNodes=function(e,t,r,i){for(var n=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&n.drawCachedElement(e,s,r,i)}},Mo.drawLayeredElements=function(e,t,r,i){var n=this,a=n.data.lyrTxrCache.getLayers(t,r);if(a)for(var s=0;s<a.length;s++){var o=a[s],u=o.bb;u.w===0||u.h===0||e.drawImage(o.canvas,u.x1,u.y1,u.w,u.h)}else n.drawCachedElements(e,t,r,i)},kl={},kl.drawEdge=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o=t._private.rscratch;if(!(a&&!t.visible())&&!(o.badLine||o.allpts==null||isNaN(o.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var h=a?t.pstyle("opacity").value:1,d=a?t.pstyle("line-opacity").value:1,p=t.pstyle("curve-style").value,g=t.pstyle("line-style").value,f=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,x=t.pstyle("line-outline-width").value,T=t.pstyle("line-outline-color").value,k=h*d,E=h*d,S=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;p==="straight-triangle"?(s.eleStrokeStyle(e,t,_),s.drawEdgeTrianglePath(t,e,o.allpts)):(e.lineWidth=f,e.lineCap=m,s.eleStrokeStyle(e,t,_),s.drawEdgePath(t,e,o.allpts,g),e.lineCap="butt")},"drawLine"),L=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;if(e.lineWidth=f+x,e.lineCap=m,x>0)s.colorStrokeStyle(e,T[0],T[1],T[2],_);else{e.lineCap="butt";return}p==="straight-triangle"?s.drawEdgeTrianglePath(t,e,o.allpts):(s.drawEdgePath(t,e,o.allpts,g),e.lineCap="butt")},"drawLineOutline"),b=l(function(){n&&s.drawEdgeOverlay(e,t)},"drawOverlay"),y=l(function(){n&&s.drawEdgeUnderlay(e,t)},"drawUnderlay"),v=l(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E;s.drawArrowheads(e,t,_)},"drawArrows"),w=l(function(){s.drawElementText(e,t,null,i)},"drawText");e.lineJoin="round";var C=t.pstyle("ghost").value==="yes";if(C){var A=t.pstyle("ghost-offset-x").pfValue,M=t.pstyle("ghost-offset-y").pfValue,N=t.pstyle("ghost-opacity").value,O=k*N;e.translate(A,M),S(O),v(O),e.translate(-A,-M)}else L();y(),S(),v(),b(),w(),r&&e.translate(u.x1,u.y1)}},nB=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var i=r.pstyle("".concat(e,"-opacity")).value;if(i!==0){var n=this,a=n.usePaths(),s=r._private.rscratch,o=r.pstyle("".concat(e,"-padding")).pfValue,u=2*o,h=r.pstyle("".concat(e,"-color")).value;t.lineWidth=u,s.edgeType==="self"&&!a?t.lineCap="butt":t.lineCap="round",n.colorStrokeStyle(t,h[0],h[1],h[2],i),n.drawEdgePath(r,t,s.allpts,"solid")}}}},"drawEdgeOverlayUnderlay"),kl.drawEdgeOverlay=nB("overlay"),kl.drawEdgeUnderlay=nB("underlay"),kl.drawEdgePath=function(e,t,r,i){var n=e._private.rscratch,a=t,s,o=!1,u=this.usePaths(),h=e.pstyle("line-dash-pattern").pfValue,d=e.pstyle("line-dash-offset").pfValue;if(u){var p=r.join("$"),g=n.pathCacheKey&&n.pathCacheKey===p;g?(s=t=n.pathCache,o=!0):(s=t=new Path2D,n.pathCacheKey=p,n.pathCache=s)}if(a.setLineDash)switch(i){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(h),a.lineDashOffset=d;break;case"solid":a.setLineDash([]);break}if(!o&&!n.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),n.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)t.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1]);break;case"segments":if(n.isRound){var x=Na(n.roundCorners),T;try{for(x.s();!(T=x.n()).done;){var k=T.value;SD(t,k)}}catch(S){x.e(S)}finally{x.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var E=2;E+1<r.length;E+=2)t.lineTo(r[E],r[E+1]);break}t=a,u?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])},kl.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var i=e.pstyle("width").pfValue,n=0;n+1<r.length;n+=2){var a=[r[n+2]-r[n],r[n+3]-r[n+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=[a[1]/s,-a[0]/s],u=[o[0]*i/2,o[1]*i/2];t.beginPath(),t.moveTo(r[n]-u[0],r[n+1]-u[1]),t.lineTo(r[n]+u[0],r[n+1]+u[1]),t.lineTo(r[n+2],r[n+3]),t.closePath(),t.fill()}},kl.drawArrowheads=function(e,t,r){var i=t._private.rscratch,n=i.edgeType==="haystack";n||this.drawArrowhead(e,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,r),n||this.drawArrowhead(e,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,r)},kl.drawArrowhead=function(e,t,r,i,n,a,s){if(!(isNaN(i)||i==null||isNaN(n)||n==null||isNaN(a)||a==null)){var o=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",d=t.pstyle(r+"-arrow-fill").value,p=t.pstyle("width").pfValue,g=t.pstyle(r+"-arrow-width"),f=g.value==="match-line"?p:g.pfValue;g.units==="%"&&(f*=p);var m=t.pstyle("opacity").value;s===void 0&&(s=m);var x=e.globalCompositeOperation;(s!==1||d==="hollow")&&(e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,1),o.colorStrokeStyle(e,255,255,255,1),o.drawArrowShape(t,e,h,p,u,f,i,n,a),e.globalCompositeOperation=x);var T=t.pstyle(r+"-arrow-color").value;o.colorFillStyle(e,T[0],T[1],T[2],s),o.colorStrokeStyle(e,T[0],T[1],T[2],s),o.drawArrowShape(t,e,d,p,u,f,i,n,a)}}},kl.drawArrowShape=function(e,t,r,i,n,a,s,o,u){var h=this,d=this.usePaths()&&n!=="triangle-cross",p=!1,g,f=t,m={x:s,y:o},x=e.pstyle("arrow-scale").value,T=this.getArrowWidth(i,x),k=h.arrowShapes[n];if(d){var E=h.arrowPathCache=h.arrowPathCache||[],S=ih(n),L=E[S];L!=null?(g=t=L,p=!0):(g=t=new Path2D,E[S]=g)}p||(t.beginPath&&t.beginPath(),d?k.draw(t,1,0,{x:0,y:0},1):k.draw(t,T,u,m,i),t.closePath&&t.closePath()),t=f,d&&(t.translate(s,o),t.rotate(u),t.scale(T,T)),(r==="filled"||r==="both")&&(d?t.fill(g):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=a/(d?T:1),t.lineJoin="miter",d?t.stroke(g):t.stroke()),d&&(t.scale(1/T,1/T),t.rotate(-u),t.translate(-s,-o))},_k={},_k.safeDrawImage=function(e,t,r,i,n,a,s,o,u,h){if(!(n<=0||a<=0||u<=0||h<=0))try{e.drawImage(t,r,i,n,a,s,o,u,h)}catch(d){Ur(d)}},_k.drawInscribedImage=function(e,t,r,i,n){var a=this,s=r.position(),o=s.x,u=s.y,h=r.cy().style(),d=h.getIndexedStyle.bind(h),p=d(r,"background-fit","value",i),g=d(r,"background-repeat","value",i),f=r.width(),m=r.height(),x=r.padding()*2,T=f+(d(r,"background-width-relative-to","value",i)==="inner"?0:x),k=m+(d(r,"background-height-relative-to","value",i)==="inner"?0:x),E=r._private.rscratch,S=d(r,"background-clip","value",i),L=S==="node",b=d(r,"background-image-opacity","value",i)*n,y=d(r,"background-image-smoothing","value",i),v=r.pstyle("corner-radius").value;v!=="auto"&&(v=r.pstyle("corner-radius").pfValue);var w=t.width||t.cachedW,C=t.height||t.cachedH;(w==null||C==null)&&(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,C=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var A=w,M=C;if(d(r,"background-width","value",i)!=="auto"&&(d(r,"background-width","units",i)==="%"?A=d(r,"background-width","pfValue",i)*T:A=d(r,"background-width","pfValue",i)),d(r,"background-height","value",i)!=="auto"&&(d(r,"background-height","units",i)==="%"?M=d(r,"background-height","pfValue",i)*k:M=d(r,"background-height","pfValue",i)),!(A===0||M===0)){if(p==="contain"){var N=Math.min(T/A,k/M);A*=N,M*=N}else if(p==="cover"){var N=Math.max(T/A,k/M);A*=N,M*=N}var O=o-T/2,_=d(r,"background-position-x","units",i),I=d(r,"background-position-x","pfValue",i);_==="%"?O+=(T-A)*I:O+=I;var R=d(r,"background-offset-x","units",i),P=d(r,"background-offset-x","pfValue",i);R==="%"?O+=(T-A)*P:O+=P;var D=u-k/2,$=d(r,"background-position-y","units",i),F=d(r,"background-position-y","pfValue",i);$==="%"?D+=(k-M)*F:D+=F;var z=d(r,"background-offset-y","units",i),U=d(r,"background-offset-y","pfValue",i);z==="%"?D+=(k-M)*U:D+=U,E.pathCache&&(O-=o,D-=u,o=0,u=0);var j=e.globalAlpha;e.globalAlpha=b;var H=a.getImgSmoothing(e),Q=!1;if(y==="no"&&H?(a.setImgSmoothing(e,!1),Q=!0):y==="yes"&&!H&&(a.setImgSmoothing(e,!0),Q=!0),g==="no-repeat")L&&(e.save(),E.pathCache?e.clip(E.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,T,k,v,E),e.clip())),a.safeDrawImage(e,t,0,0,w,C,O,D,A,M),L&&e.restore();else{var re=e.createPattern(t,g);e.fillStyle=re,a.nodeShapes[a.getNodeShape(r)].draw(e,o,u,T,k,v,E),e.translate(O,D),e.fill(),e.translate(-O,-D)}e.globalAlpha=j,Q&&a.setImgSmoothing(e,H)}},hh={},hh.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),i=this.getPixelRatio(),n=Math.ceil(Jw(r*i));t=Math.pow(2,n)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)},hh.drawElementText=function(e,t,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(i==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(i===!1)return;if(t.isNode()){var o=t.pstyle("label");if(!o||!o.value)return;var u=s.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var h=t.element()._private.rscratch.badLine,d=t.pstyle("label"),p=t.pstyle("source-label"),g=t.pstyle("target-label");if(h||(!d||!d.value)&&(!p||!p.value)&&(!g||!g.value))return;e.textAlign="center",e.textBaseline="bottom"}var f=!r,m;r&&(m=r,e.translate(-m.x1,-m.y1)),n==null?(s.drawText(e,t,null,f,a),t.isEdge()&&(s.drawText(e,t,"source",f,a),s.drawText(e,t,"target",f,a))):s.drawText(e,t,n,f,a),r&&e.translate(m.x1,m.y1)},hh.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t},hh.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=t.pstyle("font-style").strValue,n=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,o=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*o,h=t.pstyle("color").value,d=t.pstyle("text-outline-color").value;e.font=i+" "+s+" "+n+" "+a,e.lineJoin="round",this.colorFillStyle(e,h[0],h[1],h[2],o),this.colorStrokeStyle(e,d[0],d[1],d[2],u)},l(p3e,"circle"),l(LD,"roundRect"),hh.getTextAngle=function(e,t){var r,i=e._private,n=i.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation");if(s.strValue==="autorotate"){var o=Ma(n,"labelAngle",t);r=e.isEdge()?o:0}else s.strValue==="none"?r=0:r=s.pfValue;return r},hh.drawText=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,o=n?t.effectiveOpacity():1;if(!(n&&(o===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Ma(s,"labelX",r),h=Ma(s,"labelY",r),d,p,g=this.getLabelText(t,r);if(g!=null&&g!==""&&!isNaN(u)&&!isNaN(h)){this.setupTextStyle(e,t,n);var f=r?r+"-":"",m=Ma(s,"labelWidth",r),x=Ma(s,"labelHeight",r),T=t.pstyle(f+"text-margin-x").pfValue,k=t.pstyle(f+"text-margin-y").pfValue,E=t.isEdge(),S=t.pstyle("text-halign").value,L=t.pstyle("text-valign").value;E&&(S="center",L="center"),u+=T,h+=k;var b;switch(i?b=this.getTextAngle(t,r):b=0,b!==0&&(d=u,p=h,e.translate(d,p),e.rotate(b),u=0,h=0),L){case"top":break;case"center":h+=x/2;break;case"bottom":h+=x;break}var y=t.pstyle("text-background-opacity").value,v=t.pstyle("text-border-opacity").value,w=t.pstyle("text-border-width").pfValue,C=t.pstyle("text-background-padding").pfValue,A=t.pstyle("text-background-shape").strValue,M=A==="round-rectangle"||A==="roundrectangle",N=A==="circle",O=2;if(y>0||w>0&&v>0){var _=e.fillStyle,I=e.strokeStyle,R=e.lineWidth,P=t.pstyle("text-background-color").value,D=t.pstyle("text-border-color").value,$=t.pstyle("text-border-style").value,F=y>0,z=w>0&&v>0,U=u-C;switch(S){case"left":U-=m;break;case"center":U-=m/2;break}var j=h-x-C,H=m+2*C,Q=x+2*C;if(F&&(e.fillStyle="rgba(".concat(P[0],",").concat(P[1],",").concat(P[2],",").concat(y*o,")")),z&&(e.strokeStyle="rgba(".concat(D[0],",").concat(D[1],",").concat(D[2],",").concat(v*o,")"),e.lineWidth=w,e.setLineDash))switch($){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=w/4,e.setLineDash([]);break;case"solid":default:e.setLineDash([]);break}if(M?(e.beginPath(),LD(e,U,j,H,Q,O)):N?(e.beginPath(),p3e(e,U,j,H,Q)):(e.beginPath(),e.rect(U,j,H,Q)),F&&e.fill(),z&&e.stroke(),z&&$==="double"){var re=w/2;e.beginPath(),M?LD(e,U+re,j+re,H-2*re,Q-2*re,O):e.rect(U+re,j+re,H-2*re,Q-2*re),e.stroke()}e.fillStyle=_,e.strokeStyle=I,e.lineWidth=R,e.setLineDash&&e.setLineDash([])}var le=2*t.pstyle("text-outline-width").pfValue;if(le>0&&(e.lineWidth=le),t.pstyle("text-wrap").value==="wrap"){var oe=Ma(s,"labelWrapCachedLines",r),W=Ma(s,"labelLineHeight",r),J=m/2,Y=this.getLabelJustification(t);switch(Y==="auto"||(S==="left"?Y==="left"?u+=-m:Y==="center"&&(u+=-J):S==="center"?Y==="left"?u+=-J:Y==="right"&&(u+=J):S==="right"&&(Y==="center"?u+=J:Y==="right"&&(u+=m))),L){case"top":h-=(oe.length-1)*W;break;case"center":case"bottom":h-=(oe.length-1)*W;break}for(var X=0;X<oe.length;X++)le>0&&e.strokeText(oe[X],u,h),e.fillText(oe[X],u,h),h+=W}else le>0&&e.strokeText(g,u,h),e.fillText(g,u,h);b!==0&&(e.rotate(-b),e.translate(-d,-p))}}},Fc={},Fc.drawNode=function(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,o,u,h=t._private,d=h.rscratch,p=t.position();if(!(!bt(p.x)||!bt(p.y))&&!(a&&!t.visible())){var g=a?t.effectiveOpacity():1,f=s.usePaths(),m,x=!1,T=t.padding();o=t.width()+2*T,u=t.height()+2*T;var k;r&&(k=r,e.translate(-k.x1,-k.y1));for(var E=t.pstyle("background-image"),S=E.value,L=new Array(S.length),b=new Array(S.length),y=0,v=0;v<S.length;v++){var w=S[v],C=L[v]=w!=null&&w!=="none";if(C){var A=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",v);y++,b[v]=s.getCachedImage(w,A,function(){h.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var M=t.pstyle("background-blacken").value,N=t.pstyle("border-width").pfValue,O=t.pstyle("background-opacity").value*g,_=t.pstyle("border-color").value,I=t.pstyle("border-style").value,R=t.pstyle("border-join").value,P=t.pstyle("border-cap").value,D=t.pstyle("border-position").value,$=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,z=t.pstyle("border-opacity").value*g,U=t.pstyle("outline-width").pfValue,j=t.pstyle("outline-color").value,H=t.pstyle("outline-style").value,Q=t.pstyle("outline-opacity").value*g,re=t.pstyle("outline-offset").value,le=t.pstyle("corner-radius").value;le!=="auto"&&(le=t.pstyle("corner-radius").pfValue);var oe=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O;s.eleFillStyle(e,t,ee)},"setupShapeColor"),W=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z;s.colorStrokeStyle(e,_[0],_[1],_[2],ee)},"setupBorderColor"),J=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q;s.colorStrokeStyle(e,j[0],j[1],j[2],ee)},"setupOutlineColor"),Y=l(function(ee,Ie,G,ie){var se=s.nodePathCache=s.nodePathCache||[],pe=yR(G==="polygon"?G+","+ie.join(","):G,""+Ie,""+ee,""+le),fe=se[pe],be,Se=!1;return fe!=null?(be=fe,Se=!0,d.pathCache=be):(be=new Path2D,se[pe]=d.pathCache=be),{path:be,cacheHit:Se}},"getPath"),X=t.pstyle("shape").strValue,te=t.pstyle("shape-polygon-points").pfValue;if(f){e.translate(p.x,p.y);var ce=Y(o,u,X,te);m=ce.path,x=ce.cacheHit}var K=l(function(){if(!x){var ee=p;f&&(ee={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(m||e,ee.x,ee.y,o,u,le,d)}f?e.fill(m):e.fill()},"drawShape"),me=l(function(){for(var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,G=h.backgrounding,ie=0,se=0;se<b.length;se++){var pe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",se);if(Ie&&pe==="over"||!Ie&&pe==="inside"){ie++;continue}L[se]&&b[se].complete&&!b[se].error&&(ie++,s.drawInscribedImage(e,b[se],t,se,ee))}h.backgrounding=ie!==y,G!==h.backgrounding&&t.updateStyle(!1)},"drawImages"),Z=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasPie(t)&&(s.drawPie(e,t,Ie),ee&&(f||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,le,d)))},"drawPie"),Ae=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g;s.hasStripe(t)&&(e.save(),f?e.clip(d.pathCache):(s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,le,d),e.clip()),s.drawStripe(e,t,Ie),e.restore(),ee&&(f||s.nodeShapes[s.getNodeShape(t)].draw(e,p.x,p.y,o,u,le,d)))},"drawStripe"),he=l(function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g,Ie=(M>0?M:-M)*ee,G=M>0?0:255;M!==0&&(s.colorFillStyle(e,G,G,G,Ie),f?e.fill(m):e.fill())},"darken"),Ne=l(function(){if(N>0){if(e.lineWidth=N,e.lineCap=P,e.lineJoin=R,e.setLineDash)switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash($),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([]);break}if(D!=="center"){if(e.save(),e.lineWidth*=2,D==="inside")f?e.clip(m):e.clip();else{var ee=new Path2D;ee.rect(-o/2-N,-u/2-N,o+2*N,u+2*N),ee.addPath(m),e.clip(ee,"evenodd")}f?e.stroke(m):e.stroke(),e.restore()}else f?e.stroke(m):e.stroke();if(I==="double"){e.lineWidth=N/3;var Ie=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(m):e.stroke(),e.globalCompositeOperation=Ie}e.setLineDash&&e.setLineDash([])}},"drawBorder"),Pe=l(function(){if(U>0){if(e.lineWidth=U,e.lineCap="butt",e.setLineDash)switch(H){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var ee=p;f&&(ee={x:0,y:0});var Ie=s.getNodeShape(t),G=N;D==="inside"&&(G=0),D==="outside"&&(G*=2);var ie=(o+G+(U+re))/o,se=(u+G+(U+re))/u,pe=o*ie,fe=u*se,be=s.nodeShapes[Ie].points,Se;if(f){var Te=Y(pe,fe,Ie,be);Se=Te.path}if(Ie==="ellipse")s.drawEllipsePath(Se||e,ee.x,ee.y,pe,fe);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Ie)){var Ge=0,Ye=0,st=0;Ie==="round-diamond"?Ge=(G+re+U)*1.4:Ie==="round-heptagon"?(Ge=(G+re+U)*1.075,st=-(G/2+re+U)/35):Ie==="round-hexagon"?Ge=(G+re+U)*1.12:Ie==="round-pentagon"?(Ge=(G+re+U)*1.13,st=-(G/2+re+U)/15):Ie==="round-tag"?(Ge=(G+re+U)*1.12,Ye=(G/2+U+re)*.07):Ie==="round-triangle"&&(Ge=(G+re+U)*(Math.PI/2),st=-(G+re/2+U)/Math.PI),Ge!==0&&(ie=(o+Ge)/o,pe=o*ie,["round-hexagon","round-tag"].includes(Ie)||(se=(u+Ge)/u,fe=u*se)),le=le==="auto"?DR(pe,fe):le;for(var ze=pe/2,We=fe/2,je=le+(G+U+re)/2,Ue=new Array(be.length/2),Ke=new Array(be.length/2),Et=0;Et<be.length/2;Et++)Ue[Et]={x:ee.x+Ye+ze*be[Et*2],y:ee.y+st+We*be[Et*2+1]};var ht,ct,St,rt,gt=Ue.length;for(ct=Ue[gt-1],ht=0;ht<gt;ht++)St=Ue[ht%gt],rt=Ue[(ht+1)%gt],Ke[ht]=zw(ct,St,rt,je),ct=St,St=rt;s.drawRoundPolygonPath(Se||e,ee.x+Ye,ee.y+st,o*ie,u*se,be,Ke)}else if(["roundrectangle","round-rectangle"].includes(Ie))le=le==="auto"?Nc(pe,fe):le,s.drawRoundRectanglePath(Se||e,ee.x,ee.y,pe,fe,le+(G+U+re)/2);else if(["cutrectangle","cut-rectangle"].includes(Ie))le=le==="auto"?nk():le,s.drawCutRectanglePath(Se||e,ee.x,ee.y,pe,fe,null,le+(G+U+re)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Ie))le=le==="auto"?Nc(pe,fe):le,s.drawBottomRoundRectanglePath(Se||e,ee.x,ee.y,pe,fe,le+(G+U+re)/2);else if(Ie==="barrel")s.drawBarrelPath(Se||e,ee.x,ee.y,pe,fe);else if(Ie.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Ie)){var yt=(G+U+re)/o;be=gv(fv(be,yt)),s.drawPolygonPath(Se||e,ee.x,ee.y,o,u,be)}else{var Je=(G+U+re)/o;be=gv(fv(be,-Je)),s.drawPolygonPath(Se||e,ee.x,ee.y,o,u,be)}if(f?e.stroke(Se):e.stroke(),H==="double"){e.lineWidth=G/3;var Qe=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(Se):e.stroke(),e.globalCompositeOperation=Qe}e.setLineDash&&e.setLineDash([])}},"drawOutline"),He=l(function(){n&&s.drawNodeOverlay(e,t,p,o,u)},"drawOverlay"),qe=l(function(){n&&s.drawNodeUnderlay(e,t,p,o,u)},"drawUnderlay"),_e=l(function(){s.drawElementText(e,t,null,i)},"drawText"),De=t.pstyle("ghost").value==="yes";if(De){var ve=t.pstyle("ghost-offset-x").pfValue,Be=t.pstyle("ghost-offset-y").pfValue,de=t.pstyle("ghost-opacity").value,Ve=de*g;e.translate(ve,Be),J(),Pe(),oe(de*O),K(),me(Ve,!0),W(de*z),Ne(),Z(M!==0||N!==0),Ae(M!==0||N!==0),me(Ve,!1),he(Ve),e.translate(-ve,-Be)}f&&e.translate(-p.x,-p.y),qe(),f&&e.translate(p.x,p.y),J(),Pe(),oe(),K(),me(g,!0),W(),Ne(),Z(M!==0||N!==0),Ae(M!==0||N!==0),me(g,!1),he(),f&&e.translate(-p.x,-p.y),_e(),He(),r&&e.translate(k.x1,k.y1)}},aB=l(function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,i,n,a){var s=this;if(r.visible()){var o=r.pstyle("".concat(e,"-padding")).pfValue,u=r.pstyle("".concat(e,"-opacity")).value,h=r.pstyle("".concat(e,"-color")).value,d=r.pstyle("".concat(e,"-shape")).value,p=r.pstyle("".concat(e,"-corner-radius")).value;if(u>0){if(i=i||r.position(),n==null||a==null){var g=r.padding();n=r.width()+2*g,a=r.height()+2*g}s.colorFillStyle(t,h[0],h[1],h[2],u),s.nodeShapes[d].draw(t,i.x,i.y,n+o*2,a+o*2,p),t.fill()}}}},"drawNodeOverlayUnderlay"),Fc.drawNodeOverlay=aB("overlay"),Fc.drawNodeUnderlay=aB("underlay"),Fc.hasPie=function(e){return e=e[0],e._private.hasPie},Fc.hasStripe=function(e){return e=e[0],e._private.hasStripe},Fc.drawPie=function(e,t,r,i){t=t[0],i=i||t.position();var n=t.cy().style(),a=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),o=t.pstyle("pie-start-angle").pfValue,u=i.x,h=i.y,d=t.width(),p=t.height(),g=Math.min(d,p)/2,f,m=0,x=this.usePaths();if(x&&(u=0,h=0),a.units==="%"?g=g*a.pfValue:a.pfValue!==void 0&&(g=a.pfValue/2),s.units==="%"?f=g*s.pfValue:s.pfValue!==void 0&&(f=s.pfValue/2),!(f>=g))for(var T=1;T<=n.pieBackgroundN;T++){var k=t.pstyle("pie-"+T+"-background-size").value,E=t.pstyle("pie-"+T+"-background-color").value,S=t.pstyle("pie-"+T+"-background-opacity").value*r,L=k/100;L+m>1&&(L=1-m);var b=1.5*Math.PI+2*Math.PI*m;b+=o;var y=2*Math.PI*L,v=b+y;k===0||m>=1||m+L>1||(f===0?(e.beginPath(),e.moveTo(u,h),e.arc(u,h,g,b,v),e.closePath()):(e.beginPath(),e.arc(u,h,g,b,v),e.arc(u,h,f,v,b,!0),e.closePath()),this.colorFillStyle(e,E[0],E[1],E[2],S),e.fill(),m+=L)}},Fc.drawStripe=function(e,t,r,i){t=t[0],i=i||t.position();var n=t.cy().style(),a=i.x,s=i.y,o=t.width(),u=t.height(),h=0,d=this.usePaths();e.save();var p=t.pstyle("stripe-direction").value,g=t.pstyle("stripe-size");switch(p){case"vertical":break;case"righward":e.rotate(-Math.PI/2);break}var f=o,m=u;g.units==="%"?(f=f*g.pfValue,m=m*g.pfValue):g.pfValue!==void 0&&(f=g.pfValue,m=g.pfValue),d&&(a=0,s=0),s-=f/2,a-=m/2;for(var x=1;x<=n.stripeBackgroundN;x++){var T=t.pstyle("stripe-"+x+"-background-size").value,k=t.pstyle("stripe-"+x+"-background-color").value,E=t.pstyle("stripe-"+x+"-background-opacity").value*r,S=T/100;S+h>1&&(S=1-h),!(T===0||h>=1||h+S>1)&&(e.beginPath(),e.rect(a,s+m*h,f,m*S),e.closePath(),this.colorFillStyle(e,k[0],k[1],k[2],E),e.fill(),h+=S)}e.restore()},ca={},M7e=100,ca.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},ca.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,i,n=0;n<t.length;n++)if(i=t[n],i.context===e){r=!1;break}return r&&(i={context:e},t.push(i)),i},ca.createGradientStyleFor=function(e,t,r,i,n){var a,s=this.usePaths(),o=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(i==="radial-gradient")if(r.isEdge()){var h=r.sourceEndpoint(),d=r.targetEndpoint(),p=r.midpoint(),g=nh(h,p),f=nh(d,p);a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,f))}else{var m=s?{x:0,y:0}:r.position(),x=r.paddedWidth(),T=r.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(x,T))}else if(r.isEdge()){var k=r.sourceEndpoint(),E=r.targetEndpoint();a=e.createLinearGradient(k.x,k.y,E.x,E.y)}else{var S=s?{x:0,y:0}:r.position(),L=r.paddedWidth(),b=r.paddedHeight(),y=L/2,v=b/2,w=r.pstyle("background-gradient-direction").value;switch(w){case"to-bottom":a=e.createLinearGradient(S.x,S.y-v,S.x,S.y+v);break;case"to-top":a=e.createLinearGradient(S.x,S.y+v,S.x,S.y-v);break;case"to-left":a=e.createLinearGradient(S.x+y,S.y,S.x-y,S.y);break;case"to-right":a=e.createLinearGradient(S.x-y,S.y,S.x+y,S.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(S.x-y,S.y-v,S.x+y,S.y+v);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(S.x-y,S.y+v,S.x+y,S.y-v);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(S.x+y,S.y-v,S.x-y,S.y+v);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(S.x+y,S.y+v,S.x-y,S.y-v);break}}if(!a)return null;for(var C=u.length===o.length,A=o.length,M=0;M<A;M++)a.addColorStop(C?u[M]:M/(A-1),"rgba("+o[M][0]+","+o[M][1]+","+o[M][2]+","+n+")");return a},ca.gradientFillStyle=function(e,t,r,i){var n=this.createGradientStyleFor(e,"background",t,r,i);if(!n)return null;e.fillStyle=n},ca.colorFillStyle=function(e,t,r,i,n){e.fillStyle="rgba("+t+","+r+","+i+","+n+")"},ca.eleFillStyle=function(e,t,r){var i=t.pstyle("background-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientFillStyle(e,t,i,r);else{var n=t.pstyle("background-color").value;this.colorFillStyle(e,n[0],n[1],n[2],r)}},ca.gradientStrokeStyle=function(e,t,r,i){var n=this.createGradientStyleFor(e,"line",t,r,i);if(!n)return null;e.strokeStyle=n},ca.colorStrokeStyle=function(e,t,r,i,n){e.strokeStyle="rgba("+t+","+r+","+i+","+n+")"},ca.eleStrokeStyle=function(e,t,r){var i=t.pstyle("line-fill").value;if(i==="linear-gradient"||i==="radial-gradient")this.gradientStrokeStyle(e,t,i,r);else{var n=t.pstyle("line-color").value;this.colorStrokeStyle(e,n[0],n[1],n[2],r)}},ca.matchCanvasSize=function(e){var t=this,r=t.data,i=t.findContainerClientCoords(),n=i[2],a=i[3],s=t.getPixelRatio(),o=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=o);var u=n*s,h=a*s,d;if(!(u===t.canvasWidth&&h===t.canvasHeight)){t.fontCaches=null;var p=r.canvasContainer;p.style.width=n+"px",p.style.height=a+"px";for(var g=0;g<t.CANVAS_LAYERS;g++)d=r.canvases[g],d.width=u,d.height=h,d.style.width=n+"px",d.style.height=a+"px";for(var g=0;g<t.BUFFER_COUNT;g++)d=r.bufferCanvases[g],d.width=u,d.height=h,d.style.width=n+"px",d.style.height=a+"px";t.textureMult=1,s<=1&&(d=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,d.width=u*t.textureMult,d.height=h*t.textureMult),t.canvasWidth=u,t.canvasHeight=h,t.pixelRatio=s}},ca.renderTo=function(e,t,r,i){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:i})},ca.clearCanvas=function(){var e=this,t=e.data;function r(i){i.clearRect(0,0,e.canvasWidth,e.canvasHeight)}l(r,"clear"),r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])},ca.render=function(e){var t=this;e=e||TR();var r=t.cy,i=e.forcedContext,n=e.drawAllLayers,a=e.drawOnlyNodeLayer,s=e.forcedZoom,o=e.forcedPan,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,h=t.data,d=h.canvasNeedsRedraw,p=t.textureOnViewport&&!i&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),g=e.motionBlur!==void 0?e.motionBlur:t.motionBlur,f=t.motionBlurPxRatio,m=r.hasCompoundNodes(),x=t.hoverData.draggingEles,T=!!(t.hoverData.selecting||t.touchData.selecting);g=g&&!i&&t.motionBlurEnabled&&!T;var k=g;i||(t.prevPxRatio!==u&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=u),!i&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),g&&(t.mbFrames==null&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(k=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!p&&(d[t.NODE]=!0,d[t.SELECT_BOX]=!0);var E=r.style(),S=r.zoom(),L=s!==void 0?s:S,b=r.pan(),y={x:b.x,y:b.y},v={zoom:S,pan:{x:b.x,y:b.y}},w=t.prevViewport,C=w===void 0||v.zoom!==w.zoom||v.pan.x!==w.pan.x||v.pan.y!==w.pan.y;!C&&!(x&&!m)&&(t.motionBlurPxRatio=1),o&&(y=o),L*=u,y.x*=u,y.y*=u;var A=t.getCachedZSortedEles();function M(W,J,Y,X,te){var ce=W.globalCompositeOperation;W.globalCompositeOperation="destination-out",t.colorFillStyle(W,255,255,255,t.motionBlurTransparency),W.fillRect(J,Y,X,te),W.globalCompositeOperation=ce}l(M,"mbclear");function N(W,J){var Y,X,te,ce;!t.clearingMotionBlur&&(W===h.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]||W===h.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG])?(Y={x:b.x*f,y:b.y*f},X=S*f,te=t.canvasWidth*f,ce=t.canvasHeight*f):(Y=y,X=L,te=t.canvasWidth,ce=t.canvasHeight),W.setTransform(1,0,0,1,0,0),J==="motionBlur"?M(W,0,0,te,ce):!i&&(J===void 0||J)&&W.clearRect(0,0,te,ce),n||(W.translate(Y.x,Y.y),W.scale(X,X)),o&&W.translate(o.x,o.y),s&&W.scale(s,s)}if(l(N,"setContextTransform"),p||(t.textureDrawLastFrame=!1),p){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var O=t.data.bufferContexts[t.TEXTURE_BUFFER];O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:O,drawOnlyNodeLayer:!0,forcedPxRatio:u*t.textureMult});var v=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight};v.mpan={x:(0-v.pan.x)/v.zoom,y:(0-v.pan.y)/v.zoom}}d[t.DRAG]=!1,d[t.NODE]=!1;var _=h.contexts[t.NODE],I=t.textureCache.texture,v=t.textureCache.viewport;_.setTransform(1,0,0,1,0,0),g?M(_,0,0,v.width,v.height):_.clearRect(0,0,v.width,v.height);var R=E.core("outside-texture-bg-color").value,P=E.core("outside-texture-bg-opacity").value;t.colorFillStyle(_,R[0],R[1],R[2],P),_.fillRect(0,0,v.width,v.height);var S=r.zoom();N(_,!1),_.clearRect(v.mpan.x,v.mpan.y,v.width/v.zoom/u,v.height/v.zoom/u),_.drawImage(I,v.mpan.x,v.mpan.y,v.width/v.zoom/u,v.height/v.zoom/u)}else t.textureOnViewport&&!i&&(t.textureCache=null);var D=r.extent(),$=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),F=t.hideEdgesOnViewport&&$,z=[];if(z[t.NODE]=!d[t.NODE]&&g&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,z[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),z[t.DRAG]=!d[t.DRAG]&&g&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,z[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),d[t.NODE]||n||a||z[t.NODE]){var U=g&&!z[t.NODE]&&f!==1,_=i||(U?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:h.contexts[t.NODE]),j=g&&!U?"motionBlur":void 0;N(_,j),F?t.drawCachedNodes(_,A.nondrag,u,D):t.drawLayeredElements(_,A.nondrag,u,D),t.debug&&t.drawDebugPoints(_,A.nondrag),!n&&!g&&(d[t.NODE]=!1)}if(!a&&(d[t.DRAG]||n||z[t.DRAG])){var U=g&&!z[t.DRAG]&&f!==1,_=i||(U?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:h.contexts[t.DRAG]);N(_,g&&!U?"motionBlur":void 0),F?t.drawCachedNodes(_,A.drag,u,D):t.drawCachedElements(_,A.drag,u,D),t.debug&&t.drawDebugPoints(_,A.drag),!n&&!g&&(d[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,N),g&&f!==1){var H=h.contexts[t.NODE],Q=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],re=h.contexts[t.DRAG],le=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],oe=l(function(W,J,Y){W.setTransform(1,0,0,1,0,0),Y||!k?W.clearRect(0,0,t.canvasWidth,t.canvasHeight):M(W,0,0,t.canvasWidth,t.canvasHeight);var X=f;W.drawImage(J,0,0,t.canvasWidth*X,t.canvasHeight*X,0,0,t.canvasWidth,t.canvasHeight)},"drawMotionBlur");(d[t.NODE]||z[t.NODE])&&(oe(H,Q,z[t.NODE]),d[t.NODE]=!1),(d[t.DRAG]||z[t.DRAG])&&(oe(re,le,z[t.DRAG]),d[t.DRAG]=!1)}t.prevViewport=v,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),g&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!p,t.mbFrames=0,d[t.NODE]=!0,d[t.DRAG]=!0,t.redraw()},M7e)),i||r.emit("render")},ca.drawSelectionRectangle=function(e,t){var r=this,i=r.cy,n=r.data,a=i.style(),s=e.drawOnlyNodeLayer,o=e.drawAllLayers,u=n.canvasNeedsRedraw,h=e.forcedContext;if(r.showFps||!s&&u[r.SELECT_BOX]&&!o){var d=h||n.contexts[r.SELECT_BOX];if(t(d),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var p=r.cy.zoom(),g=a.core("selection-box-border-width").value/p;d.lineWidth=g,d.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",d.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),g>0&&(d.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",d.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(n.bgActivePosistion&&!r.hoverData.selecting){var p=r.cy.zoom(),f=n.bgActivePosistion;d.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",d.beginPath(),d.arc(f.x,f.y,a.core("active-bg-size").pfValue/p,0,2*Math.PI),d.fill()}var m=r.lastRedrawTime;if(r.showFps&&m){m=Math.round(m);var x=Math.round(1e3/m),T="1 frame = "+m+" ms = "+x+" fps";if(d.setTransform(1,0,0,1,0,0),d.fillStyle="rgba(255, 0, 0, 0.75)",d.strokeStyle="rgba(255, 0, 0, 0.75)",d.font="30px Arial",!qv){var k=d.measureText(T);qv=k.actualBoundingBoxAscent}d.fillText(T,0,qv);var E=60;d.strokeRect(0,qv+10,250,20),d.fillRect(0,qv+10,250*Math.min(x/E,1),20)}o||(u[r.SELECT_BOX]=!1)}},l(ND,"compileShader"),l(g3e,"createProgram"),l(f3e,"createTextureCanvas"),l(Gw,"getEffectivePanZoom"),l(m3e,"getEffectiveZoom"),l(y3e,"modelToRenderedPosition"),l(v3e,"isSimpleShape"),l(b3e,"arrayEqual"),l(th,"toWebGLColor"),l(Od,"indexToVec4"),l(x3e,"vec4ToIndex"),l(w3e,"createTexture"),l(MD,"getTypeInfo"),l(ID,"createTypedArray"),l(k3e,"createTypedArrayView"),l(T3e,"createBufferStaticDraw"),l(Co,"createBufferDynamicDraw"),l(E3e,"create3x3MatrixBufferDynamicDraw"),l(C3e,"createPickingFrameBuffer"),sB=typeof Float32Array<"u"?Float32Array:Array,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),l(Uw,"create"),l(DD,"identity"),l(S3e,"multiply"),l(rv,"translate"),l(RD,"rotate"),l(qw,"scale"),l(_3e,"projection"),I7e=(function(){function e(t,r,i,n){kc(this,e),this.debugID=Math.floor(Math.random()*1e4),this.r=t,this.texSize=r,this.texRows=i,this.texHeight=Math.floor(r/i),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=n(t,r,r),this.scratch=n(t,r,this.texHeight,"scratch")}return l(e,"Atlas"),Tc(e,[{key:"lock",value:l(function(){this.locked=!0},"lock")},{key:"getKeys",value:l(function(){return new Set(this.keyToLocation.keys())},"getKeys")},{key:"getScale",value:l(function(t){var r=t.w,i=t.h,n=this.texHeight,a=this.texSize,s=n/i,o=r*s,u=i*s;return o>a&&(s=a/r,o=r*s,u=i*s),{scale:s,texW:o,texH:u}},"getScale")},{key:"draw",value:l(function(t,r,i){var n=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,s=this.texRows,o=this.texHeight,u=this.getScale(r),h=u.scale,d=u.texW,p=u.texH,g=l(function(k,E){if(i&&E){var S=E.context,L=k.x,b=k.row,y=L,v=o*b;S.save(),S.translate(y,v),S.scale(h,h),i(S,r),S.restore()}},"drawAt"),f=[null,null],m=l(function(){g(n.freePointer,n.canvas),f[0]={x:n.freePointer.x,y:n.freePointer.row*o,w:d,h:p},f[1]={x:n.freePointer.x+d,y:n.freePointer.row*o,w:0,h:p},n.freePointer.x+=d,n.freePointer.x==a&&(n.freePointer.x=0,n.freePointer.row++)},"drawNormal"),x=l(function(){var k=n.scratch,E=n.canvas;k.clear(),g({x:0,row:0},k);var S=a-n.freePointer.x,L=d-S,b=o;{var y=n.freePointer.x,v=n.freePointer.row*o,w=S;E.context.drawImage(k,0,0,w,b,y,v,w,b),f[0]={x:y,y:v,w,h:p}}{var C=S,A=(n.freePointer.row+1)*o,M=L;E&&E.context.drawImage(k,C,0,M,b,0,A,M,b),f[1]={x:0,y:A,w:M,h:p}}n.freePointer.x=L,n.freePointer.row++},"drawWrapped"),T=l(function(){n.freePointer.x=0,n.freePointer.row++},"moveToStartOfNextRow");if(this.freePointer.x+d<=a)m();else{if(this.freePointer.row>=s-1)return!1;this.freePointer.x===a?(T(),m()):this.enableWrapping?x():(T(),m())}return this.keyToLocation.set(t,f),this.needsBuffer=!0,f},"draw")},{key:"getOffsets",value:l(function(t){return this.keyToLocation.get(t)},"getOffsets")},{key:"isEmpty",value:l(function(){return this.freePointer.x===0&&this.freePointer.row===0},"isEmpty")},{key:"canFit",value:l(function(t){if(this.locked)return!1;var r=this.texSize,i=this.texRows,n=this.getScale(t),a=n.texW;return this.freePointer.x+a>r?this.freePointer.row<i-1:!0},"canFit")},{key:"bufferIfNeeded",value:l(function(t){this.texture||(this.texture=w3e(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))},"bufferIfNeeded")},{key:"dispose",value:l(function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0},"dispose")}])})(),D7e=(function(){function e(t,r,i,n){kc(this,e),this.r=t,this.texSize=r,this.texRows=i,this.createTextureCanvas=n,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return l(e,"AtlasCollection"),Tc(e,[{key:"getKeys",value:l(function(){return new Set(this.styleKeyToAtlas.keys())},"getKeys")},{key:"_createAtlas",value:l(function(){var t=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas;return new I7e(t,r,i,n)},"_createAtlas")},{key:"_getScratchCanvas",value:l(function(){if(!this.scratch){var t=this.r,r=this.texSize,i=this.texRows,n=this.createTextureCanvas,a=Math.floor(r/i);this.scratch=n(t,r,a,"scratch")}return this.scratch},"_getScratchCanvas")},{key:"draw",value:l(function(t,r,i){var n=this.styleKeyToAtlas.get(t);return n||(n=this.atlases[this.atlases.length-1],(!n||!n.canFit(r))&&(n&&n.lock(),n=this._createAtlas(),this.atlases.push(n)),n.draw(t,r,i),this.styleKeyToAtlas.set(t,n)),n},"draw")},{key:"getAtlas",value:l(function(t){return this.styleKeyToAtlas.get(t)},"getAtlas")},{key:"hasAtlas",value:l(function(t){return this.styleKeyToAtlas.has(t)},"hasAtlas")},{key:"markKeyForGC",value:l(function(t){this.markedKeys.add(t)},"markKeyForGC")},{key:"gc",value:l(function(){var t=this,r=this.markedKeys;if(r.size===0){console.log("nothing to garbage collect");return}var i=[],n=new Map,a=null,s=Na(this.atlases),o;try{var u=l(function(){var h=o.value,d=h.getKeys(),p=A3e(r,d);if(p.size===0)return i.push(h),d.forEach(function(S){return n.set(S,h)}),1;a||(a=t._createAtlas(),i.push(a));var g=Na(d),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(!p.has(m)){var x=h.getOffsets(m),T=Ui(x,2),k=T[0],E=T[1];a.canFit({w:k.w+E.w,h:k.h})||(a.lock(),a=t._createAtlas(),i.push(a)),h.canvas&&(t._copyTextureToNewAtlas(m,h,a),n.set(m,a))}}}catch(S){g.e(S)}finally{g.f()}h.dispose()},"_loop");for(s.s();!(o=s.n()).done;)u()}catch(h){s.e(h)}finally{s.f()}this.atlases=i,this.styleKeyToAtlas=n,this.markedKeys=new Set},"gc")},{key:"_copyTextureToNewAtlas",value:l(function(t,r,i){var n=r.getOffsets(t),a=Ui(n,2),s=a[0],o=a[1];if(o.w===0)i.draw(t,s,function(p){p.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h)});else{var u=this._getScratchCanvas();u.clear(),u.context.drawImage(r.canvas,s.x,s.y,s.w,s.h,0,0,s.w,s.h),u.context.drawImage(r.canvas,o.x,o.y,o.w,o.h,s.w,0,o.w,o.h);var h=s.w+o.w,d=s.h;i.draw(t,{w:h,h:d},function(p){p.drawImage(u,0,0,h,d,0,0,h,d)})}},"_copyTextureToNewAtlas")},{key:"getCounts",value:l(function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}},"getCounts")}])})(),l(A3e,"intersection"),R7e=(function(){function e(t,r){kc(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return l(e,"AtlasManager"),Tc(e,[{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"addAtlasCollection",value:l(function(t,r){var i=this.globalOptions,n=i.webglTexSize,a=i.createTextureCanvas,s=r.texRows,o=this._cacheScratchCanvas(a),u=new D7e(this.r,n,s,o);this.collections.set(t,u)},"addAtlasCollection")},{key:"addRenderType",value:l(function(t,r){var i=r.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var n=this.collections.get(i),a=er({type:t,atlasCollection:n},r);this.renderTypes.set(t,a)},"addRenderType")},{key:"getRenderTypeOpts",value:l(function(t){return this.renderTypes.get(t)},"getRenderTypeOpts")},{key:"getAtlasCollection",value:l(function(t){return this.collections.get(t)},"getAtlasCollection")},{key:"_cacheScratchCanvas",value:l(function(t){var r=-1,i=-1,n=null;return function(a,s,o,u){return u?((!n||s!=r||o!=i)&&(r=s,i=o,n=t(a,s,o)),n):t(a,s,o)}},"_cacheScratchCanvas")},{key:"_key",value:l(function(t,r){return"".concat(t,"-").concat(r)},"_key")},{key:"invalidate",value:l(function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.forceRedraw,a=n===void 0?!1:n,s=i.filterEle,o=s===void 0?function(){return!0}:s,u=i.filterType,h=u===void 0?function(){return!0}:u,d=!1,p=!1,g=Na(t),f;try{for(g.s();!(f=g.n()).done;){var m=f.value;if(o(m)){var x=Na(this.renderTypes.values()),T;try{var k=l(function(){var E=T.value,S=E.type;if(h(S)){var L=r.collections.get(E.collection),b=E.getKey(m),y=Array.isArray(b)?b:[b];if(a)y.forEach(function(A){return L.markKeyForGC(A)}),p=!0;else{var v=E.getID?E.getID(m):m.id(),w=r._key(S,v),C=r.typeAndIdToKey.get(w);C!==void 0&&!b3e(y,C)&&(d=!0,r.typeAndIdToKey.delete(w),C.forEach(function(A){return L.markKeyForGC(A)}))}}},"_loop2");for(x.s();!(T=x.n()).done;)k()}catch(E){x.e(E)}finally{x.f()}}}}catch(E){g.e(E)}finally{g.f()}return p&&(this.gc(),d=!1),d},"invalidate")},{key:"gc",value:l(function(){var t=Na(this.collections.values()),r;try{for(t.s();!(r=t.n()).done;){var i=r.value;i.gc()}}catch(n){t.e(n)}finally{t.f()}},"gc")},{key:"getOrCreateAtlas",value:l(function(t,r,i,n){var a=this.renderTypes.get(r),s=this.collections.get(a.collection),o=!1,u=s.draw(n,i,function(p){a.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,i.w,i.h),p.clip(),a.drawElement(p,t,i,!0,!0),p.restore()):a.drawElement(p,t,i,!0,!0),o=!0});if(o){var h=a.getID?a.getID(t):t.id(),d=this._key(r,h);this.typeAndIdToKey.has(d)?this.typeAndIdToKey.get(d).push(n):this.typeAndIdToKey.set(d,[n])}return u},"getOrCreateAtlas")},{key:"getAtlasInfo",value:l(function(t,r){var i=this,n=this.renderTypes.get(r),a=n.getKey(t),s=Array.isArray(a)?a:[a];return s.map(function(o){var u=n.getBoundingBox(t,o),h=i.getOrCreateAtlas(t,r,u,o),d=h.getOffsets(o),p=Ui(d,2),g=p[0],f=p[1];return{atlas:h,tex:g,tex1:g,tex2:f,bb:u}})},"getAtlasInfo")},{key:"getDebugInfo",value:l(function(){var t=[],r=Na(this.collections),i;try{for(r.s();!(i=r.n()).done;){var n=Ui(i.value,2),a=n[0],s=n[1],o=s.getCounts(),u=o.keyCount,h=o.atlasCount;t.push({type:a,keyCount:u,atlasCount:h})}}catch(d){r.e(d)}finally{r.f()}return t},"getDebugInfo")}])})(),O7e=(function(){function e(t){kc(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]}return l(e,"AtlasBatchManager"),Tc(e,[{key:"getMaxAtlasesPerBatch",value:l(function(){return this.maxAtlasesPerBatch},"getMaxAtlasesPerBatch")},{key:"getAtlasSize",value:l(function(){return this.atlasSize},"getAtlasSize")},{key:"getIndexArray",value:l(function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,r){return r})},"getIndexArray")},{key:"startBatch",value:l(function(){this.batchAtlases=[]},"startBatch")},{key:"getAtlasCount",value:l(function(){return this.batchAtlases.length},"getAtlasCount")},{key:"getAtlases",value:l(function(){return this.batchAtlases},"getAtlases")},{key:"canAddToCurrentBatch",value:l(function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0},"canAddToCurrentBatch")},{key:"getAtlasIndexForBatch",value:l(function(t){var r=this.batchAtlases.indexOf(t);if(r<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),r=this.batchAtlases.length-1}return r},"getAtlasIndexForBatch")}])})(),P7e=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,B7e=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,$7e=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,F7e=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,O1={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},jv={IGNORE:1,USE_BB:2},Ak=0,oB=1,lB=2,Lk=3,r0=4,Hv=5,P1=6,B1=7,z7e=(function(){function e(t,r,i){kc(this,e),this.r=t,this.gl=r,this.maxInstances=i.webglBatchSize,this.atlasSize=i.webglTexSize,this.bgColor=i.bgColor,this.debug=i.webglDebug,this.batchDebugInfo=[],i.enableWrapping=!0,i.createTextureCanvas=f3e,this.atlasManager=new R7e(t,i),this.batchManager=new O7e(i),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(O1.SCREEN),this.pickingProgram=this._createShaderProgram(O1.PICKING),this.vao=this._createVAO()}return l(e,"ElementDrawingWebGL"),Tc(e,[{key:"addAtlasCollection",value:l(function(t,r){this.atlasManager.addAtlasCollection(t,r)},"addAtlasCollection")},{key:"addTextureAtlasRenderType",value:l(function(t,r){this.atlasManager.addRenderType(t,r)},"addTextureAtlasRenderType")},{key:"addSimpleShapeRenderType",value:l(function(t,r){this.simpleShapeOptions.set(t,r)},"addSimpleShapeRenderType")},{key:"invalidate",value:l(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.type,n=this.atlasManager;return i?n.invalidate(t,{filterType:l(function(a){return a===i},"filterType"),forceRedraw:!0}):n.invalidate(t)},"invalidate")},{key:"gc",value:l(function(){this.atlasManager.gc()},"gc")},{key:"_createShaderProgram",value:l(function(t){var r=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Ak,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(r0," || aVertType == ").concat(B1,` 
             || aVertType == `).concat(Hv," || aVertType == ").concat(P1,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(oB,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(lB,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Lk,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),n=this.batchManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(n.map(function(u){return"uniform sampler2D uTexture".concat(u,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(P7e,`
      `).concat(B7e,`
      `).concat($7e,`
      `).concat(F7e,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Ak,`) {
          // look up the texel from the texture unit
          `).concat(n.map(function(u){return"if(vAtlasId == ".concat(u,") outColor = texture(uTexture").concat(u,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Lk,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(r0,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(r0," || vVertType == ").concat(B1,` 
          || vVertType == `).concat(Hv," || vVertType == ").concat(P1,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(r0,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(B1,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(B1,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),s=g3e(r,i,a);s.aPosition=r.getAttribLocation(s,"aPosition"),s.aIndex=r.getAttribLocation(s,"aIndex"),s.aVertType=r.getAttribLocation(s,"aVertType"),s.aTransform=r.getAttribLocation(s,"aTransform"),s.aAtlasId=r.getAttribLocation(s,"aAtlasId"),s.aTex=r.getAttribLocation(s,"aTex"),s.aPointAPointB=r.getAttribLocation(s,"aPointAPointB"),s.aPointCPointD=r.getAttribLocation(s,"aPointCPointD"),s.aLineWidth=r.getAttribLocation(s,"aLineWidth"),s.aColor=r.getAttribLocation(s,"aColor"),s.aCornerRadius=r.getAttribLocation(s,"aCornerRadius"),s.aBorderColor=r.getAttribLocation(s,"aBorderColor"),s.uPanZoomMatrix=r.getUniformLocation(s,"uPanZoomMatrix"),s.uAtlasSize=r.getUniformLocation(s,"uAtlasSize"),s.uBGColor=r.getUniformLocation(s,"uBGColor"),s.uZoom=r.getUniformLocation(s,"uZoom"),s.uTextures=[];for(var o=0;o<this.batchManager.getMaxAtlasesPerBatch();o++)s.uTextures.push(r.getUniformLocation(s,"uTexture".concat(o)));return s},"_createShaderProgram")},{key:"_createVAO",value:l(function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var r=this.maxInstances,i=this.gl,n=this.program,a=i.createVertexArray();return i.bindVertexArray(a),T3e(i,"vec2",n.aPosition,t),this.transformBuffer=E3e(i,r,n.aTransform),this.indexBuffer=Co(i,r,"vec4",n.aIndex),this.vertTypeBuffer=Co(i,r,"int",n.aVertType),this.atlasIdBuffer=Co(i,r,"int",n.aAtlasId),this.texBuffer=Co(i,r,"vec4",n.aTex),this.pointAPointBBuffer=Co(i,r,"vec4",n.aPointAPointB),this.pointCPointDBuffer=Co(i,r,"vec4",n.aPointCPointD),this.lineWidthBuffer=Co(i,r,"vec2",n.aLineWidth),this.colorBuffer=Co(i,r,"vec4",n.aColor),this.cornerRadiusBuffer=Co(i,r,"vec4",n.aCornerRadius),this.borderColorBuffer=Co(i,r,"vec4",n.aBorderColor),i.bindVertexArray(null),a},"_createVAO")},{key:"buffers",get:l(function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(r){return Cc(r,"Buffer")}).map(function(r){return t[r]})),this._buffers},"get")},{key:"startFrame",value:l(function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O1.SCREEN;this.panZoomMatrix=t,this.renderTarget=r,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()},"startFrame")},{key:"startBatch",value:l(function(){this.instanceCount=0,this.batchManager.startBatch()},"startBatch")},{key:"endFrame",value:l(function(){this.endBatch()},"endFrame")},{key:"_isVisible",value:l(function(t,r){return t.visible()?r&&r.isVisible?r.isVisible(t):!0:!1},"_isVisible")},{key:"drawTexture",value:l(function(t,r,i){var n=this.atlasManager,a=this.batchManager,s=n.getRenderTypeOpts(i);if(this._isVisible(t,s)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&s.getTexPickingMode){var o=s.getTexPickingMode(t);if(o===jv.IGNORE)return;if(o==jv.USE_BB){this.drawPickingRectangle(t,r,i);return}}var u=n.getAtlasInfo(t,i),h=Na(u),d;try{for(h.s();!(d=h.n()).done;){var p=d.value,g=p.atlas,f=p.tex1,m=p.tex2;a.canAddToCurrentBatch(g)||this.endBatch();for(var x=a.getAtlasIndexForBatch(g),T=0,k=[[f,!0],[m,!1]];T<k.length;T++){var E=Ui(k[T],2),S=E[0],L=E[1];if(S.w!=0){var b=this.instanceCount;this.vertTypeBuffer.getView(b)[0]=Ak;var y=this.indexBuffer.getView(b);Od(r,y);var v=this.atlasIdBuffer.getView(b);v[0]=x;var w=this.texBuffer.getView(b);w[0]=S.x,w[1]=S.y,w[2]=S.w,w[3]=S.h;var C=this.transformBuffer.getMatrixView(b);this.setTransformMatrix(t,C,s,p,L),this.instanceCount++,L||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(A){h.e(A)}finally{h.f()}}},"drawTexture")},{key:"setTransformMatrix",value:l(function(t,r,i,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=0;if(i.shapeProps&&i.shapeProps.padding&&(s=t.pstyle(i.shapeProps.padding).pfValue),n){var o=n.bb,u=n.tex1,h=n.tex2,d=u.w/(u.w+h.w);a||(d=1-d);var p=this._getAdjustedBB(o,s,a,d);this._applyTransformMatrix(r,p,i,t)}else{var g=i.getBoundingBox(t),f=this._getAdjustedBB(g,s,!0,1);this._applyTransformMatrix(r,f,i,t)}},"setTransformMatrix")},{key:"_applyTransformMatrix",value:l(function(t,r,i,n){var a,s;DD(t);var o=i.getRotation?i.getRotation(n):0;if(o!==0){var u=i.getRotationPoint(n),h=u.x,d=u.y;rv(t,t,[h,d]),RD(t,t,o);var p=i.getRotationOffset(n);a=p.x+(r.xOffset||0),s=p.y+(r.yOffset||0)}else a=r.x1,s=r.y1;rv(t,t,[a,s]),qw(t,t,[r.w,r.h])},"_applyTransformMatrix")},{key:"_getAdjustedBB",value:l(function(t,r,i,n){var a=t.x1,s=t.y1,o=t.w,u=t.h,h=t.yOffset;r&&(a-=r,s-=r,o+=2*r,u+=2*r);var d=0,p=o*n;return i&&n<1?o=p:!i&&n<1&&(d=o-p,a+=d,o=p),{x1:a,y1:s,w:o,h:u,xOffset:d,yOffset:h}},"_getAdjustedBB")},{key:"drawPickingRectangle",value:l(function(t,r,i){var n=this.atlasManager.getRenderTypeOpts(i),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=r0;var s=this.indexBuffer.getView(a);Od(r,s);var o=this.colorBuffer.getView(a);th([0,0,0],1,o);var u=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(t,u,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()},"drawPickingRectangle")},{key:"drawNode",value:l(function(t,r,i){var n=this.simpleShapeOptions.get(i);if(this._isVisible(t,n)){var a=n.shapeProps,s=this._getVertTypeForShape(t,a.shape);if(s===void 0||n.isSimple&&!n.isSimple(t)){this.drawTexture(t,r,i);return}var o=this.instanceCount;if(this.vertTypeBuffer.getView(o)[0]=s,s===Hv||s===P1){var u=n.getBoundingBox(t),h=this._getCornerRadius(t,a.radius,u),d=this.cornerRadiusBuffer.getView(o);d[0]=h,d[1]=h,d[2]=h,d[3]=h,s===P1&&(d[0]=0,d[2]=0)}var p=this.indexBuffer.getView(o);Od(r,p);var g=t.pstyle(a.color).value,f=t.pstyle(a.opacity).value,m=this.colorBuffer.getView(o);th(g,f,m);var x=this.lineWidthBuffer.getView(o);if(x[0]=0,x[1]=0,a.border){var T=t.pstyle("border-width").value;if(T>0){var k=t.pstyle("border-color").value,E=t.pstyle("border-opacity").value,S=this.borderColorBuffer.getView(o);th(k,E,S);var L=t.pstyle("border-position").value;if(L==="inside")x[0]=0,x[1]=-T;else if(L==="outside")x[0]=T,x[1]=0;else{var b=T/2;x[0]=b,x[1]=-b}}}var y=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(t,y,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},"drawNode")},{key:"_getVertTypeForShape",value:l(function(t,r){var i=t.pstyle(r).value;switch(i){case"rectangle":return r0;case"ellipse":return B1;case"roundrectangle":case"round-rectangle":return Hv;case"bottom-round-rectangle":return P1;default:return}},"_getVertTypeForShape")},{key:"_getCornerRadius",value:l(function(t,r,i){var n=i.w,a=i.h;if(t.pstyle(r).value==="auto")return Nc(n,a);var s=t.pstyle(r).pfValue,o=n/2,u=a/2;return Math.min(s,u,o)},"_getCornerRadius")},{key:"drawEdgeArrow",value:l(function(t,r,i){if(t.visible()){var n=t._private.rscratch,a,s,o;if(i==="source"?(a=n.arrowStartX,s=n.arrowStartY,o=n.srcArrowAngle):(a=n.arrowEndX,s=n.arrowEndY,o=n.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(s)||s==null||isNaN(o)||o==null)){var u=t.pstyle(i+"-arrow-shape").value;if(u!=="none"){var h=t.pstyle(i+"-arrow-color").value,d=t.pstyle("opacity").value,p=t.pstyle("line-opacity").value,g=d*p,f=t.pstyle("width").pfValue,m=t.pstyle("arrow-scale").value,x=this.r.getArrowWidth(f,m),T=this.instanceCount,k=this.transformBuffer.getMatrixView(T);DD(k),rv(k,k,[a,s]),qw(k,k,[x,x]),RD(k,k,o),this.vertTypeBuffer.getView(T)[0]=Lk;var E=this.indexBuffer.getView(T);Od(r,E);var S=this.colorBuffer.getView(T);th(h,g,S),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeArrow")},{key:"drawEdgeLine",value:l(function(t,r){if(t.visible()){var i=this._getEdgePoints(t);if(i){var n=t.pstyle("opacity").value,a=t.pstyle("line-opacity").value,s=t.pstyle("width").pfValue,o=t.pstyle("line-color").value,u=n*a;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var h=this.instanceCount;this.vertTypeBuffer.getView(h)[0]=oB;var d=this.indexBuffer.getView(h);Od(r,d);var p=this.colorBuffer.getView(h);th(o,u,p);var g=this.lineWidthBuffer.getView(h);g[0]=s;var f=this.pointAPointBBuffer.getView(h);f[0]=i[0],f[1]=i[1],f[2]=i[2],f[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var m=0;m<i.length-2;m+=2){var x=this.instanceCount;this.vertTypeBuffer.getView(x)[0]=lB;var T=this.indexBuffer.getView(x);Od(r,T);var k=this.colorBuffer.getView(x);th(o,u,k);var E=this.lineWidthBuffer.getView(x);E[0]=s;var S=i[m-2],L=i[m-1],b=i[m],y=i[m+1],v=i[m+2],w=i[m+3],C=i[m+4],A=i[m+5];m==0&&(S=2*b-v+.001,L=2*y-w+.001),m==i.length-4&&(C=2*v-b+.001,A=2*w-y+.001);var M=this.pointAPointBBuffer.getView(x);M[0]=S,M[1]=L,M[2]=b,M[3]=y;var N=this.pointCPointDBuffer.getView(x);N[0]=v,N[1]=w,N[2]=C,N[3]=A,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},"drawEdgeLine")},{key:"_isValidEdge",value:l(function(t){var r=t._private.rscratch;return!(r.badLine||r.allpts==null||isNaN(r.allpts[0]))},"_isValidEdge")},{key:"_getEdgePoints",value:l(function(t){var r=t._private.rscratch;if(this._isValidEdge(t)){var i=r.allpts;if(i.length==4)return i;var n=this._getNumSegments(t);return this._getCurveSegmentPoints(i,n)}},"_getEdgePoints")},{key:"_getNumSegments",value:l(function(t){var r=15;return Math.min(Math.max(r,5),this.maxInstances)},"_getNumSegments")},{key:"_getCurveSegmentPoints",value:l(function(t,r){if(t.length==4)return t;for(var i=Array((r+1)*2),n=0;n<=r;n++)if(n==0)i[0]=t[0],i[1]=t[1];else if(n==r)i[n*2]=t[t.length-2],i[n*2+1]=t[t.length-1];else{var a=n/r;this._setCurvePoint(t,a,i,n*2)}return i},"_getCurveSegmentPoints")},{key:"_setCurvePoint",value:l(function(t,r,i,n){if(t.length<=2)i[n]=t[0],i[n+1]=t[1];else{for(var a=Array(t.length-2),s=0;s<a.length;s+=2){var o=(1-r)*t[s]+r*t[s+2],u=(1-r)*t[s+1]+r*t[s+3];a[s]=o,a[s+1]=u}return this._setCurvePoint(a,r,i,n)}},"_setCurvePoint")},{key:"endBatch",value:l(function(){var t=this.gl,r=this.vao,i=this.vertexCount,n=this.instanceCount;if(n!==0){var a=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(a),t.bindVertexArray(r);var s=Na(this.buffers),o;try{for(s.s();!(o=s.n()).done;){var u=o.value;u.bufferSubData(n)}}catch(f){s.e(f)}finally{s.f()}for(var h=this.batchManager.getAtlases(),d=0;d<h.length;d++)h[d].bufferIfNeeded(t);for(var p=0;p<h.length;p++)t.activeTexture(t.TEXTURE0+p),t.bindTexture(t.TEXTURE_2D,h[p].texture),t.uniform1i(a.uTextures[p],p);t.uniform1f(a.uZoom,m3e(this.r)),t.uniformMatrix3fv(a.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(a.uAtlasSize,this.batchManager.getAtlasSize());var g=th(this.bgColor,1);t.uniform4fv(a.uBGColor,g),t.drawArraysInstanced(t.TRIANGLES,0,i,n),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:n,atlasCount:h.length}),this.startBatch()}},"endBatch")},{key:"getDebugInfo",value:l(function(){var t=this.atlasManager.getDebugInfo(),r=t.reduce(function(a,s){return a+s.atlasCount},0),i=this.batchDebugInfo,n=i.reduce(function(a,s){return a+s.count},0);return{atlasInfo:t,totalAtlases:r,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:n}},"getDebugInfo")}])})(),cB={},cB.initWebgl=function(e,t){var r=this,i=r.data.contexts[r.WEBGL];e.bgColor=L3e(r),e.webglTexSize=Math.min(e.webglTexSize,i.getParameter(i.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=C3e(i),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new z7e(r,i,e);var n=l(function(d){return function(p){return r.getTextAngle(p,d)}},"getLabelRotation"),a=l(function(d){return function(p){var g=p.pstyle(d);return g&&g.value}},"isLabelVisible"),s=l(function(d){return function(p){return p.pstyle("".concat(d,"-opacity")).value>0}},"isLayerVisible"),o=l(function(d){var p=d.pstyle("text-events").strValue==="yes";return p?jv.USE_BB:jv.IGNORE},"getTexPickingMode"),u=l(function(d){var p=d.position(),g=p.x,f=p.y,m=d.outerWidth(),x=d.outerHeight();return{w:m,h:x,x1:g-m/2,y1:f-x/2}},"getBBForSimpleShape");r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:u,isSimple:v3e,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:u,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:u,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:o,getKey:Nk(t.getLabelKey,null),getBoundingBox:Mk(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:n(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:o,getKey:Nk(t.getSourceLabelKey,"source"),getBoundingBox:Mk(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:n("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:o,getKey:Nk(t.getTargetLabelKey,"target"),getBoundingBox:Mk(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:n("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var h=p1(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(d,p){var g=!1;p&&p.length>0&&(g|=r.drawing.invalidate(p)),g&&h()}),N3e(r)},l(L3e,"getBGColor"),l(OD,"getLabelLines"),Nk=l(function(e,t){return function(r){var i=e(r),n=OD(r,t);return n.length>1?n.map(function(a,s){return"".concat(i,"_").concat(s)}):i}},"getStyleKeysForLabel"),Mk=l(function(e,t){return function(r,i){var n=e(r);if(typeof i=="string"){var a=i.indexOf("_");if(a>0){var s=Number(i.substring(a+1)),o=OD(r,t),u=n.h/o.length,h=u*s,d=n.y1+h;return{x1:n.x1,w:n.w,y1:d,h:u,yOffset:h}}}return n}},"getBoundingBoxForLabel"),l(N3e,"overrideCanvasRendererFunctions"),l(M3e,"clearWebgl"),l(I3e,"clearCanvas"),l(D3e,"createPanZoomMatrix"),l(PD,"setContextTransform"),l(R3e,"drawSelectionRectangle"),l(O3e,"drawAxes"),l(P3e,"drawAtlases"),l(B3e,"getPickingIndexes"),l($3e,"findNearestElementsWebgl"),l(jw,"drawEle"),l(BD,"renderWebgl"),zc={},zc.drawPolygonPath=function(e,t,r,i,n,a){var s=i/2,o=n/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],r+o*a[1]);for(var u=1;u<a.length/2;u++)e.lineTo(t+s*a[u*2],r+o*a[u*2+1]);e.closePath()},zc.drawRoundPolygonPath=function(e,t,r,i,n,a,s){s.forEach(function(o){return SD(e,o)}),e.closePath()},zc.drawRoundRectanglePath=function(e,t,r,i,n,a){var s=i/2,o=n/2,u=a==="auto"?Nc(i,n):Math.min(a,o,s);e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.arcTo(t+s,r-o,t+s,r,u),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.arcTo(t-s,r-o,t,r-o,u),e.lineTo(t,r-o),e.closePath()},zc.drawBottomRoundRectanglePath=function(e,t,r,i,n,a){var s=i/2,o=n/2,u=a==="auto"?Nc(i,n):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-o),e.lineTo(t+s,r-o),e.lineTo(t+s,r),e.arcTo(t+s,r+o,t,r+o,u),e.arcTo(t-s,r+o,t-s,r,u),e.lineTo(t-s,r-o),e.lineTo(t,r-o),e.closePath()},zc.drawCutRectanglePath=function(e,t,r,i,n,a,s){var o=i/2,u=n/2,h=s==="auto"?nk():s;e.beginPath&&e.beginPath(),e.moveTo(t-o+h,r-u),e.lineTo(t+o-h,r-u),e.lineTo(t+o,r-u+h),e.lineTo(t+o,r+u-h),e.lineTo(t+o-h,r+u),e.lineTo(t-o+h,r+u),e.lineTo(t-o,r+u-h),e.lineTo(t-o,r-u+h),e.closePath()},zc.drawBarrelPath=function(e,t,r,i,n){var a=i/2,s=n/2,o=t-a,u=t+a,h=r-s,d=r+s,p=ak(i,n),g=p.widthOffset,f=p.heightOffset,m=p.ctrlPtOffsetPct*g;e.beginPath&&e.beginPath(),e.moveTo(o,h+f),e.lineTo(o,d-f),e.quadraticCurveTo(o+m,d,o+g,d),e.lineTo(u-g,d),e.quadraticCurveTo(u-m,d,u,d-f),e.lineTo(u,h+f),e.quadraticCurveTo(u-m,h,u-g,h),e.lineTo(o+g,h),e.quadraticCurveTo(o+m,h,o,h+f),e.closePath()},uB=Math.sin(0),hB=Math.cos(0),Ik={},Dk={},dB=Math.PI/40,i0=0*Math.PI;i0<2*Math.PI;i0+=dB)Ik[i0]=Math.sin(i0),Dk[i0]=Math.cos(i0);zc.drawEllipsePath=function(e,t,r,i,n){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,i/2,n/2,0,0,2*Math.PI);else for(var a,s,o=i/2,u=n/2,h=0*Math.PI;h<2*Math.PI;h+=dB)a=t-o*Ik[h]*uB+o*Dk[h]*hB,s=r+u*Dk[h]*uB+u*Ik[h]*hB,h===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()},$1={},$1.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},$1.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),i=r.boundingBox(),n=this.findContainerClientCoords(),a=e.full?Math.ceil(i.w):n[2],s=e.full?Math.ceil(i.h):n[3],o=bt(e.maxWidth)||bt(e.maxHeight),u=this.getPixelRatio(),h=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,h=e.scale;else if(o){var d=1/0,p=1/0;bt(e.maxWidth)&&(d=h*e.maxWidth/a),bt(e.maxHeight)&&(p=h*e.maxHeight/s),h=Math.min(d,p),a*=h,s*=h}o||(a*=u,s*=u,h*=u);var g=document.createElement("canvas");g.width=a,g.height=s,g.style.width=a+"px",g.style.height=s+"px";var f=g.getContext("2d");if(a>0&&s>0){f.clearRect(0,0,a,s),f.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)f.translate(-i.x1*h,-i.y1*h),f.scale(h,h),this.drawElements(f,m),f.scale(1/h,1/h),f.translate(i.x1*h,i.y1*h);else{var x=t.pan(),T={x:x.x*h,y:x.y*h};h*=t.zoom(),f.translate(T.x,T.y),f.scale(h,h),this.drawElements(f,m),f.scale(1/h,1/h),f.translate(-T.x,-T.y)}e.bg&&(f.globalCompositeOperation="destination-over",f.fillStyle=e.bg,f.rect(0,0,a,s),f.fill())}return g},l(F3e,"b64ToBlob"),l($D,"b64UriToB64"),l(FD,"output"),$1.png=function(e){return FD(e,this.bufferCanvasImage(e),"image/png")},$1.jpg=function(e){return FD(e,this.bufferCanvasImage(e),"image/jpeg")},pB={},pB.nodeShapeImpl=function(e,t,r,i,n,a,s,o){switch(e){case"ellipse":return this.drawEllipsePath(t,r,i,n,a);case"polygon":return this.drawPolygonPath(t,r,i,n,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,r,i,n,a,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,i,n,a,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,i,n,a,s,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,i,n,a,o);case"barrel":return this.drawBarrelPath(t,r,i,n,a)}},G7e=zD,yr=zD.prototype,yr.CANVAS_LAYERS=3,yr.SELECT_BOX=0,yr.DRAG=1,yr.NODE=2,yr.WEBGL=3,yr.CANVAS_TYPES=["2d","2d","2d","webgl2"],yr.BUFFER_COUNT=3,yr.TEXTURE_BUFFER=0,yr.MOTIONBLUR_BUFFER_NODE=1,yr.MOTIONBLUR_BUFFER_DRAG=2,l(zD,"CanvasRenderer"),yr.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[yr.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[yr.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[yr.SELECT_BOX]=t;break;case"gc":r.data.gc=!0;break}},U7e=typeof Path2D<"u",yr.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e},yr.usePaths=function(){return U7e&&this.pathsEnabled},yr.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},yr.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},yr.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":rn(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var i=this.cy.window(),n=i.document;r=n.createElement("canvas"),r.width=e,r.height=t}return r},[iB,Mo,kl,_k,hh,Fc,ca,cB,zc,$1,pB].forEach(function(e){er(yr,e)}),q7e=[{name:"null",impl:CD},{name:"base",impl:XP},{name:"canvas",impl:G7e}],j7e=[{type:"layout",extensions:GTe},{type:"renderer",extensions:q7e}],gB={},fB={},l(GD,"setExtension"),l(UD,"getExtension"),l(z3e,"setModule"),l(G3e,"getModule"),Rk=l(function(){if(arguments.length===2)return UD.apply(null,arguments);if(arguments.length===3)return GD.apply(null,arguments);if(arguments.length===4)return G3e.apply(null,arguments);if(arguments.length===5)return z3e.apply(null,arguments);di("Invalid extension access syntax")},"extension"),A1.prototype.extension=Rk,j7e.forEach(function(e){e.extensions.forEach(function(t){GD(e.type,t.name,t.impl)})}),Vv=l(function(){if(!(this instanceof Vv))return new Vv;this.length=0},"Stylesheet"),dh=Vv.prototype,dh.instanceString=function(){return"stylesheet"},dh.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},dh.css=function(e,t){var r=this.length-1;if(Ht(e))this[r].properties.push({name:e,value:t});else if(Nr(e))for(var i=e,n=Object.keys(i),a=0;a<n.length;a++){var s=n[a],o=i[s];if(o!=null){var u=bn.properties[s]||bn.properties[nv(s)];if(u!=null){var h=u.name,d=o;this[r].properties.push({name:h,value:d})}}}return this},dh.style=dh.css,dh.generateStyle=function(e){var t=new bn(e);return this.appendToStyle(t)},dh.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],i=r.selector,n=r.properties;e.selector(i);for(var a=0;a<n.length;a++){var s=n[a];e.css(s.name,s.value)}}return e},H7e="3.33.1",Io=l(function(e){if(e===void 0&&(e={}),Nr(e))return new A1(e);if(Ht(e))return Rk.apply(Rk,arguments)},"cytoscape"),Io.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(Io),e.apply(null,t),this},Io.warnings=function(e){return wR(e)},Io.version=H7e,Io.stylesheet=Io.Stylesheet=Vv}),Y7e=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i():typeof define=="function"&&define.amd?define([],i):typeof e=="object"?e.layoutBase=i():r.layoutBase=i()}),"webpackUniversalModuleDefinition")(e,function(){return(function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=26)})([(function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function u(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u}),(function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),u=n(0),h=n(16),d=n(4);function p(f,m,x,T){x==null&&T==null&&(T=m),a.call(this,T),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=T,this.edges=[],this.graphManager=f,x!=null&&m!=null?this.rect=new o(m.x,m.y,x.width,x.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],x,T=this;return T.edges.forEach(function(k){if(k.target==f){if(k.source!=T)throw"Incorrect edge source!";m.push(k)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],x,T=this;return T.edges.forEach(function(k){if(!(k.source==T||k.target==T))throw"Incorrect edge source and/or target";(k.target==f||k.source==f)&&m.push(k)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(x){if(x.source==m)f.add(x.target);else{if(x.target!=m)throw"Incorrect incidency!";f.add(x.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,x;if(f.add(this),this.child!=null)for(var T=this.child.getNodes(),k=0;k<T.length;k++)m=T[k],x=m.withChildren(),x.forEach(function(E){f.add(E)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var x=this.child.getNodes(),T=0;T<x.length;T++)m=x[T],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,x=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+h.nextDouble()*(T-x)+x;var k=-u.INITIAL_WORLD_BOUNDARY,E=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(E-k)+k,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),x=f.getBottom()-f.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>x&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-x)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-x),this.setHeight(this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var x=this.rect.y;x>u.WORLD_BOUNDARY?x=u.WORLD_BOUNDARY:x<-u.WORLD_BOUNDARY&&(x=-u.WORLD_BOUNDARY);var T=new d(m,x),k=f.inverseTransformPoint(T);this.setLocation(k.x,k.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p}),(function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),u=n(6),h=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(T,k,E){a.call(this,E),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=T,k!=null&&k instanceof u?this.graphManager=k:k!=null&&k instanceof Layout&&(this.graphManager=k.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var x in a)m[x]=a[x];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(T,k,E){if(k==null&&E==null){var S=T;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var L=T;if(!(this.getNodes().indexOf(k)>-1&&this.getNodes().indexOf(E)>-1))throw"Source or target not in graph!";if(!(k.owner==E.owner&&k.owner==this))throw"Both owners must be this graph!";return k.owner!=E.owner?null:(L.source=k,L.target=E,L.isInterGraph=!1,this.getEdges().push(L),k.edges.push(L),E!=k&&E.edges.push(L),L)}},m.prototype.remove=function(T){var k=T;if(T instanceof h){if(k==null)throw"Node is null!";if(!(k.owner!=null&&k.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var E=k.edges.slice(),S,L=E.length,b=0;b<L;b++)S=E[b],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var y=this.nodes.indexOf(k);if(y==-1)throw"Node not in owner node list!";this.nodes.splice(y,1)}else if(T instanceof d){var S=T;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var v=S.source.edges.indexOf(S),w=S.target.edges.indexOf(S);if(!(v>-1&&w>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(v,1),S.target!=S.source&&S.target.edges.splice(w,1);var y=S.source.owner.getEdges().indexOf(S);if(y==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(y,1)}},m.prototype.updateLeftTop=function(){for(var T=s.MAX_VALUE,k=s.MAX_VALUE,E,S,L,b=this.getNodes(),y=b.length,v=0;v<y;v++){var w=b[v];E=w.getTop(),S=w.getLeft(),T>E&&(T=E),k>S&&(k=S)}return T==s.MAX_VALUE?null:(b[0].getParent().paddingLeft!=null?L=b[0].getParent().paddingLeft:L=this.margin,this.left=k-L,this.top=T-L,new g(this.left,this.top))},m.prototype.updateBounds=function(T){for(var k=s.MAX_VALUE,E=-s.MAX_VALUE,S=s.MAX_VALUE,L=-s.MAX_VALUE,b,y,v,w,C,A=this.nodes,M=A.length,N=0;N<M;N++){var O=A[N];T&&O.child!=null&&O.updateBounds(),b=O.getLeft(),y=O.getRight(),v=O.getTop(),w=O.getBottom(),k>b&&(k=b),E<y&&(E=y),S>v&&(S=v),L<w&&(L=w)}var _=new p(k,S,E-k,L-S);k==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),A[0].getParent().paddingLeft!=null?C=A[0].getParent().paddingLeft:C=this.margin,this.left=_.x-C,this.right=_.x+_.width+C,this.top=_.y-C,this.bottom=_.y+_.height+C},m.calculateBounds=function(T){for(var k=s.MAX_VALUE,E=-s.MAX_VALUE,S=s.MAX_VALUE,L=-s.MAX_VALUE,b,y,v,w,C=T.length,A=0;A<C;A++){var M=T[A];b=M.getLeft(),y=M.getRight(),v=M.getTop(),w=M.getBottom(),k>b&&(k=b),E<y&&(E=y),S>v&&(S=v),L<w&&(L=w)}var N=new p(k,S,E-k,L-S);return N},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var T=0,k=this.nodes,E=k.length,S=0;S<E;S++){var L=k[S];T+=L.calcEstimatedSize()}return T==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=T/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var T=this;if(this.nodes.length==0){this.isConnected=!0;return}var k=new f,E=new Set,S=this.nodes[0],L,b,y=S.withChildren();for(y.forEach(function(N){k.push(N),E.add(N)});k.length!==0;){S=k.shift(),L=S.getEdges();for(var v=L.length,w=0;w<v;w++){var C=L[w];if(b=C.getOtherEndInGraph(S,this),b!=null&&!E.has(b)){var A=b.withChildren();A.forEach(function(N){k.push(N),E.add(N)})}}}if(this.isConnected=!1,E.size>=this.nodes.length){var M=0;E.forEach(function(N){N.owner==T&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,i,n){"use strict";var a,s=n(1);function o(u){a=n(5),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,g){if(d==null&&p==null&&g==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{g=d,p=h,d=u;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],h.remove(p);var m=[];m=m.concat(h.getNodes());var x;g=m.length;for(var f=0;f<g;f++)x=m[f],h.remove(x);h==this.rootGraph&&this.setRootGraph(null);var T=this.graphs.indexOf(h);this.graphs.splice(T,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var T=p.source.edges.indexOf(p);if(p.source.edges.splice(T,1),T=p.target.edges.indexOf(p),p.target.edges.splice(T,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var T=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(T,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,g,f=this.getAllEdges(),m=f.length,x=0;x<m;x++){if(u=f[x],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,g=d.getOwner();u.lca==null;){if(g==p){u.lca=g;break}if(g==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=g.getParent(),g=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=this.edges.length,d=0;d<h;d++)if(u=this.edges[d],this.isOneAncestorOfOther(u.source,u.target))return!0;return!1},r.exports=o}),(function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s}),(function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var g=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(g=1);var f=g*h[0],m=h[1]/g;h[0]<m?m=h[0]:f=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),g=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=g,h[3]=f,!0;var m=o.getX(),x=o.getY(),T=o.getRight(),k=o.getX(),E=o.getBottom(),S=o.getRight(),L=o.getWidthHalf(),b=o.getHeightHalf(),y=u.getX(),v=u.getY(),w=u.getRight(),C=u.getX(),A=u.getBottom(),M=u.getRight(),N=u.getWidthHalf(),O=u.getHeightHalf(),_=!1,I=!1;if(d===g){if(p>f)return h[0]=d,h[1]=x,h[2]=g,h[3]=A,!1;if(p<f)return h[0]=d,h[1]=E,h[2]=g,h[3]=v,!1}else if(p===f){if(d>g)return h[0]=m,h[1]=p,h[2]=w,h[3]=f,!1;if(d<g)return h[0]=T,h[1]=p,h[2]=y,h[3]=f,!1}else{var R=o.height/o.width,P=u.height/u.width,D=(f-p)/(g-d),$=void 0,F=void 0,z=void 0,U=void 0,j=void 0,H=void 0;if(-R===D?d>g?(h[0]=k,h[1]=E,_=!0):(h[0]=T,h[1]=x,_=!0):R===D&&(d>g?(h[0]=m,h[1]=x,_=!0):(h[0]=S,h[1]=E,_=!0)),-P===D?g>d?(h[2]=C,h[3]=A,I=!0):(h[2]=w,h[3]=v,I=!0):P===D&&(g>d?(h[2]=y,h[3]=v,I=!0):(h[2]=M,h[3]=A,I=!0)),_&&I)return!1;if(d>g?p>f?($=this.getCardinalDirection(R,D,4),F=this.getCardinalDirection(P,D,2)):($=this.getCardinalDirection(-R,D,3),F=this.getCardinalDirection(-P,D,1)):p>f?($=this.getCardinalDirection(-R,D,1),F=this.getCardinalDirection(-P,D,3)):($=this.getCardinalDirection(R,D,2),F=this.getCardinalDirection(P,D,4)),!_)switch($){case 1:U=x,z=d+-b/D,h[0]=z,h[1]=U;break;case 2:z=S,U=p+L*D,h[0]=z,h[1]=U;break;case 3:U=E,z=d+b/D,h[0]=z,h[1]=U;break;case 4:z=k,U=p+-L*D,h[0]=z,h[1]=U;break}if(!I)switch(F){case 1:H=v,j=g+-O/D,h[2]=j,h[3]=H;break;case 2:j=M,H=f+N*D,h[2]=j,h[3]=H;break;case 3:H=A,j=g+O/D,h[2]=j,h[3]=H;break;case 4:j=C,H=f+-N*D,h[2]=j,h[3]=H;break}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p=o.x,g=o.y,f=u.x,m=u.y,x=h.x,T=h.y,k=d.x,E=d.y,S=void 0,L=void 0,b=void 0,y=void 0,v=void 0,w=void 0,C=void 0,A=void 0,M=void 0;return b=m-g,v=p-f,C=f*g-p*m,y=E-T,w=x-k,A=k*T-x*E,M=b*w-y*v,M===0?null:(S=(v*A-w*C)/M,L=(y*C-b*A)/M,new a(S,L))},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,g=o.y,f=u.x,m=u.y,x=h.x,T=h.y,k=d.x,E=d.y,S=(f-p)*(E-T)-(k-x)*(m-g);if(S===0)return!1;var L=((E-T)*(k-p)+(x-k)*(E-g))/S,b=((g-m)*(k-p)+(f-p)*(E-g))/S;return 0<L&&L<1&&0<b&&b<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a}),(function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function p(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}})();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),h=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=(function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g==null||g.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return u(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return u(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return u(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return u(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return u(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return u(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return h(g,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,x=this.head;m<g;)x=x.next,m++;x.value=f}},"set_object_at")}]),p})();r.exports=d}),(function(r,i,n){"use strict";function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a}),(function(r,i,n){"use strict";function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a}),(function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=typeof o>"u"?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s}),(function(r,i,n){"use strict";function a(x){if(Array.isArray(x)){for(var T=0,k=Array(x.length);T<x.length;T++)k[T]=x[T];return k}else return Array.from(x)}l(a,"_toConsumableArray");var s=n(0),o=n(6),u=n(3),h=n(1),d=n(5),p=n(4),g=n(17),f=n(27);function m(x){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,x!=null&&(this.isRemoteUse=x)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var x=new o(this);return this.graphManager=x,x},m.prototype.newGraph=function(x){return new d(null,this.graphManager,x)},m.prototype.newNode=function(x){return new u(this.graphManager,x)},m.prototype.newEdge=function(x){return new h(null,null,x)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var x;return this.checkLayoutSuccess()?x=!1:x=this.layout(),s.ANIMATE==="during"?!1:(x&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,x)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var x,T=this.graphManager.getAllEdges(),k=0;k<T.length;k++)x=T[k];for(var E,S=this.graphManager.getRoot().getNodes(),k=0;k<S.length;k++)E=S[k];this.update(this.graphManager.getRoot())}},m.prototype.update=function(x){if(x==null)this.update2();else if(x instanceof u){var T=x;if(T.getChild()!=null)for(var k=T.getChild().getNodes(),E=0;E<k.length;E++)update(k[E]);if(T.vGraphObject!=null){var S=T.vGraphObject;S.update(T)}}else if(x instanceof h){var L=x;if(L.vGraphObject!=null){var b=L.vGraphObject;b.update(L)}}else if(x instanceof d){var y=x;if(y.vGraphObject!=null){var v=y.vGraphObject;v.update(y)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(x){if(x==null)this.transform(new p(0,0));else{var T=new g,k=this.graphManager.getRoot().updateLeftTop();if(k!=null){T.setWorldOrgX(x.x),T.setWorldOrgY(x.y),T.setDeviceOrgX(k.x),T.setDeviceOrgY(k.y);for(var E=this.getAllNodes(),S,L=0;L<E.length;L++)S=E[L],S.transform(T)}}},m.prototype.positionNodesRandomly=function(x){if(x==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var T,k,E=x.getNodes(),S=0;S<E.length;S++)T=E[S],k=T.getChild(),k==null||k.getNodes().length==0?T.scatter():(this.positionNodesRandomly(k),T.updateBounds())},m.prototype.getFlatForest=function(){for(var x=[],T=!0,k=this.graphManager.getRoot().getNodes(),E=!0,S=0;S<k.length;S++)k[S].getChild()!=null&&(E=!1);if(!E)return x;var L=new Set,b=[],y=new Map,v=[];for(v=v.concat(k);v.length>0&&T;){for(b.push(v[0]);b.length>0&&T;){var w=b[0];b.splice(0,1),L.add(w);for(var C=w.getEdges(),S=0;S<C.length;S++){var A=C[S].getOtherEnd(w);if(y.get(w)!=A)if(!L.has(A))b.push(A),y.set(A,w);else{T=!1;break}}}if(!T)x=[];else{var M=[].concat(a(L));x.push(M);for(var S=0;S<M.length;S++){var N=M[S],O=v.indexOf(N);O>-1&&v.splice(O,1)}L=new Set,y=new Map}}return x},m.prototype.createDummyNodesForBendpoints=function(x){for(var T=[],k=x.source,E=this.graphManager.calcLowestCommonAncestor(x.source,x.target),S=0;S<x.bendpoints.length;S++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),E.add(L);var b=this.newEdge(null);this.graphManager.add(b,k,L),T.add(L),k=L}var b=this.newEdge(null);return this.graphManager.add(b,k,x.target),this.edgeToDummyNodes.set(x,T),x.isInterGraph()?this.graphManager.remove(x):E.remove(x),T},m.prototype.createBendpointsFromDummyNodes=function(){var x=[];x=x.concat(this.graphManager.getAllEdges()),x=[].concat(a(this.edgeToDummyNodes.keys())).concat(x);for(var T=0;T<x.length;T++){var k=x[T];if(k.bendpoints.length>0){for(var E=this.edgeToDummyNodes.get(k),S=0;S<E.length;S++){var L=E[S],b=new p(L.getCenterX(),L.getCenterY()),y=k.bendpoints.get(S);y.x=b.x,y.y=b.y,L.getOwner().remove(L)}this.graphManager.add(k,k.source,k.target)}}},m.transform=function(x,T,k,E){if(k!=null&&E!=null){var S=T;if(x<=50){var L=T/k;S-=(T-L)/50*(50-x)}else{var b=T*E;S+=(b-T)/50*(x-50)}return S}else{var y,v;return x<=50?(y=9*T/500,v=T/10):(y=9*T/50,v=-8*T),y*x+v}},m.findCenterOfTree=function(x){var T=[];T=T.concat(x);var k=[],E=new Map,S=!1,L=null;(T.length==1||T.length==2)&&(S=!0,L=T[0]);for(var b=0;b<T.length;b++){var y=T[b],v=y.getNeighborsList().size;E.set(y,y.getNeighborsList().size),v==1&&k.push(y)}var w=[];for(w=w.concat(k);!S;){var C=[];C=C.concat(w),w=[];for(var b=0;b<T.length;b++){var y=T[b],A=T.indexOf(y);A>=0&&T.splice(A,1);var M=y.getNeighborsList();M.forEach(function(_){if(k.indexOf(_)<0){var I=E.get(_),R=I-1;R==1&&w.push(_),E.set(_,R)}})}k=k.concat(w),(T.length==1||T.length==2)&&(S=!0,L=T[0])}return L},m.prototype.setGraphManager=function(x){this.graphManager=x},r.exports=m}),(function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a}),(function(r,i,n){"use strict";var a=n(4);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){var u=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},r.exports=s}),(function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,x=Array(f.length);m<f.length;m++)x[m]=f[m];return x}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(7),u=n(0),h=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,x,T,k,E,S=this.getGraphManager().getAllEdges(),L=0;L<S.length;L++)f=S[L],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(x=f.getSource(),T=f.getTarget(),k=f.getSourceInLca().getEstimatedSize(),E=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=k+E-2*u.SIMPLE_NODE_SIZE),m=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(x.getInclusionTreeDepth()+T.getInclusionTreeDepth()-2*m))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,x=0;x<f.length;x++)m=f[x],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x,T,k,E,S=this.getAllNodes(),L;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),L=new Set,x=0;x<S.length;x++)k=S[x],this.calculateRepulsionForceOfANode(k,L,f,m),L.add(k);else for(x=0;x<S.length;x++)for(k=S[x],T=x+1;T<S.length;T++)E=S[T],k.getOwner()==E.getOwner()&&this.calcRepulsionForce(k,E)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),x=0;x<m.length;x++)f=m[x],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,x=0;x<f.length;x++)m=f[x],m.move()},p.prototype.calcSpringForce=function(f,m){var x=f.getSource(),T=f.getTarget(),k,E,S,L;if(this.uniformLeafNodeSizes&&x.getChild()==null&&T.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;k=f.getLength(),k!=0&&(E=this.springConstant*(k-m),S=E*(f.lengthX/k),L=E*(f.lengthY/k),x.springForceX+=S,x.springForceY+=L,T.springForceX-=S,T.springForceY-=L)},p.prototype.calcRepulsionForce=function(f,m){var x=f.getRect(),T=m.getRect(),k=new Array(2),E=new Array(4),S,L,b,y,v,w,C;if(x.intersects(T)){h.calcSeparationAmount(x,T,k,o.DEFAULT_EDGE_LENGTH/2),w=2*k[0],C=2*k[1];var A=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=A*w,f.repulsionForceY-=A*C,m.repulsionForceX+=A*w,m.repulsionForceY+=A*C}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(S=T.getCenterX()-x.getCenterX(),L=T.getCenterY()-x.getCenterY()):(h.getIntersection(x,T,E),S=E[2]-E[0],L=E[3]-E[1]),Math.abs(S)<o.MIN_REPULSION_DIST&&(S=d.sign(S)*o.MIN_REPULSION_DIST),Math.abs(L)<o.MIN_REPULSION_DIST&&(L=d.sign(L)*o.MIN_REPULSION_DIST),b=S*S+L*L,y=Math.sqrt(b),v=this.repulsionConstant*f.noOfChildren*m.noOfChildren/b,w=v*S/y,C=v*L/y,f.repulsionForceX-=w,f.repulsionForceY-=C,m.repulsionForceX+=w,m.repulsionForceY+=C},p.prototype.calcGravitationalForce=function(f){var m,x,T,k,E,S,L,b;m=f.getOwner(),x=(m.getRight()+m.getLeft())/2,T=(m.getTop()+m.getBottom())/2,k=f.getCenterX()-x,E=f.getCenterY()-T,S=Math.abs(k)+f.getWidth()/2,L=Math.abs(E)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(b=m.getEstimatedSize()*this.gravityRangeFactor,(S>b||L>b)&&(f.gravitationForceX=-this.gravityConstant*k,f.gravitationForceY=-this.gravityConstant*E)):(b=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>b||L>b)&&(f.gravitationForceX=-this.gravityConstant*k*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*E*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),x=0;x<m.length;x++)f=m[x],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,x=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),x=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var T=new Array(m),k=0;k<m;k++)T[k]=new Array(x);for(var k=0;k<m;k++)for(var E=0;E<x;E++)T[k][E]=new Array;return T},p.prototype.addNodeToGrid=function(f,m,x){var T=0,k=0,E=0,S=0;T=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),k=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),E=parseInt(Math.floor((f.getRect().y-x)/this.repulsionRange)),S=parseInt(Math.floor((f.getRect().height+f.getRect().y-x)/this.repulsionRange));for(var L=T;L<=k;L++)for(var b=E;b<=S;b++)this.grid[L][b].push(f),f.setGridCoordinates(T,k,E,S)},p.prototype.updateGrid=function(){var f,m,x=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<x.length;f++)m=x[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,x,T){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&x||T){var k=new Set;f.surrounding=new Array;for(var E,S=this.grid,L=f.startX-1;L<f.finishX+2;L++)for(var b=f.startY-1;b<f.finishY+2;b++)if(!(L<0||b<0||L>=S.length||b>=S[0].length)){for(var y=0;y<S[L][b].length;y++)if(E=S[L][b][y],!(f.getOwner()!=E.getOwner()||f==E)&&!m.has(E)&&!k.has(E)){var v=Math.abs(f.getCenterX()-E.getCenterX())-(f.getWidth()/2+E.getWidth()/2),w=Math.abs(f.getCenterY()-E.getCenterY())-(f.getHeight()/2+E.getHeight()/2);v<=this.repulsionRange&&w<=this.repulsionRange&&k.add(E)}}f.surrounding=[].concat(a(k))}for(L=0;L<f.surrounding.length;L++)this.calcRepulsionForce(f,f.surrounding[L])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p}),(function(r,i,n){"use strict";var a=n(1),s=n(7);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,n){"use strict";var a=n(3);function s(u,h,d,p){a.call(this,u,h,d,p),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(s,"FDLayoutNode"),s.prototype=Object.create(a.prototype);for(var o in a)s[o]=a[o];s.prototype.setGridCoordinates=function(u,h,d,p){this.startX=u,this.finishX=h,this.startY=d,this.finishY=p},r.exports=s}),(function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a}),(function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){var u=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s}),(function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s}),(function(r,i,n){"use strict";var a=(function(){function h(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(h,"defineProperties"),function(d,p,g){return p&&h(d.prototype,p),g&&h(d,g),d}})();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),u=(function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,x=g;;){for(;this.compareFunction(f,this._get(d,x));)x--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<x)this._swap(d,m,x),m++,x--;else return x}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h})();r.exports=u}),(function(r,i,n){"use strict";var a=(function(){function u(h,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}})();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=(function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.grid[m][x]=0}this.tracebackGrid=new Array(this.iMax);for(var T=0;T<this.iMax;T++){this.tracebackGrid[T]=new Array(this.jMax);for(var k=0;k<this.jMax;k++)this.tracebackGrid[T][k]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,x=this.grid[p][g-1]+this.gap_penalty,T=[f,m,x],k=this.arrayAllMaxIndexes(T);this.grid[p][g]=T[k[0]],this.tracebackGrid[p][g]=[k.includes(0),k.includes(1),k.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],g=-1;(g=h.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u})();r.exports=o}),(function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(7),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(4),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(24),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(5),a.LEdge=n(1),a.LGraphManager=n(6),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(25),r.exports=a}),(function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a})])})}),W7e=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(Y7e()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof e=="object"?e.coseBase=i(Y7e()):r.coseBase=i(r.layoutBase)}),"webpackUniversalModuleDefinition")(e,function(r){return(function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=7)})([(function(i,n){i.exports=r}),(function(i,n,a){"use strict";var s=a(0).FDLayoutConstants;function o(){}l(o,"CoSEConstants");for(var u in s)o[u]=s[u];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,i.exports=o}),(function(i,n,a){"use strict";var s=a(0).FDLayoutEdge;function o(h,d,p){s.call(this,h,d,p)}l(o,"CoSEEdge"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).LGraph;function o(h,d,p){s.call(this,h,d,p)}l(o,"CoSEGraph"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).LGraphManager;function o(h){s.call(this,h)}l(o,"CoSEGraphManager"),o.prototype=Object.create(s.prototype);for(var u in s)o[u]=s[u];i.exports=o}),(function(i,n,a){"use strict";var s=a(0).FDLayoutNode,o=a(0).IMath;function u(d,p,g,f){s.call(this,d,p,g,f)}l(u,"CoSENode"),u.prototype=Object.create(s.prototype);for(var h in s)u[h]=s[h];u.prototype.move=function(){var d=this.graphManager.getLayout();this.displacementX=d.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=d.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementX=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>d.coolingFactor*d.maxNodeDisplacement&&(this.displacementY=d.coolingFactor*d.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),d.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},u.prototype.propogateDisplacementToChildren=function(d,p){for(var g=this.getChild().getNodes(),f,m=0;m<g.length;m++)f=g[m],f.getChild()==null?(f.moveBy(d,p),f.displacementX+=d,f.displacementY+=p):f.propogateDisplacementToChildren(d,p)},u.prototype.setPred1=function(d){this.pred1=d},u.prototype.getPred1=function(){return pred1},u.prototype.getPred2=function(){return pred2},u.prototype.setNext=function(d){this.next=d},u.prototype.getNext=function(){return next},u.prototype.setProcessed=function(d){this.processed=d},u.prototype.isProcessed=function(){return processed},i.exports=u}),(function(i,n,a){"use strict";var s=a(0).FDLayout,o=a(4),u=a(3),h=a(5),d=a(2),p=a(1),g=a(0).FDLayoutConstants,f=a(0).LayoutConstants,m=a(0).Point,x=a(0).PointD,T=a(0).Layout,k=a(0).Integer,E=a(0).IGeometry,S=a(0).LGraph,L=a(0).Transform;function b(){s.call(this),this.toBeTiled={}}l(b,"CoSELayout"),b.prototype=Object.create(s.prototype);for(var y in s)b[y]=s[y];b.prototype.newGraphManager=function(){var v=new o(this);return this.graphManager=v,v},b.prototype.newGraph=function(v){return new u(null,this.graphManager,v)},b.prototype.newNode=function(v){return new h(this.graphManager,v)},b.prototype.newEdge=function(v){return new d(null,null,v)},b.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(p.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=p.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=p.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=g.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=g.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=g.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},b.prototype.layout=function(){var v=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return v&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},b.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(p.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),w=this.nodesWithGravity.filter(function(A){return v.has(A)});this.graphManager.setAllNodesToApplyGravitation(w)}}else{var C=this.getFlatForest();if(C.length>0)this.positionNodesRadially(C);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),w=this.nodesWithGravity.filter(function(N){return v.has(N)});this.graphManager.setAllNodesToApplyGravitation(w),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},b.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var v=new Set(this.getAllNodes()),w=this.nodesWithGravity.filter(function(M){return v.has(M)});this.graphManager.setAllNodesToApplyGravitation(w),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var C=!this.isTreeGrowing&&!this.isGrowthFinished,A=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(C,A),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},b.prototype.getPositionsData=function(){for(var v=this.graphManager.getAllNodes(),w={},C=0;C<v.length;C++){var A=v[C].rect,M=v[C].id;w[M]={id:M,x:A.getCenterX(),y:A.getCenterY(),w:A.width,h:A.height}}return w},b.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var v=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!v;)v=this.tick();this.graphManager.updateBounds()}},b.prototype.calculateNodesToApplyGravitationTo=function(){var v=[],w,C=this.graphManager.getGraphs(),A=C.length,M;for(M=0;M<A;M++)w=C[M],w.updateConnected(),w.isConnected||(v=v.concat(w.getNodes()));return v},b.prototype.createBendpoints=function(){var v=[];v=v.concat(this.graphManager.getAllEdges());var w=new Set,C;for(C=0;C<v.length;C++){var A=v[C];if(!w.has(A)){var M=A.getSource(),N=A.getTarget();if(M==N)A.getBendpoints().push(new x),A.getBendpoints().push(new x),this.createDummyNodesForBendpoints(A),w.add(A);else{var O=[];if(O=O.concat(M.getEdgeListToNode(N)),O=O.concat(N.getEdgeListToNode(M)),!w.has(O[0])){if(O.length>1){var _;for(_=0;_<O.length;_++){var I=O[_];I.getBendpoints().push(new x),this.createDummyNodesForBendpoints(I)}}O.forEach(function(R){w.add(R)})}}}if(w.size==v.length)break}},b.prototype.positionNodesRadially=function(v){for(var w=new m(0,0),C=Math.ceil(Math.sqrt(v.length)),A=0,M=0,N=0,O=new x(0,0),_=0;_<v.length;_++){_%C==0&&(N=0,M=A,_!=0&&(M+=p.DEFAULT_COMPONENT_SEPERATION),A=0);var I=v[_],R=T.findCenterOfTree(I);w.x=N,w.y=M,O=b.radialLayout(I,R,w),O.y>A&&(A=Math.floor(O.y)),N=Math.floor(O.x+p.DEFAULT_COMPONENT_SEPERATION)}this.transform(new x(f.WORLD_CENTER_X-O.x/2,f.WORLD_CENTER_Y-O.y/2))},b.radialLayout=function(v,w,C){var A=Math.max(this.maxDiagonalInTree(v),p.DEFAULT_RADIAL_SEPARATION);b.branchRadialLayout(w,null,0,359,0,A);var M=S.calculateBounds(v),N=new L;N.setDeviceOrgX(M.getMinX()),N.setDeviceOrgY(M.getMinY()),N.setWorldOrgX(C.x),N.setWorldOrgY(C.y);for(var O=0;O<v.length;O++){var _=v[O];_.transform(N)}var I=new x(M.getMaxX(),M.getMaxY());return N.inverseTransformPoint(I)},b.branchRadialLayout=function(v,w,C,A,M,N){var O=(A-C+1)/2;O<0&&(O+=180);var _=(O+C)%360,I=_*E.TWO_PI/360,R=Math.cos(I),P=M*Math.cos(I),D=M*Math.sin(I);v.setCenter(P,D);var $=[];$=$.concat(v.getEdges());var F=$.length;w!=null&&F--;for(var z=0,U=$.length,j,H=v.getEdgesBetween(w);H.length>1;){var Q=H[0];H.splice(0,1);var re=$.indexOf(Q);re>=0&&$.splice(re,1),U--,F--}w!=null?j=($.indexOf(H[0])+1)%U:j=0;for(var le=Math.abs(A-C)/F,oe=j;z!=F;oe=++oe%U){var W=$[oe].getOtherEnd(v);if(W!=w){var J=(C+z*le)%360,Y=(J+le)%360;b.branchRadialLayout(W,v,J,Y,M+N,N),z++}}},b.maxDiagonalInTree=function(v){for(var w=k.MIN_VALUE,C=0;C<v.length;C++){var A=v[C],M=A.getDiagonal();M>w&&(w=M)}return w},b.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},b.prototype.groupZeroDegreeMembers=function(){var v=this,w={};this.memberGroups={},this.idToDummyNode={};for(var C=[],A=this.graphManager.getAllNodes(),M=0;M<A.length;M++){var N=A[M],O=N.getParent();this.getNodeDegreeWithChildren(N)===0&&(O.id==null||!this.getToBeTiled(O))&&C.push(N)}for(var M=0;M<C.length;M++){var N=C[M],_=N.getParent().id;typeof w[_]>"u"&&(w[_]=[]),w[_]=w[_].concat(N)}Object.keys(w).forEach(function(I){if(w[I].length>1){var R="DummyCompound_"+I;v.memberGroups[R]=w[I];var P=w[I][0].getParent(),D=new h(v.graphManager);D.id=R,D.paddingLeft=P.paddingLeft||0,D.paddingRight=P.paddingRight||0,D.paddingBottom=P.paddingBottom||0,D.paddingTop=P.paddingTop||0,v.idToDummyNode[R]=D;var $=v.getGraphManager().add(v.newGraph(),D),F=P.getChild();F.add(D);for(var z=0;z<w[I].length;z++){var U=w[I][z];F.remove(U),$.add(U)}}})},b.prototype.clearCompounds=function(){var v={},w={};this.performDFSOnCompounds();for(var C=0;C<this.compoundOrder.length;C++)w[this.compoundOrder[C].id]=this.compoundOrder[C],v[this.compoundOrder[C].id]=[].concat(this.compoundOrder[C].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[C].getChild()),this.compoundOrder[C].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(v,w)},b.prototype.clearZeroDegreeMembers=function(){var v=this,w=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(C){var A=v.idToDummyNode[C];w[C]=v.tileNodes(v.memberGroups[C],A.paddingLeft+A.paddingRight),A.rect.width=w[C].width,A.rect.height=w[C].height})},b.prototype.repopulateCompounds=function(){for(var v=this.compoundOrder.length-1;v>=0;v--){var w=this.compoundOrder[v],C=w.id,A=w.paddingLeft,M=w.paddingTop;this.adjustLocations(this.tiledMemberPack[C],w.rect.x,w.rect.y,A,M)}},b.prototype.repopulateZeroDegreeMembers=function(){var v=this,w=this.tiledZeroDegreePack;Object.keys(w).forEach(function(C){var A=v.idToDummyNode[C],M=A.paddingLeft,N=A.paddingTop;v.adjustLocations(w[C],A.rect.x,A.rect.y,M,N)})},b.prototype.getToBeTiled=function(v){var w=v.id;if(this.toBeTiled[w]!=null)return this.toBeTiled[w];var C=v.getChild();if(C==null)return this.toBeTiled[w]=!1,!1;for(var A=C.getNodes(),M=0;M<A.length;M++){var N=A[M];if(this.getNodeDegree(N)>0)return this.toBeTiled[w]=!1,!1;if(N.getChild()==null){this.toBeTiled[N.id]=!1;continue}if(!this.getToBeTiled(N))return this.toBeTiled[w]=!1,!1}return this.toBeTiled[w]=!0,!0},b.prototype.getNodeDegree=function(v){for(var w=v.id,C=v.getEdges(),A=0,M=0;M<C.length;M++){var N=C[M];N.getSource().id!==N.getTarget().id&&(A=A+1)}return A},b.prototype.getNodeDegreeWithChildren=function(v){var w=this.getNodeDegree(v);if(v.getChild()==null)return w;for(var C=v.getChild().getNodes(),A=0;A<C.length;A++){var M=C[A];w+=this.getNodeDegreeWithChildren(M)}return w},b.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},b.prototype.fillCompexOrderByDFS=function(v){for(var w=0;w<v.length;w++){var C=v[w];C.getChild()!=null&&this.fillCompexOrderByDFS(C.getChild().getNodes()),this.getToBeTiled(C)&&this.compoundOrder.push(C)}},b.prototype.adjustLocations=function(v,w,C,A,M){w+=A,C+=M;for(var N=w,O=0;O<v.rows.length;O++){var _=v.rows[O];w=N;for(var I=0,R=0;R<_.length;R++){var P=_[R];P.rect.x=w,P.rect.y=C,w+=P.rect.width+v.horizontalPadding,P.rect.height>I&&(I=P.rect.height)}C+=I+v.verticalPadding}},b.prototype.tileCompoundMembers=function(v,w){var C=this;this.tiledMemberPack=[],Object.keys(v).forEach(function(A){var M=w[A];C.tiledMemberPack[A]=C.tileNodes(v[A],M.paddingLeft+M.paddingRight),M.rect.width=C.tiledMemberPack[A].width,M.rect.height=C.tiledMemberPack[A].height})},b.prototype.tileNodes=function(v,w){var C=p.TILING_PADDING_VERTICAL,A=p.TILING_PADDING_HORIZONTAL,M={rows:[],rowWidth:[],rowHeight:[],width:0,height:w,verticalPadding:C,horizontalPadding:A};v.sort(function(_,I){return _.rect.width*_.rect.height>I.rect.width*I.rect.height?-1:_.rect.width*_.rect.height<I.rect.width*I.rect.height?1:0});for(var N=0;N<v.length;N++){var O=v[N];M.rows.length==0?this.insertNodeToRow(M,O,0,w):this.canAddHorizontal(M,O.rect.width,O.rect.height)?this.insertNodeToRow(M,O,this.getShortestRowIndex(M),w):this.insertNodeToRow(M,O,M.rows.length,w),this.shiftToLastRow(M)}return M},b.prototype.insertNodeToRow=function(v,w,C,A){var M=A;if(C==v.rows.length){var N=[];v.rows.push(N),v.rowWidth.push(M),v.rowHeight.push(0)}var O=v.rowWidth[C]+w.rect.width;v.rows[C].length>0&&(O+=v.horizontalPadding),v.rowWidth[C]=O,v.width<O&&(v.width=O);var _=w.rect.height;C>0&&(_+=v.verticalPadding);var I=0;_>v.rowHeight[C]&&(I=v.rowHeight[C],v.rowHeight[C]=_,I=v.rowHeight[C]-I),v.height+=I,v.rows[C].push(w)},b.prototype.getShortestRowIndex=function(v){for(var w=-1,C=Number.MAX_VALUE,A=0;A<v.rows.length;A++)v.rowWidth[A]<C&&(w=A,C=v.rowWidth[A]);return w},b.prototype.getLongestRowIndex=function(v){for(var w=-1,C=Number.MIN_VALUE,A=0;A<v.rows.length;A++)v.rowWidth[A]>C&&(w=A,C=v.rowWidth[A]);return w},b.prototype.canAddHorizontal=function(v,w,C){var A=this.getShortestRowIndex(v);if(A<0)return!0;var M=v.rowWidth[A];if(M+v.horizontalPadding+w<=v.width)return!0;var N=0;v.rowHeight[A]<C&&A>0&&(N=C+v.verticalPadding-v.rowHeight[A]);var O;v.width-M>=w+v.horizontalPadding?O=(v.height+N)/(M+w+v.horizontalPadding):O=(v.height+N)/v.width,N=C+v.verticalPadding;var _;return v.width<w?_=(v.height+N)/w:_=(v.height+N)/v.width,_<1&&(_=1/_),O<1&&(O=1/O),O<_},b.prototype.shiftToLastRow=function(v){var w=this.getLongestRowIndex(v),C=v.rowWidth.length-1,A=v.rows[w],M=A[A.length-1],N=M.width+v.horizontalPadding;if(v.width-v.rowWidth[C]>N&&w!=C){A.splice(-1,1),v.rows[C].push(M),v.rowWidth[w]=v.rowWidth[w]-N,v.rowWidth[C]=v.rowWidth[C]+N,v.width=v.rowWidth[instance.getLongestRowIndex(v)];for(var O=Number.MIN_VALUE,_=0;_<A.length;_++)A[_].height>O&&(O=A[_].height);w>0&&(O+=v.verticalPadding);var I=v.rowHeight[w]+v.rowHeight[C];v.rowHeight[w]=O,v.rowHeight[C]<M.height+v.verticalPadding&&(v.rowHeight[C]=M.height+v.verticalPadding);var R=v.rowHeight[w]+v.rowHeight[C];v.height+=R-I,this.shiftToLastRow(v)}},b.prototype.tilingPreLayout=function(){p.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},b.prototype.tilingPostLayout=function(){p.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},b.prototype.reduceTrees=function(){for(var v=[],w=!0,C;w;){var A=this.graphManager.getAllNodes(),M=[];w=!1;for(var N=0;N<A.length;N++)C=A[N],C.getEdges().length==1&&!C.getEdges()[0].isInterGraph&&C.getChild()==null&&(M.push([C,C.getEdges()[0],C.getOwner()]),w=!0);if(w==!0){for(var O=[],_=0;_<M.length;_++)M[_][0].getEdges().length==1&&(O.push(M[_]),M[_][0].getOwner().remove(M[_][0]));v.push(O),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=v},b.prototype.growTree=function(v){for(var w=v.length,C=v[w-1],A,M=0;M<C.length;M++)A=C[M],this.findPlaceforPrunedNode(A),A[2].add(A[0]),A[2].add(A[1],A[1].source,A[1].target);v.splice(v.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},b.prototype.findPlaceforPrunedNode=function(v){var w,C,A=v[0];A==v[1].source?C=v[1].target:C=v[1].source;var M=C.startX,N=C.finishX,O=C.startY,_=C.finishY,I=0,R=0,P=0,D=0,$=[I,P,R,D];if(O>0)for(var F=M;F<=N;F++)$[0]+=this.grid[F][O-1].length+this.grid[F][O].length-1;if(N<this.grid.length-1)for(var F=O;F<=_;F++)$[1]+=this.grid[N+1][F].length+this.grid[N][F].length-1;if(_<this.grid[0].length-1)for(var F=M;F<=N;F++)$[2]+=this.grid[F][_+1].length+this.grid[F][_].length-1;if(M>0)for(var F=O;F<=_;F++)$[3]+=this.grid[M-1][F].length+this.grid[M][F].length-1;for(var z=k.MAX_VALUE,U,j,H=0;H<$.length;H++)$[H]<z?(z=$[H],U=1,j=H):$[H]==z&&U++;if(U==3&&z==0)$[0]==0&&$[1]==0&&$[2]==0?w=1:$[0]==0&&$[1]==0&&$[3]==0?w=0:$[0]==0&&$[2]==0&&$[3]==0?w=3:$[1]==0&&$[2]==0&&$[3]==0&&(w=2);else if(U==2&&z==0){var Q=Math.floor(Math.random()*2);$[0]==0&&$[1]==0?Q==0?w=0:w=1:$[0]==0&&$[2]==0?Q==0?w=0:w=2:$[0]==0&&$[3]==0?Q==0?w=0:w=3:$[1]==0&&$[2]==0?Q==0?w=1:w=2:$[1]==0&&$[3]==0?Q==0?w=1:w=3:Q==0?w=2:w=3}else if(U==4&&z==0){var Q=Math.floor(Math.random()*4);w=Q}else w=j;w==0?A.setCenter(C.getCenterX(),C.getCenterY()-C.getHeight()/2-g.DEFAULT_EDGE_LENGTH-A.getHeight()/2):w==1?A.setCenter(C.getCenterX()+C.getWidth()/2+g.DEFAULT_EDGE_LENGTH+A.getWidth()/2,C.getCenterY()):w==2?A.setCenter(C.getCenterX(),C.getCenterY()+C.getHeight()/2+g.DEFAULT_EDGE_LENGTH+A.getHeight()/2):A.setCenter(C.getCenterX()-C.getWidth()/2-g.DEFAULT_EDGE_LENGTH-A.getWidth()/2,C.getCenterY())},i.exports=b}),(function(i,n,a){"use strict";var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),i.exports=s})])})}),GZe=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(W7e()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof e=="object"?e.cytoscapeCoseBilkent=i(W7e()):r.cytoscapeCoseBilkent=i(r.coseBase)}),"webpackUniversalModuleDefinition")(e,function(r){return(function(i){var n={};function a(s){if(n[s])return n[s].exports;var o=n[s]={i:s,l:!1,exports:{}};return i[s].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return l(a,"__webpack_require__"),a.m=i,a.c=n,a.i=function(s){return s},a.d=function(s,o,u){a.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:u})},a.n=function(s){var o=s&&s.__esModule?l(function(){return s.default},"getDefault"):l(function(){return s},"getModuleExports");return a.d(o,"a",o),o},a.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},a.p="",a(a.s=1)})([(function(i,n){i.exports=r}),(function(i,n,a){"use strict";var s=a(0).layoutBase.LayoutConstants,o=a(0).layoutBase.FDLayoutConstants,u=a(0).CoSEConstants,h=a(0).CoSELayout,d=a(0).CoSENode,p=a(0).layoutBase.PointD,g=a(0).layoutBase.DimensionD,f={ready:l(function(){},"ready"),stop:l(function(){},"stop"),quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(E,S){var L={};for(var b in E)L[b]=E[b];for(var b in S)L[b]=S[b];return L}l(m,"extend");function x(E){this.options=m(f,E),T(this.options)}l(x,"_CoSELayout");var T=l(function(E){E.nodeRepulsion!=null&&(u.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=E.nodeRepulsion),E.idealEdgeLength!=null&&(u.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=E.idealEdgeLength),E.edgeElasticity!=null&&(u.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=E.edgeElasticity),E.nestingFactor!=null&&(u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=E.nestingFactor),E.gravity!=null&&(u.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=E.gravity),E.numIter!=null&&(u.MAX_ITERATIONS=o.MAX_ITERATIONS=E.numIter),E.gravityRange!=null&&(u.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=E.gravityRange),E.gravityCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=E.gravityCompound),E.gravityRangeCompound!=null&&(u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=E.gravityRangeCompound),E.initialEnergyOnIncremental!=null&&(u.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=E.initialEnergyOnIncremental),E.quality=="draft"?s.QUALITY=0:E.quality=="proof"?s.QUALITY=2:s.QUALITY=1,u.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=E.nodeDimensionsIncludeLabels,u.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!E.randomize,u.ANIMATE=o.ANIMATE=s.ANIMATE=E.animate,u.TILE=E.tile,u.TILING_PADDING_VERTICAL=typeof E.tilingPaddingVertical=="function"?E.tilingPaddingVertical.call():E.tilingPaddingVertical,u.TILING_PADDING_HORIZONTAL=typeof E.tilingPaddingHorizontal=="function"?E.tilingPaddingHorizontal.call():E.tilingPaddingHorizontal},"getUserOptions");x.prototype.run=function(){var E,S,L=this.options,b=this.idToLNode={},y=this.layout=new h,v=this;v.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var w=y.newGraphManager();this.gm=w;var C=this.options.eles.nodes(),A=this.options.eles.edges();this.root=w.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(C),y);for(var M=0;M<A.length;M++){var N=A[M],O=this.idToLNode[N.data("source")],_=this.idToLNode[N.data("target")];if(O!==_&&O.getEdgesBetween(_).length==0){var I=w.add(y.newEdge(),O,_);I.id=N.id()}}var R=l(function(D,$){typeof D=="number"&&(D=$);var F=D.data("id"),z=v.idToLNode[F];return{x:z.getRect().getCenterX(),y:z.getRect().getCenterY()}},"getPositions"),P=l(function D(){for(var $=l(function(){L.fit&&L.cy.fit(L.eles,L.padding),E||(E=!0,v.cy.one("layoutready",L.ready),v.cy.trigger({type:"layoutready",layout:v}))},"afterReposition"),F=v.options.refresh,z,U=0;U<F&&!z;U++)z=v.stopped||v.layout.tick();if(z){y.checkLayoutSuccess()&&!y.isSubLayout&&y.doPostLayout(),y.tilingPostLayout&&y.tilingPostLayout(),y.isLayoutFinished=!0,v.options.eles.nodes().positions(R),$(),v.cy.one("layoutstop",v.options.stop),v.cy.trigger({type:"layoutstop",layout:v}),S&&cancelAnimationFrame(S),E=!1;return}var j=v.layout.getPositionsData();L.eles.nodes().positions(function(H,Q){if(typeof H=="number"&&(H=Q),!H.isParent()){for(var re=H.id(),le=j[re],oe=H;le==null&&(le=j[oe.data("parent")]||j["DummyCompound_"+oe.data("parent")],j[re]=le,oe=oe.parent()[0],oe!=null););return le!=null?{x:le.x,y:le.y}:{x:H.position("x"),y:H.position("y")}}}),$(),S=requestAnimationFrame(D)},"iterateAnimated");return y.addListener("layoutstarted",function(){v.options.animate==="during"&&(S=requestAnimationFrame(P))}),y.runLayout(),this.options.animate!=="during"&&(v.options.eles.nodes().not(":parent").layoutPositions(v,v.options,R),E=!1),this},x.prototype.getTopMostNodes=function(E){for(var S={},L=0;L<E.length;L++)S[E[L].id()]=!0;var b=E.filter(function(y,v){typeof y=="number"&&(y=v);for(var w=y.parent()[0];w!=null;){if(S[w.id()])return!1;w=w.parent()[0]}return!0});return b},x.prototype.processChildrenList=function(E,S,L){for(var b=S.length,y=0;y<b;y++){var v=S[y],w=v.children(),C,A=v.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(v.outerWidth()!=null&&v.outerHeight()!=null?C=E.add(new d(L.graphManager,new p(v.position("x")-A.w/2,v.position("y")-A.h/2),new g(parseFloat(A.w),parseFloat(A.h)))):C=E.add(new d(this.graphManager)),C.id=v.data("id"),C.paddingLeft=parseInt(v.css("padding")),C.paddingTop=parseInt(v.css("padding")),C.paddingRight=parseInt(v.css("padding")),C.paddingBottom=parseInt(v.css("padding")),this.options.nodeDimensionsIncludeLabels&&v.isParent()){var M=v.boundingBox({includeLabels:!0,includeNodes:!1}).w,N=v.boundingBox({includeLabels:!0,includeNodes:!1}).h,O=v.css("text-halign");C.labelWidth=M,C.labelHeight=N,C.labelPos=O}if(this.idToLNode[v.data("id")]=C,isNaN(C.rect.x)&&(C.rect.x=0),isNaN(C.rect.y)&&(C.rect.y=0),w!=null&&w.length>0){var _;_=L.getGraphManager().add(L.newGraph(),C),this.processChildrenList(_,w,L)}}},x.prototype.stop=function(){return this.stopped=!0,this};var k=l(function(E){E("layout","cose-bilkent",x)},"register");typeof cytoscape<"u"&&k(cytoscape),i.exports=k})])})});function X7e(e,t){e.forEach(r=>{var n,a,s;let i={id:r.id,labelText:r.label,height:r.height,width:r.width,padding:(n=r.padding)!=null?n:0};Object.keys(r).forEach(o=>{["id","label","height","width","padding","x","y"].includes(o)||(i[o]=r[o])}),t.add({group:"nodes",data:i,position:{x:(a=r.x)!=null?a:0,y:(s=r.y)!=null?s:0}})})}function K7e(e,t){e.forEach(r=>{let i={id:r.id,source:r.start,target:r.end};Object.keys(r).forEach(n=>{["id","start","end"].includes(n)||(i[n]=r[n])}),t.add({group:"edges",data:i})})}function Z7e(e){return new Promise(t=>{let r=Ze("body").append("div").attr("id","cy").attr("style","display:none"),i=Io({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});r.remove(),X7e(e.nodes,i),K7e(e.edges,i),i.nodes().forEach(function(a){a.layoutDimensions=()=>{let s=a.data();return{w:s.width,h:s.height}}});let n={name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1};i.layout(n).run(),i.ready(a=>{ae.info("Cytoscape ready",a),t(i)})})}function Q7e(e){return e.nodes().map(t=>{let r=t.data(),i=t.position(),n={id:r.id,x:i.x,y:i.y};return Object.keys(r).forEach(a=>{a!=="id"&&(n[a]=r[a])}),n})}function J7e(e){return e.edges().map(t=>{let r=t.data(),i=t._private.rscratch,n={id:r.id,source:r.source,target:r.target,startX:i.startX,startY:i.startY,midX:i.midX,midY:i.midY,endX:i.endX,endY:i.endY};return Object.keys(r).forEach(a=>{["id","source","target"].includes(a)||(n[a]=r[a])}),n})}var e8e,UZe=B(()=>{"use strict";V7e(),e8e=Yn(GZe(),1),gr(),lt(),Io.use(e8e.default),l(X7e,"addNodes"),l(K7e,"addEdges"),l(Z7e,"createCytoscapeInstance"),l(Q7e,"extractPositionedNodes"),l(J7e,"extractPositionedEdges")});function t8e(e,t){return xe(this,null,function*(){ae.debug("Starting cose-bilkent layout algorithm");try{r8e(e);let r=yield Z7e(e),i=Q7e(r),n=J7e(r);return ae.debug(`Layout completed: ${i.length} nodes, ${n.length} edges`),{nodes:i,edges:n}}catch(r){throw ae.error("Error in cose-bilkent layout algorithm:",r),r}})}function r8e(e){if(!e)throw new Error("Layout data is required");if(!e.config)throw new Error("Configuration is required in layout data");if(!e.rootNode)throw new Error("Root node is required");if(!e.nodes||!Array.isArray(e.nodes))throw new Error("No nodes found in layout data");if(!Array.isArray(e.edges))throw new Error("Edges array is required in layout data");return!0}var qZe=B(()=>{"use strict";lt(),UZe(),l(t8e,"executeCoseBilkentLayout"),l(r8e,"validateLayoutData")}),i8e,jZe=B(()=>{"use strict";qZe(),i8e=l((d,p,g,f)=>xe(null,[d,p,g,f],function*(e,t,{insertCluster:r,insertEdge:i,insertEdgeLabel:n,insertMarkers:a,insertNode:s,log:o,positionEdgeLabel:u},{algorithm:h}){let m={},x={},T=t.select("g");a(T,e.markers,e.type,e.diagramId);let k=T.insert("g").attr("class","subgraphs"),E=T.insert("g").attr("class","edgePaths"),S=T.insert("g").attr("class","edgeLabels"),L=T.insert("g").attr("class","nodes");o.debug("Inserting nodes into DOM for dimension calculation"),yield Promise.all(e.nodes.map(v=>xe(null,null,function*(){if(v.isGroup){let w=dt({},v);x[v.id]=w,m[v.id]=w,yield r(k,v)}else{let w=dt({},v);m[v.id]=w;let C=yield s(L,v,{config:e.config,dir:e.direction||"TB"}),A=C.node().getBBox();w.width=A.width,w.height=A.height,w.domId=C,o.debug(`Node ${v.id} dimensions: ${A.width}x${A.height}`)}}))),o.debug("Running cose-bilkent layout algorithm");let b=hr(dt({},e),{nodes:e.nodes.map(v=>{let w=m[v.id];return hr(dt({},v),{width:w.width,height:w.height})})}),y=yield t8e(b,e.config);o.debug("Positioning nodes based on layout results"),y.nodes.forEach(v=>{let w=m[v.id];w!=null&&w.domId&&(w.domId.attr("transform",`translate(${v.x}, ${v.y})`),w.x=v.x,w.y=v.y,o.debug(`Positioned node ${w.id} at center (${v.x}, ${v.y})`))}),y.edges.forEach(v=>{let w=e.edges.find(C=>C.id===v.id);w&&(w.points=[{x:v.startX,y:v.startY},{x:v.midX,y:v.midY},{x:v.endX,y:v.endY}])}),o.debug("Inserting and positioning edges"),yield Promise.all(e.edges.map(v=>xe(null,null,function*(){var M,N;let w=yield n(S,v),C=m[(M=v.start)!=null?M:""],A=m[(N=v.end)!=null?N:""];if(C&&A){let O=y.edges.find(_=>_.id===v.id);if(O){o.debug("APA01 positionedEdge",O);let _=dt({},v),I=i(E,_,x,e.type,C,A,e.diagramId);u(_,I)}else{let _=hr(dt({},v),{points:[{x:C.x||0,y:C.y||0},{x:A.x||0,y:A.y||0}]}),I=i(E,_,x,e.type,C,A,e.diagramId);u(_,I)}}}))),o.debug("Cose-bilkent rendering completed")}),"render")}),n8e={};nr(n8e,{render:()=>a8e});var a8e,HZe=B(()=>{"use strict";jZe(),a8e=i8e}),F1,mB,s8e,n0,z1,a0=B(()=>{"use strict";sXe(),lt(),F1={},mB=l(e=>{for(let t of e)F1[t.name]=t},"registerLayoutLoaders"),s8e=l(()=>{mB([{name:"dagre",loader:l(()=>xe(null,null,function*(){return yield Promise.resolve().then(()=>(FZe(),Yxe))}),"loader")},{name:"cose-bilkent",loader:l(()=>xe(null,null,function*(){return yield Promise.resolve().then(()=>(HZe(),n8e))}),"loader")}])},"registerDefaultLayoutLoaders"),s8e(),n0=l((e,t)=>xe(null,null,function*(){if(!(e.layoutAlgorithm in F1))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);let r=F1[e.layoutAlgorithm];return(yield r.loader()).render(e,t,X0e,{algorithm:r.algorithm})}),"render"),z1=l((e="",{fallback:t="dagre"}={})=>{if(e in F1)return e;if(t in F1)return ae.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)},"getRegisteredLayoutAlgorithm")}),ph,o8e,l8e,s0=B(()=>{"use strict";pn(),lt(),ph=l((e,t,r,i)=>{e.attr("class",r);let{width:n,height:a,x:s,y:o}=o8e(e,t);ta(e,a,n,i);let u=l8e(s,o,n,a,t);e.attr("viewBox",u),ae.debug(`viewBox configured: ${u} with padding: ${t}`)},"setupViewPortForSVG"),o8e=l((e,t)=>{var i;let r=((i=e.node())==null?void 0:i.getBBox())||{width:0,height:0,x:0,y:0};return{width:r.width+t*2,height:r.height+t*2,x:r.x,y:r.y}},"calculateDimensionsWithPadding"),l8e=l((e,t,r,i,n)=>`${e-n} ${t-n} ${r} ${i}`,"createViewBox")}),c8e,u8e,h8e,VZe=B(()=>{"use strict";gr(),qt(),lt(),Vg(),a0(),s0(),Jt(),c8e=l(function(e,t){return t.db.getClasses()},"getClasses"),u8e=l(function(e,t,r,i){return xe(this,null,function*(){var f,m;ae.info("REF0:"),ae.info("Drawing state diagram (v2)",t);let{securityLevel:n,flowchart:a,layout:s}=Ce(),o;n==="sandbox"&&(o=Ze("#i"+t));let u=n==="sandbox"?o.nodes()[0].contentDocument:document;ae.debug("Before getData: ");let h=i.db.getData();ae.debug("Data: ",h);let d=Sd(t,n),p=i.db.getDirection();h.type=i.type,h.layoutAlgorithm=z1(s),h.layoutAlgorithm==="dagre"&&s==="elk"&&ae.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),h.direction=p,h.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,h.rankSpacing=(a==null?void 0:a.rankSpacing)||50,h.markers=["point","circle","cross"],h.diagramId=t,ae.debug("REF1:",h),yield n0(h,d);let g=(m=(f=h.config.flowchart)==null?void 0:f.diagramPadding)!=null?m:8;cr.insertTitle(d,"flowchartTitleText",(a==null?void 0:a.titleTopMargin)||0,i.db.getDiagramTitle()),ph(d,g,"flowchart",(a==null?void 0:a.useMaxWidth)||!1);for(let x of h.nodes){let T=Ze(`#${t} [id="${x.id}"]`);if(!T||!x.link)continue;let k=u.createElementNS("http://www.w3.org/2000/svg","a");k.setAttributeNS("http://www.w3.org/2000/svg","class",x.cssClasses),k.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),n==="sandbox"?k.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):x.linkTarget&&k.setAttributeNS("http://www.w3.org/2000/svg","target",x.linkTarget);let E=T.insert(function(){return k},":first-child"),S=T.select(".label-container");S&&E.append(function(){return S.node()});let L=T.select(".label");L&&E.append(function(){return L.node()})}})},"draw"),h8e={getClasses:c8e,draw:u8e}}),Ok,yB,YZe=B(()=>{"use strict";Ok=(function(){var e=l(function(Ri,kt,it,Xe){for(it=it||{},Xe=Ri.length;Xe--;it[Ri[Xe]]=kt);return it},"o"),t=[1,4],r=[1,3],i=[1,5],n=[1,8,9,10,11,27,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],a=[2,2],s=[1,13],o=[1,14],u=[1,15],h=[1,16],d=[1,23],p=[1,25],g=[1,26],f=[1,27],m=[1,49],x=[1,48],T=[1,29],k=[1,30],E=[1,31],S=[1,32],L=[1,33],b=[1,44],y=[1,46],v=[1,42],w=[1,47],C=[1,43],A=[1,50],M=[1,45],N=[1,51],O=[1,52],_=[1,34],I=[1,35],R=[1,36],P=[1,37],D=[1,57],$=[1,8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],F=[1,61],z=[1,60],U=[1,62],j=[8,9,11,75,77,78],H=[1,78],Q=[1,91],re=[1,96],le=[1,95],oe=[1,92],W=[1,88],J=[1,94],Y=[1,90],X=[1,97],te=[1,93],ce=[1,98],K=[1,89],me=[8,9,10,11,40,75,77,78],Z=[8,9,10,11,40,46,75,77,78],Ae=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,78,89,102,105,106,109,111,114,115,116],he=[8,9,11,44,60,75,77,78,89,102,105,106,109,111,114,115,116],Ne=[44,60,89,102,105,106,109,111,114,115,116],Pe=[1,121],He=[1,122],qe=[1,124],_e=[1,123],De=[44,60,62,74,89,102,105,106,109,111,114,115,116],ve=[1,133],Be=[1,147],de=[1,148],Ve=[1,149],ee=[1,150],Ie=[1,135],G=[1,137],ie=[1,141],se=[1,142],pe=[1,143],fe=[1,144],be=[1,145],Se=[1,146],Te=[1,151],Ge=[1,152],Ye=[1,131],st=[1,132],ze=[1,139],We=[1,134],je=[1,138],Ue=[1,136],Ke=[8,9,10,11,27,32,34,36,38,44,60,84,85,86,87,88,89,102,105,106,109,111,114,115,116,121,122,123,124],Et=[1,154],ht=[1,156],ct=[8,9,11],St=[8,9,10,11,14,44,60,89,105,106,109,111,114,115,116],rt=[1,176],gt=[1,172],yt=[1,173],Je=[1,177],Qe=[1,174],Lt=[1,175],Vt=[77,116,119],$t=[8,9,10,11,12,14,27,29,32,44,60,75,84,85,86,87,88,89,90,105,109,111,114,115,116],Kr=[10,106],ur=[31,49,51,53,55,57,62,64,66,67,69,71,116,117,118],tr=[1,247],vr=[1,245],Or=[1,249],we=[1,243],pt=[1,244],ot=[1,246],pr=[1,248],Pr=[1,250],Sr=[1,268],Dn=[8,9,11,106],li=[8,9,10,11,60,84,105,106,109,110,111,112],hn={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,LINK_ID:78,edgeTextToken:79,STR:80,MD_STR:81,textToken:82,keywords:83,STYLE:84,LINKSTYLE:85,CLASSDEF:86,CLASS:87,CLICK:88,DOWN:89,UP:90,textNoTagsToken:91,stylesOpt:92,"idString[vertex]":93,"idString[class]":94,CALLBACKNAME:95,CALLBACKARGS:96,HREF:97,LINK_TARGET:98,"STR[link]":99,"STR[tooltip]":100,alphaNum:101,DEFAULT:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,NODE_STRING:109,UNIT:110,BRKT:111,PCT:112,idStringToken:113,MINUS:114,MULT:115,UNICODE_TEXT:116,TEXT:117,TAGSTART:118,EDGE_TEXT:119,alphaNumToken:120,direction_tb:121,direction_bt:122,direction_rl:123,direction_lr:124,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",78:"LINK_ID",80:"STR",81:"MD_STR",84:"STYLE",85:"LINKSTYLE",86:"CLASSDEF",87:"CLASS",88:"CLICK",89:"DOWN",90:"UP",93:"idString[vertex]",94:"idString[class]",95:"CALLBACKNAME",96:"CALLBACKARGS",97:"HREF",98:"LINK_TARGET",99:"STR[link]",100:"STR[tooltip]",102:"DEFAULT",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"NODE_STRING",110:"UNIT",111:"BRKT",112:"PCT",114:"MINUS",115:"MULT",116:"UNICODE_TEXT",117:"TEXT",118:"TAGSTART",119:"EDGE_TEXT",121:"direction_tb",122:"direction_bt",123:"direction_rl",124:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[41,4],[76,1],[76,2],[76,1],[76,1],[72,1],[72,2],[73,3],[30,1],[30,2],[30,1],[30,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[103,1],[103,3],[92,1],[92,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[113,1],[82,1],[82,1],[82,1],[82,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[79,1],[79,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[120,1],[47,1],[47,2],[101,1],[101,2],[33,1],[33,1],[33,1],[33,1]],performAction:l(function(Ri,kt,it,Xe,Yt,ge,kn){var ye=ge.length-1;switch(Yt){case 2:this.$=[];break;case 3:(!Array.isArray(ge[ye])||ge[ye].length>0)&&ge[ye-1].push(ge[ye]),this.$=ge[ye-1];break;case 4:case 183:this.$=ge[ye];break;case 11:Xe.setDirection("TB"),this.$="TB";break;case 12:Xe.setDirection(ge[ye-1]),this.$=ge[ye-1];break;case 27:this.$=ge[ye-1].nodes;break;case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 33:this.$=Xe.addSubGraph(ge[ye-6],ge[ye-1],ge[ye-4]);break;case 34:this.$=Xe.addSubGraph(ge[ye-3],ge[ye-1],ge[ye-3]);break;case 35:this.$=Xe.addSubGraph(void 0,ge[ye-1],void 0);break;case 37:this.$=ge[ye].trim(),Xe.setAccTitle(this.$);break;case 38:case 39:this.$=ge[ye].trim(),Xe.setAccDescription(this.$);break;case 43:this.$=ge[ye-1]+ge[ye];break;case 44:this.$=ge[ye];break;case 45:Xe.addVertex(ge[ye-1][ge[ye-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye]),Xe.addLink(ge[ye-3].stmt,ge[ye-1],ge[ye-2]),this.$={stmt:ge[ye-1],nodes:ge[ye-1].concat(ge[ye-3].nodes)};break;case 46:Xe.addLink(ge[ye-2].stmt,ge[ye],ge[ye-1]),this.$={stmt:ge[ye],nodes:ge[ye].concat(ge[ye-2].nodes)};break;case 47:Xe.addLink(ge[ye-3].stmt,ge[ye-1],ge[ye-2]),this.$={stmt:ge[ye-1],nodes:ge[ye-1].concat(ge[ye-3].nodes)};break;case 48:this.$={stmt:ge[ye-1],nodes:ge[ye-1]};break;case 49:Xe.addVertex(ge[ye-1][ge[ye-1].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye]),this.$={stmt:ge[ye-1],nodes:ge[ye-1],shapeData:ge[ye]};break;case 50:this.$={stmt:ge[ye],nodes:ge[ye]};break;case 51:this.$=[ge[ye]];break;case 52:Xe.addVertex(ge[ye-5][ge[ye-5].length-1],void 0,void 0,void 0,void 0,void 0,void 0,ge[ye-4]),this.$=ge[ye-5].concat(ge[ye]);break;case 53:this.$=ge[ye-4].concat(ge[ye]);break;case 54:this.$=ge[ye];break;case 55:this.$=ge[ye-2],Xe.setClass(ge[ye-2],ge[ye]);break;case 56:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"square");break;case 57:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"doublecircle");break;case 58:this.$=ge[ye-5],Xe.addVertex(ge[ye-5],ge[ye-2],"circle");break;case 59:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"ellipse");break;case 60:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"stadium");break;case 61:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"subroutine");break;case 62:this.$=ge[ye-7],Xe.addVertex(ge[ye-7],ge[ye-1],"rect",void 0,void 0,void 0,Object.fromEntries([[ge[ye-5],ge[ye-3]]]));break;case 63:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"cylinder");break;case 64:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"round");break;case 65:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"diamond");break;case 66:this.$=ge[ye-5],Xe.addVertex(ge[ye-5],ge[ye-2],"hexagon");break;case 67:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"odd");break;case 68:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"trapezoid");break;case 69:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"inv_trapezoid");break;case 70:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"lean_right");break;case 71:this.$=ge[ye-3],Xe.addVertex(ge[ye-3],ge[ye-1],"lean_left");break;case 72:this.$=ge[ye],Xe.addVertex(ge[ye]);break;case 73:ge[ye-1].text=ge[ye],this.$=ge[ye-1];break;case 74:case 75:ge[ye-2].text=ge[ye-1],this.$=ge[ye-2];break;case 76:this.$=ge[ye];break;case 77:var $r=Xe.destructLink(ge[ye],ge[ye-2]);this.$={type:$r.type,stroke:$r.stroke,length:$r.length,text:ge[ye-1]};break;case 78:var $r=Xe.destructLink(ge[ye],ge[ye-2]);this.$={type:$r.type,stroke:$r.stroke,length:$r.length,text:ge[ye-1],id:ge[ye-3]};break;case 79:this.$={text:ge[ye],type:"text"};break;case 80:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 81:this.$={text:ge[ye],type:"string"};break;case 82:this.$={text:ge[ye],type:"markdown"};break;case 83:var $r=Xe.destructLink(ge[ye]);this.$={type:$r.type,stroke:$r.stroke,length:$r.length};break;case 84:var $r=Xe.destructLink(ge[ye]);this.$={type:$r.type,stroke:$r.stroke,length:$r.length,id:ge[ye-1]};break;case 85:this.$=ge[ye-1];break;case 86:this.$={text:ge[ye],type:"text"};break;case 87:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 88:this.$={text:ge[ye],type:"string"};break;case 89:case 104:this.$={text:ge[ye],type:"markdown"};break;case 101:this.$={text:ge[ye],type:"text"};break;case 102:this.$={text:ge[ye-1].text+""+ge[ye],type:ge[ye-1].type};break;case 103:this.$={text:ge[ye],type:"text"};break;case 105:this.$=ge[ye-4],Xe.addClass(ge[ye-2],ge[ye]);break;case 106:this.$=ge[ye-4],Xe.setClass(ge[ye-2],ge[ye]);break;case 107:case 115:this.$=ge[ye-1],Xe.setClickEvent(ge[ye-1],ge[ye]);break;case 108:case 116:this.$=ge[ye-3],Xe.setClickEvent(ge[ye-3],ge[ye-2]),Xe.setTooltip(ge[ye-3],ge[ye]);break;case 109:this.$=ge[ye-2],Xe.setClickEvent(ge[ye-2],ge[ye-1],ge[ye]);break;case 110:this.$=ge[ye-4],Xe.setClickEvent(ge[ye-4],ge[ye-3],ge[ye-2]),Xe.setTooltip(ge[ye-4],ge[ye]);break;case 111:this.$=ge[ye-2],Xe.setLink(ge[ye-2],ge[ye]);break;case 112:this.$=ge[ye-4],Xe.setLink(ge[ye-4],ge[ye-2]),Xe.setTooltip(ge[ye-4],ge[ye]);break;case 113:this.$=ge[ye-4],Xe.setLink(ge[ye-4],ge[ye-2],ge[ye]);break;case 114:this.$=ge[ye-6],Xe.setLink(ge[ye-6],ge[ye-4],ge[ye]),Xe.setTooltip(ge[ye-6],ge[ye-2]);break;case 117:this.$=ge[ye-1],Xe.setLink(ge[ye-1],ge[ye]);break;case 118:this.$=ge[ye-3],Xe.setLink(ge[ye-3],ge[ye-2]),Xe.setTooltip(ge[ye-3],ge[ye]);break;case 119:this.$=ge[ye-3],Xe.setLink(ge[ye-3],ge[ye-2],ge[ye]);break;case 120:this.$=ge[ye-5],Xe.setLink(ge[ye-5],ge[ye-4],ge[ye]),Xe.setTooltip(ge[ye-5],ge[ye-2]);break;case 121:this.$=ge[ye-4],Xe.addVertex(ge[ye-2],void 0,void 0,ge[ye]);break;case 122:this.$=ge[ye-4],Xe.updateLink([ge[ye-2]],ge[ye]);break;case 123:this.$=ge[ye-4],Xe.updateLink(ge[ye-2],ge[ye]);break;case 124:this.$=ge[ye-8],Xe.updateLinkInterpolate([ge[ye-6]],ge[ye-2]),Xe.updateLink([ge[ye-6]],ge[ye]);break;case 125:this.$=ge[ye-8],Xe.updateLinkInterpolate(ge[ye-6],ge[ye-2]),Xe.updateLink(ge[ye-6],ge[ye]);break;case 126:this.$=ge[ye-6],Xe.updateLinkInterpolate([ge[ye-4]],ge[ye]);break;case 127:this.$=ge[ye-6],Xe.updateLinkInterpolate(ge[ye-4],ge[ye]);break;case 128:case 130:this.$=[ge[ye]];break;case 129:case 131:ge[ye-2].push(ge[ye]),this.$=ge[ye-2];break;case 133:this.$=ge[ye-1]+ge[ye];break;case 181:this.$=ge[ye];break;case 182:this.$=ge[ye-1]+""+ge[ye];break;case 184:this.$=ge[ye-1]+""+ge[ye];break;case 185:this.$={stmt:"dir",value:"TB"};break;case 186:this.$={stmt:"dir",value:"BT"};break;case 187:this.$={stmt:"dir",value:"RL"};break;case 188:this.$={stmt:"dir",value:"LR"};break}},"anonymous"),table:[{3:1,4:2,9:t,10:r,12:i},{1:[3]},e(n,a,{5:6}),{4:7,9:t,10:r,12:i},{4:8,9:t,10:r,12:i},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:x,84:T,85:k,86:E,87:S,88:L,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O,121:_,122:I,123:R,124:P},e(n,[2,9]),e(n,[2,10]),e(n,[2,11]),{8:[1,54],9:[1,55],10:D,15:53,18:56},e($,[2,3]),e($,[2,4]),e($,[2,5]),e($,[2,6]),e($,[2,7]),e($,[2,8]),{8:F,9:z,11:U,21:58,41:59,72:63,75:[1,64],77:[1,66],78:[1,65]},{8:F,9:z,11:U,21:67},{8:F,9:z,11:U,21:68},{8:F,9:z,11:U,21:69},{8:F,9:z,11:U,21:70},{8:F,9:z,11:U,21:71},{8:F,9:z,10:[1,72],11:U,21:73},e($,[2,36]),{35:[1,74]},{37:[1,75]},e($,[2,39]),e(j,[2,50],{18:76,39:77,10:D,40:H}),{10:[1,79]},{10:[1,80]},{10:[1,81]},{10:[1,82]},{14:Q,44:re,60:le,80:[1,86],89:oe,95:[1,83],97:[1,84],101:85,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K,120:87},e($,[2,185]),e($,[2,186]),e($,[2,187]),e($,[2,188]),e(me,[2,51]),e(me,[2,54],{46:[1,99]}),e(Z,[2,72],{113:112,29:[1,100],44:m,48:[1,101],50:[1,102],52:[1,103],54:[1,104],56:[1,105],58:[1,106],60:x,63:[1,107],65:[1,108],67:[1,109],68:[1,110],70:[1,111],89:b,102:y,105:v,106:w,109:C,111:A,114:M,115:N,116:O}),e(Ae,[2,181]),e(Ae,[2,142]),e(Ae,[2,143]),e(Ae,[2,144]),e(Ae,[2,145]),e(Ae,[2,146]),e(Ae,[2,147]),e(Ae,[2,148]),e(Ae,[2,149]),e(Ae,[2,150]),e(Ae,[2,151]),e(Ae,[2,152]),e(n,[2,12]),e(n,[2,18]),e(n,[2,19]),{9:[1,113]},e(he,[2,26],{18:114,10:D}),e($,[2,27]),{42:115,43:38,44:m,45:39,47:40,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},e($,[2,40]),e($,[2,41]),e($,[2,42]),e(Ne,[2,76],{73:116,62:[1,118],74:[1,117]}),{76:119,79:120,80:Pe,81:He,116:qe,119:_e},{75:[1,125],77:[1,126]},e(De,[2,83]),e($,[2,28]),e($,[2,29]),e($,[2,30]),e($,[2,31]),e($,[2,32]),{10:ve,12:Be,14:de,27:Ve,28:127,32:ee,44:Ie,60:G,75:ie,80:[1,129],81:[1,130],83:140,84:se,85:pe,86:fe,87:be,88:Se,89:Te,90:Ge,91:128,105:Ye,109:st,111:ze,114:We,115:je,116:Ue},e(Ke,a,{5:153}),e($,[2,37]),e($,[2,38]),e(j,[2,48],{44:Et}),e(j,[2,49],{18:155,10:D,40:ht}),e(me,[2,44]),{44:m,47:157,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},{102:[1,158],103:159,105:[1,160]},{44:m,47:161,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},{44:m,47:162,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},e(ct,[2,107],{10:[1,163],96:[1,164]}),{80:[1,165]},e(ct,[2,115],{120:167,10:[1,166],14:Q,44:re,60:le,89:oe,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K}),e(ct,[2,117],{10:[1,168]}),e(St,[2,183]),e(St,[2,170]),e(St,[2,171]),e(St,[2,172]),e(St,[2,173]),e(St,[2,174]),e(St,[2,175]),e(St,[2,176]),e(St,[2,177]),e(St,[2,178]),e(St,[2,179]),e(St,[2,180]),{44:m,47:169,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},{30:170,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:178,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:180,50:[1,179],67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:181,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:182,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:183,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{109:[1,184]},{30:185,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:186,65:[1,187],67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:188,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:189,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{30:190,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},e(Ae,[2,182]),e(n,[2,20]),e(he,[2,25]),e(j,[2,46],{39:191,18:192,10:D,40:H}),e(Ne,[2,73],{10:[1,193]}),{10:[1,194]},{30:195,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{77:[1,196],79:197,116:qe,119:_e},e(Vt,[2,79]),e(Vt,[2,81]),e(Vt,[2,82]),e(Vt,[2,168]),e(Vt,[2,169]),{76:198,79:120,80:Pe,81:He,116:qe,119:_e},e(De,[2,84]),{8:F,9:z,10:ve,11:U,12:Be,14:de,21:200,27:Ve,29:[1,199],32:ee,44:Ie,60:G,75:ie,83:140,84:se,85:pe,86:fe,87:be,88:Se,89:Te,90:Ge,91:201,105:Ye,109:st,111:ze,114:We,115:je,116:Ue},e($t,[2,101]),e($t,[2,103]),e($t,[2,104]),e($t,[2,157]),e($t,[2,158]),e($t,[2,159]),e($t,[2,160]),e($t,[2,161]),e($t,[2,162]),e($t,[2,163]),e($t,[2,164]),e($t,[2,165]),e($t,[2,166]),e($t,[2,167]),e($t,[2,90]),e($t,[2,91]),e($t,[2,92]),e($t,[2,93]),e($t,[2,94]),e($t,[2,95]),e($t,[2,96]),e($t,[2,97]),e($t,[2,98]),e($t,[2,99]),e($t,[2,100]),{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,202],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:x,84:T,85:k,86:E,87:S,88:L,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O,121:_,122:I,123:R,124:P},{10:D,18:203},{44:[1,204]},e(me,[2,43]),{10:[1,205],44:m,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:112,114:M,115:N,116:O},{10:[1,206]},{10:[1,207],106:[1,208]},e(Kr,[2,128]),{10:[1,209],44:m,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:112,114:M,115:N,116:O},{10:[1,210],44:m,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:112,114:M,115:N,116:O},{80:[1,211]},e(ct,[2,109],{10:[1,212]}),e(ct,[2,111],{10:[1,213]}),{80:[1,214]},e(St,[2,184]),{80:[1,215],98:[1,216]},e(me,[2,55],{113:112,44:m,60:x,89:b,102:y,105:v,106:w,109:C,111:A,114:M,115:N,116:O}),{31:[1,217],67:rt,82:218,116:Je,117:Qe,118:Lt},e(ur,[2,86]),e(ur,[2,88]),e(ur,[2,89]),e(ur,[2,153]),e(ur,[2,154]),e(ur,[2,155]),e(ur,[2,156]),{49:[1,219],67:rt,82:218,116:Je,117:Qe,118:Lt},{30:220,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{51:[1,221],67:rt,82:218,116:Je,117:Qe,118:Lt},{53:[1,222],67:rt,82:218,116:Je,117:Qe,118:Lt},{55:[1,223],67:rt,82:218,116:Je,117:Qe,118:Lt},{57:[1,224],67:rt,82:218,116:Je,117:Qe,118:Lt},{60:[1,225]},{64:[1,226],67:rt,82:218,116:Je,117:Qe,118:Lt},{66:[1,227],67:rt,82:218,116:Je,117:Qe,118:Lt},{30:228,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},{31:[1,229],67:rt,82:218,116:Je,117:Qe,118:Lt},{67:rt,69:[1,230],71:[1,231],82:218,116:Je,117:Qe,118:Lt},{67:rt,69:[1,233],71:[1,232],82:218,116:Je,117:Qe,118:Lt},e(j,[2,45],{18:155,10:D,40:ht}),e(j,[2,47],{44:Et}),e(Ne,[2,75]),e(Ne,[2,74]),{62:[1,234],67:rt,82:218,116:Je,117:Qe,118:Lt},e(Ne,[2,77]),e(Vt,[2,80]),{77:[1,235],79:197,116:qe,119:_e},{30:236,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},e(Ke,a,{5:237}),e($t,[2,102]),e($,[2,35]),{43:238,44:m,45:39,47:40,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},{10:D,18:239},{10:tr,60:vr,84:Or,92:240,105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},{10:tr,60:vr,84:Or,92:251,104:[1,252],105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},{10:tr,60:vr,84:Or,92:253,104:[1,254],105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},{105:[1,255]},{10:tr,60:vr,84:Or,92:256,105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},{44:m,47:257,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},e(ct,[2,108]),{80:[1,258]},{80:[1,259],98:[1,260]},e(ct,[2,116]),e(ct,[2,118],{10:[1,261]}),e(ct,[2,119]),e(Z,[2,56]),e(ur,[2,87]),e(Z,[2,57]),{51:[1,262],67:rt,82:218,116:Je,117:Qe,118:Lt},e(Z,[2,64]),e(Z,[2,59]),e(Z,[2,60]),e(Z,[2,61]),{109:[1,263]},e(Z,[2,63]),e(Z,[2,65]),{66:[1,264],67:rt,82:218,116:Je,117:Qe,118:Lt},e(Z,[2,67]),e(Z,[2,68]),e(Z,[2,70]),e(Z,[2,69]),e(Z,[2,71]),e([10,44,60,89,102,105,106,109,111,114,115,116],[2,85]),e(Ne,[2,78]),{31:[1,265],67:rt,82:218,116:Je,117:Qe,118:Lt},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,266],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:x,84:T,85:k,86:E,87:S,88:L,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O,121:_,122:I,123:R,124:P},e(me,[2,53]),{43:267,44:m,45:39,47:40,60:x,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O},e(ct,[2,121],{106:Sr}),e(Dn,[2,130],{108:269,10:tr,60:vr,84:Or,105:we,109:pt,110:ot,111:pr,112:Pr}),e(li,[2,132]),e(li,[2,134]),e(li,[2,135]),e(li,[2,136]),e(li,[2,137]),e(li,[2,138]),e(li,[2,139]),e(li,[2,140]),e(li,[2,141]),e(ct,[2,122],{106:Sr}),{10:[1,270]},e(ct,[2,123],{106:Sr}),{10:[1,271]},e(Kr,[2,129]),e(ct,[2,105],{106:Sr}),e(ct,[2,106],{113:112,44:m,60:x,89:b,102:y,105:v,106:w,109:C,111:A,114:M,115:N,116:O}),e(ct,[2,110]),e(ct,[2,112],{10:[1,272]}),e(ct,[2,113]),{98:[1,273]},{51:[1,274]},{62:[1,275]},{66:[1,276]},{8:F,9:z,11:U,21:277},e($,[2,34]),e(me,[2,52]),{10:tr,60:vr,84:Or,105:we,107:278,108:242,109:pt,110:ot,111:pr,112:Pr},e(li,[2,133]),{14:Q,44:re,60:le,89:oe,101:279,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K,120:87},{14:Q,44:re,60:le,89:oe,101:280,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K,120:87},{98:[1,281]},e(ct,[2,120]),e(Z,[2,58]),{30:282,67:rt,80:gt,81:yt,82:171,116:Je,117:Qe,118:Lt},e(Z,[2,66]),e(Ke,a,{5:283}),e(Dn,[2,131],{108:269,10:tr,60:vr,84:Or,105:we,109:pt,110:ot,111:pr,112:Pr}),e(ct,[2,126],{120:167,10:[1,284],14:Q,44:re,60:le,89:oe,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K}),e(ct,[2,127],{120:167,10:[1,285],14:Q,44:re,60:le,89:oe,105:W,106:J,109:Y,111:X,114:te,115:ce,116:K}),e(ct,[2,114]),{31:[1,286],67:rt,82:218,116:Je,117:Qe,118:Lt},{6:11,7:12,8:s,9:o,10:u,11:h,20:17,22:18,23:19,24:20,25:21,26:22,27:d,32:[1,287],33:24,34:p,36:g,38:f,42:28,43:38,44:m,45:39,47:40,60:x,84:T,85:k,86:E,87:S,88:L,89:b,102:y,105:v,106:w,109:C,111:A,113:41,114:M,115:N,116:O,121:_,122:I,123:R,124:P},{10:tr,60:vr,84:Or,92:288,105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},{10:tr,60:vr,84:Or,92:289,105:we,107:241,108:242,109:pt,110:ot,111:pr,112:Pr},e(Z,[2,62]),e($,[2,33]),e(ct,[2,124],{106:Sr}),e(ct,[2,125],{106:Sr})],defaultActions:{},parseError:l(function(Ri,kt){if(kt.recoverable)this.trace(Ri);else{var it=new Error(Ri);throw it.hash=kt,it}},"parseError"),parse:l(function(Ri){var kt=this,it=[0],Xe=[],Yt=[null],ge=[],kn=this.table,ye="",$r=0,K8=0,Z8=0,Snt=2,KGe=1,_nt=ge.slice.call(arguments,1),Rn=Object.create(this.lexer),_p={yy:{}};for(var Mj in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Mj)&&(_p.yy[Mj]=this.yy[Mj]);Rn.setInput(Ri,_p.yy),_p.yy.lexer=Rn,_p.yy.parser=this,typeof Rn.yylloc>"u"&&(Rn.yylloc={});var Ij=Rn.yylloc;ge.push(Ij);var Ant=Rn.options&&Rn.options.ranges;typeof _p.yy.parseError=="function"?this.parseError=_p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Lnt(Ss){it.length=it.length-2*Ss,Yt.length=Yt.length-Ss,ge.length=ge.length-Ss}l(Lnt,"popStack");function ZGe(){var Ss;return Ss=Xe.pop()||Rn.lex()||KGe,typeof Ss!="number"&&(Ss instanceof Array&&(Xe=Ss,Ss=Xe.pop()),Ss=kt.symbols_[Ss]||Ss),Ss}l(ZGe,"lex");for(var za,Dj,Ap,Js,Ont,Rj,Vf={},Q8,pu,QGe,J8;;){if(Ap=it[it.length-1],this.defaultActions[Ap]?Js=this.defaultActions[Ap]:((za===null||typeof za>"u")&&(za=ZGe()),Js=kn[Ap]&&kn[Ap][za]),typeof Js>"u"||!Js.length||!Js[0]){var Oj="";J8=[];for(Q8 in kn[Ap])this.terminals_[Q8]&&Q8>Snt&&J8.push("'"+this.terminals_[Q8]+"'");Rn.showPosition?Oj="Parse error on line "+($r+1)+`:
`+Rn.showPosition()+`
Expecting `+J8.join(", ")+", got '"+(this.terminals_[za]||za)+"'":Oj="Parse error on line "+($r+1)+": Unexpected "+(za==KGe?"end of input":"'"+(this.terminals_[za]||za)+"'"),this.parseError(Oj,{text:Rn.match,token:this.terminals_[za]||za,line:Rn.yylineno,loc:Ij,expected:J8})}if(Js[0]instanceof Array&&Js.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ap+", token: "+za);switch(Js[0]){case 1:it.push(za),Yt.push(Rn.yytext),ge.push(Rn.yylloc),it.push(Js[1]),za=null,Dj?(za=Dj,Dj=null):(K8=Rn.yyleng,ye=Rn.yytext,$r=Rn.yylineno,Ij=Rn.yylloc,Z8>0&&Z8--);break;case 2:if(pu=this.productions_[Js[1]][1],Vf.$=Yt[Yt.length-pu],Vf._$={first_line:ge[ge.length-(pu||1)].first_line,last_line:ge[ge.length-1].last_line,first_column:ge[ge.length-(pu||1)].first_column,last_column:ge[ge.length-1].last_column},Ant&&(Vf._$.range=[ge[ge.length-(pu||1)].range[0],ge[ge.length-1].range[1]]),Rj=this.performAction.apply(Vf,[ye,K8,$r,_p.yy,Js[1],Yt,ge].concat(_nt)),typeof Rj<"u")return Rj;pu&&(it=it.slice(0,-1*pu*2),Yt=Yt.slice(0,-1*pu),ge=ge.slice(0,-1*pu)),it.push(this.productions_[Js[1]][0]),Yt.push(Vf.$),ge.push(Vf._$),QGe=kn[it[it.length-2]][it[it.length-1]],it.push(QGe);break;case 3:return!0}}return!0},"parse")},ns=(function(){var Ri={EOF:1,parseError:l(function(kt,it){if(this.yy.parser)this.yy.parser.parseError(kt,it);else throw new Error(kt)},"parseError"),setInput:l(function(kt,it){return this.yy=it||this.yy||{},this._input=kt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var kt=this._input[0];this.yytext+=kt,this.yyleng++,this.offset++,this.match+=kt,this.matched+=kt;var it=kt.match(/(?:\r\n?|\n).*/g);return it?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),kt},"input"),unput:l(function(kt){var it=kt.length,Xe=kt.split(/(?:\r\n?|\n)/g);this._input=kt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-it),this.offset-=it;var Yt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Xe.length-1&&(this.yylineno-=Xe.length-1);var ge=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Xe?(Xe.length===Yt.length?this.yylloc.first_column:0)+Yt[Yt.length-Xe.length].length-Xe[0].length:this.yylloc.first_column-it},this.options.ranges&&(this.yylloc.range=[ge[0],ge[0]+this.yyleng-it]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(kt){this.unput(this.match.slice(kt))},"less"),pastInput:l(function(){var kt=this.matched.substr(0,this.matched.length-this.match.length);return(kt.length>20?"...":"")+kt.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var kt=this.match;return kt.length<20&&(kt+=this._input.substr(0,20-kt.length)),(kt.substr(0,20)+(kt.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var kt=this.pastInput(),it=new Array(kt.length+1).join("-");return kt+this.upcomingInput()+`
`+it+"^"},"showPosition"),test_match:l(function(kt,it){var Xe,Yt,ge;if(this.options.backtrack_lexer&&(ge={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ge.yylloc.range=this.yylloc.range.slice(0))),Yt=kt[0].match(/(?:\r\n?|\n).*/g),Yt&&(this.yylineno+=Yt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Yt?Yt[Yt.length-1].length-Yt[Yt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+kt[0].length},this.yytext+=kt[0],this.match+=kt[0],this.matches=kt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(kt[0].length),this.matched+=kt[0],Xe=this.performAction.call(this,this.yy,this,it,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Xe)return Xe;if(this._backtrack){for(var kn in ge)this[kn]=ge[kn];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var kt,it,Xe,Yt;this._more||(this.yytext="",this.match="");for(var ge=this._currentRules(),kn=0;kn<ge.length;kn++)if(Xe=this._input.match(this.rules[ge[kn]]),Xe&&(!it||Xe[0].length>it[0].length)){if(it=Xe,Yt=kn,this.options.backtrack_lexer){if(kt=this.test_match(Xe,ge[kn]),kt!==!1)return kt;if(this._backtrack){it=!1;continue}else return!1}else if(!this.options.flex)break}return it?(kt=this.test_match(it,ge[Yt]),kt!==!1?kt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var kt=this.next();return kt||this.lex()},"lex"),begin:l(function(kt){this.conditionStack.push(kt)},"begin"),popState:l(function(){var kt=this.conditionStack.length-1;return kt>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(kt){return kt=this.conditionStack.length-1-Math.abs(kt||0),kt>=0?this.conditionStack[kt]:"INITIAL"},"topState"),pushState:l(function(kt){this.begin(kt)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(kt,it,Xe,Yt){var ge=Yt;switch(Xe){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),it.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:let kn=/\n\s*/g;return it.yytext=it.yytext.replace(kn,"<br/>"),40;case 11:return 40;case 12:this.popState();break;case 13:this.begin("callbackname");break;case 14:this.popState();break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 95;case 17:this.popState();break;case 18:return 96;case 19:return"MD_STR";case 20:this.popState();break;case 21:this.begin("md_string");break;case 22:return"STR";case 23:this.popState();break;case 24:this.pushState("string");break;case 25:return 84;case 26:return 102;case 27:return 85;case 28:return 104;case 29:return 86;case 30:return 87;case 31:return 97;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 88;case 35:return kt.lex.firstGraph()&&this.begin("dir"),12;case 36:return kt.lex.firstGraph()&&this.begin("dir"),12;case 37:return kt.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:return 98;case 41:return 98;case 42:return 98;case 43:return 98;case 44:return this.popState(),13;case 45:return this.popState(),14;case 46:return this.popState(),14;case 47:return this.popState(),14;case 48:return this.popState(),14;case 49:return this.popState(),14;case 50:return this.popState(),14;case 51:return this.popState(),14;case 52:return this.popState(),14;case 53:return this.popState(),14;case 54:return this.popState(),14;case 55:return 121;case 56:return 122;case 57:return 123;case 58:return 124;case 59:return 78;case 60:return 105;case 61:return 111;case 62:return 46;case 63:return 60;case 64:return 44;case 65:return 8;case 66:return 106;case 67:return 115;case 68:return this.popState(),77;case 69:return this.pushState("edgeText"),75;case 70:return 119;case 71:return this.popState(),77;case 72:return this.pushState("thickEdgeText"),75;case 73:return 119;case 74:return this.popState(),77;case 75:return this.pushState("dottedEdgeText"),75;case 76:return 119;case 77:return 77;case 78:return this.popState(),53;case 79:return"TEXT";case 80:return this.pushState("ellipseText"),52;case 81:return this.popState(),55;case 82:return this.pushState("text"),54;case 83:return this.popState(),57;case 84:return this.pushState("text"),56;case 85:return 58;case 86:return this.pushState("text"),67;case 87:return this.popState(),64;case 88:return this.pushState("text"),63;case 89:return this.popState(),49;case 90:return this.pushState("text"),48;case 91:return this.popState(),69;case 92:return this.popState(),71;case 93:return 117;case 94:return this.pushState("trapText"),68;case 95:return this.pushState("trapText"),70;case 96:return 118;case 97:return 67;case 98:return 90;case 99:return"SEP";case 100:return 89;case 101:return 115;case 102:return 111;case 103:return 44;case 104:return 109;case 105:return 114;case 106:return 116;case 107:return this.popState(),62;case 108:return this.pushState("text"),62;case 109:return this.popState(),51;case 110:return this.pushState("text"),50;case 111:return this.popState(),31;case 112:return this.pushState("text"),29;case 113:return this.popState(),66;case 114:return this.pushState("text"),65;case 115:return"TEXT";case 116:return"QUOTE";case 117:return 9;case 118:return 10;case 119:return 11}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[^\s\"]+@(?=[^\{\"]))/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},shapeData:{rules:[8,11,12,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackargs:{rules:[17,18,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},callbackname:{rules:[14,15,16,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},href:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},click:{rules:[21,24,33,34,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dottedEdgeText:{rules:[21,24,74,76,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},thickEdgeText:{rules:[21,24,71,73,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},edgeText:{rules:[21,24,68,70,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},trapText:{rules:[21,24,77,80,82,84,88,90,91,92,93,94,95,108,110,112,114],inclusive:!1},ellipseText:{rules:[21,24,77,78,79,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},text:{rules:[21,24,77,80,81,82,83,84,87,88,89,90,94,95,107,108,109,110,111,112,113,114,115],inclusive:!1},vertex:{rules:[21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_descr:{rules:[3,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},acc_title:{rules:[1,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},md_string:{rules:[19,20,21,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},string:{rules:[21,22,23,24,77,80,82,84,88,90,94,95,108,110,112,114],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,71,72,74,75,77,80,82,84,85,86,88,90,94,95,96,97,98,99,100,101,102,103,104,105,106,108,110,112,114,116,117,118,119],inclusive:!0}}};return Ri})();hn.lexer=ns;function Jr(){this.yy={}}return l(Jr,"Parser"),Jr.prototype=hn,hn.Parser=Jr,new Jr})(),Ok.parser=Ok,yB=Ok}),vB,d8e,WZe=B(()=>{"use strict";YZe(),vB=Object.assign({},yB),vB.parse=e=>{let t=e.replace(/}\s*\n/g,`}
`);return yB.parse(t)},d8e=vB}),G1,Yv=B(()=>{"use strict";G1=l(()=>`
  /* Font Awesome icon styling - consolidated */
  .label-icon {
    display: inline-block;
    height: 1em;
    overflow: visible;
    vertical-align: -0.125em;
  }
  
  .node .label-icon path {
    fill: currentColor;
    stroke: revert;
    stroke-width: revert;
  }
`,"getIconStyles")}),p8e,g8e,f8e,XZe=B(()=>{"use strict";As(),Yv(),p8e=l((e,t)=>{let r=u4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Wl(i,n,a,t)},"fade"),g8e=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span {
    color: ${e.titleColor};
  }
  .cluster-label span p {
    background-color: transparent;
  }

  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .katex path {
    fill: #000;
    stroke: #000;
    stroke-width: 1px;
  }

  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }


  .root .anchor path {
    fill: ${e.lineColor} !important;
    stroke-width: 0;
    stroke: ${e.lineColor};
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${p8e(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .cluster rect {
    fill: ${e.clusterBkg};
    stroke: ${e.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }

  rect.text {
    fill: none;
    stroke-width: 0;
  }

  .icon-shape, .image-shape {
    background-color: ${e.edgeLabelBackground};
    p {
      background-color: ${e.edgeLabelBackground};
      padding: 2px;
    }
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }
  ${G1()}
`,"getStyles"),f8e=g8e}),Pk={};nr(Pk,{diagram:()=>m8e});var m8e,bB=B(()=>{"use strict";qt(),nXe(),VZe(),WZe(),XZe(),m8e={parser:d8e,get db(){return new c0e},renderer:h8e,styles:f8e,init:l(e=>{e.flowchart||(e.flowchart={}),e.layout&&b3({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,b3({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}})},"init")}}),Bk,y8e,KZe=B(()=>{"use strict";Bk=(function(){var e=l(function(X,te,ce,K){for(ce=ce||{},K=X.length;K--;ce[X[K]]=te);return ce},"o"),t=[6,8,10,22,24,26,28,33,34,35,36,37,40,43,44,50],r=[1,10],i=[1,11],n=[1,12],a=[1,13],s=[1,20],o=[1,21],u=[1,22],h=[1,23],d=[1,24],p=[1,19],g=[1,25],f=[1,26],m=[1,18],x=[1,33],T=[1,34],k=[1,35],E=[1,36],S=[1,37],L=[6,8,10,13,15,17,20,21,22,24,26,28,33,34,35,36,37,40,43,44,50,63,64,65,66,67],b=[1,42],y=[1,43],v=[1,52],w=[40,50,68,69],C=[1,63],A=[1,61],M=[1,58],N=[1,62],O=[1,64],_=[6,8,10,13,17,22,24,26,28,33,34,35,36,37,40,41,42,43,44,48,49,50,63,64,65,66,67],I=[63,64,65,66,67],R=[1,81],P=[1,80],D=[1,78],$=[1,79],F=[6,10,42,47],z=[6,10,13,41,42,47,48,49],U=[1,89],j=[1,88],H=[1,87],Q=[19,56],re=[1,98],le=[1,97],oe=[19,56,58,60],W={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,COLON:13,role:14,STYLE_SEPARATOR:15,idList:16,BLOCK_START:17,attributes:18,BLOCK_STOP:19,SQS:20,SQE:21,title:22,title_value:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,direction:29,classDefStatement:30,classStatement:31,styleStatement:32,direction_tb:33,direction_bt:34,direction_rl:35,direction_lr:36,CLASSDEF:37,stylesOpt:38,separator:39,UNICODE_TEXT:40,STYLE_TEXT:41,COMMA:42,CLASS:43,STYLE:44,style:45,styleComponent:46,SEMI:47,NUM:48,BRKT:49,ENTITY_NAME:50,attribute:51,attributeType:52,attributeName:53,attributeKeyTypeList:54,attributeComment:55,ATTRIBUTE_WORD:56,attributeKeyType:57,",":58,ATTRIBUTE_KEY:59,COMMENT:60,cardinality:61,relType:62,ZERO_OR_ONE:63,ZERO_OR_MORE:64,ONE_OR_MORE:65,ONLY_ONE:66,MD_PARENT:67,NON_IDENTIFYING:68,IDENTIFYING:69,WORD:70,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:"COLON",15:"STYLE_SEPARATOR",17:"BLOCK_START",19:"BLOCK_STOP",20:"SQS",21:"SQE",22:"title",23:"title_value",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"direction_tb",34:"direction_bt",35:"direction_rl",36:"direction_lr",37:"CLASSDEF",40:"UNICODE_TEXT",41:"STYLE_TEXT",42:"COMMA",43:"CLASS",44:"STYLE",47:"SEMI",48:"NUM",49:"BRKT",50:"ENTITY_NAME",56:"ATTRIBUTE_WORD",58:",",59:"ATTRIBUTE_KEY",60:"COMMENT",63:"ZERO_OR_ONE",64:"ZERO_OR_MORE",65:"ONE_OR_MORE",66:"ONLY_ONE",67:"MD_PARENT",68:"NON_IDENTIFYING",69:"IDENTIFYING",70:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,9],[9,7],[9,7],[9,4],[9,6],[9,3],[9,5],[9,1],[9,3],[9,7],[9,9],[9,6],[9,8],[9,4],[9,6],[9,2],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[9,1],[29,1],[29,1],[29,1],[29,1],[30,4],[16,1],[16,1],[16,3],[16,3],[31,3],[32,4],[38,1],[38,3],[45,1],[45,2],[39,1],[39,1],[39,1],[46,1],[46,1],[46,1],[46,1],[11,1],[11,1],[18,1],[18,2],[51,2],[51,3],[51,3],[51,4],[52,1],[53,1],[54,1],[54,3],[57,1],[55,1],[12,3],[61,1],[61,1],[61,1],[61,1],[61,1],[62,1],[62,1],[14,1],[14,1],[14,1]],performAction:l(function(X,te,ce,K,me,Z,Ae){var he=Z.length-1;switch(me){case 1:break;case 2:this.$=[];break;case 3:Z[he-1].push(Z[he]),this.$=Z[he-1];break;case 4:case 5:this.$=Z[he];break;case 6:case 7:this.$=[];break;case 8:K.addEntity(Z[he-4]),K.addEntity(Z[he-2]),K.addRelationship(Z[he-4],Z[he],Z[he-2],Z[he-3]);break;case 9:K.addEntity(Z[he-8]),K.addEntity(Z[he-4]),K.addRelationship(Z[he-8],Z[he],Z[he-4],Z[he-5]),K.setClass([Z[he-8]],Z[he-6]),K.setClass([Z[he-4]],Z[he-2]);break;case 10:K.addEntity(Z[he-6]),K.addEntity(Z[he-2]),K.addRelationship(Z[he-6],Z[he],Z[he-2],Z[he-3]),K.setClass([Z[he-6]],Z[he-4]);break;case 11:K.addEntity(Z[he-6]),K.addEntity(Z[he-4]),K.addRelationship(Z[he-6],Z[he],Z[he-4],Z[he-5]),K.setClass([Z[he-4]],Z[he-2]);break;case 12:K.addEntity(Z[he-3]),K.addAttributes(Z[he-3],Z[he-1]);break;case 13:K.addEntity(Z[he-5]),K.addAttributes(Z[he-5],Z[he-1]),K.setClass([Z[he-5]],Z[he-3]);break;case 14:K.addEntity(Z[he-2]);break;case 15:K.addEntity(Z[he-4]),K.setClass([Z[he-4]],Z[he-2]);break;case 16:K.addEntity(Z[he]);break;case 17:K.addEntity(Z[he-2]),K.setClass([Z[he-2]],Z[he]);break;case 18:K.addEntity(Z[he-6],Z[he-4]),K.addAttributes(Z[he-6],Z[he-1]);break;case 19:K.addEntity(Z[he-8],Z[he-6]),K.addAttributes(Z[he-8],Z[he-1]),K.setClass([Z[he-8]],Z[he-3]);break;case 20:K.addEntity(Z[he-5],Z[he-3]);break;case 21:K.addEntity(Z[he-7],Z[he-5]),K.setClass([Z[he-7]],Z[he-2]);break;case 22:K.addEntity(Z[he-3],Z[he-1]);break;case 23:K.addEntity(Z[he-5],Z[he-3]),K.setClass([Z[he-5]],Z[he]);break;case 24:case 25:this.$=Z[he].trim(),K.setAccTitle(this.$);break;case 26:case 27:this.$=Z[he].trim(),K.setAccDescription(this.$);break;case 32:K.setDirection("TB");break;case 33:K.setDirection("BT");break;case 34:K.setDirection("RL");break;case 35:K.setDirection("LR");break;case 36:this.$=Z[he-3],K.addClass(Z[he-2],Z[he-1]);break;case 37:case 38:case 56:case 64:this.$=[Z[he]];break;case 39:case 40:this.$=Z[he-2].concat([Z[he]]);break;case 41:this.$=Z[he-2],K.setClass(Z[he-1],Z[he]);break;case 42:this.$=Z[he-3],K.addCssStyles(Z[he-2],Z[he-1]);break;case 43:this.$=[Z[he]];break;case 44:Z[he-2].push(Z[he]),this.$=Z[he-2];break;case 46:this.$=Z[he-1]+Z[he];break;case 54:case 76:case 77:this.$=Z[he].replace(/"/g,"");break;case 55:case 78:this.$=Z[he];break;case 57:Z[he].push(Z[he-1]),this.$=Z[he];break;case 58:this.$={type:Z[he-1],name:Z[he]};break;case 59:this.$={type:Z[he-2],name:Z[he-1],keys:Z[he]};break;case 60:this.$={type:Z[he-2],name:Z[he-1],comment:Z[he]};break;case 61:this.$={type:Z[he-3],name:Z[he-2],keys:Z[he-1],comment:Z[he]};break;case 62:case 63:case 66:this.$=Z[he];break;case 65:Z[he-2].push(Z[he]),this.$=Z[he-2];break;case 67:this.$=Z[he].replace(/"/g,"");break;case 68:this.$={cardA:Z[he],relType:Z[he-1],cardB:Z[he-2]};break;case 69:this.$=K.Cardinality.ZERO_OR_ONE;break;case 70:this.$=K.Cardinality.ZERO_OR_MORE;break;case 71:this.$=K.Cardinality.ONE_OR_MORE;break;case 72:this.$=K.Cardinality.ONLY_ONE;break;case 73:this.$=K.Cardinality.MD_PARENT;break;case 74:this.$=K.Identification.NON_IDENTIFYING;break;case 75:this.$=K.Identification.IDENTIFYING;break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:u,36:h,37:d,40:p,43:g,44:f,50:m},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:27,11:9,22:r,24:i,26:n,28:a,29:14,30:15,31:16,32:17,33:s,34:o,35:u,36:h,37:d,40:p,43:g,44:f,50:m},e(t,[2,5]),e(t,[2,6]),e(t,[2,16],{12:28,61:32,15:[1,29],17:[1,30],20:[1,31],63:x,64:T,65:k,66:E,67:S}),{23:[1,38]},{25:[1,39]},{27:[1,40]},e(t,[2,27]),e(t,[2,28]),e(t,[2,29]),e(t,[2,30]),e(t,[2,31]),e(L,[2,54]),e(L,[2,55]),e(t,[2,32]),e(t,[2,33]),e(t,[2,34]),e(t,[2,35]),{16:41,40:b,41:y},{16:44,40:b,41:y},{16:45,40:b,41:y},e(t,[2,4]),{11:46,40:p,50:m},{16:47,40:b,41:y},{18:48,19:[1,49],51:50,52:51,56:v},{11:53,40:p,50:m},{62:54,68:[1,55],69:[1,56]},e(w,[2,69]),e(w,[2,70]),e(w,[2,71]),e(w,[2,72]),e(w,[2,73]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),{13:C,38:57,41:A,42:M,45:59,46:60,48:N,49:O},e(_,[2,37]),e(_,[2,38]),{16:65,40:b,41:y,42:M},{13:C,38:66,41:A,42:M,45:59,46:60,48:N,49:O},{13:[1,67],15:[1,68]},e(t,[2,17],{61:32,12:69,17:[1,70],42:M,63:x,64:T,65:k,66:E,67:S}),{19:[1,71]},e(t,[2,14]),{18:72,19:[2,56],51:50,52:51,56:v},{53:73,56:[1,74]},{56:[2,62]},{21:[1,75]},{61:76,63:x,64:T,65:k,66:E,67:S},e(I,[2,74]),e(I,[2,75]),{6:R,10:P,39:77,42:D,47:$},{40:[1,82],41:[1,83]},e(F,[2,43],{46:84,13:C,41:A,48:N,49:O}),e(z,[2,45]),e(z,[2,50]),e(z,[2,51]),e(z,[2,52]),e(z,[2,53]),e(t,[2,41],{42:M}),{6:R,10:P,39:85,42:D,47:$},{14:86,40:U,50:j,70:H},{16:90,40:b,41:y},{11:91,40:p,50:m},{18:92,19:[1,93],51:50,52:51,56:v},e(t,[2,12]),{19:[2,57]},e(Q,[2,58],{54:94,55:95,57:96,59:re,60:le}),e([19,56,59,60],[2,63]),e(t,[2,22],{15:[1,100],17:[1,99]}),e([40,50],[2,68]),e(t,[2,36]),{13:C,41:A,45:101,46:60,48:N,49:O},e(t,[2,47]),e(t,[2,48]),e(t,[2,49]),e(_,[2,39]),e(_,[2,40]),e(z,[2,46]),e(t,[2,42]),e(t,[2,8]),e(t,[2,76]),e(t,[2,77]),e(t,[2,78]),{13:[1,102],42:M},{13:[1,104],15:[1,103]},{19:[1,105]},e(t,[2,15]),e(Q,[2,59],{55:106,58:[1,107],60:le}),e(Q,[2,60]),e(oe,[2,64]),e(Q,[2,67]),e(oe,[2,66]),{18:108,19:[1,109],51:50,52:51,56:v},{16:110,40:b,41:y},e(F,[2,44],{46:84,13:C,41:A,48:N,49:O}),{14:111,40:U,50:j,70:H},{16:112,40:b,41:y},{14:113,40:U,50:j,70:H},e(t,[2,13]),e(Q,[2,61]),{57:114,59:re},{19:[1,115]},e(t,[2,20]),e(t,[2,23],{17:[1,116],42:M}),e(t,[2,11]),{13:[1,117],42:M},e(t,[2,10]),e(oe,[2,65]),e(t,[2,18]),{18:118,19:[1,119],51:50,52:51,56:v},{14:120,40:U,50:j,70:H},{19:[1,121]},e(t,[2,21]),e(t,[2,9]),e(t,[2,19])],defaultActions:{52:[2,62],72:[2,57]},parseError:l(function(X,te){if(te.recoverable)this.trace(X);else{var ce=new Error(X);throw ce.hash=te,ce}},"parseError"),parse:l(function(X){var te=this,ce=[0],K=[],me=[null],Z=[],Ae=this.table,he="",Ne=0,Pe=0,He=0,qe=2,_e=1,De=Z.slice.call(arguments,1),ve=Object.create(this.lexer),Be={yy:{}};for(var de in this.yy)Object.prototype.hasOwnProperty.call(this.yy,de)&&(Be.yy[de]=this.yy[de]);ve.setInput(X,Be.yy),Be.yy.lexer=ve,Be.yy.parser=this,typeof ve.yylloc>"u"&&(ve.yylloc={});var Ve=ve.yylloc;Z.push(Ve);var ee=ve.options&&ve.options.ranges;typeof Be.yy.parseError=="function"?this.parseError=Be.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ie(je){ce.length=ce.length-2*je,me.length=me.length-je,Z.length=Z.length-je}l(Ie,"popStack");function G(){var je;return je=K.pop()||ve.lex()||_e,typeof je!="number"&&(je instanceof Array&&(K=je,je=K.pop()),je=te.symbols_[je]||je),je}l(G,"lex");for(var ie,se,pe,fe,be,Se,Te={},Ge,Ye,st,ze;;){if(pe=ce[ce.length-1],this.defaultActions[pe]?fe=this.defaultActions[pe]:((ie===null||typeof ie>"u")&&(ie=G()),fe=Ae[pe]&&Ae[pe][ie]),typeof fe>"u"||!fe.length||!fe[0]){var We="";ze=[];for(Ge in Ae[pe])this.terminals_[Ge]&&Ge>qe&&ze.push("'"+this.terminals_[Ge]+"'");ve.showPosition?We="Parse error on line "+(Ne+1)+`:
`+ve.showPosition()+`
Expecting `+ze.join(", ")+", got '"+(this.terminals_[ie]||ie)+"'":We="Parse error on line "+(Ne+1)+": Unexpected "+(ie==_e?"end of input":"'"+(this.terminals_[ie]||ie)+"'"),this.parseError(We,{text:ve.match,token:this.terminals_[ie]||ie,line:ve.yylineno,loc:Ve,expected:ze})}if(fe[0]instanceof Array&&fe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+pe+", token: "+ie);switch(fe[0]){case 1:ce.push(ie),me.push(ve.yytext),Z.push(ve.yylloc),ce.push(fe[1]),ie=null,se?(ie=se,se=null):(Pe=ve.yyleng,he=ve.yytext,Ne=ve.yylineno,Ve=ve.yylloc,He>0&&He--);break;case 2:if(Ye=this.productions_[fe[1]][1],Te.$=me[me.length-Ye],Te._$={first_line:Z[Z.length-(Ye||1)].first_line,last_line:Z[Z.length-1].last_line,first_column:Z[Z.length-(Ye||1)].first_column,last_column:Z[Z.length-1].last_column},ee&&(Te._$.range=[Z[Z.length-(Ye||1)].range[0],Z[Z.length-1].range[1]]),Se=this.performAction.apply(Te,[he,Pe,Ne,Be.yy,fe[1],me,Z].concat(De)),typeof Se<"u")return Se;Ye&&(ce=ce.slice(0,-1*Ye*2),me=me.slice(0,-1*Ye),Z=Z.slice(0,-1*Ye)),ce.push(this.productions_[fe[1]][0]),me.push(Te.$),Z.push(Te._$),st=Ae[ce[ce.length-2]][ce[ce.length-1]],ce.push(st);break;case 3:return!0}}return!0},"parse")},J=(function(){var X={EOF:1,parseError:l(function(te,ce){if(this.yy.parser)this.yy.parser.parseError(te,ce);else throw new Error(te)},"parseError"),setInput:l(function(te,ce){return this.yy=ce||this.yy||{},this._input=te,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var te=this._input[0];this.yytext+=te,this.yyleng++,this.offset++,this.match+=te,this.matched+=te;var ce=te.match(/(?:\r\n?|\n).*/g);return ce?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),te},"input"),unput:l(function(te){var ce=te.length,K=te.split(/(?:\r\n?|\n)/g);this._input=te+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ce),this.offset-=ce;var me=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),K.length-1&&(this.yylineno-=K.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:K?(K.length===me.length?this.yylloc.first_column:0)+me[me.length-K.length].length-K[0].length:this.yylloc.first_column-ce},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-ce]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(te){this.unput(this.match.slice(te))},"less"),pastInput:l(function(){var te=this.matched.substr(0,this.matched.length-this.match.length);return(te.length>20?"...":"")+te.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var te=this.match;return te.length<20&&(te+=this._input.substr(0,20-te.length)),(te.substr(0,20)+(te.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var te=this.pastInput(),ce=new Array(te.length+1).join("-");return te+this.upcomingInput()+`
`+ce+"^"},"showPosition"),test_match:l(function(te,ce){var K,me,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),me=te[0].match(/(?:\r\n?|\n).*/g),me&&(this.yylineno+=me.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:me?me[me.length-1].length-me[me.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+te[0].length},this.yytext+=te[0],this.match+=te[0],this.matches=te,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(te[0].length),this.matched+=te[0],K=this.performAction.call(this,this.yy,this,ce,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),K)return K;if(this._backtrack){for(var Ae in Z)this[Ae]=Z[Ae];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var te,ce,K,me;this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),Ae=0;Ae<Z.length;Ae++)if(K=this._input.match(this.rules[Z[Ae]]),K&&(!ce||K[0].length>ce[0].length)){if(ce=K,me=Ae,this.options.backtrack_lexer){if(te=this.test_match(K,Z[Ae]),te!==!1)return te;if(this._backtrack){ce=!1;continue}else return!1}else if(!this.options.flex)break}return ce?(te=this.test_match(ce,Z[me]),te!==!1?te:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var te=this.next();return te||this.lex()},"lex"),begin:l(function(te){this.conditionStack.push(te)},"begin"),popState:l(function(){var te=this.conditionStack.length-1;return te>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(te){return te=this.conditionStack.length-1-Math.abs(te||0),te>=0?this.conditionStack[te]:"INITIAL"},"topState"),pushState:l(function(te){this.begin(te)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(te,ce,K,me){var Z=me;switch(K){case 0:return this.begin("acc_title"),24;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),26;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 33;case 8:return 34;case 9:return 35;case 10:return 36;case 11:return 10;case 12:break;case 13:return 8;case 14:return 50;case 15:return 70;case 16:return 4;case 17:return this.begin("block"),17;case 18:return 49;case 19:return 49;case 20:return 42;case 21:return 15;case 22:return 13;case 23:break;case 24:return 59;case 25:return 56;case 26:return 56;case 27:return 60;case 28:break;case 29:return this.popState(),19;case 30:return ce.yytext[0];case 31:return 20;case 32:return 21;case 33:return this.begin("style"),44;case 34:return this.popState(),10;case 35:break;case 36:return 13;case 37:return 42;case 38:return 49;case 39:return this.begin("style"),37;case 40:return 43;case 41:return 63;case 42:return 65;case 43:return 65;case 44:return 65;case 45:return 63;case 46:return 63;case 47:return 64;case 48:return 64;case 49:return 64;case 50:return 64;case 51:return 64;case 52:return 65;case 53:return 64;case 54:return 65;case 55:return 66;case 56:return 66;case 57:return 66;case 58:return 66;case 59:return 63;case 60:return 64;case 61:return 65;case 62:return 67;case 63:return 68;case 64:return 69;case 65:return 69;case 66:return 68;case 67:return 68;case 68:return 68;case 69:return 41;case 70:return 47;case 71:return 40;case 72:return 48;case 73:return ce.yytext[0];case 74:return 6}},"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:#)/i,/^(?:#)/i,/^(?:,)/i,/^(?::::)/i,/^(?::)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:([^\s]*)[~].*[~]([^\s]*))/i,/^(?:([\*A-Za-z_\u00C0-\uFFFF][A-Za-z0-9\-\_\[\]\(\)\u00C0-\uFFFF\*]*))/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:style\b)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?::)/i,/^(?:,)/i,/^(?:#)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:;)/i,/^(?:([^\x00-\x7F]|\w|-|\*)+)/i,/^(?:[0-9])/i,/^(?:.)/i,/^(?:$)/i],conditions:{style:{rules:[34,35,36,37,38,69,70],inclusive:!1},acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[23,24,25,26,27,28,29,30],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,31,32,33,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,71,72,73,74],inclusive:!0}}};return X})();W.lexer=J;function Y(){this.yy={}}return l(Y,"Parser"),Y.prototype=W,W.Parser=Y,new Y})(),Bk.parser=Bk,y8e=Bk}),v8e,ZZe=B(()=>{"use strict";var e;lt(),qt(),Fi(),Jt(),v8e=(e=class{constructor(){this.entities=new Map,this.relationships=[],this.classes=new Map,this.direction="TB",this.Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},this.Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},this.setAccTitle=Bi,this.getAccTitle=Wi,this.setAccDescription=Xi,this.getAccDescription=Ki,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getConfig=l(()=>Ce().er,"getConfig"),this.clear(),this.addEntity=this.addEntity.bind(this),this.addAttributes=this.addAttributes.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setDirection=this.setDirection.bind(this),this.addCssStyles=this.addCssStyles.bind(this),this.addClass=this.addClass.bind(this),this.setClass=this.setClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}addEntity(r,i=""){var n,a;return this.entities.has(r)?!((n=this.entities.get(r))!=null&&n.alias)&&i&&(this.entities.get(r).alias=i,ae.info(`Add alias '${i}' to entity '${r}'`)):(this.entities.set(r,{id:`entity-${r}-${this.entities.size}`,label:r,attributes:[],alias:i,shape:"erBox",look:(a=Ce().look)!=null?a:"default",cssClasses:"default",cssStyles:[]}),ae.info("Added new entity :",r)),this.entities.get(r)}getEntity(r){return this.entities.get(r)}getEntities(){return this.entities}getClasses(){return this.classes}addAttributes(r,i){let n=this.addEntity(r),a;for(a=i.length-1;a>=0;a--)i[a].keys||(i[a].keys=[]),i[a].comment||(i[a].comment=""),n.attributes.push(i[a]),ae.debug("Added attribute ",i[a].name)}addRelationship(r,i,n,a){let s=this.entities.get(r),o=this.entities.get(n);if(!s||!o)return;let u={entityA:s.id,roleA:i,entityB:o.id,relSpec:a};this.relationships.push(u),ae.debug("Added new relationship :",u)}getRelationships(){return this.relationships}getDirection(){return this.direction}setDirection(r){this.direction=r}getCompiledStyles(r){var n,a;let i=[];for(let s of r){let o=this.classes.get(s);o!=null&&o.styles&&(i=[...i,...(n=o.styles)!=null?n:[]].map(u=>u.trim())),o!=null&&o.textStyles&&(i=[...i,...(a=o.textStyles)!=null?a:[]].map(u=>u.trim()))}return i}addCssStyles(r,i){for(let n of r){let a=this.entities.get(n);if(!i||!a)return;for(let s of i)a.cssStyles.push(s)}}addClass(r,i){r.forEach(n=>{let a=this.classes.get(n);a===void 0&&(a={id:n,styles:[],textStyles:[]},this.classes.set(n,a)),i&&i.forEach(function(s){if(/color/.exec(s)){let o=s.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(s)})})}setClass(r,i){for(let n of r){let a=this.entities.get(n);if(a)for(let s of i)a.cssClasses+=" "+s}}clear(){this.entities=new Map,this.classes=new Map,this.relationships=[],Pi()}getData(){let r=[],i=[],n=Ce();for(let s of this.entities.keys()){let o=this.entities.get(s);o&&(o.cssCompiledStyles=this.getCompiledStyles(o.cssClasses.split(" ")),r.push(o))}let a=0;for(let s of this.relationships){let o={id:md(s.entityA,s.entityB,{prefix:"id",counter:a++}),type:"normal",curve:"basis",start:s.entityA,end:s.entityB,label:s.roleA,labelpos:"c",thickness:"normal",classes:"relationshipLine",arrowTypeStart:s.relSpec.cardB.toLowerCase(),arrowTypeEnd:s.relSpec.cardA.toLowerCase(),pattern:s.relSpec.relType=="IDENTIFYING"?"solid":"dashed",look:n.look};i.push(o)}return{nodes:r,edges:i,other:{},config:n,direction:"TB"}}},l(e,"ErDB"),e)}),b8e={};nr(b8e,{draw:()=>x8e});var x8e,QZe=B(()=>{"use strict";qt(),lt(),Vg(),a0(),s0(),Jt(),gr(),x8e=l(function(e,t,r,i){return xe(this,null,function*(){var p,g;ae.info("REF0:"),ae.info("Drawing er diagram (unified)",t);let{securityLevel:n,er:a,layout:s}=Ce(),o=i.db.getData(),u=Sd(t,n);o.type=i.type,o.layoutAlgorithm=z1(s),o.config.flowchart.nodeSpacing=(a==null?void 0:a.nodeSpacing)||140,o.config.flowchart.rankSpacing=(a==null?void 0:a.rankSpacing)||80,o.direction=i.db.getDirection(),o.markers=["only_one","zero_or_one","one_or_more","zero_or_more"],o.diagramId=t,yield n0(o,u),o.layoutAlgorithm==="elk"&&u.select(".edges").lower();let h=u.selectAll('[id*="-background"]');Array.from(h).length>0&&h.each(function(){let f=Ze(this),m=f.attr("id").replace("-background",""),x=u.select(`#${CSS.escape(m)}`);if(!x.empty()){let T=x.attr("transform");f.attr("transform",T)}}),cr.insertTitle(u,"erDiagramTitleText",(p=a==null?void 0:a.titleTopMargin)!=null?p:25,i.db.getDiagramTitle()),ph(u,8,"erDiagram",(g=a==null?void 0:a.useMaxWidth)!=null?g:!0)})},"draw")}),w8e,k8e,T8e,JZe=B(()=>{"use strict";As(),w8e=l((e,t)=>{let r=u4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Wl(i,n,a,t)},"fade"),k8e=l(e=>`
  .entityBox {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${e.tertiaryColor};
    opacity: 0.7;
    background-color: ${e.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

  .labelBkg {
    background-color: ${w8e(e.tertiaryColor,.5)};
  }

  .edgeLabel .label {
    fill: ${e.nodeBorder};
    font-size: 14px;
  }

  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }

  .edge-pattern-dashed {
    stroke-dasharray: 8,8;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon
  {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .relationshipLine {
    stroke: ${e.lineColor};
    stroke-width: 1;
    fill: none;
  }

  .marker {
    fill: none !important;
    stroke: ${e.lineColor} !important;
    stroke-width: 1;
  }
`,"getStyles"),T8e=k8e}),E8e={};nr(E8e,{diagram:()=>C8e});var C8e,eQe=B(()=>{"use strict";KZe(),ZZe(),QZe(),JZe(),C8e={parser:y8e,get db(){return new v8e},renderer:b8e,styles:T8e}});function on(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}function Za(e){return typeof e=="object"&&e!==null&&typeof e.$refText=="string"}function xB(e){return typeof e=="object"&&e!==null&&typeof e.name=="string"&&typeof e.type=="string"&&typeof e.path=="string"}function U1(e){return typeof e=="object"&&e!==null&&on(e.container)&&Za(e.reference)&&typeof e.message=="string"}function Gc(e){return typeof e=="object"&&e!==null&&Array.isArray(e.content)}function o0(e){return typeof e=="object"&&e!==null&&typeof e.tokenType=="object"}function $k(e){return Gc(e)&&typeof e.fullText=="string"}var Fk,Tl=B(()=>{"use strict";var e;l(on,"isAstNode"),l(Za,"isReference"),l(xB,"isAstNodeDescription"),l(U1,"isLinkingError"),Fk=(e=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(r,i){return on(r)&&this.isSubtype(r.$type,i)}isSubtype(r,i){if(r===i)return!0;let n=this.subtypes[r];n||(n=this.subtypes[r]={});let a=n[i];if(a!==void 0)return a;{let s=this.computeIsSubtype(r,i);return n[i]=s,s}}getAllSubTypes(r){let i=this.allSubtypes[r];if(i)return i;{let n=this.getAllTypes(),a=[];for(let s of n)this.isSubtype(s,r)&&a.push(s);return this.allSubtypes[r]=a,a}}},l(e,"AbstractAstReflection"),e),l(Gc,"isCompositeCstNode"),l(o0,"isLeafCstNode"),l($k,"isRootCstNode")});function S8e(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Wv(e){return!!e&&typeof e[Symbol.iterator]=="function"}function ji(...e){if(e.length===1){let t=e[0];if(t instanceof Do)return t;if(Wv(t))return new Do(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new Do(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:ua)}return e.length>1?new Do(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Wv(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return ua}):Xv}var Do,Xv,ua,l0,Kv,vs=B(()=>{"use strict";var e,t;Do=(e=class{constructor(i,n){this.startFn=i,this.nextFn=n}iterator(){let i={state:this.startFn(),next:l(()=>this.nextFn(i.state),"next"),[Symbol.iterator]:()=>i};return i}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let i=this.iterator(),n=0,a=i.next();for(;!a.done;)n++,a=i.next();return n}toArray(){let i=[],n=this.iterator(),a;do a=n.next(),a.value!==void 0&&i.push(a.value);while(!a.done);return i}toSet(){return new Set(this)}toMap(i,n){let a=this.map(s=>[i?i(s):s,n?n(s):s]);return new Map(a)}toString(){return this.join()}concat(i){return new e(()=>({first:this.startFn(),firstDone:!1,iterator:i[Symbol.iterator]()}),n=>{let a;if(!n.firstDone){do if(a=this.nextFn(n.first),!a.done)return a;while(!a.done);n.firstDone=!0}do if(a=n.iterator.next(),!a.done)return a;while(!a.done);return ua})}join(i=","){let n=this.iterator(),a="",s,o=!1;do s=n.next(),s.done||(o&&(a+=i),a+=S8e(s.value)),o=!0;while(!s.done);return a}indexOf(i,n=0){let a=this.iterator(),s=0,o=a.next();for(;!o.done;){if(s>=n&&o.value===i)return s;o=a.next(),s++}return-1}every(i){let n=this.iterator(),a=n.next();for(;!a.done;){if(!i(a.value))return!1;a=n.next()}return!0}some(i){let n=this.iterator(),a=n.next();for(;!a.done;){if(i(a.value))return!0;a=n.next()}return!1}forEach(i){let n=this.iterator(),a=0,s=n.next();for(;!s.done;)i(s.value,a),s=n.next(),a++}map(i){return new e(this.startFn,n=>{let{done:a,value:s}=this.nextFn(n);return a?ua:{done:!1,value:i(s)}})}filter(i){return new e(this.startFn,n=>{let a;do if(a=this.nextFn(n),!a.done&&i(a.value))return a;while(!a.done);return ua})}nonNullable(){return this.filter(i=>i!=null)}reduce(i,n){let a=this.iterator(),s=n,o=a.next();for(;!o.done;)s===void 0?s=o.value:s=i(s,o.value),o=a.next();return s}reduceRight(i,n){return this.recursiveReduce(this.iterator(),i,n)}recursiveReduce(i,n,a){let s=i.next();if(s.done)return a;let o=this.recursiveReduce(i,n,a);return o===void 0?s.value:n(o,s.value)}find(i){let n=this.iterator(),a=n.next();for(;!a.done;){if(i(a.value))return a.value;a=n.next()}}findIndex(i){let n=this.iterator(),a=0,s=n.next();for(;!s.done;){if(i(s.value))return a;s=n.next(),a++}return-1}includes(i){let n=this.iterator(),a=n.next();for(;!a.done;){if(a.value===i)return!0;a=n.next()}return!1}flatMap(i){return new e(()=>({this:this.startFn()}),n=>{do{if(n.iterator){let o=n.iterator.next();if(o.done)n.iterator=void 0;else return o}let{done:a,value:s}=this.nextFn(n.this);if(!a){let o=i(s);if(Wv(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(n.iterator);return ua})}flat(i){if(i===void 0&&(i=1),i<=0)return this;let n=i>1?this.flat(i-1):this;return new e(()=>({this:n.startFn()}),a=>{do{if(a.iterator){let u=a.iterator.next();if(u.done)a.iterator=void 0;else return u}let{done:s,value:o}=n.nextFn(a.this);if(!s)if(Wv(o))a.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(a.iterator);return ua})}head(){let i=this.iterator().next();if(!i.done)return i.value}tail(i=1){return new e(()=>{let n=this.startFn();for(let a=0;a<i;a++)if(this.nextFn(n).done)return n;return n},this.nextFn)}limit(i){return new e(()=>({size:0,state:this.startFn()}),n=>(n.size++,n.size>i?ua:this.nextFn(n.state)))}distinct(i){return new e(()=>({set:new Set,internalState:this.startFn()}),n=>{let a;do if(a=this.nextFn(n.internalState),!a.done){let s=i?i(a.value):a.value;if(!n.set.has(s))return n.set.add(s),a}while(!a.done);return ua})}exclude(i,n){let a=new Set;for(let s of i){let o=n?n(s):s;a.add(o)}return this.filter(s=>{let o=n?n(s):s;return!a.has(o)})}},l(e,"StreamImpl"),e),l(S8e,"toString"),l(Wv,"isIterable"),Xv=new Do(()=>{},()=>ua),ua=Object.freeze({done:!0,value:void 0}),l(ji,"stream"),l0=(t=class extends Do{constructor(i,n,a){super(()=>({iterators:a!=null&&a.includeRoot?[[i][Symbol.iterator]()]:[n(i)[Symbol.iterator]()],pruned:!1}),s=>{for(s.pruned&&(s.iterators.pop(),s.pruned=!1);s.iterators.length>0;){let o=s.iterators[s.iterators.length-1].next();if(o.done)s.iterators.pop();else return s.iterators.push(n(o.value)[Symbol.iterator]()),o}return ua})}iterator(){let i={state:this.startFn(),next:l(()=>this.nextFn(i.state),"next"),prune:l(()=>{i.state.pruned=!0},"prune"),[Symbol.iterator]:()=>i};return i}},l(t,"TreeStreamImpl"),t),(function(r){function i(o){return o.reduce((u,h)=>u+h,0)}l(i,"sum"),r.sum=i;function n(o){return o.reduce((u,h)=>u*h,0)}l(n,"product"),r.product=n;function a(o){return o.reduce((u,h)=>Math.min(u,h))}l(a,"min"),r.min=a;function s(o){return o.reduce((u,h)=>Math.max(u,h))}l(s,"max"),r.max=s})(Kv||(Kv={}))}),wB={};nr(wB,{DefaultNameRegexp:()=>Uk,RangeComparison:()=>El,compareRange:()=>TB,findCommentNode:()=>CB,findDeclarationNodeAtOffset:()=>A8e,findLeafNodeAtOffset:()=>Gk,findLeafNodeBeforeOffset:()=>SB,flattenCst:()=>_8e,getInteriorNodes:()=>M8e,getNextNode:()=>L8e,getPreviousNode:()=>AB,getStartlineNode:()=>N8e,inRange:()=>EB,isChildNode:()=>kB,isCommentNode:()=>zk,streamCst:()=>q1,toDocumentSegment:()=>j1,tokenToRange:()=>Zv});function q1(e){return new l0(e,t=>Gc(t)?t.content:[],{includeRoot:!0})}function _8e(e){return q1(e).filter(o0)}function kB(e,t){for(;e.container;)if(e=e.container,e===t)return!0;return!1}function Zv(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function j1(e){if(!e)return;let{offset:t,end:r,range:i}=e;return{range:i,offset:t,end:r,length:r-t}}function TB(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return El.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return El.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,i=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&i?El.Inside:r?El.OverlapBack:i?El.OverlapFront:El.Outside}function EB(e,t){return TB(e,t)>El.After}function A8e(e,t,r=Uk){if(e){if(t>0){let i=t-e.offset,n=e.text.charAt(i);r.test(n)||t--}return Gk(e,t)}}function CB(e,t){if(e){let r=AB(e,!0);if(r&&zk(r,t))return r;if($k(e)){let i=e.content.findIndex(n=>!n.hidden);for(let n=i-1;n>=0;n--){let a=e.content[n];if(zk(a,t))return a}}}}function zk(e,t){return o0(e)&&t.includes(e.tokenType.name)}function Gk(e,t){if(o0(e))return e;if(Gc(e)){let r=_B(e,t,!1);if(r)return Gk(r,t)}}function SB(e,t){if(o0(e))return e;if(Gc(e)){let r=_B(e,t,!0);if(r)return SB(r,t)}}function _B(e,t,r){let i=0,n=e.content.length-1,a;for(;i<=n;){let s=Math.floor((i+n)/2),o=e.content[s];if(o.offset<=t&&o.end>t)return o;o.end<=t?(a=r?o:void 0,i=s+1):n=s-1}return a}function AB(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e);for(;i>0;){i--;let n=r.content[i];if(t||!n.hidden)return n}e=r}}function L8e(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e),n=r.content.length-1;for(;i<n;){i++;let a=r.content[i];if(t||!a.hidden)return a}e=r}}function N8e(e){if(e.range.start.character===0)return e;let t=e.range.start.line,r=e,i;for(;e.container;){let n=e.container,a=i!=null?i:n.content.indexOf(e);if(a===0?(e=n,i=void 0):(i=a-1,e=n.content[i]),e.range.start.line!==t)break;r=e}return r}function M8e(e,t){let r=I8e(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function I8e(e,t){let r=LB(e),i=LB(t),n;for(let a=0;a<r.length&&a<i.length;a++){let s=r[a],o=i[a];if(s.parent===o.parent)n={parent:s.parent,a:s.index,b:o.index};else break}return n}function LB(e){let t=[];for(;e.container;){let r=e.container,i=r.content.indexOf(e);t.push({parent:r,index:i}),e=r}return t.reverse()}var El,Uk,Cl=B(()=>{"use strict";Tl(),vs(),l(q1,"streamCst"),l(_8e,"flattenCst"),l(kB,"isChildNode"),l(Zv,"tokenToRange"),l(j1,"toDocumentSegment"),(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside",e[e.Outside=5]="Outside"})(El||(El={})),l(TB,"compareRange"),l(EB,"inRange"),Uk=/^[\w\p{L}]$/u,l(A8e,"findDeclarationNodeAtOffset"),l(CB,"findCommentNode"),l(zk,"isCommentNode"),l(Gk,"findLeafNodeAtOffset"),l(SB,"findLeafNodeBeforeOffset"),l(_B,"binarySearch"),l(AB,"getPreviousNode"),l(L8e,"getNextNode"),l(N8e,"getStartlineNode"),l(M8e,"getInteriorNodes"),l(I8e,"getCommonParent"),l(LB,"getParentChain")});function gh(e){throw new Error("Error! The input value was not handled.")}var Qv,NB=B(()=>{"use strict";var e;Qv=(e=class extends Error{constructor(r,i){super(r?`${i} at ${r.range.start.line}:${r.range.start.character}`:i)}},l(e,"ErrorWithLocation"),e),l(gh,"assertUnreachable")}),D8e={};nr(D8e,{AbstractElement:()=>d0,AbstractRule:()=>u0,AbstractType:()=>h0,Action:()=>M0,Alternatives:()=>I0,ArrayLiteral:()=>p0,ArrayType:()=>g0,Assignment:()=>D0,BooleanLiteral:()=>f0,CharacterRange:()=>R0,Condition:()=>H1,Conjunction:()=>m0,CrossReference:()=>O0,Disjunction:()=>y0,EndOfFile:()=>P0,Grammar:()=>v0,GrammarImport:()=>Y1,Group:()=>B0,InferredType:()=>b0,Interface:()=>x0,Keyword:()=>$0,LangiumGrammarAstReflection:()=>Kk,LangiumGrammarTerminals:()=>W8e,NamedArgument:()=>W1,NegatedToken:()=>F0,Negation:()=>w0,NumberLiteral:()=>k0,Parameter:()=>T0,ParameterReference:()=>E0,ParserRule:()=>C0,ReferenceType:()=>S0,RegexToken:()=>z0,ReturnType:()=>X1,RuleCall:()=>G0,SimpleType:()=>_0,StringLiteral:()=>A0,TerminalAlternatives:()=>U0,TerminalGroup:()=>q0,TerminalRule:()=>mh,TerminalRuleCall:()=>j0,Type:()=>L0,TypeAttribute:()=>K1,TypeDefinition:()=>tb,UnionType:()=>N0,UnorderedGroup:()=>H0,UntilToken:()=>V0,ValueLiteral:()=>V1,Wildcard:()=>Y0,isAbstractElement:()=>qk,isAbstractRule:()=>R8e,isAbstractType:()=>O8e,isAction:()=>fh,isAlternatives:()=>Yk,isArrayLiteral:()=>z8e,isArrayType:()=>IB,isAssignment:()=>Uc,isBooleanLiteral:()=>DB,isCharacterRange:()=>GB,isCondition:()=>P8e,isConjunction:()=>RB,isCrossReference:()=>eb,isDisjunction:()=>OB,isEndOfFile:()=>UB,isFeatureName:()=>B8e,isGrammar:()=>G8e,isGrammarImport:()=>U8e,isGroup:()=>c0,isInferredType:()=>jk,isInterface:()=>Hk,isKeyword:()=>qc,isNamedArgument:()=>q8e,isNegatedToken:()=>qB,isNegation:()=>PB,isNumberLiteral:()=>j8e,isParameter:()=>H8e,isParameterReference:()=>BB,isParserRule:()=>Qa,isPrimitiveType:()=>MB,isReferenceType:()=>$B,isRegexToken:()=>jB,isReturnType:()=>FB,isRuleCall:()=>jc,isSimpleType:()=>Vk,isStringLiteral:()=>V8e,isTerminalAlternatives:()=>HB,isTerminalGroup:()=>VB,isTerminalRule:()=>Sl,isTerminalRuleCall:()=>Wk,isType:()=>Jv,isTypeAttribute:()=>Y8e,isTypeDefinition:()=>$8e,isUnionType:()=>zB,isUnorderedGroup:()=>Xk,isUntilToken:()=>YB,isValueLiteral:()=>F8e,isWildcard:()=>WB,reflection:()=>lr});function R8e(e){return lr.isInstance(e,u0)}function O8e(e){return lr.isInstance(e,h0)}function P8e(e){return lr.isInstance(e,H1)}function B8e(e){return MB(e)||e==="current"||e==="entry"||e==="extends"||e==="false"||e==="fragment"||e==="grammar"||e==="hidden"||e==="import"||e==="interface"||e==="returns"||e==="terminal"||e==="true"||e==="type"||e==="infer"||e==="infers"||e==="with"||typeof e=="string"&&/\^?[_a-zA-Z][\w_]*/.test(e)}function MB(e){return e==="string"||e==="number"||e==="boolean"||e==="Date"||e==="bigint"}function $8e(e){return lr.isInstance(e,tb)}function F8e(e){return lr.isInstance(e,V1)}function qk(e){return lr.isInstance(e,d0)}function z8e(e){return lr.isInstance(e,p0)}function IB(e){return lr.isInstance(e,g0)}function DB(e){return lr.isInstance(e,f0)}function RB(e){return lr.isInstance(e,m0)}function OB(e){return lr.isInstance(e,y0)}function G8e(e){return lr.isInstance(e,v0)}function U8e(e){return lr.isInstance(e,Y1)}function jk(e){return lr.isInstance(e,b0)}function Hk(e){return lr.isInstance(e,x0)}function q8e(e){return lr.isInstance(e,W1)}function PB(e){return lr.isInstance(e,w0)}function j8e(e){return lr.isInstance(e,k0)}function H8e(e){return lr.isInstance(e,T0)}function BB(e){return lr.isInstance(e,E0)}function Qa(e){return lr.isInstance(e,C0)}function $B(e){return lr.isInstance(e,S0)}function FB(e){return lr.isInstance(e,X1)}function Vk(e){return lr.isInstance(e,_0)}function V8e(e){return lr.isInstance(e,A0)}function Sl(e){return lr.isInstance(e,mh)}function Jv(e){return lr.isInstance(e,L0)}function Y8e(e){return lr.isInstance(e,K1)}function zB(e){return lr.isInstance(e,N0)}function fh(e){return lr.isInstance(e,M0)}function Yk(e){return lr.isInstance(e,I0)}function Uc(e){return lr.isInstance(e,D0)}function GB(e){return lr.isInstance(e,R0)}function eb(e){return lr.isInstance(e,O0)}function UB(e){return lr.isInstance(e,P0)}function c0(e){return lr.isInstance(e,B0)}function qc(e){return lr.isInstance(e,$0)}function qB(e){return lr.isInstance(e,F0)}function jB(e){return lr.isInstance(e,z0)}function jc(e){return lr.isInstance(e,G0)}function HB(e){return lr.isInstance(e,U0)}function VB(e){return lr.isInstance(e,q0)}function Wk(e){return lr.isInstance(e,j0)}function Xk(e){return lr.isInstance(e,H0)}function YB(e){return lr.isInstance(e,V0)}function WB(e){return lr.isInstance(e,Y0)}var W8e,u0,h0,H1,tb,V1,d0,p0,g0,f0,m0,y0,v0,Y1,b0,x0,W1,w0,k0,T0,E0,C0,S0,X1,_0,A0,mh,L0,K1,N0,M0,I0,D0,R0,O0,P0,B0,$0,F0,z0,G0,U0,q0,j0,H0,V0,Y0,Kk,lr,Hc=B(()=>{"use strict";var e;Tl(),W8e={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},u0="AbstractRule",l(R8e,"isAbstractRule"),h0="AbstractType",l(O8e,"isAbstractType"),H1="Condition",l(P8e,"isCondition"),l(B8e,"isFeatureName"),l(MB,"isPrimitiveType"),tb="TypeDefinition",l($8e,"isTypeDefinition"),V1="ValueLiteral",l(F8e,"isValueLiteral"),d0="AbstractElement",l(qk,"isAbstractElement"),p0="ArrayLiteral",l(z8e,"isArrayLiteral"),g0="ArrayType",l(IB,"isArrayType"),f0="BooleanLiteral",l(DB,"isBooleanLiteral"),m0="Conjunction",l(RB,"isConjunction"),y0="Disjunction",l(OB,"isDisjunction"),v0="Grammar",l(G8e,"isGrammar"),Y1="GrammarImport",l(U8e,"isGrammarImport"),b0="InferredType",l(jk,"isInferredType"),x0="Interface",l(Hk,"isInterface"),W1="NamedArgument",l(q8e,"isNamedArgument"),w0="Negation",l(PB,"isNegation"),k0="NumberLiteral",l(j8e,"isNumberLiteral"),T0="Parameter",l(H8e,"isParameter"),E0="ParameterReference",l(BB,"isParameterReference"),C0="ParserRule",l(Qa,"isParserRule"),S0="ReferenceType",l($B,"isReferenceType"),X1="ReturnType",l(FB,"isReturnType"),_0="SimpleType",l(Vk,"isSimpleType"),A0="StringLiteral",l(V8e,"isStringLiteral"),mh="TerminalRule",l(Sl,"isTerminalRule"),L0="Type",l(Jv,"isType"),K1="TypeAttribute",l(Y8e,"isTypeAttribute"),N0="UnionType",l(zB,"isUnionType"),M0="Action",l(fh,"isAction"),I0="Alternatives",l(Yk,"isAlternatives"),D0="Assignment",l(Uc,"isAssignment"),R0="CharacterRange",l(GB,"isCharacterRange"),O0="CrossReference",l(eb,"isCrossReference"),P0="EndOfFile",l(UB,"isEndOfFile"),B0="Group",l(c0,"isGroup"),$0="Keyword",l(qc,"isKeyword"),F0="NegatedToken",l(qB,"isNegatedToken"),z0="RegexToken",l(jB,"isRegexToken"),G0="RuleCall",l(jc,"isRuleCall"),U0="TerminalAlternatives",l(HB,"isTerminalAlternatives"),q0="TerminalGroup",l(VB,"isTerminalGroup"),j0="TerminalRuleCall",l(Wk,"isTerminalRuleCall"),H0="UnorderedGroup",l(Xk,"isUnorderedGroup"),V0="UntilToken",l(YB,"isUntilToken"),Y0="Wildcard",l(WB,"isWildcard"),Kk=(e=class extends Fk{getAllTypes(){return[d0,u0,h0,M0,I0,p0,g0,D0,f0,R0,H1,m0,O0,y0,P0,v0,Y1,B0,b0,x0,$0,W1,F0,w0,k0,T0,E0,C0,S0,z0,X1,G0,_0,A0,U0,q0,mh,j0,L0,K1,tb,N0,H0,V0,V1,Y0]}computeIsSubtype(r,i){switch(r){case M0:case I0:case D0:case R0:case O0:case P0:case B0:case $0:case F0:case z0:case G0:case U0:case q0:case j0:case H0:case V0:case Y0:return this.isSubtype(d0,i);case p0:case k0:case A0:return this.isSubtype(V1,i);case g0:case S0:case _0:case N0:return this.isSubtype(tb,i);case f0:return this.isSubtype(H1,i)||this.isSubtype(V1,i);case m0:case y0:case w0:case E0:return this.isSubtype(H1,i);case b0:case x0:case L0:return this.isSubtype(h0,i);case C0:return this.isSubtype(u0,i)||this.isSubtype(h0,i);case mh:return this.isSubtype(u0,i);default:return!1}}getReferenceType(r){let i=`${r.container.$type}:${r.property}`;switch(i){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return h0;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return u0;case"Grammar:usedGrammars":return v0;case"NamedArgument:parameter":case"ParameterReference:parameter":return T0;case"TerminalRuleCall:rule":return mh;default:throw new Error(`${i} is not a valid reference id.`)}}getTypeMetaData(r){switch(r){case d0:return{name:d0,properties:[{name:"cardinality"},{name:"lookahead"}]};case p0:return{name:p0,properties:[{name:"elements",defaultValue:[]}]};case g0:return{name:g0,properties:[{name:"elementType"}]};case f0:return{name:f0,properties:[{name:"true",defaultValue:!1}]};case m0:return{name:m0,properties:[{name:"left"},{name:"right"}]};case y0:return{name:y0,properties:[{name:"left"},{name:"right"}]};case v0:return{name:v0,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case Y1:return{name:Y1,properties:[{name:"path"}]};case b0:return{name:b0,properties:[{name:"name"}]};case x0:return{name:x0,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case W1:return{name:W1,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case w0:return{name:w0,properties:[{name:"value"}]};case k0:return{name:k0,properties:[{name:"value"}]};case T0:return{name:T0,properties:[{name:"name"}]};case E0:return{name:E0,properties:[{name:"parameter"}]};case C0:return{name:C0,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case S0:return{name:S0,properties:[{name:"referenceType"}]};case X1:return{name:X1,properties:[{name:"name"}]};case _0:return{name:_0,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case A0:return{name:A0,properties:[{name:"value"}]};case mh:return{name:mh,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case L0:return{name:L0,properties:[{name:"name"},{name:"type"}]};case K1:return{name:K1,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case N0:return{name:N0,properties:[{name:"types",defaultValue:[]}]};case M0:return{name:M0,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case I0:return{name:I0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case D0:return{name:D0,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case R0:return{name:R0,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case O0:return{name:O0,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case P0:return{name:P0,properties:[{name:"cardinality"},{name:"lookahead"}]};case B0:return{name:B0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case $0:return{name:$0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case F0:return{name:F0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case z0:return{name:z0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case G0:return{name:G0,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case U0:return{name:U0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case q0:return{name:q0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case j0:return{name:j0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case H0:return{name:H0,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case V0:return{name:V0,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Y0:return{name:Y0,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:r,properties:[]}}}},l(e,"LangiumGrammarAstReflection"),e),lr=new Kk}),XB={};nr(XB,{assignMandatoryProperties:()=>KB,copyAstNode:()=>Jk,findLocalReferences:()=>K8e,findRootNode:()=>rb,getContainerOfType:()=>Z1,getDocument:()=>Ro,hasContainerOfType:()=>X8e,linkContentToContainer:()=>Zk,streamAllContents:()=>yh,streamAst:()=>Vc,streamContents:()=>ib,streamReferences:()=>nb});function Zk(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach((i,n)=>{on(i)&&(i.$container=e,i.$containerProperty=t,i.$containerIndex=n)}):on(r)&&(r.$container=e,r.$containerProperty=t))}function Z1(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function X8e(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function Ro(e){let t=rb(e).$document;if(!t)throw new Error("AST node has no document.");return t}function rb(e){for(;e.$container;)e=e.$container;return e}function ib(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t==null?void 0:t.range;return new Do(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),i=>{for(;i.keyIndex<i.keys.length;){let n=i.keys[i.keyIndex];if(!n.startsWith("$")){let a=e[n];if(on(a)){if(i.keyIndex++,Qk(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;i.arrayIndex<a.length;){let s=i.arrayIndex++,o=a[s];if(on(o)&&Qk(o,r))return{done:!1,value:o}}i.arrayIndex=0}}i.keyIndex++}return ua})}function yh(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new l0(e,r=>ib(r,t))}function Vc(e,t){if(e){if(t!=null&&t.range&&!Qk(e,t.range))return new l0(e,()=>[])}else throw new Error("Root node must be an AstNode.");return new l0(e,r=>ib(r,t),{includeRoot:!0})}function Qk(e,t){var r;if(!t)return!0;let i=(r=e.$cstNode)===null||r===void 0?void 0:r.range;return i?EB(i,t):!1}function nb(e){return new Do(()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0}),t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let i=e[r];if(Za(i))return t.keyIndex++,{done:!1,value:{reference:i,container:e,property:r}};if(Array.isArray(i)){for(;t.arrayIndex<i.length;){let n=t.arrayIndex++,a=i[n];if(Za(a))return{done:!1,value:{reference:a,container:e,property:r,index:n}}}t.arrayIndex=0}}t.keyIndex++}return ua})}function K8e(e,t=Ro(e).parseResult.value){let r=[];return Vc(t).forEach(i=>{nb(i).forEach(n=>{n.reference.ref===e&&r.push(n.reference)})}),ji(r)}function KB(e,t){let r=e.getTypeMetaData(t.$type),i=t;for(let n of r.properties)n.defaultValue!==void 0&&i[n.name]===void 0&&(i[n.name]=ZB(n.defaultValue))}function ZB(e){return Array.isArray(e)?[...e.map(ZB)]:e}function Jk(e,t){let r={$type:e.$type};for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(on(n))r[i]=Jk(n,t);else if(Za(n))r[i]=t(r,i,n.$refNode,n.$refText);else if(Array.isArray(n)){let a=[];for(let s of n)on(s)?a.push(Jk(s,t)):Za(s)?a.push(t(r,i,s.$refNode,s.$refText)):a.push(s);r[i]=a}else r[i]=n;return Zk(r),r}var Ja=B(()=>{"use strict";Tl(),vs(),Cl(),l(Zk,"linkContentToContainer"),l(Z1,"getContainerOfType"),l(X8e,"hasContainerOfType"),l(Ro,"getDocument"),l(rb,"findRootNode"),l(ib,"streamContents"),l(yh,"streamAllContents"),l(Vc,"streamAst"),l(Qk,"isAstNodeInRange"),l(nb,"streamReferences"),l(K8e,"findLocalReferences"),l(KB,"assignMandatoryProperties"),l(ZB,"copyDefaultValue"),l(Jk,"copyAstNode")});function or(e){return e.charCodeAt(0)}function eT(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Q1(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function W0(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function ab(){throw Error("Internal Error - Should never get here!")}function QB(e){return e.type==="Character"}var Z8e=B(()=>{"use strict";l(or,"cc"),l(eT,"insertToSet"),l(Q1,"addFlag"),l(W0,"ASSERT_EXISTS"),l(ab,"ASSERT_NEVER_REACH_HERE"),l(QB,"isCharacter")}),sb,ob,JB,tQe=B(()=>{"use strict";Z8e(),sb=[];for(let e=or("0");e<=or("9");e++)sb.push(e);ob=[or("_")].concat(sb);for(let e=or("a");e<=or("z");e++)ob.push(e);for(let e=or("A");e<=or("Z");e++)ob.push(e);JB=[or(" "),or("\f"),or(`
`),or("\r"),or("	"),or("\v"),or("	"),or("\xA0"),or("\u1680"),or("\u2000"),or("\u2001"),or("\u2002"),or("\u2003"),or("\u2004"),or("\u2005"),or("\u2006"),or("\u2007"),or("\u2008"),or("\u2009"),or("\u200A"),or("\u2028"),or("\u2029"),or("\u202F"),or("\u205F"),or("\u3000"),or("\uFEFF")]}),Q8e,lb,J8e,e$,rQe=B(()=>{"use strict";var e;Z8e(),tQe(),Q8e=/[0-9a-fA-F]/,lb=/[0-9]/,J8e=/[1-9]/,e$=(e=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(r){this.idx=r.idx,this.input=r.input,this.groupIdx=r.groupIdx}pattern(r){this.idx=0,this.input=r,this.groupIdx=0,this.consumeChar("/");let i=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:r.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Q1(n,"global");break;case"i":Q1(n,"ignoreCase");break;case"m":Q1(n,"multiLine");break;case"u":Q1(n,"unicode");break;case"y":Q1(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:i,loc:this.loc(0)}}disjunction(){let r=[],i=this.idx;for(r.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),r.push(this.alternative());return{type:"Disjunction",value:r,loc:this.loc(i)}}alternative(){let r=[],i=this.idx;for(;this.isTerm();)r.push(this.term());return{type:"Alternative",value:r,loc:this.loc(i)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let r=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(r)};case"$":return{type:"EndAnchor",loc:this.loc(r)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(r)};case"B":return{type:"NonWordBoundary",loc:this.loc(r)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let i;switch(this.popChar()){case"=":i="Lookahead";break;case"!":i="NegativeLookahead";break}W0(i);let n=this.disjunction();return this.consumeChar(")"),{type:i,value:n,loc:this.loc(r)}}return ab()}quantifier(r=!1){let i,n=this.idx;switch(this.popChar()){case"*":i={atLeast:0,atMost:1/0};break;case"+":i={atLeast:1,atMost:1/0};break;case"?":i={atLeast:0,atMost:1};break;case"{":let a=this.integerIncludingZero();switch(this.popChar()){case"}":i={atLeast:a,atMost:a};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),i={atLeast:a,atMost:s}):i={atLeast:a,atMost:1/0},this.consumeChar("}");break}if(r===!0&&i===void 0)return;W0(i);break}if(!(r===!0&&i===void 0)&&W0(i))return this.peekChar(0)==="?"?(this.consumeChar("?"),i.greedy=!1):i.greedy=!0,i.type="Quantifier",i.loc=this.loc(n),i}atom(){let r,i=this.idx;switch(this.peekChar()){case".":r=this.dotAll();break;case"\\":r=this.atomEscape();break;case"[":r=this.characterClass();break;case"(":r=this.group();break}return r===void 0&&this.isPatternCharacter()&&(r=this.patternCharacter()),W0(r)?(r.loc=this.loc(i),this.isQuantifier()&&(r.quantifier=this.quantifier()),r):ab()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[or(`
`),or("\r"),or("\u2028"),or("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let r,i=!1;switch(this.popChar()){case"d":r=sb;break;case"D":r=sb,i=!0;break;case"s":r=JB;break;case"S":r=JB,i=!0;break;case"w":r=ob;break;case"W":r=ob,i=!0;break}return W0(r)?{type:"Set",value:r,complement:i}:ab()}controlEscapeAtom(){let r;switch(this.popChar()){case"f":r=or("\f");break;case"n":r=or(`
`);break;case"r":r=or("\r");break;case"t":r=or("	");break;case"v":r=or("\v");break}return W0(r)?{type:"Character",value:r}:ab()}controlLetterEscapeAtom(){this.consumeChar("c");let r=this.popChar();if(/[a-zA-Z]/.test(r)===!1)throw Error("Invalid ");return{type:"Character",value:r.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:or("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let r=this.popChar();return{type:"Character",value:or(r)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let r=this.popChar();return{type:"Character",value:or(r)}}}characterClass(){let r=[],i=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),i=!0);this.isClassAtom();){let n=this.classAtom(),a=n.type==="Character";if(QB(n)&&this.isRangeDash()){this.consumeChar("-");let s=this.classAtom(),o=s.type==="Character";if(QB(s)){if(s.value<n.value)throw Error("Range out of order in character class");r.push({from:n.value,to:s.value})}else eT(n.value,r),r.push(or("-")),eT(s.value,r)}else eT(n.value,r)}return this.consumeChar("]"),{type:"Set",complement:i,value:r}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:or("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let r=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),r=!1;break;default:this.groupIdx++;break}let i=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:r,value:i};return r&&(n.idx=this.groupIdx),n}positiveInteger(){let r=this.popChar();if(J8e.test(r)===!1)throw Error("Expecting a positive integer");for(;lb.test(this.peekChar(0));)r+=this.popChar();return parseInt(r,10)}integerIncludingZero(){let r=this.popChar();if(lb.test(r)===!1)throw Error("Expecting an integer");for(;lb.test(this.peekChar(0));)r+=this.popChar();return parseInt(r,10)}patternCharacter(){let r=this.popChar();switch(r){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:or(r)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return lb.test(this.peekChar(0))}isClassAtom(r=0){switch(this.peekChar(r)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let r=this.saveState();try{return this.quantifier(!0)!==void 0}catch(i){return!1}finally{this.restoreState(r)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(r){let i="";for(let n=0;n<r;n++){let a=this.popChar();if(Q8e.test(a)===!1)throw Error("Expecting a HexDecimal digits");i+=a}return{type:"Character",value:parseInt(i,16)}}peekChar(r=0){return this.input[this.idx+r]}popChar(){let r=this.peekChar(0);return this.consumeChar(void 0),r}consumeChar(r){if(r!==void 0&&this.input[this.idx]!==r)throw Error("Expected: '"+r+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(r){return{begin:r,end:this.idx}}},l(e,"RegExpParser"),e)}),cb,iQe=B(()=>{"use strict";var e;cb=(e=class{visitChildren(r){for(let i in r){let n=r[i];r.hasOwnProperty(i)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(a=>{this.visit(a)},this))}}visit(r){switch(r.type){case"Pattern":this.visitPattern(r);break;case"Flags":this.visitFlags(r);break;case"Disjunction":this.visitDisjunction(r);break;case"Alternative":this.visitAlternative(r);break;case"StartAnchor":this.visitStartAnchor(r);break;case"EndAnchor":this.visitEndAnchor(r);break;case"WordBoundary":this.visitWordBoundary(r);break;case"NonWordBoundary":this.visitNonWordBoundary(r);break;case"Lookahead":this.visitLookahead(r);break;case"NegativeLookahead":this.visitNegativeLookahead(r);break;case"Character":this.visitCharacter(r);break;case"Set":this.visitSet(r);break;case"Group":this.visitGroup(r);break;case"GroupBackReference":this.visitGroupBackReference(r);break;case"Quantifier":this.visitQuantifier(r);break}this.visitChildren(r)}visitPattern(r){}visitFlags(r){}visitDisjunction(r){}visitAlternative(r){}visitStartAnchor(r){}visitEndAnchor(r){}visitWordBoundary(r){}visitNonWordBoundary(r){}visitLookahead(r){}visitNegativeLookahead(r){}visitCharacter(r){}visitSet(r){}visitGroup(r){}visitGroupBackReference(r){}visitQuantifier(r){}},l(e,"BaseRegExpVisitor"),e)}),tT=B(()=>{"use strict";rQe(),iQe()}),t$={};nr(t$,{NEWLINE_REGEXP:()=>s$,escapeRegExp:()=>J1,getCaseInsensitivePattern:()=>i$,getTerminalParts:()=>eEe,isMultilineComment:()=>r$,isWhitespace:()=>ub,partialMatches:()=>n$,partialRegExp:()=>a$,whitespaceCharacters:()=>l$});function eEe(e){try{typeof e!="string"&&(e=e.source),e=`/${e}/`;let t=o$.pattern(e),r=[];for(let i of t.value.value)vh.reset(e),vh.visit(i),r.push({start:vh.startRegexp,end:vh.endRegex});return r}catch(t){return[]}}function r$(e){try{return typeof e=="string"&&(e=new RegExp(e)),e=e.toString(),vh.reset(e),vh.visit(o$.pattern(e)),vh.multiline}catch(t){return!1}}function ub(e){let t=typeof e=="string"?new RegExp(e):e;return l$.some(r=>t.test(r))}function J1(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i$(e){return Array.prototype.map.call(e,t=>/\w/.test(t)?`[${t.toLowerCase()}${t.toUpperCase()}]`:J1(t)).join("")}function n$(e,t){let r=a$(e),i=t.match(r);return!!i&&i[0].length>0}function a$(e){typeof e=="string"&&(e=new RegExp(e));let t=e,r=e.source,i=0;function n(){let a="",s;function o(h){a+=r.substr(i,h),i+=h}l(o,"appendRaw");function u(h){a+="(?:"+r.substr(i,h)+"|$)",i+=h}for(l(u,"appendOptional");i<r.length;)switch(r[i]){case"\\":switch(r[i+1]){case"c":u(3);break;case"x":u(4);break;case"u":t.unicode?r[i+2]==="{"?u(r.indexOf("}",i)-i+1):u(6):u(2);break;case"p":case"P":t.unicode?u(r.indexOf("}",i)-i+1):u(2);break;case"k":u(r.indexOf(">",i)-i+1);break;default:u(2);break}break;case"[":s=/\[(?:\\.|.)*?\]/g,s.lastIndex=i,s=s.exec(r)||[],u(s[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":s=/\{\d+,?\d*\}/g,s.lastIndex=i,s=s.exec(r),s?o(s[0].length):u(1);break;case"(":if(r[i+1]==="?")switch(r[i+2]){case":":a+="(?:",i+=3,a+=n()+"|$)";break;case"=":a+="(?=",i+=3,a+=n()+")";break;case"!":s=i,i+=3,n(),a+=r.substr(s,i-s);break;case"<":switch(r[i+3]){case"=":case"!":s=i,i+=4,n(),a+=r.substr(s,i-s);break;default:o(r.indexOf(">",i)-i+1),a+=n()+"|$)";break}break}else o(1),a+=n()+"|$)";break;case")":return++i,a;default:u(1);break}return a}return l(n,"process"),new RegExp(n(),e.flags)}var s$,o$,tEe,vh,l$,hb=B(()=>{"use strict";var e;tT(),s$=/\r?\n/gm,o$=new e$,tEe=(e=class extends cb{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(r){this.multiline=!1,this.regex=r,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(r){r.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(r){let i=String.fromCharCode(r.value);if(!this.multiline&&i===`
`&&(this.multiline=!0),r.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let n=J1(i);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitSet(r){if(!this.multiline){let i=this.regex.substring(r.loc.begin,r.loc.end),n=new RegExp(i);this.multiline=!!`
`.match(n)}if(r.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let i=this.regex.substring(r.loc.begin,r.loc.end);this.endRegexpStack.push(i),this.isStarting&&(this.startRegexp+=i)}}visitChildren(r){r.type==="Group"&&r.quantifier||super.visitChildren(r)}},l(e,"TerminalRegExpVisitor"),e),vh=new tEe,l(eEe,"getTerminalParts"),l(r$,"isMultilineComment"),l$=`\f
\r	\v \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`.split(""),l(ub,"isWhitespace"),l(J1,"escapeRegExp"),l(i$,"getCaseInsensitivePattern"),l(n$,"partialMatches"),l(a$,"partialRegExp")}),c$={};nr(c$,{findAssignment:()=>y$,findNameAssignment:()=>sT,findNodeForKeyword:()=>m$,findNodeForProperty:()=>iT,findNodesForKeyword:()=>rEe,findNodesForKeywordInternal:()=>aT,findNodesForProperty:()=>f$,getActionAtElement:()=>b$,getActionType:()=>w$,getAllReachableRules:()=>rT,getCrossReferenceTerminal:()=>p$,getEntryRule:()=>u$,getExplicitRuleType:()=>ef,getHiddenRules:()=>h$,getRuleType:()=>k$,getRuleTypeName:()=>oEe,getTypeName:()=>pb,isArrayCardinality:()=>nEe,isArrayOperator:()=>aEe,isCommentTerminal:()=>g$,isDataType:()=>sEe,isDataTypeRule:()=>db,isOptionalCardinality:()=>iEe,terminalRegex:()=>gb});function u$(e){return e.rules.find(t=>Qa(t)&&t.entry)}function h$(e){return e.rules.filter(t=>Sl(t)&&t.hidden)}function rT(e,t){let r=new Set,i=u$(e);if(!i)return new Set(e.rules);let n=[i].concat(h$(e));for(let s of n)d$(s,r,t);let a=new Set;for(let s of e.rules)(r.has(s.name)||Sl(s)&&s.hidden)&&a.add(s);return a}function d$(e,t,r){t.add(e.name),yh(e).forEach(i=>{if(jc(i)||r&&Wk(i)){let n=i.rule.ref;n&&!t.has(n.name)&&d$(n,t,r)}})}function p$(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=sT(e.type.ref);return t==null?void 0:t.terminal}}function g$(e){return e.hidden&&!ub(gb(e))}function f$(e,t){return!e||!t?[]:nT(e,t,e.astNode,!0)}function iT(e,t,r){if(!e||!t)return;let i=nT(e,t,e.astNode,!0);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function nT(e,t,r,i){if(!i){let n=Z1(e.grammarSource,Uc);if(n&&n.feature===t)return[e]}return Gc(e)&&e.astNode===r?e.content.flatMap(n=>nT(n,t,r,!1)):[]}function rEe(e,t){return e?aT(e,t,e==null?void 0:e.astNode):[]}function m$(e,t,r){if(!e)return;let i=aT(e,t,e==null?void 0:e.astNode);if(i.length!==0)return r!==void 0?r=Math.max(0,Math.min(r,i.length-1)):r=0,i[r]}function aT(e,t,r){if(e.astNode!==r)return[];if(qc(e.grammarSource)&&e.grammarSource.value===t)return[e];let i=q1(e).iterator(),n,a=[];do if(n=i.next(),!n.done){let s=n.value;s.astNode===r?qc(s.grammarSource)&&s.grammarSource.value===t&&a.push(s):i.prune()}while(!n.done);return a}function y$(e){var t;let r=e.astNode;for(;r===((t=e.container)===null||t===void 0?void 0:t.astNode);){let i=Z1(e.grammarSource,Uc);if(i)return i;e=e.container}}function sT(e){let t=e;return jk(t)&&(fh(t.$container)?t=t.$container.$container:Qa(t.$container)?t=t.$container:gh(t.$container)),v$(e,t,new Map)}function v$(e,t,r){var i;function n(a,s){let o;return Z1(a,Uc)||(o=v$(s,s,r)),r.set(e,o),o}if(l(n,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of yh(t)){if(Uc(a)&&a.feature.toLowerCase()==="name")return r.set(e,a),a;if(jc(a)&&Qa(a.rule.ref))return n(a,a.rule.ref);if(Vk(a)&&!((i=a.typeRef)===null||i===void 0)&&i.ref)return n(a,a.typeRef.ref)}}function b$(e){let t=e.$container;if(c0(t)){let r=t.elements,i=r.indexOf(e);for(let n=i-1;n>=0;n--){let a=r[n];if(fh(a))return a;{let s=yh(r[n]).find(fh);if(s)return s}}}if(qk(t))return b$(t)}function iEe(e,t){return e==="?"||e==="*"||c0(t)&&!!t.guardCondition}function nEe(e){return e==="*"||e==="+"}function aEe(e){return e==="+="}function db(e){return x$(e,new Set)}function x$(e,t){if(t.has(e))return!0;t.add(e);for(let r of yh(e))if(jc(r)){if(!r.rule.ref||Qa(r.rule.ref)&&!x$(r.rule.ref,t))return!1}else if(Uc(r)||fh(r))return!1;return!!e.definition}function sEe(e){return oT(e.type,new Set)}function oT(e,t){if(t.has(e))return!0;if(t.add(e),IB(e)||$B(e))return!1;if(zB(e))return e.types.every(r=>oT(r,t));if(Vk(e)){if(e.primitiveType!==void 0||e.stringType!==void 0)return!0;if(e.typeRef!==void 0){let r=e.typeRef.ref;return Jv(r)?oT(r.type,t):!1}else return!1}else return!1}function ef(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t&&(Qa(t)||Hk(t)||Jv(t)))return t.name}}function pb(e){var t;if(Qa(e))return db(e)?e.name:(t=ef(e))!==null&&t!==void 0?t:e.name;if(Hk(e)||Jv(e)||FB(e))return e.name;if(fh(e)){let r=w$(e);if(r)return r}else if(jk(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function w$(e){var t;if(e.inferredType)return e.inferredType.name;if(!((t=e.type)===null||t===void 0)&&t.ref)return pb(e.type.ref)}function oEe(e){var t,r,i;return Sl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":db(e)?e.name:(i=ef(e))!==null&&i!==void 0?i:e.name}function k$(e){var t,r,i;return Sl(e)?(r=(t=e.type)===null||t===void 0?void 0:t.name)!==null&&r!==void 0?r:"string":(i=ef(e))!==null&&i!==void 0?i:e.name}function gb(e){let t={s:!1,i:!1,u:!1},r=X0(e.definition,t),i=Object.entries(t).filter(([,n])=>n).map(([n])=>n).join("");return new RegExp(r,i)}function X0(e,t){if(HB(e))return lEe(e);if(VB(e))return cEe(e);if(GB(e))return dEe(e);if(Wk(e)){let r=e.rule.ref;if(!r)throw new Error("Missing rule reference.");return _l(X0(r.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}else{if(qB(e))return hEe(e);if(YB(e))return uEe(e);if(jB(e)){let r=e.regex.lastIndexOf("/"),i=e.regex.substring(1,r),n=e.regex.substring(r+1);return t&&(t.i=n.includes("i"),t.s=n.includes("s"),t.u=n.includes("u")),_l(i,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}else{if(WB(e))return _l(cT,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e==null?void 0:e.$type}`)}}}function lEe(e){return _l(e.elements.map(t=>X0(t)).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function cEe(e){return _l(e.elements.map(t=>X0(t)).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function uEe(e){return _l(`${cT}*?${X0(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function hEe(e){return _l(`(?!${X0(e.terminal)})${cT}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function dEe(e){return e.right?_l(`[${lT(e.left)}-${lT(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):_l(lT(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function lT(e){return J1(e.value)}function _l(e,t){var r;return(t.wrap!==!1||t.lookahead)&&(e=`(${(r=t.lookahead)!==null&&r!==void 0?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}var cT,Al=B(()=>{"use strict";NB(),Hc(),Tl(),Ja(),Cl(),hb(),l(u$,"getEntryRule"),l(h$,"getHiddenRules"),l(rT,"getAllReachableRules"),l(d$,"ruleDfs"),l(p$,"getCrossReferenceTerminal"),l(g$,"isCommentTerminal"),l(f$,"findNodesForProperty"),l(iT,"findNodeForProperty"),l(nT,"findNodesForPropertyInternal"),l(rEe,"findNodesForKeyword"),l(m$,"findNodeForKeyword"),l(aT,"findNodesForKeywordInternal"),l(y$,"findAssignment"),l(sT,"findNameAssignment"),l(v$,"findNameAssignmentInternal"),l(b$,"getActionAtElement"),l(iEe,"isOptionalCardinality"),l(nEe,"isArrayCardinality"),l(aEe,"isArrayOperator"),l(db,"isDataTypeRule"),l(x$,"isDataTypeRuleInternal"),l(sEe,"isDataType"),l(oT,"isDataTypeInternal"),l(ef,"getExplicitRuleType"),l(pb,"getTypeName"),l(w$,"getActionType"),l(oEe,"getRuleTypeName"),l(k$,"getRuleType"),l(gb,"terminalRegex"),cT=/[\s\S]/.source,l(X0,"abstractElementToRegex"),l(lEe,"terminalAlternativesToRegex"),l(cEe,"terminalGroupToRegex"),l(uEe,"untilTokenToRegex"),l(hEe,"negateTokenToRegex"),l(dEe,"characterRangeToRegex"),l(lT,"keywordToRegex"),l(_l,"withCardinality")});function T$(e){let t=[],r=e.Grammar;for(let i of r.rules)Sl(i)&&g$(i)&&r$(gb(i))&&t.push(i.name);return{multilineCommentRules:t,nameRegexp:Uk}}var pEe=B(()=>{"use strict";Cl(),Al(),hb(),Hc(),l(T$,"createGrammarConfig")}),gEe=B(()=>{"use strict"});function uT(e){console&&console.error&&console.error(`Error: ${e}`)}function E$(e){console&&console.warn&&console.warn(`Warning: ${e}`)}var nQe=B(()=>{"use strict";l(uT,"PRINT_ERROR"),l(E$,"PRINT_WARNING")});function C$(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}var aQe=B(()=>{"use strict";l(C$,"timer")});function S$(e){function t(){}l(t,"FakeConstructor"),t.prototype=e;let r=new t;function i(){return typeof r.bar}return l(i,"fakeAccess"),i(),i(),e}var sQe=B(()=>{"use strict";l(S$,"toFastProperties")}),fb=B(()=>{"use strict";nQe(),aQe(),sQe()});function fEe(e){return mEe(e)?e.LABEL:e.name}function mEe(e){return aa(e.LABEL)&&e.LABEL!==""}function yEe(e){return ft(e,mb)}function mb(e){function t(r){return ft(r,mb)}if(l(t,"convertDefinition"),e instanceof ha){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return aa(e.label)&&(r.label=e.label),r}else{if(e instanceof Da)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ln)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof es)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ts)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:mb(new si({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ra)return{type:"RepetitionWithSeparator",idx:e.idx,separator:mb(new si({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ci)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Oa)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof si){let r={type:"Terminal",name:e.terminalType.name,label:fEe(e.terminalType),idx:e.idx};aa(e.label)&&(r.terminalLabel=e.label);let i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=fl(i)?i.source:i),r}else{if(e instanceof K0)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var Oo,ha,K0,Da,Ln,es,ts,Ci,Ra,Oa,si,_$=B(()=>{"use strict";var e,t,r,i,n,a,s,o,u,h,d;Ut(),l(fEe,"tokenLabel"),l(mEe,"hasTokenLabel"),Oo=(e=class{get definition(){return this._definition}set definition(g){this._definition=g}constructor(g){this._definition=g}accept(g){g.visit(this),Re(this.definition,f=>{f.accept(g)})}},l(e,"AbstractProduction"),e),ha=(t=class extends Oo{constructor(g){super([]),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}set definition(g){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(g){g.visit(this)}},l(t,"NonTerminal"),t),K0=(r=class extends Oo{constructor(g){super(g.definition),this.orgText="",Ya(this,qs(g,f=>f!==void 0))}},l(r,"Rule"),r),Da=(i=class extends Oo{constructor(g){super(g.definition),this.ignoreAmbiguities=!1,Ya(this,qs(g,f=>f!==void 0))}},l(i,"Alternative"),i),Ln=(n=class extends Oo{constructor(g){super(g.definition),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}},l(n,"Option"),n),es=(a=class extends Oo{constructor(g){super(g.definition),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}},l(a,"RepetitionMandatory"),a),ts=(s=class extends Oo{constructor(g){super(g.definition),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}},l(s,"RepetitionMandatoryWithSeparator"),s),Ci=(o=class extends Oo{constructor(g){super(g.definition),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}},l(o,"Repetition"),o),Ra=(u=class extends Oo{constructor(g){super(g.definition),this.idx=1,Ya(this,qs(g,f=>f!==void 0))}},l(u,"RepetitionWithSeparator"),u),Oa=(h=class extends Oo{get definition(){return this._definition}set definition(g){this._definition=g}constructor(g){super(g.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ya(this,qs(g,f=>f!==void 0))}},l(h,"Alternation"),h),si=(d=class{constructor(g){this.idx=1,Ya(this,qs(g,f=>f!==void 0))}accept(g){g.visit(this)}},l(d,"Terminal"),d),l(yEe,"serializeGrammar"),l(mb,"serializeProduction")}),Z0,oQe=B(()=>{"use strict";var e;_$(),Z0=(e=class{visit(r){let i=r;switch(i.constructor){case ha:return this.visitNonTerminal(i);case Da:return this.visitAlternative(i);case Ln:return this.visitOption(i);case es:return this.visitRepetitionMandatory(i);case ts:return this.visitRepetitionMandatoryWithSeparator(i);case Ra:return this.visitRepetitionWithSeparator(i);case Ci:return this.visitRepetition(i);case Oa:return this.visitAlternation(i);case si:return this.visitTerminal(i);case K0:return this.visitRule(i);default:throw Error("non exhaustive match")}}visitNonTerminal(r){}visitAlternative(r){}visitOption(r){}visitRepetition(r){}visitRepetitionMandatory(r){}visitRepetitionMandatoryWithSeparator(r){}visitRepetitionWithSeparator(r){}visitAlternation(r){}visitTerminal(r){}visitRule(r){}},l(e,"GAstVisitor"),e)});function vEe(e){return e instanceof Da||e instanceof Ln||e instanceof Ci||e instanceof es||e instanceof ts||e instanceof Ra||e instanceof si||e instanceof K0}function yb(e,t=[]){return e instanceof Ln||e instanceof Ci||e instanceof Ra?!0:e instanceof Oa?mI(e.definition,r=>yb(r,t)):e instanceof ha&&sa(t,e)?!1:e instanceof Oo?(e instanceof ha&&t.push(e),Gs(e.definition,r=>yb(r,t))):!1}function bEe(e){return e instanceof Oa}function Po(e){if(e instanceof ha)return"SUBRULE";if(e instanceof Ln)return"OPTION";if(e instanceof Oa)return"OR";if(e instanceof es)return"AT_LEAST_ONE";if(e instanceof ts)return"AT_LEAST_ONE_SEP";if(e instanceof Ra)return"MANY_SEP";if(e instanceof Ci)return"MANY";if(e instanceof si)return"CONSUME";throw Error("non exhaustive match")}var lQe=B(()=>{"use strict";Ut(),_$(),l(vEe,"isSequenceProd"),l(yb,"isOptionalProd"),l(bEe,"isBranchingProd"),l(Po,"getProductionDslName")}),rs=B(()=>{"use strict";_$(),oQe(),lQe()});function A$(e,t,r){return[new Ln({definition:[new si({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var vb,L$=B(()=>{"use strict";var e;Ut(),rs(),vb=(e=class{walk(r,i=[]){Re(r.definition,(n,a)=>{let s=En(r.definition,a+1);if(n instanceof ha)this.walkProdRef(n,s,i);else if(n instanceof si)this.walkTerminal(n,s,i);else if(n instanceof Da)this.walkFlat(n,s,i);else if(n instanceof Ln)this.walkOption(n,s,i);else if(n instanceof es)this.walkAtLeastOne(n,s,i);else if(n instanceof ts)this.walkAtLeastOneSep(n,s,i);else if(n instanceof Ra)this.walkManySep(n,s,i);else if(n instanceof Ci)this.walkMany(n,s,i);else if(n instanceof Oa)this.walkOr(n,s,i);else throw Error("non exhaustive match")})}walkTerminal(r,i,n){}walkProdRef(r,i,n){}walkFlat(r,i,n){let a=i.concat(n);this.walk(r,a)}walkOption(r,i,n){let a=i.concat(n);this.walk(r,a)}walkAtLeastOne(r,i,n){let a=[new Ln({definition:r.definition})].concat(i,n);this.walk(r,a)}walkAtLeastOneSep(r,i,n){let a=A$(r,i,n);this.walk(r,a)}walkMany(r,i,n){let a=[new Ln({definition:r.definition})].concat(i,n);this.walk(r,a)}walkManySep(r,i,n){let a=A$(r,i,n);this.walk(r,a)}walkOr(r,i,n){let a=i.concat(n);Re(r.definition,s=>{let o=new Da({definition:[s]});this.walk(o,a)})}},l(e,"RestWalker"),e),l(A$,"restForRepetitionWithSeparator")});function tf(e){if(e instanceof ha)return tf(e.referencedRule);if(e instanceof si)return kEe(e);if(vEe(e))return xEe(e);if(bEe(e))return wEe(e);throw Error("non exhaustive match")}function xEe(e){let t=[],r=e.definition,i=0,n=r.length>i,a,s=!0;for(;n&&s;)a=r[i],s=yb(a),t=t.concat(tf(a)),i=i+1,n=r.length>i;return yw(t)}function wEe(e){let t=ft(e.definition,r=>tf(r));return yw(mn(t))}function kEe(e){return[e.terminalType]}var TEe=B(()=>{"use strict";Ut(),rs(),l(tf,"first"),l(xEe,"firstForSequence"),l(wEe,"firstForBranching"),l(kEe,"firstForTerminal")}),N$,EEe=B(()=>{"use strict";N$="_~IN~_"});function CEe(e){let t={};return Re(e,r=>{let i=new _Ee(r).startWalking();Ya(t,i)}),t}function SEe(e,t){return e.name+t+N$}var _Ee,cQe=B(()=>{"use strict";var e;L$(),TEe(),Ut(),EEe(),rs(),_Ee=(e=class extends vb{constructor(r){super(),this.topProd=r,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(r,i,n){}walkProdRef(r,i,n){let a=SEe(r.referencedRule,r.idx)+this.topProd.name,s=i.concat(n),o=new Da({definition:s}),u=tf(o);this.follows[a]=u}},l(e,"ResyncFollowsWalker"),e),l(CEe,"computeAllProdsFollows"),l(SEe,"buildBetweenProdsFollowPrefix")});function bb(e){let t=e.toString();if(xb.hasOwnProperty(t))return xb[t];{let r=LEe.pattern(t);return xb[t]=r,r}}function AEe(){xb={}}var xb,LEe,M$=B(()=>{"use strict";tT(),xb={},LEe=new e$,l(bb,"getRegExpAst"),l(AEe,"clearRegExpParserCache")});function NEe(e,t=!1){try{let r=bb(e);return hT(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===D$)t&&E$(`${kb}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let i="";t&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),uT(`${kb}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+i)}}return[]}function hT(e,t,r){switch(e.type){case"Disjunction":for(let n=0;n<e.value.length;n++)hT(e.value[n],t,r);break;case"Alternative":let i=e.value;for(let n=0;n<i.length;n++){let a=i[n];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=a;switch(s.type){case"Character":wb(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(D$);Re(s.value,u=>{if(typeof u=="number")wb(u,t,r);else{let h=u;if(r===!0)for(let d=h.from;d<=h.to;d++)wb(d,t,r);else{for(let d=h.from;d<=h.to&&d<nf;d++)wb(d,t,r);if(h.to>=nf){let d=h.from>=nf?h.from:nf,p=h.to,g=Yc(d),f=Yc(p);for(let m=g;m<=f;m++)t[m]=m}}}});break;case"Group":hT(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let o=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&dT(s)===!1||s.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return Wr(t)}function wb(e,t,r){let i=Yc(e);t[i]=i,r===!0&&MEe(e,t)}function MEe(e,t){let r=String.fromCharCode(e),i=r.toUpperCase();if(i!==r){let n=Yc(i.charCodeAt(0));t[n]=n}else{let n=r.toLowerCase();if(n!==r){let a=Yc(n.charCodeAt(0));t[a]=a}}}function I$(e,t){return gl(e.value,r=>{if(typeof r=="number")return sa(t,r);{let i=r;return gl(t,n=>i.from<=n&&n<=i.to)!==void 0}})}function dT(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?xr(e.value)?Gs(e.value,dT):dT(e.value):!1}function pT(e,t){if(t instanceof RegExp){let r=bb(t),i=new IEe(e);return i.visit(r),i.found}else return gl(t,r=>sa(e,r.charCodeAt(0)))!==void 0}var D$,kb,IEe,uQe=B(()=>{"use strict";var e;tT(),Ut(),fb(),M$(),iCe(),D$="Complement Sets are not supported for first char optimization",kb=`Unable to use "first char" lexer optimizations:
`,l(NEe,"getOptimizedStartCodesIndices"),l(hT,"firstCharOptimizedIndices"),l(wb,"addOptimizedIdxToResult"),l(MEe,"handleIgnoreCase"),l(I$,"findCode"),l(dT,"isWholeOptional"),IEe=(e=class extends cb{constructor(r){super(),this.targetCharCodes=r,this.found=!1}visitChildren(r){if(this.found!==!0){switch(r.type){case"Lookahead":this.visitLookahead(r);return;case"NegativeLookahead":this.visitNegativeLookahead(r);return}super.visitChildren(r)}}visitCharacter(r){sa(this.targetCharCodes,r.value)&&(this.found=!0)}visitSet(r){r.complement?I$(r,this.targetCharCodes)===void 0&&(this.found=!0):I$(r,this.targetCharCodes)!==void 0&&(this.found=!0)}},l(e,"CharCodeFinder"),e),l(pT,"canMatchCharCode")});function DEe(e,t){t=O2(t,{useSticky:F$,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:l((E,S)=>S(),"tracer")});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{JEe()});let i;r("Reject Lexer.NA",()=>{i=z2(e,E=>E[bh]===da.NA)});let n=!1,a;r("Transform Patterns",()=>{n=!1,a=ft(i,E=>{let S=E[bh];if(fl(S)){let L=S.source;return L.length===1&&L!=="^"&&L!=="$"&&L!=="."&&!S.ignoreCase?L:L.length===2&&L[0]==="\\"&&!sa(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],L[1])?L[1]:t.useSticky?O$(S):R$(S)}else{if(ds(S))return n=!0,{exec:S};if(typeof S=="object")return n=!0,S;if(typeof S=="string"){if(S.length===1)return S;{let L=S.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),b=new RegExp(L);return t.useSticky?O$(b):R$(b)}}else throw Error("non exhaustive match")}})});let s,o,u,h,d;r("misc mapping",()=>{s=ft(i,E=>E.tokenTypeIdx),o=ft(i,E=>{let S=E.GROUP;if(S!==da.SKIPPED){if(aa(S))return S;if(Gr(S))return!1;throw Error("non exhaustive match")}}),u=ft(i,E=>{let S=E.LONGER_ALT;if(S)return xr(S)?ft(S,L=>iI(i,L)):[iI(i,S)]}),h=ft(i,E=>E.PUSH_MODE),d=ft(i,E=>Kt(E,"POP_MODE"))});let p;r("Line Terminator Handling",()=>{let E=$$(t.lineTerminatorCharacters);p=ft(i,S=>!1),t.positionTracking!=="onlyOffset"&&(p=ft(i,S=>Kt(S,"LINE_BREAKS")?!!S.LINE_BREAKS:B$(S,E)===!1&&pT(E,S.PATTERN)))});let g,f,m,x;r("Misc Mapping #2",()=>{g=ft(i,P$),f=ft(a,ZEe),m=Gi(i,(E,S)=>{let L=S.GROUP;return aa(L)&&L!==da.SKIPPED&&(E[L]=[]),E},{}),x=ft(a,(E,S)=>({pattern:a[S],longerAlt:u[S],canLineTerminator:p[S],isCustom:g[S],short:f[S],group:o[S],push:h[S],pop:d[S],tokenTypeIdx:s[S],tokenType:i[S]}))});let T=!0,k=[];return t.safeMode||r("First Char Optimization",()=>{k=Gi(i,(E,S,L)=>{if(typeof S.PATTERN=="string"){let b=S.PATTERN.charCodeAt(0),y=Yc(b);gT(E,y,x[L])}else if(xr(S.START_CHARS_HINT)){let b;Re(S.START_CHARS_HINT,y=>{let v=typeof y=="string"?y.charCodeAt(0):y,w=Yc(v);b!==w&&(b=w,gT(E,w,x[L]))})}else if(fl(S.PATTERN))if(S.PATTERN.unicode)T=!1,t.ensureOptimizations&&uT(`${kb}	Unable to analyze < ${S.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let b=NEe(S.PATTERN,t.ensureOptimizations);Br(b)&&(T=!1),Re(b,y=>{gT(E,y,x[L])})}else t.ensureOptimizations&&uT(`${kb}	TokenType: <${S.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),T=!1;return E},[])}),{emptyGroups:m,patternIdxToConfig:x,charCodeToPatternIdxToConfig:k,hasCustom:n,canBeOptimized:T}}function REe(e,t){let r=[],i=PEe(e);r=r.concat(i.errors);let n=BEe(i.valid),a=n.valid;return r=r.concat(n.errors),r=r.concat(OEe(a)),r=r.concat(qEe(a)),r=r.concat(jEe(a,t)),r=r.concat(HEe(a)),r}function OEe(e){let t=[],r=Ti(e,i=>fl(i[bh]));return t=t.concat($Ee(r)),t=t.concat(zEe(r)),t=t.concat(GEe(r)),t=t.concat(UEe(r)),t=t.concat(FEe(r)),t}function PEe(e){let t=Ti(e,n=>!Kt(n,bh)),r=ft(t,n=>({message:"Token Type: ->"+n.name+"<- missing static 'PATTERN' property",type:Mi.MISSING_PATTERN,tokenTypes:[n]})),i=P2(e,t);return{errors:r,valid:i}}function BEe(e){let t=Ti(e,n=>{let a=n[bh];return!fl(a)&&!ds(a)&&!Kt(a,"exec")&&!aa(a)}),r=ft(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Mi.INVALID_PATTERN,tokenTypes:[n]})),i=P2(e,t);return{errors:r,valid:i}}function $Ee(e){const i=class i extends cb{constructor(){super(...arguments),this.found=!1}visitEndAnchor(a){this.found=!0}};l(i,"EndAnchorFinder");let t=i,r=Ti(e,n=>{let a=n.PATTERN;try{let s=bb(a),o=new t;return o.visit(s),o.found}catch(s){return eCe.test(a.source)}});return ft(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Mi.EOI_ANCHOR_FOUND,tokenTypes:[n]}))}function FEe(e){let t=Ti(e,r=>r.PATTERN.test(""));return ft(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:Mi.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}function zEe(e){const i=class i extends cb{constructor(){super(...arguments),this.found=!1}visitStartAnchor(a){this.found=!0}};l(i,"StartAnchorFinder");let t=i,r=Ti(e,n=>{let a=n.PATTERN;try{let s=bb(a),o=new t;return o.visit(s),o.found}catch(s){return tCe.test(a.source)}});return ft(r,n=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+n.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Mi.SOI_ANCHOR_FOUND,tokenTypes:[n]}))}function GEe(e){let t=Ti(e,r=>{let i=r[bh];return i instanceof RegExp&&(i.multiline||i.global)});return ft(t,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Mi.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function UEe(e){let t=[],r=ft(e,n=>Gi(e,(a,s)=>(n.PATTERN.source===s.PATTERN.source&&!sa(t,s)&&s.PATTERN!==da.NA&&(t.push(s),a.push(s)),a),[]));r=e1(r);let i=Ti(r,n=>n.length>1);return ft(i,n=>{let a=ft(n,s=>s.name);return{message:`The same RegExp pattern ->${Us(n).PATTERN}<-has been used in all of the following Token Types: ${a.join(", ")} <-`,type:Mi.DUPLICATE_PATTERNS_FOUND,tokenTypes:n}})}function qEe(e){let t=Ti(e,r=>{if(!Kt(r,"GROUP"))return!1;let i=r.GROUP;return i!==da.SKIPPED&&i!==da.NA&&!aa(i)});return ft(t,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Mi.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function jEe(e,t){let r=Ti(e,i=>i.PUSH_MODE!==void 0&&!sa(t,i.PUSH_MODE));return ft(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:Mi.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function HEe(e){let t=[],r=Gi(e,(i,n,a)=>{let s=n.PATTERN;return s===da.NA||(aa(s)?i.push({str:s,idx:a,tokenType:n}):fl(s)&&YEe(s)&&i.push({str:s.source,idx:a,tokenType:n})),i},[]);return Re(e,(i,n)=>{Re(r,({str:a,idx:s,tokenType:o})=>{if(n<s&&VEe(a,i.PATTERN)){let u=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${i.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:u,type:Mi.UNREACHABLE_PATTERN,tokenTypes:[i,o]})}})}),t}function VEe(e,t){if(fl(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(ds(t))return t(e,0,[],{});if(Kt(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function YEe(e){return gl([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function R$(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function O$(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function WEe(e,t,r){let i=[];return Kt(e,rf)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+rf+`> property in its definition
`,type:Mi.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Kt(e,Tb)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Tb+`> property in its definition
`,type:Mi.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Kt(e,Tb)&&Kt(e,rf)&&!Kt(e.modes,e.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${rf}: <${e.defaultMode}>which does not exist
`,type:Mi.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Kt(e,Tb)&&Re(e.modes,(n,a)=>{Re(n,(s,o)=>{if(Gr(s))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${a}> at index: <${o}>
`,type:Mi.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Kt(s,"LONGER_ALT")){let u=xr(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];Re(u,h=>{!Gr(h)&&!sa(n,h)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${h.name}> on token <${s.name}> outside of mode <${a}>
`,type:Mi.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),i}function XEe(e,t,r){let i=[],n=!1,a=e1(mn(Wr(e.modes))),s=z2(a,u=>u[bh]===da.NA),o=$$(r);return t&&Re(s,u=>{let h=B$(u,o);if(h!==!1){let d={message:QEe(u,h),type:h.issue,tokenType:u};i.push(d)}else Kt(u,"LINE_BREAKS")?u.LINE_BREAKS===!0&&(n=!0):pT(o,u.PATTERN)&&(n=!0)}),t&&!n&&i.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Mi.NO_LINE_BREAKS_FLAGS}),i}function KEe(e){let t={},r=en(e);return Re(r,i=>{let n=e[i];if(xr(n))t[i]=[];else throw Error("non exhaustive match")}),t}function P$(e){let t=e.PATTERN;if(fl(t))return!1;if(ds(t)||Kt(t,"exec"))return!0;if(aa(t))return!1;throw Error("non exhaustive match")}function ZEe(e){return aa(e)&&e.length===1?e.charCodeAt(0):!1}function B$(e,t){if(Kt(e,"LINE_BREAKS"))return!1;if(fl(e.PATTERN)){try{pT(t,e.PATTERN)}catch(r){return{issue:Mi.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(aa(e.PATTERN))return!1;if(P$(e))return{issue:Mi.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function QEe(e,t){if(t.issue===Mi.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Mi.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function $$(e){return ft(e,t=>aa(t)?t.charCodeAt(0):t)}function gT(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}function Yc(e){return e<nf?e:Eb[e]}function JEe(){if(Br(Eb)){Eb=new Array(65536);for(let e=0;e<65536;e++)Eb[e]=e>255?255+~~(e/255):e}}var bh,rf,Tb,F$,eCe,tCe,rCe,nf,Eb,iCe=B(()=>{"use strict";tT(),mT(),Ut(),fb(),uQe(),M$(),bh="PATTERN",rf="defaultMode",Tb="modes",F$=typeof new RegExp("(?:)").sticky=="boolean",l(DEe,"analyzeTokenTypes"),l(REe,"validatePatterns"),l(OEe,"validateRegExpPattern"),l(PEe,"findMissingPatterns"),l(BEe,"findInvalidPatterns"),eCe=/[^\\][$]/,l($Ee,"findEndOfInputAnchor"),l(FEe,"findEmptyMatchRegExps"),tCe=/[^\\[][\^]|^\^/,l(zEe,"findStartOfInputAnchor"),l(GEe,"findUnsupportedFlags"),l(UEe,"findDuplicatePatterns"),l(qEe,"findInvalidGroupType"),l(jEe,"findModesThatDoNotExist"),l(HEe,"findUnreachablePatterns"),l(VEe,"testTokenType"),l(YEe,"noMetaChar"),l(R$,"addStartOfInput"),l(O$,"addStickyFlag"),l(WEe,"performRuntimeChecks"),l(XEe,"performWarningRuntimeChecks"),l(KEe,"cloneEmptyGroups"),l(P$,"isCustomPattern"),l(ZEe,"isShortPattern"),rCe={test:l(function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let i=e.charCodeAt(r);if(i===10)return this.lastIndex=r+1,!0;if(i===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},"test"),lastIndex:0},l(B$,"checkLineBreaksIssues"),l(QEe,"buildLineBreakIssueMessage"),l($$,"getCharCodes"),l(gT,"addToMapOfArrays"),nf=256,Eb=[],l(Yc,"charCodeToOptimizedIndex"),l(JEe,"initCharCodeToOptimizedIndexMap")});function af(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function Cb(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}function sf(e){let t=nCe(e);aCe(t),oCe(t),sCe(t),Re(t,r=>{r.isParent=r.categoryMatches.length>0})}function nCe(e){let t=tn(e),r=e,i=!0;for(;i;){r=e1(mn(ft(r,a=>a.CATEGORIES)));let n=P2(r,t);t=t.concat(n),Br(n)?i=!1:r=n}return t}function aCe(e){Re(e,t=>{G$(t)||(j$[q$]=t,t.tokenTypeIdx=q$++),U$(t)&&!xr(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),U$(t)||(t.CATEGORIES=[]),lCe(t)||(t.categoryMatches=[]),cCe(t)||(t.categoryMatchesMap={})})}function sCe(e){Re(e,t=>{t.categoryMatches=[],Re(t.categoryMatchesMap,(r,i)=>{t.categoryMatches.push(j$[i].tokenTypeIdx)})})}function oCe(e){Re(e,t=>{z$([],t)})}function z$(e,t){Re(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),Re(t.CATEGORIES,r=>{let i=e.concat(t);sa(i,r)||z$(i,r)})}function G$(e){return Kt(e,"tokenTypeIdx")}function U$(e){return Kt(e,"CATEGORIES")}function lCe(e){return Kt(e,"categoryMatches")}function cCe(e){return Kt(e,"categoryMatchesMap")}function uCe(e){return Kt(e,"tokenTypeIdx")}var q$,j$,of=B(()=>{"use strict";Ut(),l(af,"tokenStructuredMatcher"),l(Cb,"tokenStructuredMatcherNoCategories"),q$=1,j$={},l(sf,"augmentTokenTypes"),l(nCe,"expandCategories"),l(aCe,"assignTokenDefaultProps"),l(sCe,"assignCategoriesTokensProp"),l(oCe,"assignCategoriesMapProp"),l(z$,"singleAssignCategoriesToksMap"),l(G$,"hasShortKeyProperty"),l(U$,"hasCategoriesProperty"),l(lCe,"hasExtendingTokensTypesProperty"),l(cCe,"hasExtendingTokensTypesMapProperty"),l(uCe,"isTokenType")}),fT,hCe=B(()=>{"use strict";fT={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,i,n){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}}}),Mi,lf,da,mT=B(()=>{"use strict";var e;iCe(),Ut(),fb(),of(),hCe(),M$(),(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Mi||(Mi={})),lf={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:fT,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0},Object.freeze(lf),da=(e=class{constructor(r,i=lf){if(this.lexerDefinition=r,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(a,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${a}>`);let{time:u,value:h}=C$(s),d=u>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&d(`${o}<-- <${a}> time: ${u}ms`),this.traceInitIndent--,h}else return s()},typeof i=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Ya({},lf,i);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let a,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===lf.lineTerminatorsPattern)this.config.lineTerminatorsPattern=rCe;else if(this.config.lineTerminatorCharacters===lf.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(i.safeMode&&i.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),xr(r)?a={modes:{defaultMode:tn(r)},defaultMode:rf}:(s=!1,a=tn(r))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(WEe(a,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(XEe(a,this.trackStartLines,this.config.lineTerminatorCharacters))})),a.modes=a.modes?a.modes:{},Re(a.modes,(u,h)=>{a.modes[h]=z2(u,d=>Gr(d))});let o=en(a.modes);if(Re(a.modes,(u,h)=>{this.TRACE_INIT(`Mode: <${h}> processing`,()=>{if(this.modes.push(h),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(REe(u,o))}),Br(this.lexerDefinitionErrors)){sf(u);let d;this.TRACE_INIT("analyzeTokenTypes",()=>{d=DEe(u,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:i.positionTracking,ensureOptimizations:i.ensureOptimizations,safeMode:i.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[h]=d.patternIdxToConfig,this.charCodeToPatternIdxToConfig[h]=d.charCodeToPatternIdxToConfig,this.emptyGroups=Ya({},this.emptyGroups,d.emptyGroups),this.hasCustom=d.hasCustom||this.hasCustom,this.canModeBeOptimized[h]=d.canBeOptimized}})}),this.defaultMode=a.defaultMode,!Br(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let u=ft(this.lexerDefinitionErrors,h=>h.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+u)}Re(this.lexerDefinitionWarning,u=>{E$(u.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(F$?(this.chopInput=cl,this.match=this.matchWithTest):(this.updateLastIndex=Ji,this.match=this.matchWithExec),s&&(this.handleModes=Ji),this.trackStartLines===!1&&(this.computeNewColumn=cl),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Ji),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let u=Gi(this.canModeBeOptimized,(h,d,p)=>(d===!1&&h.push(p),h),[]);if(i.ensureOptimizations&&!Br(u))throw Error(`Lexer Modes: < ${u.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{AEe()}),this.TRACE_INIT("toFastProperties",()=>{S$(this)})})}tokenize(r,i=this.defaultMode){if(!Br(this.lexerDefinitionErrors)){let n=ft(this.lexerDefinitionErrors,a=>a.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+n)}return this.tokenizeInternal(r,i)}tokenizeInternal(r,i){let n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L=r,b=L.length,y=0,v=0,w=this.hasCustom?0:Math.floor(r.length/10),C=new Array(w),A=[],M=this.trackStartLines?1:void 0,N=this.trackStartLines?1:void 0,O=KEe(this.emptyGroups),_=this.trackStartLines,I=this.config.lineTerminatorsPattern,R=0,P=[],D=[],$=[],F=[];Object.freeze(F);let z;function U(){return P}l(U,"getPossiblePatternsSlow");function j(oe){let W=Yc(oe),J=D[W];return J===void 0?F:J}l(j,"getPossiblePatternsOptimized");let H=l(oe=>{if($.length===1&&oe.tokenType.PUSH_MODE===void 0){let W=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(oe);A.push({offset:oe.startOffset,line:oe.startLine,column:oe.startColumn,length:oe.image.length,message:W})}else{$.pop();let W=ko($);P=this.patternIdxToConfig[W],D=this.charCodeToPatternIdxToConfig[W],R=P.length;let J=this.canModeBeOptimized[W]&&this.config.safeMode===!1;D&&J?z=j:z=U}},"pop_mode");function Q(oe){$.push(oe),D=this.charCodeToPatternIdxToConfig[oe],P=this.patternIdxToConfig[oe],R=P.length,R=P.length;let W=this.canModeBeOptimized[oe]&&this.config.safeMode===!1;D&&W?z=j:z=U}l(Q,"push_mode"),Q.call(this,i);let re,le=this.config.recoveryEnabled;for(;y<b;){h=null;let oe=L.charCodeAt(y),W=z(oe),J=W.length;for(n=0;n<J;n++){re=W[n];let Y=re.pattern;d=null;let X=re.short;if(X!==!1?oe===X&&(h=Y):re.isCustom===!0?(S=Y.exec(L,y,C,O),S!==null?(h=S[0],S.payload!==void 0&&(d=S.payload)):h=null):(this.updateLastIndex(Y,y),h=this.match(Y,r,y)),h!==null){if(u=re.longerAlt,u!==void 0){let te=u.length;for(s=0;s<te;s++){let ce=P[u[s]],K=ce.pattern;if(p=null,ce.isCustom===!0?(S=K.exec(L,y,C,O),S!==null?(o=S[0],S.payload!==void 0&&(p=S.payload)):o=null):(this.updateLastIndex(K,y),o=this.match(K,r,y)),o&&o.length>h.length){h=o,d=p,re=ce;break}}}break}}if(h!==null){if(g=h.length,f=re.group,f!==void 0&&(m=re.tokenTypeIdx,x=this.createTokenInstance(h,y,m,re.tokenType,M,N,g),this.handlePayload(x,d),f===!1?v=this.addToken(C,v,x):O[f].push(x)),r=this.chopInput(r,g),y=y+g,N=this.computeNewColumn(N,g),_===!0&&re.canLineTerminator===!0){let Y=0,X,te;I.lastIndex=0;do X=I.test(h),X===!0&&(te=I.lastIndex-1,Y++);while(X===!0);Y!==0&&(M=M+Y,N=g-te,this.updateTokenEndLineColumnLocation(x,f,te,Y,M,N,g))}this.handleModes(re,H,Q,x)}else{let Y=y,X=M,te=N,ce=le===!1;for(;ce===!1&&y<b;)for(r=this.chopInput(r,1),y++,a=0;a<R;a++){let K=P[a],me=K.pattern,Z=K.short;if(Z!==!1?L.charCodeAt(y)===Z&&(ce=!0):K.isCustom===!0?ce=me.exec(L,y,C,O)!==null:(this.updateLastIndex(me,y),ce=me.exec(r)!==null),ce===!0)break}if(T=y-Y,N=this.computeNewColumn(N,T),E=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(L,Y,T,X,te),A.push({offset:Y,line:X,column:te,length:T,message:E}),le===!1)break}}return this.hasCustom||(C.length=v),{tokens:C,groups:O,errors:A}}handleModes(r,i,n,a){if(r.pop===!0){let s=r.push;i(a),s!==void 0&&n.call(this,s)}else r.push!==void 0&&n.call(this,r.push)}chopInput(r,i){return r.substring(i)}updateLastIndex(r,i){r.lastIndex=i}updateTokenEndLineColumnLocation(r,i,n,a,s,o,u){let h,d;i!==void 0&&(h=n===u-1,d=h?-1:0,a===1&&h===!0||(r.endLine=s+d,r.endColumn=o-1+-d))}computeNewColumn(r,i){return r+i}createOffsetOnlyToken(r,i,n,a){return{image:r,startOffset:i,tokenTypeIdx:n,tokenType:a}}createStartOnlyToken(r,i,n,a,s,o){return{image:r,startOffset:i,startLine:s,startColumn:o,tokenTypeIdx:n,tokenType:a}}createFullToken(r,i,n,a,s,o,u){return{image:r,startOffset:i,endOffset:i+u-1,startLine:s,endLine:s,startColumn:o,endColumn:o+u-1,tokenTypeIdx:n,tokenType:a}}addTokenUsingPush(r,i,n){return r.push(n),i}addTokenUsingMemberAccess(r,i,n){return r[i]=n,i++,i}handlePayloadNoCustom(r,i){}handlePayloadWithCustom(r,i){i!==null&&(r.payload=i)}matchWithTest(r,i,n){return r.test(i)===!0?i.substring(n,r.lastIndex):null}matchWithExec(r,i){let n=r.exec(i);return n!==null?n[0]:null}},l(e,"Lexer"),e),da.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",da.NA=/NOT_APPLICABLE/});function Q0(e){return H$(e)?e.LABEL:e.name}function H$(e){return aa(e.LABEL)&&e.LABEL!==""}function cf(e){return dCe(e)}function dCe(e){let t=e.pattern,r={};if(r.name=e.name,Gr(t)||(r.PATTERN=t),Kt(e,pCe))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Kt(e,Y$)&&(r.CATEGORIES=e[Y$]),sf([r]),Kt(e,W$)&&(r.LABEL=e[W$]),Kt(e,X$)&&(r.GROUP=e[X$]),Kt(e,Z$)&&(r.POP_MODE=e[Z$]),Kt(e,K$)&&(r.PUSH_MODE=e[K$]),Kt(e,Q$)&&(r.LONGER_ALT=e[Q$]),Kt(e,J$)&&(r.LINE_BREAKS=e[J$]),Kt(e,eF)&&(r.START_CHARS_HINT=e[eF]),r}function Sb(e,t,r,i,n,a,s,o){return{image:t,startOffset:r,endOffset:i,startLine:n,endLine:a,startColumn:s,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function V$(e,t){return af(e,t)}var pCe,Y$,W$,X$,K$,Z$,Q$,J$,eF,Wc,uf=B(()=>{"use strict";Ut(),mT(),of(),l(Q0,"tokenLabel"),l(H$,"hasTokenLabel"),pCe="parent",Y$="categories",W$="label",X$="group",K$="push_mode",Z$="pop_mode",Q$="longer_alt",J$="line_breaks",eF="start_chars_hint",l(cf,"createToken"),l(dCe,"createTokenInternal"),Wc=cf({name:"EOF",pattern:da.NA}),sf([Wc]),l(Sb,"createTokenInstance"),l(V$,"tokenMatcher")}),J0,gCe,xh,_b=B(()=>{"use strict";uf(),Ut(),rs(),J0={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:i}){return`Expecting ${H$(e)?`--> ${Q0(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:i,ruleName:n}){let a="Expecting: ",s=`
but found: '`+Us(t).image+"'";if(i)return a+i+s;{let o=Gi(e,(d,p)=>d.concat(p),[]),u=ft(o,d=>`[${ft(d,p=>Q0(p)).join(", ")}]`),h=`one of these possible Token sequences:
${ft(u,(d,p)=>`  ${p+1}. ${d}`).join(`
`)}`;return a+h+s}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:i}){let n="Expecting: ",a=`
but found: '`+Us(t).image+"'";if(r)return n+r+a;{let s=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ft(e,o=>`[${ft(o,u=>Q0(u)).join(",")}]`).join(" ,")}>`;return n+s+a}}},Object.freeze(J0),gCe={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},xh={buildDuplicateFoundError(e,t){function r(d){return d instanceof si?d.terminalType.name:d instanceof ha?d.nonTerminalName:""}l(r,"getExtraProductionArgument");let i=e.name,n=Us(t),a=n.idx,s=Po(n),o=r(n),u=a>0,h=`->${s}${u?a:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${i}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return h=h.replace(/[ \t]+/g," "),h=h.replace(/\s\s+/g,`
`),h},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=ft(e.prefixPath,i=>Q0(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=ft(e.prefixPath,n=>Q0(n)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i},buildEmptyRepetitionError(e){let t=Po(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=ft(e.leftRecursionPath,n=>n.name),i=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${i}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof K0?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}}});function fCe(e,t){let r=new mCe(e,t);return r.resolveRefs(),r.errors}var mCe,hQe=B(()=>{"use strict";var e;bs(),Ut(),rs(),l(fCe,"resolveGrammar"),mCe=(e=class extends Z0{constructor(r,i){super(),this.nameToTopRule=r,this.errMsgProvider=i,this.errors=[]}resolveRefs(){Re(Wr(this.nameToTopRule),r=>{this.currTopLevel=r,r.accept(this)})}visitNonTerminal(r){let i=this.nameToTopRule[r.nonTerminalName];if(i)r.referencedRule=i;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,r);this.errors.push({message:n,type:Pa.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:r.nonTerminalName})}}},l(e,"GastRefResolverVisitor"),e)});function yT(e,t,r=[]){r=tn(r);let i=[],n=0;function a(o){return o.concat(En(e,n+1))}l(a,"remainingPathWith");function s(o){let u=yT(a(o),t,r);return i.concat(u)}for(l(s,"getAlternativesForProd");r.length<t&&n<e.length;){let o=e[n];if(o instanceof Da||o instanceof ha)return s(o.definition);if(o instanceof Ln)i=s(o.definition);else if(o instanceof es){let u=o.definition.concat([new Ci({definition:o.definition})]);return s(u)}else if(o instanceof ts){let u=[new Da({definition:o.definition}),new Ci({definition:[new si({terminalType:o.separator})].concat(o.definition)})];return s(u)}else if(o instanceof Ra){let u=o.definition.concat([new Ci({definition:[new si({terminalType:o.separator})].concat(o.definition)})]);i=s(u)}else if(o instanceof Ci){let u=o.definition.concat([new Ci({definition:o.definition})]);i=s(u)}else{if(o instanceof Oa)return Re(o.definition,u=>{Br(u.definition)===!1&&(i=s(u.definition))}),i;if(o instanceof si)r.push(o.terminalType);else throw Error("non exhaustive match")}n++}return i.push({partialPath:r,suffixDef:En(e,n)}),i}function tF(e,t,r,i){let n="EXIT_NONE_TERMINAL",a=[n],s="EXIT_ALTERNATIVE",o=!1,u=t.length,h=u-i-1,d=[],p=[];for(p.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Br(p);){let g=p.pop();if(g===s){o&&ko(p).idx<=h&&p.pop();continue}let f=g.def,m=g.idx,x=g.ruleStack,T=g.occurrenceStack;if(Br(f))continue;let k=f[0];if(k===n){let E={idx:m,def:En(f),ruleStack:t1(x),occurrenceStack:t1(T)};p.push(E)}else if(k instanceof si)if(m<u-1){let E=m+1,S=t[E];if(r(S,k.terminalType)){let L={idx:E,def:En(f),ruleStack:x,occurrenceStack:T};p.push(L)}}else if(m===u-1)d.push({nextTokenType:k.terminalType,nextTokenOccurrence:k.idx,ruleStack:x,occurrenceStack:T}),o=!0;else throw Error("non exhaustive match");else if(k instanceof ha){let E=tn(x);E.push(k.nonTerminalName);let S=tn(T);S.push(k.idx);let L={idx:m,def:k.definition.concat(a,En(f)),ruleStack:E,occurrenceStack:S};p.push(L)}else if(k instanceof Ln){let E={idx:m,def:En(f),ruleStack:x,occurrenceStack:T};p.push(E),p.push(s);let S={idx:m,def:k.definition.concat(En(f)),ruleStack:x,occurrenceStack:T};p.push(S)}else if(k instanceof es){let E=new Ci({definition:k.definition,idx:k.idx}),S=k.definition.concat([E],En(f)),L={idx:m,def:S,ruleStack:x,occurrenceStack:T};p.push(L)}else if(k instanceof ts){let E=new si({terminalType:k.separator}),S=new Ci({definition:[E].concat(k.definition),idx:k.idx}),L=k.definition.concat([S],En(f)),b={idx:m,def:L,ruleStack:x,occurrenceStack:T};p.push(b)}else if(k instanceof Ra){let E={idx:m,def:En(f),ruleStack:x,occurrenceStack:T};p.push(E),p.push(s);let S=new si({terminalType:k.separator}),L=new Ci({definition:[S].concat(k.definition),idx:k.idx}),b=k.definition.concat([L],En(f)),y={idx:m,def:b,ruleStack:x,occurrenceStack:T};p.push(y)}else if(k instanceof Ci){let E={idx:m,def:En(f),ruleStack:x,occurrenceStack:T};p.push(E),p.push(s);let S=new Ci({definition:k.definition,idx:k.idx}),L=k.definition.concat([S],En(f)),b={idx:m,def:L,ruleStack:x,occurrenceStack:T};p.push(b)}else if(k instanceof Oa)for(let E=k.definition.length-1;E>=0;E--){let S=k.definition[E],L={idx:m,def:S.definition.concat(En(f)),ruleStack:x,occurrenceStack:T};p.push(L),p.push(s)}else if(k instanceof Da)p.push({idx:m,def:k.definition.concat(En(f)),ruleStack:x,occurrenceStack:T});else if(k instanceof K0)p.push(yCe(k,m,x,T));else throw Error("non exhaustive match")}return d}function yCe(e,t,r,i){let n=tn(r);n.push(e.name);let a=tn(i);return a.push(1),{idx:t,def:e.definition,ruleStack:n,occurrenceStack:a}}var vCe,bCe,Ab,xCe,rF,wCe,iF,vT=B(()=>{"use strict";var e,t,r,i,n,a,s;Ut(),TEe(),L$(),rs(),vCe=(e=class extends vb{constructor(u,h){super(),this.topProd=u,this.path=h,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=tn(this.path.ruleStack).reverse(),this.occurrenceStack=tn(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(u,h=[]){this.found||super.walk(u,h)}walkProdRef(u,h,d){if(u.referencedRule.name===this.nextProductionName&&u.idx===this.nextProductionOccurrence){let p=h.concat(d);this.updateExpectedNext(),this.walk(u.referencedRule,p)}}updateExpectedNext(){Br(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},l(e,"AbstractNextPossibleTokensWalker"),e),bCe=(t=class extends vCe{constructor(u,h){super(u,h),this.path=h,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(u,h,d){if(this.isAtEndOfPath&&u.terminalType.name===this.nextTerminalName&&u.idx===this.nextTerminalOccurrence&&!this.found){let p=h.concat(d),g=new Da({definition:p});this.possibleTokTypes=tf(g),this.found=!0}}},l(t,"NextAfterTokenWalker"),t),Ab=(r=class extends vb{constructor(u,h){super(),this.topRule=u,this.occurrence=h,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},l(r,"AbstractNextTerminalAfterProductionWalker"),r),xCe=(i=class extends Ab{walkMany(u,h,d){if(u.idx===this.occurrence){let p=Us(h.concat(d));this.result.isEndOfRule=p===void 0,p instanceof si&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkMany(u,h,d)}},l(i,"NextTerminalAfterManyWalker"),i),rF=(n=class extends Ab{walkManySep(u,h,d){if(u.idx===this.occurrence){let p=Us(h.concat(d));this.result.isEndOfRule=p===void 0,p instanceof si&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkManySep(u,h,d)}},l(n,"NextTerminalAfterManySepWalker"),n),wCe=(a=class extends Ab{walkAtLeastOne(u,h,d){if(u.idx===this.occurrence){let p=Us(h.concat(d));this.result.isEndOfRule=p===void 0,p instanceof si&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkAtLeastOne(u,h,d)}},l(a,"NextTerminalAfterAtLeastOneWalker"),a),iF=(s=class extends Ab{walkAtLeastOneSep(u,h,d){if(u.idx===this.occurrence){let p=Us(h.concat(d));this.result.isEndOfRule=p===void 0,p instanceof si&&(this.result.token=p.terminalType,this.result.occurrence=p.idx)}else super.walkAtLeastOneSep(u,h,d)}},l(s,"NextTerminalAfterAtLeastOneSepWalker"),s),l(yT,"possiblePathsFrom"),l(tF,"nextPossibleTokensAfter"),l(yCe,"expandTopLevelRule")});function bT(e){if(e instanceof Ln||e==="Option")return Si.OPTION;if(e instanceof Ci||e==="Repetition")return Si.REPETITION;if(e instanceof es||e==="RepetitionMandatory")return Si.REPETITION_MANDATORY;if(e instanceof ts||e==="RepetitionMandatoryWithSeparator")return Si.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Ra||e==="RepetitionWithSeparator")return Si.REPETITION_WITH_SEPARATOR;if(e instanceof Oa||e==="Alternation")return Si.ALTERNATION;throw Error("non exhaustive match")}function nF(e){let{occurrence:t,rule:r,prodType:i,maxLookahead:n}=e,a=bT(i);return a===Si.ALTERNATION?Lb(t,r,n):Nb(t,r,a,n)}function kCe(e,t,r,i,n,a){let s=Lb(e,t,r),o=oF(s)?Cb:af;return a(s,i,o,n)}function TCe(e,t,r,i,n,a){let s=Nb(e,t,n,r),o=oF(s)?Cb:af;return a(s[0],o,i)}function ECe(e,t,r,i){let n=e.length,a=Gs(e,s=>Gs(s,o=>o.length===1));if(t)return function(s){let o=ft(s,u=>u.GATE);for(let u=0;u<n;u++){let h=e[u],d=h.length,p=o[u];if(!(p!==void 0&&p.call(this)===!1))e:for(let g=0;g<d;g++){let f=h[g],m=f.length;for(let x=0;x<m;x++){let T=this.LA(x+1);if(r(T,f[x])===!1)continue e}return u}}};if(a&&!i){let s=ft(e,u=>mn(u)),o=Gi(s,(u,h,d)=>(Re(h,p=>{Kt(u,p.tokenTypeIdx)||(u[p.tokenTypeIdx]=d),Re(p.categoryMatches,g=>{Kt(u,g)||(u[g]=d)})}),u),{});return function(){let u=this.LA(1);return o[u.tokenTypeIdx]}}else return function(){for(let s=0;s<n;s++){let o=e[s],u=o.length;e:for(let h=0;h<u;h++){let d=o[h],p=d.length;for(let g=0;g<p;g++){let f=this.LA(g+1);if(r(f,d[g])===!1)continue e}return s}}}}function CCe(e,t,r){let i=Gs(e,a=>a.length===1),n=e.length;if(i&&!r){let a=mn(e);if(a.length===1&&Br(a[0].categoryMatches)){let s=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{let s=Gi(a,(o,u,h)=>(o[u.tokenTypeIdx]=!0,Re(u.categoryMatches,d=>{o[d]=!0}),o),[]);return function(){let o=this.LA(1);return s[o.tokenTypeIdx]===!0}}}else return function(){e:for(let a=0;a<n;a++){let s=e[a],o=s.length;for(let u=0;u<o;u++){let h=this.LA(u+1);if(t(h,s[u])===!1)continue e}return!0}return!1}}function aF(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function xT(e){let t=[""];for(let r=0;r<e.length;r++){let i=e[r],n=[];for(let a=0;a<t.length;a++){let s=t[a];n.push(s+"_"+i.tokenTypeIdx);for(let o=0;o<i.categoryMatches.length;o++){let u="_"+i.categoryMatches[o];n.push(s+u)}}t=n}return t}function SCe(e,t,r){for(let i=0;i<e.length;i++){if(i===r)continue;let n=e[i];for(let a=0;a<t.length;a++){let s=t[a];if(n[s]===!0)return!1}}return!0}function sF(e,t){let r=ft(e,s=>yT([s],1)),i=aF(r.length),n=ft(r,s=>{let o={};return Re(s,u=>{let h=xT(u.partialPath);Re(h,d=>{o[d]=!0})}),o}),a=r;for(let s=1;s<=t;s++){let o=a;a=aF(o.length);for(let u=0;u<o.length;u++){let h=o[u];for(let d=0;d<h.length;d++){let p=h[d].partialPath,g=h[d].suffixDef,f=xT(p);if(SCe(n,f,u)||Br(g)||p.length===t){let m=i[u];if(wT(m,p)===!1){m.push(p);for(let x=0;x<f.length;x++){let T=f[x];n[u][T]=!0}}}else{let m=yT(g,s+1,p);a[u]=a[u].concat(m),Re(m,x=>{let T=xT(x.partialPath);Re(T,k=>{n[u][k]=!0})})}}}}return i}function Lb(e,t,r,i){let n=new lF(e,Si.ALTERNATION,i);return t.accept(n),sF(n.result,r)}function Nb(e,t,r,i){let n=new lF(e,r);t.accept(n);let a=n.result,s=new ACe(t,e,r).startWalking(),o=new Da({definition:a}),u=new Da({definition:s});return sF([o,u],i)}function wT(e,t){e:for(let r=0;r<e.length;r++){let i=e[r];if(i.length===t.length){for(let n=0;n<i.length;n++){let a=t[n],s=i[n];if(!(a===s||s.categoryMatchesMap[a.tokenTypeIdx]!==void 0))continue e}return!0}}return!1}function _Ce(e,t){return e.length<t.length&&Gs(e,(r,i)=>{let n=t[i];return r===n||n.categoryMatchesMap[r.tokenTypeIdx]})}function oF(e){return Gs(e,t=>Gs(t,r=>Gs(r,i=>Br(i.categoryMatches))))}var Si,ACe,lF,Mb=B(()=>{"use strict";var e,t;Ut(),vT(),L$(),of(),rs(),(function(r){r[r.OPTION=0]="OPTION",r[r.REPETITION=1]="REPETITION",r[r.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",r[r.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",r[r.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",r[r.ALTERNATION=5]="ALTERNATION"})(Si||(Si={})),l(bT,"getProdType"),l(nF,"getLookaheadPaths"),l(kCe,"buildLookaheadFuncForOr"),l(TCe,"buildLookaheadFuncForOptionalProd"),l(ECe,"buildAlternativesLookAheadFunc"),l(CCe,"buildSingleAlternativeLookaheadFunction"),ACe=(e=class extends vb{constructor(i,n,a){super(),this.topProd=i,this.targetOccurrence=n,this.targetProdType=a}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(i,n,a,s){return i.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=a.concat(s),!0):!1}walkOption(i,n,a){this.checkIsTarget(i,Si.OPTION,n,a)||super.walkOption(i,n,a)}walkAtLeastOne(i,n,a){this.checkIsTarget(i,Si.REPETITION_MANDATORY,n,a)||super.walkOption(i,n,a)}walkAtLeastOneSep(i,n,a){this.checkIsTarget(i,Si.REPETITION_MANDATORY_WITH_SEPARATOR,n,a)||super.walkOption(i,n,a)}walkMany(i,n,a){this.checkIsTarget(i,Si.REPETITION,n,a)||super.walkOption(i,n,a)}walkManySep(i,n,a){this.checkIsTarget(i,Si.REPETITION_WITH_SEPARATOR,n,a)||super.walkOption(i,n,a)}},l(e,"RestDefinitionFinderWalker"),e),lF=(t=class extends Z0{constructor(i,n,a){super(),this.targetOccurrence=i,this.targetProdType=n,this.targetRef=a,this.result=[]}checkIsTarget(i,n){i.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||i===this.targetRef)&&(this.result=i.definition)}visitOption(i){this.checkIsTarget(i,Si.OPTION)}visitRepetition(i){this.checkIsTarget(i,Si.REPETITION)}visitRepetitionMandatory(i){this.checkIsTarget(i,Si.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(i){this.checkIsTarget(i,Si.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(i){this.checkIsTarget(i,Si.REPETITION_WITH_SEPARATOR)}visitAlternation(i){this.checkIsTarget(i,Si.ALTERNATION)}},l(t,"InsideDefinitionFinderVisitor"),t),l(aF,"initializeArrayOfArrays"),l(xT,"pathToHashKeys"),l(SCe,"isUniquePrefixHash"),l(sF,"lookAheadSequenceFromAlternatives"),l(Lb,"getLookaheadPathsForOr"),l(Nb,"getLookaheadPathsForOptionalProd"),l(wT,"containsPath"),l(_Ce,"isStrictPrefixOfPath"),l(oF,"areTokenCategoriesNotUsed")});function LCe(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return ft(t,r=>Object.assign({type:Pa.CUSTOM_LOOKAHEAD_VALIDATION},r))}function NCe(e,t,r,i){let n=Xa(e,u=>MCe(u,r)),a=GCe(e,t,r),s=Xa(e,u=>BCe(u,r)),o=Xa(e,u=>DCe(u,e,i,r));return n.concat(a,s,o)}function MCe(e,t){let r=new UCe;e.accept(r);let i=r.allProductions,n=Fye(i,ICe),a=qs(n,s=>s.length>1);return ft(Wr(a),s=>{let o=Us(s),u=t.buildDuplicateFoundError(e,s),h=Po(o),d={message:u,type:Pa.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:o.idx},p=cF(o);return p&&(d.parameter=p),d})}function ICe(e){return`${Po(e)}_#_${e.idx}_#_${cF(e)}`}function cF(e){return e instanceof si?e.terminalType.name:e instanceof ha?e.nonTerminalName:""}function DCe(e,t,r,i){let n=[];if(Gi(t,(a,s)=>s.name===e.name?a+1:a,0)>1){let a=i.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});n.push({message:a,type:Pa.DUPLICATE_RULE_NAME,ruleName:e.name})}return n}function RCe(e,t,r){let i=[],n;return sa(t,e)||(n=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,i.push({message:n,type:Pa.INVALID_RULE_OVERRIDE,ruleName:e})),i}function uF(e,t,r,i=[]){let n=[],a=Ib(t.definition);if(Br(a))return[];{let s=e.name;sa(a,e)&&n.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:i}),type:Pa.LEFT_RECURSION,ruleName:s});let o=P2(a,i.concat([e])),u=Xa(o,h=>{let d=tn(i);return d.push(h),uF(e,h,r,d)});return n.concat(u)}}function Ib(e){let t=[];if(Br(e))return t;let r=Us(e);if(r instanceof ha)t.push(r.referencedRule);else if(r instanceof Da||r instanceof Ln||r instanceof es||r instanceof ts||r instanceof Ra||r instanceof Ci)t=t.concat(Ib(r.definition));else if(r instanceof Oa)t=mn(ft(r.definition,a=>Ib(a.definition)));else if(!(r instanceof si))throw Error("non exhaustive match");let i=yb(r),n=e.length>1;if(i&&n){let a=En(e);return t.concat(Ib(a))}else return t}function OCe(e,t){let r=new kT;e.accept(r);let i=r.alternations;return Xa(i,n=>{let a=t1(n.definition);return Xa(a,(s,o)=>{let u=tF([s],[],af,1);return Br(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:n,emptyChoiceIdx:o}),type:Pa.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:n.idx,alternative:o+1}]:[]})})}function PCe(e,t,r){let i=new kT;e.accept(i);let n=i.alternations;return n=z2(n,a=>a.ignoreAmbiguities===!0),Xa(n,a=>{let s=a.idx,o=a.maxLookahead||t,u=Lb(s,e,o,a),h=FCe(u,a,e,r),d=zCe(u,a,e,r);return h.concat(d)})}function BCe(e,t){let r=new kT;e.accept(r);let i=r.alternations;return Xa(i,n=>n.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:n}),type:Pa.TOO_MANY_ALTS,ruleName:e.name,occurrence:n.idx}]:[])}function $Ce(e,t,r){let i=[];return Re(e,n=>{let a=new qCe;n.accept(a);let s=a.allProductions;Re(s,o=>{let u=bT(o),h=o.maxLookahead||t,d=o.idx,p=Nb(d,n,u,h)[0];if(Br(mn(p))){let g=r.buildEmptyRepetitionError({topLevelRule:n,repetition:o});i.push({message:g,type:Pa.NO_NON_EMPTY_LOOKAHEAD,ruleName:n.name})}})}),i}function FCe(e,t,r,i){let n=[],a=Gi(e,(s,o,u)=>(t.definition[u].ignoreAmbiguities===!0||Re(o,h=>{let d=[u];Re(e,(p,g)=>{u!==g&&wT(p,h)&&t.definition[g].ignoreAmbiguities!==!0&&d.push(g)}),d.length>1&&!wT(n,h)&&(n.push(h),s.push({alts:d,path:h}))}),s),[]);return ft(a,s=>{let o=ft(s.alts,u=>u+1);return{message:i.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:o,prefixPath:s.path}),type:Pa.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:s.alts}})}function zCe(e,t,r,i){let n=Gi(e,(a,s,o)=>{let u=ft(s,h=>({idx:o,path:h}));return a.concat(u)},[]);return e1(Xa(n,a=>{if(t.definition[a.idx].ignoreAmbiguities===!0)return[];let s=a.idx,o=a.path,u=Ti(n,h=>t.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<s&&_Ce(h.path,o));return ft(u,h=>{let d=[h.idx+1,s+1],p=t.idx===0?"":t.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:d,prefixPath:h.path}),type:Pa.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:p,alternatives:d}})}))}function GCe(e,t,r){let i=[],n=ft(t,a=>a.name);return Re(e,a=>{let s=a.name;if(sa(n,s)){let o=r.buildNamespaceConflictError(a);i.push({message:o,type:Pa.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),i}var UCe,kT,qCe,TT=B(()=>{"use strict";var e,t,r;Ut(),bs(),rs(),Mb(),vT(),of(),l(LCe,"validateLookahead"),l(NCe,"validateGrammar"),l(MCe,"validateDuplicateProductions"),l(ICe,"identifyProductionForDuplicates"),l(cF,"getExtraProductionArgument"),UCe=(e=class extends Z0{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(n){this.allProductions.push(n)}visitOption(n){this.allProductions.push(n)}visitRepetitionWithSeparator(n){this.allProductions.push(n)}visitRepetitionMandatory(n){this.allProductions.push(n)}visitRepetitionMandatoryWithSeparator(n){this.allProductions.push(n)}visitRepetition(n){this.allProductions.push(n)}visitAlternation(n){this.allProductions.push(n)}visitTerminal(n){this.allProductions.push(n)}},l(e,"OccurrenceValidationCollector"),e),l(DCe,"validateRuleDoesNotAlreadyExist"),l(RCe,"validateRuleIsOverridden"),l(uF,"validateNoLeftRecursion"),l(Ib,"getFirstNoneTerminal"),kT=(t=class extends Z0{constructor(){super(...arguments),this.alternations=[]}visitAlternation(n){this.alternations.push(n)}},l(t,"OrCollector"),t),l(OCe,"validateEmptyOrAlternative"),l(PCe,"validateAmbiguousAlternationAlternatives"),qCe=(r=class extends Z0{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(n){this.allProductions.push(n)}visitRepetitionMandatory(n){this.allProductions.push(n)}visitRepetitionMandatoryWithSeparator(n){this.allProductions.push(n)}visitRepetition(n){this.allProductions.push(n)}},l(r,"RepetitionCollector"),r),l(BCe,"validateTooManyAlts"),l($Ce,"validateSomeNonEmptyLookaheadPath"),l(FCe,"checkAlternativesAmbiguities"),l(zCe,"checkPrefixAlternativesAmbiguities"),l(GCe,"checkTerminalAndNoneTerminalsNameSpace")});function jCe(e){let t=O2(e,{errMsgProvider:gCe}),r={};return Re(e.rules,i=>{r[i.name]=i}),fCe(r,t.errMsgProvider)}function HCe(e){return e=O2(e,{errMsgProvider:xh}),NCe(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var dQe=B(()=>{"use strict";Ut(),hQe(),TT(),_b(),l(jCe,"resolveGrammar"),l(HCe,"validateGrammar")});function Db(e){return sa(fF,e.name)}var hF,dF,pF,gF,fF,Rb,mF,VCe,YCe,WCe,Ob=B(()=>{"use strict";var e,t,r,i,n;Ut(),hF="MismatchedTokenException",dF="NoViableAltException",pF="EarlyExitException",gF="NotAllInputParsedException",fF=[hF,dF,pF,gF],Object.freeze(fF),l(Db,"isRecognitionException"),Rb=(e=class extends Error{constructor(s,o){super(s),this.token=o,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},l(e,"RecognitionException"),e),mF=(t=class extends Rb{constructor(s,o,u){super(s,o),this.previousToken=u,this.name=hF}},l(t,"MismatchedTokenException"),t),VCe=(r=class extends Rb{constructor(s,o,u){super(s,o),this.previousToken=u,this.name=dF}},l(r,"NoViableAltException"),r),YCe=(i=class extends Rb{constructor(s,o){super(s,o),this.name=gF}},l(i,"NotAllInputParsedException"),i),WCe=(n=class extends Rb{constructor(s,o,u){super(s,o),this.previousToken=u,this.name=pF}},l(n,"EarlyExitException"),n)});function XCe(e,t,r,i,n,a,s){let o=this.getKeyForAutomaticLookahead(i,n),u=this.firstAfterRepMap[o];if(u===void 0){let g=this.getCurrRuleFullName(),f=this.getGAstProductions()[g];u=new a(f,n).startWalking(),this.firstAfterRepMap[o]=u}let h=u.token,d=u.occurrence,p=u.isEndOfRule;this.RULE_STACK.length===1&&p&&h===void 0&&(h=Wc,d=1),!(h===void 0||d===void 0)&&this.shouldInRepetitionRecoveryBeTried(h,d,s)&&this.tryInRepetitionRecovery(e,t,r,h)}var ET,yF,KCe,ZCe,QCe=B(()=>{"use strict";var e,t;uf(),Ut(),Ob(),EEe(),bs(),ET={},yF="InRuleRecoveryException",KCe=(e=class extends Error{constructor(i){super(i),this.name=yF}},l(e,"InRuleRecoveryException"),e),ZCe=(t=class{initRecoverable(i){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Kt(i,"recoveryEnabled")?i.recoveryEnabled:Ll.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=XCe)}getTokenToInsert(i){let n=Sb(i,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(i){return!0}canTokenTypeBeDeletedInRecovery(i){return!0}tryInRepetitionRecovery(i,n,a,s){let o=this.findReSyncTokenType(),u=this.exportLexerState(),h=[],d=!1,p=this.LA(1),g=this.LA(1),f=l(()=>{let m=this.LA(0),x=this.errorMessageProvider.buildMismatchTokenMessage({expected:s,actual:p,previous:m,ruleName:this.getCurrRuleFullName()}),T=new mF(x,p,this.LA(0));T.resyncedTokens=t1(h),this.SAVE_ERROR(T)},"generateErrorMessage");for(;!d;)if(this.tokenMatcher(g,s)){f();return}else if(a.call(this)){f(),i.apply(this,n);return}else this.tokenMatcher(g,o)?d=!0:(g=this.SKIP_TOKEN(),this.addToResyncTokens(g,h));this.importLexerState(u)}shouldInRepetitionRecoveryBeTried(i,n,a){return!(a===!1||this.tokenMatcher(this.LA(1),i)||this.isBackTracking()||this.canPerformInRuleRecovery(i,this.getFollowsForInRuleRecovery(i,n)))}getFollowsForInRuleRecovery(i,n){let a=this.getCurrentGrammarPath(i,n);return this.getNextPossibleTokenTypes(a)}tryInRuleRecovery(i,n){if(this.canRecoverWithSingleTokenInsertion(i,n))return this.getTokenToInsert(i);if(this.canRecoverWithSingleTokenDeletion(i)){let a=this.SKIP_TOKEN();return this.consumeToken(),a}throw new KCe("sad sad panda")}canPerformInRuleRecovery(i,n){return this.canRecoverWithSingleTokenInsertion(i,n)||this.canRecoverWithSingleTokenDeletion(i)}canRecoverWithSingleTokenInsertion(i,n){if(!this.canTokenTypeBeInsertedInRecovery(i)||Br(n))return!1;let a=this.LA(1);return gl(n,s=>this.tokenMatcher(a,s))!==void 0}canRecoverWithSingleTokenDeletion(i){return this.canTokenTypeBeDeletedInRecovery(i)?this.tokenMatcher(this.LA(2),i):!1}isInCurrentRuleReSyncSet(i){let n=this.getCurrFollowKey(),a=this.getFollowSetFromFollowKey(n);return sa(a,i)}findReSyncTokenType(){let i=this.flattenFollowSet(),n=this.LA(1),a=2;for(;;){let s=gl(i,o=>V$(n,o));if(s!==void 0)return s;n=this.LA(a),a++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return ET;let i=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),a=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(i),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(a)}}buildFullFollowKeyStack(){let i=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return ft(i,(a,s)=>s===0?ET:{ruleName:this.shortRuleNameToFullName(a),idxInCallingRule:n[s],inRule:this.shortRuleNameToFullName(i[s-1])})}flattenFollowSet(){let i=ft(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return mn(i)}getFollowSetFromFollowKey(i){if(i===ET)return[Wc];let n=i.ruleName+i.idxInCallingRule+N$+i.inRule;return this.resyncFollows[n]}addToResyncTokens(i,n){return this.tokenMatcher(i,Wc)||n.push(i),n}reSyncTo(i){let n=[],a=this.LA(1);for(;this.tokenMatcher(a,i)===!1;)a=this.SKIP_TOKEN(),this.addToResyncTokens(a,n);return t1(n)}attemptInRepetitionRecovery(i,n,a,s,o,u,h){}getCurrentGrammarPath(i,n){let a=this.getHumanReadableRuleStack(),s=tn(this.RULE_OCCURRENCE_STACK);return{ruleStack:a,occurrenceStack:s,lastTok:i,lastTokOccurrence:n}}getHumanReadableRuleStack(){return ft(this.RULE_STACK,i=>this.shortRuleNameToFullName(i))}},l(t,"Recoverable"),t),l(XCe,"attemptInRepetitionRecovery")});function CT(e,t,r){return r|t|e}var vF=B(()=>{"use strict";l(CT,"getKeyForAutomaticLookahead")}),ST,JCe=B(()=>{"use strict";var e;Ut(),_b(),bs(),TT(),Mb(),ST=(e=class{constructor(r){var i;this.maxLookahead=(i=r==null?void 0:r.maxLookahead)!==null&&i!==void 0?i:Ll.maxLookahead}validate(r){let i=this.validateNoLeftRecursion(r.rules);if(Br(i)){let n=this.validateEmptyOrAlternatives(r.rules),a=this.validateAmbiguousAlternationAlternatives(r.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(r.rules,this.maxLookahead);return[...i,...n,...a,...s]}return i}validateNoLeftRecursion(r){return Xa(r,i=>uF(i,i,xh))}validateEmptyOrAlternatives(r){return Xa(r,i=>OCe(i,xh))}validateAmbiguousAlternationAlternatives(r,i){return Xa(r,n=>PCe(n,i,xh))}validateSomeNonEmptyLookaheadPath(r,i){return $Ce(r,i,xh)}buildLookaheadForAlternation(r){return kCe(r.prodOccurrence,r.rule,r.maxLookahead,r.hasPredicates,r.dynamicTokensEnabled,ECe)}buildLookaheadForOptional(r){return TCe(r.prodOccurrence,r.rule,r.maxLookahead,r.dynamicTokensEnabled,bT(r.prodType),CCe)}},l(e,"LLkLookaheadStrategy"),e)});function eSe(e){Pb.reset(),e.accept(Pb);let t=Pb.dslMethods;return Pb.reset(),t}var tSe,rSe,Pb,pQe=B(()=>{"use strict";var e,t;Ut(),bs(),vF(),rs(),JCe(),tSe=(e=class{initLooksAhead(i){this.dynamicTokensEnabled=Kt(i,"dynamicTokensEnabled")?i.dynamicTokensEnabled:Ll.dynamicTokensEnabled,this.maxLookahead=Kt(i,"maxLookahead")?i.maxLookahead:Ll.maxLookahead,this.lookaheadStrategy=Kt(i,"lookaheadStrategy")?i.lookaheadStrategy:new ST({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(i){Re(i,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{let{alternation:a,repetition:s,option:o,repetitionMandatory:u,repetitionMandatoryWithSeparator:h,repetitionWithSeparator:d}=eSe(n);Re(a,p=>{let g=p.idx===0?"":p.idx;this.TRACE_INIT(`${Po(p)}${g}`,()=>{let f=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:p.idx,rule:n,maxLookahead:p.maxLookahead||this.maxLookahead,hasPredicates:p.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),m=CT(this.fullRuleNameToShort[n.name],256,p.idx);this.setLaFuncCache(m,f)})}),Re(s,p=>{this.computeLookaheadFunc(n,p.idx,768,"Repetition",p.maxLookahead,Po(p))}),Re(o,p=>{this.computeLookaheadFunc(n,p.idx,512,"Option",p.maxLookahead,Po(p))}),Re(u,p=>{this.computeLookaheadFunc(n,p.idx,1024,"RepetitionMandatory",p.maxLookahead,Po(p))}),Re(h,p=>{this.computeLookaheadFunc(n,p.idx,1536,"RepetitionMandatoryWithSeparator",p.maxLookahead,Po(p))}),Re(d,p=>{this.computeLookaheadFunc(n,p.idx,1280,"RepetitionWithSeparator",p.maxLookahead,Po(p))})})})}computeLookaheadFunc(i,n,a,s,o,u){this.TRACE_INIT(`${u}${n===0?"":n}`,()=>{let h=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:i,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:s}),d=CT(this.fullRuleNameToShort[i.name],a,n);this.setLaFuncCache(d,h)})}getKeyForAutomaticLookahead(i,n){let a=this.getLastExplicitRuleShortName();return CT(a,i,n)}getLaFuncFromCache(i){return this.lookAheadFuncsCache.get(i)}setLaFuncCache(i,n){this.lookAheadFuncsCache.set(i,n)}},l(e,"LooksAhead"),e),rSe=(t=class extends Z0{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(i){this.dslMethods.option.push(i)}visitRepetitionWithSeparator(i){this.dslMethods.repetitionWithSeparator.push(i)}visitRepetitionMandatory(i){this.dslMethods.repetitionMandatory.push(i)}visitRepetitionMandatoryWithSeparator(i){this.dslMethods.repetitionMandatoryWithSeparator.push(i)}visitRepetition(i){this.dslMethods.repetition.push(i)}visitAlternation(i){this.dslMethods.alternation.push(i)}},l(t,"DslMethodsCollectorVisitor"),t),Pb=new rSe,l(eSe,"collectMethods")});function bF(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function xF(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function iSe(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function nSe(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var gQe=B(()=>{"use strict";l(bF,"setNodeLocationOnlyOffset"),l(xF,"setNodeLocationFull"),l(iSe,"addTerminalToCst"),l(nSe,"addNoneTerminalToCst")});function wF(e,t){Object.defineProperty(e,aSe,{enumerable:!1,configurable:!0,writable:!1,value:t})}var aSe,fQe=B(()=>{"use strict";aSe="name",l(wF,"defineNameProp")});function sSe(e,t){let r=en(e),i=r.length;for(let n=0;n<i;n++){let a=r[n],s=e[a],o=s.length;for(let u=0;u<o;u++){let h=s[u];h.tokenTypeIdx===void 0&&this[h.name](h.children,t)}}}function oSe(e,t){let r=l(function(){},"derivedConstructor");wF(r,e+"BaseSemantics");let i={visit:l(function(n,a){if(xr(n)&&(n=n[0]),!Gr(n))return this[n.name](n.children,a)},"visit"),validateVisitor:l(function(){let n=cSe(this,t);if(!Br(n)){let a=ft(n,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${a.join(`

`).replace(/\n/g,`
	`)}`)}},"validateVisitor")};return r.prototype=i,r.prototype.constructor=r,r._RULE_NAMES=t,r}function lSe(e,t,r){let i=l(function(){},"derivedConstructor");wF(i,e+"BaseSemanticsWithDefaults");let n=Object.create(r.prototype);return Re(t,a=>{n[a]=sSe}),i.prototype=n,i.prototype.constructor=i,i}function cSe(e,t){return uSe(e,t)}function uSe(e,t){let r=Ti(t,n=>ds(e[n])===!1),i=ft(r,n=>({msg:`Missing visitor method: <${n}> on ${e.constructor.name} CST Visitor.`,type:kF.MISSING_METHOD,methodName:n}));return e1(i)}var kF,mQe=B(()=>{"use strict";Ut(),fQe(),l(sSe,"defaultVisit"),l(oSe,"createBaseSemanticVisitorConstructor"),l(lSe,"createBaseVisitorConstructorWithDefaults"),(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(kF||(kF={})),l(cSe,"validateVisitor"),l(uSe,"validateMissingCstMethods")}),hSe,yQe=B(()=>{"use strict";var e;gQe(),Ut(),mQe(),bs(),hSe=(e=class{initTreeBuilder(r){if(this.CST_STACK=[],this.outputCst=r.outputCst,this.nodeLocationTracking=Kt(r,"nodeLocationTracking")?r.nodeLocationTracking:Ll.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Ji,this.cstFinallyStateUpdate=Ji,this.cstPostTerminal=Ji,this.cstPostNonTerminal=Ji,this.cstPostRule=Ji;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=xF,this.setNodeLocationFromNode=xF,this.cstPostRule=Ji,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Ji,this.setNodeLocationFromNode=Ji,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=bF,this.setNodeLocationFromNode=bF,this.cstPostRule=Ji,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Ji,this.setNodeLocationFromNode=Ji,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Ji,this.setNodeLocationFromNode=Ji,this.cstPostRule=Ji,this.setInitialNodeLocation=Ji;else throw Error(`Invalid <nodeLocationTracking> config option: "${r.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(r){r.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(r){r.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(r){r.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(r){let i=this.LA(1);r.location={startOffset:i.startOffset,startLine:i.startLine,startColumn:i.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(r){let i={name:r,children:Object.create(null)};this.setInitialNodeLocation(i),this.CST_STACK.push(i)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(r){let i=this.LA(0),n=r.location;n.startOffset<=i.startOffset?(n.endOffset=i.endOffset,n.endLine=i.endLine,n.endColumn=i.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(r){let i=this.LA(0),n=r.location;n.startOffset<=i.startOffset?n.endOffset=i.endOffset:n.startOffset=NaN}cstPostTerminal(r,i){let n=this.CST_STACK[this.CST_STACK.length-1];iSe(n,i,r),this.setNodeLocationFromToken(n.location,i)}cstPostNonTerminal(r,i){let n=this.CST_STACK[this.CST_STACK.length-1];nSe(n,i,r),this.setNodeLocationFromNode(n.location,r.location)}getBaseCstVisitorConstructor(){if(Gr(this.baseCstVisitorConstructor)){let r=oSe(this.className,en(this.gastProductionsCache));return this.baseCstVisitorConstructor=r,r}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Gr(this.baseCstVisitorWithDefaultsConstructor)){let r=lSe(this.className,en(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=r,r}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let r=this.RULE_STACK;return r[r.length-1]}getPreviousExplicitRuleShortName(){let r=this.RULE_STACK;return r[r.length-2]}getLastExplicitRuleOccurrenceIndex(){let r=this.RULE_OCCURRENCE_STACK;return r[r.length-1]}},l(e,"TreeBuilder"),e)}),dSe,vQe=B(()=>{"use strict";var e;bs(),dSe=(e=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(r){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=r,this.tokVectorLength=r.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Fb}LA(r){let i=this.currIdx+r;return i<0||this.tokVectorLength<=i?Fb:this.tokVector[i]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(r){this.currIdx=r}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},l(e,"LexerAdapter"),e)}),pSe,bQe=B(()=>{"use strict";var e;Ut(),Ob(),bs(),_b(),TT(),rs(),pSe=(e=class{ACTION(r){return r.call(this)}consume(r,i,n){return this.consumeInternal(i,r,n)}subrule(r,i,n){return this.subruleInternal(i,r,n)}option(r,i){return this.optionInternal(i,r)}or(r,i){return this.orInternal(i,r)}many(r,i){return this.manyInternal(r,i)}atLeastOne(r,i){return this.atLeastOneInternal(r,i)}CONSUME(r,i){return this.consumeInternal(r,0,i)}CONSUME1(r,i){return this.consumeInternal(r,1,i)}CONSUME2(r,i){return this.consumeInternal(r,2,i)}CONSUME3(r,i){return this.consumeInternal(r,3,i)}CONSUME4(r,i){return this.consumeInternal(r,4,i)}CONSUME5(r,i){return this.consumeInternal(r,5,i)}CONSUME6(r,i){return this.consumeInternal(r,6,i)}CONSUME7(r,i){return this.consumeInternal(r,7,i)}CONSUME8(r,i){return this.consumeInternal(r,8,i)}CONSUME9(r,i){return this.consumeInternal(r,9,i)}SUBRULE(r,i){return this.subruleInternal(r,0,i)}SUBRULE1(r,i){return this.subruleInternal(r,1,i)}SUBRULE2(r,i){return this.subruleInternal(r,2,i)}SUBRULE3(r,i){return this.subruleInternal(r,3,i)}SUBRULE4(r,i){return this.subruleInternal(r,4,i)}SUBRULE5(r,i){return this.subruleInternal(r,5,i)}SUBRULE6(r,i){return this.subruleInternal(r,6,i)}SUBRULE7(r,i){return this.subruleInternal(r,7,i)}SUBRULE8(r,i){return this.subruleInternal(r,8,i)}SUBRULE9(r,i){return this.subruleInternal(r,9,i)}OPTION(r){return this.optionInternal(r,0)}OPTION1(r){return this.optionInternal(r,1)}OPTION2(r){return this.optionInternal(r,2)}OPTION3(r){return this.optionInternal(r,3)}OPTION4(r){return this.optionInternal(r,4)}OPTION5(r){return this.optionInternal(r,5)}OPTION6(r){return this.optionInternal(r,6)}OPTION7(r){return this.optionInternal(r,7)}OPTION8(r){return this.optionInternal(r,8)}OPTION9(r){return this.optionInternal(r,9)}OR(r){return this.orInternal(r,0)}OR1(r){return this.orInternal(r,1)}OR2(r){return this.orInternal(r,2)}OR3(r){return this.orInternal(r,3)}OR4(r){return this.orInternal(r,4)}OR5(r){return this.orInternal(r,5)}OR6(r){return this.orInternal(r,6)}OR7(r){return this.orInternal(r,7)}OR8(r){return this.orInternal(r,8)}OR9(r){return this.orInternal(r,9)}MANY(r){this.manyInternal(0,r)}MANY1(r){this.manyInternal(1,r)}MANY2(r){this.manyInternal(2,r)}MANY3(r){this.manyInternal(3,r)}MANY4(r){this.manyInternal(4,r)}MANY5(r){this.manyInternal(5,r)}MANY6(r){this.manyInternal(6,r)}MANY7(r){this.manyInternal(7,r)}MANY8(r){this.manyInternal(8,r)}MANY9(r){this.manyInternal(9,r)}MANY_SEP(r){this.manySepFirstInternal(0,r)}MANY_SEP1(r){this.manySepFirstInternal(1,r)}MANY_SEP2(r){this.manySepFirstInternal(2,r)}MANY_SEP3(r){this.manySepFirstInternal(3,r)}MANY_SEP4(r){this.manySepFirstInternal(4,r)}MANY_SEP5(r){this.manySepFirstInternal(5,r)}MANY_SEP6(r){this.manySepFirstInternal(6,r)}MANY_SEP7(r){this.manySepFirstInternal(7,r)}MANY_SEP8(r){this.manySepFirstInternal(8,r)}MANY_SEP9(r){this.manySepFirstInternal(9,r)}AT_LEAST_ONE(r){this.atLeastOneInternal(0,r)}AT_LEAST_ONE1(r){return this.atLeastOneInternal(1,r)}AT_LEAST_ONE2(r){this.atLeastOneInternal(2,r)}AT_LEAST_ONE3(r){this.atLeastOneInternal(3,r)}AT_LEAST_ONE4(r){this.atLeastOneInternal(4,r)}AT_LEAST_ONE5(r){this.atLeastOneInternal(5,r)}AT_LEAST_ONE6(r){this.atLeastOneInternal(6,r)}AT_LEAST_ONE7(r){this.atLeastOneInternal(7,r)}AT_LEAST_ONE8(r){this.atLeastOneInternal(8,r)}AT_LEAST_ONE9(r){this.atLeastOneInternal(9,r)}AT_LEAST_ONE_SEP(r){this.atLeastOneSepFirstInternal(0,r)}AT_LEAST_ONE_SEP1(r){this.atLeastOneSepFirstInternal(1,r)}AT_LEAST_ONE_SEP2(r){this.atLeastOneSepFirstInternal(2,r)}AT_LEAST_ONE_SEP3(r){this.atLeastOneSepFirstInternal(3,r)}AT_LEAST_ONE_SEP4(r){this.atLeastOneSepFirstInternal(4,r)}AT_LEAST_ONE_SEP5(r){this.atLeastOneSepFirstInternal(5,r)}AT_LEAST_ONE_SEP6(r){this.atLeastOneSepFirstInternal(6,r)}AT_LEAST_ONE_SEP7(r){this.atLeastOneSepFirstInternal(7,r)}AT_LEAST_ONE_SEP8(r){this.atLeastOneSepFirstInternal(8,r)}AT_LEAST_ONE_SEP9(r){this.atLeastOneSepFirstInternal(9,r)}RULE(r,i,n=zb){if(sa(this.definedRulesNames,r)){let s={message:xh.buildDuplicateRuleNameError({topLevelRule:r,grammarName:this.className}),type:Pa.DUPLICATE_RULE_NAME,ruleName:r};this.definitionErrors.push(s)}this.definedRulesNames.push(r);let a=this.defineRule(r,i,n);return this[r]=a,a}OVERRIDE_RULE(r,i,n=zb){let a=RCe(r,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(a);let s=this.defineRule(r,i,n);return this[r]=s,s}BACKTRACK(r,i){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return r.apply(this,i),!0}catch(a){if(Db(a))return!1;throw a}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return yEe(Wr(this.gastProductionsCache))}},l(e,"RecognizerApi"),e)}),gSe,xQe=B(()=>{"use strict";var e;Ut(),vF(),Ob(),Mb(),vT(),bs(),QCe(),uf(),of(),gSe=(e=class{initRecognizerEngine(r,i){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Cb,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Kt(i,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(xr(r)){if(Br(r))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof r[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(xr(r))this.tokensMap=Gi(r,(s,o)=>(s[o.name]=o,s),{});else if(Kt(r,"modes")&&Gs(mn(Wr(r.modes)),uCe)){let s=mn(Wr(r.modes)),o=yw(s);this.tokensMap=Gi(o,(u,h)=>(u[h.name]=h,u),{})}else if(ka(r))this.tokensMap=tn(r);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Wc;let n=Kt(r,"modes")?mn(Wr(r.modes)):Wr(r),a=Gs(n,s=>Br(s.categoryMatches));this.tokenMatcher=a?Cb:af,sf(Wr(this.tokensMap))}defineRule(r,i,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${r}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let a=Kt(n,"resyncEnabled")?n.resyncEnabled:zb.resyncEnabled,s=Kt(n,"recoveryValueFunc")?n.recoveryValueFunc:zb.recoveryValueFunc,o=this.ruleShortNameIdx<<12;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=r,this.fullRuleNameToShort[r]=o;let u;return this.outputCst===!0?u=l(function(...h){try{this.ruleInvocationStateUpdate(o,r,this.subruleIdx),i.apply(this,h);let d=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(d),d}catch(d){return this.invokeRuleCatch(d,a,s)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTry"):u=l(function(...h){try{return this.ruleInvocationStateUpdate(o,r,this.subruleIdx),i.apply(this,h)}catch(d){return this.invokeRuleCatch(d,a,s)}finally{this.ruleFinallyStateUpdate()}},"invokeRuleWithTryCst"),Object.assign(u,{ruleName:r,originalGrammarAction:i})}invokeRuleCatch(r,i,n){let a=this.RULE_STACK.length===1,s=i&&!this.isBackTracking()&&this.recoveryEnabled;if(Db(r)){let o=r;if(s){let u=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(u))if(o.resyncedTokens=this.reSyncTo(u),this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];return h.recoveredNode=!0,h}else return n(r);else{if(this.outputCst){let h=this.CST_STACK[this.CST_STACK.length-1];h.recoveredNode=!0,o.partialCstResult=h}throw o}}else{if(a)return this.moveToTerminatedState(),n(r);throw o}}else throw r}optionInternal(r,i){let n=this.getKeyForAutomaticLookahead(512,i);return this.optionInternalLogic(r,i,n)}optionInternalLogic(r,i,n){let a=this.getLaFuncFromCache(n),s;if(typeof r!="function"){s=r.DEF;let o=r.GATE;if(o!==void 0){let u=a;a=l(()=>o.call(this)&&u.call(this),"lookAheadFunc")}}else s=r;if(a.call(this)===!0)return s.call(this)}atLeastOneInternal(r,i){let n=this.getKeyForAutomaticLookahead(1024,r);return this.atLeastOneInternalLogic(r,i,n)}atLeastOneInternalLogic(r,i,n){let a=this.getLaFuncFromCache(n),s;if(typeof i!="function"){s=i.DEF;let o=i.GATE;if(o!==void 0){let u=a;a=l(()=>o.call(this)&&u.call(this),"lookAheadFunc")}}else s=i;if(a.call(this)===!0){let o=this.doSingleRepetition(s);for(;a.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(r,Si.REPETITION_MANDATORY,i.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[r,i],a,1024,r,wCe)}atLeastOneSepFirstInternal(r,i){let n=this.getKeyForAutomaticLookahead(1536,r);this.atLeastOneSepFirstInternalLogic(r,i,n)}atLeastOneSepFirstInternalLogic(r,i,n){let a=i.DEF,s=i.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);let o=l(()=>this.tokenMatcher(this.LA(1),s),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[r,s,o,a,iF],o,1536,r,iF)}else throw this.raiseEarlyExitException(r,Si.REPETITION_MANDATORY_WITH_SEPARATOR,i.ERR_MSG)}manyInternal(r,i){let n=this.getKeyForAutomaticLookahead(768,r);return this.manyInternalLogic(r,i,n)}manyInternalLogic(r,i,n){let a=this.getLaFuncFromCache(n),s;if(typeof i!="function"){s=i.DEF;let u=i.GATE;if(u!==void 0){let h=a;a=l(()=>u.call(this)&&h.call(this),"lookaheadFunction")}}else s=i;let o=!0;for(;a.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[r,i],a,768,r,xCe,o)}manySepFirstInternal(r,i){let n=this.getKeyForAutomaticLookahead(1280,r);this.manySepFirstInternalLogic(r,i,n)}manySepFirstInternalLogic(r,i,n){let a=i.DEF,s=i.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){a.call(this);let o=l(()=>this.tokenMatcher(this.LA(1),s),"separatorLookAheadFunc");for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[r,s,o,a,rF],o,1280,r,rF)}}repetitionSepSecondInternal(r,i,n,a,s){for(;n();)this.CONSUME(i),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[r,i,n,a,s],n,1536,r,s)}doSingleRepetition(r){let i=this.getLexerPosition();return r.call(this),this.getLexerPosition()>i}orInternal(r,i){let n=this.getKeyForAutomaticLookahead(256,i),a=xr(r)?r:r.DEF,s=this.getLaFuncFromCache(n).call(this,a);if(s!==void 0)return a[s].ALT.call(this);this.raiseNoAltException(i,r.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let r=this.LA(1),i=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:r,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new YCe(i,r))}}subruleInternal(r,i,n){let a;try{let s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=i,a=r.apply(this,s),this.cstPostNonTerminal(a,n!==void 0&&n.LABEL!==void 0?n.LABEL:r.ruleName),a}catch(s){throw this.subruleInternalError(s,n,r.ruleName)}}subruleInternalError(r,i,n){throw Db(r)&&r.partialCstResult!==void 0&&(this.cstPostNonTerminal(r.partialCstResult,i!==void 0&&i.LABEL!==void 0?i.LABEL:n),delete r.partialCstResult),r}consumeInternal(r,i,n){let a;try{let s=this.LA(1);this.tokenMatcher(s,r)===!0?(this.consumeToken(),a=s):this.consumeInternalError(r,s,n)}catch(s){a=this.consumeInternalRecovery(r,i,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:r.name,a),a}consumeInternalError(r,i,n){let a,s=this.LA(0);throw n!==void 0&&n.ERR_MSG?a=n.ERR_MSG:a=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:i,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new mF(a,i,s))}consumeInternalRecovery(r,i,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let a=this.getFollowsForInRuleRecovery(r,i);try{return this.tryInRuleRecovery(r,a)}catch(s){throw s.name===yF?n:s}}else throw n}saveRecogState(){let r=this.errors,i=tn(this.RULE_STACK);return{errors:r,lexerState:this.exportLexerState(),RULE_STACK:i,CST_STACK:this.CST_STACK}}reloadRecogState(r){this.errors=r.errors,this.importLexerState(r.lexerState),this.RULE_STACK=r.RULE_STACK}ruleInvocationStateUpdate(r,i,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(r),this.cstInvocationStateUpdate(i)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let r=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[r]}shortRuleNameToFullName(r){return this.shortRuleNameToFull[r]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Wc)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},l(e,"RecognizerEngine"),e)}),fSe,wQe=B(()=>{"use strict";var e;Ob(),Ut(),Mb(),bs(),fSe=(e=class{initErrorHandler(r){this._errors=[],this.errorMessageProvider=Kt(r,"errorMessageProvider")?r.errorMessageProvider:Ll.errorMessageProvider}SAVE_ERROR(r){if(Db(r))return r.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:tn(this.RULE_OCCURRENCE_STACK)},this._errors.push(r),r;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return tn(this._errors)}set errors(r){this._errors=r}raiseEarlyExitException(r,i,n){let a=this.getCurrRuleFullName(),s=this.getGAstProductions()[a],o=Nb(r,s,i,this.maxLookahead)[0],u=[];for(let d=1;d<=this.maxLookahead;d++)u.push(this.LA(d));let h=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:u,previous:this.LA(0),customUserDescription:n,ruleName:a});throw this.SAVE_ERROR(new WCe(h,this.LA(1),this.LA(0)))}raiseNoAltException(r,i){let n=this.getCurrRuleFullName(),a=this.getGAstProductions()[n],s=Lb(r,a,this.maxLookahead),o=[];for(let d=1;d<=this.maxLookahead;d++)o.push(this.LA(d));let u=this.LA(0),h=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:u,customUserDescription:i,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new VCe(h,this.LA(1),u))}},l(e,"ErrorHandler"),e)}),mSe,kQe=B(()=>{"use strict";var e;vT(),Ut(),mSe=(e=class{initContentAssist(){}computeContentAssist(r,i){let n=this.gastProductionsCache[r];if(Gr(n))throw Error(`Rule ->${r}<- does not exist in this grammar.`);return tF([n],i,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(r){let i=Us(r.ruleStack),n=this.getGAstProductions()[i];return new bCe(n,r).startWalking()}},l(e,"ContentAssist"),e)});function hf(e,t,r,i=!1){Bb(r);let n=ko(this.recordingProdStack),a=ds(t)?t:t.DEF,s=new e({definition:[],idx:r});return i&&(s.separator=t.SEP),Kt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),a.call(this),n.definition.push(s),this.recordingProdStack.pop(),$b}function ySe(e,t){Bb(t);let r=ko(this.recordingProdStack),i=xr(e)===!1,n=i===!1?e:e.DEF,a=new Oa({definition:[],idx:t,ignoreAmbiguities:i&&e.IGNORE_AMBIGUITIES===!0});Kt(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let s=mI(n,o=>ds(o.GATE));return a.hasPredicates=s,r.definition.push(a),Re(n,o=>{let u=new Da({definition:[]});a.definition.push(u),Kt(o,"IGNORE_AMBIGUITIES")?u.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:Kt(o,"GATE")&&(u.ignoreAmbiguities=!0),this.recordingProdStack.push(u),o.ALT.call(this),this.recordingProdStack.pop()}),$b}function TF(e){return e===0?"":`${e}`}function Bb(e){if(e<0||e>CF){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${CF+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var $b,EF,CF,SF,_F,vSe,bSe,TQe=B(()=>{"use strict";var e;Ut(),rs(),mT(),of(),uf(),bs(),vF(),$b={description:"This Object indicates the Parser is during Recording Phase"},Object.freeze($b),EF=!0,CF=Math.pow(2,8)-1,SF=cf({name:"RECORDING_PHASE_TOKEN",pattern:da.NA}),sf([SF]),_F=Sb(SF,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1),Object.freeze(_F),vSe={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},bSe=(e=class{initGastRecorder(r){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let r=0;r<10;r++){let i=r>0?r:"";this[`CONSUME${i}`]=function(n,a){return this.consumeInternalRecord(n,r,a)},this[`SUBRULE${i}`]=function(n,a){return this.subruleInternalRecord(n,r,a)},this[`OPTION${i}`]=function(n){return this.optionInternalRecord(n,r)},this[`OR${i}`]=function(n){return this.orInternalRecord(n,r)},this[`MANY${i}`]=function(n){this.manyInternalRecord(r,n)},this[`MANY_SEP${i}`]=function(n){this.manySepFirstInternalRecord(r,n)},this[`AT_LEAST_ONE${i}`]=function(n){this.atLeastOneInternalRecord(r,n)},this[`AT_LEAST_ONE_SEP${i}`]=function(n){this.atLeastOneSepFirstInternalRecord(r,n)}}this.consume=function(r,i,n){return this.consumeInternalRecord(i,r,n)},this.subrule=function(r,i,n){return this.subruleInternalRecord(i,r,n)},this.option=function(r,i){return this.optionInternalRecord(i,r)},this.or=function(r,i){return this.orInternalRecord(i,r)},this.many=function(r,i){this.manyInternalRecord(r,i)},this.atLeastOne=function(r,i){this.atLeastOneInternalRecord(r,i)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let r=this;for(let i=0;i<10;i++){let n=i>0?i:"";delete r[`CONSUME${n}`],delete r[`SUBRULE${n}`],delete r[`OPTION${n}`],delete r[`OR${n}`],delete r[`MANY${n}`],delete r[`MANY_SEP${n}`],delete r[`AT_LEAST_ONE${n}`],delete r[`AT_LEAST_ONE_SEP${n}`]}delete r.consume,delete r.subrule,delete r.option,delete r.or,delete r.many,delete r.atLeastOne,delete r.ACTION,delete r.BACKTRACK,delete r.LA})}ACTION_RECORD(r){}BACKTRACK_RECORD(r,i){return()=>!0}LA_RECORD(r){return Fb}topLevelRuleRecord(r,i){try{let n=new K0({definition:[],name:r});return n.name=r,this.recordingProdStack.push(n),i.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(a){throw n}throw n}}optionInternalRecord(r,i){return hf.call(this,Ln,r,i)}atLeastOneInternalRecord(r,i){hf.call(this,es,i,r)}atLeastOneSepFirstInternalRecord(r,i){hf.call(this,ts,i,r,EF)}manyInternalRecord(r,i){hf.call(this,Ci,i,r)}manySepFirstInternalRecord(r,i){hf.call(this,Ra,i,r,EF)}orInternalRecord(r,i){return ySe.call(this,r,i)}subruleInternalRecord(r,i,n){if(Bb(i),!r||Kt(r,"ruleName")===!1){let u=new Error(`<SUBRULE${TF(i)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(r)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw u.KNOWN_RECORDER_ERROR=!0,u}let a=ko(this.recordingProdStack),s=r.ruleName,o=new ha({idx:i,nonTerminalName:s,label:n==null?void 0:n.LABEL,referencedRule:void 0});return a.definition.push(o),this.outputCst?vSe:$b}consumeInternalRecord(r,i,n){if(Bb(i),!G$(r)){let o=new Error(`<CONSUME${TF(i)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(r)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}let a=ko(this.recordingProdStack),s=new si({idx:i,terminalType:r,label:n==null?void 0:n.LABEL});return a.definition.push(s),_F}},l(e,"GastRecorder"),e),l(hf,"recordProd"),l(ySe,"recordOrProd"),l(TF,"getIdxSuffix"),l(Bb,"assertMethodIdxIsValid")}),xSe,EQe=B(()=>{"use strict";var e;Ut(),fb(),bs(),xSe=(e=class{initPerformanceTracer(r){if(Kt(r,"traceInitPerf")){let i=r.traceInitPerf,n=typeof i=="number";this.traceInitMaxIdent=n?i:1/0,this.traceInitPerf=n?i>0:i}else this.traceInitMaxIdent=0,this.traceInitPerf=Ll.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(r,i){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${r}>`);let{time:a,value:s}=C$(i),o=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${n}<-- <${r}> time: ${a}ms`),this.traceInitIndent--,s}else return i()}},l(e,"PerformanceTracer"),e)});function wSe(e,t){t.forEach(r=>{let i=r.prototype;Object.getOwnPropertyNames(i).forEach(n=>{if(n==="constructor")return;let a=Object.getOwnPropertyDescriptor(i,n);a&&(a.get||a.set)?Object.defineProperty(e.prototype,n,a):e.prototype[n]=r.prototype[n]})})}var CQe=B(()=>{"use strict";l(wSe,"applyMixins")});function AF(e=void 0){return function(){return e}}var Fb,Ll,zb,Pa,_T,kSe,bs=B(()=>{"use strict";var e,t;Ut(),fb(),cQe(),uf(),_b(),dQe(),QCe(),pQe(),yQe(),vQe(),bQe(),xQe(),wQe(),kQe(),TQe(),EQe(),CQe(),TT(),Fb=Sb(Wc,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(Fb),Ll=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:J0,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),zb=Object.freeze({recoveryValueFunc:l(()=>{},"recoveryValueFunc"),resyncEnabled:!0}),(function(r){r[r.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",r[r.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",r[r.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",r[r.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",r[r.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",r[r.LEFT_RECURSION=5]="LEFT_RECURSION",r[r.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",r[r.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",r[r.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",r[r.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",r[r.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",r[r.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",r[r.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",r[r.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Pa||(Pa={})),l(AF,"EMPTY_ALT"),_T=(e=class{static performSelfAnalysis(i){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let i;this.selfAnalysisDone=!0;let n=this.className;this.TRACE_INIT("toFastProps",()=>{S$(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Re(this.definedRulesNames,s=>{let o=this[s].originalGrammarAction,u;this.TRACE_INIT(`${s} Rule`,()=>{u=this.topLevelRuleRecord(s,o)}),this.gastProductionsCache[s]=u})}finally{this.disableRecording()}});let a=[];if(this.TRACE_INIT("Grammar Resolving",()=>{a=jCe({rules:Wr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(a)}),this.TRACE_INIT("Grammar Validations",()=>{if(Br(a)&&this.skipValidations===!1){let s=HCe({rules:Wr(this.gastProductionsCache),tokenTypes:Wr(this.tokensMap),errMsgProvider:xh,grammarName:n}),o=LCe({lookaheadStrategy:this.lookaheadStrategy,rules:Wr(this.gastProductionsCache),tokenTypes:Wr(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(s,o)}}),Br(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let s=CEe(Wr(this.gastProductionsCache));this.resyncFollows=s}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var s,o;(o=(s=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(s,{rules:Wr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Wr(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!Br(this.definitionErrors))throw i=ft(this.definitionErrors,s=>s.message),new Error(`Parser Definition Errors detected:
 ${i.join(`
-------------------------------
`)}`)})}constructor(i,n){this.definitionErrors=[],this.selfAnalysisDone=!1;let a=this;if(a.initErrorHandler(n),a.initLexerAdapter(),a.initLooksAhead(n),a.initRecognizerEngine(i,n),a.initRecoverable(n),a.initTreeBuilder(n),a.initContentAssist(),a.initGastRecorder(n),a.initPerformanceTracer(n),Kt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Kt(n,"skipValidations")?n.skipValidations:Ll.skipValidations}},l(e,"Parser"),e),_T.DEFER_DEFINITION_ERRORS_HANDLING=!1,wSe(_T,[ZCe,tSe,hSe,dSe,gSe,pSe,fSe,mSe,bSe,xSe]),kSe=(t=class extends _T{constructor(i,n=Ll){let a=tn(n);a.outputCst=!1,super(i,a)}},l(t,"EmbeddedActionsParser"),t)}),SQe=B(()=>{"use strict";rs()}),_Qe=B(()=>{"use strict"}),AQe=B(()=>{"use strict";SQe(),_Qe()}),LQe=B(()=>{"use strict";gEe()}),ep=B(()=>{"use strict";gEe(),bs(),mT(),uf(),Mb(),JCe(),_b(),Ob(),hCe(),rs(),rs(),AQe(),LQe()});function tp(e,t,r){return`${e.name}_${t}_${r}`}function TSe(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};ESe(t,e);let r=e.length;for(let i=0;i<r;i++){let n=e[i],a=wh(t,n,n);a!==void 0&&OSe(t,n,a)}return t}function ESe(e,t){let r=t.length;for(let i=0;i<r;i++){let n=t[i],a=xn(e,n,void 0,{type:BSe}),s=xn(e,n,void 0,{type:df});a.stop=s,e.ruleToStartState.set(n,a),e.ruleToStopState.set(n,s)}}function LF(e,t,r){return r instanceof si?AT(e,t,r.terminalType,r):r instanceof ha?RSe(e,t,r):r instanceof Oa?LSe(e,t,r):r instanceof Ln?NSe(e,t,r):r instanceof Ci?CSe(e,t,r):r instanceof Ra?SSe(e,t,r):r instanceof es?_Se(e,t,r):r instanceof ts?ASe(e,t,r):wh(e,t,r)}function CSe(e,t,r){let i=xn(e,t,r,{type:DF});Xc(e,i);let n=rp(e,t,i,r,wh(e,t,r));return MF(e,t,r,n)}function SSe(e,t,r){let i=xn(e,t,r,{type:DF});Xc(e,i);let n=rp(e,t,i,r,wh(e,t,r)),a=AT(e,t,r.separator,r);return MF(e,t,r,n,a)}function _Se(e,t,r){let i=xn(e,t,r,{type:IF});Xc(e,i);let n=rp(e,t,i,r,wh(e,t,r));return NF(e,t,r,n)}function ASe(e,t,r){let i=xn(e,t,r,{type:IF});Xc(e,i);let n=rp(e,t,i,r,wh(e,t,r)),a=AT(e,t,r.separator,r);return NF(e,t,r,n,a)}function LSe(e,t,r){let i=xn(e,t,r,{type:Kc});Xc(e,i);let n=ft(r.definition,a=>LF(e,t,a));return rp(e,t,i,r,...n)}function NSe(e,t,r){let i=xn(e,t,r,{type:Kc});Xc(e,i);let n=rp(e,t,i,r,wh(e,t,r));return MSe(e,t,r,n)}function wh(e,t,r){let i=Ti(ft(r.definition,n=>LF(e,t,n)),n=>n!==void 0);return i.length===1?i[0]:i.length===0?void 0:DSe(e,i)}function NF(e,t,r,i,n){let a=i.left,s=i.right,o=xn(e,t,r,{type:GSe});Xc(e,o);let u=xn(e,t,r,{type:RF});return a.loopback=o,u.loopback=o,e.decisionMap[tp(t,n?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=o,Hi(s,o),n===void 0?(Hi(o,a),Hi(o,u)):(Hi(o,u),Hi(o,n.left),Hi(n.right,a)),{left:a,right:u}}function MF(e,t,r,i,n){let a=i.left,s=i.right,o=xn(e,t,r,{type:zSe});Xc(e,o);let u=xn(e,t,r,{type:RF}),h=xn(e,t,r,{type:FSe});return o.loopback=h,u.loopback=h,Hi(o,a),Hi(o,u),Hi(s,h),n!==void 0?(Hi(h,u),Hi(h,n.left),Hi(n.right,a)):Hi(h,o),e.decisionMap[tp(t,n?"RepetitionWithSeparator":"Repetition",r.idx)]=o,{left:o,right:u}}function MSe(e,t,r,i){let n=i.left,a=i.right;return Hi(n,a),e.decisionMap[tp(t,"Option",r.idx)]=n,i}function Xc(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function rp(e,t,r,i,...n){let a=xn(e,t,i,{type:$Se,start:r});r.end=a;for(let o of n)o!==void 0?(Hi(r,o.left),Hi(o.right,a)):Hi(r,a);let s={left:r,right:a};return e.decisionMap[tp(t,ISe(i),i.idx)]=r,s}function ISe(e){if(e instanceof Oa)return"Alternation";if(e instanceof Ln)return"Option";if(e instanceof Ci)return"Repetition";if(e instanceof Ra)return"RepetitionWithSeparator";if(e instanceof es)return"RepetitionMandatory";if(e instanceof ts)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function DSe(e,t){let r=t.length;for(let a=0;a<r-1;a++){let s=t[a],o;s.left.transitions.length===1&&(o=s.left.transitions[0]);let u=o instanceof IT,h=o,d=t[a+1].left;s.left.type===Kc&&s.right.type===Kc&&o!==void 0&&(u&&h.followState===s.right||o.target===s.right)?(u?h.followState=d:o.target=d,PSe(e,s.right)):Hi(s.right,d)}let i=t[0],n=t[r-1];return{left:i.left,right:n.right}}function AT(e,t,r,i){let n=xn(e,t,i,{type:Kc}),a=xn(e,t,i,{type:Kc});return LT(n,new MT(a,r)),{left:n,right:a}}function RSe(e,t,r){let i=r.referencedRule,n=e.ruleToStartState.get(i),a=xn(e,t,r,{type:Kc}),s=xn(e,t,r,{type:Kc}),o=new IT(n,i,s);return LT(a,o),{left:a,right:s}}function OSe(e,t,r){let i=e.ruleToStartState.get(t);Hi(i,r.left);let n=e.ruleToStopState.get(t);return Hi(r.right,n),{left:i,right:n}}function Hi(e,t){let r=new OF(t);LT(e,r)}function xn(e,t,r,i){let n=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},i);return e.states.push(n),n}function LT(e,t){e.transitions.length===0&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function PSe(e,t){e.states.splice(e.states.indexOf(t),1)}var Kc,BSe,IF,DF,df,$Se,FSe,zSe,GSe,RF,NT,MT,OF,IT,NQe=B(()=>{"use strict";var e,t,r,i;B2(),bye(),ep(),l(tp,"buildATNKey"),Kc=1,BSe=2,IF=4,DF=5,df=7,$Se=8,FSe=9,zSe=10,GSe=11,RF=12,NT=(e=class{constructor(a){this.target=a}isEpsilon(){return!1}},l(e,"AbstractTransition"),e),MT=(t=class extends NT{constructor(a,s){super(a),this.tokenType=s}},l(t,"AtomTransition"),t),OF=(r=class extends NT{constructor(a){super(a)}isEpsilon(){return!0}},l(r,"EpsilonTransition"),r),IT=(i=class extends NT{constructor(a,s,o){super(a),this.rule=s,this.followState=o}isEpsilon(){return!0}},l(i,"RuleTransition"),i),l(TSe,"createATN"),l(ESe,"createRuleStartAndStopATNStates"),l(LF,"atom"),l(CSe,"repetition"),l(SSe,"repetitionSep"),l(_Se,"repetitionMandatory"),l(ASe,"repetitionMandatorySep"),l(LSe,"alternation"),l(NSe,"option"),l(wh,"block"),l(NF,"plus"),l(MF,"star"),l(MSe,"optional"),l(Xc,"defineDecisionState"),l(rp,"makeAlts"),l(ISe,"getProdType"),l(DSe,"makeBlock"),l(AT,"tokenRef"),l(RSe,"ruleRef"),l(OSe,"buildRuleHandle"),l(Hi,"epsilon"),l(xn,"newState"),l(LT,"addTransition"),l(PSe,"removeState")});function PF(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map(r=>r.stateNumber.toString()).join("_")}`}var Gb,DT,MQe=B(()=>{"use strict";var e;B2(),Gb={},DT=(e=class{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(r){let i=PF(r);i in this.map||(this.map[i]=this.configs.length,this.configs.push(r))}get elements(){return this.configs}get alts(){return ft(this.configs,r=>r.alt)}get key(){let r="";for(let i in this.map)r+=i+":";return r}},l(e,"ATNConfigSet"),e),l(PF,"getATNConfigKey")});function USe(e,t){let r={};return i=>{let n=i.toString(),a=r[n];return a!==void 0||(a={atnStartState:e,decision:t,states:{}},r[n]=a),a}}function BF(e,t=!0){let r=new Set;for(let i of e){let n=new Set;for(let a of i){if(a===void 0){if(t)break;return!1}let s=[a.tokenTypeIdx].concat(a.categoryMatches);for(let o of s)if(r.has(o)){if(!n.has(o))return!1}else r.add(o),n.add(o)}}return!0}function qSe(e){let t=e.decisionStates.length,r=Array(t);for(let i=0;i<t;i++)r[i]=USe(e.decisionStates[i],i);return r}function RT(e,t,r,i){let n=e[t](r),a=n.start;if(a===void 0){let s=e_e(n.atnStartState);a=zF(n,$F(s)),n.start=a}return jSe.apply(this,[n,a,r,i])}function jSe(e,t,r,i){let n=t,a=1,s=[],o=this.LA(a++);for(;;){let u=KSe(n,o);if(u===void 0&&(u=HSe.apply(this,[e,n,o,a,r,i])),u===Gb)return XSe(s,n,o);if(u.isAcceptState===!0)return u.prediction;n=u,s.push(o),o=this.LA(a++)}}function HSe(e,t,r,i,n,a){let s=ZSe(t.configs,r,n);if(s.size===0)return FF(e,t,r,Gb),Gb;let o=$F(s),u=JSe(s,n);if(u!==void 0)o.isAcceptState=!0,o.prediction=u,o.configs.uniqueAlt=u;else if(n_e(s)){let h=Ld(s.alts);o.isAcceptState=!0,o.prediction=h,o.configs.uniqueAlt=h,VSe.apply(this,[e,i,s.alts,a])}return o=FF(e,t,r,o),o}function VSe(e,t,r,i){let n=[];for(let h=1;h<=t;h++)n.push(this.LA(h).tokenType);let a=e.atnStartState,s=a.rule,o=a.production,u=YSe({topLevelRule:s,ambiguityIndices:r,production:o,prefixPath:n});i(u)}function YSe(e){let t=ft(e.prefixPath,n=>Q0(n)).join(", "),r=e.production.idx===0?"":e.production.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${WSe(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return i=i+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,i}function WSe(e){if(e instanceof ha)return"SUBRULE";if(e instanceof Ln)return"OPTION";if(e instanceof Oa)return"OR";if(e instanceof es)return"AT_LEAST_ONE";if(e instanceof ts)return"AT_LEAST_ONE_SEP";if(e instanceof Ra)return"MANY_SEP";if(e instanceof Ci)return"MANY";if(e instanceof si)return"CONSUME";throw Error("non exhaustive match")}function XSe(e,t,r){let i=Xa(t.configs.elements,a=>a.state.transitions),n=Ive(i.filter(a=>a instanceof MT).map(a=>a.tokenType),a=>a.tokenTypeIdx);return{actualToken:r,possibleTokenTypes:n,tokenPath:e}}function KSe(e,t){return e.edges[t.tokenTypeIdx]}function ZSe(e,t,r){let i=new DT,n=[];for(let s of e.elements){if(r.is(s.alt)===!1)continue;if(s.state.type===df){n.push(s);continue}let o=s.state.transitions.length;for(let u=0;u<o;u++){let h=s.state.transitions[u],d=QSe(h,t);d!==void 0&&i.add({state:d,alt:s.alt,stack:s.stack})}}let a;if(n.length===0&&i.size===1&&(a=i),a===void 0){a=new DT;for(let s of i.elements)Ub(s,a)}if(n.length>0&&!r_e(a))for(let s of n)a.add(s);return a}function QSe(e,t){if(e instanceof MT&&V$(t,e.tokenType))return e.target}function JSe(e,t){let r;for(let i of e.elements)if(t.is(i.alt)===!0){if(r===void 0)r=i.alt;else if(r!==i.alt)return}return r}function $F(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function FF(e,t,r,i){return i=zF(e,i),t.edges[r.tokenTypeIdx]=i,i}function zF(e,t){if(t===Gb)return t;let r=t.configs.key,i=e.states[r];return i!==void 0?i:(t.configs.finalize(),e.states[r]=t,t)}function e_e(e){let t=new DT,r=e.transitions.length;for(let i=0;i<r;i++){let n={state:e.transitions[i].target,alt:i,stack:[]};Ub(n,t)}return t}function Ub(e,t){let r=e.state;if(r.type===df){if(e.stack.length>0){let n=[...e.stack],a={state:n.pop(),alt:e.alt,stack:n};Ub(a,t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let i=r.transitions.length;for(let n=0;n<i;n++){let a=r.transitions[n],s=t_e(e,a);s!==void 0&&Ub(s,t)}}function t_e(e,t){if(t instanceof OF)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof IT){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function r_e(e){for(let t of e.elements)if(t.state.type===df)return!0;return!1}function i_e(e){for(let t of e.elements)if(t.state.type!==df)return!1;return!0}function n_e(e){if(i_e(e))return!0;let t=a_e(e.elements);return s_e(t)&&!o_e(t)}function a_e(e){let t=new Map;for(let r of e){let i=PF(r,!1),n=t.get(i);n===void 0&&(n={},t.set(i,n)),n[r.alt]=!0}return t}function s_e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function o_e(e){for(let t of Array.from(e.values()))if(Object.keys(t).length===1)return!0;return!1}var GF,UF,l_e,IQe=B(()=>{"use strict";var e,t;ep(),NQe(),MQe(),b2e(),Mye(),nZe(),B2(),uM(),JM(),nI(),pve(),l(USe,"createDFACache"),GF=(e=class{constructor(){this.predicates=[]}is(i){return i>=this.predicates.length||this.predicates[i]}set(i,n){this.predicates[i]=n}toString(){let i="",n=this.predicates.length;for(let a=0;a<n;a++)i+=this.predicates[a]===!0?"1":"0";return i}},l(e,"PredicateSet"),e),UF=new GF,l_e=(t=class extends ST{constructor(i){var n;super(),this.logging=(n=i==null?void 0:i.logging)!==null&&n!==void 0?n:(a=>console.log(a))}initialize(i){this.atn=TSe(i.rules),this.dfas=qSe(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(i){let{prodOccurrence:n,rule:a,hasPredicates:s,dynamicTokensEnabled:o}=i,u=this.dfas,h=this.logging,d=tp(a,"Alternation",n),p=this.atn.decisionMap[d].decision,g=ft(nF({maxLookahead:1,occurrence:n,prodType:"Alternation",rule:a}),f=>ft(f,m=>m[0]));if(BF(g,!1)&&!o){let f=Gi(g,(m,x,T)=>(Re(x,k=>{k&&(m[k.tokenTypeIdx]=T,Re(k.categoryMatches,E=>{m[E]=T}))}),m),{});return s?function(m){var x;let T=this.LA(1),k=f[T.tokenTypeIdx];if(m!==void 0&&k!==void 0){let E=(x=m[k])===null||x===void 0?void 0:x.GATE;if(E!==void 0&&E.call(this)===!1)return}return k}:function(){let m=this.LA(1);return f[m.tokenTypeIdx]}}else return s?function(f){let m=new GF,x=f===void 0?0:f.length;for(let k=0;k<x;k++){let E=f==null?void 0:f[k].GATE;m.set(k,E===void 0||E.call(this))}let T=RT.call(this,u,p,m,h);return typeof T=="number"?T:void 0}:function(){let f=RT.call(this,u,p,UF,h);return typeof f=="number"?f:void 0}}buildLookaheadForOptional(i){let{prodOccurrence:n,rule:a,prodType:s,dynamicTokensEnabled:o}=i,u=this.dfas,h=this.logging,d=tp(a,s,n),p=this.atn.decisionMap[d].decision,g=ft(nF({maxLookahead:1,occurrence:n,prodType:s,rule:a}),f=>ft(f,m=>m[0]));if(BF(g)&&g[0][0]&&!o){let f=g[0],m=mn(f);if(m.length===1&&Br(m[0].categoryMatches)){let x=m[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===x}}else{let x=Gi(m,(T,k)=>(k!==void 0&&(T[k.tokenTypeIdx]=!0,Re(k.categoryMatches,E=>{T[E]=!0})),T),{});return function(){let T=this.LA(1);return x[T.tokenTypeIdx]===!0}}}return function(){let f=RT.call(this,u,p,UF,h);return typeof f=="object"?!1:f===0}}},l(t,"LLStarLookaheadStrategy"),t),l(BF,"isLL1Sequence"),l(qSe,"initATNSimulator"),l(RT,"adaptivePredict"),l(jSe,"performLookahead"),l(HSe,"computeLookaheadTarget"),l(VSe,"reportLookaheadAmbiguity"),l(YSe,"buildAmbiguityError"),l(WSe,"getProductionDslName"),l(XSe,"buildAdaptivePredictError"),l(KSe,"getExistingTargetState"),l(ZSe,"computeReachSet"),l(QSe,"getReachableTarget"),l(JSe,"getUniqueAlt"),l($F,"newDFAState"),l(FF,"addDFAEdge"),l(zF,"addDFAState"),l(e_e,"computeStartState"),l(Ub,"closure"),l(t_e,"getEpsilonTarget"),l(r_e,"hasConfigInRuleStopState"),l(i_e,"allConfigsInRuleStopStates"),l(n_e,"hasConflictTerminatingPrediction"),l(a_e,"getConflictingAltSets"),l(s_e,"hasConflictingAltSet"),l(o_e,"hasStateAssociatedWithOneAlt")}),DQe=B(()=>{"use strict";IQe()}),c_e,qF,u_e,OT,Vr,Ir,PT,h_e,jF,d_e,p_e,g_e,f_e,HF,m_e,y_e,v_e,BT,pf,gf,VF,ff,b_e,YF,WF,XF,KF,ZF,x_e,w_e,QF,k_e,JF,qb,T_e,E_e,C_e,S_e,__e,A_e,L_e,N_e,$T,M_e,I_e,D_e,R_e,O_e,P_e,B_e,$_e,F_e,z_e,G_e,FT,U_e,q_e,j_e,H_e,V_e,Y_e,W_e,X_e,K_e,Z_e,Q_e,J_e,eAe,ez,tz,tAe,rAe,iAe,nAe,aAe,sAe,oAe,lAe,cAe,uAe,Fe,hAe=B(()=>{"use strict";var e;(function(t){function r(i){return typeof i=="string"}l(r,"is"),t.is=r})(c_e||(c_e={})),(function(t){function r(i){return typeof i=="string"}l(r,"is"),t.is=r})(qF||(qF={})),(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}l(r,"is"),t.is=r})(u_e||(u_e={})),(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function r(i){return typeof i=="number"&&t.MIN_VALUE<=i&&i<=t.MAX_VALUE}l(r,"is"),t.is=r})(OT||(OT={})),(function(t){function r(n,a){return n===Number.MAX_VALUE&&(n=OT.MAX_VALUE),a===Number.MAX_VALUE&&(a=OT.MAX_VALUE),{line:n,character:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Fe.uinteger(a.line)&&Fe.uinteger(a.character)}l(i,"is"),t.is=i})(Vr||(Vr={})),(function(t){function r(n,a,s,o){if(Fe.uinteger(n)&&Fe.uinteger(a)&&Fe.uinteger(s)&&Fe.uinteger(o))return{start:Vr.create(n,a),end:Vr.create(s,o)};if(Vr.is(n)&&Vr.is(a))return{start:n,end:a};throw new Error(`Range#create called with invalid arguments[${n}, ${a}, ${s}, ${o}]`)}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Vr.is(a.start)&&Vr.is(a.end)}l(i,"is"),t.is=i})(Ir||(Ir={})),(function(t){function r(n,a){return{uri:n,range:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Ir.is(a.range)&&(Fe.string(a.uri)||Fe.undefined(a.uri))}l(i,"is"),t.is=i})(PT||(PT={})),(function(t){function r(n,a,s,o){return{targetUri:n,targetRange:a,targetSelectionRange:s,originSelectionRange:o}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Ir.is(a.targetRange)&&Fe.string(a.targetUri)&&Ir.is(a.targetSelectionRange)&&(Ir.is(a.originSelectionRange)||Fe.undefined(a.originSelectionRange))}l(i,"is"),t.is=i})(h_e||(h_e={})),(function(t){function r(n,a,s,o){return{red:n,green:a,blue:s,alpha:o}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Fe.numberRange(a.red,0,1)&&Fe.numberRange(a.green,0,1)&&Fe.numberRange(a.blue,0,1)&&Fe.numberRange(a.alpha,0,1)}l(i,"is"),t.is=i})(jF||(jF={})),(function(t){function r(n,a){return{range:n,color:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Ir.is(a.range)&&jF.is(a.color)}l(i,"is"),t.is=i})(d_e||(d_e={})),(function(t){function r(n,a,s){return{label:n,textEdit:a,additionalTextEdits:s}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Fe.string(a.label)&&(Fe.undefined(a.textEdit)||gf.is(a))&&(Fe.undefined(a.additionalTextEdits)||Fe.typedArray(a.additionalTextEdits,gf.is))}l(i,"is"),t.is=i})(p_e||(p_e={})),(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(g_e||(g_e={})),(function(t){function r(n,a,s,o,u,h){let d={startLine:n,endLine:a};return Fe.defined(s)&&(d.startCharacter=s),Fe.defined(o)&&(d.endCharacter=o),Fe.defined(u)&&(d.kind=u),Fe.defined(h)&&(d.collapsedText=h),d}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Fe.uinteger(a.startLine)&&Fe.uinteger(a.startLine)&&(Fe.undefined(a.startCharacter)||Fe.uinteger(a.startCharacter))&&(Fe.undefined(a.endCharacter)||Fe.uinteger(a.endCharacter))&&(Fe.undefined(a.kind)||Fe.string(a.kind))}l(i,"is"),t.is=i})(f_e||(f_e={})),(function(t){function r(n,a){return{location:n,message:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&PT.is(a.location)&&Fe.string(a.message)}l(i,"is"),t.is=i})(HF||(HF={})),(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(m_e||(m_e={})),(function(t){t.Unnecessary=1,t.Deprecated=2})(y_e||(y_e={})),(function(t){function r(i){let n=i;return Fe.objectLiteral(n)&&Fe.string(n.href)}l(r,"is"),t.is=r})(v_e||(v_e={})),(function(t){function r(n,a,s,o,u,h){let d={range:n,message:a};return Fe.defined(s)&&(d.severity=s),Fe.defined(o)&&(d.code=o),Fe.defined(u)&&(d.source=u),Fe.defined(h)&&(d.relatedInformation=h),d}l(r,"create"),t.create=r;function i(n){var a;let s=n;return Fe.defined(s)&&Ir.is(s.range)&&Fe.string(s.message)&&(Fe.number(s.severity)||Fe.undefined(s.severity))&&(Fe.integer(s.code)||Fe.string(s.code)||Fe.undefined(s.code))&&(Fe.undefined(s.codeDescription)||Fe.string((a=s.codeDescription)===null||a===void 0?void 0:a.href))&&(Fe.string(s.source)||Fe.undefined(s.source))&&(Fe.undefined(s.relatedInformation)||Fe.typedArray(s.relatedInformation,HF.is))}l(i,"is"),t.is=i})(BT||(BT={})),(function(t){function r(n,a,...s){let o={title:n,command:a};return Fe.defined(s)&&s.length>0&&(o.arguments=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.string(a.title)&&Fe.string(a.command)}l(i,"is"),t.is=i})(pf||(pf={})),(function(t){function r(s,o){return{range:s,newText:o}}l(r,"replace"),t.replace=r;function i(s,o){return{range:{start:s,end:s},newText:o}}l(i,"insert"),t.insert=i;function n(s){return{range:s,newText:""}}l(n,"del"),t.del=n;function a(s){let o=s;return Fe.objectLiteral(o)&&Fe.string(o.newText)&&Ir.is(o.range)}l(a,"is"),t.is=a})(gf||(gf={})),(function(t){function r(n,a,s){let o={label:n};return a!==void 0&&(o.needsConfirmation=a),s!==void 0&&(o.description=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Fe.string(a.label)&&(Fe.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(Fe.string(a.description)||a.description===void 0)}l(i,"is"),t.is=i})(VF||(VF={})),(function(t){function r(i){let n=i;return Fe.string(n)}l(r,"is"),t.is=r})(ff||(ff={})),(function(t){function r(s,o,u){return{range:s,newText:o,annotationId:u}}l(r,"replace"),t.replace=r;function i(s,o,u){return{range:{start:s,end:s},newText:o,annotationId:u}}l(i,"insert"),t.insert=i;function n(s,o){return{range:s,newText:"",annotationId:o}}l(n,"del"),t.del=n;function a(s){let o=s;return gf.is(o)&&(VF.is(o.annotationId)||ff.is(o.annotationId))}l(a,"is"),t.is=a})(b_e||(b_e={})),(function(t){function r(n,a){return{textDocument:n,edits:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&QF.is(a.textDocument)&&Array.isArray(a.edits)}l(i,"is"),t.is=i})(YF||(YF={})),(function(t){function r(n,a,s){let o={kind:"create",uri:n};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return a&&a.kind==="create"&&Fe.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||Fe.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Fe.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||ff.is(a.annotationId))}l(i,"is"),t.is=i})(WF||(WF={})),(function(t){function r(n,a,s,o){let u={kind:"rename",oldUri:n,newUri:a};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(u.options=s),o!==void 0&&(u.annotationId=o),u}l(r,"create"),t.create=r;function i(n){let a=n;return a&&a.kind==="rename"&&Fe.string(a.oldUri)&&Fe.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||Fe.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||Fe.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||ff.is(a.annotationId))}l(i,"is"),t.is=i})(XF||(XF={})),(function(t){function r(n,a,s){let o={kind:"delete",uri:n};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(o.options=a),s!==void 0&&(o.annotationId=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return a&&a.kind==="delete"&&Fe.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||Fe.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||Fe.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||ff.is(a.annotationId))}l(i,"is"),t.is=i})(KF||(KF={})),(function(t){function r(i){let n=i;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(a=>Fe.string(a.kind)?WF.is(a)||XF.is(a)||KF.is(a):YF.is(a)))}l(r,"is"),t.is=r})(ZF||(ZF={})),(function(t){function r(n){return{uri:n}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.string(a.uri)}l(i,"is"),t.is=i})(x_e||(x_e={})),(function(t){function r(n,a){return{uri:n,version:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.string(a.uri)&&Fe.integer(a.version)}l(i,"is"),t.is=i})(w_e||(w_e={})),(function(t){function r(n,a){return{uri:n,version:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.string(a.uri)&&(a.version===null||Fe.integer(a.version))}l(i,"is"),t.is=i})(QF||(QF={})),(function(t){function r(n,a,s,o){return{uri:n,languageId:a,version:s,text:o}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.string(a.uri)&&Fe.string(a.languageId)&&Fe.integer(a.version)&&Fe.string(a.text)}l(i,"is"),t.is=i})(k_e||(k_e={})),(function(t){t.PlainText="plaintext",t.Markdown="markdown";function r(i){let n=i;return n===t.PlainText||n===t.Markdown}l(r,"is"),t.is=r})(JF||(JF={})),(function(t){function r(i){let n=i;return Fe.objectLiteral(i)&&JF.is(n.kind)&&Fe.string(n.value)}l(r,"is"),t.is=r})(qb||(qb={})),(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(T_e||(T_e={})),(function(t){t.PlainText=1,t.Snippet=2})(E_e||(E_e={})),(function(t){t.Deprecated=1})(C_e||(C_e={})),(function(t){function r(n,a,s){return{newText:n,insert:a,replace:s}}l(r,"create"),t.create=r;function i(n){let a=n;return a&&Fe.string(a.newText)&&Ir.is(a.insert)&&Ir.is(a.replace)}l(i,"is"),t.is=i})(S_e||(S_e={})),(function(t){t.asIs=1,t.adjustIndentation=2})(__e||(__e={})),(function(t){function r(i){let n=i;return n&&(Fe.string(n.detail)||n.detail===void 0)&&(Fe.string(n.description)||n.description===void 0)}l(r,"is"),t.is=r})(A_e||(A_e={})),(function(t){function r(i){return{label:i}}l(r,"create"),t.create=r})(L_e||(L_e={})),(function(t){function r(i,n){return{items:i||[],isIncomplete:!!n}}l(r,"create"),t.create=r})(N_e||(N_e={})),(function(t){function r(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}l(r,"fromPlainText"),t.fromPlainText=r;function i(n){let a=n;return Fe.string(a)||Fe.objectLiteral(a)&&Fe.string(a.language)&&Fe.string(a.value)}l(i,"is"),t.is=i})($T||($T={})),(function(t){function r(i){let n=i;return!!n&&Fe.objectLiteral(n)&&(qb.is(n.contents)||$T.is(n.contents)||Fe.typedArray(n.contents,$T.is))&&(i.range===void 0||Ir.is(i.range))}l(r,"is"),t.is=r})(M_e||(M_e={})),(function(t){function r(i,n){return n?{label:i,documentation:n}:{label:i}}l(r,"create"),t.create=r})(I_e||(I_e={})),(function(t){function r(i,n,...a){let s={label:i};return Fe.defined(n)&&(s.documentation=n),Fe.defined(a)?s.parameters=a:s.parameters=[],s}l(r,"create"),t.create=r})(D_e||(D_e={})),(function(t){t.Text=1,t.Read=2,t.Write=3})(R_e||(R_e={})),(function(t){function r(i,n){let a={range:i};return Fe.number(n)&&(a.kind=n),a}l(r,"create"),t.create=r})(O_e||(O_e={})),(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(P_e||(P_e={})),(function(t){t.Deprecated=1})(B_e||(B_e={})),(function(t){function r(i,n,a,s,o){let u={name:i,kind:n,location:{uri:s,range:a}};return o&&(u.containerName=o),u}l(r,"create"),t.create=r})($_e||($_e={})),(function(t){function r(i,n,a,s){return s!==void 0?{name:i,kind:n,location:{uri:a,range:s}}:{name:i,kind:n,location:{uri:a}}}l(r,"create"),t.create=r})(F_e||(F_e={})),(function(t){function r(n,a,s,o,u,h){let d={name:n,detail:a,kind:s,range:o,selectionRange:u};return h!==void 0&&(d.children=h),d}l(r,"create"),t.create=r;function i(n){let a=n;return a&&Fe.string(a.name)&&Fe.number(a.kind)&&Ir.is(a.range)&&Ir.is(a.selectionRange)&&(a.detail===void 0||Fe.string(a.detail))&&(a.deprecated===void 0||Fe.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}l(i,"is"),t.is=i})(z_e||(z_e={})),(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(G_e||(G_e={})),(function(t){t.Invoked=1,t.Automatic=2})(FT||(FT={})),(function(t){function r(n,a,s){let o={diagnostics:n};return a!=null&&(o.only=a),s!=null&&(o.triggerKind=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.typedArray(a.diagnostics,BT.is)&&(a.only===void 0||Fe.typedArray(a.only,Fe.string))&&(a.triggerKind===void 0||a.triggerKind===FT.Invoked||a.triggerKind===FT.Automatic)}l(i,"is"),t.is=i})(U_e||(U_e={})),(function(t){function r(n,a,s){let o={title:n},u=!0;return typeof a=="string"?(u=!1,o.kind=a):pf.is(a)?o.command=a:o.edit=a,u&&s!==void 0&&(o.kind=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return a&&Fe.string(a.title)&&(a.diagnostics===void 0||Fe.typedArray(a.diagnostics,BT.is))&&(a.kind===void 0||Fe.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||pf.is(a.command))&&(a.isPreferred===void 0||Fe.boolean(a.isPreferred))&&(a.edit===void 0||ZF.is(a.edit))}l(i,"is"),t.is=i})(q_e||(q_e={})),(function(t){function r(n,a){let s={range:n};return Fe.defined(a)&&(s.data=a),s}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Ir.is(a.range)&&(Fe.undefined(a.command)||pf.is(a.command))}l(i,"is"),t.is=i})(j_e||(j_e={})),(function(t){function r(n,a){return{tabSize:n,insertSpaces:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Fe.uinteger(a.tabSize)&&Fe.boolean(a.insertSpaces)}l(i,"is"),t.is=i})(H_e||(H_e={})),(function(t){function r(n,a,s){return{range:n,target:a,data:s}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Ir.is(a.range)&&(Fe.undefined(a.target)||Fe.string(a.target))}l(i,"is"),t.is=i})(V_e||(V_e={})),(function(t){function r(n,a){return{range:n,parent:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Ir.is(a.range)&&(a.parent===void 0||t.is(a.parent))}l(i,"is"),t.is=i})(Y_e||(Y_e={})),(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(W_e||(W_e={})),(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(X_e||(X_e={})),(function(t){function r(i){let n=i;return Fe.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}l(r,"is"),t.is=r})(K_e||(K_e={})),(function(t){function r(n,a){return{range:n,text:a}}l(r,"create"),t.create=r;function i(n){let a=n;return a!=null&&Ir.is(a.range)&&Fe.string(a.text)}l(i,"is"),t.is=i})(Z_e||(Z_e={})),(function(t){function r(n,a,s){return{range:n,variableName:a,caseSensitiveLookup:s}}l(r,"create"),t.create=r;function i(n){let a=n;return a!=null&&Ir.is(a.range)&&Fe.boolean(a.caseSensitiveLookup)&&(Fe.string(a.variableName)||a.variableName===void 0)}l(i,"is"),t.is=i})(Q_e||(Q_e={})),(function(t){function r(n,a){return{range:n,expression:a}}l(r,"create"),t.create=r;function i(n){let a=n;return a!=null&&Ir.is(a.range)&&(Fe.string(a.expression)||a.expression===void 0)}l(i,"is"),t.is=i})(J_e||(J_e={})),(function(t){function r(n,a){return{frameId:n,stoppedLocation:a}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.defined(a)&&Ir.is(n.stoppedLocation)}l(i,"is"),t.is=i})(eAe||(eAe={})),(function(t){t.Type=1,t.Parameter=2;function r(i){return i===1||i===2}l(r,"is"),t.is=r})(ez||(ez={})),(function(t){function r(n){return{value:n}}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&(a.tooltip===void 0||Fe.string(a.tooltip)||qb.is(a.tooltip))&&(a.location===void 0||PT.is(a.location))&&(a.command===void 0||pf.is(a.command))}l(i,"is"),t.is=i})(tz||(tz={})),(function(t){function r(n,a,s){let o={position:n,label:a};return s!==void 0&&(o.kind=s),o}l(r,"create"),t.create=r;function i(n){let a=n;return Fe.objectLiteral(a)&&Vr.is(a.position)&&(Fe.string(a.label)||Fe.typedArray(a.label,tz.is))&&(a.kind===void 0||ez.is(a.kind))&&a.textEdits===void 0||Fe.typedArray(a.textEdits,gf.is)&&(a.tooltip===void 0||Fe.string(a.tooltip)||qb.is(a.tooltip))&&(a.paddingLeft===void 0||Fe.boolean(a.paddingLeft))&&(a.paddingRight===void 0||Fe.boolean(a.paddingRight))}l(i,"is"),t.is=i})(tAe||(tAe={})),(function(t){function r(i){return{kind:"snippet",value:i}}l(r,"createSnippet"),t.createSnippet=r})(rAe||(rAe={})),(function(t){function r(i,n,a,s){return{insertText:i,filterText:n,range:a,command:s}}l(r,"create"),t.create=r})(iAe||(iAe={})),(function(t){function r(i){return{items:i}}l(r,"create"),t.create=r})(nAe||(nAe={})),(function(t){t.Invoked=0,t.Automatic=1})(aAe||(aAe={})),(function(t){function r(i,n){return{range:i,text:n}}l(r,"create"),t.create=r})(sAe||(sAe={})),(function(t){function r(i,n){return{triggerKind:i,selectedCompletionInfo:n}}l(r,"create"),t.create=r})(oAe||(oAe={})),(function(t){function r(i){let n=i;return Fe.objectLiteral(n)&&qF.is(n.uri)&&Fe.string(n.name)}l(r,"is"),t.is=r})(lAe||(lAe={})),(function(t){function r(s,o,u,h){return new uAe(s,o,u,h)}l(r,"create"),t.create=r;function i(s){let o=s;return!!(Fe.defined(o)&&Fe.string(o.uri)&&(Fe.undefined(o.languageId)||Fe.string(o.languageId))&&Fe.uinteger(o.lineCount)&&Fe.func(o.getText)&&Fe.func(o.positionAt)&&Fe.func(o.offsetAt))}l(i,"is"),t.is=i;function n(s,o){let u=s.getText(),h=a(o,(p,g)=>{let f=p.range.start.line-g.range.start.line;return f===0?p.range.start.character-g.range.start.character:f}),d=u.length;for(let p=h.length-1;p>=0;p--){let g=h[p],f=s.offsetAt(g.range.start),m=s.offsetAt(g.range.end);if(m<=d)u=u.substring(0,f)+g.newText+u.substring(m,u.length);else throw new Error("Overlapping edit");d=f}return u}l(n,"applyEdits"),t.applyEdits=n;function a(s,o){if(s.length<=1)return s;let u=s.length/2|0,h=s.slice(0,u),d=s.slice(u);a(h,o),a(d,o);let p=0,g=0,f=0;for(;p<h.length&&g<d.length;)o(h[p],d[g])<=0?s[f++]=h[p++]:s[f++]=d[g++];for(;p<h.length;)s[f++]=h[p++];for(;g<d.length;)s[f++]=d[g++];return s}l(a,"mergeSort")})(cAe||(cAe={})),uAe=(e=class{constructor(r,i,n,a){this._uri=r,this._languageId=i,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(r){if(r){let i=this.offsetAt(r.start),n=this.offsetAt(r.end);return this._content.substring(i,n)}return this._content}update(r,i){this._content=r.text,this._version=i,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let r=[],i=this._content,n=!0;for(let a=0;a<i.length;a++){n&&(r.push(a),n=!1);let s=i.charAt(a);n=s==="\r"||s===`
`,s==="\r"&&a+1<i.length&&i.charAt(a+1)===`
`&&a++}n&&i.length>0&&r.push(i.length),this._lineOffsets=r}return this._lineOffsets}positionAt(r){r=Math.max(Math.min(r,this._content.length),0);let i=this.getLineOffsets(),n=0,a=i.length;if(a===0)return Vr.create(0,r);for(;n<a;){let o=Math.floor((n+a)/2);i[o]>r?a=o:n=o+1}let s=n-1;return Vr.create(s,r-i[s])}offsetAt(r){let i=this.getLineOffsets();if(r.line>=i.length)return this._content.length;if(r.line<0)return 0;let n=i[r.line],a=r.line+1<i.length?i[r.line+1]:this._content.length;return Math.max(Math.min(n+r.character,a),n)}get lineCount(){return this.getLineOffsets().length}},l(e,"FullTextDocument"),e),(function(t){let r=Object.prototype.toString;function i(m){return typeof m<"u"}l(i,"defined"),t.defined=i;function n(m){return typeof m>"u"}l(n,"undefined"),t.undefined=n;function a(m){return m===!0||m===!1}l(a,"boolean"),t.boolean=a;function s(m){return r.call(m)==="[object String]"}l(s,"string"),t.string=s;function o(m){return r.call(m)==="[object Number]"}l(o,"number"),t.number=o;function u(m,x,T){return r.call(m)==="[object Number]"&&x<=m&&m<=T}l(u,"numberRange"),t.numberRange=u;function h(m){return r.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}l(h,"integer"),t.integer=h;function d(m){return r.call(m)==="[object Number]"&&0<=m&&m<=2147483647}l(d,"uinteger"),t.uinteger=d;function p(m){return r.call(m)==="[object Function]"}l(p,"func"),t.func=p;function g(m){return m!==null&&typeof m=="object"}l(g,"objectLiteral"),t.objectLiteral=g;function f(m,x){return Array.isArray(m)&&m.every(x)}l(f,"typedArray"),t.typedArray=f})(Fe||(Fe={}))}),rz,zT,jb,Hb,dAe,GT,iz=B(()=>{"use strict";var e,t,r,i,n,a;hAe(),Cl(),rz=(e=class{constructor(){this.nodeStack=[]}get current(){var o;return(o=this.nodeStack[this.nodeStack.length-1])!==null&&o!==void 0?o:this.rootNode}buildRootNode(o){return this.rootNode=new GT(o),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(o){let u=new Hb;return u.grammarSource=o,u.root=this.rootNode,this.current.content.push(u),this.nodeStack.push(u),u}buildLeafNode(o,u){let h=new jb(o.startOffset,o.image.length,Zv(o),o.tokenType,!u);return h.grammarSource=u,h.root=this.rootNode,this.current.content.push(h),h}removeNode(o){let u=o.container;if(u){let h=u.content.indexOf(o);h>=0&&u.content.splice(h,1)}}addHiddenNodes(o){let u=[];for(let p of o){let g=new jb(p.startOffset,p.image.length,Zv(p),p.tokenType,!0);g.root=this.rootNode,u.push(g)}let h=this.current,d=!1;if(h.content.length>0){h.content.push(...u);return}for(;h.container;){let p=h.container.content.indexOf(h);if(p>0){h.container.content.splice(p,0,...u),d=!0;break}h=h.container}d||this.rootNode.content.unshift(...u)}construct(o){let u=this.current;typeof o.$type=="string"&&(this.current.astNode=o),o.$cstNode=u;let h=this.nodeStack.pop();(h==null?void 0:h.content.length)===0&&this.removeNode(h)}},l(e,"CstNodeBuilder"),e),zT=(t=class{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var o,u;let h=typeof((o=this._astNode)===null||o===void 0?void 0:o.$type)=="string"?this._astNode:(u=this.container)===null||u===void 0?void 0:u.astNode;if(!h)throw new Error("This node has no associated AST element");return h}set astNode(o){this._astNode=o}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},l(t,"AbstractCstNode"),t),jb=(r=class extends zT{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(o,u,h,d,p=!1){super(),this._hidden=p,this._offset=o,this._tokenType=d,this._length=u,this._range=h}},l(r,"LeafCstNodeImpl"),r),Hb=(i=class extends zT{constructor(){super(...arguments),this.content=new dAe(this)}get children(){return this.content}get offset(){var o,u;return(u=(o=this.firstNonHiddenNode)===null||o===void 0?void 0:o.offset)!==null&&u!==void 0?u:0}get length(){return this.end-this.offset}get end(){var o,u;return(u=(o=this.lastNonHiddenNode)===null||o===void 0?void 0:o.end)!==null&&u!==void 0?u:0}get range(){let o=this.firstNonHiddenNode,u=this.lastNonHiddenNode;if(o&&u){if(this._rangeCache===void 0){let{range:h}=o,{range:d}=u;this._rangeCache={start:h.start,end:d.end.line<h.start.line?h.start:d.end}}return this._rangeCache}else return{start:Vr.create(0,0),end:Vr.create(0,0)}}get firstNonHiddenNode(){for(let o of this.content)if(!o.hidden)return o;return this.content[0]}get lastNonHiddenNode(){for(let o=this.content.length-1;o>=0;o--){let u=this.content[o];if(!u.hidden)return u}return this.content[this.content.length-1]}},l(i,"CompositeCstNodeImpl"),i),dAe=(n=class extends Array{constructor(o){super(),this.parent=o,Object.setPrototypeOf(this,n.prototype)}push(...o){return this.addParents(o),super.push(...o)}unshift(...o){return this.addParents(o),super.unshift(...o)}splice(o,u,...h){return this.addParents(h),super.splice(o,u,...h)}addParents(o){for(let u of o)u.container=this.parent}},l(n,"CstNodeContainer"),n),GT=(a=class extends Hb{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(o){super(),this._text="",this._text=o!=null?o:""}},l(a,"RootCstNodeImpl"),a)});function UT(e){return e.$type===Vb}var Vb,nz,az,qT,sz,oz,jT,lz,pAe,gAe,HT=B(()=>{"use strict";var e,t,r,i,n,a;ep(),DQe(),Hc(),Al(),Ja(),iz(),Vb=Symbol("Datatype"),l(UT,"isDataTypeNode"),nz="\u200B",az=l(s=>s.endsWith(nz)?s:s+nz,"withRuleSuffix"),qT=(e=class{constructor(o){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=o.parser.Lexer;let u=this.lexer.definition,h=o.LanguageMetaData.mode==="production";this.wrapper=new gAe(u,Object.assign(Object.assign({},o.parser.ParserConfig),{skipValidations:h,errorMessageProvider:o.parser.ParserErrorMessageProvider}))}alternatives(o,u){this.wrapper.wrapOr(o,u)}optional(o,u){this.wrapper.wrapOption(o,u)}many(o,u){this.wrapper.wrapMany(o,u)}atLeastOne(o,u){this.wrapper.wrapAtLeastOne(o,u)}getRule(o){return this.allRules.get(o)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},l(e,"AbstractLangiumParser"),e),sz=(t=class extends qT{get current(){return this.stack[this.stack.length-1]}constructor(o){super(o),this.nodeBuilder=new rz,this.stack=[],this.assignmentMap=new Map,this.linker=o.references.Linker,this.converter=o.parser.ValueConverter,this.astReflection=o.shared.AstReflection}rule(o,u){let h=this.computeRuleType(o),d=this.wrapper.DEFINE_RULE(az(o.name),this.startImplementation(h,u).bind(this));return this.allRules.set(o.name,d),o.entry&&(this.mainRule=d),d}computeRuleType(o){if(!o.fragment){if(db(o))return Vb;{let u=ef(o);return u!=null?u:o.name}}}parse(o,u={}){this.nodeBuilder.buildRootNode(o);let h=this.lexerResult=this.lexer.tokenize(o);this.wrapper.input=h.tokens;let d=u.rule?this.allRules.get(u.rule):this.mainRule;if(!d)throw new Error(u.rule?`No rule found with name '${u.rule}'`:"No main rule available.");let p=d.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(h.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:p,lexerErrors:h.errors,lexerReport:h.report,parserErrors:this.wrapper.errors}}startImplementation(o,u){return h=>{let d=!this.isRecording()&&o!==void 0;if(d){let g={$type:o};this.stack.push(g),o===Vb&&(g.value="")}let p;try{p=u(h)}catch(g){p=void 0}return p===void 0&&d&&(p=this.construct()),p}}extractHiddenTokens(o){let u=this.lexerResult.hidden;if(!u.length)return[];let h=o.startOffset;for(let d=0;d<u.length;d++)if(u[d].startOffset>h)return u.splice(0,d);return u.splice(0,u.length)}consume(o,u,h){let d=this.wrapper.wrapConsume(o,u);if(!this.isRecording()&&this.isValidToken(d)){let p=this.extractHiddenTokens(d);this.nodeBuilder.addHiddenNodes(p);let g=this.nodeBuilder.buildLeafNode(d,h),{assignment:f,isCrossRef:m}=this.getAssignment(h),x=this.current;if(f){let T=qc(h)?d.image:this.converter.convert(d.image,g);this.assign(f.operator,f.feature,T,g,m)}else if(UT(x)){let T=d.image;qc(h)||(T=this.converter.convert(T,g).toString()),x.value+=T}}}isValidToken(o){return!o.isInsertedInRecovery&&!isNaN(o.startOffset)&&typeof o.endOffset=="number"&&!isNaN(o.endOffset)}subrule(o,u,h,d,p){let g;!this.isRecording()&&!h&&(g=this.nodeBuilder.buildCompositeNode(d));let f=this.wrapper.wrapSubrule(o,u,p);!this.isRecording()&&g&&g.length>0&&this.performSubruleAssignment(f,d,g)}performSubruleAssignment(o,u,h){let{assignment:d,isCrossRef:p}=this.getAssignment(u);if(d)this.assign(d.operator,d.feature,o,h,p);else if(!d){let g=this.current;if(UT(g))g.value+=o.toString();else if(typeof o=="object"&&o){let f=this.assignWithoutOverride(o,g);this.stack.pop(),this.stack.push(f)}}}action(o,u){if(!this.isRecording()){let h=this.current;if(u.feature&&u.operator){h=this.construct(),this.nodeBuilder.removeNode(h.$cstNode),this.nodeBuilder.buildCompositeNode(u).content.push(h.$cstNode);let d={$type:o};this.stack.push(d),this.assign(u.operator,u.feature,h,h.$cstNode,!1)}else h.$type=o}}construct(){if(this.isRecording())return;let o=this.current;return Zk(o),this.nodeBuilder.construct(o),this.stack.pop(),UT(o)?this.converter.convert(o.value,o.$cstNode):(KB(this.astReflection,o),o)}getAssignment(o){if(!this.assignmentMap.has(o)){let u=Z1(o,Uc);this.assignmentMap.set(o,{assignment:u,isCrossRef:u?eb(u.terminal):!1})}return this.assignmentMap.get(o)}assign(o,u,h,d,p){let g=this.current,f;switch(p&&typeof h=="string"?f=this.linker.buildReference(g,u,d,h):f=h,o){case"=":{g[u]=f;break}case"?=":{g[u]=!0;break}case"+=":Array.isArray(g[u])||(g[u]=[]),g[u].push(f)}}assignWithoutOverride(o,u){for(let[d,p]of Object.entries(u)){let g=o[d];g===void 0?o[d]=p:Array.isArray(g)&&Array.isArray(p)&&(p.push(...g),o[d]=p)}let h=o.$cstNode;return h&&(h.astNode=void 0,o.$cstNode=void 0),o}get definitionErrors(){return this.wrapper.definitionErrors}},l(t,"LangiumParser"),t),oz=(r=class{buildMismatchTokenMessage(o){return J0.buildMismatchTokenMessage(o)}buildNotAllInputParsedMessage(o){return J0.buildNotAllInputParsedMessage(o)}buildNoViableAltMessage(o){return J0.buildNoViableAltMessage(o)}buildEarlyExitMessage(o){return J0.buildEarlyExitMessage(o)}},l(r,"AbstractParserErrorMessageProvider"),r),jT=(i=class extends oz{buildMismatchTokenMessage({expected:o,actual:u}){return`Expecting ${o.LABEL?"`"+o.LABEL+"`":o.name.endsWith(":KW")?`keyword '${o.name.substring(0,o.name.length-3)}'`:`token of type '${o.name}'`} but found \`${u.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:o}){return`Expecting end of file but found \`${o.image}\`.`}},l(i,"LangiumParserErrorMessageProvider"),i),lz=(n=class extends qT{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(o){this.resetState();let u=this.lexer.tokenize(o,{mode:"partial"});return this.tokens=u.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(o,u){let h=this.wrapper.DEFINE_RULE(az(o.name),this.startImplementation(u).bind(this));return this.allRules.set(o.name,h),o.entry&&(this.mainRule=h),h}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(o){return u=>{let h=this.keepStackSize();try{o(u)}finally{this.resetStackSize(h)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let o=this.elementStack.length;return this.stackSize=o,o}resetStackSize(o){this.removeUnexpectedElements(),this.stackSize=o}consume(o,u,h){this.wrapper.wrapConsume(o,u),this.isRecording()||(this.lastElementStack=[...this.elementStack,h],this.nextTokenIndex=this.currIdx+1)}subrule(o,u,h,d,p){this.before(d),this.wrapper.wrapSubrule(o,u,p),this.after(d)}before(o){this.isRecording()||this.elementStack.push(o)}after(o){if(!this.isRecording()){let u=this.elementStack.lastIndexOf(o);u>=0&&this.elementStack.splice(u)}}get currIdx(){return this.wrapper.currIdx}},l(n,"LangiumCompletionParser"),n),pAe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new jT},gAe=(a=class extends kSe{constructor(o,u){let h=u&&"maxLookahead"in u;super(o,Object.assign(Object.assign(Object.assign({},pAe),{lookaheadStrategy:h?new ST({maxLookahead:u.maxLookahead}):new l_e({logging:u.skipValidations?()=>{}:void 0})}),u))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(o,u){return this.RULE(o,u)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(o,u){return this.consume(o,u)}wrapSubrule(o,u,h){return this.subrule(o,u,{ARGS:[h]})}wrapOr(o,u){this.or(o,u)}wrapOption(o,u){this.option(o,u)}wrapMany(o,u){this.many(o,u)}wrapAtLeastOne(o,u){this.atLeastOne(o,u)}},l(a,"ChevrotainWrapper"),a)});function VT(e,t,r){return fAe({parser:t,tokens:r,ruleNames:new Map},e),t}function fAe(e,t){let r=rT(t,!1),i=ji(t.rules).filter(Qa).filter(n=>r.has(n));for(let n of i){let a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(n,kh(a,n.definition))}}function kh(e,t,r=!1){let i;if(qc(t))i=kAe(e,t);else if(fh(t))i=mAe(e,t);else if(Uc(t))i=kh(e,t.terminal);else if(eb(t))i=cz(e,t);else if(jc(t))i=yAe(e,t);else if(Yk(t))i=bAe(e,t);else if(Xk(t))i=xAe(e,t);else if(c0(t))i=wAe(e,t);else if(UB(t)){let n=e.consume++;i=l(()=>e.parser.consume(n,Wc,t),"method")}else throw new Qv(t.$cstNode,`Unexpected element type: ${t.$type}`);return uz(e,r?void 0:Yb(t),i,t.cardinality)}function mAe(e,t){let r=pb(t);return()=>e.parser.action(r,t)}function yAe(e,t){let r=t.rule.ref;if(Qa(r)){let i=e.subrule++,n=r.fragment,a=t.arguments.length>0?vAe(r,t.arguments):()=>({});return s=>e.parser.subrule(i,hz(e,r),n,t,a(s))}else if(Sl(r)){let i=e.consume++,n=YT(e,r.name);return()=>e.parser.consume(i,n,t)}else if(r)gh(r);else throw new Qv(t.$cstNode,`Undefined rule: ${t.rule.$refText}`)}function vAe(e,t){let r=t.map(i=>Nl(i.value));return i=>{let n={};for(let a=0;a<r.length;a++){let s=e.parameters[a],o=r[a];n[s.name]=o(i)}return n}}function Nl(e){if(OB(e)){let t=Nl(e.left),r=Nl(e.right);return i=>t(i)||r(i)}else if(RB(e)){let t=Nl(e.left),r=Nl(e.right);return i=>t(i)&&r(i)}else if(PB(e)){let t=Nl(e.value);return r=>!t(r)}else if(BB(e)){let t=e.parameter.ref.name;return r=>r!==void 0&&r[t]===!0}else if(DB(e)){let t=!!e.true;return()=>t}gh(e)}function bAe(e,t){if(t.elements.length===1)return kh(e,t.elements[0]);{let r=[];for(let n of t.elements){let a={ALT:kh(e,n,!0)},s=Yb(n);s&&(a.GATE=Nl(s)),r.push(a)}let i=e.or++;return n=>e.parser.alternatives(i,r.map(a=>{let s={ALT:l(()=>a.ALT(n),"ALT")},o=a.GATE;return o&&(s.GATE=()=>o(n)),s}))}}function xAe(e,t){if(t.elements.length===1)return kh(e,t.elements[0]);let r=[];for(let o of t.elements){let u={ALT:kh(e,o,!0)},h=Yb(o);h&&(u.GATE=Nl(h)),r.push(u)}let i=e.or++,n=l((o,u)=>{let h=u.getRuleStack().join("-");return`uGroup_${o}_${h}`},"idFunc"),a=l(o=>e.parser.alternatives(i,r.map((u,h)=>{let d={ALT:l(()=>!0,"ALT")},p=e.parser;d.ALT=()=>{if(u.ALT(o),!p.isRecording()){let f=n(i,p);p.unorderedGroups.get(f)||p.unorderedGroups.set(f,[]);let m=p.unorderedGroups.get(f);typeof(m==null?void 0:m[h])>"u"&&(m[h]=!0)}};let g=u.GATE;return g?d.GATE=()=>g(o):d.GATE=()=>{let f=p.unorderedGroups.get(n(i,p));return!(f!=null&&f[h])},d})),"alternatives"),s=uz(e,Yb(t),a,"*");return o=>{s(o),e.parser.isRecording()||e.parser.unorderedGroups.delete(n(i,e.parser))}}function wAe(e,t){let r=t.elements.map(i=>kh(e,i));return i=>r.forEach(n=>n(i))}function Yb(e){if(c0(e))return e.guardCondition}function cz(e,t,r=t.terminal){if(r)if(jc(r)&&Qa(r.rule.ref)){let i=r.rule.ref,n=e.subrule++;return a=>e.parser.subrule(n,hz(e,i),!1,t,a)}else if(jc(r)&&Sl(r.rule.ref)){let i=e.consume++,n=YT(e,r.rule.ref.name);return()=>e.parser.consume(i,n,t)}else if(qc(r)){let i=e.consume++,n=YT(e,r.value);return()=>e.parser.consume(i,n,t)}else throw new Error("Could not build cross reference parser");else{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let i=sT(t.type.ref),n=i==null?void 0:i.terminal;if(!n)throw new Error("Could not find name assignment for type: "+pb(t.type.ref));return cz(e,t,n)}}function kAe(e,t){let r=e.consume++,i=e.tokens[t.value];if(!i)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,i,t)}function uz(e,t,r,i){let n=t&&Nl(t);if(!i)if(n){let a=e.or++;return s=>e.parser.alternatives(a,[{ALT:l(()=>r(s),"ALT"),GATE:l(()=>n(s),"GATE")},{ALT:AF(),GATE:l(()=>!n(s),"GATE")}])}else return r;if(i==="*"){let a=e.many++;return s=>e.parser.many(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else if(i==="+"){let a=e.many++;if(n){let s=e.or++;return o=>e.parser.alternatives(s,[{ALT:l(()=>e.parser.atLeastOne(a,{DEF:l(()=>r(o),"DEF")}),"ALT"),GATE:l(()=>n(o),"GATE")},{ALT:AF(),GATE:l(()=>!n(o),"GATE")}])}else return s=>e.parser.atLeastOne(a,{DEF:l(()=>r(s),"DEF")})}else if(i==="?"){let a=e.optional++;return s=>e.parser.optional(a,{DEF:l(()=>r(s),"DEF"),GATE:n?()=>n(s):void 0})}else gh(i)}function hz(e,t){let r=TAe(e,t),i=e.parser.getRule(r);if(!i)throw new Error(`Rule "${r}" not found."`);return i}function TAe(e,t){if(Qa(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,i=r.$container,n=t.$type;for(;!Qa(i);)(c0(i)||Yk(i)||Xk(i))&&(n=i.elements.indexOf(r).toString()+":"+n),r=i,i=i.$container;return n=i.name+":"+n,e.ruleNames.set(t,n),n}}function YT(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}var dz=B(()=>{"use strict";ep(),Hc(),NB(),vs(),Al(),l(VT,"createParser"),l(fAe,"buildRules"),l(kh,"buildElement"),l(mAe,"buildAction"),l(yAe,"buildRuleCall"),l(vAe,"buildRuleCallPredicate"),l(Nl,"buildPredicate"),l(bAe,"buildAlternatives"),l(xAe,"buildUnorderedGroup"),l(wAe,"buildGroup"),l(Yb,"getGuardCondition"),l(cz,"buildCrossReference"),l(kAe,"buildKeyword"),l(uz,"wrap"),l(hz,"getRule"),l(TAe,"getRuleName"),l(YT,"getToken")});function pz(e){let t=e.Grammar,r=e.parser.Lexer,i=new lz(e);return VT(t,i,r.definition),i.finalize(),i}var EAe=B(()=>{"use strict";HT(),dz(),l(pz,"createCompletionParser")});function gz(e){let t=fz(e);return t.finalize(),t}function fz(e){let t=e.Grammar,r=e.parser.Lexer,i=new sz(e);return VT(t,i,r.definition)}var CAe=B(()=>{"use strict";HT(),dz(),l(gz,"createLangiumParser"),l(fz,"prepareLangiumParser")}),Wb,mz=B(()=>{"use strict";var e;ep(),Hc(),Ja(),Al(),hb(),vs(),Wb=(e=class{constructor(){this.diagnostics=[]}buildTokens(r,i){let n=ji(rT(r,!1)),a=this.buildTerminalTokens(n),s=this.buildKeywordTokens(n,a,i);return a.forEach(o=>{let u=o.PATTERN;typeof u=="object"&&u&&"test"in u&&ub(u)?s.unshift(o):s.push(o)}),s}flushLexingReport(r){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let r=[...this.diagnostics];return this.diagnostics=[],r}buildTerminalTokens(r){return r.filter(Sl).filter(i=>!i.fragment).map(i=>this.buildTerminalToken(i)).toArray()}buildTerminalToken(r){let i=gb(r),n=this.requiresCustomPattern(i)?this.regexPatternFunction(i):i,a={name:r.name,PATTERN:n};return typeof n=="function"&&(a.LINE_BREAKS=!0),r.hidden&&(a.GROUP=ub(i)?da.SKIPPED:"hidden"),a}requiresCustomPattern(r){return r.flags.includes("u")||r.flags.includes("s")?!0:!!(r.source.includes("?<=")||r.source.includes("?<!"))}regexPatternFunction(r){let i=new RegExp(r,r.flags+"y");return(n,a)=>(i.lastIndex=a,i.exec(n))}buildKeywordTokens(r,i,n){return r.filter(Qa).flatMap(a=>yh(a).filter(qc)).distinct(a=>a.value).toArray().sort((a,s)=>s.value.length-a.value.length).map(a=>this.buildKeywordToken(a,i,!!(n!=null&&n.caseInsensitive)))}buildKeywordToken(r,i,n){let a=this.buildKeywordPattern(r,n),s={name:r.value,PATTERN:a,LONGER_ALT:this.findLongerAlt(r,i)};return typeof a=="function"&&(s.LINE_BREAKS=!0),s}buildKeywordPattern(r,i){return i?new RegExp(i$(r.value)):r.value}findLongerAlt(r,i){return i.reduce((n,a)=>{let s=a==null?void 0:a.PATTERN;return s!=null&&s.source&&n$("^"+s.source+"$",r.value)&&n.push(a),n},[])}},l(e,"DefaultTokenBuilder"),e)}),WT,Ml,SAe=B(()=>{"use strict";var e;Hc(),Al(),WT=(e=class{convert(r,i){let n=i.grammarSource;if(eb(n)&&(n=p$(n)),jc(n)){let a=n.rule.ref;if(!a)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(a,r,i)}return r}runConverter(r,i,n){var a;switch(r.name.toUpperCase()){case"INT":return Ml.convertInt(i);case"STRING":return Ml.convertString(i);case"ID":return Ml.convertID(i)}switch((a=k$(r))===null||a===void 0?void 0:a.toLowerCase()){case"number":return Ml.convertNumber(i);case"boolean":return Ml.convertBoolean(i);case"bigint":return Ml.convertBigint(i);case"date":return Ml.convertDate(i);default:return i}}},l(e,"DefaultValueConverter"),e),(function(t){function r(d){let p="";for(let g=1;g<d.length-1;g++){let f=d.charAt(g);if(f==="\\"){let m=d.charAt(++g);p+=i(m)}else p+=f}return p}l(r,"convertString"),t.convertString=r;function i(d){switch(d){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return d}}l(i,"convertEscapeCharacter");function n(d){return d.charAt(0)==="^"?d.substring(1):d}l(n,"convertID"),t.convertID=n;function a(d){return parseInt(d)}l(a,"convertInt"),t.convertInt=a;function s(d){return BigInt(d)}l(s,"convertBigint"),t.convertBigint=s;function o(d){return new Date(d)}l(o,"convertDate"),t.convertDate=o;function u(d){return Number(d)}l(u,"convertNumber"),t.convertNumber=u;function h(d){return d.toLowerCase()==="true"}l(h,"convertBoolean"),t.convertBoolean=h})(Ml||(Ml={}))}),_Ae=ci(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t;function r(){if(t===void 0)throw new Error("No runtime abstraction layer installed");return t}l(r,"RAL"),(function(i){function n(a){if(a===void 0)throw new Error("No runtime abstraction layer provided");t=a}l(n,"install"),i.install=n})(r||(r={})),e.default=r}),RQe=ci(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function t(u){return u===!0||u===!1}l(t,"boolean"),e.boolean=t;function r(u){return typeof u=="string"||u instanceof String}l(r,"string"),e.string=r;function i(u){return typeof u=="number"||u instanceof Number}l(i,"number"),e.number=i;function n(u){return u instanceof Error}l(n,"error"),e.error=n;function a(u){return typeof u=="function"}l(a,"func"),e.func=a;function s(u){return Array.isArray(u)}l(s,"array"),e.array=s;function o(u){return s(u)&&u.every(h=>r(h))}l(o,"stringArray"),e.stringArray=o}),AAe=ci(e=>{"use strict";var a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t=_Ae(),r;(function(o){let u={dispose(){}};o.None=function(){return u}})(r||(e.Event=r={}));var i=(a=class{add(u,h=null,d){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(u),this._contexts.push(h),Array.isArray(d)&&d.push({dispose:l(()=>this.remove(u,h),"dispose")})}remove(u,h=null){if(!this._callbacks)return;let d=!1;for(let p=0,g=this._callbacks.length;p<g;p++)if(this._callbacks[p]===u)if(this._contexts[p]===h){this._callbacks.splice(p,1),this._contexts.splice(p,1);return}else d=!0;if(d)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...u){if(!this._callbacks)return[];let h=[],d=this._callbacks.slice(0),p=this._contexts.slice(0);for(let g=0,f=d.length;g<f;g++)try{h.push(d[g].apply(p[g],u))}catch(m){(0,t.default)().console.error(m)}return h}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},l(a,"CallbackList"),a),n=(s=class{constructor(u){this._options=u}get event(){return this._event||(this._event=(u,h,d)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(u,h);let p={dispose:l(()=>{this._callbacks&&(this._callbacks.remove(u,h),p.dispose=s._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(d)&&d.push(p),p}),this._event}fire(u){this._callbacks&&this._callbacks.invoke.call(this._callbacks,u)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}},l(s,"Emitter"),s);e.Emitter=n,n._noop=function(){}}),OQe=ci(e=>{"use strict";var u,h;Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t=_Ae(),r=RQe(),i=AAe(),n;(function(d){d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None});function p(g){let f=g;return f&&(f===d.None||f===d.Cancelled||r.boolean(f.isCancellationRequested)&&!!f.onCancellationRequested)}l(p,"is"),d.is=p})(n||(e.CancellationToken=n={}));var a=Object.freeze(function(d,p){let g=(0,t.default)().timer.setTimeout(d.bind(p),0);return{dispose(){g.dispose()}}}),s=(u=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l(u,"MutableToken"),u),o=(h=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=n.None}},l(h,"CancellationTokenSource"),h);e.CancellationTokenSource=o}),oi={},Bo=B(()=>{"use strict";n4(oi,Yn(OQe(),1))});function XT(){return new Promise(e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)})}function KT(){return Xb=performance.now(),new oi.CancellationTokenSource}function yz(e){vz=e}function ip(e){return e===Zc}function pa(e){return xe(this,null,function*(){if(e===oi.CancellationToken.None)return;let t=performance.now();if(t-Xb>=vz&&(Xb=t,yield XT(),Xb=performance.now()),e.isCancellationRequested)throw Zc})}var Xb,vz,Zc,Il,$o=B(()=>{"use strict";var e;Bo(),l(XT,"delayNextTick"),Xb=0,vz=10,l(KT,"startCancelableOperation"),l(yz,"setInterruptionPeriod"),Zc=Symbol("OperationCancelled"),l(ip,"isOperationCancelled"),l(pa,"interruptAndCheck"),Il=(e=class{constructor(){this.promise=new Promise((r,i)=>{this.resolve=n=>(r(n),this),this.reject=n=>(i(n),this)})}},l(e,"Deferred"),e)});function ZT(e,t){if(e.length<=1)return e;let r=e.length/2|0,i=e.slice(0,r),n=e.slice(r);ZT(i,t),ZT(n,t);let a=0,s=0,o=0;for(;a<i.length&&s<n.length;)t(i[a],n[s])<=0?e[o++]=i[a++]:e[o++]=n[s++];for(;a<i.length;)e[o++]=i[a++];for(;s<n.length;)e[o++]=n[s++];return e}function bz(e,t,r=0){let i=t?[r]:[];for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);xz(a)&&(a===13&&n+1<e.length&&e.charCodeAt(n+1)===10&&n++,i.push(r+n+1))}return i}function xz(e){return e===13||e===10}function wz(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function LAe(e){let t=wz(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var kz,QT,PQe=B(()=>{"use strict";var e;kz=(e=class{constructor(r,i,n,a){this._uri=r,this._languageId=i,this._version=n,this._content=a,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(r){if(r){let i=this.offsetAt(r.start),n=this.offsetAt(r.end);return this._content.substring(i,n)}return this._content}update(r,i){for(let n of r)if(e.isIncremental(n)){let a=wz(n.range),s=this.offsetAt(a.start),o=this.offsetAt(a.end);this._content=this._content.substring(0,s)+n.text+this._content.substring(o,this._content.length);let u=Math.max(a.start.line,0),h=Math.max(a.end.line,0),d=this._lineOffsets,p=bz(n.text,!1,s);if(h-u===p.length)for(let f=0,m=p.length;f<m;f++)d[f+u+1]=p[f];else p.length<1e4?d.splice(u+1,h-u,...p):this._lineOffsets=d=d.slice(0,u+1).concat(p,d.slice(h+1));let g=n.text.length-(o-s);if(g!==0)for(let f=u+1+p.length,m=d.length;f<m;f++)d[f]=d[f]+g}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=i}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=bz(this._content,!0)),this._lineOffsets}positionAt(r){r=Math.max(Math.min(r,this._content.length),0);let i=this.getLineOffsets(),n=0,a=i.length;if(a===0)return{line:0,character:r};for(;n<a;){let o=Math.floor((n+a)/2);i[o]>r?a=o:n=o+1}let s=n-1;return r=this.ensureBeforeEOL(r,i[s]),{line:s,character:r-i[s]}}offsetAt(r){let i=this.getLineOffsets();if(r.line>=i.length)return this._content.length;if(r.line<0)return 0;let n=i[r.line];if(r.character<=0)return n;let a=r.line+1<i.length?i[r.line+1]:this._content.length,s=Math.min(n+r.character,a);return this.ensureBeforeEOL(s,n)}ensureBeforeEOL(r,i){for(;r>i&&xz(this._content.charCodeAt(r-1));)r--;return r}get lineCount(){return this.getLineOffsets().length}static isIncremental(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}static isFull(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}},l(e,"FullTextDocument"),e),(function(t){function r(a,s,o,u){return new kz(a,s,o,u)}l(r,"create"),t.create=r;function i(a,s,o){if(a instanceof kz)return a.update(s,o),a;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l(i,"update"),t.update=i;function n(a,s){let o=a.getText(),u=ZT(s.map(LAe),(p,g)=>{let f=p.range.start.line-g.range.start.line;return f===0?p.range.start.character-g.range.start.character:f}),h=0,d=[];for(let p of u){let g=a.offsetAt(p.range.start);if(g<h)throw new Error("Overlapping edit");g>h&&d.push(o.substring(h,g)),p.newText.length&&d.push(p.newText),h=a.offsetAt(p.range.end)}return d.push(o.substr(h)),d.join("")}l(n,"applyEdits"),t.applyEdits=n})(QT||(QT={})),l(ZT,"mergeSort"),l(bz,"computeLineOffsets"),l(xz,"isEOL"),l(wz,"getWellformedRange"),l(LAe,"getWellformedEdit")}),NAe,Dl,mf,MAe=B(()=>{"use strict";(()=>{"use strict";var e={470:n=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}l(a,"e");function s(u,h){for(var d,p="",g=0,f=-1,m=0,x=0;x<=u.length;++x){if(x<u.length)d=u.charCodeAt(x);else{if(d===47)break;d=47}if(d===47){if(!(f===x-1||m===1))if(f!==x-1&&m===2){if(p.length<2||g!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var T=p.lastIndexOf("/");if(T!==p.length-1){T===-1?(p="",g=0):g=(p=p.slice(0,T)).length-1-p.lastIndexOf("/"),f=x,m=0;continue}}else if(p.length===2||p.length===1){p="",g=0,f=x,m=0;continue}}h&&(p.length>0?p+="/..":p="..",g=2)}else p.length>0?p+="/"+u.slice(f+1,x):p=u.slice(f+1,x),g=x-f-1;f=x,m=0}else d===46&&m!==-1?++m:m=-1}return p}l(s,"r");var o={resolve:l(function(){for(var u,h="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var g;p>=0?g=arguments[p]:(u===void 0&&(u=process.cwd()),g=u),a(g),g.length!==0&&(h=g+"/"+h,d=g.charCodeAt(0)===47)}return h=s(h,!d),d?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:l(function(u){if(a(u),u.length===0)return".";var h=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=s(u,!h)).length!==0||h||(u="."),u.length>0&&d&&(u+="/"),h?"/"+u:u},"normalize"),isAbsolute:l(function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},"isAbsolute"),join:l(function(){if(arguments.length===0)return".";for(var u,h=0;h<arguments.length;++h){var d=arguments[h];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":o.normalize(u)},"join"),relative:l(function(u,h){if(a(u),a(h),u===h||(u=o.resolve(u))===(h=o.resolve(h)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,g=p-d,f=1;f<h.length&&h.charCodeAt(f)===47;++f);for(var m=h.length-f,x=g<m?g:m,T=-1,k=0;k<=x;++k){if(k===x){if(m>x){if(h.charCodeAt(f+k)===47)return h.slice(f+k+1);if(k===0)return h.slice(f+k)}else g>x&&(u.charCodeAt(d+k)===47?T=k:k===0&&(T=0));break}var E=u.charCodeAt(d+k);if(E!==h.charCodeAt(f+k))break;E===47&&(T=k)}var S="";for(k=d+T+1;k<=p;++k)k!==p&&u.charCodeAt(k)!==47||(S.length===0?S+="..":S+="/..");return S.length>0?S+h.slice(f+T):(f+=T,h.charCodeAt(f)===47&&++f,h.slice(f))},"relative"),_makeLong:l(function(u){return u},"_makeLong"),dirname:l(function(u){if(a(u),u.length===0)return".";for(var h=u.charCodeAt(0),d=h===47,p=-1,g=!0,f=u.length-1;f>=1;--f)if((h=u.charCodeAt(f))===47){if(!g){p=f;break}}else g=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},"dirname"),basename:l(function(u,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,g=-1,f=!0;if(h!==void 0&&h.length>0&&h.length<=u.length){if(h.length===u.length&&h===u)return"";var m=h.length-1,x=-1;for(d=u.length-1;d>=0;--d){var T=u.charCodeAt(d);if(T===47){if(!f){p=d+1;break}}else x===-1&&(f=!1,x=d+1),m>=0&&(T===h.charCodeAt(m)?--m==-1&&(g=d):(m=-1,g=x))}return p===g?g=x:g===-1&&(g=u.length),u.slice(p,g)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!f){p=d+1;break}}else g===-1&&(f=!1,g=d+1);return g===-1?"":u.slice(p,g)},"basename"),extname:l(function(u){a(u);for(var h=-1,d=0,p=-1,g=!0,f=0,m=u.length-1;m>=0;--m){var x=u.charCodeAt(m);if(x!==47)p===-1&&(g=!1,p=m+1),x===46?h===-1?h=m:f!==1&&(f=1):h!==-1&&(f=-1);else if(!g){d=m+1;break}}return h===-1||p===-1||f===0||f===1&&h===p-1&&h===d+1?"":u.slice(h,p)},"extname"),format:l(function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return(function(h,d){var p=d.dir||d.root,g=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+g:p+"/"+g:g})(0,u)},"format"),parse:l(function(u){a(u);var h={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return h;var d,p=u.charCodeAt(0),g=p===47;g?(h.root="/",d=1):d=0;for(var f=-1,m=0,x=-1,T=!0,k=u.length-1,E=0;k>=d;--k)if((p=u.charCodeAt(k))!==47)x===-1&&(T=!1,x=k+1),p===46?f===-1?f=k:E!==1&&(E=1):f!==-1&&(E=-1);else if(!T){m=k+1;break}return f===-1||x===-1||E===0||E===1&&f===x-1&&f===m+1?x!==-1&&(h.base=h.name=m===0&&g?u.slice(1,x):u.slice(m,x)):(m===0&&g?(h.name=u.slice(1,f),h.base=u.slice(1,x)):(h.name=u.slice(m,f),h.base=u.slice(m,x)),h.ext=u.slice(f,x)),m>0?h.dir=u.slice(0,m-1):g&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,n.exports=o}},t={};function r(n){var a=t[n];if(a!==void 0)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}l(r,"r"),r.d=(n,a)=>{for(var s in a)r.o(a,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:a[s]})},r.o=(n,a)=>Object.prototype.hasOwnProperty.call(n,a),r.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};(()=>{let n;r.r(i),r.d(i,{URI:l(()=>g,"URI"),Utils:l(()=>A,"Utils")}),typeof process=="object"?n=process.platform==="win32":typeof navigator=="object"&&(n=navigator.userAgent.indexOf("Windows")>=0);let a=/^\w[\w\d+.-]*$/,s=/^\//,o=/^\/\//;function u(O,_){if(!O.scheme&&_)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${O.authority}", path: "${O.path}", query: "${O.query}", fragment: "${O.fragment}"}`);if(O.scheme&&!a.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!s.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(o.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}l(u,"s");let h="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;const M=class M{constructor(_,I,R,P,D,$=!1){Ar(this,"scheme");Ar(this,"authority");Ar(this,"path");Ar(this,"query");Ar(this,"fragment");typeof _=="object"?(this.scheme=_.scheme||h,this.authority=_.authority||h,this.path=_.path||h,this.query=_.query||h,this.fragment=_.fragment||h):(this.scheme=(function(F,z){return F||z?F:"file"})(_,$),this.authority=I||h,this.path=(function(F,z){switch(F){case"https":case"http":case"file":z?z[0]!==d&&(z=d+z):z=d}return z})(this.scheme,R||h),this.query=P||h,this.fragment=D||h,u(this,$))}static isUri(_){return _ instanceof M||!!_&&typeof _.authority=="string"&&typeof _.fragment=="string"&&typeof _.path=="string"&&typeof _.query=="string"&&typeof _.scheme=="string"&&typeof _.fsPath=="string"&&typeof _.with=="function"&&typeof _.toString=="function"}get fsPath(){return E(this,!1)}with(_){if(!_)return this;let{scheme:I,authority:R,path:P,query:D,fragment:$}=_;return I===void 0?I=this.scheme:I===null&&(I=h),R===void 0?R=this.authority:R===null&&(R=h),P===void 0?P=this.path:P===null&&(P=h),D===void 0?D=this.query:D===null&&(D=h),$===void 0?$=this.fragment:$===null&&($=h),I===this.scheme&&R===this.authority&&P===this.path&&D===this.query&&$===this.fragment?this:new m(I,R,P,D,$)}static parse(_,I=!1){let R=p.exec(_);return R?new m(R[2]||h,y(R[4]||h),y(R[5]||h),y(R[7]||h),y(R[9]||h),I):new m(h,h,h,h,h)}static file(_){let I=h;if(n&&(_=_.replace(/\\/g,d)),_[0]===d&&_[1]===d){let R=_.indexOf(d,2);R===-1?(I=_.substring(2),_=d):(I=_.substring(2,R),_=_.substring(R)||d)}return new m("file",I,_,h,h)}static from(_){let I=new m(_.scheme,_.authority,_.path,_.query,_.fragment);return u(I,!0),I}toString(_=!1){return S(this,_)}toJSON(){return this}static revive(_){if(_){if(_ instanceof M)return _;{let I=new m(_);return I._formatted=_.external,I._fsPath=_._sep===f?_.fsPath:null,I}}return _}};l(M,"f");let g=M,f=n?1:void 0;const N=class N extends g{constructor(){super(...arguments);Ar(this,"_formatted",null);Ar(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=E(this,!1)),this._fsPath}toString(I=!1){return I?S(this,!0):(this._formatted||(this._formatted=S(this,!1)),this._formatted)}toJSON(){let I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=f),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}};l(N,"l");let m=N,x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function T(O,_,I){let R,P=-1;for(let D=0;D<O.length;D++){let $=O.charCodeAt(D);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||_&&$===47||I&&$===91||I&&$===93||I&&$===58)P!==-1&&(R+=encodeURIComponent(O.substring(P,D)),P=-1),R!==void 0&&(R+=O.charAt(D));else{R===void 0&&(R=O.substr(0,D));let F=x[$];F!==void 0?(P!==-1&&(R+=encodeURIComponent(O.substring(P,D)),P=-1),R+=F):P===-1&&(P=D)}}return P!==-1&&(R+=encodeURIComponent(O.substring(P))),R!==void 0?R:O}l(T,"d");function k(O){let _;for(let I=0;I<O.length;I++){let R=O.charCodeAt(I);R===35||R===63?(_===void 0&&(_=O.substr(0,I)),_+=x[R]):_!==void 0&&(_+=O[I])}return _!==void 0?_:O}l(k,"p");function E(O,_){let I;return I=O.authority&&O.path.length>1&&O.scheme==="file"?`//${O.authority}${O.path}`:O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?_?O.path.substr(1):O.path[1].toLowerCase()+O.path.substr(2):O.path,n&&(I=I.replace(/\//g,"\\")),I}l(E,"m");function S(O,_){let I=_?k:T,R="",{scheme:P,authority:D,path:$,query:F,fragment:z}=O;if(P&&(R+=P,R+=":"),(D||P==="file")&&(R+=d,R+=d),D){let U=D.indexOf("@");if(U!==-1){let j=D.substr(0,U);D=D.substr(U+1),U=j.lastIndexOf(":"),U===-1?R+=I(j,!1,!1):(R+=I(j.substr(0,U),!1,!1),R+=":",R+=I(j.substr(U+1),!1,!0)),R+="@"}D=D.toLowerCase(),U=D.lastIndexOf(":"),U===-1?R+=I(D,!1,!0):(R+=I(D.substr(0,U),!1,!0),R+=D.substr(U))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58){let U=$.charCodeAt(1);U>=65&&U<=90&&($=`/${String.fromCharCode(U+32)}:${$.substr(3)}`)}else if($.length>=2&&$.charCodeAt(1)===58){let U=$.charCodeAt(0);U>=65&&U<=90&&($=`${String.fromCharCode(U+32)}:${$.substr(2)}`)}R+=I($,!0,!1)}return F&&(R+="?",R+=I(F,!1,!1)),z&&(R+="#",R+=_?z:T(z,!1,!1)),R}l(S,"y");function L(O){try{return decodeURIComponent(O)}catch(_){return O.length>3?O.substr(0,3)+L(O.substr(3)):O}}l(L,"v");let b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function y(O){return O.match(b)?O.replace(b,(_=>L(_))):O}l(y,"C");var v=r(470);let w=v.posix||v,C="/";var A;(function(O){O.joinPath=function(_,...I){return _.with({path:w.join(_.path,...I)})},O.resolvePath=function(_,...I){let R=_.path,P=!1;R[0]!==C&&(R=C+R,P=!0);let D=w.resolve(R,...I);return P&&D[0]===C&&!_.authority&&(D=D.substring(1)),_.with({path:D})},O.dirname=function(_){if(_.path.length===0||_.path===C)return _;let I=w.dirname(_.path);return I.length===1&&I.charCodeAt(0)===46&&(I=""),_.with({path:I})},O.basename=function(_){return w.basename(_.path)},O.extname=function(_){return w.extname(_.path)}})(A||(A={}))})(),NAe=i})(),{URI:Dl,Utils:mf}=NAe}),Rl,Qc=B(()=>{"use strict";MAe(),(function(e){e.basename=mf.basename,e.dirname=mf.dirname,e.extname=mf.extname,e.joinPath=mf.joinPath,e.resolvePath=mf.resolvePath;function t(n,a){return(n==null?void 0:n.toString())===(a==null?void 0:a.toString())}l(t,"equals"),e.equals=t;function r(n,a){let s=typeof n=="string"?n:n.path,o=typeof a=="string"?a:a.path,u=s.split("/").filter(f=>f.length>0),h=o.split("/").filter(f=>f.length>0),d=0;for(;d<u.length&&u[d]===h[d];d++);let p="../".repeat(u.length-d),g=h.slice(d).join("/");return p+g}l(r,"relative"),e.relative=r;function i(n){return Dl.parse(n.toString()).toString()}l(i,"normalize"),e.normalize=i})(Rl||(Rl={}))}),pi,Tz,Ez,Kb=B(()=>{"use strict";var e,t;PQe(),Kb(),Bo(),vs(),Qc(),(function(r){r[r.Changed=0]="Changed",r[r.Parsed=1]="Parsed",r[r.IndexedContent=2]="IndexedContent",r[r.ComputedScopes=3]="ComputedScopes",r[r.Linked=4]="Linked",r[r.IndexedReferences=5]="IndexedReferences",r[r.Validated=6]="Validated"})(pi||(pi={})),Tz=(e=class{constructor(i){this.serviceRegistry=i.ServiceRegistry,this.textDocuments=i.workspace.TextDocuments,this.fileSystemProvider=i.workspace.FileSystemProvider}fromUri(a){return xe(this,arguments,function*(i,n=oi.CancellationToken.None){let s=yield this.fileSystemProvider.readFile(i);return this.createAsync(i,s,n)})}fromTextDocument(i,n,a){return n=n!=null?n:Dl.parse(i.uri),oi.CancellationToken.is(a)?this.createAsync(n,i,a):this.create(n,i,a)}fromString(i,n,a){return oi.CancellationToken.is(a)?this.createAsync(n,i,a):this.create(n,i,a)}fromModel(i,n){return this.create(n,{$model:i})}create(i,n,a){if(typeof n=="string"){let s=this.parse(i,n,a);return this.createLangiumDocument(s,i,void 0,n)}else if("$model"in n){let s={value:n.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(s,i)}else{let s=this.parse(i,n.getText(),a);return this.createLangiumDocument(s,i,n)}}createAsync(i,n,a){return xe(this,null,function*(){if(typeof n=="string"){let s=yield this.parseAsync(i,n,a);return this.createLangiumDocument(s,i,void 0,n)}else{let s=yield this.parseAsync(i,n.getText(),a);return this.createLangiumDocument(s,i,n)}})}createLangiumDocument(i,n,a,s){let o;if(a)o={parseResult:i,uri:n,state:pi.Parsed,references:[],textDocument:a};else{let u=this.createTextDocumentGetter(n,s);o={parseResult:i,uri:n,state:pi.Parsed,references:[],get textDocument(){return u()}}}return i.value.$document=o,o}update(i,n){return xe(this,null,function*(){var a,s;let o=(a=i.parseResult.value.$cstNode)===null||a===void 0?void 0:a.root.fullText,u=(s=this.textDocuments)===null||s===void 0?void 0:s.get(i.uri.toString()),h=u?u.getText():yield this.fileSystemProvider.readFile(i.uri);if(u)Object.defineProperty(i,"textDocument",{value:u});else{let d=this.createTextDocumentGetter(i.uri,h);Object.defineProperty(i,"textDocument",{get:d})}return o!==h&&(i.parseResult=yield this.parseAsync(i.uri,h,n),i.parseResult.value.$document=i),i.state=pi.Parsed,i})}parse(i,n,a){return this.serviceRegistry.getServices(i).parser.LangiumParser.parse(n,a)}parseAsync(i,n,a){return this.serviceRegistry.getServices(i).parser.AsyncParser.parse(n,a)}createTextDocumentGetter(i,n){let a=this.serviceRegistry,s;return()=>s!=null?s:s=QT.create(i.toString(),a.getServices(i).LanguageMetaData.languageId,0,n!=null?n:"")}},l(e,"DefaultLangiumDocumentFactory"),e),Ez=(t=class{constructor(i){this.documentMap=new Map,this.langiumDocumentFactory=i.workspace.LangiumDocumentFactory,this.serviceRegistry=i.ServiceRegistry}get all(){return ji(this.documentMap.values())}addDocument(i){let n=i.uri.toString();if(this.documentMap.has(n))throw new Error(`A document with the URI '${n}' is already present.`);this.documentMap.set(n,i)}getDocument(i){let n=i.toString();return this.documentMap.get(n)}getOrCreateDocument(i,n){return xe(this,null,function*(){let a=this.getDocument(i);return a||(a=yield this.langiumDocumentFactory.fromUri(i,n),this.addDocument(a),a)})}createDocument(i,n,a){if(a)return this.langiumDocumentFactory.fromString(n,i,a).then(s=>(this.addDocument(s),s));{let s=this.langiumDocumentFactory.fromString(n,i);return this.addDocument(s),s}}hasDocument(i){return this.documentMap.has(i.toString())}invalidateDocument(i){let n=i.toString(),a=this.documentMap.get(n);return a&&(this.serviceRegistry.getServices(i).references.Linker.unlink(a),a.state=pi.Changed,a.precomputedScopes=void 0,a.diagnostics=void 0),a}deleteDocument(i){let n=i.toString(),a=this.documentMap.get(n);return a&&(a.state=pi.Changed,this.documentMap.delete(n)),a}},l(t,"DefaultLangiumDocuments"),t)}),JT,Cz,IAe=B(()=>{"use strict";var e;Bo(),Tl(),Ja(),$o(),Kb(),JT=Symbol("ref_resolving"),Cz=(e=class{constructor(r){this.reflection=r.shared.AstReflection,this.langiumDocuments=()=>r.shared.workspace.LangiumDocuments,this.scopeProvider=r.references.ScopeProvider,this.astNodeLocator=r.workspace.AstNodeLocator}link(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){for(let a of Vc(r.parseResult.value))yield pa(i),nb(a).forEach(s=>this.doLink(s,r))})}doLink(r,i){var n;let a=r.reference;if(a._ref===void 0){a._ref=JT;try{let s=this.getCandidate(r);if(U1(s))a._ref=s;else if(a._nodeDescription=s,this.langiumDocuments().hasDocument(s.documentUri)){let o=this.loadAstNode(s);a._ref=o!=null?o:this.createLinkingError(r,s)}else a._ref=void 0}catch(s){console.error(`An error occurred while resolving reference to '${a.$refText}':`,s);let o=(n=s.message)!==null&&n!==void 0?n:String(s);a._ref=Object.assign(Object.assign({},r),{message:`An error occurred while resolving reference to '${a.$refText}': ${o}`})}i.references.push(a)}}unlink(r){for(let i of r.references)delete i._ref,delete i._nodeDescription;r.references=[]}getCandidate(r){let i=this.scopeProvider.getScope(r).getElement(r.reference.$refText);return i!=null?i:this.createLinkingError(r)}buildReference(r,i,n,a){let s=this,o={$refNode:n,$refText:a,get ref(){var u;if(on(this._ref))return this._ref;if(xB(this._nodeDescription)){let h=s.loadAstNode(this._nodeDescription);this._ref=h!=null?h:s.createLinkingError({reference:o,container:r,property:i},this._nodeDescription)}else if(this._ref===void 0){this._ref=JT;let h=rb(r).$document,d=s.getLinkedNode({reference:o,container:r,property:i});if(d.error&&h&&h.state<pi.ComputedScopes)return this._ref=void 0;this._ref=(u=d.node)!==null&&u!==void 0?u:d.error,this._nodeDescription=d.descr,h==null||h.references.push(this)}else if(this._ref===JT)throw new Error(`Cyclic reference resolution detected: ${s.astNodeLocator.getAstNodePath(r)}/${i} (symbol '${a}')`);return on(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return U1(this._ref)?this._ref:void 0}};return o}getLinkedNode(r){var i;try{let n=this.getCandidate(r);if(U1(n))return{error:n};let a=this.loadAstNode(n);return a?{node:a,descr:n}:{descr:n,error:this.createLinkingError(r,n)}}catch(n){console.error(`An error occurred while resolving reference to '${r.reference.$refText}':`,n);let a=(i=n.message)!==null&&i!==void 0?i:String(n);return{error:Object.assign(Object.assign({},r),{message:`An error occurred while resolving reference to '${r.reference.$refText}': ${a}`})}}}loadAstNode(r){if(r.node)return r.node;let i=this.langiumDocuments().getDocument(r.documentUri);if(i)return this.astNodeLocator.getAstNode(i.parseResult.value,r.path)}createLinkingError(r,i){let n=rb(r.container).$document;n&&n.state<pi.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${n.uri}).`);let a=this.reflection.getReferenceType(r);return Object.assign(Object.assign({},r),{message:`Could not resolve reference to ${a} named '${r.reference.$refText}'.`,targetDescription:i})}},l(e,"DefaultLinker"),e)});function Sz(e){return typeof e.name=="string"}var _z,DAe=B(()=>{"use strict";var e;Al(),l(Sz,"isNamed"),_z=(e=class{getName(r){if(Sz(r))return r.name}getNameNode(r){return iT(r.$cstNode,"name")}},l(e,"DefaultNameProvider"),e)}),Az,RAe=B(()=>{"use strict";var e;Al(),Tl(),Ja(),Cl(),vs(),Qc(),Az=(e=class{constructor(r){this.nameProvider=r.references.NameProvider,this.index=r.shared.workspace.IndexManager,this.nodeLocator=r.workspace.AstNodeLocator}findDeclaration(r){if(r){let i=y$(r),n=r.astNode;if(i&&n){let a=n[i.feature];if(Za(a))return a.ref;if(Array.isArray(a)){for(let s of a)if(Za(s)&&s.$refNode&&s.$refNode.offset<=r.offset&&s.$refNode.end>=r.end)return s.ref}}if(n){let a=this.nameProvider.getNameNode(n);if(a&&(a===r||kB(r,a)))return n}}}findDeclarationNode(r){let i=this.findDeclaration(r);if(i!=null&&i.$cstNode){let n=this.nameProvider.getNameNode(i);return n!=null?n:i.$cstNode}}findReferences(r,i){let n=[];if(i.includeDeclaration){let s=this.getReferenceToSelf(r);s&&n.push(s)}let a=this.index.findAllReferences(r,this.nodeLocator.getAstNodePath(r));return i.documentUri&&(a=a.filter(s=>Rl.equals(s.sourceUri,i.documentUri))),n.push(...a),ji(n)}getReferenceToSelf(r){let i=this.nameProvider.getNameNode(r);if(i){let n=Ro(r),a=this.nodeLocator.getAstNodePath(r);return{sourceUri:n.uri,sourcePath:a,targetUri:n.uri,targetPath:a,segment:j1(i),local:!0}}}},l(e,"DefaultReferences"),e)}),np,Zb,Qb=B(()=>{"use strict";var e,t;vs(),np=(e=class{constructor(i){if(this.map=new Map,i)for(let[n,a]of i)this.add(n,a)}get size(){return Kv.sum(ji(this.map.values()).map(i=>i.length))}clear(){this.map.clear()}delete(i,n){if(n===void 0)return this.map.delete(i);{let a=this.map.get(i);if(a){let s=a.indexOf(n);if(s>=0)return a.length===1?this.map.delete(i):a.splice(s,1),!0}return!1}}get(i){var n;return(n=this.map.get(i))!==null&&n!==void 0?n:[]}has(i,n){if(n===void 0)return this.map.has(i);{let a=this.map.get(i);return a?a.indexOf(n)>=0:!1}}add(i,n){return this.map.has(i)?this.map.get(i).push(n):this.map.set(i,[n]),this}addAll(i,n){return this.map.has(i)?this.map.get(i).push(...n):this.map.set(i,Array.from(n)),this}forEach(i){this.map.forEach((n,a)=>n.forEach(s=>i(s,a,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return ji(this.map.entries()).flatMap(([i,n])=>n.map(a=>[i,a]))}keys(){return ji(this.map.keys())}values(){return ji(this.map.values()).flat()}entriesGroupedByKey(){return ji(this.map.entries())}},l(e,"MultiMap"),e),Zb=(t=class{get size(){return this.map.size}constructor(i){if(this.map=new Map,this.inverse=new Map,i)for(let[n,a]of i)this.set(n,a)}clear(){this.map.clear(),this.inverse.clear()}set(i,n){return this.map.set(i,n),this.inverse.set(n,i),this}get(i){return this.map.get(i)}getKey(i){return this.inverse.get(i)}delete(i){let n=this.map.get(i);return n!==void 0?(this.map.delete(i),this.inverse.delete(n),!0):!1}},l(t,"BiMap"),t)}),Lz,OAe=B(()=>{"use strict";var e;Bo(),Ja(),Qb(),$o(),Lz=(e=class{constructor(r){this.nameProvider=r.references.NameProvider,this.descriptions=r.workspace.AstNodeDescriptionProvider}computeExports(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){return this.computeExportsForNode(r.parseResult.value,r,void 0,i)})}computeExportsForNode(s,o){return xe(this,arguments,function*(r,i,n=ib,a=oi.CancellationToken.None){let u=[];this.exportNode(r,u,i);for(let h of n(r))yield pa(a),this.exportNode(h,u,i);return u})}exportNode(r,i,n){let a=this.nameProvider.getName(r);a&&i.push(this.descriptions.createDescription(r,a,n))}computeLocalScopes(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){let a=r.parseResult.value,s=new np;for(let o of yh(a))yield pa(i),this.processNode(o,r,s);return s})}processNode(r,i,n){let a=r.$container;if(a){let s=this.nameProvider.getName(r);s&&n.add(a,this.descriptions.createDescription(r,s,i))}}},l(e,"DefaultScopeComputation"),e)}),e7,Nz,PAe,BAe=B(()=>{"use strict";var e,t;vs(),e7=(e=class{constructor(i,n,a){var s;this.elements=i,this.outerScope=n,this.caseInsensitive=(s=a==null?void 0:a.caseInsensitive)!==null&&s!==void 0?s:!1}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(i){let n=this.caseInsensitive?this.elements.find(a=>a.name.toLowerCase()===i.toLowerCase()):this.elements.find(a=>a.name===i);if(n)return n;if(this.outerScope)return this.outerScope.getElement(i)}},l(e,"StreamScope"),e),Nz=(t=class{constructor(i,n,a){var s;this.elements=new Map,this.caseInsensitive=(s=a==null?void 0:a.caseInsensitive)!==null&&s!==void 0?s:!1;for(let o of i){let u=this.caseInsensitive?o.name.toLowerCase():o.name;this.elements.set(u,o)}this.outerScope=n}getElement(i){let n=this.caseInsensitive?i.toLowerCase():i,a=this.elements.get(n);if(a)return a;if(this.outerScope)return this.outerScope.getElement(i)}getAllElements(){let i=ji(this.elements.values());return this.outerScope&&(i=i.concat(this.outerScope.getAllElements())),i}},l(t,"MapScope"),t),PAe={getElement(){},getAllElements(){return Xv}}}),Jb,t7,ex,Mz,r7,Iz=B(()=>{"use strict";var e,t,r,i,n;Jb=(e=class{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(s){this.toDispose.push(s)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach(s=>s.dispose())}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},l(e,"DisposableCache"),e),t7=(t=class extends Jb{constructor(){super(...arguments),this.cache=new Map}has(s){return this.throwIfDisposed(),this.cache.has(s)}set(s,o){this.throwIfDisposed(),this.cache.set(s,o)}get(s,o){if(this.throwIfDisposed(),this.cache.has(s))return this.cache.get(s);if(o){let u=o();return this.cache.set(s,u),u}else return}delete(s){return this.throwIfDisposed(),this.cache.delete(s)}clear(){this.throwIfDisposed(),this.cache.clear()}},l(t,"SimpleCache"),t),ex=(r=class extends Jb{constructor(s){super(),this.cache=new Map,this.converter=s!=null?s:(o=>o)}has(s,o){return this.throwIfDisposed(),this.cacheForContext(s).has(o)}set(s,o,u){this.throwIfDisposed(),this.cacheForContext(s).set(o,u)}get(s,o,u){this.throwIfDisposed();let h=this.cacheForContext(s);if(h.has(o))return h.get(o);if(u){let d=u();return h.set(o,d),d}else return}delete(s,o){return this.throwIfDisposed(),this.cacheForContext(s).delete(o)}clear(s){if(this.throwIfDisposed(),s){let o=this.converter(s);this.cache.delete(o)}else this.cache.clear()}cacheForContext(s){let o=this.converter(s),u=this.cache.get(o);return u||(u=new Map,this.cache.set(o,u)),u}},l(r,"ContextCache"),r),Mz=(i=class extends ex{constructor(s,o){super(u=>u.toString()),o?(this.toDispose.push(s.workspace.DocumentBuilder.onDocumentPhase(o,u=>{this.clear(u.uri.toString())})),this.toDispose.push(s.workspace.DocumentBuilder.onUpdate((u,h)=>{for(let d of h)this.clear(d)}))):this.toDispose.push(s.workspace.DocumentBuilder.onUpdate((u,h)=>{let d=u.concat(h);for(let p of d)this.clear(p)}))}},l(i,"DocumentCache"),i),r7=(n=class extends t7{constructor(s,o){super(),o?(this.toDispose.push(s.workspace.DocumentBuilder.onBuildPhase(o,()=>{this.clear()})),this.toDispose.push(s.workspace.DocumentBuilder.onUpdate((u,h)=>{h.length>0&&this.clear()}))):this.toDispose.push(s.workspace.DocumentBuilder.onUpdate(()=>{this.clear()}))}},l(n,"WorkspaceCache"),n)}),Dz,$Ae=B(()=>{"use strict";var e;BAe(),Ja(),vs(),Iz(),Dz=(e=class{constructor(r){this.reflection=r.shared.AstReflection,this.nameProvider=r.references.NameProvider,this.descriptions=r.workspace.AstNodeDescriptionProvider,this.indexManager=r.shared.workspace.IndexManager,this.globalScopeCache=new r7(r.shared)}getScope(r){let i=[],n=this.reflection.getReferenceType(r),a=Ro(r.container).precomputedScopes;if(a){let o=r.container;do{let u=a.get(o);u.length>0&&i.push(ji(u).filter(h=>this.reflection.isSubtype(h.type,n))),o=o.$container}while(o)}let s=this.getGlobalScope(n,r);for(let o=i.length-1;o>=0;o--)s=this.createScope(i[o],s);return s}createScope(r,i,n){return new e7(ji(r),i,n)}createScopeForNodes(r,i,n){let a=ji(r).map(s=>{let o=this.nameProvider.getName(s);if(o)return this.descriptions.createDescription(s,o)}).nonNullable();return new e7(a,i,n)}getGlobalScope(r,i){return this.globalScopeCache.get(r,()=>new Nz(this.indexManager.allElements(r)))}},l(e,"DefaultScopeProvider"),e)});function Rz(e){return typeof e.$comment=="string"}function Oz(e){return typeof e=="object"&&!!e&&("$ref"in e||"$error"in e)}var Pz,Bz=B(()=>{"use strict";var e;MAe(),Tl(),Ja(),Al(),l(Rz,"isAstNodeWithComment"),l(Oz,"isIntermediateReference"),Pz=(e=class{constructor(r){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=r.shared.workspace.LangiumDocuments,this.astNodeLocator=r.workspace.AstNodeLocator,this.nameProvider=r.references.NameProvider,this.commentProvider=r.documentation.CommentProvider}serialize(r,i){let n=i!=null?i:{},a=i==null?void 0:i.replacer,s=l((u,h)=>this.replacer(u,h,n),"defaultReplacer"),o=a?(u,h)=>a(u,h,s):s;try{return this.currentDocument=Ro(r),JSON.stringify(r,o,i==null?void 0:i.space)}finally{this.currentDocument=void 0}}deserialize(r,i){let n=i!=null?i:{},a=JSON.parse(r);return this.linkNode(a,a,n),a}replacer(r,i,{refText:n,sourceText:a,textRegions:s,comments:o,uriConverter:u}){var h,d,p,g;if(!this.ignoreProperties.has(r))if(Za(i)){let f=i.ref,m=n?i.$refText:void 0;if(f){let x=Ro(f),T="";this.currentDocument&&this.currentDocument!==x&&(u?T=u(x.uri,i):T=x.uri.toString());let k=this.astNodeLocator.getAstNodePath(f);return{$ref:`${T}#${k}`,$refText:m}}else return{$error:(d=(h=i.error)===null||h===void 0?void 0:h.message)!==null&&d!==void 0?d:"Could not resolve reference",$refText:m}}else if(on(i)){let f;if(s&&(f=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},i)),(!r||i.$document)&&(f!=null&&f.$textRegion)&&(f.$textRegion.documentURI=(p=this.currentDocument)===null||p===void 0?void 0:p.uri.toString())),a&&!r&&(f!=null||(f=Object.assign({},i)),f.$sourceText=(g=i.$cstNode)===null||g===void 0?void 0:g.text),o){f!=null||(f=Object.assign({},i));let m=this.commentProvider.getComment(i);m&&(f.$comment=m.replace(/\r/g,""))}return f!=null?f:i}else return i}addAstNodeRegionWithAssignmentsTo(r){let i=l(n=>({offset:n.offset,end:n.end,length:n.length,range:n.range}),"createDocumentSegment");if(r.$cstNode){let n=r.$textRegion=i(r.$cstNode),a=n.assignments={};return Object.keys(r).filter(s=>!s.startsWith("$")).forEach(s=>{let o=f$(r.$cstNode,s).map(i);o.length!==0&&(a[s]=o)}),r}}linkNode(r,i,n,a,s,o){for(let[h,d]of Object.entries(r))if(Array.isArray(d))for(let p=0;p<d.length;p++){let g=d[p];Oz(g)?d[p]=this.reviveReference(r,h,i,g,n):on(g)&&this.linkNode(g,i,n,r,h,p)}else Oz(d)?r[h]=this.reviveReference(r,h,i,d,n):on(d)&&this.linkNode(d,i,n,r,h);let u=r;u.$container=a,u.$containerProperty=s,u.$containerIndex=o}reviveReference(r,i,n,a,s){let o=a.$refText,u=a.$error;if(a.$ref){let h=this.getRefNode(n,a.$ref,s.uriConverter);if(on(h))return o||(o=this.nameProvider.getName(h)),{$refText:o!=null?o:"",ref:h};u=h}if(u){let h={$refText:o!=null?o:""};return h.error={container:r,property:i,message:u,reference:h},h}else return}getRefNode(r,i,n){try{let a=i.indexOf("#");if(a===0)return this.astNodeLocator.getAstNode(r,i.substring(1))||"Could not resolve path: "+i;if(a<0){let h=n?n(i):Dl.parse(i),d=this.langiumDocuments.getDocument(h);return d?d.parseResult.value:"Could not find document for URI: "+i}let s=n?n(i.substring(0,a)):Dl.parse(i.substring(0,a)),o=this.langiumDocuments.getDocument(s);return o?a===i.length-1?o.parseResult.value:this.astNodeLocator.getAstNode(o.parseResult.value,i.substring(a+1))||"Could not resolve URI: "+i:"Could not find document for URI: "+i}catch(a){return String(a)}}},l(e,"DefaultJsonSerializer"),e)}),$z,FAe=B(()=>{"use strict";var e;Qc(),$z=(e=class{get map(){return this.fileExtensionMap}constructor(r){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=r==null?void 0:r.workspace.TextDocuments}register(r){let i=r.LanguageMetaData;for(let n of i.fileExtensions)this.fileExtensionMap.has(n)&&console.warn(`The file extension ${n} is used by multiple languages. It is now assigned to '${i.languageId}'.`),this.fileExtensionMap.set(n,r);this.languageIdMap.set(i.languageId,r),this.languageIdMap.size===1?this.singleton=r:this.singleton=void 0}getServices(r){var i,n;if(this.singleton!==void 0)return this.singleton;if(this.languageIdMap.size===0)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let a=(n=(i=this.textDocuments)===null||i===void 0?void 0:i.get(r))===null||n===void 0?void 0:n.languageId;if(a!==void 0){let u=this.languageIdMap.get(a);if(u)return u}let s=Rl.extname(r),o=this.fileExtensionMap.get(s);if(!o)throw a?new Error(`The service registry contains no services for the extension '${s}' for language '${a}'.`):new Error(`The service registry contains no services for the extension '${s}'.`);return o}hasServices(r){try{return this.getServices(r),!0}catch(i){return!1}}get all(){return Array.from(this.languageIdMap.values())}},l(e,"DefaultServiceRegistry"),e)});function ap(e){return{code:e}}var tx,Fz,i7=B(()=>{"use strict";var e;Ys(),Qb(),$o(),vs(),l(ap,"diagnosticData"),(function(t){t.all=["fast","slow","built-in"]})(tx||(tx={})),Fz=(e=class{constructor(r){this.entries=new np,this.entriesBefore=[],this.entriesAfter=[],this.reflection=r.shared.AstReflection}register(r,i=this,n="fast"){if(n==="built-in")throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[a,s]of Object.entries(r)){let o=s;if(Array.isArray(o))for(let u of o){let h={check:this.wrapValidationException(u,i),category:n};this.addEntry(a,h)}else if(typeof o=="function"){let u={check:this.wrapValidationException(o,i),category:n};this.addEntry(a,u)}else gh(o)}}wrapValidationException(r,i){return(n,a,s)=>xe(this,null,function*(){yield this.handleException(()=>r.call(i,n,a,s),"An error occurred during validation",a,n)})}handleException(r,i,n,a){return xe(this,null,function*(){try{yield r()}catch(s){if(ip(s))throw s;console.error(`${i}:`,s),s instanceof Error&&s.stack&&console.error(s.stack);let o=s instanceof Error?s.message:String(s);n("error",`${i}: ${o}`,{node:a})}})}addEntry(r,i){if(r==="AstNode"){this.entries.add("AstNode",i);return}for(let n of this.reflection.getAllSubTypes(r))this.entries.add(n,i)}getChecks(r,i){let n=ji(this.entries.get(r)).concat(this.entries.get("AstNode"));return i&&(n=n.filter(a=>i.includes(a.category))),n.map(a=>a.check)}registerBeforeDocument(r,i=this){this.entriesBefore.push(this.wrapPreparationException(r,"An error occurred during set-up of the validation",i))}registerAfterDocument(r,i=this){this.entriesAfter.push(this.wrapPreparationException(r,"An error occurred during tear-down of the validation",i))}wrapPreparationException(r,i,n){return(a,s,o,u)=>xe(this,null,function*(){yield this.handleException(()=>r.call(n,a,s,o,u),i,s,a)})}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}},l(e,"ValidationRegistry"),e)});function zz(e){if(e.range)return e.range;let t;return typeof e.property=="string"?t=iT(e.node.$cstNode,e.property,e.index):typeof e.keyword=="string"&&(t=m$(e.node.$cstNode,e.keyword,e.index)),t!=null||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function rx(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function Gz(e){switch(e){case"error":return ap(Vs.LexingError);case"warning":return ap(Vs.LexingWarning);case"info":return ap(Vs.LexingInfo);case"hint":return ap(Vs.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}var Uz,Vs,zAe=B(()=>{"use strict";var e;Bo(),Al(),Ja(),Cl(),$o(),i7(),Uz=(e=class{constructor(r){this.validationRegistry=r.validation.ValidationRegistry,this.metadata=r.LanguageMetaData}validateDocument(a){return xe(this,arguments,function*(r,i={},n=oi.CancellationToken.None){let s=r.parseResult,o=[];if(yield pa(n),(!i.categories||i.categories.includes("built-in"))&&(this.processLexingErrors(s,o,i),i.stopAfterLexingErrors&&o.some(u=>{var h;return((h=u.data)===null||h===void 0?void 0:h.code)===Vs.LexingError})||(this.processParsingErrors(s,o,i),i.stopAfterParsingErrors&&o.some(u=>{var h;return((h=u.data)===null||h===void 0?void 0:h.code)===Vs.ParsingError}))||(this.processLinkingErrors(r,o,i),i.stopAfterLinkingErrors&&o.some(u=>{var h;return((h=u.data)===null||h===void 0?void 0:h.code)===Vs.LinkingError}))))return o;try{o.push(...yield this.validateAst(s.value,i,n))}catch(u){if(ip(u))throw u;console.error("An error occurred during validation:",u)}return yield pa(n),o})}processLexingErrors(r,i,n){var a,s,o;let u=[...r.lexerErrors,...(s=(a=r.lexerReport)===null||a===void 0?void 0:a.diagnostics)!==null&&s!==void 0?s:[]];for(let h of u){let d=(o=h.severity)!==null&&o!==void 0?o:"error",p={severity:rx(d),range:{start:{line:h.line-1,character:h.column-1},end:{line:h.line-1,character:h.column+h.length-1}},message:h.message,data:Gz(d),source:this.getSource()};i.push(p)}}processParsingErrors(r,i,n){for(let a of r.parserErrors){let s;if(isNaN(a.token.startOffset)){if("previousToken"in a){let o=a.previousToken;if(isNaN(o.startOffset)){let u={line:0,character:0};s={start:u,end:u}}else{let u={line:o.endLine-1,character:o.endColumn};s={start:u,end:u}}}}else s=Zv(a.token);if(s){let o={severity:rx("error"),range:s,message:a.message,data:ap(Vs.ParsingError),source:this.getSource()};i.push(o)}}}processLinkingErrors(r,i,n){for(let a of r.references){let s=a.error;if(s){let o={node:s.container,property:s.property,index:s.index,data:{code:Vs.LinkingError,containerType:s.container.$type,property:s.property,refText:s.reference.$refText}};i.push(this.toDiagnostic("error",s.message,o))}}}validateAst(a,s){return xe(this,arguments,function*(r,i,n=oi.CancellationToken.None){let o=[],u=l((h,d,p)=>{o.push(this.toDiagnostic(h,d,p))},"acceptor");return yield this.validateAstBefore(r,i,u,n),yield this.validateAstNodes(r,i,u,n),yield this.validateAstAfter(r,i,u,n),o})}validateAstBefore(s,o,u){return xe(this,arguments,function*(r,i,n,a=oi.CancellationToken.None){var h;let d=this.validationRegistry.checksBefore;for(let p of d)yield pa(a),yield p(r,n,(h=i.categories)!==null&&h!==void 0?h:[],a)})}validateAstNodes(s,o,u){return xe(this,arguments,function*(r,i,n,a=oi.CancellationToken.None){yield Promise.all(Vc(r).map(h=>xe(this,null,function*(){yield pa(a);let d=this.validationRegistry.getChecks(h.$type,i.categories);for(let p of d)yield p(h,n,a)})))})}validateAstAfter(s,o,u){return xe(this,arguments,function*(r,i,n,a=oi.CancellationToken.None){var h;let d=this.validationRegistry.checksAfter;for(let p of d)yield pa(a),yield p(r,n,(h=i.categories)!==null&&h!==void 0?h:[],a)})}toDiagnostic(r,i,n){return{message:i,range:zz(n),severity:rx(r),code:n.code,codeDescription:n.codeDescription,tags:n.tags,relatedInformation:n.relatedInformation,data:n.data,source:this.getSource()}}getSource(){return this.metadata.languageId}},l(e,"DefaultDocumentValidator"),e),l(zz,"getDiagnosticRange"),l(rx,"toDiagnosticSeverity"),l(Gz,"toDiagnosticData"),(function(t){t.LexingError="lexing-error",t.LexingWarning="lexing-warning",t.LexingInfo="lexing-info",t.LexingHint="lexing-hint",t.ParsingError="parsing-error",t.LinkingError="linking-error"})(Vs||(Vs={}))}),qz,jz,GAe=B(()=>{"use strict";var e,t;Bo(),Tl(),Ja(),Cl(),$o(),Qc(),qz=(e=class{constructor(i){this.astNodeLocator=i.workspace.AstNodeLocator,this.nameProvider=i.references.NameProvider}createDescription(i,n,a){let s=a!=null?a:Ro(i);n!=null||(n=this.nameProvider.getName(i));let o=this.astNodeLocator.getAstNodePath(i);if(!n)throw new Error(`Node at path ${o} has no name.`);let u,h=l(()=>{var d;return u!=null?u:u=j1((d=this.nameProvider.getNameNode(i))!==null&&d!==void 0?d:i.$cstNode)},"nameSegmentGetter");return{node:i,name:n,get nameSegment(){return h()},selectionSegment:j1(i.$cstNode),type:i.$type,documentUri:s.uri,path:o}}},l(e,"DefaultAstNodeDescriptionProvider"),e),jz=(t=class{constructor(i){this.nodeLocator=i.workspace.AstNodeLocator}createDescriptions(a){return xe(this,arguments,function*(i,n=oi.CancellationToken.None){let s=[],o=i.parseResult.value;for(let u of Vc(o))yield pa(n),nb(u).filter(h=>!U1(h)).forEach(h=>{let d=this.createDescription(h);d&&s.push(d)});return s})}createDescription(i){let n=i.reference.$nodeDescription,a=i.reference.$refNode;if(!n||!a)return;let s=Ro(i.container).uri;return{sourceUri:s,sourcePath:this.nodeLocator.getAstNodePath(i.container),targetUri:n.documentUri,targetPath:n.path,segment:j1(a),local:Rl.equals(n.documentUri,s)}}},l(t,"DefaultReferenceDescriptionProvider"),t)}),Hz,UAe=B(()=>{"use strict";var e;Hz=(e=class{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(r){if(r.$container){let i=this.getAstNodePath(r.$container),n=this.getPathSegment(r);return i+this.segmentSeparator+n}return""}getPathSegment({$containerProperty:r,$containerIndex:i}){if(!r)throw new Error("Missing '$containerProperty' in AST node.");return i!==void 0?r+this.indexSeparator+i:r}getAstNode(r,i){return i.split(this.segmentSeparator).reduce((n,a)=>{if(!n||a.length===0)return n;let s=a.indexOf(this.indexSeparator);if(s>0){let o=a.substring(0,s),u=parseInt(a.substring(s+1)),h=n[o];return h==null?void 0:h[u]}return n[a]},r)}},l(e,"DefaultAstNodeLocator"),e)}),n7={},Vz=B(()=>{"use strict";n4(n7,Yn(AAe(),1))}),Yz,qAe=B(()=>{"use strict";var e;Vz(),$o(),Yz=(e=class{constructor(r){this._ready=new Il,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new n7.Emitter,this.serviceRegistry=r.ServiceRegistry}get ready(){return this._ready.promise}initialize(r){var i,n;this.workspaceConfig=(n=(i=r.capabilities.workspace)===null||i===void 0?void 0:i.configuration)!==null&&n!==void 0?n:!1}initialized(r){return xe(this,null,function*(){if(this.workspaceConfig){if(r.register){let i=this.serviceRegistry.all;r.register({section:i.map(n=>this.toSectionName(n.LanguageMetaData.languageId))})}if(r.fetchConfiguration){let i=this.serviceRegistry.all.map(a=>({section:this.toSectionName(a.LanguageMetaData.languageId)})),n=yield r.fetchConfiguration(i);i.forEach((a,s)=>{this.updateSectionConfiguration(a.section,n[s])})}}this._ready.resolve()})}updateConfiguration(r){r.settings&&Object.keys(r.settings).forEach(i=>{let n=r.settings[i];this.updateSectionConfiguration(i,n),this.onConfigurationSectionUpdateEmitter.fire({section:i,configuration:n})})}updateSectionConfiguration(r,i){this.settings[r]=i}getConfiguration(r,i){return xe(this,null,function*(){yield this.ready;let n=this.toSectionName(r);if(this.settings[n])return this.settings[n][i]})}toSectionName(r){return`${r}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}},l(e,"DefaultConfigurationProvider"),e)}),sp,jAe=B(()=>{"use strict";(function(e){function t(r){return{dispose:l(()=>xe(null,null,function*(){return yield r()}),"dispose")}}l(t,"create"),e.create=t})(sp||(sp={}))}),Wz,HAe=B(()=>{"use strict";var e;Bo(),jAe(),Qb(),$o(),vs(),i7(),Kb(),Wz=(e=class{constructor(r){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new np,this.documentPhaseListeners=new np,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=pi.Changed,this.langiumDocuments=r.workspace.LangiumDocuments,this.langiumDocumentFactory=r.workspace.LangiumDocumentFactory,this.textDocuments=r.workspace.TextDocuments,this.indexManager=r.workspace.IndexManager,this.serviceRegistry=r.ServiceRegistry}build(a){return xe(this,arguments,function*(r,i={},n=oi.CancellationToken.None){var s,o;for(let u of r){let h=u.uri.toString();if(u.state===pi.Validated){if(typeof i.validation=="boolean"&&i.validation)u.state=pi.IndexedReferences,u.diagnostics=void 0,this.buildState.delete(h);else if(typeof i.validation=="object"){let d=this.buildState.get(h),p=(s=d==null?void 0:d.result)===null||s===void 0?void 0:s.validationChecks;if(p){let g=((o=i.validation.categories)!==null&&o!==void 0?o:tx.all).filter(f=>!p.includes(f));g.length>0&&(this.buildState.set(h,{completed:!1,options:{validation:Object.assign(Object.assign({},i.validation),{categories:g})},result:d.result}),u.state=pi.IndexedReferences)}}}else this.buildState.delete(h)}this.currentState=pi.Changed,yield this.emitUpdate(r.map(u=>u.uri),[]),yield this.buildDocuments(r,i,n)})}update(a,s){return xe(this,arguments,function*(r,i,n=oi.CancellationToken.None){this.currentState=pi.Changed;for(let h of i)this.langiumDocuments.deleteDocument(h),this.buildState.delete(h.toString()),this.indexManager.remove(h);for(let h of r){if(!this.langiumDocuments.invalidateDocument(h)){let d=this.langiumDocumentFactory.fromModel({$type:"INVALID"},h);d.state=pi.Changed,this.langiumDocuments.addDocument(d)}this.buildState.delete(h.toString())}let o=ji(r).concat(i).map(h=>h.toString()).toSet();this.langiumDocuments.all.filter(h=>!o.has(h.uri.toString())&&this.shouldRelink(h,o)).forEach(h=>{this.serviceRegistry.getServices(h.uri).references.Linker.unlink(h),h.state=Math.min(h.state,pi.ComputedScopes),h.diagnostics=void 0}),yield this.emitUpdate(r,i),yield pa(n);let u=this.sortDocuments(this.langiumDocuments.all.filter(h=>{var d;return h.state<pi.Linked||!(!((d=this.buildState.get(h.uri.toString()))===null||d===void 0)&&d.completed)}).toArray());yield this.buildDocuments(u,this.updateBuildOptions,n)})}emitUpdate(r,i){return xe(this,null,function*(){yield Promise.all(this.updateListeners.map(n=>n(r,i)))})}sortDocuments(r){let i=0,n=r.length-1;for(;i<n;){for(;i<r.length&&this.hasTextDocument(r[i]);)i++;for(;n>=0&&!this.hasTextDocument(r[n]);)n--;i<n&&([r[i],r[n]]=[r[n],r[i]])}return r}hasTextDocument(r){var i;return!!(!((i=this.textDocuments)===null||i===void 0)&&i.get(r.uri))}shouldRelink(r,i){return r.references.some(n=>n.error!==void 0)?!0:this.indexManager.isAffected(r,i)}onUpdate(r){return this.updateListeners.push(r),sp.create(()=>{let i=this.updateListeners.indexOf(r);i>=0&&this.updateListeners.splice(i,1)})}buildDocuments(r,i,n){return xe(this,null,function*(){this.prepareBuild(r,i),yield this.runCancelable(r,pi.Parsed,n,s=>this.langiumDocumentFactory.update(s,n)),yield this.runCancelable(r,pi.IndexedContent,n,s=>this.indexManager.updateContent(s,n)),yield this.runCancelable(r,pi.ComputedScopes,n,s=>xe(this,null,function*(){let o=this.serviceRegistry.getServices(s.uri).references.ScopeComputation;s.precomputedScopes=yield o.computeLocalScopes(s,n)})),yield this.runCancelable(r,pi.Linked,n,s=>this.serviceRegistry.getServices(s.uri).references.Linker.link(s,n)),yield this.runCancelable(r,pi.IndexedReferences,n,s=>this.indexManager.updateReferences(s,n));let a=r.filter(s=>this.shouldValidate(s));yield this.runCancelable(a,pi.Validated,n,s=>this.validate(s,n));for(let s of r){let o=this.buildState.get(s.uri.toString());o&&(o.completed=!0)}})}prepareBuild(r,i){for(let n of r){let a=n.uri.toString(),s=this.buildState.get(a);(!s||s.completed)&&this.buildState.set(a,{completed:!1,options:i,result:s==null?void 0:s.result})}}runCancelable(r,i,n,a){return xe(this,null,function*(){let s=r.filter(u=>u.state<i);for(let u of s)yield pa(n),yield a(u),u.state=i,yield this.notifyDocumentPhase(u,i,n);let o=r.filter(u=>u.state===i);yield this.notifyBuildPhase(o,i,n),this.currentState=i})}onBuildPhase(r,i){return this.buildPhaseListeners.add(r,i),sp.create(()=>{this.buildPhaseListeners.delete(r,i)})}onDocumentPhase(r,i){return this.documentPhaseListeners.add(r,i),sp.create(()=>{this.documentPhaseListeners.delete(r,i)})}waitUntil(r,i,n){let a;if(i&&"path"in i?a=i:n=i,n!=null||(n=oi.CancellationToken.None),a){let s=this.langiumDocuments.getDocument(a);if(s&&s.state>r)return Promise.resolve(a)}return this.currentState>=r?Promise.resolve(void 0):n.isCancellationRequested?Promise.reject(Zc):new Promise((s,o)=>{let u=this.onBuildPhase(r,()=>{if(u.dispose(),h.dispose(),a){let d=this.langiumDocuments.getDocument(a);s(d==null?void 0:d.uri)}else s(void 0)}),h=n.onCancellationRequested(()=>{u.dispose(),h.dispose(),o(Zc)})})}notifyDocumentPhase(r,i,n){return xe(this,null,function*(){let a=this.documentPhaseListeners.get(i).slice();for(let s of a)try{yield s(r,n)}catch(o){if(!ip(o))throw o}})}notifyBuildPhase(r,i,n){return xe(this,null,function*(){if(r.length===0)return;let a=this.buildPhaseListeners.get(i).slice();for(let s of a)yield pa(n),yield s(r,n)})}shouldValidate(r){return!!this.getBuildOptions(r).validation}validate(r,i){return xe(this,null,function*(){var n,a;let s=this.serviceRegistry.getServices(r.uri).validation.DocumentValidator,o=this.getBuildOptions(r).validation,u=typeof o=="object"?o:void 0,h=yield s.validateDocument(r,u,i);r.diagnostics?r.diagnostics.push(...h):r.diagnostics=h;let d=this.buildState.get(r.uri.toString());if(d){(n=d.result)!==null&&n!==void 0||(d.result={});let p=(a=u==null?void 0:u.categories)!==null&&a!==void 0?a:tx.all;d.result.validationChecks?d.result.validationChecks.push(...p):d.result.validationChecks=[...p]}})}getBuildOptions(r){var i,n;return(n=(i=this.buildState.get(r.uri.toString()))===null||i===void 0?void 0:i.options)!==null&&n!==void 0?n:{}}},l(e,"DefaultDocumentBuilder"),e)}),Xz,VAe=B(()=>{"use strict";var e;Ja(),Iz(),Bo(),vs(),Qc(),Xz=(e=class{constructor(r){this.symbolIndex=new Map,this.symbolByTypeIndex=new ex,this.referenceIndex=new Map,this.documents=r.workspace.LangiumDocuments,this.serviceRegistry=r.ServiceRegistry,this.astReflection=r.AstReflection}findAllReferences(r,i){let n=Ro(r).uri,a=[];return this.referenceIndex.forEach(s=>{s.forEach(o=>{Rl.equals(o.targetUri,n)&&o.targetPath===i&&a.push(o)})}),ji(a)}allElements(r,i){let n=ji(this.symbolIndex.keys());return i&&(n=n.filter(a=>!i||i.has(a))),n.map(a=>this.getFileDescriptions(a,r)).flat()}getFileDescriptions(r,i){var n;return i?this.symbolByTypeIndex.get(r,i,()=>{var a;return((a=this.symbolIndex.get(r))!==null&&a!==void 0?a:[]).filter(s=>this.astReflection.isSubtype(s.type,i))}):(n=this.symbolIndex.get(r))!==null&&n!==void 0?n:[]}remove(r){let i=r.toString();this.symbolIndex.delete(i),this.symbolByTypeIndex.clear(i),this.referenceIndex.delete(i)}updateContent(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){let a=yield this.serviceRegistry.getServices(r.uri).references.ScopeComputation.computeExports(r,i),s=r.uri.toString();this.symbolIndex.set(s,a),this.symbolByTypeIndex.clear(s)})}updateReferences(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){let a=yield this.serviceRegistry.getServices(r.uri).workspace.ReferenceDescriptionProvider.createDescriptions(r,i);this.referenceIndex.set(r.uri.toString(),a)})}isAffected(r,i){let n=this.referenceIndex.get(r.uri.toString());return n?n.some(a=>!a.local&&i.has(a.targetUri.toString())):!1}},l(e,"DefaultIndexManager"),e)}),Kz,YAe=B(()=>{"use strict";var e;Bo(),$o(),Qc(),Kz=(e=class{constructor(r){this.initialBuildOptions={},this._ready=new Il,this.serviceRegistry=r.ServiceRegistry,this.langiumDocuments=r.workspace.LangiumDocuments,this.documentBuilder=r.workspace.DocumentBuilder,this.fileSystemProvider=r.workspace.FileSystemProvider,this.mutex=r.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(r){var i;this.folders=(i=r.workspaceFolders)!==null&&i!==void 0?i:void 0}initialized(r){return this.mutex.write(i=>{var n;return this.initializeWorkspace((n=this.folders)!==null&&n!==void 0?n:[],i)})}initializeWorkspace(n){return xe(this,arguments,function*(r,i=oi.CancellationToken.None){let a=yield this.performStartup(r);yield pa(i),yield this.documentBuilder.build(a,this.initialBuildOptions,i)})}performStartup(r){return xe(this,null,function*(){let i=this.serviceRegistry.all.flatMap(s=>s.LanguageMetaData.fileExtensions),n=[],a=l(s=>{n.push(s),this.langiumDocuments.hasDocument(s.uri)||this.langiumDocuments.addDocument(s)},"collector");return yield this.loadAdditionalDocuments(r,a),yield Promise.all(r.map(s=>[s,this.getRootFolder(s)]).map(s=>xe(this,null,function*(){return this.traverseFolder(...s,i,a)}))),this._ready.resolve(),n})}loadAdditionalDocuments(r,i){return Promise.resolve()}getRootFolder(r){return Dl.parse(r.uri)}traverseFolder(r,i,n,a){return xe(this,null,function*(){let s=yield this.fileSystemProvider.readDirectory(i);yield Promise.all(s.map(o=>xe(this,null,function*(){if(this.includeEntry(r,o,n)){if(o.isDirectory)yield this.traverseFolder(r,o.uri,n,a);else if(o.isFile){let u=yield this.langiumDocuments.getOrCreateDocument(o.uri);a(u)}}})))})}includeEntry(r,i,n){let a=Rl.basename(i.uri);if(a.startsWith("."))return!1;if(i.isDirectory)return a!=="node_modules"&&a!=="out";if(i.isFile){let s=Rl.extname(i.uri);return n.includes(s)}return!1}},l(e,"DefaultWorkspaceManager"),e)});function a7(e){return Array.isArray(e)&&(e.length===0||"name"in e[0])}function s7(e){return e&&"modes"in e&&"defaultMode"in e}function o7(e){return!a7(e)&&!s7(e)}var Zz,l7,c7,Qz=B(()=>{"use strict";var e,t;ep(),Zz=(e=class{buildUnexpectedCharactersMessage(i,n,a,s,o){return fT.buildUnexpectedCharactersMessage(i,n,a,s,o)}buildUnableToPopLexerModeMessage(i){return fT.buildUnableToPopLexerModeMessage(i)}},l(e,"DefaultLexerErrorMessageProvider"),e),l7={mode:"full"},c7=(t=class{constructor(i){this.errorMessageProvider=i.parser.LexerErrorMessageProvider,this.tokenBuilder=i.parser.TokenBuilder;let n=this.tokenBuilder.buildTokens(i.Grammar,{caseInsensitive:i.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(n);let a=o7(n)?Object.values(n):n,s=i.LanguageMetaData.mode==="production";this.chevrotainLexer=new da(a,{positionTracking:"full",skipValidations:s,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(i,n=l7){var a,s,o;let u=this.chevrotainLexer.tokenize(i);return{tokens:u.tokens,errors:u.errors,hidden:(a=u.groups.hidden)!==null&&a!==void 0?a:[],report:(o=(s=this.tokenBuilder).flushLexingReport)===null||o===void 0?void 0:o.call(s,i)}}toTokenTypeDictionary(i){if(o7(i))return i;let n=s7(i)?Object.values(i.modes).flat():i,a={};return n.forEach(s=>a[s.name]=s),a}},l(t,"DefaultLexer"),t),l(a7,"isTokenTypeArray"),l(s7,"isIMultiModeLexerDefinition"),l(o7,"isTokenTypeDictionary")});function Jz(e,t,r){let i,n;typeof e=="string"?(n=t,i=r):(n=e.range.start,i=t),n||(n=Vr.create(0,0));let a=tG(e),s=h7(i),o=WAe({lines:a,position:n,options:s});return ZAe({index:0,tokens:o,position:n})}function eG(e,t){let r=h7(t),i=tG(e);if(i.length===0)return!1;let n=i[0],a=i[i.length-1],s=r.start,o=r.end;return!!(s!=null&&s.exec(n))&&!!(o!=null&&o.exec(a))}function tG(e){let t="";return typeof e=="string"?t=e:t=e.text,t.split(s$)}function WAe(e){var t,r,i;let n=[],a=e.position.line,s=e.position.character;for(let o=0;o<e.lines.length;o++){let u=o===0,h=o===e.lines.length-1,d=e.lines[o],p=0;if(u&&e.options.start){let g=(t=e.options.start)===null||t===void 0?void 0:t.exec(d);g&&(p=g.index+g[0].length)}else{let g=(r=e.options.line)===null||r===void 0?void 0:r.exec(d);g&&(p=g.index+g[0].length)}if(h){let g=(i=e.options.end)===null||i===void 0?void 0:i.exec(d);g&&(d=d.substring(0,g.index))}if(d=d.substring(0,KAe(d)),u7(d,p)>=d.length){if(n.length>0){let g=Vr.create(a,s);n.push({type:"break",content:"",range:Ir.create(g,g)})}}else{sG.lastIndex=p;let g=sG.exec(d);if(g){let f=g[0],m=g[1],x=Vr.create(a,s+p),T=Vr.create(a,s+p+f.length);n.push({type:"tag",content:m,range:Ir.create(x,T)}),p+=f.length,p=u7(d,p)}if(p<d.length){let f=d.substring(p),m=Array.from(f.matchAll(i9e));n.push(...XAe(m,f,a,s+p))}}a++,s=0}return n.length>0&&n[n.length-1].type==="break"?n.slice(0,-1):n}function XAe(e,t,r,i){let n=[];if(e.length===0){let a=Vr.create(r,i),s=Vr.create(r,i+t.length);n.push({type:"text",content:t,range:Ir.create(a,s)})}else{let a=0;for(let o of e){let u=o.index,h=t.substring(a,u);h.length>0&&n.push({type:"text",content:t.substring(a,u),range:Ir.create(Vr.create(r,a+i),Vr.create(r,u+i))});let d=h.length+1,p=o[1];if(n.push({type:"inline-tag",content:p,range:Ir.create(Vr.create(r,a+d+i),Vr.create(r,a+d+p.length+i))}),d+=p.length,o.length===4){d+=o[2].length;let g=o[3];n.push({type:"text",content:g,range:Ir.create(Vr.create(r,a+d+i),Vr.create(r,a+d+g.length+i))})}else n.push({type:"text",content:"",range:Ir.create(Vr.create(r,a+d+i),Vr.create(r,a+d+i))});a=u+o[0].length}let s=t.substring(a);s.length>0&&n.push({type:"text",content:s,range:Ir.create(Vr.create(r,a+i),Vr.create(r,a+i+s.length))})}return n}function u7(e,t){let r=e.substring(t).match(n9e);return r?t+r.index:e.length}function KAe(e){let t=e.match(a9e);if(t&&typeof t.index=="number")return t.index}function ZAe(e){var t,r,i,n;let a=Vr.create(e.position.line,e.position.character);if(e.tokens.length===0)return new oG([],Ir.create(a,a));let s=[];for(;e.index<e.tokens.length;){let h=QAe(e,s[s.length-1]);h&&s.push(h)}let o=(r=(t=s[0])===null||t===void 0?void 0:t.range.start)!==null&&r!==void 0?r:a,u=(n=(i=s[s.length-1])===null||i===void 0?void 0:i.range.end)!==null&&n!==void 0?n:a;return new oG(s,Ir.create(o,u))}function QAe(e,t){let r=e.tokens[e.index];if(r.type==="tag")return iG(e,!1);if(r.type==="text"||r.type==="inline-tag")return rG(e);JAe(r,t),e.index++}function JAe(e,t){if(t){let r=new lG("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function rG(e){let t=e.tokens[e.index],r=t,i=t,n=[];for(;t&&t.type!=="break"&&t.type!=="tag";)n.push(e9e(e)),i=t,t=e.tokens[e.index];return new g7(n,Ir.create(r.range.start,i.range.end))}function e9e(e){return e.tokens[e.index].type==="inline-tag"?iG(e,!0):nG(e)}function iG(e,t){let r=e.tokens[e.index++],i=r.content.substring(1),n=e.tokens[e.index];if((n==null?void 0:n.type)==="text")if(t){let a=nG(e);return new p7(i,new g7([a],a.range),t,Ir.create(r.range.start,a.range.end))}else{let a=rG(e);return new p7(i,a,t,Ir.create(r.range.start,a.range.end))}else{let a=r.range;return new p7(i,new g7([],a),t,a)}}function nG(e){let t=e.tokens[e.index++];return new lG(t.content,t.range)}function h7(e){if(!e)return h7({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:i}=e;return{start:d7(t,!0),end:d7(r,!1),line:d7(i,!0)}}function d7(e,t){if(typeof e=="string"||typeof e=="object"){let r=typeof e=="string"?J1(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}else return e}function t9e(e,t,r){var i,n;if(e==="linkplain"||e==="linkcode"||e==="link"){let a=t.indexOf(" "),s=t;if(a>0){let o=u7(t,a);s=t.substring(o),t=t.substring(0,a)}return(e==="linkcode"||e==="link"&&r.link==="code")&&(s=`\`${s}\``),(n=(i=r.renderLink)===null||i===void 0?void 0:i.call(r,t,s))!==null&&n!==void 0?n:r9e(t,s)}}function r9e(e,t){try{return Dl.parse(e,!0),`[${t}](${e})`}catch(r){return e}}function aG(e){return e.endsWith(`
`)?`
`:`

`}var sG,i9e,n9e,a9e,oG,p7,g7,lG,s9e=B(()=>{"use strict";var e,t,r,i;hAe(),hb(),Qc(),l(Jz,"parseJSDoc"),l(eG,"isJSDoc"),l(tG,"getLines"),sG=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,i9e=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu,l(WAe,"tokenize"),l(XAe,"buildInlineTokens"),n9e=/\S/,a9e=/\s*$/,l(u7,"skipWhitespace"),l(KAe,"lastCharacter"),l(ZAe,"parseJSDocComment"),l(QAe,"parseJSDocElement"),l(JAe,"appendEmptyLine"),l(rG,"parseJSDocText"),l(e9e,"parseJSDocInline"),l(iG,"parseJSDocTag"),l(nG,"parseJSDocLine"),l(h7,"normalizeOptions"),l(d7,"normalizeOption"),oG=(e=class{constructor(a,s){this.elements=a,this.range=s}getTag(a){return this.getAllTags().find(s=>s.name===a)}getTags(a){return this.getAllTags().filter(s=>s.name===a)}getAllTags(){return this.elements.filter(a=>"name"in a)}toString(){let a="";for(let s of this.elements)if(a.length===0)a=s.toString();else{let o=s.toString();a+=aG(a)+o}return a.trim()}toMarkdown(a){let s="";for(let o of this.elements)if(s.length===0)s=o.toMarkdown(a);else{let u=o.toMarkdown(a);s+=aG(s)+u}return s.trim()}},l(e,"JSDocCommentImpl"),e),p7=(t=class{constructor(a,s,o,u){this.name=a,this.content=s,this.inline=o,this.range=u}toString(){let a=`@${this.name}`,s=this.content.toString();return this.content.inlines.length===1?a=`${a} ${s}`:this.content.inlines.length>1&&(a=`${a}
${s}`),this.inline?`{${a}}`:a}toMarkdown(a){var s,o;return(o=(s=a==null?void 0:a.renderTag)===null||s===void 0?void 0:s.call(a,this))!==null&&o!==void 0?o:this.toMarkdownDefault(a)}toMarkdownDefault(a){let s=this.content.toMarkdown(a);if(this.inline){let h=t9e(this.name,s,a!=null?a:{});if(typeof h=="string")return h}let o="";(a==null?void 0:a.tag)==="italic"||(a==null?void 0:a.tag)===void 0?o="*":(a==null?void 0:a.tag)==="bold"?o="**":(a==null?void 0:a.tag)==="bold-italic"&&(o="***");let u=`${o}@${this.name}${o}`;return this.content.inlines.length===1?u=`${u} \u2014 ${s}`:this.content.inlines.length>1&&(u=`${u}
${s}`),this.inline?`{${u}}`:u}},l(t,"JSDocTagImpl"),t),l(t9e,"renderInlineTag"),l(r9e,"renderLinkDefault"),g7=(r=class{constructor(a,s){this.inlines=a,this.range=s}toString(){let a="";for(let s=0;s<this.inlines.length;s++){let o=this.inlines[s],u=this.inlines[s+1];a+=o.toString(),u&&u.range.start.line>o.range.start.line&&(a+=`
`)}return a}toMarkdown(a){let s="";for(let o=0;o<this.inlines.length;o++){let u=this.inlines[o],h=this.inlines[o+1];s+=u.toMarkdown(a),h&&h.range.start.line>u.range.start.line&&(s+=`
`)}return s}},l(r,"JSDocTextImpl"),r),lG=(i=class{constructor(a,s){this.text=a,this.range=s}toString(){return this.text}toMarkdown(){return this.text}},l(i,"JSDocLineImpl"),i),l(aG,"fillNewlines")}),cG,o9e=B(()=>{"use strict";var e;Ja(),s9e(),cG=(e=class{constructor(r){this.indexManager=r.shared.workspace.IndexManager,this.commentProvider=r.documentation.CommentProvider}getDocumentation(r){let i=this.commentProvider.getComment(r);if(i&&eG(i))return Jz(i).toMarkdown({renderLink:l((n,a)=>this.documentationLinkRenderer(r,n,a),"renderLink"),renderTag:l(n=>this.documentationTagRenderer(r,n),"renderTag")})}documentationLinkRenderer(r,i,n){var a;let s=(a=this.findNameInPrecomputedScopes(r,i))!==null&&a!==void 0?a:this.findNameInGlobalScope(r,i);if(s&&s.nameSegment){let o=s.nameSegment.range.start.line+1,u=s.nameSegment.range.start.character+1,h=s.documentUri.with({fragment:`L${o},${u}`});return`[${n}](${h.toString()})`}else return}documentationTagRenderer(r,i){}findNameInPrecomputedScopes(r,i){let n=Ro(r).precomputedScopes;if(!n)return;let a=r;do{let s=n.get(a).find(o=>o.name===i);if(s)return s;a=a.$container}while(a)}findNameInGlobalScope(r,i){return this.indexManager.allElements().find(n=>n.name===i)}},l(e,"JSDocDocumentationProvider"),e)}),uG,l9e=B(()=>{"use strict";var e;Bz(),Cl(),uG=(e=class{constructor(r){this.grammarConfig=()=>r.parser.GrammarConfig}getComment(r){var i;return Rz(r)?r.$comment:(i=CB(r.$cstNode,this.grammarConfig().multilineCommentRules))===null||i===void 0?void 0:i.text}},l(e,"DefaultCommentProvider"),e)}),hG,c9e,u9e,h9e=B(()=>{"use strict";var e,t,r;$o(),Vz(),hG=(e=class{constructor(n){this.syncParser=n.parser.LangiumParser}parse(n,a){return Promise.resolve(this.syncParser.parse(n))}},l(e,"DefaultAsyncParser"),e),c9e=(t=class{constructor(n){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=n.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let n=this.createWorker();n.onReady(()=>{if(this.queue.length>0){let a=this.queue.shift();a&&(n.lock(),a.resolve(n))}}),this.workerPool.push(n)}}parse(n,a){return xe(this,null,function*(){let s=yield this.acquireParserWorker(a),o=new Il,u,h=a.onCancellationRequested(()=>{u=setTimeout(()=>{this.terminateWorker(s)},this.terminationDelay)});return s.parse(n).then(d=>{let p=this.hydrator.hydrate(d);o.resolve(p)}).catch(d=>{o.reject(d)}).finally(()=>{h.dispose(),clearTimeout(u)}),o.promise})}terminateWorker(n){n.terminate();let a=this.workerPool.indexOf(n);a>=0&&this.workerPool.splice(a,1)}acquireParserWorker(n){return xe(this,null,function*(){this.initializeWorkers();for(let s of this.workerPool)if(s.ready)return s.lock(),s;let a=new Il;return n.onCancellationRequested(()=>{let s=this.queue.indexOf(a);s>=0&&this.queue.splice(s,1),a.reject(Zc)}),this.queue.push(a),a.promise})}},l(t,"AbstractThreadedAsyncParser"),t),u9e=(r=class{get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(n,a,s,o){this.onReadyEmitter=new n7.Emitter,this.deferred=new Il,this._ready=!0,this._parsing=!1,this.sendMessage=n,this._terminate=o,a(u=>{let h=u;this.deferred.resolve(h),this.unlock()}),s(u=>{this.deferred.reject(u),this.unlock()})}terminate(){this.deferred.reject(Zc),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(n){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Il,this.sendMessage(n),this.deferred.promise}},l(r,"ParserWorker"),r)}),dG,d9e=B(()=>{"use strict";var e;Bo(),$o(),dG=(e=class{constructor(){this.previousTokenSource=new oi.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(r){this.cancelWrite();let i=KT();return this.previousTokenSource=i,this.enqueue(this.writeQueue,r,i.token)}read(r){return this.enqueue(this.readQueue,r)}enqueue(r,i,n=oi.CancellationToken.None){let a=new Il,s={action:i,deferred:a,cancellationToken:n};return r.push(s),this.performNextOperation(),a.promise}performNextOperation(){return xe(this,null,function*(){if(!this.done)return;let r=[];if(this.writeQueue.length>0)r.push(this.writeQueue.shift());else if(this.readQueue.length>0)r.push(...this.readQueue.splice(0,this.readQueue.length));else return;this.done=!1,yield Promise.all(r.map(s=>xe(this,[s],function*({action:i,deferred:n,cancellationToken:a}){try{let o=yield Promise.resolve().then(()=>i(a));n.resolve(o)}catch(o){ip(o)?n.resolve(void 0):n.reject(o)}}))),this.done=!0,this.performNextOperation()})}cancelWrite(){this.previousTokenSource.cancel()}},l(e,"DefaultWorkspaceLock"),e)}),pG,p9e=B(()=>{"use strict";var e;iz(),Hc(),Tl(),Ja(),Qb(),Cl(),pG=(e=class{constructor(r){this.grammarElementIdMap=new Zb,this.tokenTypeIdMap=new Zb,this.grammar=r.Grammar,this.lexer=r.parser.Lexer,this.linker=r.references.Linker}dehydrate(r){return{lexerErrors:r.lexerErrors,lexerReport:r.lexerReport?this.dehydrateLexerReport(r.lexerReport):void 0,parserErrors:r.parserErrors.map(i=>Object.assign(Object.assign({},i),{message:i.message})),value:this.dehydrateAstNode(r.value,this.createDehyrationContext(r.value))}}dehydrateLexerReport(r){return r}createDehyrationContext(r){let i=new Map,n=new Map;for(let a of Vc(r))i.set(a,{});if(r.$cstNode)for(let a of q1(r.$cstNode))n.set(a,{});return{astNodes:i,cstNodes:n}}dehydrateAstNode(r,i){let n=i.astNodes.get(r);n.$type=r.$type,n.$containerIndex=r.$containerIndex,n.$containerProperty=r.$containerProperty,r.$cstNode!==void 0&&(n.$cstNode=this.dehydrateCstNode(r.$cstNode,i));for(let[a,s]of Object.entries(r))if(!a.startsWith("$"))if(Array.isArray(s)){let o=[];n[a]=o;for(let u of s)on(u)?o.push(this.dehydrateAstNode(u,i)):Za(u)?o.push(this.dehydrateReference(u,i)):o.push(u)}else on(s)?n[a]=this.dehydrateAstNode(s,i):Za(s)?n[a]=this.dehydrateReference(s,i):s!==void 0&&(n[a]=s);return n}dehydrateReference(r,i){let n={};return n.$refText=r.$refText,r.$refNode&&(n.$refNode=i.cstNodes.get(r.$refNode)),n}dehydrateCstNode(r,i){let n=i.cstNodes.get(r);return $k(r)?n.fullText=r.fullText:n.grammarSource=this.getGrammarElementId(r.grammarSource),n.hidden=r.hidden,n.astNode=i.astNodes.get(r.astNode),Gc(r)?n.content=r.content.map(a=>this.dehydrateCstNode(a,i)):o0(r)&&(n.tokenType=r.tokenType.name,n.offset=r.offset,n.length=r.length,n.startLine=r.range.start.line,n.startColumn=r.range.start.character,n.endLine=r.range.end.line,n.endColumn=r.range.end.character),n}hydrate(r){let i=r.value,n=this.createHydrationContext(i);return"$cstNode"in i&&this.hydrateCstNode(i.$cstNode,n),{lexerErrors:r.lexerErrors,lexerReport:r.lexerReport,parserErrors:r.parserErrors,value:this.hydrateAstNode(i,n)}}createHydrationContext(r){let i=new Map,n=new Map;for(let s of Vc(r))i.set(s,{});let a;if(r.$cstNode)for(let s of q1(r.$cstNode)){let o;"fullText"in s?(o=new GT(s.fullText),a=o):"content"in s?o=new Hb:"tokenType"in s&&(o=this.hydrateCstLeafNode(s)),o&&(n.set(s,o),o.root=a)}return{astNodes:i,cstNodes:n}}hydrateAstNode(r,i){let n=i.astNodes.get(r);n.$type=r.$type,n.$containerIndex=r.$containerIndex,n.$containerProperty=r.$containerProperty,r.$cstNode&&(n.$cstNode=i.cstNodes.get(r.$cstNode));for(let[a,s]of Object.entries(r))if(!a.startsWith("$"))if(Array.isArray(s)){let o=[];n[a]=o;for(let u of s)on(u)?o.push(this.setParent(this.hydrateAstNode(u,i),n)):Za(u)?o.push(this.hydrateReference(u,n,a,i)):o.push(u)}else on(s)?n[a]=this.setParent(this.hydrateAstNode(s,i),n):Za(s)?n[a]=this.hydrateReference(s,n,a,i):s!==void 0&&(n[a]=s);return n}setParent(r,i){return r.$container=i,r}hydrateReference(r,i,n,a){return this.linker.buildReference(i,n,a.cstNodes.get(r.$refNode),r.$refText)}hydrateCstNode(r,i,n=0){let a=i.cstNodes.get(r);if(typeof r.grammarSource=="number"&&(a.grammarSource=this.getGrammarElement(r.grammarSource)),a.astNode=i.astNodes.get(r.astNode),Gc(a))for(let s of r.content){let o=this.hydrateCstNode(s,i,n++);a.content.push(o)}return a}hydrateCstLeafNode(r){let i=this.getTokenType(r.tokenType),n=r.offset,a=r.length,s=r.startLine,o=r.startColumn,u=r.endLine,h=r.endColumn,d=r.hidden;return new jb(n,a,{start:{line:s,character:o},end:{line:u,character:h}},i,d)}getTokenType(r){return this.lexer.definition[r]}getGrammarElementId(r){if(r)return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(r)}getGrammarElement(r){return this.grammarElementIdMap.size===0&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(r)}createGrammarElementIdMap(){let r=0;for(let i of Vc(this.grammar))qk(i)&&this.grammarElementIdMap.set(i,r++)}},l(e,"DefaultHydrator"),e)});function Ol(e){return{documentation:{CommentProvider:l(t=>new uG(t),"CommentProvider"),DocumentationProvider:l(t=>new cG(t),"DocumentationProvider")},parser:{AsyncParser:l(t=>new hG(t),"AsyncParser"),GrammarConfig:l(t=>T$(t),"GrammarConfig"),LangiumParser:l(t=>gz(t),"LangiumParser"),CompletionParser:l(t=>pz(t),"CompletionParser"),ValueConverter:l(()=>new WT,"ValueConverter"),TokenBuilder:l(()=>new Wb,"TokenBuilder"),Lexer:l(t=>new c7(t),"Lexer"),ParserErrorMessageProvider:l(()=>new jT,"ParserErrorMessageProvider"),LexerErrorMessageProvider:l(()=>new Zz,"LexerErrorMessageProvider")},workspace:{AstNodeLocator:l(()=>new Hz,"AstNodeLocator"),AstNodeDescriptionProvider:l(t=>new qz(t),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:l(t=>new jz(t),"ReferenceDescriptionProvider")},references:{Linker:l(t=>new Cz(t),"Linker"),NameProvider:l(()=>new _z,"NameProvider"),ScopeProvider:l(t=>new Dz(t),"ScopeProvider"),ScopeComputation:l(t=>new Lz(t),"ScopeComputation"),References:l(t=>new Az(t),"References")},serializer:{Hydrator:l(t=>new pG(t),"Hydrator"),JsonSerializer:l(t=>new Pz(t),"JsonSerializer")},validation:{DocumentValidator:l(t=>new Uz(t),"DocumentValidator"),ValidationRegistry:l(t=>new Fz(t),"ValidationRegistry")},shared:l(()=>e.shared,"shared")}}function Pl(e){return{ServiceRegistry:l(t=>new $z(t),"ServiceRegistry"),workspace:{LangiumDocuments:l(t=>new Ez(t),"LangiumDocuments"),LangiumDocumentFactory:l(t=>new Tz(t),"LangiumDocumentFactory"),DocumentBuilder:l(t=>new Wz(t),"DocumentBuilder"),IndexManager:l(t=>new Xz(t),"IndexManager"),WorkspaceManager:l(t=>new Kz(t),"WorkspaceManager"),FileSystemProvider:l(t=>e.fileSystemProvider(t),"FileSystemProvider"),WorkspaceLock:l(()=>new dG,"WorkspaceLock"),ConfigurationProvider:l(t=>new Yz(t),"ConfigurationProvider")}}}var g9e=B(()=>{"use strict";pEe(),EAe(),CAe(),mz(),SAe(),IAe(),DAe(),RAe(),OAe(),$Ae(),Bz(),FAe(),zAe(),i7(),GAe(),UAe(),qAe(),HAe(),Kb(),VAe(),YAe(),Qz(),o9e(),l9e(),HT(),h9e(),d9e(),p9e(),l(Ol,"createDefaultCoreModule"),l(Pl,"createDefaultSharedCoreModule")});function Nn(e,t,r,i,n,a,s,o,u){let h=[e,t,r,i,n,a,s,o,u].reduce(ix,{});return fG(h)}function gG(e){if(e&&e[vG])for(let t of Object.values(e))gG(t);return e}function fG(e,t){let r=new Proxy({},{deleteProperty:l(()=>!1,"deleteProperty"),set:l(()=>{throw new Error("Cannot set property on injected service container")},"set"),get:l((i,n)=>n===vG?!0:mG(i,n,e,t||r),"get"),getOwnPropertyDescriptor:l((i,n)=>(mG(i,n,e,t||r),Object.getOwnPropertyDescriptor(i,n)),"getOwnPropertyDescriptor"),has:l((i,n)=>n in e,"has"),ownKeys:l(()=>[...Object.getOwnPropertyNames(e)],"ownKeys")});return r}function mG(e,t,r,i){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===bG)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}else if(t in r){let n=r[t];e[t]=bG;try{e[t]=typeof n=="function"?n(i):fG(n,i)}catch(a){throw e[t]=a instanceof Error?a:void 0,a}return e[t]}else return}function ix(e,t){if(t){for(let[r,i]of Object.entries(t))if(i!==void 0){let n=e[r];n!==null&&i!==null&&typeof n=="object"&&typeof i=="object"?e[r]=ix(n,i):e[r]=i}}return e}var yG,vG,bG,f9e=B(()=>{"use strict";(function(e){e.merge=(t,r)=>ix(ix({},t),r)})(yG||(yG={})),l(Nn,"inject"),vG=Symbol("isProxy"),l(gG,"eagerLoad"),l(fG,"_inject"),bG=Symbol(),l(mG,"_resolve"),l(ix,"_merge")}),BQe=B(()=>{"use strict"}),$Qe=B(()=>{"use strict";l9e(),o9e(),s9e()}),FQe=B(()=>{"use strict"}),zQe=B(()=>{"use strict";pEe(),FQe()}),f7,op,xG,m9e,GQe=B(()=>{"use strict";var e,t;ep(),mz(),Qz(),f7={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]},(function(r){r.REGULAR="indentation-sensitive",r.IGNORE_INDENTATION="ignore-indentation"})(op||(op={})),xG=(e=class extends Wb{constructor(i=f7){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},f7),i),this.indentTokenType=cf({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=cf({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(i,n){let a=super.buildTokens(i,n);if(!a7(a))throw new Error("Invalid tokens built by default builder");let{indentTokenName:s,dedentTokenName:o,whitespaceTokenName:u,ignoreIndentationDelimiters:h}=this.options,d,p,g,f=[];for(let m of a){for(let[x,T]of h)m.name===x?m.PUSH_MODE=op.IGNORE_INDENTATION:m.name===T&&(m.POP_MODE=!0);m.name===o?d=m:m.name===s?p=m:m.name===u?g=m:f.push(m)}if(!d||!p||!g)throw new Error("Some indentation/whitespace tokens not found!");return h.length>0?{modes:{[op.REGULAR]:[d,p,...f,g],[op.IGNORE_INDENTATION]:[...f,g]},defaultMode:op.REGULAR}:[d,p,g,...f]}flushLexingReport(i){let n=super.flushLexingReport(i);return Object.assign(Object.assign({},n),{remainingDedents:this.flushRemainingDedents(i)})}isStartOfLine(i,n){return n===0||`\r
`.includes(i[n-1])}matchWhitespace(i,n,a,s){var o;this.whitespaceRegExp.lastIndex=n;let u=this.whitespaceRegExp.exec(i);return{currIndentLevel:(o=u==null?void 0:u[0].length)!==null&&o!==void 0?o:0,prevIndentLevel:this.indentationStack.at(-1),match:u}}createIndentationTokenInstance(i,n,a,s){let o=this.getLineNumber(n,s);return Sb(i,a,s,s+a.length,o,o,1,a.length)}getLineNumber(i,n){return i.substring(0,n).split(/\r\n|\r|\n/).length}indentMatcher(i,n,a,s){if(!this.isStartOfLine(i,n))return null;let{currIndentLevel:o,prevIndentLevel:u,match:h}=this.matchWhitespace(i,n,a,s);return o<=u?null:(this.indentationStack.push(o),h)}dedentMatcher(i,n,a,s){var o,u,h,d;if(!this.isStartOfLine(i,n))return null;let{currIndentLevel:p,prevIndentLevel:g,match:f}=this.matchWhitespace(i,n,a,s);if(p>=g)return null;let m=this.indentationStack.lastIndexOf(p);if(m===-1)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${p} at offset: ${n}. Current indentation stack: ${this.indentationStack}`,offset:n,length:(u=(o=f==null?void 0:f[0])===null||o===void 0?void 0:o.length)!==null&&u!==void 0?u:0,line:this.getLineNumber(i,n),column:1}),null;let x=this.indentationStack.length-m-1,T=(d=(h=i.substring(0,n).match(/[\r\n]+$/))===null||h===void 0?void 0:h[0].length)!==null&&d!==void 0?d:1;for(let k=0;k<x;k++){let E=this.createIndentationTokenInstance(this.dedentTokenType,i,"",n-(T-1));a.push(E),this.indentationStack.pop()}return null}buildTerminalToken(i){let n=super.buildTerminalToken(i),{indentTokenName:a,dedentTokenName:s,whitespaceTokenName:o}=this.options;return n.name===a?this.indentTokenType:n.name===s?this.dedentTokenType:n.name===o?cf({name:o,pattern:this.whitespaceRegExp,group:da.SKIPPED}):n}flushRemainingDedents(i){let n=[];for(;this.indentationStack.length>1;)n.push(this.createIndentationTokenInstance(this.dedentTokenType,i,"",i.length)),this.indentationStack.pop();return this.indentationStack=[0],n}},l(e,"IndentationAwareTokenBuilder"),e),m9e=(t=class extends c7{constructor(i){if(super(i),i.parser.TokenBuilder instanceof xG)this.indentationTokenBuilder=i.parser.TokenBuilder;else throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder")}tokenize(i,n=l7){let a=super.tokenize(i),s=a.report;(n==null?void 0:n.mode)==="full"&&a.tokens.push(...s.remainingDedents),s.remainingDedents=[];let{indentTokenType:o,dedentTokenType:u}=this.indentationTokenBuilder,h=o.tokenTypeIdx,d=u.tokenTypeIdx,p=[],g=a.tokens.length-1;for(let f=0;f<g;f++){let m=a.tokens[f],x=a.tokens[f+1];if(m.tokenTypeIdx===h&&x.tokenTypeIdx===d){f++;continue}p.push(m)}return g>=0&&p.push(a.tokens[g]),a.tokens=p,a}},l(t,"IndentationAwareLexer"),t)}),UQe=B(()=>{"use strict"}),qQe=B(()=>{"use strict";h9e(),EAe(),iz(),GQe(),CAe(),HT(),Qz(),dz(),UQe(),mz(),SAe()}),jQe=B(()=>{"use strict";IAe(),DAe(),RAe(),BAe(),OAe(),$Ae()}),HQe=B(()=>{"use strict";p9e(),Bz()}),wG,Bl,y9e=B(()=>{"use strict";var e;wG=(e=class{readFile(){throw new Error("No file system is available.")}readDirectory(){return xe(this,null,function*(){return[]})}},l(e,"EmptyFileSystemProvider"),e),Bl={fileSystemProvider:l(()=>new wG,"fileSystemProvider")}});function v9e(){let e=Nn(Pl(Bl),x9e),t=Nn(Ol({shared:e}),b9e);return e.ServiceRegistry.register(t),t}function $l(e){var t;let r=v9e(),i=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(i,Dl.parse(`memory://${(t=i.name)!==null&&t!==void 0?t:"grammar"}.langium`)),i}var b9e,x9e,VQe=B(()=>{"use strict";g9e(),f9e(),Hc(),y9e(),Qc(),b9e={Grammar:l(()=>{},"Grammar"),LanguageMetaData:l(()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"}),"LanguageMetaData")},x9e={AstReflection:l(()=>new Kk,"AstReflection")},l(v9e,"createMinimalGrammarServices"),l($l,"loadGrammarFromJson")}),kG={};nr(kG,{AstUtils:()=>XB,BiMap:()=>Zb,Cancellation:()=>oi,ContextCache:()=>ex,CstUtils:()=>wB,DONE_RESULT:()=>ua,Deferred:()=>Il,Disposable:()=>sp,DisposableCache:()=>Jb,DocumentCache:()=>Mz,EMPTY_STREAM:()=>Xv,ErrorWithLocation:()=>Qv,GrammarUtils:()=>c$,MultiMap:()=>np,OperationCancelled:()=>Zc,Reduction:()=>Kv,RegExpUtils:()=>t$,SimpleCache:()=>t7,StreamImpl:()=>Do,TreeStreamImpl:()=>l0,URI:()=>Dl,UriUtils:()=>Rl,WorkspaceCache:()=>r7,assertUnreachable:()=>gh,delayNextTick:()=>XT,interruptAndCheck:()=>pa,isOperationCancelled:()=>ip,loadGrammarFromJson:()=>$l,setInterruptionPeriod:()=>yz,startCancelableOperation:()=>KT,stream:()=>ji});var YQe=B(()=>{"use strict";Iz(),Vz(),n4(kG,n7),Qb(),jAe(),NB(),VQe(),$o(),vs(),Qc(),Ja(),Bo(),Cl(),Al(),hb()}),WQe=B(()=>{"use strict";zAe(),i7()}),XQe=B(()=>{"use strict";GAe(),UAe(),qAe(),HAe(),Kb(),y9e(),VAe(),d9e(),YAe()}),w9e={};nr(w9e,{AbstractAstReflection:()=>Fk,AbstractCstNode:()=>zT,AbstractLangiumParser:()=>qT,AbstractParserErrorMessageProvider:()=>oz,AbstractThreadedAsyncParser:()=>c9e,AstUtils:()=>XB,BiMap:()=>Zb,Cancellation:()=>oi,CompositeCstNodeImpl:()=>Hb,ContextCache:()=>ex,CstNodeBuilder:()=>rz,CstUtils:()=>wB,DEFAULT_TOKENIZE_OPTIONS:()=>l7,DONE_RESULT:()=>ua,DatatypeSymbol:()=>Vb,DefaultAstNodeDescriptionProvider:()=>qz,DefaultAstNodeLocator:()=>Hz,DefaultAsyncParser:()=>hG,DefaultCommentProvider:()=>uG,DefaultConfigurationProvider:()=>Yz,DefaultDocumentBuilder:()=>Wz,DefaultDocumentValidator:()=>Uz,DefaultHydrator:()=>pG,DefaultIndexManager:()=>Xz,DefaultJsonSerializer:()=>Pz,DefaultLangiumDocumentFactory:()=>Tz,DefaultLangiumDocuments:()=>Ez,DefaultLexer:()=>c7,DefaultLexerErrorMessageProvider:()=>Zz,DefaultLinker:()=>Cz,DefaultNameProvider:()=>_z,DefaultReferenceDescriptionProvider:()=>jz,DefaultReferences:()=>Az,DefaultScopeComputation:()=>Lz,DefaultScopeProvider:()=>Dz,DefaultServiceRegistry:()=>$z,DefaultTokenBuilder:()=>Wb,DefaultValueConverter:()=>WT,DefaultWorkspaceLock:()=>dG,DefaultWorkspaceManager:()=>Kz,Deferred:()=>Il,Disposable:()=>sp,DisposableCache:()=>Jb,DocumentCache:()=>Mz,DocumentState:()=>pi,DocumentValidator:()=>Vs,EMPTY_SCOPE:()=>PAe,EMPTY_STREAM:()=>Xv,EmptyFileSystem:()=>Bl,EmptyFileSystemProvider:()=>wG,ErrorWithLocation:()=>Qv,GrammarAST:()=>D8e,GrammarUtils:()=>c$,IndentationAwareLexer:()=>m9e,IndentationAwareTokenBuilder:()=>xG,JSDocDocumentationProvider:()=>cG,LangiumCompletionParser:()=>lz,LangiumParser:()=>sz,LangiumParserErrorMessageProvider:()=>jT,LeafCstNodeImpl:()=>jb,LexingMode:()=>op,MapScope:()=>Nz,Module:()=>yG,MultiMap:()=>np,OperationCancelled:()=>Zc,ParserWorker:()=>u9e,Reduction:()=>Kv,RegExpUtils:()=>t$,RootCstNodeImpl:()=>GT,SimpleCache:()=>t7,StreamImpl:()=>Do,StreamScope:()=>e7,TextDocument:()=>QT,TreeStreamImpl:()=>l0,URI:()=>Dl,UriUtils:()=>Rl,ValidationCategory:()=>tx,ValidationRegistry:()=>Fz,ValueConverter:()=>Ml,WorkspaceCache:()=>r7,assertUnreachable:()=>gh,createCompletionParser:()=>pz,createDefaultCoreModule:()=>Ol,createDefaultSharedCoreModule:()=>Pl,createGrammarConfig:()=>T$,createLangiumParser:()=>gz,createParser:()=>VT,delayNextTick:()=>XT,diagnosticData:()=>ap,eagerLoad:()=>gG,getDiagnosticRange:()=>zz,indentationBuilderDefaultOptions:()=>f7,inject:()=>Nn,interruptAndCheck:()=>pa,isAstNode:()=>on,isAstNodeDescription:()=>xB,isAstNodeWithComment:()=>Rz,isCompositeCstNode:()=>Gc,isIMultiModeLexerDefinition:()=>s7,isJSDoc:()=>eG,isLeafCstNode:()=>o0,isLinkingError:()=>U1,isNamed:()=>Sz,isOperationCancelled:()=>ip,isReference:()=>Za,isRootCstNode:()=>$k,isTokenTypeArray:()=>a7,isTokenTypeDictionary:()=>o7,loadGrammarFromJson:()=>$l,parseJSDoc:()=>Jz,prepareLangiumParser:()=>fz,setInterruptionPeriod:()=>yz,startCancelableOperation:()=>KT,stream:()=>ji,toDiagnosticData:()=>Gz,toDiagnosticSeverity:()=>rx});var Ys=B(()=>{"use strict";g9e(),f9e(),FAe(),BQe(),Tl(),$Qe(),zQe(),qQe(),jQe(),HQe(),YQe(),n4(w9e,kG),WQe(),XQe(),Hc()});function k9e(e){return Ws.isInstance(e,nx)}function T9e(e){return Ws.isInstance(e,yf)}function E9e(e){return Ws.isInstance(e,vf)}function C9e(e){return Ws.isInstance(e,bf)}function S9e(e){return Ws.isInstance(e,lx)}function _9e(e){return Ws.isInstance(e,xf)}function A9e(e){return Ws.isInstance(e,ux)}function L9e(e){return Ws.isInstance(e,hx)}function N9e(e){return Ws.isInstance(e,dx)}function M9e(e){return Ws.isInstance(e,px)}function I9e(e){return Ws.isInstance(e,gx)}var D9e,vt,TG,nx,ax,yf,sx,ox,m7,vf,y7,v7,b7,bf,x7,lx,cx,w7,xf,k7,ux,hx,dx,px,T7,E7,gx,C7,fx,mx,yx,EG,Ws,S7,R9e,_7,O9e,A7,P9e,L7,B9e,N7,$9e,M7,F9e,I7,z9e,G9e,U9e,q9e,j9e,H9e,V9e,Y9e,Th,W9e,X9e,K9e,Z9e,Q9e,J9e,eLe,tLe,rLe,iLe,nLe,vx,bx,Jc,KQe,Ba=B(()=>{"use strict";var e,t,r,i,n;Ys(),Ys(),Ys(),Ys(),D9e=Object.defineProperty,vt=l((a,s)=>D9e(a,"name",{value:s,configurable:!0}),"__name"),TG="Statement",nx="Architecture",l(k9e,"isArchitecture"),vt(k9e,"isArchitecture"),ax="Axis",yf="Branch",l(T9e,"isBranch"),vt(T9e,"isBranch"),sx="Checkout",ox="CherryPicking",m7="ClassDefStatement",vf="Commit",l(E9e,"isCommit"),vt(E9e,"isCommit"),y7="Curve",v7="Edge",b7="Entry",bf="GitGraph",l(C9e,"isGitGraph"),vt(C9e,"isGitGraph"),x7="Group",lx="Info",l(S9e,"isInfo"),vt(S9e,"isInfo"),cx="Item",w7="Junction",xf="Merge",l(_9e,"isMerge"),vt(_9e,"isMerge"),k7="Option",ux="Packet",l(A9e,"isPacket"),vt(A9e,"isPacket"),hx="PacketBlock",l(L9e,"isPacketBlock"),vt(L9e,"isPacketBlock"),dx="Pie",l(N9e,"isPie"),vt(N9e,"isPie"),px="PieSection",l(M9e,"isPieSection"),vt(M9e,"isPieSection"),T7="Radar",E7="Service",gx="Treemap",l(I9e,"isTreemap"),vt(I9e,"isTreemap"),C7="TreemapRow",fx="Direction",mx="Leaf",yx="Section",EG=(e=class extends Fk{getAllTypes(){return[nx,ax,yf,sx,ox,m7,vf,y7,fx,v7,b7,bf,x7,lx,cx,w7,mx,xf,k7,ux,hx,dx,px,T7,yx,E7,TG,gx,C7]}computeIsSubtype(s,o){switch(s){case yf:case sx:case ox:case vf:case xf:return this.isSubtype(TG,o);case fx:return this.isSubtype(bf,o);case mx:case yx:return this.isSubtype(cx,o);default:return!1}}getReferenceType(s){let o=`${s.container.$type}:${s.property}`;switch(o){case"Entry:axis":return ax;default:throw new Error(`${o} is not a valid reference id.`)}}getTypeMetaData(s){switch(s){case nx:return{name:nx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case ax:return{name:ax,properties:[{name:"label"},{name:"name"}]};case yf:return{name:yf,properties:[{name:"name"},{name:"order"}]};case sx:return{name:sx,properties:[{name:"branch"}]};case ox:return{name:ox,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case m7:return{name:m7,properties:[{name:"className"},{name:"styleText"}]};case vf:return{name:vf,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case y7:return{name:y7,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case v7:return{name:v7,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case b7:return{name:b7,properties:[{name:"axis"},{name:"value"}]};case bf:return{name:bf,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case x7:return{name:x7,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case lx:return{name:lx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case cx:return{name:cx,properties:[{name:"classSelector"},{name:"name"}]};case w7:return{name:w7,properties:[{name:"id"},{name:"in"}]};case xf:return{name:xf,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case k7:return{name:k7,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case ux:return{name:ux,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case hx:return{name:hx,properties:[{name:"bits"},{name:"end"},{name:"label"},{name:"start"}]};case dx:return{name:dx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case px:return{name:px,properties:[{name:"label"},{name:"value"}]};case T7:return{name:T7,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case E7:return{name:E7,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case gx:return{name:gx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"},{name:"TreemapRows",defaultValue:[]}]};case C7:return{name:C7,properties:[{name:"indent"},{name:"item"}]};case fx:return{name:fx,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};case mx:return{name:mx,properties:[{name:"classSelector"},{name:"name"},{name:"value"}]};case yx:return{name:yx,properties:[{name:"classSelector"},{name:"name"}]};default:return{name:s,properties:[]}}}},l(e,"MermaidAstReflection"),vt(e,"MermaidAstReflection"),e),Ws=new EG,R9e=vt(()=>S7!=null?S7:S7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@7"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`),"InfoGrammar"),O9e=vt(()=>_7!=null?_7:_7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"packet"},{"$type":"Keyword","value":"packet-beta"}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}],"cardinality":"?"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"+"},{"$type":"Assignment","feature":"bits","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]}]},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@8"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@9"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`),"PacketGrammar"),P9e=vt(()=>A7!=null?A7:A7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"FLOAT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/-?(0|[1-9][0-9]*)(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER_PIE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@2"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@3"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@11"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@12"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`),"PieGrammar"),B9e=vt(()=>L7!=null?L7:L7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@28"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@29"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@18"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@19"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`),"ArchitectureGrammar"),$9e=vt(()=>N7!=null?N7:N7=$l(`{"$type":"Grammar","isDeclared":true,"name":"GitGraph","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@24"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@14"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"TerminalRule","name":"REFERENCE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[],"types":[],"usedGrammars":[]}`),"GitGraphGrammar"),F9e=vt(()=>M7!=null?M7:M7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Radar","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@2"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"FLOAT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+\\\\.[0-9]+(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*(?!\\\\.)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@15"}},{"$type":"TerminalRuleCall","rule":{"$ref":"#/rules@16"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\"([^\\"\\\\\\\\]|\\\\\\\\.)*\\"|'([^'\\\\\\\\]|\\\\\\\\.)*'/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[\\\\w]([-\\\\w]*\\\\w)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"interfaces":[{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@2"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"types":[],"usedGrammars":[]}`),"RadarGrammar"),z9e=vt(()=>I7!=null?I7:I7=$l(`{"$type":"Grammar","isDeclared":true,"name":"Treemap","rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"ParserRule","entry":true,"name":"Treemap","returnType":{"$ref":"#/interfaces@4"},"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"TreemapRows","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]}}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"TREEMAP_KEYWORD","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap-beta"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"treemap"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"CLASS_DEF","definition":{"$type":"RegexToken","regex":"/classDef\\\\s+([a-zA-Z_][a-zA-Z0-9_]+)(?:\\\\s+([^;\\\\r\\\\n]*))?(?:;)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STYLE_SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":::"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"SEPARATOR","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":":"}},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"COMMA","definition":{"$type":"CharacterRange","left":{"$type":"Keyword","value":","}},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WS","definition":{"$type":"RegexToken","regex":"/[ \\\\t]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"ML_COMMENT","definition":{"$type":"RegexToken","regex":"/\\\\%\\\\%[^\\\\n]*/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"NL","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false},{"$type":"ParserRule","name":"TreemapRow","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"indent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"item","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"ClassDef","dataType":"string","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Item","returnType":{"$ref":"#/interfaces@0"},"definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Section","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Leaf","returnType":{"$ref":"#/interfaces@2"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@23"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[],"cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]},{"$type":"Assignment","feature":"classSelector","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INDENTATION","definition":{"$type":"RegexToken","regex":"/[ \\\\t]{1,}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID2","definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"NUMBER2","definition":{"$type":"RegexToken","regex":"/[0-9_\\\\.\\\\,]+/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"MyNumber","dataType":"number","definition":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"STRING2","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|'[^']*'/"},"fragment":false,"hidden":false}],"interfaces":[{"$type":"Interface","name":"Item","attributes":[{"$type":"TypeAttribute","name":"name","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"classSelector","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Section","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[]},{"$type":"Interface","name":"Leaf","superTypes":[{"$ref":"#/interfaces@0"}],"attributes":[{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}]},{"$type":"Interface","name":"ClassDefStatement","attributes":[{"$type":"TypeAttribute","name":"className","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false},{"$type":"TypeAttribute","name":"styleText","type":{"$type":"SimpleType","primitiveType":"string"},"isOptional":false}],"superTypes":[]},{"$type":"Interface","name":"Treemap","attributes":[{"$type":"TypeAttribute","name":"TreemapRows","type":{"$type":"ArrayType","elementType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@14"}}},"isOptional":false},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[],"$comment":"/**\\n * Treemap grammar for Langium\\n * Converted from mindmap grammar\\n *\\n * The ML_COMMENT and NL hidden terminals handle whitespace, comments, and newlines\\n * before the treemap keyword, allowing for empty lines and comments before the\\n * treemap declaration.\\n */"}`),"TreemapGrammar"),G9e={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},U9e={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},q9e={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},j9e={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},H9e={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},V9e={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Y9e={languageId:"treemap",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},Th={AstReflection:vt(()=>new EG,"AstReflection")},W9e={Grammar:vt(()=>R9e(),"Grammar"),LanguageMetaData:vt(()=>G9e,"LanguageMetaData"),parser:{}},X9e={Grammar:vt(()=>O9e(),"Grammar"),LanguageMetaData:vt(()=>U9e,"LanguageMetaData"),parser:{}},K9e={Grammar:vt(()=>P9e(),"Grammar"),LanguageMetaData:vt(()=>q9e,"LanguageMetaData"),parser:{}},Z9e={Grammar:vt(()=>B9e(),"Grammar"),LanguageMetaData:vt(()=>j9e,"LanguageMetaData"),parser:{}},Q9e={Grammar:vt(()=>$9e(),"Grammar"),LanguageMetaData:vt(()=>H9e,"LanguageMetaData"),parser:{}},J9e={Grammar:vt(()=>F9e(),"Grammar"),LanguageMetaData:vt(()=>V9e,"LanguageMetaData"),parser:{}},eLe={Grammar:vt(()=>z9e(),"Grammar"),LanguageMetaData:vt(()=>Y9e,"LanguageMetaData"),parser:{}},tLe=/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,rLe=/accTitle[\t ]*:([^\n\r]*)/,iLe=/title([\t ][^\n\r]*|)/,nLe={ACC_DESCR:tLe,ACC_TITLE:rLe,TITLE:iLe},vx=(t=class extends WT{runConverter(s,o,u){let h=this.runCommonConverter(s,o,u);return h===void 0&&(h=this.runCustomConverter(s,o,u)),h===void 0?super.runConverter(s,o,u):h}runCommonConverter(s,o,u){let h=nLe[s.name];if(h===void 0)return;let d=h.exec(o);if(d!==null){if(d[1]!==void 0)return d[1].trim().replace(/[\t ]{2,}/gm," ");if(d[2]!==void 0)return d[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,`
`)}}},l(t,"AbstractMermaidValueConverter"),vt(t,"AbstractMermaidValueConverter"),t),bx=(r=class extends vx{runCustomConverter(s,o,u){}},l(r,"CommonValueConverter"),vt(r,"CommonValueConverter"),r),Jc=(i=class extends Wb{constructor(s){super(),this.keywords=new Set(s)}buildKeywordTokens(s,o,u){let h=super.buildKeywordTokens(s,o,u);return h.forEach(d=>{this.keywords.has(d.name)&&d.PATTERN!==void 0&&(d.PATTERN=new RegExp(d.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))}),h}},l(i,"AbstractMermaidTokenBuilder"),vt(i,"AbstractMermaidTokenBuilder"),i),KQe=(n=class extends Jc{},l(n,"CommonTokenBuilder"),vt(n,"CommonTokenBuilder"),n)});function CG(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),Q9e,SG);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}var aLe,SG,sLe=B(()=>{"use strict";var e;Ba(),Ys(),aLe=(e=class extends Jc{constructor(){super(["gitGraph"])}},l(e,"GitGraphTokenBuilder"),vt(e,"GitGraphTokenBuilder"),e),SG={parser:{TokenBuilder:vt(()=>new aLe,"TokenBuilder"),ValueConverter:vt(()=>new bx,"ValueConverter")}},l(CG,"createGitGraphServices"),vt(CG,"createGitGraphServices")});function _G(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),W9e,AG);return t.ServiceRegistry.register(r),{shared:t,Info:r}}var oLe,AG,lLe=B(()=>{"use strict";var e;Ba(),Ys(),oLe=(e=class extends Jc{constructor(){super(["info","showInfo"])}},l(e,"InfoTokenBuilder"),vt(e,"InfoTokenBuilder"),e),AG={parser:{TokenBuilder:vt(()=>new oLe,"TokenBuilder"),ValueConverter:vt(()=>new bx,"ValueConverter")}},l(_G,"createInfoServices"),vt(_G,"createInfoServices")});function LG(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),X9e,NG);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}var cLe,NG,uLe=B(()=>{"use strict";var e;Ba(),Ys(),cLe=(e=class extends Jc{constructor(){super(["packet"])}},l(e,"PacketTokenBuilder"),vt(e,"PacketTokenBuilder"),e),NG={parser:{TokenBuilder:vt(()=>new cLe,"TokenBuilder"),ValueConverter:vt(()=>new bx,"ValueConverter")}},l(LG,"createPacketServices"),vt(LG,"createPacketServices")});function MG(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),K9e,IG);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}var hLe,dLe,IG,pLe=B(()=>{"use strict";var e,t;Ba(),Ys(),hLe=(e=class extends Jc{constructor(){super(["pie","showData"])}},l(e,"PieTokenBuilder"),vt(e,"PieTokenBuilder"),e),dLe=(t=class extends vx{runCustomConverter(i,n,a){if(i.name==="PIE_SECTION_LABEL")return n.replace(/"/g,"").trim()}},l(t,"PieValueConverter"),vt(t,"PieValueConverter"),t),IG={parser:{TokenBuilder:vt(()=>new hLe,"TokenBuilder"),ValueConverter:vt(()=>new dLe,"ValueConverter")}},l(MG,"createPieServices"),vt(MG,"createPieServices")});function DG(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),Z9e,RG);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}var gLe,fLe,RG,mLe=B(()=>{"use strict";var e,t;Ba(),Ys(),gLe=(e=class extends Jc{constructor(){super(["architecture"])}},l(e,"ArchitectureTokenBuilder"),vt(e,"ArchitectureTokenBuilder"),e),fLe=(t=class extends vx{runCustomConverter(i,n,a){if(i.name==="ARCH_ICON")return n.replace(/[()]/g,"").trim();if(i.name==="ARCH_TEXT_ICON")return n.replace(/["()]/g,"");if(i.name==="ARCH_TITLE")return n.replace(/[[\]]/g,"").trim()}},l(t,"ArchitectureValueConverter"),vt(t,"ArchitectureValueConverter"),t),RG={parser:{TokenBuilder:vt(()=>new gLe,"TokenBuilder"),ValueConverter:vt(()=>new fLe,"ValueConverter")}},l(DG,"createArchitectureServices"),vt(DG,"createArchitectureServices")});function OG(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),J9e,PG);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}var yLe,PG,vLe=B(()=>{"use strict";var e;Ba(),Ys(),yLe=(e=class extends Jc{constructor(){super(["radar-beta"])}},l(e,"RadarTokenBuilder"),vt(e,"RadarTokenBuilder"),e),PG={parser:{TokenBuilder:vt(()=>new yLe,"TokenBuilder"),ValueConverter:vt(()=>new bx,"ValueConverter")}},l(OG,"createRadarServices"),vt(OG,"createRadarServices")});function BG(e){let t=e.validation.TreemapValidator,r=e.validation.ValidationRegistry;if(r){let i={Treemap:t.checkSingleRoot.bind(t)};r.register(i,t)}}function $G(e=Bl){let t=Nn(Pl(e),Th),r=Nn(Ol({shared:t}),eLe,FG);return t.ServiceRegistry.register(r),BG(r),{shared:t,Treemap:r}}var bLe,xLe,wLe,kLe,FG,TLe=B(()=>{"use strict";var e,t,r;Ba(),Ys(),bLe=(e=class extends Jc{constructor(){super(["treemap"])}},l(e,"TreemapTokenBuilder"),vt(e,"TreemapTokenBuilder"),e),xLe=/classDef\s+([A-Z_a-z]\w+)(?:\s+([^\n\r;]*))?;?/,wLe=(t=class extends vx{runCustomConverter(n,a,s){if(n.name==="NUMBER2")return parseFloat(a.replace(/,/g,""));if(n.name==="SEPARATOR"||n.name==="STRING2")return a.substring(1,a.length-1);if(n.name==="INDENTATION")return a.length;if(n.name==="ClassDef"){if(typeof a!="string")return a;let o=xLe.exec(a);if(o)return{$type:"ClassDefStatement",className:o[1],styleText:o[2]||void 0}}}},l(t,"TreemapValueConverter"),vt(t,"TreemapValueConverter"),t),l(BG,"registerValidationChecks"),vt(BG,"registerValidationChecks"),kLe=(r=class{checkSingleRoot(n,a){let s;for(let o of n.TreemapRows)o.item&&(s===void 0&&o.indent===void 0?s=0:o.indent===void 0?a("error","Multiple root nodes are not allowed in a treemap.",{node:o,property:"item"}):s!==void 0&&s>=parseInt(o.indent,10)&&a("error","Multiple root nodes are not allowed in a treemap.",{node:o,property:"item"}))}},l(r,"TreemapValidator"),vt(r,"TreemapValidator"),r),FG={parser:{TokenBuilder:vt(()=>new bLe,"TokenBuilder"),ValueConverter:vt(()=>new wLe,"ValueConverter")},validation:{TreemapValidator:vt(()=>new kLe,"TreemapValidator")}},l($G,"createTreemapServices"),vt($G,"createTreemapServices")}),ELe={};nr(ELe,{InfoModule:()=>AG,createInfoServices:()=>_G});var ZQe=B(()=>{"use strict";lLe(),Ba()}),CLe={};nr(CLe,{PacketModule:()=>NG,createPacketServices:()=>LG});var QQe=B(()=>{"use strict";uLe(),Ba()}),SLe={};nr(SLe,{PieModule:()=>IG,createPieServices:()=>MG});var JQe=B(()=>{"use strict";pLe(),Ba()}),_Le={};nr(_Le,{ArchitectureModule:()=>RG,createArchitectureServices:()=>DG});var eJe=B(()=>{"use strict";mLe(),Ba()}),ALe={};nr(ALe,{GitGraphModule:()=>SG,createGitGraphServices:()=>CG});var tJe=B(()=>{"use strict";sLe(),Ba()}),LLe={};nr(LLe,{RadarModule:()=>PG,createRadarServices:()=>OG});var rJe=B(()=>{"use strict";vLe(),Ba()}),NLe={};nr(NLe,{TreemapModule:()=>FG,createTreemapServices:()=>$G});var iJe=B(()=>{"use strict";TLe(),Ba()});function eu(e,t){return xe(this,null,function*(){let r=MLe[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);Fl[e]||(yield r());let i=Fl[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new ILe(i);return i.value})}var Fl,MLe,ILe,lp=B(()=>{"use strict";var e;sLe(),lLe(),uLe(),pLe(),mLe(),vLe(),TLe(),Ba(),Fl={},MLe={info:vt(()=>xe(null,null,function*(){let{createInfoServices:t}=yield Promise.resolve().then(()=>(ZQe(),ELe)),r=t().Info.parser.LangiumParser;Fl.info=r}),"info"),packet:vt(()=>xe(null,null,function*(){let{createPacketServices:t}=yield Promise.resolve().then(()=>(QQe(),CLe)),r=t().Packet.parser.LangiumParser;Fl.packet=r}),"packet"),pie:vt(()=>xe(null,null,function*(){let{createPieServices:t}=yield Promise.resolve().then(()=>(JQe(),SLe)),r=t().Pie.parser.LangiumParser;Fl.pie=r}),"pie"),architecture:vt(()=>xe(null,null,function*(){let{createArchitectureServices:t}=yield Promise.resolve().then(()=>(eJe(),_Le)),r=t().Architecture.parser.LangiumParser;Fl.architecture=r}),"architecture"),gitGraph:vt(()=>xe(null,null,function*(){let{createGitGraphServices:t}=yield Promise.resolve().then(()=>(tJe(),ALe)),r=t().GitGraph.parser.LangiumParser;Fl.gitGraph=r}),"gitGraph"),radar:vt(()=>xe(null,null,function*(){let{createRadarServices:t}=yield Promise.resolve().then(()=>(rJe(),LLe)),r=t().Radar.parser.LangiumParser;Fl.radar=r}),"radar"),treemap:vt(()=>xe(null,null,function*(){let{createTreemapServices:t}=yield Promise.resolve().then(()=>(iJe(),NLe)),r=t().Treemap.parser.LangiumParser;Fl.treemap=r}),"treemap")},l(eu,"parse"),vt(eu,"parse"),ILe=(e=class extends Error{constructor(r){let i=r.lexerErrors.map(a=>a.message).join(`
`),n=r.parserErrors.map(a=>a.message).join(`
`);super(`Parsing failed: ${i} ${n}`),this.result=r}},l(e,"MermaidParseError"),vt(e,"MermaidParseError"),e)});function cp(e,t){var r,i,n;e.accDescr&&((r=t.setAccDescription)==null||r.call(t,e.accDescr)),e.accTitle&&((i=t.setAccTitle)==null||i.call(t,e.accTitle)),e.title&&((n=t.setDiagramTitle)==null||n.call(t,e.title))}var wf=B(()=>{"use strict";l(cp,"populateCommonDb")}),Yr,zG=B(()=>{"use strict";Yr={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4}}),GG,DLe=B(()=>{"use strict";var e;GG=(e=class{constructor(r){this.init=r,this.records=this.init()}reset(){this.records=this.init()}},l(e,"ImperativeState"),e)});function D7(){return J9({length:7})}function RLe(e,t){let r=Object.create(null);return e.reduce((i,n)=>{let a=t(n);return r[a]||(r[a]=!0,i.push(n)),i},[])}function UG(e,t,r){let i=e.indexOf(t);i===-1?e.push(r):e.splice(i,1,r)}function qG(e){let t=e.reduce((n,a)=>n.seq>a.seq?n:a,e[0]),r="";e.forEach(function(n){n===t?r+="	*":r+="	|"});let i=[r,t.id,t.seq];for(let n in xt.records.branches)xt.records.branches.get(n)===t.id&&i.push(n);if(ae.debug(i.join(" ")),t.parents&&t.parents.length==2&&t.parents[0]&&t.parents[1]){let n=xt.records.commits.get(t.parents[0]);UG(e,t,n),t.parents[1]&&e.push(xt.records.commits.get(t.parents[1]))}else{if(t.parents.length==0)return;if(t.parents[0]){let n=xt.records.commits.get(t.parents[0]);UG(e,t,n)}}e=RLe(e,n=>n.id),qG(e)}var OLe,Eh,xt,PLe,BLe,$Le,FLe,zLe,GLe,ULe,jG,qLe,jLe,HLe,VLe,YLe,HG,WLe,XLe,KLe,VG,ZLe=B(()=>{"use strict";lt(),Jt(),bi(),dr(),Fi(),zG(),DLe(),va(),OLe=Tr.gitGraph,Eh=l(()=>Ea(dt(dt({},OLe),_r().gitGraph)),"getConfig"),xt=new GG(()=>{let e=Eh(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}),l(D7,"getID"),l(RLe,"uniqBy"),PLe=l(function(e){xt.records.direction=e},"setDirection"),BLe=l(function(e){ae.debug("options str",e),e=e==null?void 0:e.trim(),e=e||"{}";try{xt.records.options=JSON.parse(e)}catch(t){ae.error("error while parsing gitGraph options",t.message)}},"setOptions"),$Le=l(function(){return xt.records.options},"getOptions"),FLe=l(function(e){let t=e.msg,r=e.id,i=e.type,n=e.tags;ae.info("commit",t,r,i,n),ae.debug("Entering commit:",t,r,i,n);let a=Eh();r=at.sanitizeText(r,a),t=at.sanitizeText(t,a),n=n==null?void 0:n.map(o=>at.sanitizeText(o,a));let s={id:r||xt.records.seq+"-"+D7(),message:t,seq:xt.records.seq++,type:i!=null?i:Yr.NORMAL,tags:n!=null?n:[],parents:xt.records.head==null?[]:[xt.records.head.id],branch:xt.records.currBranch};xt.records.head=s,ae.info("main branch",a.mainBranchName),xt.records.commits.has(s.id)&&ae.warn(`Commit ID ${s.id} already exists`),xt.records.commits.set(s.id,s),xt.records.branches.set(xt.records.currBranch,s.id),ae.debug("in pushCommit "+s.id)},"commit"),zLe=l(function(e){let t=e.name,r=e.order;if(t=at.sanitizeText(t,Eh()),xt.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);xt.records.branches.set(t,xt.records.head!=null?xt.records.head.id:null),xt.records.branchConfig.set(t,{name:t,order:r}),jG(t),ae.debug("in createBranch")},"branch"),GLe=l(e=>{let t=e.branch,r=e.id,i=e.type,n=e.tags,a=Eh();t=at.sanitizeText(t,a),r&&(r=at.sanitizeText(r,a));let s=xt.records.branches.get(xt.records.currBranch),o=xt.records.branches.get(t),u=s?xt.records.commits.get(s):void 0,h=o?xt.records.commits.get(o):void 0;if(u&&h&&u.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(xt.records.currBranch===t){let g=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(u===void 0||!u){let g=new Error(`Incorrect usage of "merge". Current branch (${xt.records.currBranch})has no commits`);throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},g}if(!xt.records.branches.has(t)){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},g}if(h===void 0||!h){let g=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},g}if(u===h){let g=new Error('Incorrect usage of "merge". Both branches have same head');throw g.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},g}if(r&&xt.records.commits.has(r)){let g=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom id");throw g.hash={text:`merge ${t} ${r} ${i} ${n==null?void 0:n.join(" ")}`,token:`merge ${t} ${r} ${i} ${n==null?void 0:n.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${i} ${n==null?void 0:n.join(" ")}`]},g}let d=o||"",p={id:r||`${xt.records.seq}-${D7()}`,message:`merged branch ${t} into ${xt.records.currBranch}`,seq:xt.records.seq++,parents:xt.records.head==null?[]:[xt.records.head.id,d],branch:xt.records.currBranch,type:Yr.MERGE,customType:i,customId:!!r,tags:n!=null?n:[]};xt.records.head=p,xt.records.commits.set(p.id,p),xt.records.branches.set(xt.records.currBranch,p.id),ae.debug(xt.records.branches),ae.debug("in mergeBranch")},"merge"),ULe=l(function(e){let t=e.id,r=e.targetId,i=e.tags,n=e.parent;ae.debug("Entering cherryPick:",t,r,i);let a=Eh();if(t=at.sanitizeText(t,a),r=at.sanitizeText(r,a),i=i==null?void 0:i.map(u=>at.sanitizeText(u,a)),n=at.sanitizeText(n,a),!t||!xt.records.commits.has(t)){let u=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw u.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},u}let s=xt.records.commits.get(t);if(s===void 0||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(n&&!(Array.isArray(s.parents)&&s.parents.includes(n)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let o=s.branch;if(s.type===Yr.MERGE&&!n)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!xt.records.commits.has(r)){if(o===xt.records.currBranch){let p=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let u=xt.records.branches.get(xt.records.currBranch);if(u===void 0||!u){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${xt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let h=xt.records.commits.get(u);if(h===void 0||!h){let p=new Error(`Incorrect usage of "cherry-pick". Current branch (${xt.records.currBranch})has no commits`);throw p.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},p}let d={id:xt.records.seq+"-"+D7(),message:`cherry-picked ${s==null?void 0:s.message} into ${xt.records.currBranch}`,seq:xt.records.seq++,parents:xt.records.head==null?[]:[xt.records.head.id,s.id],branch:xt.records.currBranch,type:Yr.CHERRY_PICK,tags:i?i.filter(Boolean):[`cherry-pick:${s.id}${s.type===Yr.MERGE?`|parent:${n}`:""}`]};xt.records.head=d,xt.records.commits.set(d.id,d),xt.records.branches.set(xt.records.currBranch,d.id),ae.debug(xt.records.branches),ae.debug("in cherryPick")}},"cherryPick"),jG=l(function(e){var t;if(e=at.sanitizeText(e,Eh()),xt.records.branches.has(e)){xt.records.currBranch=e;let r=xt.records.branches.get(xt.records.currBranch);r===void 0||!r?xt.records.head=null:xt.records.head=(t=xt.records.commits.get(r))!=null?t:null}else{let r=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw r.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},r}},"checkout"),l(UG,"upsert"),l(qG,"prettyPrintCommitHistory"),qLe=l(function(){ae.debug(xt.records.commits);let e=HG()[0];qG([e])},"prettyPrint"),jLe=l(function(){xt.reset(),Pi()},"clear"),HLe=l(function(){return[...xt.records.branchConfig.values()].map((e,t)=>e.order!==null&&e.order!==void 0?e:hr(dt({},e),{order:parseFloat(`0.${t}`)})).sort((e,t)=>{var r,i;return((r=e.order)!=null?r:0)-((i=t.order)!=null?i:0)}).map(({name:e})=>({name:e}))},"getBranchesAsObjArray"),VLe=l(function(){return xt.records.branches},"getBranches"),YLe=l(function(){return xt.records.commits},"getCommits"),HG=l(function(){let e=[...xt.records.commits.values()];return e.forEach(function(t){ae.debug(t.id)}),e.sort((t,r)=>t.seq-r.seq),e},"getCommitsArray"),WLe=l(function(){return xt.records.currBranch},"getCurrentBranch"),XLe=l(function(){return xt.records.direction},"getDirection"),KLe=l(function(){return xt.records.head},"getHead"),VG={commitType:Yr,getConfig:Eh,setDirection:PLe,setOptions:BLe,getOptions:$Le,commit:FLe,branch:zLe,merge:GLe,cherryPick:ULe,checkout:jG,prettyPrint:qLe,clear:jLe,getBranchesAsObjArray:HLe,getBranches:VLe,getCommits:YLe,getCommitsArray:HG,getCurrentBranch:WLe,getDirection:XLe,getHead:KLe,setAccTitle:Bi,getAccTitle:Wi,getAccDescription:Ki,setAccDescription:Xi,setDiagramTitle:gn,getDiagramTitle:$i}}),QLe,JLe,eNe,tNe,rNe,iNe,nNe,aNe,nJe=B(()=>{"use strict";lp(),lt(),wf(),ZLe(),zG(),QLe=l((e,t)=>{cp(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)JLe(r,t)},"populate"),JLe=l((e,t)=>{let r={Commit:l(i=>t.commit(eNe(i)),"Commit"),Branch:l(i=>t.branch(tNe(i)),"Branch"),Merge:l(i=>t.merge(rNe(i)),"Merge"),Checkout:l(i=>t.checkout(iNe(i)),"Checkout"),CherryPicking:l(i=>t.cherryPick(nNe(i)),"CherryPicking")}[e.$type];r?r(e):ae.error(`Unknown statement type: ${e.$type}`)},"parseStatement"),eNe=l(e=>{var t,r;return{id:e.id,msg:(t=e.message)!=null?t:"",type:e.type!==void 0?Yr[e.type]:Yr.NORMAL,tags:(r=e.tags)!=null?r:void 0}},"parseCommit"),tNe=l(e=>{var t;return{name:e.name,order:(t=e.order)!=null?t:0}},"parseBranch"),rNe=l(e=>{var t,r;return{branch:e.branch,id:(t=e.id)!=null?t:"",type:e.type!==void 0?Yr[e.type]:void 0,tags:(r=e.tags)!=null?r:void 0}},"parseMerge"),iNe=l(e=>e.branch,"parseCheckout"),nNe=l(e=>{var t;return{id:e.id,targetId:"",tags:((t=e.tags)==null?void 0:t.length)===0?void 0:e.tags,parent:e.parent}},"parseCherryPicking"),aNe={parse:l(e=>xe(null,null,function*(){let t=yield eu("gitGraph",e);ae.debug(t),QLe(t,VG)}),"parse")}}),R7,Vi,tu,ru,Fo,zl,Ch,$a,Fa,xx,kf,wx,iu,Cr,sNe,YG,WG,oNe,lNe,cNe,uNe,hNe,dNe,pNe,gNe,fNe,mNe,yNe,vNe,XG,bNe,Tf,xNe,wNe,kNe,TNe,ENe,CNe,aJe=B(()=>{"use strict";gr(),qt(),lt(),Jt(),zG(),R7=Ce(),Vi=R7==null?void 0:R7.gitGraph,tu=10,ru=40,Fo=4,zl=2,Ch=8,$a=new Map,Fa=new Map,xx=30,kf=new Map,wx=[],iu=0,Cr="LR",sNe=l(()=>{$a.clear(),Fa.clear(),kf.clear(),iu=0,wx=[],Cr="LR"},"clear"),YG=l(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return(typeof e=="string"?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach(r=>{let i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=r.trim(),t.appendChild(i)}),t},"drawText"),WG=l(e=>{let t,r,i;return Cr==="BT"?(r=l((n,a)=>n<=a,"comparisonFunc"),i=1/0):(r=l((n,a)=>n>=a,"comparisonFunc"),i=0),e.forEach(n=>{var s,o;let a=Cr==="TB"||Cr=="BT"?(s=Fa.get(n))==null?void 0:s.y:(o=Fa.get(n))==null?void 0:o.x;a!==void 0&&r(a,i)&&(t=n,i=a)}),t},"findClosestParent"),oNe=l(e=>{let t="",r=1/0;return e.forEach(i=>{let n=Fa.get(i).y;n<=r&&(t=i,r=n)}),t||void 0},"findClosestParentBT"),lNe=l((e,t,r)=>{let i=r,n=r,a=[];e.forEach(s=>{let o=t.get(s);if(!o)throw new Error(`Commit not found for key ${s}`);o.parents.length?(i=uNe(o),n=Math.max(i,n)):a.push(o),hNe(o,i)}),i=n,a.forEach(s=>{dNe(s,i,r)}),e.forEach(s=>{let o=t.get(s);if(o!=null&&o.parents.length){let u=oNe(o.parents);i=Fa.get(u).y-ru,i<=n&&(n=i);let h=$a.get(o.branch).pos,d=i-tu;Fa.set(o.id,{x:h,y:d})}})},"setParallelBTPos"),cNe=l(e=>{var i;let t=WG(e.parents.filter(n=>n!==null));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=(i=Fa.get(t))==null?void 0:i.y;if(r===void 0)throw new Error(`Closest parent position not found for commit ${e.id}`);return r},"findClosestParentPos"),uNe=l(e=>cNe(e)+ru,"calculateCommitPosition"),hNe=l((e,t)=>{let r=$a.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let i=r.pos,n=t+tu;return Fa.set(e.id,{x:i,y:n}),{x:i,y:n}},"setCommitPosition"),dNe=l((e,t,r)=>{let i=$a.get(e.branch);if(!i)throw new Error(`Branch not found for commit ${e.id}`);let n=t+r,a=i.pos;Fa.set(e.id,{x:a,y:n})},"setRootPosition"),pNe=l((e,t,r,i,n,a)=>{if(a===Yr.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${n%Ch} ${i}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${n%Ch} ${i}-inner`);else if(a===Yr.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`);else{let s=e.append("circle");if(s.attr("cx",r.x),s.attr("cy",r.y),s.attr("r",t.type===Yr.MERGE?9:10),s.attr("class",`commit ${t.id} commit${n%Ch}`),a===Yr.MERGE){let o=e.append("circle");o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",6),o.attr("class",`commit ${i} ${t.id} commit${n%Ch}`)}a===Yr.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${i} ${t.id} commit${n%Ch}`)}},"drawCommitBullet"),gNe=l((e,t,r,i)=>{var n;if(t.type!==Yr.CHERRY_PICK&&(t.customId&&t.type===Yr.MERGE||t.type!==Yr.MERGE)&&(Vi!=null&&Vi.showCommitLabel)){let a=e.append("g"),s=a.insert("rect").attr("class","commit-label-bkg"),o=a.append("text").attr("x",i).attr("y",r.y+25).attr("class","commit-label").text(t.id),u=(n=o.node())==null?void 0:n.getBBox();if(u&&(s.attr("x",r.posWithOffset-u.width/2-zl).attr("y",r.y+13.5).attr("width",u.width+2*zl).attr("height",u.height+2*zl),Cr==="TB"||Cr==="BT"?(s.attr("x",r.x-(u.width+4*Fo+5)).attr("y",r.y-12),o.attr("x",r.x-(u.width+4*Fo)).attr("y",r.y+u.height-12)):o.attr("x",r.posWithOffset-u.width/2),Vi.rotateCommitLabel))if(Cr==="TB"||Cr==="BT")o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),s.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let h=-7.5-(u.width+10)/25*9.5,d=10+u.width/25*8.5;a.attr("transform","translate("+h+", "+d+") rotate(-45, "+i+", "+r.y+")")}}},"drawCommitLabel"),fNe=l((e,t,r,i)=>{var n;if(t.tags.length>0){let a=0,s=0,o=0,u=[];for(let h of t.tags.reverse()){let d=e.insert("polygon"),p=e.append("circle"),g=e.append("text").attr("y",r.y-16-a).attr("class","tag-label").text(h),f=(n=g.node())==null?void 0:n.getBBox();if(!f)throw new Error("Tag bbox not found");s=Math.max(s,f.width),o=Math.max(o,f.height),g.attr("x",r.posWithOffset-f.width/2),u.push({tag:g,hole:p,rect:d,yOffset:a}),a+=20}for(let{tag:h,hole:d,rect:p,yOffset:g}of u){let f=o/2,m=r.y-19.2-g;if(p.attr("class","tag-label-bkg").attr("points",`
      ${i-s/2-Fo/2},${m+zl}  
      ${i-s/2-Fo/2},${m-zl}
      ${r.posWithOffset-s/2-Fo},${m-f-zl}
      ${r.posWithOffset+s/2+Fo},${m-f-zl}
      ${r.posWithOffset+s/2+Fo},${m+f+zl}
      ${r.posWithOffset-s/2-Fo},${m+f+zl}`),d.attr("cy",m).attr("cx",i-s/2+Fo/2).attr("r",1.5).attr("class","tag-hole"),Cr==="TB"||Cr==="BT"){let x=i+g;p.attr("class","tag-label-bkg").attr("points",`
        ${r.x},${x+2}
        ${r.x},${x-2}
        ${r.x+tu},${x-f-2}
        ${r.x+tu+s+4},${x-f-2}
        ${r.x+tu+s+4},${x+f+2}
        ${r.x+tu},${x+f+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),d.attr("cx",r.x+Fo/2).attr("cy",x).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),h.attr("x",r.x+5).attr("y",x+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+i+")")}}}},"drawCommitTags"),mNe=l(e=>{var t;switch((t=e.customType)!=null?t:e.type){case Yr.NORMAL:return"commit-normal";case Yr.REVERSE:return"commit-reverse";case Yr.HIGHLIGHT:return"commit-highlight";case Yr.MERGE:return"commit-merge";case Yr.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}},"getCommitClassType"),yNe=l((e,t,r,i)=>{var a,s,o;let n={x:0,y:0};if(e.parents.length>0){let u=WG(e.parents);if(u){let h=(a=i.get(u))!=null?a:n;return t==="TB"?h.y+ru:t==="BT"?((s=i.get(e.id))!=null?s:n).y-ru:h.x+ru}}else return t==="TB"?xx:t==="BT"?((o=i.get(e.id))!=null?o:n).y-ru:0;return 0},"calculatePosition"),vNe=l((e,t,r)=>{var s,o;let i=Cr==="BT"&&r?t:t+tu,n=Cr==="TB"||Cr==="BT"?i:(s=$a.get(e.branch))==null?void 0:s.pos,a=Cr==="TB"||Cr==="BT"?(o=$a.get(e.branch))==null?void 0:o.pos:i;if(a===void 0||n===void 0)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:n,posWithOffset:i}},"getCommitPosition"),XG=l((e,t,r)=>{var d;if(!Vi)throw new Error("GitGraph config not found");let i=e.append("g").attr("class","commit-bullets"),n=e.append("g").attr("class","commit-labels"),a=Cr==="TB"||Cr==="BT"?xx:0,s=[...t.keys()],o=(d=Vi==null?void 0:Vi.parallelCommits)!=null?d:!1,u=l((p,g)=>{var x,T;let f=(x=t.get(p))==null?void 0:x.seq,m=(T=t.get(g))==null?void 0:T.seq;return f!==void 0&&m!==void 0?f-m:0},"sortKeys"),h=s.sort(u);Cr==="BT"&&(o&&lNe(h,t,a),h=h.reverse()),h.forEach(p=>{var m,x,T;let g=t.get(p);if(!g)throw new Error(`Commit not found for key ${p}`);o&&(a=yNe(g,Cr,a,Fa));let f=vNe(g,a,o);if(r){let k=mNe(g),E=(m=g.customType)!=null?m:g.type,S=(T=(x=$a.get(g.branch))==null?void 0:x.index)!=null?T:0;pNe(i,g,f,k,S,E),gNe(n,g,f,a),fNe(n,g,f,a)}Cr==="TB"||Cr==="BT"?Fa.set(g.id,{x:f.x,y:f.posWithOffset}):Fa.set(g.id,{x:f.posWithOffset,y:f.y}),a=Cr==="BT"&&o?a+ru:a+ru+tu,a>iu&&(iu=a)})},"drawCommits"),bNe=l((e,t,r,i,n)=>{let a=(Cr==="TB"||Cr==="BT"?r.x<i.x:r.y<i.y)?t.branch:e.branch,s=l(u=>u.branch===a,"isOnBranchToGetCurve"),o=l(u=>u.seq>e.seq&&u.seq<t.seq,"isBetweenCommits");return[...n.values()].some(u=>o(u)&&s(u))},"shouldRerouteArrow"),Tf=l((e,t,r=0)=>{let i=e+Math.abs(e-t)/2;if(r>5)return i;if(wx.every(a=>Math.abs(a-i)>=10))return wx.push(i),i;let n=Math.abs(e-t);return Tf(e,t-n/5,r+1)},"findLane"),xNe=l((e,t,r,i)=>{var f,m,x,T,k;let n=Fa.get(t.id),a=Fa.get(r.id);if(n===void 0||a===void 0)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let s=bNe(t,r,n,a,i),o="",u="",h=0,d=0,p=(f=$a.get(r.branch))==null?void 0:f.index;r.type===Yr.MERGE&&t.id!==r.parents[0]&&(p=(m=$a.get(t.branch))==null?void 0:m.index);let g;if(s){o="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10;let E=n.y<a.y?Tf(n.y,a.y):Tf(a.y,n.y),S=n.x<a.x?Tf(n.x,a.x):Tf(a.x,n.x);Cr==="TB"?n.x<a.x?g=`M ${n.x} ${n.y} L ${S-h} ${n.y} ${u} ${S} ${n.y+d} L ${S} ${a.y-h} ${o} ${S+d} ${a.y} L ${a.x} ${a.y}`:(p=(x=$a.get(t.branch))==null?void 0:x.index,g=`M ${n.x} ${n.y} L ${S+h} ${n.y} ${o} ${S} ${n.y+d} L ${S} ${a.y-h} ${u} ${S-d} ${a.y} L ${a.x} ${a.y}`):Cr==="BT"?n.x<a.x?g=`M ${n.x} ${n.y} L ${S-h} ${n.y} ${o} ${S} ${n.y-d} L ${S} ${a.y+h} ${u} ${S+d} ${a.y} L ${a.x} ${a.y}`:(p=(T=$a.get(t.branch))==null?void 0:T.index,g=`M ${n.x} ${n.y} L ${S+h} ${n.y} ${u} ${S} ${n.y-d} L ${S} ${a.y+h} ${o} ${S-d} ${a.y} L ${a.x} ${a.y}`):n.y<a.y?g=`M ${n.x} ${n.y} L ${n.x} ${E-h} ${o} ${n.x+d} ${E} L ${a.x-h} ${E} ${u} ${a.x} ${E+d} L ${a.x} ${a.y}`:(p=(k=$a.get(t.branch))==null?void 0:k.index,g=`M ${n.x} ${n.y} L ${n.x} ${E+h} ${u} ${n.x+d} ${E} L ${a.x-h} ${E} ${o} ${a.x} ${E-d} L ${a.x} ${a.y}`)}else o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,Cr==="TB"?(n.x<a.x&&(r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${u} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${u} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x+h} ${n.y} ${o} ${a.x} ${n.y+d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):Cr==="BT"?(n.x<a.x&&(r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${u} ${n.x+d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x>a.x&&(o="A 20 20, 0, 0, 0,",u="A 20 20, 0, 0, 1,",h=20,d=20,r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${o} ${n.x-d} ${a.y} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`),n.x===a.x&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):(n.y<a.y&&(r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${u} ${a.x} ${n.y+d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y-h} ${o} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y>a.y&&(r.type===Yr.MERGE&&t.id!==r.parents[0]?g=`M ${n.x} ${n.y} L ${a.x-h} ${n.y} ${o} ${a.x} ${n.y-d} L ${a.x} ${a.y}`:g=`M ${n.x} ${n.y} L ${n.x} ${a.y+h} ${u} ${n.x+d} ${a.y} L ${a.x} ${a.y}`),n.y===a.y&&(g=`M ${n.x} ${n.y} L ${a.x} ${a.y}`));if(g===void 0)throw new Error("Line definition not found");e.append("path").attr("d",g).attr("class","arrow arrow"+p%Ch)},"drawArrow"),wNe=l((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach(i=>{let n=t.get(i);n.parents&&n.parents.length>0&&n.parents.forEach(a=>{xNe(r,t.get(a),n,t)})})},"drawArrows"),kNe=l((e,t)=>{let r=e.append("g");t.forEach((i,n)=>{var f;let a=n%Ch,s=(f=$a.get(i.name))==null?void 0:f.pos;if(s===void 0)throw new Error(`Position not found for branch ${i.name}`);let o=r.append("line");o.attr("x1",0),o.attr("y1",s),o.attr("x2",iu),o.attr("y2",s),o.attr("class","branch branch"+a),Cr==="TB"?(o.attr("y1",xx),o.attr("x1",s),o.attr("y2",iu),o.attr("x2",s)):Cr==="BT"&&(o.attr("y1",iu),o.attr("x1",s),o.attr("y2",xx),o.attr("x2",s)),wx.push(s);let u=i.name,h=YG(u),d=r.insert("rect"),p=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+a);p.node().appendChild(h);let g=h.getBBox();d.attr("class","branchLabelBkg label"+a).attr("rx",4).attr("ry",4).attr("x",-g.width-4-((Vi==null?void 0:Vi.rotateCommitLabel)===!0?30:0)).attr("y",-g.height/2+8).attr("width",g.width+18).attr("height",g.height+4),p.attr("transform","translate("+(-g.width-14-((Vi==null?void 0:Vi.rotateCommitLabel)===!0?30:0))+", "+(s-g.height/2-1)+")"),Cr==="TB"?(d.attr("x",s-g.width/2-10).attr("y",0),p.attr("transform","translate("+(s-g.width/2-5)+", 0)")):Cr==="BT"?(d.attr("x",s-g.width/2-10).attr("y",iu),p.attr("transform","translate("+(s-g.width/2-5)+", "+iu+")")):d.attr("transform","translate(-19, "+(s-g.height/2)+")")})},"drawBranches"),TNe=l(function(e,t,r,i,n){return $a.set(e,{pos:t,index:r}),t+=50+(n?40:0)+(Cr==="TB"||Cr==="BT"?i.width/2:0),t},"setBranchPosition"),ENe=l(function(e,t,r,i){var h,d;if(sNe(),ae.debug("in gitgraph renderer",e+`
`,"id:",t,r),!Vi)throw new Error("GitGraph config not found");let n=(h=Vi.rotateCommitLabel)!=null?h:!1,a=i.db;kf=a.getCommits();let s=a.getBranchesAsObjArray();Cr=a.getDirection();let o=Ze(`[id="${t}"]`),u=0;s.forEach((p,g)=>{var E;let f=YG(p.name),m=o.append("g"),x=m.insert("g").attr("class","branchLabel"),T=x.insert("g").attr("class","label branch-label");(E=T.node())==null||E.appendChild(f);let k=f.getBBox();u=TNe(p.name,u,g,k,n),T.remove(),x.remove(),m.remove()}),XG(o,kf,!1),Vi.showBranches&&kNe(o,s),wNe(o,kf),XG(o,kf,!0),cr.insertTitle(o,"gitTitleText",(d=Vi.titleTopMargin)!=null?d:0,a.getDiagramTitle()),DS(void 0,o,Vi.diagramPadding,Vi.useMaxWidth)},"draw"),CNe={draw:ENe}}),SNe,_Ne,sJe=B(()=>{"use strict";SNe=l(e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }
        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }
        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }
        .label${t}  { fill: ${e["git"+t]}; }
        .arrow${t} { stroke: ${e["git"+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`,"getStyles"),_Ne=SNe}),ANe={};nr(ANe,{diagram:()=>LNe});var LNe,oJe=B(()=>{"use strict";nJe(),ZLe(),aJe(),sJe(),LNe={parser:aNe,db:VG,renderer:CNe,styles:_Ne}}),O7,NNe,lJe=B(()=>{"use strict";O7=(function(){var e=l(function(O,_,I,R){for(I=I||{},R=O.length;R--;I[O[R]]=_);return I},"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],i=[1,27],n=[1,28],a=[1,29],s=[1,30],o=[1,31],u=[1,32],h=[1,33],d=[1,34],p=[1,9],g=[1,10],f=[1,11],m=[1,12],x=[1,13],T=[1,14],k=[1,15],E=[1,16],S=[1,19],L=[1,20],b=[1,21],y=[1,22],v=[1,23],w=[1,25],C=[1,35],A={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:l(function(O,_,I,R,P,D,$){var F=D.length-1;switch(P){case 1:return D[F-1];case 2:this.$=[];break;case 3:D[F-1].push(D[F]),this.$=D[F-1];break;case 4:case 5:this.$=D[F];break;case 6:case 7:this.$=[];break;case 8:R.setWeekday("monday");break;case 9:R.setWeekday("tuesday");break;case 10:R.setWeekday("wednesday");break;case 11:R.setWeekday("thursday");break;case 12:R.setWeekday("friday");break;case 13:R.setWeekday("saturday");break;case 14:R.setWeekday("sunday");break;case 15:R.setWeekend("friday");break;case 16:R.setWeekend("saturday");break;case 17:R.setDateFormat(D[F].substr(11)),this.$=D[F].substr(11);break;case 18:R.enableInclusiveEndDates(),this.$=D[F].substr(18);break;case 19:R.TopAxis(),this.$=D[F].substr(8);break;case 20:R.setAxisFormat(D[F].substr(11)),this.$=D[F].substr(11);break;case 21:R.setTickInterval(D[F].substr(13)),this.$=D[F].substr(13);break;case 22:R.setExcludes(D[F].substr(9)),this.$=D[F].substr(9);break;case 23:R.setIncludes(D[F].substr(9)),this.$=D[F].substr(9);break;case 24:R.setTodayMarker(D[F].substr(12)),this.$=D[F].substr(12);break;case 27:R.setDiagramTitle(D[F].substr(6)),this.$=D[F].substr(6);break;case 28:this.$=D[F].trim(),R.setAccTitle(this.$);break;case 29:case 30:this.$=D[F].trim(),R.setAccDescription(this.$);break;case 31:R.addSection(D[F].substr(8)),this.$=D[F].substr(8);break;case 33:R.addTask(D[F-1],D[F]),this.$="task";break;case 34:this.$=D[F-1],R.setClickEvent(D[F-1],D[F],null);break;case 35:this.$=D[F-2],R.setClickEvent(D[F-2],D[F-1],D[F]);break;case 36:this.$=D[F-2],R.setClickEvent(D[F-2],D[F-1],null),R.setLink(D[F-2],D[F]);break;case 37:this.$=D[F-3],R.setClickEvent(D[F-3],D[F-2],D[F-1]),R.setLink(D[F-3],D[F]);break;case 38:this.$=D[F-2],R.setClickEvent(D[F-2],D[F],null),R.setLink(D[F-2],D[F-1]);break;case 39:this.$=D[F-3],R.setClickEvent(D[F-3],D[F-1],D[F]),R.setLink(D[F-3],D[F-2]);break;case 40:this.$=D[F-1],R.setLink(D[F-1],D[F]);break;case 41:case 47:this.$=D[F-1]+" "+D[F];break;case 42:case 43:case 45:this.$=D[F-2]+" "+D[F-1]+" "+D[F];break;case 44:case 46:this.$=D[F-3]+" "+D[F-2]+" "+D[F-1]+" "+D[F];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:g,24:f,25:m,26:x,27:T,28:k,29:E,30:S,31:L,33:b,35:y,36:v,37:24,38:w,40:C},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:i,14:n,15:a,16:s,17:o,18:u,19:18,20:h,21:d,22:p,23:g,24:f,25:m,26:x,27:T,28:k,29:E,30:S,31:L,33:b,35:y,36:v,37:24,38:w,40:C},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:l(function(O,_){if(_.recoverable)this.trace(O);else{var I=new Error(O);throw I.hash=_,I}},"parseError"),parse:l(function(O){var _=this,I=[0],R=[],P=[null],D=[],$=this.table,F="",z=0,U=0,j=0,H=2,Q=1,re=D.slice.call(arguments,1),le=Object.create(this.lexer),oe={yy:{}};for(var W in this.yy)Object.prototype.hasOwnProperty.call(this.yy,W)&&(oe.yy[W]=this.yy[W]);le.setInput(O,oe.yy),oe.yy.lexer=le,oe.yy.parser=this,typeof le.yylloc>"u"&&(le.yylloc={});var J=le.yylloc;D.push(J);var Y=le.options&&le.options.ranges;typeof oe.yy.parseError=="function"?this.parseError=oe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function X(ve){I.length=I.length-2*ve,P.length=P.length-ve,D.length=D.length-ve}l(X,"popStack");function te(){var ve;return ve=R.pop()||le.lex()||Q,typeof ve!="number"&&(ve instanceof Array&&(R=ve,ve=R.pop()),ve=_.symbols_[ve]||ve),ve}l(te,"lex");for(var ce,K,me,Z,Ae,he,Ne={},Pe,He,qe,_e;;){if(me=I[I.length-1],this.defaultActions[me]?Z=this.defaultActions[me]:((ce===null||typeof ce>"u")&&(ce=te()),Z=$[me]&&$[me][ce]),typeof Z>"u"||!Z.length||!Z[0]){var De="";_e=[];for(Pe in $[me])this.terminals_[Pe]&&Pe>H&&_e.push("'"+this.terminals_[Pe]+"'");le.showPosition?De="Parse error on line "+(z+1)+`:
`+le.showPosition()+`
Expecting `+_e.join(", ")+", got '"+(this.terminals_[ce]||ce)+"'":De="Parse error on line "+(z+1)+": Unexpected "+(ce==Q?"end of input":"'"+(this.terminals_[ce]||ce)+"'"),this.parseError(De,{text:le.match,token:this.terminals_[ce]||ce,line:le.yylineno,loc:J,expected:_e})}if(Z[0]instanceof Array&&Z.length>1)throw new Error("Parse Error: multiple actions possible at state: "+me+", token: "+ce);switch(Z[0]){case 1:I.push(ce),P.push(le.yytext),D.push(le.yylloc),I.push(Z[1]),ce=null,K?(ce=K,K=null):(U=le.yyleng,F=le.yytext,z=le.yylineno,J=le.yylloc,j>0&&j--);break;case 2:if(He=this.productions_[Z[1]][1],Ne.$=P[P.length-He],Ne._$={first_line:D[D.length-(He||1)].first_line,last_line:D[D.length-1].last_line,first_column:D[D.length-(He||1)].first_column,last_column:D[D.length-1].last_column},Y&&(Ne._$.range=[D[D.length-(He||1)].range[0],D[D.length-1].range[1]]),he=this.performAction.apply(Ne,[F,U,z,oe.yy,Z[1],P,D].concat(re)),typeof he<"u")return he;He&&(I=I.slice(0,-1*He*2),P=P.slice(0,-1*He),D=D.slice(0,-1*He)),I.push(this.productions_[Z[1]][0]),P.push(Ne.$),D.push(Ne._$),qe=$[I[I.length-2]][I[I.length-1]],I.push(qe);break;case 3:return!0}}return!0},"parse")},M=(function(){var O={EOF:1,parseError:l(function(_,I){if(this.yy.parser)this.yy.parser.parseError(_,I);else throw new Error(_)},"parseError"),setInput:l(function(_,I){return this.yy=I||this.yy||{},this._input=_,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var _=this._input[0];this.yytext+=_,this.yyleng++,this.offset++,this.match+=_,this.matched+=_;var I=_.match(/(?:\r\n?|\n).*/g);return I?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_},"input"),unput:l(function(_){var I=_.length,R=_.split(/(?:\r\n?|\n)/g);this._input=_+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-I),this.offset-=I;var P=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),R.length-1&&(this.yylineno-=R.length-1);var D=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:R?(R.length===P.length?this.yylloc.first_column:0)+P[P.length-R.length].length-R[0].length:this.yylloc.first_column-I},this.options.ranges&&(this.yylloc.range=[D[0],D[0]+this.yyleng-I]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(_){this.unput(this.match.slice(_))},"less"),pastInput:l(function(){var _=this.matched.substr(0,this.matched.length-this.match.length);return(_.length>20?"...":"")+_.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var _=this.match;return _.length<20&&(_+=this._input.substr(0,20-_.length)),(_.substr(0,20)+(_.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var _=this.pastInput(),I=new Array(_.length+1).join("-");return _+this.upcomingInput()+`
`+I+"^"},"showPosition"),test_match:l(function(_,I){var R,P,D;if(this.options.backtrack_lexer&&(D={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(D.yylloc.range=this.yylloc.range.slice(0))),P=_[0].match(/(?:\r\n?|\n).*/g),P&&(this.yylineno+=P.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:P?P[P.length-1].length-P[P.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_[0].length},this.yytext+=_[0],this.match+=_[0],this.matches=_,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_[0].length),this.matched+=_[0],R=this.performAction.call(this,this.yy,this,I,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),R)return R;if(this._backtrack){for(var $ in D)this[$]=D[$];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _,I,R,P;this._more||(this.yytext="",this.match="");for(var D=this._currentRules(),$=0;$<D.length;$++)if(R=this._input.match(this.rules[D[$]]),R&&(!I||R[0].length>I[0].length)){if(I=R,P=$,this.options.backtrack_lexer){if(_=this.test_match(R,D[$]),_!==!1)return _;if(this._backtrack){I=!1;continue}else return!1}else if(!this.options.flex)break}return I?(_=this.test_match(I,D[P]),_!==!1?_:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var _=this.next();return _||this.lex()},"lex"),begin:l(function(_){this.conditionStack.push(_)},"begin"),popState:l(function(){var _=this.conditionStack.length-1;return _>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(_){return _=this.conditionStack.length-1-Math.abs(_||0),_>=0?this.conditionStack[_]:"INITIAL"},"topState"),pushState:l(function(_){this.begin(_)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(_,I,R,P){var D=P;switch(R){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:break;case 9:break;case 10:break;case 11:return 10;case 12:break;case 13:break;case 14:this.begin("href");break;case 15:this.popState();break;case 16:return 43;case 17:this.begin("callbackname");break;case 18:this.popState();break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 21:this.popState();break;case 22:return 42;case 23:this.begin("click");break;case 24:this.popState();break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}},"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}};return O})();A.lexer=M;function N(){this.yy={}}return l(N,"Parser"),N.prototype=A,A.Parser=N,new N})(),O7.parser=O7,NNe=O7}),cJe=ci((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_isoWeek=i()})(e,(function(){"use strict";var r="day";return function(i,n,a){var s=l(function(h){return h.add(4-h.isoWeekday(),r)},"a"),o=n.prototype;o.isoWeekYear=function(){return s(this).year()},o.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),r);var d,p,g,f,m=s(this),x=(d=this.isoWeekYear(),p=this.$u,g=(p?a.utc:a)().year(d).startOf("year"),f=4-g.isoWeekday(),g.isoWeekday()>4&&(f+=7),g.add(f,r));return m.diff(x,"week")+1},o.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var u=o.startOf;o.startOf=function(h,d){var p=this.$utils(),g=!!p.u(d)||d;return p.p(h)==="isoweek"?g?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):u.bind(this)(h,d)}}}))}),uJe=ci((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=i()})(e,(function(){"use strict";var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,u={},h=l(function(T){return(T=+T)+(T>68?1900:2e3)},"a"),d=l(function(T){return function(k){this[T]=+k}},"f"),p=[/[+-]\d\d:?(\d\d)?|Z/,function(T){(this.zone||(this.zone={})).offset=(function(k){if(!k||k==="Z")return 0;var E=k.match(/([+-]|\d\d)/g),S=60*E[1]+(+E[2]||0);return S===0?0:E[0]==="+"?-S:S})(T)}],g=l(function(T){var k=u[T];return k&&(k.indexOf?k:k.s.concat(k.f))},"u"),f=l(function(T,k){var E,S=u.meridiem;if(S){for(var L=1;L<=24;L+=1)if(T.indexOf(S(L,0,k))>-1){E=L>12;break}}else E=T===(k?"pm":"PM");return E},"d"),m={A:[o,function(T){this.afternoon=f(T,!1)}],a:[o,function(T){this.afternoon=f(T,!0)}],Q:[n,function(T){this.month=3*(T-1)+1}],S:[n,function(T){this.milliseconds=100*+T}],SS:[a,function(T){this.milliseconds=10*+T}],SSS:[/\d{3}/,function(T){this.milliseconds=+T}],s:[s,d("seconds")],ss:[s,d("seconds")],m:[s,d("minutes")],mm:[s,d("minutes")],H:[s,d("hours")],h:[s,d("hours")],HH:[s,d("hours")],hh:[s,d("hours")],D:[s,d("day")],DD:[a,d("day")],Do:[o,function(T){var k=u.ordinal,E=T.match(/\d+/);if(this.day=E[0],k)for(var S=1;S<=31;S+=1)k(S).replace(/\[|\]/g,"")===T&&(this.day=S)}],w:[s,d("week")],ww:[a,d("week")],M:[s,d("month")],MM:[a,d("month")],MMM:[o,function(T){var k=g("months"),E=(g("monthsShort")||k.map((function(S){return S.slice(0,3)}))).indexOf(T)+1;if(E<1)throw new Error;this.month=E%12||E}],MMMM:[o,function(T){var k=g("months").indexOf(T)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(T){this.year=h(T)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function x(T){var k,E;k=T,E=u&&u.formats;for(var S=(T=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(A,M,N){var O=N&&N.toUpperCase();return M||E[N]||r[N]||E[O].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,I,R){return I||R.slice(1)}))}))).match(i),L=S.length,b=0;b<L;b+=1){var y=S[b],v=m[y],w=v&&v[0],C=v&&v[1];S[b]=C?{regex:w,parser:C}:y.replace(/^\[|\]$/g,"")}return function(A){for(var M={},N=0,O=0;N<L;N+=1){var _=S[N];if(typeof _=="string")O+=_.length;else{var I=_.regex,R=_.parser,P=A.slice(O),D=I.exec(P)[0];R.call(M,D),A=A.replace(D,"")}}return(function($){var F=$.afternoon;if(F!==void 0){var z=$.hours;F?z<12&&($.hours+=12):z===12&&($.hours=0),delete $.afternoon}})(M),M}}return l(x,"l"),function(T,k,E){E.p.customParseFormat=!0,T&&T.parseTwoDigitYear&&(h=T.parseTwoDigitYear);var S=k.prototype,L=S.parse;S.parse=function(b){var y=b.date,v=b.utc,w=b.args;this.$u=v;var C=w[1];if(typeof C=="string"){var A=w[2]===!0,M=w[3]===!0,N=A||M,O=w[2];M&&(O=w[2]),u=this.$locale(),!A&&O&&(u=E.Ls[O]),this.$d=(function(P,D,$,F){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*P);var z=x(D)(P),U=z.year,j=z.month,H=z.day,Q=z.hours,re=z.minutes,le=z.seconds,oe=z.milliseconds,W=z.zone,J=z.week,Y=new Date,X=H||(U||j?1:Y.getDate()),te=U||Y.getFullYear(),ce=0;U&&!j||(ce=j>0?j-1:Y.getMonth());var K,me=Q||0,Z=re||0,Ae=le||0,he=oe||0;return W?new Date(Date.UTC(te,ce,X,me,Z,Ae,he+60*W.offset*1e3)):$?new Date(Date.UTC(te,ce,X,me,Z,Ae,he)):(K=new Date(te,ce,X,me,Z,Ae,he),J&&(K=F(K).week(J).toDate()),K)}catch(Ne){return new Date("")}})(y,C,v,E),this.init(),O&&O!==!0&&(this.$L=this.locale(O).$L),N&&y!=this.format(C)&&(this.$d=new Date("")),u={}}else if(C instanceof Array)for(var _=C.length,I=1;I<=_;I+=1){w[1]=C[I-1];var R=E.apply(this,w);if(R.isValid()){this.$d=R.$d,this.$L=R.$L,this.init();break}I===_&&(this.$d=new Date(""))}else L.call(this,b)}}}))}),hJe=ci((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_advancedFormat=i()})(e,(function(){"use strict";return function(r,i){var n=i.prototype,a=n.format;n.format=function(s){var o=this,u=this.$locale();if(!this.isValid())return a.bind(this)(s);var h=this.$utils(),d=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(p){switch(p){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return u.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return u.ordinal(o.week(),"W");case"w":case"ww":return h.s(o.week(),p==="w"?1:2,"0");case"W":case"WW":return h.s(o.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return h.s(String(o.$H===0?24:o.$H),p==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return p}}));return a.bind(this)(d)}}}))});function KG(e,t,r){let i=!0;for(;i;)i=!1,r.forEach(function(n){let a="^\\s*"+n+"\\s*$",s=new RegExp(a);e[0].match(s)&&(t[n]=!0,e.shift(1),i=!0)})}var MNe,xs,INe,DNe,RNe,ZG,zo,P7,QG,B7,Ef,Cf,$7,F7,kx,up,z7,JG,G7,Sf,U7,q7,Tx,j7,ONe,PNe,BNe,$Ne,FNe,zNe,GNe,UNe,qNe,jNe,HNe,VNe,YNe,WNe,XNe,KNe,ZNe,QNe,JNe,eMe,tMe,rMe,iMe,eU,nMe,aMe,sMe,tU,oMe,H7,rU,iU,Ex,hp,lMe,cMe,nU,V7,ln,aU,uMe,Sh,hMe,sU,dMe,oU,pMe,lU,gMe,fMe,mMe,dJe=B(()=>{"use strict";MNe=Yn(Sy(),1),xs=Yn(oE(),1),INe=Yn(cJe(),1),DNe=Yn(uJe(),1),RNe=Yn(hJe(),1),lt(),qt(),Jt(),Fi(),xs.default.extend(INe.default),xs.default.extend(DNe.default),xs.default.extend(RNe.default),ZG={friday:5,saturday:6},zo="",P7="",B7="",Ef=[],Cf=[],$7=new Map,F7=[],kx=[],up="",z7="",JG=["active","done","crit","milestone","vert"],G7=[],Sf=!1,U7=!1,q7="sunday",Tx="saturday",j7=0,ONe=l(function(){F7=[],kx=[],up="",G7=[],Ex=0,nU=void 0,V7=void 0,ln=[],zo="",P7="",z7="",QG=void 0,B7="",Ef=[],Cf=[],Sf=!1,U7=!1,j7=0,$7=new Map,Pi(),q7="sunday",Tx="saturday"},"clear"),PNe=l(function(e){P7=e},"setAxisFormat"),BNe=l(function(){return P7},"getAxisFormat"),$Ne=l(function(e){QG=e},"setTickInterval"),FNe=l(function(){return QG},"getTickInterval"),zNe=l(function(e){B7=e},"setTodayMarker"),GNe=l(function(){return B7},"getTodayMarker"),UNe=l(function(e){zo=e},"setDateFormat"),qNe=l(function(){Sf=!0},"enableInclusiveEndDates"),jNe=l(function(){return Sf},"endDatesAreInclusive"),HNe=l(function(){U7=!0},"enableTopAxis"),VNe=l(function(){return U7},"topAxisEnabled"),YNe=l(function(e){z7=e},"setDisplayMode"),WNe=l(function(){return z7},"getDisplayMode"),XNe=l(function(){return zo},"getDateFormat"),KNe=l(function(e){Ef=e.toLowerCase().split(/[\s,]+/)},"setIncludes"),ZNe=l(function(){return Ef},"getIncludes"),QNe=l(function(e){Cf=e.toLowerCase().split(/[\s,]+/)},"setExcludes"),JNe=l(function(){return Cf},"getExcludes"),eMe=l(function(){return $7},"getLinks"),tMe=l(function(e){up=e,F7.push(e)},"addSection"),rMe=l(function(){return F7},"getSections"),iMe=l(function(){let e=sU(),t=10,r=0;for(;!e&&r<t;)e=sU(),r++;return kx=ln,kx},"getTasks"),eU=l(function(e,t,r,i){let n=e.format(t.trim()),a=e.format("YYYY-MM-DD");return i.includes(n)||i.includes(a)?!1:r.includes("weekends")&&(e.isoWeekday()===ZG[Tx]||e.isoWeekday()===ZG[Tx]+1)||r.includes(e.format("dddd").toLowerCase())?!0:r.includes(n)||r.includes(a)},"isInvalidDate"),nMe=l(function(e){q7=e},"setWeekday"),aMe=l(function(){return q7},"getWeekday"),sMe=l(function(e){Tx=e},"setWeekend"),tU=l(function(e,t,r,i){if(!r.length||e.manualEndTime)return;let n;e.startTime instanceof Date?n=(0,xs.default)(e.startTime):n=(0,xs.default)(e.startTime,t,!0),n=n.add(1,"d");let a;e.endTime instanceof Date?a=(0,xs.default)(e.endTime):a=(0,xs.default)(e.endTime,t,!0);let[s,o]=oMe(n,a,t,r,i);e.endTime=s.toDate(),e.renderEndTime=o},"checkTaskDates"),oMe=l(function(e,t,r,i,n){let a=!1,s=null;for(;e<=t;)a||(s=t.toDate()),a=eU(e,r,i,n),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,s]},"fixTaskDates"),H7=l(function(e,t,r){if(r=r.trim(),l(a=>{let s=a.trim();return s==="x"||s==="X"},"isTimestampFormat")(t)&&/^\d+$/.test(r))return new Date(Number(r));let i=new RegExp("^after\\s+(?<ids>[\\d\\w- ]+)").exec(r);if(i!==null){let a=null;for(let o of i.groups.ids.split(" ")){let u=Sh(o);u!==void 0&&(!a||u.endTime>a.endTime)&&(a=u)}if(a)return a.endTime;let s=new Date;return s.setHours(0,0,0,0),s}let n=(0,xs.default)(r,t.trim(),!0);if(n.isValid())return n.toDate();{ae.debug("Invalid date:"+r),ae.debug("With date format:"+t.trim());let a=new Date(r);if(a===void 0||isNaN(a.getTime())||a.getFullYear()<-1e4||a.getFullYear()>1e4)throw new Error("Invalid date:"+r);return a}},"getStartDate"),rU=l(function(e){let t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return t!==null?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]},"parseDuration"),iU=l(function(e,t,r,i=!1){r=r.trim();let n=new RegExp("^until\\s+(?<ids>[\\d\\w- ]+)").exec(r);if(n!==null){let h=null;for(let p of n.groups.ids.split(" ")){let g=Sh(p);g!==void 0&&(!h||g.startTime<h.startTime)&&(h=g)}if(h)return h.startTime;let d=new Date;return d.setHours(0,0,0,0),d}let a=(0,xs.default)(r,t.trim(),!0);if(a.isValid())return i&&(a=a.add(1,"d")),a.toDate();let s=(0,xs.default)(e),[o,u]=rU(r);if(!Number.isNaN(o)){let h=s.add(o,u);h.isValid()&&(s=h)}return s.toDate()},"getEndDate"),Ex=0,hp=l(function(e){return e===void 0?(Ex=Ex+1,"task"+Ex):e},"parseId"),lMe=l(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let i=r.split(","),n={};KG(i,n,JG);for(let s=0;s<i.length;s++)i[s]=i[s].trim();let a="";switch(i.length){case 1:n.id=hp(),n.startTime=e.endTime,a=i[0];break;case 2:n.id=hp(),n.startTime=H7(void 0,zo,i[0]),a=i[1];break;case 3:n.id=hp(i[0]),n.startTime=H7(void 0,zo,i[1]),a=i[2];break;default:}return a&&(n.endTime=iU(n.startTime,zo,a,Sf),n.manualEndTime=(0,xs.default)(a,"YYYY-MM-DD",!0).isValid(),tU(n,zo,Cf,Ef)),n},"compileData"),cMe=l(function(e,t){let r;t.substr(0,1)===":"?r=t.substr(1,t.length):r=t;let i=r.split(","),n={};KG(i,n,JG);for(let a=0;a<i.length;a++)i[a]=i[a].trim();switch(i.length){case 1:n.id=hp(),n.startTime={type:"prevTaskEnd",id:e},n.endTime={data:i[0]};break;case 2:n.id=hp(),n.startTime={type:"getStartDate",startData:i[0]},n.endTime={data:i[1]};break;case 3:n.id=hp(i[0]),n.startTime={type:"getStartDate",startData:i[1]},n.endTime={data:i[2]};break;default:}return n},"parseData"),ln=[],aU={},uMe=l(function(e,t){let r={section:up,type:up,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},i=cMe(V7,t);r.raw.startTime=i.startTime,r.raw.endTime=i.endTime,r.id=i.id,r.prevTaskId=V7,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,r.order=j7,j7++;let n=ln.push(r);V7=r.id,aU[r.id]=n-1},"addTask"),Sh=l(function(e){let t=aU[e];return ln[t]},"findTaskById"),hMe=l(function(e,t){let r={section:up,type:up,description:e,task:e,classes:[]},i=lMe(nU,t);r.startTime=i.startTime,r.endTime=i.endTime,r.id=i.id,r.active=i.active,r.done=i.done,r.crit=i.crit,r.milestone=i.milestone,r.vert=i.vert,nU=r,kx.push(r)},"addTaskOrg"),sU=l(function(){let e=l(function(r){let i=ln[r],n="";switch(ln[r].raw.startTime.type){case"prevTaskEnd":{let a=Sh(i.prevTaskId);i.startTime=a.endTime;break}case"getStartDate":n=H7(void 0,zo,ln[r].raw.startTime.startData),n&&(ln[r].startTime=n);break}return ln[r].startTime&&(ln[r].endTime=iU(ln[r].startTime,zo,ln[r].raw.endTime.data,Sf),ln[r].endTime&&(ln[r].processed=!0,ln[r].manualEndTime=(0,xs.default)(ln[r].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),tU(ln[r],zo,Cf,Ef))),ln[r].processed},"compileTask"),t=!0;for(let[r,i]of ln.entries())e(r),t=t&&i.processed;return t},"compileTasks"),dMe=l(function(e,t){let r=t;Ce().securityLevel!=="loose"&&(r=(0,MNe.sanitizeUrl)(t)),e.split(",").forEach(function(i){Sh(i)!==void 0&&(lU(i,()=>{window.open(r,"_self")}),$7.set(i,r))}),oU(e,"clickable")},"setLink"),oU=l(function(e,t){e.split(",").forEach(function(r){let i=Sh(r);i!==void 0&&i.classes.push(t)})},"setClass"),pMe=l(function(e,t,r){if(Ce().securityLevel!=="loose"||t===void 0)return;let i=[];if(typeof r=="string"){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let n=0;n<i.length;n++){let a=i[n].trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.substr(1,a.length-2)),i[n]=a}}i.length===0&&i.push(e),Sh(e)!==void 0&&lU(e,()=>{cr.runFunc(t,...i)})},"setClickFun"),lU=l(function(e,t){G7.push(function(){let r=document.querySelector(`[id="${e}"]`);r!==null&&r.addEventListener("click",function(){t()})},function(){let r=document.querySelector(`[id="${e}-text"]`);r!==null&&r.addEventListener("click",function(){t()})})},"pushFun"),gMe=l(function(e,t,r){e.split(",").forEach(function(i){pMe(i,t,r)}),oU(e,"clickable")},"setClickEvent"),fMe=l(function(e){G7.forEach(function(t){t(e)})},"bindFunctions"),mMe={getConfig:l(()=>Ce().gantt,"getConfig"),clear:ONe,setDateFormat:UNe,getDateFormat:XNe,enableInclusiveEndDates:qNe,endDatesAreInclusive:jNe,enableTopAxis:HNe,topAxisEnabled:VNe,setAxisFormat:PNe,getAxisFormat:BNe,setTickInterval:$Ne,getTickInterval:FNe,setTodayMarker:zNe,getTodayMarker:GNe,setAccTitle:Bi,getAccTitle:Wi,setDiagramTitle:gn,getDiagramTitle:$i,setDisplayMode:YNe,getDisplayMode:WNe,setAccDescription:Xi,getAccDescription:Ki,addSection:tMe,getSections:rMe,getTasks:iMe,addTask:uMe,findTaskById:Sh,addTaskOrg:hMe,setIncludes:KNe,getIncludes:ZNe,setExcludes:QNe,getExcludes:JNe,setClickEvent:gMe,setLink:dMe,getLinks:eMe,bindFunctions:fMe,parseDuration:rU,isInvalidDate:eU,setWeekday:nMe,getWeekday:aMe,setWeekend:sMe},l(KG,"getTaskTags")}),pJe=ci((e,t)=>{"use strict";(function(r,i){typeof e=="object"&&typeof t<"u"?t.exports=i():typeof define=="function"&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_duration=i()})(e,(function(){"use strict";var r,i,n=1e3,a=6e4,s=36e5,o=864e5,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=31536e6,d=2628e6,p=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:h,months:d,days:o,hours:s,minutes:a,seconds:n,milliseconds:1,weeks:6048e5},f=l(function(y){return y instanceof L},"c"),m=l(function(y,v,w){return new L(y,w,v.$l)},"f"),x=l(function(y){return i.p(y)+"s"},"m"),T=l(function(y){return y<0},"l"),k=l(function(y){return T(y)?Math.ceil(y):Math.floor(y)},"$"),E=l(function(y){return Math.abs(y)},"y"),S=l(function(y,v){return y?T(y)?{negative:!0,format:""+E(y)+v}:{negative:!1,format:""+y+v}:{negative:!1,format:""}},"v"),L=(function(){function y(w,C,A){var M=this;if(this.$d={},this.$l=A,w===void 0&&(this.$ms=0,this.parseFromMilliseconds()),C)return m(w*g[x(C)],this);if(typeof w=="number")return this.$ms=w,this.parseFromMilliseconds(),this;if(typeof w=="object")return Object.keys(w).forEach((function(_){M.$d[x(_)]=w[_]})),this.calMilliseconds(),this;if(typeof w=="string"){var N=w.match(p);if(N){var O=N.slice(2).map((function(_){return _!=null?Number(_):0}));return this.$d.years=O[0],this.$d.months=O[1],this.$d.weeks=O[2],this.$d.days=O[3],this.$d.hours=O[4],this.$d.minutes=O[5],this.$d.seconds=O[6],this.calMilliseconds(),this}}return this}l(y,"l");var v=y.prototype;return v.calMilliseconds=function(){var w=this;this.$ms=Object.keys(this.$d).reduce((function(C,A){return C+(w.$d[A]||0)*g[A]}),0)},v.parseFromMilliseconds=function(){var w=this.$ms;this.$d.years=k(w/h),w%=h,this.$d.months=k(w/d),w%=d,this.$d.days=k(w/o),w%=o,this.$d.hours=k(w/s),w%=s,this.$d.minutes=k(w/a),w%=a,this.$d.seconds=k(w/n),w%=n,this.$d.milliseconds=w},v.toISOString=function(){var w=S(this.$d.years,"Y"),C=S(this.$d.months,"M"),A=+this.$d.days||0;this.$d.weeks&&(A+=7*this.$d.weeks);var M=S(A,"D"),N=S(this.$d.hours,"H"),O=S(this.$d.minutes,"M"),_=this.$d.seconds||0;this.$d.milliseconds&&(_+=this.$d.milliseconds/1e3,_=Math.round(1e3*_)/1e3);var I=S(_,"S"),R=w.negative||C.negative||M.negative||N.negative||O.negative||I.negative,P=N.format||O.format||I.format?"T":"",D=(R?"-":"")+"P"+w.format+C.format+M.format+P+N.format+O.format+I.format;return D==="P"||D==="-P"?"P0D":D},v.toJSON=function(){return this.toISOString()},v.format=function(w){var C=w||"YYYY-MM-DDTHH:mm:ss",A={Y:this.$d.years,YY:i.s(this.$d.years,2,"0"),YYYY:i.s(this.$d.years,4,"0"),M:this.$d.months,MM:i.s(this.$d.months,2,"0"),D:this.$d.days,DD:i.s(this.$d.days,2,"0"),H:this.$d.hours,HH:i.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:i.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:i.s(this.$d.seconds,2,"0"),SSS:i.s(this.$d.milliseconds,3,"0")};return C.replace(u,(function(M,N){return N||String(A[M])}))},v.as=function(w){return this.$ms/g[x(w)]},v.get=function(w){var C=this.$ms,A=x(w);return A==="milliseconds"?C%=1e3:C=A==="weeks"?k(C/g[A]):this.$d[A],C||0},v.add=function(w,C,A){var M;return M=C?w*g[x(C)]:f(w)?w.$ms:m(w,this).$ms,m(this.$ms+M*(A?-1:1),this)},v.subtract=function(w,C){return this.add(w,C,!0)},v.locale=function(w){var C=this.clone();return C.$l=w,C},v.clone=function(){return m(this.$ms,this)},v.humanize=function(w){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!w)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},y})(),b=l(function(y,v,w){return y.add(v.years()*w,"y").add(v.months()*w,"M").add(v.days()*w,"d").add(v.hours()*w,"h").add(v.minutes()*w,"m").add(v.seconds()*w,"s").add(v.milliseconds()*w,"ms")},"p");return function(y,v,w){r=w,i=w().$utils(),w.duration=function(M,N){var O=w.locale();return m(M,{$l:O},N)},w.isDuration=f;var C=v.prototype.add,A=v.prototype.subtract;v.prototype.add=function(M,N){return f(M)?b(this,M,1):C.bind(this)(M,N)},v.prototype.subtract=function(M,N){return f(M)?b(this,M,-1):A.bind(this)(M,N)}}}))}),_f,yMe,vMe,cU,bMe,nu,Y7,xMe,wMe,gJe=B(()=>{"use strict";_f=Yn(oE(),1),yMe=Yn(pJe(),1),lt(),gr(),dr(),qt(),pn(),_f.default.extend(yMe.default),vMe=l(function(){ae.debug("Something is calling, setConf, remove the call")},"setConf"),cU={monday:cg,tuesday:nA,wednesday:aA,thursday:Mu,friday:sA,saturday:oA,sunday:lg},bMe=l((e,t)=>{let r=[...e].map(()=>-1/0),i=[...e].sort((a,s)=>a.startTime-s.startTime||a.order-s.order),n=0;for(let a of i)for(let s=0;s<r.length;s++)if(a.startTime>=r[s]){r[s]=a.endTime,a.order=s+t,s>n&&(n=s);break}return n},"getMaxIntersections"),Y7=1e4,xMe=l(function(e,t,r,i){let n=Ce().gantt,a=Ce().securityLevel,s;a==="sandbox"&&(s=Ze("#i"+t));let o=Ze(a==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=a==="sandbox"?s.nodes()[0].contentDocument:document,h=u.getElementById(t);nu=h.parentElement.offsetWidth,nu===void 0&&(nu=1200),n.useWidth!==void 0&&(nu=n.useWidth);let d=i.db.getTasks(),p=[];for(let C of d)p.push(C.type);p=w(p);let g={},f=2*n.topPadding;if(i.db.getDisplayMode()==="compact"||n.displayMode==="compact"){let C={};for(let M of d)C[M.section]===void 0?C[M.section]=[M]:C[M.section].push(M);let A=0;for(let M of Object.keys(C)){let N=bMe(C[M],A)+1;A+=N,f+=N*(n.barHeight+n.barGap),g[M]=N}}else{f+=d.length*(n.barHeight+n.barGap);for(let C of p)g[C]=d.filter(A=>A.type===C).length}h.setAttribute("viewBox","0 0 "+nu+" "+f);let m=o.select(`[id="${t}"]`),x=ure().domain([BX(d,function(C){return C.startTime}),PX(d,function(C){return C.endTime})]).rangeRound([0,nu-n.leftPadding-n.rightPadding]);function T(C,A){let M=C.startTime,N=A.startTime,O=0;return M>N?O=1:M<N&&(O=-1),O}l(T,"taskCompare"),d.sort(T),k(d,nu,f),ta(m,f,nu,n.useMaxWidth),m.append("text").text(i.db.getDiagramTitle()).attr("x",nu/2).attr("y",n.titleTopMargin).attr("class","titleText");function k(C,A,M){let N=n.barHeight,O=N+n.barGap,_=n.topPadding,I=n.leftPadding,R=Zh().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(TQ);S(O,_,I,A,M,C,i.db.getExcludes(),i.db.getIncludes()),b(I,_,A,M),E(C,O,_,I,N,R,A,M),y(O,_,I,N,R),v(I,_,A,M)}l(k,"makeGantt");function E(C,A,M,N,O,_,I){C.sort(($,F)=>$.vert===F.vert?0:$.vert?1:-1);let R=[...new Set(C.map($=>$.order))].map($=>C.find(F=>F.order===$));m.append("g").selectAll("rect").data(R).enter().append("rect").attr("x",0).attr("y",function($,F){return F=$.order,F*A+M-2}).attr("width",function(){return I-n.rightPadding/2}).attr("height",A).attr("class",function($){for(let[F,z]of p.entries())if($.type===z)return"section section"+F%n.numberSectionStyles;return"section section0"}).enter();let P=m.append("g").selectAll("rect").data(C).enter(),D=i.db.getLinks();if(P.append("rect").attr("id",function($){return $.id}).attr("rx",3).attr("ry",3).attr("x",function($){return $.milestone?x($.startTime)+N+.5*(x($.endTime)-x($.startTime))-.5*O:x($.startTime)+N}).attr("y",function($,F){return F=$.order,$.vert?n.gridLineStartPadding:F*A+M}).attr("width",function($){return $.milestone?O:$.vert?.08*O:x($.renderEndTime||$.endTime)-x($.startTime)}).attr("height",function($){return $.vert?d.length*(n.barHeight+n.barGap)+n.barHeight*2:O}).attr("transform-origin",function($,F){return F=$.order,(x($.startTime)+N+.5*(x($.endTime)-x($.startTime))).toString()+"px "+(F*A+M+.5*O).toString()+"px"}).attr("class",function($){let F="task",z="";$.classes.length>0&&(z=$.classes.join(" "));let U=0;for(let[H,Q]of p.entries())$.type===Q&&(U=H%n.numberSectionStyles);let j="";return $.active?$.crit?j+=" activeCrit":j=" active":$.done?$.crit?j=" doneCrit":j=" done":$.crit&&(j+=" crit"),j.length===0&&(j=" task"),$.milestone&&(j=" milestone "+j),$.vert&&(j=" vert "+j),j+=U,j+=" "+z,F+j}),P.append("text").attr("id",function($){return $.id+"-text"}).text(function($){return $.task}).attr("font-size",n.fontSize).attr("x",function($){let F=x($.startTime),z=x($.renderEndTime||$.endTime);if($.milestone&&(F+=.5*(x($.endTime)-x($.startTime))-.5*O,z=F+O),$.vert)return x($.startTime)+N;let U=this.getBBox().width;return U>z-F?z+U+1.5*n.leftPadding>I?F+N-5:z+N+5:(z-F)/2+F+N}).attr("y",function($,F){return $.vert?n.gridLineStartPadding+d.length*(n.barHeight+n.barGap)+60:(F=$.order,F*A+n.barHeight/2+(n.fontSize/2-2)+M)}).attr("text-height",O).attr("class",function($){let F=x($.startTime),z=x($.endTime);$.milestone&&(z=F+O);let U=this.getBBox().width,j="";$.classes.length>0&&(j=$.classes.join(" "));let H=0;for(let[re,le]of p.entries())$.type===le&&(H=re%n.numberSectionStyles);let Q="";return $.active&&($.crit?Q="activeCritText"+H:Q="activeText"+H),$.done?$.crit?Q=Q+" doneCritText"+H:Q=Q+" doneText"+H:$.crit&&(Q=Q+" critText"+H),$.milestone&&(Q+=" milestoneText"),$.vert&&(Q+=" vertText"),U>z-F?z+U+1.5*n.leftPadding>I?j+" taskTextOutsideLeft taskTextOutside"+H+" "+Q:j+" taskTextOutsideRight taskTextOutside"+H+" "+Q+" width-"+U:j+" taskText taskText"+H+" "+Q+" width-"+U}),Ce().securityLevel==="sandbox"){let $;$=Ze("#i"+t);let F=$.nodes()[0].contentDocument;P.filter(function(z){return D.has(z.id)}).each(function(z){var U=F.querySelector("#"+z.id),j=F.querySelector("#"+z.id+"-text");let H=U.parentNode;var Q=F.createElement("a");Q.setAttribute("xlink:href",D.get(z.id)),Q.setAttribute("target","_top"),H.appendChild(Q),Q.appendChild(U),Q.appendChild(j)})}}l(E,"drawRects");function S(C,A,M,N,O,_,I,R){if(I.length===0&&R.length===0)return;let P,D;for(let{startTime:j,endTime:H}of _)(P===void 0||j<P)&&(P=j),(D===void 0||H>D)&&(D=H);if(!P||!D)return;if((0,_f.default)(D).diff((0,_f.default)(P),"year")>5){ae.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");return}let $=i.db.getDateFormat(),F=[],z=null,U=(0,_f.default)(P);for(;U.valueOf()<=D;)i.db.isInvalidDate(U,$,I,R)?z?z.end=U:z={start:U,end:U}:z&&(F.push(z),z=null),U=U.add(1,"d");m.append("g").selectAll("rect").data(F).enter().append("rect").attr("id",j=>"exclude-"+j.start.format("YYYY-MM-DD")).attr("x",j=>x(j.start.startOf("day"))+M).attr("y",n.gridLineStartPadding).attr("width",j=>x(j.end.endOf("day"))-x(j.start.startOf("day"))).attr("height",O-A-n.gridLineStartPadding).attr("transform-origin",function(j,H){return(x(j.start)+M+.5*(x(j.end)-x(j.start))).toString()+"px "+(H*C+.5*O).toString()+"px"}).attr("class","exclude-range")}l(S,"drawExcludeDays");function L(C,A,M,N){if(M<=0||C>A)return 1/0;let O=A-C,_=_f.default.duration({[N!=null?N:"day"]:M}).asMilliseconds();return _<=0?1/0:Math.ceil(O/_)}l(L,"getEstimatedTickCount");function b(C,A,M,N){var D;let O=i.db.getDateFormat(),_=i.db.getAxisFormat(),I;_?I=_:O==="D"?I="%d":I=(D=n.axisFormat)!=null?D:"%Y-%m-%d";let R=VX(x).tickSize(-N+A+n.gridLineStartPadding).tickFormat(v5(I)),P=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(i.db.getTickInterval()||n.tickInterval);if(P!==null){let $=parseInt(P[1],10);if(isNaN($)||$<=0)ae.warn(`Invalid tick interval value: "${P[1]}". Skipping custom tick interval.`);else{let F=P[2],z=i.db.getWeekday()||n.weekday,U=x.domain(),j=U[0],H=U[1],Q=L(j,H,$,F);if(Q>Y7)ae.warn(`The tick interval "${$}${F}" would generate ${Q} ticks, which exceeds the maximum allowed (${Y7}). This may indicate an invalid date or time range. Skipping custom tick interval.`);else switch(F){case"millisecond":R.ticks(Qh.every($));break;case"second":R.ticks(lc.every($));break;case"minute":R.ticks(sg.every($));break;case"hour":R.ticks(og.every($));break;case"day":R.ticks(Au.every($));break;case"week":R.ticks(cU[z].every($));break;case"month":R.ticks(ug.every($));break}}}if(m.append("g").attr("class","grid").attr("transform","translate("+C+", "+(N-50)+")").call(R).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),i.db.topAxisEnabled()||n.topAxis){let $=HX(x).tickSize(-N+A+n.gridLineStartPadding).tickFormat(v5(I));if(P!==null){let F=parseInt(P[1],10);if(isNaN(F)||F<=0)ae.warn(`Invalid tick interval value: "${P[1]}". Skipping custom tick interval.`);else{let z=P[2],U=i.db.getWeekday()||n.weekday,j=x.domain(),H=j[0],Q=j[1];if(L(H,Q,F,z)<=Y7)switch(z){case"millisecond":$.ticks(Qh.every(F));break;case"second":$.ticks(lc.every(F));break;case"minute":$.ticks(sg.every(F));break;case"hour":$.ticks(og.every(F));break;case"day":$.ticks(Au.every(F));break;case"week":$.ticks(cU[U].every(F));break;case"month":$.ticks(ug.every(F));break}}}m.append("g").attr("class","grid").attr("transform","translate("+C+", "+A+")").call($).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}l(b,"makeGrid");function y(C,A){let M=0,N=Object.keys(g).map(O=>[O,g[O]]);m.append("g").selectAll("text").data(N).enter().append(function(O){let _=O[0].split(at.lineBreakRegex),I=-(_.length-1)/2,R=u.createElementNS("http://www.w3.org/2000/svg","text");R.setAttribute("dy",I+"em");for(let[P,D]of _.entries()){let $=u.createElementNS("http://www.w3.org/2000/svg","tspan");$.setAttribute("alignment-baseline","central"),$.setAttribute("x","10"),P>0&&$.setAttribute("dy","1em"),$.textContent=D,R.appendChild($)}return R}).attr("x",10).attr("y",function(O,_){if(_>0)for(let I=0;I<_;I++)return M+=N[_-1][1],O[1]*C/2+M*C+A;else return O[1]*C/2+A}).attr("font-size",n.sectionFontSize).attr("class",function(O){for(let[_,I]of p.entries())if(O[0]===I)return"sectionTitle sectionTitle"+_%n.numberSectionStyles;return"sectionTitle"})}l(y,"vertLabels");function v(C,A,M,N){let O=i.db.getTodayMarker();if(O==="off")return;let _=m.append("g").attr("class","today"),I=new Date,R=_.append("line");R.attr("x1",x(I)+C).attr("x2",x(I)+C).attr("y1",n.titleTopMargin).attr("y2",N-n.titleTopMargin).attr("class","today"),O!==""&&R.attr("style",O.replace(/,/g,";"))}l(v,"drawToday");function w(C){let A={},M=[];for(let N=0,O=C.length;N<O;++N)Object.prototype.hasOwnProperty.call(A,C[N])||(A[C[N]]=!0,M.push(C[N]));return M}l(w,"checkUnique")},"draw"),wMe={setConf:vMe,draw:xMe}}),kMe,TMe,fJe=B(()=>{"use strict";kMe=l(e=>`
  .mermaid-main-font {
        font-family: ${e.fontFamily};
  }

  .exclude-range {
    fill: ${e.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${e.sectionBkgColor};
  }

  .section2 {
    fill: ${e.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${e.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${e.titleColor};
  }

  .sectionTitle1 {
    fill: ${e.titleColor};
  }

  .sectionTitle2 {
    fill: ${e.titleColor};
  }

  .sectionTitle3 {
    fill: ${e.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    font-family: ${e.fontFamily};
  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${e.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
  }

  .grid .tick text {
    font-family: ${e.fontFamily};
    fill: ${e.textColor};
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${e.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideRight {
    fill: ${e.taskTextDarkColor};
    text-anchor: start;
    font-family: ${e.fontFamily};
  }

  .taskTextOutsideLeft {
    fill: ${e.taskTextDarkColor};
    text-anchor: end;
  }


  /* Special case clickable */

  .task.clickable {
    cursor: pointer;
  }

  .taskText.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${e.taskTextClickableColor} !important;
    font-weight: bold;
  }


  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${e.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${e.taskBkgColor};
    stroke: ${e.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${e.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${e.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${e.activeTaskBkgColor};
    stroke: ${e.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${e.doneTaskBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${e.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${e.critBorderColor};
    fill: ${e.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .vert {
    stroke: ${e.vertLineColor};
  }

  .vertText {
    font-size: 15px;
    text-anchor: middle;
    fill: ${e.vertLineColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${e.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.titleColor||e.textColor};
    font-family: ${e.fontFamily};
  }
`,"getStyles"),TMe=kMe}),EMe={};nr(EMe,{diagram:()=>CMe});var CMe,mJe=B(()=>{"use strict";lJe(),dJe(),gJe(),fJe(),CMe={parser:NNe,db:mMe,renderer:wMe,styles:TMe}}),SMe,yJe=B(()=>{"use strict";lp(),lt(),SMe={parse:l(e=>xe(null,null,function*(){let t=yield eu("info",e);ae.debug(t)}),"parse")}}),W7,_Me=B(()=>{W7={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}}),AMe,LMe,NMe,vJe=B(()=>{"use strict";_Me(),AMe={version:W7.version+""},LMe=l(()=>AMe.version,"getVersion"),NMe={getVersion:LMe}}),Gl,au=B(()=>{"use strict";gr(),qt(),Gl=l(e=>{var i,n;let{securityLevel:t}=Ce(),r=Ze("body");if(t==="sandbox"){let a=(n=(i=Ze(`#i${e}`).node())==null?void 0:i.contentDocument)!=null?n:document;r=Ze(a.body)}return r.select(`#${e}`)},"selectSvgElement")}),MMe,IMe,bJe=B(()=>{"use strict";lt(),au(),pn(),MMe=l((e,t,r)=>{ae.debug(`rendering info diagram
`+e);let i=Gl(t);ta(i,100,400,!0),i.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)},"draw"),IMe={draw:MMe}}),DMe={};nr(DMe,{diagram:()=>RMe});var RMe,xJe=B(()=>{"use strict";yJe(),vJe(),bJe(),RMe={parser:SMe,db:NMe,renderer:IMe}}),uU,X7,Cx,K7,OMe,PMe,BMe,$Me,FMe,zMe,GMe,hU,UMe=B(()=>{"use strict";lt(),Fi(),va(),uU=Tr.pie,X7={sections:new Map,showData:!1,config:uU},Cx=X7.sections,K7=X7.showData,OMe=structuredClone(uU),PMe=l(()=>structuredClone(OMe),"getConfig"),BMe=l(()=>{Cx=new Map,K7=X7.showData,Pi()},"clear"),$Me=l(({label:e,value:t})=>{if(t<0)throw new Error(`"${e}" has invalid value: ${t}. Negative values are not allowed in pie charts. All slice values must be >= 0.`);Cx.has(e)||(Cx.set(e,t),ae.debug(`added new section: ${e}, with value: ${t}`))},"addSection"),FMe=l(()=>Cx,"getSections"),zMe=l(e=>{K7=e},"setShowData"),GMe=l(()=>K7,"getShowData"),hU={getConfig:PMe,clear:BMe,setDiagramTitle:gn,getDiagramTitle:$i,setAccTitle:Bi,getAccTitle:Wi,setAccDescription:Xi,getAccDescription:Ki,addSection:$Me,getSections:FMe,setShowData:zMe,getShowData:GMe}}),qMe,jMe,wJe=B(()=>{"use strict";lp(),lt(),wf(),UMe(),qMe=l((e,t)=>{cp(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)},"populateDb"),jMe={parse:l(e=>xe(null,null,function*(){let t=yield eu("pie",e);ae.debug(t),qMe(t,hU)}),"parse")}}),HMe,VMe,kJe=B(()=>{"use strict";HMe=l(e=>`
  .pieCircle{
    stroke: ${e.pieStrokeColor};
    stroke-width : ${e.pieStrokeWidth};
    opacity : ${e.pieOpacity};
  }
  .pieOuterCircle{
    stroke: ${e.pieOuterStrokeColor};
    stroke-width: ${e.pieOuterStrokeWidth};
    fill: none;
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${e.pieTitleTextSize};
    fill: ${e.pieTitleTextColor};
    font-family: ${e.fontFamily};
  }
  .slice {
    font-family: ${e.fontFamily};
    fill: ${e.pieSectionTextColor};
    font-size:${e.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${e.pieLegendTextColor};
    font-family: ${e.fontFamily};
    font-size: ${e.pieLegendTextSize};
  }
`,"getStyles"),VMe=HMe}),YMe,WMe,XMe,TJe=B(()=>{"use strict";gr(),qt(),lt(),au(),pn(),Jt(),YMe=l(e=>{let t=[...e.values()].reduce((i,n)=>i+n,0),r=[...e.entries()].map(([i,n])=>({label:i,value:n})).filter(i=>i.value/t*100>=1).sort((i,n)=>n.value-i.value);return Are().value(i=>i.value)(r)},"createPieArcs"),WMe=l((e,t,r,i)=>{ae.debug(`rendering pie chart
`+e);let n=i.db,a=Ce(),s=Ea(n.getConfig(),a.pie),o=40,u=18,h=4,d=450,p=d,g=Gl(t),f=g.append("g");f.attr("transform","translate("+p/2+","+d/2+")");let{themeVariables:m}=a,[x]=Fu(m.pieOuterStrokeWidth);x!=null||(x=2);let T=s.textPosition,k=Math.min(p,d)/2-o,E=td().innerRadius(0).outerRadius(k),S=td().innerRadius(k*T).outerRadius(k*T);f.append("circle").attr("cx",0).attr("cy",0).attr("r",k+x/2).attr("class","pieOuterCircle");let L=n.getSections(),b=YMe(L),y=[m.pie1,m.pie2,m.pie3,m.pie4,m.pie5,m.pie6,m.pie7,m.pie8,m.pie9,m.pie10,m.pie11,m.pie12],v=0;L.forEach(_=>{v+=_});let w=b.filter(_=>(_.data.value/v*100).toFixed(0)!=="0"),C=Su(y);f.selectAll("mySlices").data(w).enter().append("path").attr("d",E).attr("fill",_=>C(_.data.label)).attr("class","pieCircle"),f.selectAll("mySlices").data(w).enter().append("text").text(_=>(_.data.value/v*100).toFixed(0)+"%").attr("transform",_=>"translate("+S.centroid(_)+")").style("text-anchor","middle").attr("class","slice"),f.append("text").text(n.getDiagramTitle()).attr("x",0).attr("y",-(d-50)/2).attr("class","pieTitleText");let A=[...L.entries()].map(([_,I])=>({label:_,value:I})),M=f.selectAll(".legend").data(A).enter().append("g").attr("class","legend").attr("transform",(_,I)=>{let R=u+h,P=R*A.length/2,D=12*u,$=I*R-P;return"translate("+D+","+$+")"});M.append("rect").attr("width",u).attr("height",u).style("fill",_=>C(_.label)).style("stroke",_=>C(_.label)),M.append("text").attr("x",u+h).attr("y",u-h).text(_=>n.getShowData()?`${_.label} [${_.value}]`:_.label);let N=Math.max(...M.selectAll("text").nodes().map(_=>{var I;return(I=_==null?void 0:_.getBoundingClientRect().width)!=null?I:0})),O=p+o+u+h+N;g.attr("viewBox",`0 0 ${O} ${d}`),ta(g,d,O,s.useMaxWidth)},"draw"),XMe={draw:WMe}}),KMe={};nr(KMe,{diagram:()=>ZMe});var ZMe,EJe=B(()=>{"use strict";wJe(),UMe(),kJe(),TJe(),ZMe={parser:jMe,db:hU,renderer:XMe,styles:VMe}}),Z7,QMe,CJe=B(()=>{"use strict";Z7=(function(){var e=l(function(G,ie,se,pe){for(se=se||{},pe=G.length;pe--;se[G[pe]]=ie);return se},"o"),t=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],o=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],h=[2,36],d=[1,37],p=[1,36],g=[1,38],f=[1,35],m=[1,43],x=[1,41],T=[1,14],k=[1,23],E=[1,18],S=[1,19],L=[1,20],b=[1,21],y=[1,22],v=[1,24],w=[1,25],C=[1,26],A=[1,27],M=[1,28],N=[1,29],O=[1,32],_=[1,33],I=[1,34],R=[1,39],P=[1,40],D=[1,42],$=[1,44],F=[1,62],z=[1,61],U=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],j=[1,65],H=[1,66],Q=[1,67],re=[1,68],le=[1,69],oe=[1,70],W=[1,71],J=[1,72],Y=[1,73],X=[1,74],te=[1,75],ce=[1,76],K=[4,5,6,7,8,9,10,11,12,13,14,15,18],me=[1,90],Z=[1,91],Ae=[1,92],he=[1,99],Ne=[1,93],Pe=[1,96],He=[1,94],qe=[1,95],_e=[1,97],De=[1,98],ve=[1,102],Be=[10,55,56,57],de=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],Ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:l(function(G,ie,se,pe,fe,be,Se){var Te=be.length-1;switch(fe){case 23:this.$=be[Te];break;case 24:this.$=be[Te-1]+""+be[Te];break;case 26:this.$=be[Te-1]+be[Te];break;case 27:this.$=[be[Te].trim()];break;case 28:be[Te-2].push(be[Te].trim()),this.$=be[Te-2];break;case 29:this.$=be[Te-4],pe.addClass(be[Te-2],be[Te]);break;case 37:this.$=[];break;case 42:this.$=be[Te].trim(),pe.setDiagramTitle(this.$);break;case 43:this.$=be[Te].trim(),pe.setAccTitle(this.$);break;case 44:case 45:this.$=be[Te].trim(),pe.setAccDescription(this.$);break;case 46:pe.addSection(be[Te].substr(8)),this.$=be[Te].substr(8);break;case 47:pe.addPoint(be[Te-3],"",be[Te-1],be[Te],[]);break;case 48:pe.addPoint(be[Te-4],be[Te-3],be[Te-1],be[Te],[]);break;case 49:pe.addPoint(be[Te-4],"",be[Te-2],be[Te-1],be[Te]);break;case 50:pe.addPoint(be[Te-5],be[Te-4],be[Te-2],be[Te-1],be[Te]);break;case 51:pe.setXAxisLeftText(be[Te-2]),pe.setXAxisRightText(be[Te]);break;case 52:be[Te-1].text+=" \u27F6 ",pe.setXAxisLeftText(be[Te-1]);break;case 53:pe.setXAxisLeftText(be[Te]);break;case 54:pe.setYAxisBottomText(be[Te-2]),pe.setYAxisTopText(be[Te]);break;case 55:be[Te-1].text+=" \u27F6 ",pe.setYAxisBottomText(be[Te-1]);break;case 56:pe.setYAxisBottomText(be[Te]);break;case 57:pe.setQuadrant1Text(be[Te]);break;case 58:pe.setQuadrant2Text(be[Te]);break;case 59:pe.setQuadrant3Text(be[Te]);break;case 60:pe.setQuadrant4Text(be[Te]);break;case 64:this.$={text:be[Te],type:"text"};break;case 65:this.$={text:be[Te-1].text+""+be[Te],type:be[Te-1].type};break;case 66:this.$={text:be[Te],type:"text"};break;case 67:this.$={text:be[Te],type:"markdown"};break;case 68:this.$=be[Te];break;case 69:this.$=be[Te-1]+""+be[Te];break}},"anonymous"),table:[{18:t,26:1,27:2,28:r,55:i,56:n,57:a},{1:[3]},{18:t,26:8,27:2,28:r,55:i,56:n,57:a},{18:t,26:9,27:2,28:r,55:i,56:n,57:a},e(s,[2,33],{29:10}),e(o,[2,61]),e(o,[2,62]),e(o,[2,63]),{1:[2,30]},{1:[2,31]},e(u,h,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:d,5:p,10:g,12:f,13:m,14:x,18:T,25:k,35:E,37:S,39:L,41:b,42:y,48:v,50:w,51:C,52:A,53:M,54:N,60:O,61:_,63:I,64:R,65:P,66:D,67:$}),e(s,[2,34]),{27:45,55:i,56:n,57:a},e(u,[2,37]),e(u,h,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:d,5:p,10:g,12:f,13:m,14:x,18:T,25:k,35:E,37:S,39:L,41:b,42:y,48:v,50:w,51:C,52:A,53:M,54:N,60:O,61:_,63:I,64:R,65:P,66:D,67:$}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:d,5:p,10:g,12:f,13:m,14:x,43:51,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,10:g,12:f,13:m,14:x,43:52,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,10:g,12:f,13:m,14:x,43:53,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,10:g,12:f,13:m,14:x,43:54,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,10:g,12:f,13:m,14:x,43:55,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,10:g,12:f,13:m,14:x,43:56,58:31,60:O,61:_,63:I,64:R,65:P,66:D,67:$},{4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,44:[1,57],47:[1,58],58:60,59:59,63:I,64:R,65:P,66:D,67:$},e(U,[2,64]),e(U,[2,66]),e(U,[2,67]),e(U,[2,70]),e(U,[2,71]),e(U,[2,72]),e(U,[2,73]),e(U,[2,74]),e(U,[2,75]),e(U,[2,76]),e(U,[2,77]),e(U,[2,78]),e(U,[2,79]),e(U,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:j,5:H,6:Q,7:re,8:le,9:oe,10:W,11:J,12:Y,13:X,14:te,15:ce,21:63},e(u,[2,53],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,49:[1,77],63:I,64:R,65:P,66:D,67:$}),e(u,[2,56],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,49:[1,78],63:I,64:R,65:P,66:D,67:$}),e(u,[2,57],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),e(u,[2,58],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),e(u,[2,59],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),e(u,[2,60],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),{45:[1,79]},{44:[1,80]},e(U,[2,65]),e(U,[2,81]),e(U,[2,82]),e(U,[2,83]),{3:82,4:j,5:H,6:Q,7:re,8:le,9:oe,10:W,11:J,12:Y,13:X,14:te,15:ce,18:[1,81]},e(K,[2,23]),e(K,[2,1]),e(K,[2,2]),e(K,[2,3]),e(K,[2,4]),e(K,[2,5]),e(K,[2,6]),e(K,[2,7]),e(K,[2,8]),e(K,[2,9]),e(K,[2,10]),e(K,[2,11]),e(K,[2,12]),e(u,[2,52],{58:31,43:83,4:d,5:p,10:g,12:f,13:m,14:x,60:O,61:_,63:I,64:R,65:P,66:D,67:$}),e(u,[2,55],{58:31,43:84,4:d,5:p,10:g,12:f,13:m,14:x,60:O,61:_,63:I,64:R,65:P,66:D,67:$}),{46:[1,85]},{45:[1,86]},{4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,16:89,17:He,18:qe,19:_e,20:De,22:88,23:87},e(K,[2,24]),e(u,[2,51],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),e(u,[2,54],{59:59,58:60,4:d,5:p,8:F,10:g,12:f,13:m,14:x,18:z,63:I,64:R,65:P,66:D,67:$}),e(u,[2,47],{22:88,16:89,23:100,4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,17:He,18:qe,19:_e,20:De}),{46:[1,101]},e(u,[2,29],{10:ve}),e(Be,[2,27],{16:103,4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,17:He,18:qe,19:_e,20:De}),e(de,[2,25]),e(de,[2,13]),e(de,[2,14]),e(de,[2,15]),e(de,[2,16]),e(de,[2,17]),e(de,[2,18]),e(de,[2,19]),e(de,[2,20]),e(de,[2,21]),e(de,[2,22]),e(u,[2,49],{10:ve}),e(u,[2,48],{22:88,16:89,23:104,4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,17:He,18:qe,19:_e,20:De}),{4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,16:89,17:He,18:qe,19:_e,20:De,22:105},e(de,[2,26]),e(u,[2,50],{10:ve}),e(Be,[2,28],{16:103,4:me,5:Z,6:Ae,8:he,11:Ne,13:Pe,17:He,18:qe,19:_e,20:De})],defaultActions:{8:[2,30],9:[2,31]},parseError:l(function(G,ie){if(ie.recoverable)this.trace(G);else{var se=new Error(G);throw se.hash=ie,se}},"parseError"),parse:l(function(G){var ie=this,se=[0],pe=[],fe=[null],be=[],Se=this.table,Te="",Ge=0,Ye=0,st=0,ze=2,We=1,je=be.slice.call(arguments,1),Ue=Object.create(this.lexer),Ke={yy:{}};for(var Et in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Et)&&(Ke.yy[Et]=this.yy[Et]);Ue.setInput(G,Ke.yy),Ke.yy.lexer=Ue,Ke.yy.parser=this,typeof Ue.yylloc>"u"&&(Ue.yylloc={});var ht=Ue.yylloc;be.push(ht);var ct=Ue.options&&Ue.options.ranges;typeof Ke.yy.parseError=="function"?this.parseError=Ke.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function St(we){se.length=se.length-2*we,fe.length=fe.length-we,be.length=be.length-we}l(St,"popStack");function rt(){var we;return we=pe.pop()||Ue.lex()||We,typeof we!="number"&&(we instanceof Array&&(pe=we,we=pe.pop()),we=ie.symbols_[we]||we),we}l(rt,"lex");for(var gt,yt,Je,Qe,Lt,Vt,$t={},Kr,ur,tr,vr;;){if(Je=se[se.length-1],this.defaultActions[Je]?Qe=this.defaultActions[Je]:((gt===null||typeof gt>"u")&&(gt=rt()),Qe=Se[Je]&&Se[Je][gt]),typeof Qe>"u"||!Qe.length||!Qe[0]){var Or="";vr=[];for(Kr in Se[Je])this.terminals_[Kr]&&Kr>ze&&vr.push("'"+this.terminals_[Kr]+"'");Ue.showPosition?Or="Parse error on line "+(Ge+1)+`:
`+Ue.showPosition()+`
Expecting `+vr.join(", ")+", got '"+(this.terminals_[gt]||gt)+"'":Or="Parse error on line "+(Ge+1)+": Unexpected "+(gt==We?"end of input":"'"+(this.terminals_[gt]||gt)+"'"),this.parseError(Or,{text:Ue.match,token:this.terminals_[gt]||gt,line:Ue.yylineno,loc:ht,expected:vr})}if(Qe[0]instanceof Array&&Qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Je+", token: "+gt);switch(Qe[0]){case 1:se.push(gt),fe.push(Ue.yytext),be.push(Ue.yylloc),se.push(Qe[1]),gt=null,yt?(gt=yt,yt=null):(Ye=Ue.yyleng,Te=Ue.yytext,Ge=Ue.yylineno,ht=Ue.yylloc,st>0&&st--);break;case 2:if(ur=this.productions_[Qe[1]][1],$t.$=fe[fe.length-ur],$t._$={first_line:be[be.length-(ur||1)].first_line,last_line:be[be.length-1].last_line,first_column:be[be.length-(ur||1)].first_column,last_column:be[be.length-1].last_column},ct&&($t._$.range=[be[be.length-(ur||1)].range[0],be[be.length-1].range[1]]),Vt=this.performAction.apply($t,[Te,Ye,Ge,Ke.yy,Qe[1],fe,be].concat(je)),typeof Vt<"u")return Vt;ur&&(se=se.slice(0,-1*ur*2),fe=fe.slice(0,-1*ur),be=be.slice(0,-1*ur)),se.push(this.productions_[Qe[1]][0]),fe.push($t.$),be.push($t._$),tr=Se[se[se.length-2]][se[se.length-1]],se.push(tr);break;case 3:return!0}}return!0},"parse")},ee=(function(){var G={EOF:1,parseError:l(function(ie,se){if(this.yy.parser)this.yy.parser.parseError(ie,se);else throw new Error(ie)},"parseError"),setInput:l(function(ie,se){return this.yy=se||this.yy||{},this._input=ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var ie=this._input[0];this.yytext+=ie,this.yyleng++,this.offset++,this.match+=ie,this.matched+=ie;var se=ie.match(/(?:\r\n?|\n).*/g);return se?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ie},"input"),unput:l(function(ie){var se=ie.length,pe=ie.split(/(?:\r\n?|\n)/g);this._input=ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-se),this.offset-=se;var fe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),pe.length-1&&(this.yylineno-=pe.length-1);var be=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:pe?(pe.length===fe.length?this.yylloc.first_column:0)+fe[fe.length-pe.length].length-pe[0].length:this.yylloc.first_column-se},this.options.ranges&&(this.yylloc.range=[be[0],be[0]+this.yyleng-se]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(ie){this.unput(this.match.slice(ie))},"less"),pastInput:l(function(){var ie=this.matched.substr(0,this.matched.length-this.match.length);return(ie.length>20?"...":"")+ie.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var ie=this.match;return ie.length<20&&(ie+=this._input.substr(0,20-ie.length)),(ie.substr(0,20)+(ie.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var ie=this.pastInput(),se=new Array(ie.length+1).join("-");return ie+this.upcomingInput()+`
`+se+"^"},"showPosition"),test_match:l(function(ie,se){var pe,fe,be;if(this.options.backtrack_lexer&&(be={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(be.yylloc.range=this.yylloc.range.slice(0))),fe=ie[0].match(/(?:\r\n?|\n).*/g),fe&&(this.yylineno+=fe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:fe?fe[fe.length-1].length-fe[fe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ie[0].length},this.yytext+=ie[0],this.match+=ie[0],this.matches=ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ie[0].length),this.matched+=ie[0],pe=this.performAction.call(this,this.yy,this,se,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),pe)return pe;if(this._backtrack){for(var Se in be)this[Se]=be[Se];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ie,se,pe,fe;this._more||(this.yytext="",this.match="");for(var be=this._currentRules(),Se=0;Se<be.length;Se++)if(pe=this._input.match(this.rules[be[Se]]),pe&&(!se||pe[0].length>se[0].length)){if(se=pe,fe=Se,this.options.backtrack_lexer){if(ie=this.test_match(pe,be[Se]),ie!==!1)return ie;if(this._backtrack){se=!1;continue}else return!1}else if(!this.options.flex)break}return se?(ie=this.test_match(se,be[fe]),ie!==!1?ie:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var ie=this.next();return ie||this.lex()},"lex"),begin:l(function(ie){this.conditionStack.push(ie)},"begin"),popState:l(function(){var ie=this.conditionStack.length-1;return ie>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(ie){return ie=this.conditionStack.length-1-Math.abs(ie||0),ie>=0?this.conditionStack[ie]:"INITIAL"},"topState"),pushState:l(function(ie){this.begin(ie)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(ie,se,pe,fe){var be=fe;switch(pe){case 0:break;case 1:break;case 2:return 55;case 3:break;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 23:this.popState();break;case 24:this.begin("string");break;case 25:this.popState();break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 31:this.popState();break;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:return 65;case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return G})();Ve.lexer=ee;function Ie(){this.yy={}}return l(Ie,"Parser"),Ie.prototype=Ve,Ve.Parser=Ie,new Ie})(),Z7.parser=Z7,QMe=Z7}),ga,JMe,SJe=B(()=>{"use strict";var e;gr(),va(),lt(),d4(),ga=nm(),JMe=(e=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){var r,i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S;return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:((r=Tr.quadrantChart)==null?void 0:r.chartWidth)||500,chartWidth:((i=Tr.quadrantChart)==null?void 0:i.chartHeight)||500,titlePadding:((n=Tr.quadrantChart)==null?void 0:n.titlePadding)||10,titleFontSize:((a=Tr.quadrantChart)==null?void 0:a.titleFontSize)||20,quadrantPadding:((s=Tr.quadrantChart)==null?void 0:s.quadrantPadding)||5,xAxisLabelPadding:((o=Tr.quadrantChart)==null?void 0:o.xAxisLabelPadding)||5,yAxisLabelPadding:((u=Tr.quadrantChart)==null?void 0:u.yAxisLabelPadding)||5,xAxisLabelFontSize:((h=Tr.quadrantChart)==null?void 0:h.xAxisLabelFontSize)||16,yAxisLabelFontSize:((d=Tr.quadrantChart)==null?void 0:d.yAxisLabelFontSize)||16,quadrantLabelFontSize:((p=Tr.quadrantChart)==null?void 0:p.quadrantLabelFontSize)||16,quadrantTextTopPadding:((g=Tr.quadrantChart)==null?void 0:g.quadrantTextTopPadding)||5,pointTextPadding:((f=Tr.quadrantChart)==null?void 0:f.pointTextPadding)||5,pointLabelFontSize:((m=Tr.quadrantChart)==null?void 0:m.pointLabelFontSize)||12,pointRadius:((x=Tr.quadrantChart)==null?void 0:x.pointRadius)||5,xAxisPosition:((T=Tr.quadrantChart)==null?void 0:T.xAxisPosition)||"top",yAxisPosition:((k=Tr.quadrantChart)==null?void 0:k.yAxisPosition)||"left",quadrantInternalBorderStrokeWidth:((E=Tr.quadrantChart)==null?void 0:E.quadrantInternalBorderStrokeWidth)||1,quadrantExternalBorderStrokeWidth:((S=Tr.quadrantChart)==null?void 0:S.quadrantExternalBorderStrokeWidth)||2}}getDefaultThemeConfig(){return{quadrant1Fill:ga.quadrant1Fill,quadrant2Fill:ga.quadrant2Fill,quadrant3Fill:ga.quadrant3Fill,quadrant4Fill:ga.quadrant4Fill,quadrant1TextFill:ga.quadrant1TextFill,quadrant2TextFill:ga.quadrant2TextFill,quadrant3TextFill:ga.quadrant3TextFill,quadrant4TextFill:ga.quadrant4TextFill,quadrantPointFill:ga.quadrantPointFill,quadrantPointTextFill:ga.quadrantPointTextFill,quadrantXAxisTextFill:ga.quadrantXAxisTextFill,quadrantYAxisTextFill:ga.quadrantYAxisTextFill,quadrantTitleFill:ga.quadrantTitleFill,quadrantInternalBorderStrokeFill:ga.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:ga.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,ae.info("clear called")}setData(r){this.data=dt(dt({},this.data),r)}addPoints(r){this.data.points=[...r,...this.data.points]}addClass(r,i){this.classes.set(r,i)}setConfig(r){ae.trace("setConfig called with: ",r),this.config=dt(dt({},this.config),r)}setThemeConfig(r){ae.trace("setThemeConfig called with: ",r),this.themeConfig=dt(dt({},this.themeConfig),r)}calculateSpace(r,i,n,a){let s=this.config.xAxisLabelPadding*2+this.config.xAxisLabelFontSize,o={top:r==="top"&&i?s:0,bottom:r==="bottom"&&i?s:0},u=this.config.yAxisLabelPadding*2+this.config.yAxisLabelFontSize,h={left:this.config.yAxisPosition==="left"&&n?u:0,right:this.config.yAxisPosition==="right"&&n?u:0},d=this.config.titleFontSize+this.config.titlePadding*2,p={top:a?d:0},g=this.config.quadrantPadding+h.left,f=this.config.quadrantPadding+o.top+p.top,m=this.config.chartWidth-this.config.quadrantPadding*2-h.left-h.right,x=this.config.chartHeight-this.config.quadrantPadding*2-o.top-o.bottom-p.top,T=m/2,k=x/2;return{xAxisSpace:o,yAxisSpace:h,titleSpace:p,quadrantSpace:{quadrantLeft:g,quadrantTop:f,quadrantWidth:m,quadrantHalfWidth:T,quadrantHeight:x,quadrantHalfHeight:k}}}getAxisLabels(r,i,n,a){let{quadrantSpace:s,titleSpace:o}=a,{quadrantHalfHeight:u,quadrantHeight:h,quadrantLeft:d,quadrantHalfWidth:p,quadrantTop:g,quadrantWidth:f}=s,m=!!this.data.xAxisRightText,x=!!this.data.yAxisTopText,T=[];return this.data.xAxisLeftText&&i&&T.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:d+(m?p/2:0),y:r==="top"?this.config.xAxisLabelPadding+o.top:this.config.xAxisLabelPadding+g+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&i&&T.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:d+p+(m?p/2:0),y:r==="top"?this.config.xAxisLabelPadding+o.top:this.config.xAxisLabelPadding+g+h+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:m?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&n&&T.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+d+f+this.config.quadrantPadding,y:g+h-(x?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:x?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&n&&T.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:this.config.yAxisPosition==="left"?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+d+f+this.config.quadrantPadding,y:g+u-(x?u/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:x?"center":"left",horizontalPos:"top",rotation:-90}),T}getQuadrants(r){let{quadrantSpace:i}=r,{quadrantHalfHeight:n,quadrantLeft:a,quadrantHalfWidth:s,quadrantTop:o}=i,u=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+s,y:o,width:s,height:n,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:o,width:s,height:n,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a,y:o+n,width:s,height:n,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:a+s,y:o+n,width:s,height:n,fill:this.themeConfig.quadrant4Fill}];for(let h of u)h.text.x=h.x+h.width/2,this.data.points.length===0?(h.text.y=h.y+h.height/2,h.text.horizontalPos="middle"):(h.text.y=h.y+this.config.quadrantTextTopPadding,h.text.horizontalPos="top");return u}getQuadrantPoints(r){let{quadrantSpace:i}=r,{quadrantHeight:n,quadrantLeft:a,quadrantTop:s,quadrantWidth:o}=i,u=Zh().domain([0,1]).range([a,o+a]),h=Zh().domain([0,1]).range([n+s,s]);return this.data.points.map(d=>{var g,f,m,x;let p=this.classes.get(d.className);return p&&(d=dt(dt({},p),d)),{x:u(d.x),y:h(d.y),fill:(g=d.color)!=null?g:this.themeConfig.quadrantPointFill,radius:(f=d.radius)!=null?f:this.config.pointRadius,text:{text:d.text,fill:this.themeConfig.quadrantPointTextFill,x:u(d.x),y:h(d.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:(m=d.strokeColor)!=null?m:this.themeConfig.quadrantPointFill,strokeWidth:(x=d.strokeWidth)!=null?x:"0px"}})}getBorders(r){let i=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:n}=r,{quadrantHalfHeight:a,quadrantHeight:s,quadrantLeft:o,quadrantHalfWidth:u,quadrantTop:h,quadrantWidth:d}=n;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o-i,y1:h,x2:o+d+i,y2:h},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o+d,y1:h+i,x2:o+d,y2:h+s-i},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o-i,y1:h+s,x2:o+d+i,y2:h+s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:o,y1:h+i,x2:o,y2:h+s-i},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:o+u,y1:h+i,x2:o+u,y2:h+s-i},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:o+i,y1:h+a,x2:o+d-i,y2:h+a}]}getTitle(r){if(r)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){let r=this.config.showXAxis&&!!(this.data.xAxisLeftText||this.data.xAxisRightText),i=this.config.showYAxis&&!!(this.data.yAxisTopText||this.data.yAxisBottomText),n=this.config.showTitle&&!!this.data.titleText,a=this.data.points.length>0?"bottom":this.config.xAxisPosition,s=this.calculateSpace(a,r,i,n);return{points:this.getQuadrantPoints(s),quadrants:this.getQuadrants(s),axisLabels:this.getAxisLabels(a,r,i,s),borderLines:this.getBorders(s),title:this.getTitle(n)}}},l(e,"QuadrantBuilder"),e)});function dU(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function eIe(e){return!/^\d+$/.test(e)}function tIe(e){return!/^\d+px$/.test(e)}var Sx,_Je=B(()=>{"use strict";var e;Sx=(e=class extends Error{constructor(r,i,n){super(`value for ${r} ${i} is invalid, please use a valid ${n}`),this.name="InvalidStyleError"}},l(e,"InvalidStyleError"),e),l(dU,"validateHexCode"),l(eIe,"validateNumber"),l(tIe,"validateSizeInPixels")});function Ul(e){return Er(e.trim(),fIe)}function rIe(e){Mn.setData({quadrant1Text:Ul(e.text)})}function iIe(e){Mn.setData({quadrant2Text:Ul(e.text)})}function nIe(e){Mn.setData({quadrant3Text:Ul(e.text)})}function aIe(e){Mn.setData({quadrant4Text:Ul(e.text)})}function sIe(e){Mn.setData({xAxisLeftText:Ul(e.text)})}function oIe(e){Mn.setData({xAxisRightText:Ul(e.text)})}function lIe(e){Mn.setData({yAxisTopText:Ul(e.text)})}function cIe(e){Mn.setData({yAxisBottomText:Ul(e.text)})}function Q7(e){let t={};for(let r of e){let[i,n]=r.trim().split(/\s*:\s*/);if(i==="radius"){if(eIe(n))throw new Sx(i,n,"number");t.radius=parseInt(n)}else if(i==="color"){if(dU(n))throw new Sx(i,n,"hex code");t.color=n}else if(i==="stroke-color"){if(dU(n))throw new Sx(i,n,"hex code");t.strokeColor=n}else if(i==="stroke-width"){if(tIe(n))throw new Sx(i,n,"number of pixels (eg. 10px)");t.strokeWidth=n}else throw new Error(`style named ${i} is not supported.`)}return t}function uIe(e,t,r,i,n){let a=Q7(n);Mn.addPoints([dt({x:r,y:i,text:Ul(e.text),className:t},a)])}function hIe(e,t){Mn.addClass(e,Q7(t))}function dIe(e){Mn.setConfig({chartWidth:e})}function pIe(e){Mn.setConfig({chartHeight:e})}function gIe(){let e=Ce(),{themeVariables:t,quadrantChart:r}=e;return r&&Mn.setConfig(r),Mn.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),Mn.setData({titleText:$i()}),Mn.build()}var fIe,Mn,mIe,yIe,AJe=B(()=>{"use strict";qt(),dr(),Fi(),SJe(),_Je(),fIe=Ce(),l(Ul,"textSanitizer"),Mn=new JMe,l(rIe,"setQuadrant1Text"),l(iIe,"setQuadrant2Text"),l(nIe,"setQuadrant3Text"),l(aIe,"setQuadrant4Text"),l(sIe,"setXAxisLeftText"),l(oIe,"setXAxisRightText"),l(lIe,"setYAxisTopText"),l(cIe,"setYAxisBottomText"),l(Q7,"parseStyles"),l(uIe,"addPoint"),l(hIe,"addClass"),l(dIe,"setWidth"),l(pIe,"setHeight"),l(gIe,"getQuadrantData"),mIe=l(function(){Mn.clear(),Pi()},"clear"),yIe={setWidth:dIe,setHeight:pIe,setQuadrant1Text:rIe,setQuadrant2Text:iIe,setQuadrant3Text:nIe,setQuadrant4Text:aIe,setXAxisLeftText:sIe,setXAxisRightText:oIe,setYAxisTopText:lIe,setYAxisBottomText:cIe,parseStyles:Q7,addPoint:uIe,addClass:hIe,getQuadrantData:gIe,clear:mIe,setAccTitle:Bi,getAccTitle:Wi,setDiagramTitle:gn,getDiagramTitle:$i,getAccDescription:Ki,setAccDescription:Xi}}),vIe,bIe,LJe=B(()=>{"use strict";gr(),qt(),lt(),pn(),vIe=l((e,t,r,i)=>{var y,v,w,C,A,M;function n(N){return N==="top"?"hanging":"middle"}l(n,"getDominantBaseLine");function a(N){return N==="left"?"start":"middle"}l(a,"getTextAnchor");function s(N){return`translate(${N.x}, ${N.y}) rotate(${N.rotation||0})`}l(s,"getTransformation");let o=Ce();ae.debug(`Rendering quadrant chart
`+e);let u=o.securityLevel,h;u==="sandbox"&&(h=Ze("#i"+t));let d=Ze(u==="sandbox"?h.nodes()[0].contentDocument.body:"body").select(`[id="${t}"]`),p=d.append("g").attr("class","main"),g=(v=(y=o.quadrantChart)==null?void 0:y.chartWidth)!=null?v:500,f=(C=(w=o.quadrantChart)==null?void 0:w.chartHeight)!=null?C:500;ta(d,f,g,(M=(A=o.quadrantChart)==null?void 0:A.useMaxWidth)!=null?M:!0),d.attr("viewBox","0 0 "+g+" "+f),i.db.setHeight(f),i.db.setWidth(g);let m=i.db.getQuadrantData(),x=p.append("g").attr("class","quadrants"),T=p.append("g").attr("class","border"),k=p.append("g").attr("class","data-points"),E=p.append("g").attr("class","labels"),S=p.append("g").attr("class","title");m.title&&S.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",n(m.title.horizontalPos)).attr("text-anchor",a(m.title.verticalPos)).attr("transform",s(m.title)).text(m.title.text),m.borderLines&&T.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",N=>N.x1).attr("y1",N=>N.y1).attr("x2",N=>N.x2).attr("y2",N=>N.y2).style("stroke",N=>N.strokeFill).style("stroke-width",N=>N.strokeWidth);let L=x.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");L.append("rect").attr("x",N=>N.x).attr("y",N=>N.y).attr("width",N=>N.width).attr("height",N=>N.height).attr("fill",N=>N.fill),L.append("text").attr("x",0).attr("y",0).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>n(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text)).text(N=>N.text.text),E.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text(N=>N.text).attr("fill",N=>N.fill).attr("font-size",N=>N.fontSize).attr("dominant-baseline",N=>n(N.horizontalPos)).attr("text-anchor",N=>a(N.verticalPos)).attr("transform",N=>s(N));let b=k.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");b.append("circle").attr("cx",N=>N.x).attr("cy",N=>N.y).attr("r",N=>N.radius).attr("fill",N=>N.fill).attr("stroke",N=>N.strokeColor).attr("stroke-width",N=>N.strokeWidth),b.append("text").attr("x",0).attr("y",0).text(N=>N.text.text).attr("fill",N=>N.text.fill).attr("font-size",N=>N.text.fontSize).attr("dominant-baseline",N=>n(N.text.horizontalPos)).attr("text-anchor",N=>a(N.text.verticalPos)).attr("transform",N=>s(N.text))},"draw"),bIe={draw:vIe}}),xIe={};nr(xIe,{diagram:()=>wIe});var wIe,NJe=B(()=>{"use strict";CJe(),AJe(),LJe(),wIe={parser:QMe,db:yIe,renderer:bIe,styles:l(()=>"","styles")}}),J7,kIe,MJe=B(()=>{"use strict";J7=(function(){var e=l(function(I,R,P,D){for(P=P||{},D=I.length;D--;P[I[D]]=R);return P},"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],i=[1,3],n=[1,5],a=[1,6],s=[1,7],o=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],h=[1,26],d=[1,28],p=[1,29],g=[1,30],f=[1,31],m=[1,32],x=[1,33],T=[1,34],k=[1,35],E=[1,36],S=[1,37],L=[1,43],b=[1,42],y=[1,47],v=[1,50],w=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],A=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],M=[1,64],N={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:l(function(I,R,P,D,$,F,z){var U=F.length-1;switch($){case 5:D.setOrientation(F[U]);break;case 9:D.setDiagramTitle(F[U].text.trim());break;case 12:D.setLineData({text:"",type:"text"},F[U]);break;case 13:D.setLineData(F[U-1],F[U]);break;case 14:D.setBarData({text:"",type:"text"},F[U]);break;case 15:D.setBarData(F[U-1],F[U]);break;case 16:this.$=F[U].trim(),D.setAccTitle(this.$);break;case 17:case 18:this.$=F[U].trim(),D.setAccDescription(this.$);break;case 19:this.$=F[U-1];break;case 20:this.$=[Number(F[U-2]),...F[U]];break;case 21:this.$=[Number(F[U])];break;case 22:D.setXAxisTitle(F[U]);break;case 23:D.setXAxisTitle(F[U-1]);break;case 24:D.setXAxisTitle({type:"text",text:""});break;case 25:D.setXAxisBand(F[U]);break;case 26:D.setXAxisRangeData(Number(F[U-2]),Number(F[U]));break;case 27:this.$=F[U-1];break;case 28:this.$=[F[U-2],...F[U]];break;case 29:this.$=[F[U]];break;case 30:D.setYAxisTitle(F[U]);break;case 31:D.setYAxisTitle(F[U-1]);break;case 32:D.setYAxisTitle({type:"text",text:""});break;case 33:D.setYAxisRangeData(Number(F[U-2]),Number(F[U]));break;case 37:this.$={text:F[U],type:"text"};break;case 38:this.$={text:F[U],type:"text"};break;case 39:this.$={text:F[U],type:"markdown"};break;case 40:this.$=F[U];break;case 41:this.$=F[U-1]+""+F[U];break}},"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:i,34:n,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:i,34:n,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:i,8:[1,11],34:n,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(o,[2,34]),e(o,[2,35]),e(o,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:i,34:n,35:a,36:s}),{1:[2,3]},e(o,[2,5]),e(t,[2,7],{4:22,34:n,35:a,36:s}),{11:23,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},{11:39,13:38,24:L,27:b,29:40,30:41,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},{11:45,15:44,27:y,33:46,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},{11:49,17:48,24:v,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},{11:52,17:51,24:v,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},{20:[1,53]},{22:[1,54]},e(w,[2,18]),{1:[2,2]},e(w,[2,8]),e(w,[2,9]),e(C,[2,37],{40:55,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S}),e(C,[2,38]),e(C,[2,39]),e(A,[2,40]),e(A,[2,42]),e(A,[2,43]),e(A,[2,44]),e(A,[2,45]),e(A,[2,46]),e(A,[2,47]),e(A,[2,48]),e(A,[2,49]),e(A,[2,50]),e(A,[2,51]),e(w,[2,10]),e(w,[2,22],{30:41,29:56,24:L,27:b}),e(w,[2,24]),e(w,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},e(w,[2,11]),e(w,[2,30],{33:60,27:y}),e(w,[2,32]),{31:[1,61]},e(w,[2,12]),{17:62,24:v},{25:63,27:M},e(w,[2,14]),{17:65,24:v},e(w,[2,16]),e(w,[2,17]),e(A,[2,41]),e(w,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(w,[2,31]),{27:[1,69]},e(w,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(w,[2,15]),e(w,[2,26]),e(w,[2,27]),{11:59,32:72,37:24,38:u,39:h,40:27,41:d,42:p,43:g,44:f,45:m,46:x,47:T,48:k,49:E,50:S},e(w,[2,33]),e(w,[2,19]),{25:73,27:M},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:l(function(I,R){if(R.recoverable)this.trace(I);else{var P=new Error(I);throw P.hash=R,P}},"parseError"),parse:l(function(I){var R=this,P=[0],D=[],$=[null],F=[],z=this.table,U="",j=0,H=0,Q=0,re=2,le=1,oe=F.slice.call(arguments,1),W=Object.create(this.lexer),J={yy:{}};for(var Y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Y)&&(J.yy[Y]=this.yy[Y]);W.setInput(I,J.yy),J.yy.lexer=W,J.yy.parser=this,typeof W.yylloc>"u"&&(W.yylloc={});var X=W.yylloc;F.push(X);var te=W.options&&W.options.ranges;typeof J.yy.parseError=="function"?this.parseError=J.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ce(de){P.length=P.length-2*de,$.length=$.length-de,F.length=F.length-de}l(ce,"popStack");function K(){var de;return de=D.pop()||W.lex()||le,typeof de!="number"&&(de instanceof Array&&(D=de,de=D.pop()),de=R.symbols_[de]||de),de}l(K,"lex");for(var me,Z,Ae,he,Ne,Pe,He={},qe,_e,De,ve;;){if(Ae=P[P.length-1],this.defaultActions[Ae]?he=this.defaultActions[Ae]:((me===null||typeof me>"u")&&(me=K()),he=z[Ae]&&z[Ae][me]),typeof he>"u"||!he.length||!he[0]){var Be="";ve=[];for(qe in z[Ae])this.terminals_[qe]&&qe>re&&ve.push("'"+this.terminals_[qe]+"'");W.showPosition?Be="Parse error on line "+(j+1)+`:
`+W.showPosition()+`
Expecting `+ve.join(", ")+", got '"+(this.terminals_[me]||me)+"'":Be="Parse error on line "+(j+1)+": Unexpected "+(me==le?"end of input":"'"+(this.terminals_[me]||me)+"'"),this.parseError(Be,{text:W.match,token:this.terminals_[me]||me,line:W.yylineno,loc:X,expected:ve})}if(he[0]instanceof Array&&he.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ae+", token: "+me);switch(he[0]){case 1:P.push(me),$.push(W.yytext),F.push(W.yylloc),P.push(he[1]),me=null,Z?(me=Z,Z=null):(H=W.yyleng,U=W.yytext,j=W.yylineno,X=W.yylloc,Q>0&&Q--);break;case 2:if(_e=this.productions_[he[1]][1],He.$=$[$.length-_e],He._$={first_line:F[F.length-(_e||1)].first_line,last_line:F[F.length-1].last_line,first_column:F[F.length-(_e||1)].first_column,last_column:F[F.length-1].last_column},te&&(He._$.range=[F[F.length-(_e||1)].range[0],F[F.length-1].range[1]]),Pe=this.performAction.apply(He,[U,H,j,J.yy,he[1],$,F].concat(oe)),typeof Pe<"u")return Pe;_e&&(P=P.slice(0,-1*_e*2),$=$.slice(0,-1*_e),F=F.slice(0,-1*_e)),P.push(this.productions_[he[1]][0]),$.push(He.$),F.push(He._$),De=z[P[P.length-2]][P[P.length-1]],P.push(De);break;case 3:return!0}}return!0},"parse")},O=(function(){var I={EOF:1,parseError:l(function(R,P){if(this.yy.parser)this.yy.parser.parseError(R,P);else throw new Error(R)},"parseError"),setInput:l(function(R,P){return this.yy=P||this.yy||{},this._input=R,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var R=this._input[0];this.yytext+=R,this.yyleng++,this.offset++,this.match+=R,this.matched+=R;var P=R.match(/(?:\r\n?|\n).*/g);return P?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),R},"input"),unput:l(function(R){var P=R.length,D=R.split(/(?:\r\n?|\n)/g);this._input=R+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-P),this.offset-=P;var $=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),D.length-1&&(this.yylineno-=D.length-1);var F=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:D?(D.length===$.length?this.yylloc.first_column:0)+$[$.length-D.length].length-D[0].length:this.yylloc.first_column-P},this.options.ranges&&(this.yylloc.range=[F[0],F[0]+this.yyleng-P]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(R){this.unput(this.match.slice(R))},"less"),pastInput:l(function(){var R=this.matched.substr(0,this.matched.length-this.match.length);return(R.length>20?"...":"")+R.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var R=this.match;return R.length<20&&(R+=this._input.substr(0,20-R.length)),(R.substr(0,20)+(R.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var R=this.pastInput(),P=new Array(R.length+1).join("-");return R+this.upcomingInput()+`
`+P+"^"},"showPosition"),test_match:l(function(R,P){var D,$,F;if(this.options.backtrack_lexer&&(F={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(F.yylloc.range=this.yylloc.range.slice(0))),$=R[0].match(/(?:\r\n?|\n).*/g),$&&(this.yylineno+=$.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$?$[$.length-1].length-$[$.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+R[0].length},this.yytext+=R[0],this.match+=R[0],this.matches=R,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(R[0].length),this.matched+=R[0],D=this.performAction.call(this,this.yy,this,P,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),D)return D;if(this._backtrack){for(var z in F)this[z]=F[z];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var R,P,D,$;this._more||(this.yytext="",this.match="");for(var F=this._currentRules(),z=0;z<F.length;z++)if(D=this._input.match(this.rules[F[z]]),D&&(!P||D[0].length>P[0].length)){if(P=D,$=z,this.options.backtrack_lexer){if(R=this.test_match(D,F[z]),R!==!1)return R;if(this._backtrack){P=!1;continue}else return!1}else if(!this.options.flex)break}return P?(R=this.test_match(P,F[$]),R!==!1?R:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var R=this.next();return R||this.lex()},"lex"),begin:l(function(R){this.conditionStack.push(R)},"begin"),popState:l(function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},"topState"),pushState:l(function(R){this.begin(R)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(R,P,D,$){var F=$;switch(D){case 0:break;case 1:break;case 2:return this.popState(),34;case 3:return this.popState(),34;case 4:return 34;case 5:break;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 5;case 16:return 8;case 17:return this.pushState("axis_data"),"X_AXIS";case 18:return this.pushState("axis_data"),"Y_AXIS";case 19:return this.pushState("axis_band_data"),24;case 20:return 31;case 21:return this.pushState("data"),16;case 22:return this.pushState("data"),18;case 23:return this.pushState("data_inner"),24;case 24:return 27;case 25:return this.popState(),26;case 26:this.popState();break;case 27:this.pushState("string");break;case 28:this.popState();break;case 29:return"STR";case 30:return 24;case 31:return 26;case 32:return 43;case 33:return"COLON";case 34:return 44;case 35:return 28;case 36:return 45;case 37:return 46;case 38:return 48;case 39:return 50;case 40:return 47;case 41:return 41;case 42:return 49;case 43:return 42;case 44:break;case 45:return 35;case 46:return 36}},"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:xychart\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,24,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,18,21,22,23,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,25,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,22,24,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[28,29],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,18,21,22,26,27,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],inclusive:!0}}};return I})();N.lexer=O;function _(){this.yy={}}return l(_,"Parser"),_.prototype=N,N.Parser=_,new _})(),J7.parser=J7,kIe=J7});function pU(e){return e.type==="bar"}function gU(e){return e.type==="band"}function Af(e){return e.type==="linear"}var fU=B(()=>{"use strict";l(pU,"isBarPlot"),l(gU,"isBandAxisData"),l(Af,"isLinearAxisData")}),mU,TIe=B(()=>{"use strict";var e;wo(),mU=(e=class{constructor(r){this.parentGroup=r}getMaxDimension(r,i){if(!this.parentGroup)return{width:r.reduce((s,o)=>Math.max(o.length,s),0)*i,height:i};let n={width:0,height:0},a=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",i);for(let s of r){let o=ehe(a,1,s),u=o?o.width:s.length*i,h=o?o.height:i;n.width=Math.max(n.width,u),n.height=Math.max(n.height,h)}return a.remove(),n}},l(e,"TextDimensionCalculatorWithFont"),e)}),yU,EIe=B(()=>{"use strict";var e;yU=(e=class{constructor(r,i,n,a){this.axisConfig=r,this.title=i,this.textDimensionCalculator=n,this.axisThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}setRange(r){this.range=r,this.axisPosition==="left"||this.axisPosition==="right"?this.boundingRect.height=r[1]-r[0]:this.boundingRect.width=r[1]-r[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(r){this.axisPosition=r,this.setRange(this.range)}getTickDistance(){let r=this.getRange();return Math.abs(r[0]-r[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map(r=>r.toString()),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>this.outerPadding*2&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(r){let i=r.height;if(this.axisConfig.showAxisLine&&i>this.axisConfig.axisLineWidth&&(i-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),a=.2*r.width;this.outerPadding=Math.min(n.width/2,a);let s=n.height+this.axisConfig.labelPadding*2;this.labelTextHeight=n.height,s<=i&&(i-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&i>=this.axisConfig.tickLength&&(this.showTick=!0,i-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,a<=i&&(i-=a,this.showTitle=!0)}this.boundingRect.width=r.width,this.boundingRect.height=r.height-i}calculateSpaceIfDrawnVertical(r){let i=r.width;if(this.axisConfig.showAxisLine&&i>this.axisConfig.axisLineWidth&&(i-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){let n=this.getLabelDimension(),a=.2*r.height;this.outerPadding=Math.min(n.height/2,a);let s=n.width+this.axisConfig.labelPadding*2;s<=i&&(i-=s,this.showLabel=!0)}if(this.axisConfig.showTick&&i>=this.axisConfig.tickLength&&(this.showTick=!0,i-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){let n=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),a=n.height+this.axisConfig.titlePadding*2;this.titleTextHeight=n.height,a<=i&&(i-=a,this.showTitle=!0)}this.boundingRect.width=r.width-i,this.boundingRect.height=r.height}calculateSpace(r){return this.axisPosition==="left"||this.axisPosition==="right"?this.calculateSpaceIfDrawnVertical(r):this.calculateSpaceIfDrawnHorizontally(r),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(r){this.boundingRect.x=r.x,this.boundingRect.y=r.y}getDrawableElementsForLeftAxis(){let r=[];if(this.showAxisLine){let i=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;r.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${i},${this.boundingRect.y} L ${i},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&r.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map(i=>({text:i.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(i),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"}))}),this.showTick){let i=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);r.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${i},${this.getScaleValue(n)} L ${i-this.axisConfig.tickLength},${this.getScaleValue(n)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&r.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),r}getDrawableElementsForBottomAxis(){let r=[];if(this.showAxisLine){let i=this.boundingRect.y+this.axisConfig.axisLineWidth/2;r.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${i} L ${this.boundingRect.x+this.boundingRect.width},${i}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&r.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map(i=>({text:i.toString(),x:this.getScaleValue(i),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let i=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);r.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${i} L ${this.getScaleValue(n)},${i+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&r.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),r}getDrawableElementsForTopAxis(){let r=[];if(this.showAxisLine){let i=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;r.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${i} L ${this.boundingRect.x+this.boundingRect.width},${i}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&r.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map(i=>({text:i.toString(),x:this.getScaleValue(i),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+this.axisConfig.titlePadding*2:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}))}),this.showTick){let i=this.boundingRect.y;r.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map(n=>({path:`M ${this.getScaleValue(n)},${i+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(n)},${i+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth}))})}return this.showTitle&&r.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),r}getDrawableElements(){if(this.axisPosition==="left")return this.getDrawableElementsForLeftAxis();if(this.axisPosition==="right")throw Error("Drawing of right axis is not implemented");return this.axisPosition==="bottom"?this.getDrawableElementsForBottomAxis():this.axisPosition==="top"?this.getDrawableElementsForTopAxis():[]}},l(e,"BaseAxis"),e)}),CIe,IJe=B(()=>{"use strict";var e;gr(),lt(),EIe(),CIe=(e=class extends yU{constructor(r,i,n,a,s){super(r,a,s,i),this.categories=n,this.scale=u5().domain(this.categories).range(this.getRange())}setRange(r){super.setRange(r)}recalculateScale(){this.scale=u5().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),ae.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(r){var i;return(i=this.scale(r))!=null?i:this.getRange()[0]}},l(e,"BandAxis"),e)}),SIe,DJe=B(()=>{"use strict";var e;gr(),EIe(),SIe=(e=class extends yU{constructor(r,i,n,a,s){super(r,a,s,i),this.domain=n,this.scale=Zh().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){let r=[...this.domain];this.axisPosition==="left"&&r.reverse(),this.scale=Zh().domain(r).range(this.getRange())}getScaleValue(r){return this.scale(r)}},l(e,"LinearAxis"),e)});function vU(e,t,r,i){let n=new mU(i);return gU(e)?new CIe(t,r,e.categories,e.title,n):new SIe(t,r,[e.min,e.max],e.title,n)}var RJe=B(()=>{"use strict";fU(),TIe(),IJe(),DJe(),l(vU,"getAxis")});function _Ie(e,t,r,i){let n=new mU(i);return new AIe(n,e,t,r)}var AIe,OJe=B(()=>{"use strict";var e;TIe(),AIe=(e=class{constructor(r,i,n,a){this.textDimensionCalculator=r,this.chartConfig=i,this.chartData=n,this.chartThemeConfig=a,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}setBoundingBoxXY(r){this.boundingRect.x=r.x,this.boundingRect.y=r.y}calculateSpace(r){let i=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),n=Math.max(i.width,r.width),a=i.height+2*this.chartConfig.titlePadding;return i.width<=n&&i.height<=a&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=n,this.boundingRect.height=a,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){let r=[];return this.showChartTitle&&r.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),r}},l(e,"ChartTitle"),e),l(_Ie,"getChartTitleComponent")}),LIe,PJe=B(()=>{"use strict";var e;gr(),LIe=(e=class{constructor(r,i,n,a,s){this.plotData=r,this.xAxis=i,this.yAxis=n,this.orientation=a,this.plotIndex=s}getDrawableElement(){let r=this.plotData.data.map(n=>[this.xAxis.getScaleValue(n[0]),this.yAxis.getScaleValue(n[1])]),i;return this.orientation==="horizontal"?i=mg().y(n=>n[0]).x(n=>n[1])(r):i=mg().x(n=>n[0]).y(n=>n[1])(r),i?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:i,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},l(e,"LinePlot"),e)}),NIe,BJe=B(()=>{"use strict";var e;NIe=(e=class{constructor(r,i,n,a,s,o){this.barData=r,this.boundingRect=i,this.xAxis=n,this.yAxis=a,this.orientation=s,this.plotIndex=o}getDrawableElement(){let r=this.barData.data.map(a=>[this.xAxis.getScaleValue(a[0]),this.yAxis.getScaleValue(a[1])]),i=Math.min(this.xAxis.getAxisOuterPadding()*2,this.xAxis.getTickDistance())*(1-.05),n=i/2;return this.orientation==="horizontal"?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:r.map(a=>({x:this.boundingRect.x,y:a[0]-n,height:i,width:a[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:r.map(a=>({x:a[0]-n,y:a[1],width:i,height:this.boundingRect.y+this.boundingRect.height-a[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill}))}]}},l(e,"BarPlot"),e)});function MIe(e,t,r){return new IIe(e,t,r)}var IIe,$Je=B(()=>{"use strict";var e;PJe(),BJe(),IIe=(e=class{constructor(r,i,n){this.chartConfig=r,this.chartData=i,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0}}setAxes(r,i){this.xAxis=r,this.yAxis=i}setBoundingBoxXY(r){this.boundingRect.x=r.x,this.boundingRect.y=r.y}calculateSpace(r){return this.boundingRect.width=r.width,this.boundingRect.height=r.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!(this.xAxis&&this.yAxis))throw Error("Axes must be passed to render Plots");let r=[];for(let[i,n]of this.chartData.plots.entries())switch(n.type){case"line":{let a=new LIe(n,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,i);r.push(...a.getDrawableElement())}break;case"bar":{let a=new NIe(n,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,i);r.push(...a.getDrawableElement())}break}return r}},l(e,"BasePlot"),e),l(MIe,"getPlotComponent")}),DIe,FJe=B(()=>{"use strict";var e;RJe(),OJe(),$Je(),fU(),DIe=(e=class{constructor(r,i,n,a){this.chartConfig=r,this.chartData=i,this.componentStore={title:_Ie(r,i,n,a),plot:MIe(r,i,n),xAxis:vU(i.xAxis,r.xAxis,{titleColor:n.xAxisTitleColor,labelColor:n.xAxisLabelColor,tickColor:n.xAxisTickColor,axisLineColor:n.xAxisLineColor},a),yAxis:vU(i.yAxis,r.yAxis,{titleColor:n.yAxisTitleColor,labelColor:n.yAxisLabelColor,tickColor:n.yAxisTickColor,axisLineColor:n.yAxisLineColor},a)}}calculateVerticalSpace(){let r=this.chartConfig.width,i=this.chartConfig.height,n=0,a=0,s=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(i*this.chartConfig.plotReservedSpacePercent/100),u=this.componentStore.plot.calculateSpace({width:s,height:o});r-=u.width,i-=u.height,u=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:i}),a=u.height,i-=u.height,this.componentStore.xAxis.setAxisPosition("bottom"),u=this.componentStore.xAxis.calculateSpace({width:r,height:i}),i-=u.height,this.componentStore.yAxis.setAxisPosition("left"),u=this.componentStore.yAxis.calculateSpace({width:r,height:i}),n=u.width,r-=u.width,r>0&&(s+=r,r=0),i>0&&(o+=i,i=0),this.componentStore.plot.calculateSpace({width:s,height:o}),this.componentStore.plot.setBoundingBoxXY({x:n,y:a}),this.componentStore.xAxis.setRange([n,n+s]),this.componentStore.xAxis.setBoundingBoxXY({x:n,y:a+o}),this.componentStore.yAxis.setRange([a,a+o]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:a}),this.chartData.plots.some(h=>pU(h))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let r=this.chartConfig.width,i=this.chartConfig.height,n=0,a=0,s=0,o=Math.floor(r*this.chartConfig.plotReservedSpacePercent/100),u=Math.floor(i*this.chartConfig.plotReservedSpacePercent/100),h=this.componentStore.plot.calculateSpace({width:o,height:u});r-=h.width,i-=h.height,h=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:i}),n=h.height,i-=h.height,this.componentStore.xAxis.setAxisPosition("left"),h=this.componentStore.xAxis.calculateSpace({width:r,height:i}),r-=h.width,a=h.width,this.componentStore.yAxis.setAxisPosition("top"),h=this.componentStore.yAxis.calculateSpace({width:r,height:i}),i-=h.height,s=n+h.height,r>0&&(o+=r,r=0),i>0&&(u+=i,i=0),this.componentStore.plot.calculateSpace({width:o,height:u}),this.componentStore.plot.setBoundingBoxXY({x:a,y:s}),this.componentStore.yAxis.setRange([a,a+o]),this.componentStore.yAxis.setBoundingBoxXY({x:a,y:n}),this.componentStore.xAxis.setRange([s,s+u]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:s}),this.chartData.plots.some(d=>pU(d))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){this.chartConfig.chartOrientation==="horizontal"?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();let r=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(let i of Object.values(this.componentStore))r.push(...i.getDrawableElements());return r}},l(e,"Orchestrator"),e)}),RIe,zJe=B(()=>{"use strict";var e;FJe(),RIe=(e=class{static build(r,i,n,a){return new DIe(r,i,n,a).getDrawableElement()}},l(e,"XYChartBuilder"),e)});function bU(){let e=nm(),t=_r();return Ea(e.xyChart,t.themeVariables.xyChart)}function xU(){let e=_r();return Ea(Tr.xyChart,e.xyChart)}function wU(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function e8(e){let t=_r();return Er(e.trim(),t)}function OIe(e){WIe=e}function PIe(e){e==="horizontal"?Nf.chartOrientation="horizontal":Nf.chartOrientation="vertical"}function BIe(e){jr.xAxis.title=e8(e.text)}function kU(e,t){jr.xAxis={type:"linear",title:jr.xAxis.title,min:e,max:t},_x=!0}function $Ie(e){jr.xAxis={type:"band",title:jr.xAxis.title,categories:e.map(t=>e8(t.text))},_x=!0}function FIe(e){jr.yAxis.title=e8(e.text)}function zIe(e,t){jr.yAxis={type:"linear",title:jr.yAxis.title,min:e,max:t},r8=!0}function GIe(e){let t=Math.min(...e),r=Math.max(...e),i=Af(jr.yAxis)?jr.yAxis.min:1/0,n=Af(jr.yAxis)?jr.yAxis.max:-1/0;jr.yAxis={type:"linear",title:jr.yAxis.title,min:Math.min(i,t),max:Math.max(n,r)}}function TU(e){let t=[];if(e.length===0)return t;if(!_x){let r=Af(jr.xAxis)?jr.xAxis.min:1/0,i=Af(jr.xAxis)?jr.xAxis.max:-1/0;kU(Math.min(r,1),Math.max(i,e.length))}if(r8||GIe(e),gU(jr.xAxis)&&(t=jr.xAxis.categories.map((r,i)=>[r,e[i]])),Af(jr.xAxis)){let r=jr.xAxis.min,i=jr.xAxis.max,n=(i-r)/(e.length-1),a=[];for(let s=r;s<=i;s+=n)a.push(`${s}`);t=a.map((s,o)=>[s,e[o]])}return t}function EU(e){return t8[e===0?0:e%t8.length]}function UIe(e,t){let r=TU(t);jr.plots.push({type:"line",strokeFill:EU(Lf),strokeWidth:2,data:r}),Lf++}function qIe(e,t){let r=TU(t);jr.plots.push({type:"bar",fill:EU(Lf),data:r}),Lf++}function jIe(){if(jr.plots.length===0)throw Error("No Plot to render, please provide a plot with some data");return jr.title=$i(),RIe.build(Nf,jr,Mf,WIe)}function HIe(){return Mf}function VIe(){return Nf}function YIe(){return jr}var Lf,WIe,Nf,Mf,jr,t8,_x,r8,XIe,KIe,GJe=B(()=>{"use strict";bi(),va(),d4(),Jt(),dr(),Fi(),zJe(),fU(),Lf=0,Nf=xU(),Mf=bU(),jr=wU(),t8=Mf.plotColorPalette.split(",").map(e=>e.trim()),_x=!1,r8=!1,l(bU,"getChartDefaultThemeConfig"),l(xU,"getChartDefaultConfig"),l(wU,"getChartDefaultData"),l(e8,"textSanitizer"),l(OIe,"setTmpSVGG"),l(PIe,"setOrientation"),l(BIe,"setXAxisTitle"),l(kU,"setXAxisRangeData"),l($Ie,"setXAxisBand"),l(FIe,"setYAxisTitle"),l(zIe,"setYAxisRangeData"),l(GIe,"setYAxisRangeFromPlotData"),l(TU,"transformDataWithoutCategory"),l(EU,"getPlotColorFromPalette"),l(UIe,"setLineData"),l(qIe,"setBarData"),l(jIe,"getDrawableElem"),l(HIe,"getChartThemeConfig"),l(VIe,"getChartConfig"),l(YIe,"getXYChartData"),XIe=l(function(){Pi(),Lf=0,Nf=xU(),jr=wU(),Mf=bU(),t8=Mf.plotColorPalette.split(",").map(e=>e.trim()),_x=!1,r8=!1},"clear"),KIe={getDrawableElem:jIe,clear:XIe,setAccTitle:Bi,getAccTitle:Wi,setDiagramTitle:gn,getDiagramTitle:$i,getAccDescription:Ki,setAccDescription:Xi,setOrientation:PIe,setXAxisTitle:BIe,setXAxisRangeData:kU,setXAxisBand:$Ie,setYAxisTitle:FIe,setYAxisRangeData:zIe,setLineData:UIe,setBarData:qIe,setTmpSVGG:OIe,getChartThemeConfig:HIe,getChartConfig:VIe,getXYChartData:YIe}}),ZIe,QIe,UJe=B(()=>{"use strict";lt(),au(),pn(),ZIe=l((e,t,r,i)=>{let n=i.db,a=n.getChartThemeConfig(),s=n.getChartConfig(),o=n.getXYChartData().plots[0].data.map(S=>S[1]);function u(S){return S==="top"?"text-before-edge":"middle"}l(u,"getDominantBaseLine");function h(S){return S==="left"?"start":S==="right"?"end":"middle"}l(h,"getTextAnchor");function d(S){return`translate(${S.x}, ${S.y}) rotate(${S.rotation||0})`}l(d,"getTextTransformation"),ae.debug(`Rendering xychart chart
`+e);let p=Gl(t),g=p.append("g").attr("class","main"),f=g.append("rect").attr("width",s.width).attr("height",s.height).attr("class","background");ta(p,s.height,s.width,!0),p.attr("viewBox",`0 0 ${s.width} ${s.height}`),f.attr("fill",a.backgroundColor),n.setTmpSVGG(p.append("g").attr("class","mermaid-tmp-group"));let m=n.getDrawableElem(),x={};function T(S){let L=g,b="";for(let[y]of S.entries()){let v=g;y>0&&x[b]&&(v=x[b]),b+=S[y],L=x[b],L||(L=x[b]=v.append("g").attr("class",S[y]))}return L}l(T,"getGroup");for(let S of m){if(S.data.length===0)continue;let L=T(S.groupTexts);switch(S.type){case"rect":if(L.selectAll("rect").data(S.data).enter().append("rect").attr("x",b=>b.x).attr("y",b=>b.y).attr("width",b=>b.width).attr("height",b=>b.height).attr("fill",b=>b.fill).attr("stroke",b=>b.strokeFill).attr("stroke-width",b=>b.strokeWidth),s.showDataLabel)if(s.chartOrientation==="horizontal"){let b=function(A,M){let{data:N,label:O}=A;return M*O.length*.7<=N.width-10};var k=b;l(b,"fitsHorizontally");let y=.7,v=S.data.map((A,M)=>({data:A,label:o[M].toString()})).filter(A=>A.data.width>0&&A.data.height>0),w=v.map(A=>{let{data:M}=A,N=M.height*.7;for(;!b(A,N)&&N>0;)N-=1;return N}),C=Math.floor(Math.min(...w));L.selectAll("text").data(v).enter().append("text").attr("x",A=>A.data.x+A.data.width-10).attr("y",A=>A.data.y+A.data.height/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("fill","black").attr("font-size",`${C}px`).text(A=>A.label)}else{let b=function(A,M,N){let{data:O,label:_}=A,I=M*_.length*.7,R=O.x+O.width/2,P=R-I/2,D=R+I/2,$=P>=O.x&&D<=O.x+O.width,F=O.y+N+M<=O.y+O.height;return $&&F};var E=b;l(b,"fitsInBar");let y=10,v=S.data.map((A,M)=>({data:A,label:o[M].toString()})).filter(A=>A.data.width>0&&A.data.height>0),w=v.map(A=>{let{data:M,label:N}=A,O=M.width/(N.length*.7);for(;!b(A,O,10)&&O>0;)O-=1;return O}),C=Math.floor(Math.min(...w));L.selectAll("text").data(v).enter().append("text").attr("x",A=>A.data.x+A.data.width/2).attr("y",A=>A.data.y+10).attr("text-anchor","middle").attr("dominant-baseline","hanging").attr("fill","black").attr("font-size",`${C}px`).text(A=>A.label)}break;case"text":L.selectAll("text").data(S.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",b=>b.fill).attr("font-size",b=>b.fontSize).attr("dominant-baseline",b=>u(b.verticalPos)).attr("text-anchor",b=>h(b.horizontalPos)).attr("transform",b=>d(b)).text(b=>b.text);break;case"path":L.selectAll("path").data(S.data).enter().append("path").attr("d",b=>b.path).attr("fill",b=>b.fill?b.fill:"none").attr("stroke",b=>b.strokeFill).attr("stroke-width",b=>b.strokeWidth);break}}},"draw"),QIe={draw:ZIe}}),JIe={};nr(JIe,{diagram:()=>eDe});var eDe,qJe=B(()=>{"use strict";MJe(),GJe(),UJe(),eDe={parser:kIe,db:KIe,renderer:QIe}}),i8,tDe,jJe=B(()=>{"use strict";i8=(function(){var e=l(function(Ve,ee,Ie,G){for(Ie=Ie||{},G=Ve.length;G--;Ie[Ve[G]]=ee);return Ie},"o"),t=[1,3],r=[1,4],i=[1,5],n=[1,6],a=[5,6,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],s=[1,22],o=[2,7],u=[1,26],h=[1,27],d=[1,28],p=[1,29],g=[1,33],f=[1,34],m=[1,35],x=[1,36],T=[1,37],k=[1,38],E=[1,24],S=[1,31],L=[1,32],b=[1,30],y=[1,39],v=[1,40],w=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,77,89,90],C=[1,61],A=[89,90],M=[5,8,9,11,13,21,22,23,24,27,29,41,42,43,44,45,46,54,61,63,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],N=[27,29],O=[1,70],_=[1,71],I=[1,72],R=[1,73],P=[1,74],D=[1,75],$=[1,76],F=[1,83],z=[1,80],U=[1,84],j=[1,85],H=[1,86],Q=[1,87],re=[1,88],le=[1,89],oe=[1,90],W=[1,91],J=[1,92],Y=[5,8,9,11,13,21,22,23,24,27,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],X=[63,64],te=[1,101],ce=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,76,77,89,90],K=[5,8,9,11,13,21,22,23,24,41,42,43,44,45,46,54,72,74,75,76,77,80,81,82,83,84,85,86,87,88,89,90],me=[1,110],Z=[1,106],Ae=[1,107],he=[1,108],Ne=[1,109],Pe=[1,111],He=[1,116],qe=[1,117],_e=[1,114],De=[1,115],ve={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,direction:17,styleStatement:18,classDefStatement:19,classStatement:20,direction_tb:21,direction_bt:22,direction_rl:23,direction_lr:24,requirementType:25,requirementName:26,STRUCT_START:27,requirementBody:28,STYLE_SEPARATOR:29,idList:30,ID:31,COLONSEP:32,id:33,TEXT:34,text:35,RISK:36,riskLevel:37,VERIFYMTHD:38,verifyType:39,STRUCT_STOP:40,REQUIREMENT:41,FUNCTIONAL_REQUIREMENT:42,INTERFACE_REQUIREMENT:43,PERFORMANCE_REQUIREMENT:44,PHYSICAL_REQUIREMENT:45,DESIGN_CONSTRAINT:46,LOW_RISK:47,MED_RISK:48,HIGH_RISK:49,VERIFY_ANALYSIS:50,VERIFY_DEMONSTRATION:51,VERIFY_INSPECTION:52,VERIFY_TEST:53,ELEMENT:54,elementName:55,elementBody:56,TYPE:57,type:58,DOCREF:59,ref:60,END_ARROW_L:61,relationship:62,LINE:63,END_ARROW_R:64,CONTAINS:65,COPIES:66,DERIVES:67,SATISFIES:68,VERIFIES:69,REFINES:70,TRACES:71,CLASSDEF:72,stylesOpt:73,CLASS:74,ALPHA:75,COMMA:76,STYLE:77,style:78,styleComponent:79,NUM:80,COLON:81,UNIT:82,SPACE:83,BRKT:84,PCT:85,MINUS:86,LABEL:87,SEMICOLON:88,unqString:89,qString:90,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",21:"direction_tb",22:"direction_bt",23:"direction_rl",24:"direction_lr",27:"STRUCT_START",29:"STYLE_SEPARATOR",31:"ID",32:"COLONSEP",34:"TEXT",36:"RISK",38:"VERIFYMTHD",40:"STRUCT_STOP",41:"REQUIREMENT",42:"FUNCTIONAL_REQUIREMENT",43:"INTERFACE_REQUIREMENT",44:"PERFORMANCE_REQUIREMENT",45:"PHYSICAL_REQUIREMENT",46:"DESIGN_CONSTRAINT",47:"LOW_RISK",48:"MED_RISK",49:"HIGH_RISK",50:"VERIFY_ANALYSIS",51:"VERIFY_DEMONSTRATION",52:"VERIFY_INSPECTION",53:"VERIFY_TEST",54:"ELEMENT",57:"TYPE",59:"DOCREF",61:"END_ARROW_L",63:"LINE",64:"END_ARROW_R",65:"CONTAINS",66:"COPIES",67:"DERIVES",68:"SATISFIES",69:"VERIFIES",70:"REFINES",71:"TRACES",72:"CLASSDEF",74:"CLASS",75:"ALPHA",76:"COMMA",77:"STYLE",80:"NUM",81:"COLON",82:"UNIT",83:"SPACE",84:"BRKT",85:"PCT",86:"MINUS",87:"LABEL",88:"SEMICOLON",89:"unqString",90:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[17,1],[17,1],[17,1],[17,1],[14,5],[14,7],[28,5],[28,5],[28,5],[28,5],[28,2],[28,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[37,1],[37,1],[37,1],[39,1],[39,1],[39,1],[39,1],[15,5],[15,7],[56,5],[56,5],[56,2],[56,1],[16,5],[16,5],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[62,1],[19,3],[20,3],[20,3],[30,1],[30,3],[30,1],[30,3],[18,3],[73,1],[73,3],[78,1],[78,2],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[79,1],[26,1],[26,1],[33,1],[33,1],[35,1],[35,1],[55,1],[55,1],[58,1],[58,1],[60,1],[60,1]],performAction:l(function(Ve,ee,Ie,G,ie,se,pe){var fe=se.length-1;switch(ie){case 4:this.$=se[fe].trim(),G.setAccTitle(this.$);break;case 5:case 6:this.$=se[fe].trim(),G.setAccDescription(this.$);break;case 7:this.$=[];break;case 17:G.setDirection("TB");break;case 18:G.setDirection("BT");break;case 19:G.setDirection("RL");break;case 20:G.setDirection("LR");break;case 21:G.addRequirement(se[fe-3],se[fe-4]);break;case 22:G.addRequirement(se[fe-5],se[fe-6]),G.setClass([se[fe-5]],se[fe-3]);break;case 23:G.setNewReqId(se[fe-2]);break;case 24:G.setNewReqText(se[fe-2]);break;case 25:G.setNewReqRisk(se[fe-2]);break;case 26:G.setNewReqVerifyMethod(se[fe-2]);break;case 29:this.$=G.RequirementType.REQUIREMENT;break;case 30:this.$=G.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 31:this.$=G.RequirementType.INTERFACE_REQUIREMENT;break;case 32:this.$=G.RequirementType.PERFORMANCE_REQUIREMENT;break;case 33:this.$=G.RequirementType.PHYSICAL_REQUIREMENT;break;case 34:this.$=G.RequirementType.DESIGN_CONSTRAINT;break;case 35:this.$=G.RiskLevel.LOW_RISK;break;case 36:this.$=G.RiskLevel.MED_RISK;break;case 37:this.$=G.RiskLevel.HIGH_RISK;break;case 38:this.$=G.VerifyType.VERIFY_ANALYSIS;break;case 39:this.$=G.VerifyType.VERIFY_DEMONSTRATION;break;case 40:this.$=G.VerifyType.VERIFY_INSPECTION;break;case 41:this.$=G.VerifyType.VERIFY_TEST;break;case 42:G.addElement(se[fe-3]);break;case 43:G.addElement(se[fe-5]),G.setClass([se[fe-5]],se[fe-3]);break;case 44:G.setNewElementType(se[fe-2]);break;case 45:G.setNewElementDocRef(se[fe-2]);break;case 48:G.addRelationship(se[fe-2],se[fe],se[fe-4]);break;case 49:G.addRelationship(se[fe-2],se[fe-4],se[fe]);break;case 50:this.$=G.Relationships.CONTAINS;break;case 51:this.$=G.Relationships.COPIES;break;case 52:this.$=G.Relationships.DERIVES;break;case 53:this.$=G.Relationships.SATISFIES;break;case 54:this.$=G.Relationships.VERIFIES;break;case 55:this.$=G.Relationships.REFINES;break;case 56:this.$=G.Relationships.TRACES;break;case 57:this.$=se[fe-2],G.defineClass(se[fe-1],se[fe]);break;case 58:G.setClass(se[fe-1],se[fe]);break;case 59:G.setClass([se[fe-2]],se[fe]);break;case 60:case 62:this.$=[se[fe]];break;case 61:case 63:this.$=se[fe-2].concat([se[fe]]);break;case 64:this.$=se[fe-2],G.setCssStyle(se[fe-1],se[fe]);break;case 65:this.$=[se[fe]];break;case 66:se[fe-2].push(se[fe]),this.$=se[fe-2];break;case 68:this.$=se[fe-1]+se[fe];break}},"anonymous"),table:[{3:1,4:2,6:t,9:r,11:i,13:n},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:i,13:n},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(a,[2,6]),{3:12,4:2,6:t,9:r,11:i,13:n},{1:[2,2]},{4:17,5:s,7:13,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},e(a,[2,4]),e(a,[2,5]),{1:[2,1]},{8:[1,41]},{4:17,5:s,7:42,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:43,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:44,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:45,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:46,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:47,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:48,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:49,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{4:17,5:s,7:50,8:o,9:r,11:i,13:n,14:14,15:15,16:16,17:18,18:19,19:20,20:21,21:u,22:h,23:d,24:p,25:23,33:25,41:g,42:f,43:m,44:x,45:T,46:k,54:E,72:S,74:L,77:b,89:y,90:v},{26:51,89:[1,52],90:[1,53]},{55:54,89:[1,55],90:[1,56]},{29:[1,59],61:[1,57],63:[1,58]},e(w,[2,17]),e(w,[2,18]),e(w,[2,19]),e(w,[2,20]),{30:60,33:62,75:C,89:y,90:v},{30:63,33:62,75:C,89:y,90:v},{30:64,33:62,75:C,89:y,90:v},e(A,[2,29]),e(A,[2,30]),e(A,[2,31]),e(A,[2,32]),e(A,[2,33]),e(A,[2,34]),e(M,[2,81]),e(M,[2,82]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{8:[2,13]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{27:[1,65],29:[1,66]},e(N,[2,79]),e(N,[2,80]),{27:[1,67],29:[1,68]},e(N,[2,85]),e(N,[2,86]),{62:69,65:O,66:_,67:I,68:R,69:P,70:D,71:$},{62:77,65:O,66:_,67:I,68:R,69:P,70:D,71:$},{30:78,33:62,75:C,89:y,90:v},{73:79,75:F,76:z,78:81,79:82,80:U,81:j,82:H,83:Q,84:re,85:le,86:oe,87:W,88:J},e(Y,[2,60]),e(Y,[2,62]),{73:93,75:F,76:z,78:81,79:82,80:U,81:j,82:H,83:Q,84:re,85:le,86:oe,87:W,88:J},{30:94,33:62,75:C,76:z,89:y,90:v},{5:[1,95]},{30:96,33:62,75:C,89:y,90:v},{5:[1,97]},{30:98,33:62,75:C,89:y,90:v},{63:[1,99]},e(X,[2,50]),e(X,[2,51]),e(X,[2,52]),e(X,[2,53]),e(X,[2,54]),e(X,[2,55]),e(X,[2,56]),{64:[1,100]},e(w,[2,59],{76:z}),e(w,[2,64],{76:te}),{33:103,75:[1,102],89:y,90:v},e(ce,[2,65],{79:104,75:F,80:U,81:j,82:H,83:Q,84:re,85:le,86:oe,87:W,88:J}),e(K,[2,67]),e(K,[2,69]),e(K,[2,70]),e(K,[2,71]),e(K,[2,72]),e(K,[2,73]),e(K,[2,74]),e(K,[2,75]),e(K,[2,76]),e(K,[2,77]),e(K,[2,78]),e(w,[2,57],{76:te}),e(w,[2,58],{76:z}),{5:me,28:105,31:Z,34:Ae,36:he,38:Ne,40:Pe},{27:[1,112],76:z},{5:He,40:qe,56:113,57:_e,59:De},{27:[1,118],76:z},{33:119,89:y,90:v},{33:120,89:y,90:v},{75:F,78:121,79:82,80:U,81:j,82:H,83:Q,84:re,85:le,86:oe,87:W,88:J},e(Y,[2,61]),e(Y,[2,63]),e(K,[2,68]),e(w,[2,21]),{32:[1,122]},{32:[1,123]},{32:[1,124]},{32:[1,125]},{5:me,28:126,31:Z,34:Ae,36:he,38:Ne,40:Pe},e(w,[2,28]),{5:[1,127]},e(w,[2,42]),{32:[1,128]},{32:[1,129]},{5:He,40:qe,56:130,57:_e,59:De},e(w,[2,47]),{5:[1,131]},e(w,[2,48]),e(w,[2,49]),e(ce,[2,66],{79:104,75:F,80:U,81:j,82:H,83:Q,84:re,85:le,86:oe,87:W,88:J}),{33:132,89:y,90:v},{35:133,89:[1,134],90:[1,135]},{37:136,47:[1,137],48:[1,138],49:[1,139]},{39:140,50:[1,141],51:[1,142],52:[1,143],53:[1,144]},e(w,[2,27]),{5:me,28:145,31:Z,34:Ae,36:he,38:Ne,40:Pe},{58:146,89:[1,147],90:[1,148]},{60:149,89:[1,150],90:[1,151]},e(w,[2,46]),{5:He,40:qe,56:152,57:_e,59:De},{5:[1,153]},{5:[1,154]},{5:[2,83]},{5:[2,84]},{5:[1,155]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[1,156]},{5:[2,38]},{5:[2,39]},{5:[2,40]},{5:[2,41]},e(w,[2,22]),{5:[1,157]},{5:[2,87]},{5:[2,88]},{5:[1,158]},{5:[2,89]},{5:[2,90]},e(w,[2,43]),{5:me,28:159,31:Z,34:Ae,36:he,38:Ne,40:Pe},{5:me,28:160,31:Z,34:Ae,36:he,38:Ne,40:Pe},{5:me,28:161,31:Z,34:Ae,36:he,38:Ne,40:Pe},{5:me,28:162,31:Z,34:Ae,36:he,38:Ne,40:Pe},{5:He,40:qe,56:163,57:_e,59:De},{5:He,40:qe,56:164,57:_e,59:De},e(w,[2,23]),e(w,[2,24]),e(w,[2,25]),e(w,[2,26]),e(w,[2,44]),e(w,[2,45])],defaultActions:{8:[2,2],12:[2,1],41:[2,3],42:[2,8],43:[2,9],44:[2,10],45:[2,11],46:[2,12],47:[2,13],48:[2,14],49:[2,15],50:[2,16],134:[2,83],135:[2,84],137:[2,35],138:[2,36],139:[2,37],141:[2,38],142:[2,39],143:[2,40],144:[2,41],147:[2,87],148:[2,88],150:[2,89],151:[2,90]},parseError:l(function(Ve,ee){if(ee.recoverable)this.trace(Ve);else{var Ie=new Error(Ve);throw Ie.hash=ee,Ie}},"parseError"),parse:l(function(Ve){var ee=this,Ie=[0],G=[],ie=[null],se=[],pe=this.table,fe="",be=0,Se=0,Te=0,Ge=2,Ye=1,st=se.slice.call(arguments,1),ze=Object.create(this.lexer),We={yy:{}};for(var je in this.yy)Object.prototype.hasOwnProperty.call(this.yy,je)&&(We.yy[je]=this.yy[je]);ze.setInput(Ve,We.yy),We.yy.lexer=ze,We.yy.parser=this,typeof ze.yylloc>"u"&&(ze.yylloc={});var Ue=ze.yylloc;se.push(Ue);var Ke=ze.options&&ze.options.ranges;typeof We.yy.parseError=="function"?this.parseError=We.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Et(tr){Ie.length=Ie.length-2*tr,ie.length=ie.length-tr,se.length=se.length-tr}l(Et,"popStack");function ht(){var tr;return tr=G.pop()||ze.lex()||Ye,typeof tr!="number"&&(tr instanceof Array&&(G=tr,tr=G.pop()),tr=ee.symbols_[tr]||tr),tr}l(ht,"lex");for(var ct,St,rt,gt,yt,Je,Qe={},Lt,Vt,$t,Kr;;){if(rt=Ie[Ie.length-1],this.defaultActions[rt]?gt=this.defaultActions[rt]:((ct===null||typeof ct>"u")&&(ct=ht()),gt=pe[rt]&&pe[rt][ct]),typeof gt>"u"||!gt.length||!gt[0]){var ur="";Kr=[];for(Lt in pe[rt])this.terminals_[Lt]&&Lt>Ge&&Kr.push("'"+this.terminals_[Lt]+"'");ze.showPosition?ur="Parse error on line "+(be+1)+`:
`+ze.showPosition()+`
Expecting `+Kr.join(", ")+", got '"+(this.terminals_[ct]||ct)+"'":ur="Parse error on line "+(be+1)+": Unexpected "+(ct==Ye?"end of input":"'"+(this.terminals_[ct]||ct)+"'"),this.parseError(ur,{text:ze.match,token:this.terminals_[ct]||ct,line:ze.yylineno,loc:Ue,expected:Kr})}if(gt[0]instanceof Array&&gt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+rt+", token: "+ct);switch(gt[0]){case 1:Ie.push(ct),ie.push(ze.yytext),se.push(ze.yylloc),Ie.push(gt[1]),ct=null,St?(ct=St,St=null):(Se=ze.yyleng,fe=ze.yytext,be=ze.yylineno,Ue=ze.yylloc,Te>0&&Te--);break;case 2:if(Vt=this.productions_[gt[1]][1],Qe.$=ie[ie.length-Vt],Qe._$={first_line:se[se.length-(Vt||1)].first_line,last_line:se[se.length-1].last_line,first_column:se[se.length-(Vt||1)].first_column,last_column:se[se.length-1].last_column},Ke&&(Qe._$.range=[se[se.length-(Vt||1)].range[0],se[se.length-1].range[1]]),Je=this.performAction.apply(Qe,[fe,Se,be,We.yy,gt[1],ie,se].concat(st)),typeof Je<"u")return Je;Vt&&(Ie=Ie.slice(0,-1*Vt*2),ie=ie.slice(0,-1*Vt),se=se.slice(0,-1*Vt)),Ie.push(this.productions_[gt[1]][0]),ie.push(Qe.$),se.push(Qe._$),$t=pe[Ie[Ie.length-2]][Ie[Ie.length-1]],Ie.push($t);break;case 3:return!0}}return!0},"parse")},Be=(function(){var Ve={EOF:1,parseError:l(function(ee,Ie){if(this.yy.parser)this.yy.parser.parseError(ee,Ie);else throw new Error(ee)},"parseError"),setInput:l(function(ee,Ie){return this.yy=Ie||this.yy||{},this._input=ee,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var ee=this._input[0];this.yytext+=ee,this.yyleng++,this.offset++,this.match+=ee,this.matched+=ee;var Ie=ee.match(/(?:\r\n?|\n).*/g);return Ie?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ee},"input"),unput:l(function(ee){var Ie=ee.length,G=ee.split(/(?:\r\n?|\n)/g);this._input=ee+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ie),this.offset-=Ie;var ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),G.length-1&&(this.yylineno-=G.length-1);var se=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:G?(G.length===ie.length?this.yylloc.first_column:0)+ie[ie.length-G.length].length-G[0].length:this.yylloc.first_column-Ie},this.options.ranges&&(this.yylloc.range=[se[0],se[0]+this.yyleng-Ie]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(ee){this.unput(this.match.slice(ee))},"less"),pastInput:l(function(){var ee=this.matched.substr(0,this.matched.length-this.match.length);return(ee.length>20?"...":"")+ee.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var ee=this.match;return ee.length<20&&(ee+=this._input.substr(0,20-ee.length)),(ee.substr(0,20)+(ee.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var ee=this.pastInput(),Ie=new Array(ee.length+1).join("-");return ee+this.upcomingInput()+`
`+Ie+"^"},"showPosition"),test_match:l(function(ee,Ie){var G,ie,se;if(this.options.backtrack_lexer&&(se={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(se.yylloc.range=this.yylloc.range.slice(0))),ie=ee[0].match(/(?:\r\n?|\n).*/g),ie&&(this.yylineno+=ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ie?ie[ie.length-1].length-ie[ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ee[0].length},this.yytext+=ee[0],this.match+=ee[0],this.matches=ee,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ee[0].length),this.matched+=ee[0],G=this.performAction.call(this,this.yy,this,Ie,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),G)return G;if(this._backtrack){for(var pe in se)this[pe]=se[pe];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ee,Ie,G,ie;this._more||(this.yytext="",this.match="");for(var se=this._currentRules(),pe=0;pe<se.length;pe++)if(G=this._input.match(this.rules[se[pe]]),G&&(!Ie||G[0].length>Ie[0].length)){if(Ie=G,ie=pe,this.options.backtrack_lexer){if(ee=this.test_match(G,se[pe]),ee!==!1)return ee;if(this._backtrack){Ie=!1;continue}else return!1}else if(!this.options.flex)break}return Ie?(ee=this.test_match(Ie,se[ie]),ee!==!1?ee:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var ee=this.next();return ee||this.lex()},"lex"),begin:l(function(ee){this.conditionStack.push(ee)},"begin"),popState:l(function(){var ee=this.conditionStack.length-1;return ee>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(ee){return ee=this.conditionStack.length-1-Math.abs(ee||0),ee>=0?this.conditionStack[ee]:"INITIAL"},"topState"),pushState:l(function(ee){this.begin(ee)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(ee,Ie,G,ie){var se=ie;switch(G){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 21;case 9:return 22;case 10:return 23;case 11:return 24;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:return 8;case 17:return 6;case 18:return 27;case 19:return 40;case 20:return 29;case 21:return 32;case 22:return 31;case 23:return 34;case 24:return 36;case 25:return 38;case 26:return 41;case 27:return 42;case 28:return 43;case 29:return 44;case 30:return 45;case 31:return 46;case 32:return 47;case 33:return 48;case 34:return 49;case 35:return 50;case 36:return 51;case 37:return 52;case 38:return 53;case 39:return 54;case 40:return 65;case 41:return 66;case 42:return 67;case 43:return 68;case 44:return 69;case 45:return 70;case 46:return 71;case 47:return 57;case 48:return 59;case 49:return this.begin("style"),77;case 50:return 75;case 51:return 81;case 52:return 88;case 53:return"PERCENT";case 54:return 86;case 55:return 84;case 56:break;case 57:this.begin("string");break;case 58:this.popState();break;case 59:return this.begin("style"),72;case 60:return this.begin("style"),74;case 61:return 61;case 62:return 64;case 63:return 63;case 64:this.begin("string");break;case 65:this.popState();break;case 66:return"qString";case 67:return Ie.yytext=Ie.yytext.trim(),89;case 68:return 75;case 69:return 80;case 70:return 76}},"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::{3})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:style\b)/i,/^(?:\w+)/i,/^(?::)/i,/^(?:;)/i,/^(?:%)/i,/^(?:-)/i,/^(?:#)/i,/^(?: )/i,/^(?:["])/i,/^(?:\n)/i,/^(?:classDef\b)/i,/^(?:class\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^:,\r\n\{\<\>\-\=]*)/i,/^(?:\w+)/i,/^(?:[0-9]+)/i,/^(?:,)/i],conditions:{acc_descr_multiline:{rules:[6,7,68,69,70],inclusive:!1},acc_descr:{rules:[4,68,69,70],inclusive:!1},acc_title:{rules:[2,68,69,70],inclusive:!1},style:{rules:[50,51,52,53,54,55,56,57,58,68,69,70],inclusive:!1},unqString:{rules:[68,69,70],inclusive:!1},token:{rules:[68,69,70],inclusive:!1},string:{rules:[65,66,68,69,70],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,59,60,61,62,63,64,67,68,69,70],inclusive:!0}}};return Ve})();ve.lexer=Be;function de(){this.yy={}}return l(de,"Parser"),de.prototype=ve,ve.Parser=de,new de})(),i8.parser=i8,tDe=i8}),rDe,HJe=B(()=>{"use strict";var e;qt(),lt(),Fi(),rDe=(e=class{constructor(){this.relations=[],this.latestRequirement=this.getInitialRequirement(),this.requirements=new Map,this.latestElement=this.getInitialElement(),this.elements=new Map,this.classes=new Map,this.direction="TB",this.RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},this.RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},this.VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},this.Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},this.setAccTitle=Bi,this.getAccTitle=Wi,this.setAccDescription=Xi,this.getAccDescription=Ki,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getConfig=l(()=>Ce().requirement,"getConfig"),this.clear(),this.setDirection=this.setDirection.bind(this),this.addRequirement=this.addRequirement.bind(this),this.setNewReqId=this.setNewReqId.bind(this),this.setNewReqRisk=this.setNewReqRisk.bind(this),this.setNewReqText=this.setNewReqText.bind(this),this.setNewReqVerifyMethod=this.setNewReqVerifyMethod.bind(this),this.addElement=this.addElement.bind(this),this.setNewElementType=this.setNewElementType.bind(this),this.setNewElementDocRef=this.setNewElementDocRef.bind(this),this.addRelationship=this.addRelationship.bind(this),this.setCssStyle=this.setCssStyle.bind(this),this.setClass=this.setClass.bind(this),this.defineClass=this.defineClass.bind(this),this.setAccTitle=this.setAccTitle.bind(this),this.setAccDescription=this.setAccDescription.bind(this)}getDirection(){return this.direction}setDirection(r){this.direction=r}resetLatestRequirement(){this.latestRequirement=this.getInitialRequirement()}resetLatestElement(){this.latestElement=this.getInitialElement()}getInitialRequirement(){return{requirementId:"",text:"",risk:"",verifyMethod:"",name:"",type:"",cssStyles:[],classes:["default"]}}getInitialElement(){return{name:"",type:"",docRef:"",cssStyles:[],classes:["default"]}}addRequirement(r,i){return this.requirements.has(r)||this.requirements.set(r,{name:r,type:i,requirementId:this.latestRequirement.requirementId,text:this.latestRequirement.text,risk:this.latestRequirement.risk,verifyMethod:this.latestRequirement.verifyMethod,cssStyles:[],classes:["default"]}),this.resetLatestRequirement(),this.requirements.get(r)}getRequirements(){return this.requirements}setNewReqId(r){this.latestRequirement!==void 0&&(this.latestRequirement.requirementId=r)}setNewReqText(r){this.latestRequirement!==void 0&&(this.latestRequirement.text=r)}setNewReqRisk(r){this.latestRequirement!==void 0&&(this.latestRequirement.risk=r)}setNewReqVerifyMethod(r){this.latestRequirement!==void 0&&(this.latestRequirement.verifyMethod=r)}addElement(r){return this.elements.has(r)||(this.elements.set(r,{name:r,type:this.latestElement.type,docRef:this.latestElement.docRef,cssStyles:[],classes:["default"]}),ae.info("Added new element: ",r)),this.resetLatestElement(),this.elements.get(r)}getElements(){return this.elements}setNewElementType(r){this.latestElement!==void 0&&(this.latestElement.type=r)}setNewElementDocRef(r){this.latestElement!==void 0&&(this.latestElement.docRef=r)}addRelationship(r,i,n){this.relations.push({type:r,src:i,dst:n})}getRelationships(){return this.relations}clear(){this.relations=[],this.resetLatestRequirement(),this.requirements=new Map,this.resetLatestElement(),this.elements=new Map,this.classes=new Map,Pi()}setCssStyle(r,i){var n;for(let a of r){let s=(n=this.requirements.get(a))!=null?n:this.elements.get(a);if(!i||!s)return;for(let o of i)o.includes(",")?s.cssStyles.push(...o.split(",")):s.cssStyles.push(o)}}setClass(r,i){var n,a;for(let s of r){let o=(n=this.requirements.get(s))!=null?n:this.elements.get(s);if(o)for(let u of i){o.classes.push(u);let h=(a=this.classes.get(u))==null?void 0:a.styles;h&&o.cssStyles.push(...h)}}}defineClass(r,i){for(let n of r){let a=this.classes.get(n);a===void 0&&(a={id:n,styles:[],textStyles:[]},this.classes.set(n,a)),i&&i.forEach(function(s){if(/color/.exec(s)){let o=s.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(s)}),this.requirements.forEach(s=>{s.classes.includes(n)&&s.cssStyles.push(...i.flatMap(o=>o.split(",")))}),this.elements.forEach(s=>{s.classes.includes(n)&&s.cssStyles.push(...i.flatMap(o=>o.split(",")))})}}getClasses(){return this.classes}getData(){var a,s,o,u,h,d;let r=Ce(),i=[],n=[];for(let p of this.requirements.values()){let g=p;g.id=p.name,g.cssStyles=p.cssStyles,g.cssClasses=p.classes.join(" "),g.shape="requirementBox",g.look=r.look,i.push(g)}for(let p of this.elements.values()){let g=p;g.shape="requirementBox",g.look=r.look,g.id=p.name,g.cssStyles=p.cssStyles,g.cssClasses=p.classes.join(" "),i.push(g)}for(let p of this.relations){let g=0,f=p.type===this.Relationships.CONTAINS,m={id:`${p.src}-${p.dst}-${g}`,start:(o=(a=this.requirements.get(p.src))==null?void 0:a.name)!=null?o:(s=this.elements.get(p.src))==null?void 0:s.name,end:(d=(u=this.requirements.get(p.dst))==null?void 0:u.name)!=null?d:(h=this.elements.get(p.dst))==null?void 0:h.name,label:`&lt;&lt;${p.type}&gt;&gt;`,classes:"relationshipLine",style:["fill:none",f?"":"stroke-dasharray: 10,7"],labelpos:"c",thickness:"normal",type:"normal",pattern:f?"normal":"dashed",arrowTypeStart:f?"requirement_contains":"",arrowTypeEnd:f?"":"requirement_arrow",look:r.look};n.push(m),g++}return{nodes:i,edges:n,other:{},config:r,direction:this.getDirection()}}},l(e,"RequirementDB"),e)}),iDe,nDe,VJe=B(()=>{"use strict";iDe=l(e=>`

  marker {
    fill: ${e.relationColor};
    stroke: ${e.relationColor};
  }

  marker.cross {
    stroke: ${e.lineColor};
  }

  svg {
    font-family: ${e.fontFamily};
    font-size: ${e.fontSize};
  }

  .reqBox {
    fill: ${e.requirementBackground};
    fill-opacity: 1.0;
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${e.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${e.relationLabelBackground};
    fill-opacity: 1.0;
  }

  .req-title-line {
    stroke: ${e.requirementBorderColor};
    stroke-width: ${e.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${e.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${e.relationLabelColor};
  }
  .divider {
    stroke: ${e.nodeBorder};
    stroke-width: 1;
  }
  .label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .label text,span {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }
  .labelBkg {
    background-color: ${e.edgeLabelBackground};
  }

`,"getStyles"),nDe=iDe}),aDe={};nr(aDe,{draw:()=>sDe});var sDe,YJe=B(()=>{"use strict";qt(),lt(),Vg(),a0(),s0(),Jt(),sDe=l(function(e,t,r,i){return xe(this,null,function*(){var d,p,g,f;ae.info("REF0:"),ae.info("Drawing requirement diagram (unified)",t);let{securityLevel:n,state:a,layout:s}=Ce(),o=i.db.getData(),u=Sd(t,n);o.type=i.type,o.layoutAlgorithm=z1(s),o.nodeSpacing=(d=a==null?void 0:a.nodeSpacing)!=null?d:50,o.rankSpacing=(p=a==null?void 0:a.rankSpacing)!=null?p:50,o.markers=["requirement_contains","requirement_arrow"],o.diagramId=t,yield n0(o,u),cr.insertTitle(u,"requirementDiagramTitleText",(g=a==null?void 0:a.titleTopMargin)!=null?g:25,i.db.getDiagramTitle()),ph(u,8,"requirementDiagram",(f=a==null?void 0:a.useMaxWidth)!=null?f:!0)})},"draw")}),oDe={};nr(oDe,{diagram:()=>lDe});var lDe,WJe=B(()=>{"use strict";jJe(),HJe(),VJe(),YJe(),lDe={parser:tDe,get db(){return new rDe},renderer:aDe,styles:nDe}}),n8,cDe,XJe=B(()=>{"use strict";n8=(function(){var e=l(function(J,Y,X,te){for(X=X||{},te=J.length;te--;X[J[te]]=Y);return X},"o"),t=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,13],u=[1,14],h=[1,16],d=[1,17],p=[1,18],g=[1,24],f=[1,25],m=[1,26],x=[1,27],T=[1,28],k=[1,29],E=[1,30],S=[1,31],L=[1,32],b=[1,33],y=[1,34],v=[1,35],w=[1,36],C=[1,37],A=[1,38],M=[1,39],N=[1,41],O=[1,42],_=[1,43],I=[1,44],R=[1,45],P=[1,46],D=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,55,60,61,62,63,71],$=[2,71],F=[4,5,16,50,52,53],z=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],U=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,55,60,61,62,63,71],j=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,55,60,61,62,63,71],H=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,55,60,61,62,63,71],Q=[69,70,71],re=[1,127],le={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,actor_with_config:54,note:55,placement:56,text2:57,over:58,actor_pair:59,links:60,link:61,properties:62,details:63,spaceList:64,",":65,left_of:66,right_of:67,signaltype:68,"+":69,"-":70,ACTOR:71,config_object:72,CONFIG_START:73,CONFIG_CONTENT:74,CONFIG_END:75,SOLID_OPEN_ARROW:76,DOTTED_OPEN_ARROW:77,SOLID_ARROW:78,BIDIRECTIONAL_SOLID_ARROW:79,DOTTED_ARROW:80,BIDIRECTIONAL_DOTTED_ARROW:81,SOLID_CROSS:82,DOTTED_CROSS:83,SOLID_POINT:84,DOTTED_POINT:85,TXT:86,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",55:"note",58:"over",60:"links",61:"link",62:"properties",63:"details",65:",",66:"left_of",67:"right_of",69:"+",70:"-",71:"ACTOR",73:"CONFIG_START",74:"CONFIG_CONTENT",75:"CONFIG_END",76:"SOLID_OPEN_ARROW",77:"DOTTED_OPEN_ARROW",78:"SOLID_ARROW",79:"BIDIRECTIONAL_SOLID_ARROW",80:"DOTTED_ARROW",81:"BIDIRECTIONAL_DOTTED_ARROW",82:"SOLID_CROSS",83:"DOTTED_CROSS",84:"SOLID_POINT",85:"DOTTED_POINT",86:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[64,2],[64,1],[59,3],[59,1],[56,1],[56,1],[17,5],[17,5],[17,4],[54,2],[72,3],[22,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[68,1],[57,1]],performAction:l(function(J,Y,X,te,ce,K,me){var Z=K.length-1;switch(ce){case 3:return te.apply(K[Z]),K[Z];case 4:case 9:this.$=[];break;case 5:case 10:K[Z-1].push(K[Z]),this.$=K[Z-1];break;case 6:case 7:case 11:case 12:this.$=K[Z];break;case 8:case 13:this.$=[];break;case 15:K[Z].type="createParticipant",this.$=K[Z];break;case 16:K[Z-1].unshift({type:"boxStart",boxData:te.parseBoxData(K[Z-2])}),K[Z-1].push({type:"boxEnd",boxText:K[Z-2]}),this.$=K[Z-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(K[Z-2]),sequenceIndexStep:Number(K[Z-1]),sequenceVisible:!0,signalType:te.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(K[Z-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:te.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:te.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:te.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:te.LINETYPE.ACTIVE_START,actor:K[Z-1].actor};break;case 23:this.$={type:"activeEnd",signalType:te.LINETYPE.ACTIVE_END,actor:K[Z-1].actor};break;case 29:te.setDiagramTitle(K[Z].substring(6)),this.$=K[Z].substring(6);break;case 30:te.setDiagramTitle(K[Z].substring(7)),this.$=K[Z].substring(7);break;case 31:this.$=K[Z].trim(),te.setAccTitle(this.$);break;case 32:case 33:this.$=K[Z].trim(),te.setAccDescription(this.$);break;case 34:K[Z-1].unshift({type:"loopStart",loopText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.LOOP_START}),K[Z-1].push({type:"loopEnd",loopText:K[Z-2],signalType:te.LINETYPE.LOOP_END}),this.$=K[Z-1];break;case 35:K[Z-1].unshift({type:"rectStart",color:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.RECT_START}),K[Z-1].push({type:"rectEnd",color:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.RECT_END}),this.$=K[Z-1];break;case 36:K[Z-1].unshift({type:"optStart",optText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.OPT_START}),K[Z-1].push({type:"optEnd",optText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.OPT_END}),this.$=K[Z-1];break;case 37:K[Z-1].unshift({type:"altStart",altText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.ALT_START}),K[Z-1].push({type:"altEnd",signalType:te.LINETYPE.ALT_END}),this.$=K[Z-1];break;case 38:K[Z-1].unshift({type:"parStart",parText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.PAR_START}),K[Z-1].push({type:"parEnd",signalType:te.LINETYPE.PAR_END}),this.$=K[Z-1];break;case 39:K[Z-1].unshift({type:"parStart",parText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.PAR_OVER_START}),K[Z-1].push({type:"parEnd",signalType:te.LINETYPE.PAR_END}),this.$=K[Z-1];break;case 40:K[Z-1].unshift({type:"criticalStart",criticalText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.CRITICAL_START}),K[Z-1].push({type:"criticalEnd",signalType:te.LINETYPE.CRITICAL_END}),this.$=K[Z-1];break;case 41:K[Z-1].unshift({type:"breakStart",breakText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.BREAK_START}),K[Z-1].push({type:"breakEnd",optText:te.parseMessage(K[Z-2]),signalType:te.LINETYPE.BREAK_END}),this.$=K[Z-1];break;case 43:this.$=K[Z-3].concat([{type:"option",optionText:te.parseMessage(K[Z-1]),signalType:te.LINETYPE.CRITICAL_OPTION},K[Z]]);break;case 45:this.$=K[Z-3].concat([{type:"and",parText:te.parseMessage(K[Z-1]),signalType:te.LINETYPE.PAR_AND},K[Z]]);break;case 47:this.$=K[Z-3].concat([{type:"else",altText:te.parseMessage(K[Z-1]),signalType:te.LINETYPE.ALT_ELSE},K[Z]]);break;case 48:K[Z-3].draw="participant",K[Z-3].type="addParticipant",K[Z-3].description=te.parseMessage(K[Z-1]),this.$=K[Z-3];break;case 49:K[Z-1].draw="participant",K[Z-1].type="addParticipant",this.$=K[Z-1];break;case 50:K[Z-3].draw="actor",K[Z-3].type="addParticipant",K[Z-3].description=te.parseMessage(K[Z-1]),this.$=K[Z-3];break;case 51:K[Z-1].draw="actor",K[Z-1].type="addParticipant",this.$=K[Z-1];break;case 52:K[Z-1].type="destroyParticipant",this.$=K[Z-1];break;case 53:K[Z-1].draw="participant",K[Z-1].type="addParticipant",this.$=K[Z-1];break;case 54:this.$=[K[Z-1],{type:"addNote",placement:K[Z-2],actor:K[Z-1].actor,text:K[Z]}];break;case 55:K[Z-2]=[].concat(K[Z-1],K[Z-1]).slice(0,2),K[Z-2][0]=K[Z-2][0].actor,K[Z-2][1]=K[Z-2][1].actor,this.$=[K[Z-1],{type:"addNote",placement:te.PLACEMENT.OVER,actor:K[Z-2].slice(0,2),text:K[Z]}];break;case 56:this.$=[K[Z-1],{type:"addLinks",actor:K[Z-1].actor,text:K[Z]}];break;case 57:this.$=[K[Z-1],{type:"addALink",actor:K[Z-1].actor,text:K[Z]}];break;case 58:this.$=[K[Z-1],{type:"addProperties",actor:K[Z-1].actor,text:K[Z]}];break;case 59:this.$=[K[Z-1],{type:"addDetails",actor:K[Z-1].actor,text:K[Z]}];break;case 62:this.$=[K[Z-2],K[Z]];break;case 63:this.$=K[Z];break;case 64:this.$=te.PLACEMENT.LEFTOF;break;case 65:this.$=te.PLACEMENT.RIGHTOF;break;case 66:this.$=[K[Z-4],K[Z-1],{type:"addMessage",from:K[Z-4].actor,to:K[Z-1].actor,signalType:K[Z-3],msg:K[Z],activate:!0},{type:"activeStart",signalType:te.LINETYPE.ACTIVE_START,actor:K[Z-1].actor}];break;case 67:this.$=[K[Z-4],K[Z-1],{type:"addMessage",from:K[Z-4].actor,to:K[Z-1].actor,signalType:K[Z-3],msg:K[Z]},{type:"activeEnd",signalType:te.LINETYPE.ACTIVE_END,actor:K[Z-4].actor}];break;case 68:this.$=[K[Z-3],K[Z-1],{type:"addMessage",from:K[Z-3].actor,to:K[Z-1].actor,signalType:K[Z-2],msg:K[Z]}];break;case 69:this.$={type:"addParticipant",actor:K[Z-1],config:K[Z]};break;case 70:this.$=K[Z-1].trim();break;case 71:this.$={type:"addParticipant",actor:K[Z]};break;case 72:this.$=te.LINETYPE.SOLID_OPEN;break;case 73:this.$=te.LINETYPE.DOTTED_OPEN;break;case 74:this.$=te.LINETYPE.SOLID;break;case 75:this.$=te.LINETYPE.BIDIRECTIONAL_SOLID;break;case 76:this.$=te.LINETYPE.DOTTED;break;case 77:this.$=te.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 78:this.$=te.LINETYPE.SOLID_CROSS;break;case 79:this.$=te.LINETYPE.DOTTED_CROSS;break;case 80:this.$=te.LINETYPE.SOLID_POINT;break;case 81:this.$=te.LINETYPE.DOTTED_POINT;break;case 82:this.$=te.parseMessage(K[Z].trim().substring(1));break}},"anonymous"),table:[{3:1,4:t,5:r,6:i},{1:[3]},{3:5,4:t,5:r,6:i},{3:6,4:t,5:r,6:i},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,55,60,61,62,63,71],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},e(D,[2,5]),{9:47,12:12,13:o,14:u,17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},e(D,[2,7]),e(D,[2,8]),e(D,[2,14]),{12:48,50:C,52:A,53:M},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,71:P},{22:55,71:P},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(D,[2,29]),e(D,[2,30]),{32:[1,61]},{34:[1,62]},e(D,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,54:72,71:[1,73]},{22:74,71:P},{22:75,71:P},{68:76,76:[1,77],77:[1,78],78:[1,79],79:[1,80],80:[1,81],81:[1,82],82:[1,83],83:[1,84],84:[1,85],85:[1,86]},{56:87,58:[1,88],66:[1,89],67:[1,90]},{22:91,71:P},{22:92,71:P},{22:93,71:P},{22:94,71:P},e([5,51,65,76,77,78,79,80,81,82,83,84,85,86],$),e(D,[2,6]),e(D,[2,15]),e(F,[2,9],{10:95}),e(D,[2,17]),{5:[1,97],19:[1,96]},{5:[1,98]},e(D,[2,21]),{5:[1,99]},{5:[1,100]},e(D,[2,24]),e(D,[2,25]),e(D,[2,26]),e(D,[2,27]),e(D,[2,28]),e(D,[2,31]),e(D,[2,32]),e(z,n,{7:101}),e(z,n,{7:102}),e(z,n,{7:103}),e(U,n,{40:104,7:105}),e(j,n,{42:106,7:107}),e(j,n,{7:107,42:108}),e(H,n,{45:109,7:110}),e(z,n,{7:111}),{5:[1,113],51:[1,112]},{5:[1,114]},e([5,51],$,{72:115,73:[1,116]}),{5:[1,118],51:[1,117]},{5:[1,119]},{22:122,69:[1,120],70:[1,121],71:P},e(Q,[2,72]),e(Q,[2,73]),e(Q,[2,74]),e(Q,[2,75]),e(Q,[2,76]),e(Q,[2,77]),e(Q,[2,78]),e(Q,[2,79]),e(Q,[2,80]),e(Q,[2,81]),{22:123,71:P},{22:125,59:124,71:P},{71:[2,64]},{71:[2,65]},{57:126,86:re},{57:128,86:re},{57:129,86:re},{57:130,86:re},{4:[1,133],5:[1,135],11:132,12:134,16:[1,131],50:C,52:A,53:M},{5:[1,136]},e(D,[2,19]),e(D,[2,20]),e(D,[2,22]),e(D,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,137],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,138],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,139],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,46],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,49:[1,141],50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{16:[1,142]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,44],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,48:[1,143],50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{16:[1,144]},{16:[1,145]},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[2,42],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,47:[1,146],50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{4:a,5:s,8:8,9:10,12:12,13:o,14:u,16:[1,147],17:15,18:h,21:d,22:40,23:p,24:19,25:20,26:21,27:22,28:23,29:g,30:f,31:m,33:x,35:T,36:k,37:E,38:S,39:L,41:b,43:y,44:v,46:w,50:C,52:A,53:M,55:N,60:O,61:_,62:I,63:R,71:P},{15:[1,148]},e(D,[2,49]),e(D,[2,53]),{5:[2,69]},{74:[1,149]},{15:[1,150]},e(D,[2,51]),e(D,[2,52]),{22:151,71:P},{22:152,71:P},{57:153,86:re},{57:154,86:re},{57:155,86:re},{65:[1,156],86:[2,63]},{5:[2,56]},{5:[2,82]},{5:[2,57]},{5:[2,58]},{5:[2,59]},e(D,[2,16]),e(F,[2,10]),{12:157,50:C,52:A,53:M},e(F,[2,12]),e(F,[2,13]),e(D,[2,18]),e(D,[2,34]),e(D,[2,35]),e(D,[2,36]),e(D,[2,37]),{15:[1,158]},e(D,[2,38]),{15:[1,159]},e(D,[2,39]),e(D,[2,40]),{15:[1,160]},e(D,[2,41]),{5:[1,161]},{75:[1,162]},{5:[1,163]},{57:164,86:re},{57:165,86:re},{5:[2,68]},{5:[2,54]},{5:[2,55]},{22:166,71:P},e(F,[2,11]),e(U,n,{7:105,40:167}),e(j,n,{7:107,42:168}),e(H,n,{7:110,45:169}),e(D,[2,48]),{5:[2,70]},e(D,[2,50]),{5:[2,66]},{5:[2,67]},{86:[2,62]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],89:[2,64],90:[2,65],115:[2,69],126:[2,56],127:[2,82],128:[2,57],129:[2,58],130:[2,59],153:[2,68],154:[2,54],155:[2,55],162:[2,70],164:[2,66],165:[2,67],166:[2,62],167:[2,47],168:[2,45],169:[2,43]},parseError:l(function(J,Y){if(Y.recoverable)this.trace(J);else{var X=new Error(J);throw X.hash=Y,X}},"parseError"),parse:l(function(J){var Y=this,X=[0],te=[],ce=[null],K=[],me=this.table,Z="",Ae=0,he=0,Ne=0,Pe=2,He=1,qe=K.slice.call(arguments,1),_e=Object.create(this.lexer),De={yy:{}};for(var ve in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ve)&&(De.yy[ve]=this.yy[ve]);_e.setInput(J,De.yy),De.yy.lexer=_e,De.yy.parser=this,typeof _e.yylloc>"u"&&(_e.yylloc={});var Be=_e.yylloc;K.push(Be);var de=_e.options&&_e.options.ranges;typeof De.yy.parseError=="function"?this.parseError=De.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ve(ze){X.length=X.length-2*ze,ce.length=ce.length-ze,K.length=K.length-ze}l(Ve,"popStack");function ee(){var ze;return ze=te.pop()||_e.lex()||He,typeof ze!="number"&&(ze instanceof Array&&(te=ze,ze=te.pop()),ze=Y.symbols_[ze]||ze),ze}l(ee,"lex");for(var Ie,G,ie,se,pe,fe,be={},Se,Te,Ge,Ye;;){if(ie=X[X.length-1],this.defaultActions[ie]?se=this.defaultActions[ie]:((Ie===null||typeof Ie>"u")&&(Ie=ee()),se=me[ie]&&me[ie][Ie]),typeof se>"u"||!se.length||!se[0]){var st="";Ye=[];for(Se in me[ie])this.terminals_[Se]&&Se>Pe&&Ye.push("'"+this.terminals_[Se]+"'");_e.showPosition?st="Parse error on line "+(Ae+1)+`:
`+_e.showPosition()+`
Expecting `+Ye.join(", ")+", got '"+(this.terminals_[Ie]||Ie)+"'":st="Parse error on line "+(Ae+1)+": Unexpected "+(Ie==He?"end of input":"'"+(this.terminals_[Ie]||Ie)+"'"),this.parseError(st,{text:_e.match,token:this.terminals_[Ie]||Ie,line:_e.yylineno,loc:Be,expected:Ye})}if(se[0]instanceof Array&&se.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ie+", token: "+Ie);switch(se[0]){case 1:X.push(Ie),ce.push(_e.yytext),K.push(_e.yylloc),X.push(se[1]),Ie=null,G?(Ie=G,G=null):(he=_e.yyleng,Z=_e.yytext,Ae=_e.yylineno,Be=_e.yylloc,Ne>0&&Ne--);break;case 2:if(Te=this.productions_[se[1]][1],be.$=ce[ce.length-Te],be._$={first_line:K[K.length-(Te||1)].first_line,last_line:K[K.length-1].last_line,first_column:K[K.length-(Te||1)].first_column,last_column:K[K.length-1].last_column},de&&(be._$.range=[K[K.length-(Te||1)].range[0],K[K.length-1].range[1]]),fe=this.performAction.apply(be,[Z,he,Ae,De.yy,se[1],ce,K].concat(qe)),typeof fe<"u")return fe;Te&&(X=X.slice(0,-1*Te*2),ce=ce.slice(0,-1*Te),K=K.slice(0,-1*Te)),X.push(this.productions_[se[1]][0]),ce.push(be.$),K.push(be._$),Ge=me[X[X.length-2]][X[X.length-1]],X.push(Ge);break;case 3:return!0}}return!0},"parse")},oe=(function(){var J={EOF:1,parseError:l(function(Y,X){if(this.yy.parser)this.yy.parser.parseError(Y,X);else throw new Error(Y)},"parseError"),setInput:l(function(Y,X){return this.yy=X||this.yy||{},this._input=Y,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var Y=this._input[0];this.yytext+=Y,this.yyleng++,this.offset++,this.match+=Y,this.matched+=Y;var X=Y.match(/(?:\r\n?|\n).*/g);return X?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Y},"input"),unput:l(function(Y){var X=Y.length,te=Y.split(/(?:\r\n?|\n)/g);this._input=Y+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-X),this.offset-=X;var ce=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),te.length-1&&(this.yylineno-=te.length-1);var K=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:te?(te.length===ce.length?this.yylloc.first_column:0)+ce[ce.length-te.length].length-te[0].length:this.yylloc.first_column-X},this.options.ranges&&(this.yylloc.range=[K[0],K[0]+this.yyleng-X]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(Y){this.unput(this.match.slice(Y))},"less"),pastInput:l(function(){var Y=this.matched.substr(0,this.matched.length-this.match.length);return(Y.length>20?"...":"")+Y.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var Y=this.match;return Y.length<20&&(Y+=this._input.substr(0,20-Y.length)),(Y.substr(0,20)+(Y.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var Y=this.pastInput(),X=new Array(Y.length+1).join("-");return Y+this.upcomingInput()+`
`+X+"^"},"showPosition"),test_match:l(function(Y,X){var te,ce,K;if(this.options.backtrack_lexer&&(K={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(K.yylloc.range=this.yylloc.range.slice(0))),ce=Y[0].match(/(?:\r\n?|\n).*/g),ce&&(this.yylineno+=ce.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ce?ce[ce.length-1].length-ce[ce.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Y[0].length},this.yytext+=Y[0],this.match+=Y[0],this.matches=Y,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Y[0].length),this.matched+=Y[0],te=this.performAction.call(this,this.yy,this,X,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),te)return te;if(this._backtrack){for(var me in K)this[me]=K[me];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Y,X,te,ce;this._more||(this.yytext="",this.match="");for(var K=this._currentRules(),me=0;me<K.length;me++)if(te=this._input.match(this.rules[K[me]]),te&&(!X||te[0].length>X[0].length)){if(X=te,ce=me,this.options.backtrack_lexer){if(Y=this.test_match(te,K[me]),Y!==!1)return Y;if(this._backtrack){X=!1;continue}else return!1}else if(!this.options.flex)break}return X?(Y=this.test_match(X,K[ce]),Y!==!1?Y:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var Y=this.next();return Y||this.lex()},"lex"),begin:l(function(Y){this.conditionStack.push(Y)},"begin"),popState:l(function(){var Y=this.conditionStack.length-1;return Y>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(Y){return Y=this.conditionStack.length-1-Math.abs(Y||0),Y>=0?this.conditionStack[Y]:"INITIAL"},"topState"),pushState:l(function(Y){this.begin(Y)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(Y,X,te,ce){var K=ce;switch(te){case 0:return 5;case 1:break;case 2:break;case 3:break;case 4:break;case 5:break;case 6:return 19;case 7:return this.begin("CONFIG"),73;case 8:return 74;case 9:return this.popState(),this.popState(),75;case 10:return X.yytext=X.yytext.trim(),71;case 11:return X.yytext=X.yytext.trim(),this.begin("ALIAS"),71;case 12:return this.begin("LINE"),14;case 13:return this.begin("ID"),50;case 14:return this.begin("ID"),52;case 15:return 13;case 16:return this.begin("ID"),53;case 17:return X.yytext=X.yytext.trim(),this.begin("ALIAS"),71;case 18:return this.popState(),this.popState(),this.begin("LINE"),51;case 19:return this.popState(),this.popState(),5;case 20:return this.begin("LINE"),36;case 21:return this.begin("LINE"),37;case 22:return this.begin("LINE"),38;case 23:return this.begin("LINE"),39;case 24:return this.begin("LINE"),49;case 25:return this.begin("LINE"),41;case 26:return this.begin("LINE"),43;case 27:return this.begin("LINE"),48;case 28:return this.begin("LINE"),44;case 29:return this.begin("LINE"),47;case 30:return this.begin("LINE"),46;case 31:return this.popState(),15;case 32:return 16;case 33:return 66;case 34:return 67;case 35:return 60;case 36:return 61;case 37:return 62;case 38:return 63;case 39:return 58;case 40:return 55;case 41:return this.begin("ID"),21;case 42:return this.begin("ID"),23;case 43:return 29;case 44:return 30;case 45:return this.begin("acc_title"),31;case 46:return this.popState(),"acc_title_value";case 47:return this.begin("acc_descr"),33;case 48:return this.popState(),"acc_descr_value";case 49:this.begin("acc_descr_multiline");break;case 50:this.popState();break;case 51:return"acc_descr_multiline_value";case 52:return 6;case 53:return 18;case 54:return 20;case 55:return 65;case 56:return 5;case 57:return X.yytext=X.yytext.trim(),71;case 58:return 78;case 59:return 79;case 60:return 80;case 61:return 81;case 62:return 76;case 63:return 77;case 64:return 82;case 65:return 83;case 66:return 84;case 67:return 85;case 68:return 86;case 69:return 86;case 70:return 69;case 71:return 70;case 72:return 5;case 73:return"INVALID"}},"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:@\{)/i,/^(?:[^\}]+)/i,/^(?:\})/i,/^(?:[^\<->\->:\n,;@\s]+(?=@\{))/i,/^(?:[^\<->\->:\n,;@]+?([\-]*[^\<->\->:\n,;@]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^<\->\->:\n,;]+?([\-]*[^<\->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^+<\->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+<\->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]*)/i,/^(?::)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[50,51],inclusive:!1},acc_descr:{rules:[48],inclusive:!1},acc_title:{rules:[46],inclusive:!1},ID:{rules:[2,3,7,10,11,17],inclusive:!1},ALIAS:{rules:[2,3,18,19],inclusive:!1},LINE:{rules:[2,3,31],inclusive:!1},CONFIG:{rules:[8,9],inclusive:!1},CONFIG_DATA:{rules:[],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,12,13,14,15,16,20,21,22,23,24,25,26,27,28,29,30,32,33,34,35,36,37,38,39,40,41,42,43,44,45,47,49,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73],inclusive:!0}}};return J})();le.lexer=oe;function W(){this.yy={}}return l(W,"Parser"),W.prototype=le,le.Parser=W,new W})(),n8.parser=n8,cDe=n8}),uDe,hDe,dDe,Ax,pDe,gDe=B(()=>{"use strict";var e;qt(),m6(),lt(),DLe(),dr(),Fi(),uDe={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},hDe={FILLED:0,OPEN:1},dDe={LEFTOF:0,RIGHTOF:1,OVER:2},Ax={ACTOR:"actor",BOUNDARY:"boundary",COLLECTIONS:"collections",CONTROL:"control",DATABASE:"database",ENTITY:"entity",PARTICIPANT:"participant",QUEUE:"queue"},pDe=(e=class{constructor(){this.state=new GG(()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0})),this.setAccTitle=Bi,this.setAccDescription=Xi,this.setDiagramTitle=gn,this.getAccTitle=Wi,this.getAccDescription=Ki,this.getDiagramTitle=$i,this.apply=this.apply.bind(this),this.parseBoxData=this.parseBoxData.bind(this),this.parseMessage=this.parseMessage.bind(this),this.clear(),this.setWrap(Ce().wrap),this.LINETYPE=uDe,this.ARROWTYPE=hDe,this.PLACEMENT=dDe}addBox(r){var i;this.state.records.boxes.push({name:r.text,wrap:(i=r.wrap)!=null?i:this.autoWrap(),fill:r.color,actorKeys:[]}),this.state.records.currentBox=this.state.records.boxes.slice(-1)[0]}addActor(r,i,n,a,s){var d,p;let o=this.state.records.currentBox,u;if(s!==void 0){let g;s.includes(`
`)?g=s+`
`:g=`{
`+s+`
}`,u=t2(g,{schema:e2})}a=(d=u==null?void 0:u.type)!=null?d:a;let h=this.state.records.actors.get(r);if(h){if(this.state.records.currentBox&&h.box&&this.state.records.currentBox!==h.box)throw new Error(`A same participant should only be defined in one Box: ${h.name} can't be in '${h.box.name}' and in '${this.state.records.currentBox.name}' at the same time.`);if(o=h.box?h.box:this.state.records.currentBox,h.box=o,h&&i===h.name&&n==null)return}if((n==null?void 0:n.text)==null&&(n={text:i,type:a}),(a==null||n.text==null)&&(n={text:i,type:a}),this.state.records.actors.set(r,{box:o,name:i,description:n.text,wrap:(p=n.wrap)!=null?p:this.autoWrap(),prevActor:this.state.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:a!=null?a:"participant"}),this.state.records.prevActor){let g=this.state.records.actors.get(this.state.records.prevActor);g&&(g.nextActor=r)}this.state.records.currentBox&&this.state.records.currentBox.actorKeys.push(r),this.state.records.prevActor=r}activationCount(r){let i,n=0;if(!r)return 0;for(i=0;i<this.state.records.messages.length;i++)this.state.records.messages[i].type===this.LINETYPE.ACTIVE_START&&this.state.records.messages[i].from===r&&n++,this.state.records.messages[i].type===this.LINETYPE.ACTIVE_END&&this.state.records.messages[i].from===r&&n--;return n}addMessage(r,i,n,a){var s;this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:r,to:i,message:n.text,wrap:(s=n.wrap)!=null?s:this.autoWrap(),answer:a})}addSignal(r,i,n,a,s=!1){var o,u;if(a===this.LINETYPE.ACTIVE_END&&this.activationCount(r!=null?r:"")<1){let h=new Error("Trying to inactivate an inactive participant ("+r+")");throw h.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},h}return this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:r,to:i,message:(o=n==null?void 0:n.text)!=null?o:"",wrap:(u=n==null?void 0:n.wrap)!=null?u:this.autoWrap(),type:a,activate:s}),!0}hasAtLeastOneBox(){return this.state.records.boxes.length>0}hasAtLeastOneBoxWithTitle(){return this.state.records.boxes.some(r=>r.name)}getMessages(){return this.state.records.messages}getBoxes(){return this.state.records.boxes}getActors(){return this.state.records.actors}getCreatedActors(){return this.state.records.createdActors}getDestroyedActors(){return this.state.records.destroyedActors}getActor(r){return this.state.records.actors.get(r)}getActorKeys(){return[...this.state.records.actors.keys()]}enableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!0}disableSequenceNumbers(){this.state.records.sequenceNumbersEnabled=!1}showSequenceNumbers(){return this.state.records.sequenceNumbersEnabled}setWrap(r){this.state.records.wrapEnabled=r}extractWrap(r){if(r===void 0)return{};r=r.trim();let i=/^:?wrap:/.exec(r)!==null?!0:/^:?nowrap:/.exec(r)!==null?!1:void 0;return{cleanedText:(i===void 0?r:r.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:i}}autoWrap(){var r,i;return this.state.records.wrapEnabled!==void 0?this.state.records.wrapEnabled:(i=(r=Ce().sequence)==null?void 0:r.wrap)!=null?i:!1}clear(){this.state.reset(),Pi()}parseMessage(r){let i=r.trim(),{wrap:n,cleanedText:a}=this.extractWrap(i),s={text:a,wrap:n};return ae.debug(`parseMessage: ${JSON.stringify(s)}`),s}parseBoxData(r){let i=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(r),n=i!=null&&i[1]?i[1].trim():"transparent",a=i!=null&&i[2]?i[2].trim():void 0;if(window!=null&&window.CSS)window.CSS.supports("color",n)||(n="transparent",a=r.trim());else{let u=new Option().style;u.color=n,u.color!==n&&(n="transparent",a=r.trim())}let{wrap:s,cleanedText:o}=this.extractWrap(a);return{text:o?Er(o,Ce()):void 0,color:n,wrap:s}}addNote(r,i,n){var o,u;let a={actor:r,placement:i,message:n.text,wrap:(o=n.wrap)!=null?o:this.autoWrap()},s=[].concat(r,r);this.state.records.notes.push(a),this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:s[0],to:s[1],message:n.text,wrap:(u=n.wrap)!=null?u:this.autoWrap(),type:this.LINETYPE.NOTE,placement:i})}addLinks(r,i){let n=this.getActor(r);try{let a=Er(i.text,Ce());a=a.replace(/&equals;/g,"="),a=a.replace(/&amp;/g,"&");let s=JSON.parse(a);this.insertLinks(n,s)}catch(a){ae.error("error while parsing actor link text",a)}}addALink(r,i){let n=this.getActor(r);try{let a={},s=Er(i.text,Ce()),o=s.indexOf("@");s=s.replace(/&equals;/g,"="),s=s.replace(/&amp;/g,"&");let u=s.slice(0,o-1).trim(),h=s.slice(o+1).trim();a[u]=h,this.insertLinks(n,a)}catch(a){ae.error("error while parsing actor link text",a)}}insertLinks(r,i){if(r.links==null)r.links=i;else for(let n in i)r.links[n]=i[n]}addProperties(r,i){let n=this.getActor(r);try{let a=Er(i.text,Ce()),s=JSON.parse(a);this.insertProperties(n,s)}catch(a){ae.error("error while parsing actor properties text",a)}}insertProperties(r,i){if(r.properties==null)r.properties=i;else for(let n in i)r.properties[n]=i[n]}boxEnd(){this.state.records.currentBox=void 0}addDetails(r,i){let n=this.getActor(r),a=document.getElementById(i.text);try{let s=a.innerHTML,o=JSON.parse(s);o.properties&&this.insertProperties(n,o.properties),o.links&&this.insertLinks(n,o.links)}catch(s){ae.error("error while parsing actor details text",s)}}getActorProperty(r,i){if((r==null?void 0:r.properties)!==void 0)return r.properties[i]}apply(r){if(Array.isArray(r))r.forEach(i=>{this.apply(i)});else switch(r.type){case"sequenceIndex":this.state.records.messages.push({id:this.state.records.messages.length.toString(),from:void 0,to:void 0,message:{start:r.sequenceIndex,step:r.sequenceIndexStep,visible:r.sequenceVisible},wrap:!1,type:r.signalType});break;case"addParticipant":this.addActor(r.actor,r.actor,r.description,r.draw,r.config);break;case"createParticipant":if(this.state.records.actors.has(r.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");this.state.records.lastCreated=r.actor,this.addActor(r.actor,r.actor,r.description,r.draw,r.config),this.state.records.createdActors.set(r.actor,this.state.records.messages.length);break;case"destroyParticipant":this.state.records.lastDestroyed=r.actor,this.state.records.destroyedActors.set(r.actor,this.state.records.messages.length);break;case"activeStart":this.addSignal(r.actor,void 0,void 0,r.signalType);break;case"activeEnd":this.addSignal(r.actor,void 0,void 0,r.signalType);break;case"addNote":this.addNote(r.actor,r.placement,r.text);break;case"addLinks":this.addLinks(r.actor,r.text);break;case"addALink":this.addALink(r.actor,r.text);break;case"addProperties":this.addProperties(r.actor,r.text);break;case"addDetails":this.addDetails(r.actor,r.text);break;case"addMessage":if(this.state.records.lastCreated){if(r.to!==this.state.records.lastCreated)throw new Error("The created participant "+this.state.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");this.state.records.lastCreated=void 0}else if(this.state.records.lastDestroyed){if(r.to!==this.state.records.lastDestroyed&&r.from!==this.state.records.lastDestroyed)throw new Error("The destroyed participant "+this.state.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");this.state.records.lastDestroyed=void 0}this.addSignal(r.from,r.to,r.msg,r.signalType,r.activate);break;case"boxStart":this.addBox(r.boxData);break;case"boxEnd":this.boxEnd();break;case"loopStart":this.addSignal(void 0,void 0,r.loopText,r.signalType);break;case"loopEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"rectStart":this.addSignal(void 0,void 0,r.color,r.signalType);break;case"rectEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"optStart":this.addSignal(void 0,void 0,r.optText,r.signalType);break;case"optEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"altStart":this.addSignal(void 0,void 0,r.altText,r.signalType);break;case"else":this.addSignal(void 0,void 0,r.altText,r.signalType);break;case"altEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"setAccTitle":Bi(r.text);break;case"parStart":this.addSignal(void 0,void 0,r.parText,r.signalType);break;case"and":this.addSignal(void 0,void 0,r.parText,r.signalType);break;case"parEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"criticalStart":this.addSignal(void 0,void 0,r.criticalText,r.signalType);break;case"option":this.addSignal(void 0,void 0,r.optionText,r.signalType);break;case"criticalEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break;case"breakStart":this.addSignal(void 0,void 0,r.breakText,r.signalType);break;case"breakEnd":this.addSignal(void 0,void 0,void 0,r.signalType);break}}getConfig(){return Ce().sequence}},l(e,"SequenceDB"),e)}),fDe,mDe,KJe=B(()=>{"use strict";fDe=l(e=>`.actor {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }

  text.actor > tspan {
    fill: ${e.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${e.actorLineColor};
  }
  
  .innerArc {
    stroke-width: 1.5;
    stroke-dasharray: none;
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${e.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${e.signalColor};
  }

  #arrowhead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .sequenceNumber {
    fill: ${e.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${e.signalColor};
  }

  #crosshead path {
    fill: ${e.signalColor};
    stroke: ${e.signalColor};
  }

  .messageText {
    fill: ${e.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${e.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${e.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${e.labelBoxBorderColor};
    fill: ${e.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${e.noteBorderColor};
    fill: ${e.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${e.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation1 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .activation2 {
    fill: ${e.activationBkgColor};
    stroke: ${e.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${e.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${e.actorBorder};
    fill: ${e.actorBkg};
    stroke-width: 2px;
  }

`,"getStyles"),mDe=fDe}),CU,_h,su,ou,Lx,lu,If,yDe,Nx,Mx,dp,SU,kr,_U,vDe,bDe,xDe,wDe,kDe,TDe,EDe,CDe,SDe,_De,ADe,LDe,NDe,AU,MDe,IDe,DDe,RDe,ODe,PDe,BDe,LU,$De,ql,FDe,Ii,ZJe=B(()=>{"use strict";CU=Yn(Sy(),1),bi(),Jt(),dr(),M5(),_h=36,su="actor-top",ou="actor-bottom",Lx="actor-box",lu="actor-man",If=l(function(e,t){return _y(e,t)},"drawRect"),yDe=l(function(e,t,r,i,n){if(t.links===void 0||t.links===null||Object.keys(t.links).length===0)return{height:0,width:0};let a=t.links,s=t.actorCnt,o=t.rectData;var u="none";n&&(u="block !important");let h=e.append("g");h.attr("id","actor"+s+"_popup"),h.attr("class","actorPopupMenu"),h.attr("display",u);var d="";o.class!==void 0&&(d=" "+o.class);let p=o.width>r?o.width:r,g=h.append("rect");if(g.attr("class","actorPopupMenuPanel"+d),g.attr("x",o.x),g.attr("y",o.height),g.attr("fill",o.fill),g.attr("stroke",o.stroke),g.attr("width",p),g.attr("height",o.height),g.attr("rx",o.rx),g.attr("ry",o.ry),a!=null){var f=20;for(let T in a){var m=h.append("a"),x=(0,CU.sanitizeUrl)(a[T]);m.attr("xlink:href",x),m.attr("target","_blank"),FDe(i)(T,m,o.x+10,o.height+f,p,20,{class:"actor"},i),f+=30}}return g.attr("height",f),{height:o.height+f,width:p}},"drawPopup"),Nx=l(function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"},"popupMenuToggle"),Mx=l(function(e,t,r=null){return xe(this,null,function*(){let i=e.append("foreignObject"),n=yield Hp(t.text,_r()),a=i.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(n).node().getBoundingClientRect();if(i.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),t.class==="noteText"){let s=e.node().firstChild;s.setAttribute("height",a.height+2*t.textMargin);let o=s.getBBox();i.attr("x",Math.round(o.x+o.width/2-a.width/2)).attr("y",Math.round(o.y+o.height/2-a.height/2))}else if(r){let{startx:s,stopx:o,starty:u}=r;if(s>o){let h=s;s=o,o=h}i.attr("x",Math.round(s+Math.abs(s-o)/2-a.width/2)),t.class==="loopText"?i.attr("y",Math.round(u)):i.attr("y",Math.round(u-a.height))}return[i]})},"drawKatex"),dp=l(function(e,t){let r=0,i=0,n=t.text.split(at.lineBreakRegex),[a,s]=Fu(t.fontSize),o=[],u=0,h=l(()=>t.y,"yfunc");if(t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0)switch(t.valign){case"top":case"start":h=l(()=>Math.round(t.y+t.textMargin),"yfunc");break;case"middle":case"center":h=l(()=>Math.round(t.y+(r+i+t.textMargin)/2),"yfunc");break;case"bottom":case"end":h=l(()=>Math.round(t.y+(r+i+2*t.textMargin)-t.textMargin),"yfunc");break}if(t.anchor!==void 0&&t.textMargin!==void 0&&t.width!==void 0)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle";break}for(let[d,p]of n.entries()){t.textMargin!==void 0&&t.textMargin===0&&a!==void 0&&(u=d*a);let g=e.append("text");g.attr("x",t.x),g.attr("y",h()),t.anchor!==void 0&&g.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),t.fontFamily!==void 0&&g.style("font-family",t.fontFamily),s!==void 0&&g.style("font-size",s),t.fontWeight!==void 0&&g.style("font-weight",t.fontWeight),t.fill!==void 0&&g.attr("fill",t.fill),t.class!==void 0&&g.attr("class",t.class),t.dy!==void 0?g.attr("dy",t.dy):u!==0&&g.attr("dy",u);let f=p||W9;if(t.tspan){let m=g.append("tspan");m.attr("x",t.x),t.fill!==void 0&&m.attr("fill",t.fill),m.text(f)}else g.text(f);t.valign!==void 0&&t.textMargin!==void 0&&t.textMargin>0&&(i+=(g._groups||g)[0][0].getBBox().height,r=i),o.push(g)}return o},"drawText"),SU=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");return i.attr("points",r(t.x,t.y,t.width,t.height,7)),i.attr("class","labelBox"),t.y=t.y+t.height/2,dp(e,t),i},"drawLabel"),kr=-1,_U=l((e,t,r,i)=>{e.select&&r.forEach(n=>{let a=t.get(n),s=e.select("#actor"+a.actorCnt);!i.mirrorActors&&a.stopy?s.attr("y2",a.stopy+a.height/2):i.mirrorActors&&s.attr("y2",a.stopy)})},"fixLifeLineHeights"),vDe=l(function(e,t,r,i){var f,m;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower();var u=o;i||(kr++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Nx(`actor${kr}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=kr,t.links!=null&&u.attr("id","root-"+kr));let h=ja();var d="actor";(f=t.properties)!=null&&f.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${ou}`:d+=` ${su}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;let p=If(u,h);if(t.rectData=h,(m=t.properties)==null?void 0:m.icon){let x=t.properties.icon.trim();x.charAt(0)==="@"?L5(u,h.x+h.width-20,h.y+10,x.substr(1)):A5(u,h.x+h.width-20,h.y+10,x)}ql(r,wi(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${Lx}`},r);let g=t.height;if(p.node){let x=p.node().getBBox();t.height=x.height,g=x.height}return g},"drawActorTypeParticipant"),bDe=l(function(e,t,r,i){var x,T;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower();var u=o;i||(kr++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Nx(`actor${kr}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=kr,t.links!=null&&u.attr("id","root-"+kr));let h=ja();var d="actor";(x=t.properties)!=null&&x.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${ou}`:d+=` ${su}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name;let p=6,g=hr(dt({},h),{x:h.x+-p,y:h.y+ +p,class:"actor"}),f=If(u,h);if(If(u,g),t.rectData=h,(T=t.properties)==null?void 0:T.icon){let k=t.properties.icon.trim();k.charAt(0)==="@"?L5(u,h.x+h.width-20,h.y+10,k.substr(1)):A5(u,h.x+h.width-20,h.y+10,k)}ql(r,wi(t.description))(t.description,u,h.x-p,h.y+p,h.width,h.height,{class:`actor ${Lx}`},r);let m=t.height;if(f.node){let k=f.node().getBBox();t.height=k.height,m=k.height}return m},"drawActorTypeCollections"),xDe=l(function(e,t,r,i){var k,E;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height,o=e.append("g").lower(),u=o;i||(kr++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Nx(`actor${kr}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=kr,t.links!=null&&u.attr("id","root-"+kr));let h=ja(),d="actor";(k=t.properties)!=null&&k.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${ou}`:d+=` ${su}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name;let p=h.height/2,g=p/(2.5+h.height/50),f=u.append("g"),m=u.append("g");if(f.append("path").attr("d",`M ${h.x},${h.y+p}
    a ${g},${p} 0 0 0 0,${h.height}
    h ${h.width-2*g}
    a ${g},${p} 0 0 0 0,-${h.height}
    Z
  `).attr("class",d),m.append("path").attr("d",`M ${h.x},${h.y+p}
      a ${g},${p} 0 0 0 0,${h.height}`).attr("stroke","#666").attr("stroke-width","1px").attr("class",d),f.attr("transform",`translate(${g}, ${-(h.height/2)})`),m.attr("transform",`translate(${h.width-g}, ${-h.height/2})`),t.rectData=h,(E=t.properties)==null?void 0:E.icon){let S=t.properties.icon.trim(),L=h.x+h.width-20,b=h.y+10;S.charAt(0)==="@"?L5(u,L,b,S.substr(1)):A5(u,L,b,S)}ql(r,wi(t.description))(t.description,u,h.x,h.y,h.width,h.height,{class:`actor ${Lx}`},r);let x=t.height,T=f.select("path:last-child");if(T.node()){let S=T.node().getBBox();t.height=S.height,x=S.height}return x},"drawActorTypeQueue"),wDe=l(function(e,t,r,i){var x,T;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+75,o=e.append("g").lower();i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=kr);let u=e.append("g"),h=lu;i?h+=` ${ou}`:h+=` ${su}`,u.attr("class",h),u.attr("name",t.name);let d=ja();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor";let p=t.x+t.width/2,g=n+30,f=18;u.append("defs").append("marker").attr("id","filled-head-control").attr("refX",11).attr("refY",5.8).attr("markerWidth",20).attr("markerHeight",28).attr("orient","172.5").append("path").attr("d","M 14.4 5.6 L 7.2 10.4 L 8.8 5.6 L 7.2 0.8 Z"),u.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("fill","#eaeaf7").attr("stroke","#666").attr("stroke-width",1.2),u.append("line").attr("marker-end","url(#filled-head-control)").attr("transform",`translate(${p}, ${g-f})`);let m=u.node().getBBox();return t.height=m.height+2*((T=(x=r==null?void 0:r.sequence)==null?void 0:x.labelBoxHeight)!=null?T:0),ql(r,wi(t.description))(t.description,u,d.x,d.y+f+(i?5:10),d.width,d.height,{class:`actor ${lu}`},r),t.height},"drawActorTypeControl"),kDe=l(function(e,t,r,i){var x,T;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+75,o=e.append("g").lower(),u=e.append("g"),h=lu;i?h+=` ${ou}`:h+=` ${su}`,u.attr("class",h),u.attr("name",t.name);let d=ja();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor";let p=t.x+t.width/2,g=n+(i?10:25),f=18;u.append("circle").attr("cx",p).attr("cy",g).attr("r",f).attr("width",t.width).attr("height",t.height),u.append("line").attr("x1",p-f).attr("x2",p+f).attr("y1",g+f).attr("y2",g+f).attr("stroke","#333").attr("stroke-width",2);let m=u.node().getBBox();return t.height=m.height+((T=(x=r==null?void 0:r.sequence)==null?void 0:x.labelBoxHeight)!=null?T:0),i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=kr),ql(r,wi(t.description))(t.description,u,d.x,d.y+(i?(g-n+f-5)/2:(g+f-n)/2),d.width,d.height,{class:`actor ${lu}`},r),i?u.attr("transform",`translate(0, ${f/2})`):u.attr("transform",`translate(0, ${f/2})`),t.height},"drawActorTypeEntity"),TDe=l(function(e,t,r,i){var E,S;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+t.height+2*r.boxTextMargin,o=e.append("g").lower(),u=o;i||(kr++,Object.keys(t.links||{}).length&&!r.forceMenus&&u.attr("onclick",Nx(`actor${kr}_popup`)).attr("cursor","pointer"),u.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),u=o.append("g"),t.actorCnt=kr,t.links!=null&&u.attr("id","root-"+kr));let h=ja(),d="actor";(E=t.properties)!=null&&E.class?d=t.properties.class:h.fill="#eaeaea",i?d+=` ${ou}`:d+=` ${su}`,h.x=t.x,h.y=n,h.width=t.width,h.height=t.height,h.class=d,h.name=t.name,h.x=t.x,h.y=n;let p=h.width/4,g=h.width/4,f=p/2,m=f/(2.5+p/50),x=u.append("g"),T=`
  M ${h.x},${h.y+m}
  a ${f},${m} 0 0 0 ${p},0
  a ${f},${m} 0 0 0 -${p},0
  l 0,${g-2*m}
  a ${f},${m} 0 0 0 ${p},0
  l 0,-${g-2*m}
`;x.append("path").attr("d",T).attr("fill","#eaeaea").attr("stroke","#000").attr("stroke-width",1).attr("class",d),i?x.attr("transform",`translate(${p*1.5}, ${h.height/4-2*m})`):x.attr("transform",`translate(${p*1.5}, ${(h.height+m)/4})`),t.rectData=h,ql(r,wi(t.description))(t.description,u,h.x,h.y+(i?(h.height+g)/4:(h.height+m)/2),h.width,h.height,{class:`actor ${Lx}`},r);let k=x.select("path:last-child");if(k.node()){let L=k.node().getBBox();t.height=L.height+((S=r.sequence.labelBoxHeight)!=null?S:0)}return t.height},"drawActorTypeDatabase"),EDe=l(function(e,t,r,i){var f;let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+80,o=30,u=e.append("g").lower();i||(kr++,u.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=kr);let h=e.append("g"),d=lu;i?d+=` ${ou}`:d+=` ${su}`,h.attr("class",d),h.attr("name",t.name);let p=ja();p.x=t.x,p.y=n,p.fill="#eaeaea",p.width=t.width,p.height=t.height,p.class="actor",h.append("line").attr("id","actor-man-torso"+kr).attr("x1",t.x+t.width/2-o*2.5).attr("y1",n+10).attr("x2",t.x+t.width/2-15).attr("y2",n+10),h.append("line").attr("id","actor-man-arms"+kr).attr("x1",t.x+t.width/2-o*2.5).attr("y1",n+0).attr("x2",t.x+t.width/2-o*2.5).attr("y2",n+20),h.append("circle").attr("cx",t.x+t.width/2).attr("cy",n+10).attr("r",o);let g=h.node().getBBox();return t.height=g.height+((f=r.sequence.labelBoxHeight)!=null?f:0),ql(r,wi(t.description))(t.description,h,p.x,p.y+(i?o/2-4:o/2+3),p.width,p.height,{class:`actor ${lu}`},r),i?h.attr("transform",`translate(0,${o/2+7})`):h.attr("transform",`translate(0,${o/2+7})`),t.height},"drawActorTypeBoundary"),CDe=l(function(e,t,r,i){let n=i?t.stopy:t.starty,a=t.x+t.width/2,s=n+80,o=e.append("g").lower();i||(kr++,o.append("line").attr("id","actor"+kr).attr("x1",a).attr("y1",s).attr("x2",a).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=kr);let u=e.append("g"),h=lu;i?h+=` ${ou}`:h+=` ${su}`,u.attr("class",h),u.attr("name",t.name);let d=ja();d.x=t.x,d.y=n,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,u.append("line").attr("id","actor-man-torso"+kr).attr("x1",a).attr("y1",n+25).attr("x2",a).attr("y2",n+45),u.append("line").attr("id","actor-man-arms"+kr).attr("x1",a-_h/2).attr("y1",n+33).attr("x2",a+_h/2).attr("y2",n+33),u.append("line").attr("x1",a-_h/2).attr("y1",n+60).attr("x2",a).attr("y2",n+45),u.append("line").attr("x1",a).attr("y1",n+45).attr("x2",a+_h/2-2).attr("y2",n+60);let p=u.append("circle");p.attr("cx",t.x+t.width/2),p.attr("cy",n+10),p.attr("r",15),p.attr("width",t.width),p.attr("height",t.height);let g=u.node().getBBox();return t.height=g.height,ql(r,wi(t.description))(t.description,u,d.x,d.y+35,d.width,d.height,{class:`actor ${lu}`},r),t.height},"drawActorTypeActor"),SDe=l(function(e,t,r,i){return xe(this,null,function*(){switch(t.type){case"actor":return yield CDe(e,t,r,i);case"participant":return yield vDe(e,t,r,i);case"boundary":return yield EDe(e,t,r,i);case"control":return yield wDe(e,t,r,i);case"entity":return yield kDe(e,t,r,i);case"database":return yield TDe(e,t,r,i);case"collections":return yield bDe(e,t,r,i);case"queue":return yield xDe(e,t,r,i)}})},"drawActor"),_De=l(function(e,t,r){let i=e.append("g");AU(i,t),t.name&&ql(r)(t.name,i,t.x,t.y+r.boxTextMargin+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),i.lower()},"drawBox"),ADe=l(function(e){return e.append("g")},"anchorElement"),LDe=l(function(e,t,r,i,n){let a=ja(),s=t.anchored;a.x=t.startx,a.y=t.starty,a.class="activation"+n%3,a.width=t.stopx-t.startx,a.height=r-t.starty,If(s,a)},"drawActivation"),NDe=l(function(e,t,r,i){return xe(this,null,function*(){let{boxMargin:n,boxTextMargin:a,labelBoxHeight:s,labelBoxWidth:o,messageFontFamily:u,messageFontSize:h,messageFontWeight:d}=i,p=e.append("g"),g=l(function(x,T,k,E){return p.append("line").attr("x1",x).attr("y1",T).attr("x2",k).attr("y2",E).attr("class","loopLine")},"drawLoopLine");g(t.startx,t.starty,t.stopx,t.starty),g(t.stopx,t.starty,t.stopx,t.stopy),g(t.startx,t.stopy,t.stopx,t.stopy),g(t.startx,t.starty,t.startx,t.stopy),t.sections!==void 0&&t.sections.forEach(function(x){g(t.startx,x.y,t.stopx,x.y).style("stroke-dasharray","3, 3")});let f=N5();f.text=r,f.x=t.startx,f.y=t.starty,f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=o||50,f.height=s||20,f.textMargin=a,f.class="labelText",SU(p,f),f=LU(),f.text=t.title,f.x=t.startx+o/2+(t.stopx-t.startx)/2,f.y=t.starty+n+a,f.anchor="middle",f.valign="middle",f.textMargin=a,f.class="loopText",f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.wrap=!0;let m=wi(f.text)?yield Mx(p,f,t):dp(p,f);if(t.sectionTitles!==void 0){for(let[x,T]of Object.entries(t.sectionTitles))if(T.message){f.text=T.message,f.x=t.startx+(t.stopx-t.startx)/2,f.y=t.sections[x].y+n+a,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=u,f.fontSize=h,f.fontWeight=d,f.wrap=t.wrap,wi(f.text)?(t.starty=t.sections[x].y,yield Mx(p,f,t)):dp(p,f);let k=Math.round(m.map(E=>(E._groups||E)[0][0].getBBox().height).reduce((E,S)=>E+S));t.sections[x].height+=k-(n+a)}}return t.height=Math.round(t.stopy-t.starty),p})},"drawLoop"),AU=l(function(e,t){s9(e,t)},"drawBackgroundRect"),MDe=l(function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},"insertDatabaseIcon"),IDe=l(function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},"insertComputerIcon"),DDe=l(function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},"insertClockIcon"),RDe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")},"insertArrowHead"),ODe=l(function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"insertArrowFilledHead"),PDe=l(function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},"insertSequenceNumber"),BDe=l(function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},"insertArrowCrossHead"),LU=l(function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},"getTextObj"),$De=l(function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),ql=(function(){function e(a,s,o,u,h,d,p){let g=s.append("text").attr("x",o+h/2).attr("y",u+d/2+5).style("text-anchor","middle").text(a);n(g,p)}l(e,"byText");function t(a,s,o,u,h,d,p,g){let{actorFontSize:f,actorFontFamily:m,actorFontWeight:x}=g,[T,k]=Fu(f),E=a.split(at.lineBreakRegex);for(let S=0;S<E.length;S++){let L=S*T-T*(E.length-1)/2,b=s.append("text").attr("x",o+h/2).attr("y",u).style("text-anchor","middle").style("font-size",k).style("font-weight",x).style("font-family",m);b.append("tspan").attr("x",o+h/2).attr("dy",L).text(E[S]),b.attr("y",u+d/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(b,p)}}l(t,"byTspan");function r(a,s,o,u,h,d,p,g){let f=s.append("switch"),m=f.append("foreignObject").attr("x",o).attr("y",u).attr("width",h).attr("height",d).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");m.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(a),t(a,f,o,u,h,d,p,g),n(m,p)}l(r,"byFo");function i(a,s,o,u,h,d,p,g){return xe(this,null,function*(){let f=yield jp(a,_r()),m=s.append("switch"),x=m.append("foreignObject").attr("x",o+h/2-f.width/2).attr("y",u+d/2-f.height/2).attr("width",f.width).attr("height",f.height).append("xhtml:div").style("height","100%").style("width","100%");x.append("div").style("text-align","center").style("vertical-align","middle").html(yield Hp(a,_r())),t(a,m,o,u,h,d,p,g),n(x,p)})}l(i,"byKatex");function n(a,s){for(let o in s)s.hasOwnProperty(o)&&a.attr(o,s[o])}return l(n,"_setTextAttrs"),function(a,s=!1){return s?i:a.textPlacement==="fo"?r:a.textPlacement==="old"?e:t}})(),FDe=(function(){function e(n,a,s,o,u,h,d){let p=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").text(n);i(p,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p){let{actorFontSize:g,actorFontFamily:f,actorFontWeight:m}=p,x=n.split(at.lineBreakRegex);for(let T=0;T<x.length;T++){let k=T*g-g*(x.length-1)/2,E=a.append("text").attr("x",s).attr("y",o).style("text-anchor","start").style("font-size",g).style("font-weight",m).style("font-family",f);E.append("tspan").attr("x",s).attr("dy",k).text(x[T]),E.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(E,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)a.hasOwnProperty(s)&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}})(),Ii={drawRect:If,drawText:dp,drawLabel:SU,drawActor:SDe,drawBox:_De,drawPopup:yDe,anchorElement:ADe,drawActivation:LDe,drawLoop:NDe,drawBackgroundRect:AU,insertArrowHead:RDe,insertArrowFilledHead:ODe,insertSequenceNumber:PDe,insertArrowCrossHead:BDe,insertDatabaseIcon:MDe,insertComputerIcon:IDe,insertClockIcon:DDe,getTextObj:LU,getNoteRect:$De,fixLifeLineHeights:_U,sanitizeUrl:CU.sanitizeUrl}});function zDe(e,t){return xe(this,null,function*(){et.bumpVerticalPos(10);let{startx:r,stopx:i,message:n}=t,a=at.splitBreaks(n).length,s=wi(n),o=s?yield jp(n,Ce()):cr.calculateTextDimensions(n,Ah(Me));if(!s){let p=o.height/a;t.height+=p,et.bumpVerticalPos(p)}let u,h=o.height-10,d=o.width;if(r===i){u=et.getVerticalPos()+h,Me.rightAngles||(h+=Me.boxMargin,u=et.getVerticalPos()+h),h+=30;let p=at.getMax(d/2,Me.width/2);et.insert(r-p,et.getVerticalPos()-10+h,i+p,et.getVerticalPos()+30+h)}else h+=Me.boxMargin,u=et.getVerticalPos()+h,et.insert(r,u-10,i,u);return et.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,et.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),u})}function Go(e,t,r,i,n){et.bumpVerticalPos(r);let a=i;if(t.id&&t.message&&e[t.id]){let s=e[t.id].width,o=Ah(Me);t.message=cr.wrapLabel(`[${t.message}]`,s-2*Me.wrapPadding,o),t.width=s,t.wrap=!0;let u=cr.calculateTextDimensions(t.message,o),h=at.getMax(u.height,Me.labelBoxHeight);a=i+h,ae.debug(`${h} - ${t.message}`)}n(t),et.bumpVerticalPos(a)}function GDe(e,t,r,i,n,a,s){function o(d,p){d.x<n.get(e.from).x?(et.insert(t.stopx-p,t.starty,t.startx,t.stopy+d.height/2+Me.noteMargin),t.stopx=t.stopx+p):(et.insert(t.startx,t.starty,t.stopx+p,t.stopy+d.height/2+Me.noteMargin),t.stopx=t.stopx-p)}l(o,"receiverAdjustment");function u(d,p){d.x<n.get(e.to).x?(et.insert(t.startx-p,t.starty,t.stopx,t.stopy+d.height/2+Me.noteMargin),t.startx=t.startx+p):(et.insert(t.stopx,t.starty,t.startx+p,t.stopy+d.height/2+Me.noteMargin),t.startx=t.startx-p)}l(u,"senderAdjustment");let h=[Ax.ACTOR,Ax.CONTROL,Ax.ENTITY,Ax.DATABASE];if(a.get(e.to)==i){let d=n.get(e.to),p=h.includes(d.type)?_h/2+3:d.width/2+3;o(d,p),d.starty=r-d.height/2,et.bumpVerticalPos(d.height/2)}else if(s.get(e.from)==i){let d=n.get(e.from);if(Me.mirrorActors){let p=h.includes(d.type)?_h/2:d.width/2;u(d,p)}d.stopy=r-d.height/2,et.bumpVerticalPos(d.height/2)}else if(s.get(e.to)==i){let d=n.get(e.to);if(Me.mirrorActors){let p=h.includes(d.type)?_h/2+3:d.width/2+3;o(d,p)}d.stopy=r-d.height/2,et.bumpVerticalPos(d.height/2)}}function UDe(e,t,r){return xe(this,null,function*(){let i={};for(let n of t)if(e.get(n.to)&&e.get(n.from)){let a=e.get(n.to);if(n.placement===r.db.PLACEMENT.LEFTOF&&!a.prevActor||n.placement===r.db.PLACEMENT.RIGHTOF&&!a.nextActor)continue;let s=n.placement!==void 0,o=!s,u=s?pp(Me):Ah(Me),h=n.wrap?cr.wrapLabel(n.message,Me.width-2*Me.wrapPadding,u):n.message,d=(wi(h)?yield jp(n.message,Ce()):cr.calculateTextDimensions(h,u)).width+2*Me.wrapPadding;o&&n.from===a.nextActor?i[n.to]=at.getMax(i[n.to]||0,d):o&&n.from===a.prevActor?i[n.from]=at.getMax(i[n.from]||0,d):o&&n.from===n.to?(i[n.from]=at.getMax(i[n.from]||0,d/2),i[n.to]=at.getMax(i[n.to]||0,d/2)):n.placement===r.db.PLACEMENT.RIGHTOF?i[n.from]=at.getMax(i[n.from]||0,d):n.placement===r.db.PLACEMENT.LEFTOF?i[a.prevActor]=at.getMax(i[a.prevActor]||0,d):n.placement===r.db.PLACEMENT.OVER&&(a.prevActor&&(i[a.prevActor]=at.getMax(i[a.prevActor]||0,d/2)),a.nextActor&&(i[n.from]=at.getMax(i[n.from]||0,d/2)))}return ae.debug("maxMessageWidthPerActor:",i),i})}function qDe(e,t,r){return xe(this,null,function*(){let i=0;for(let a of e.keys()){let s=e.get(a);s.wrap&&(s.description=cr.wrapLabel(s.description,Me.width-2*Me.wrapPadding,a8(Me)));let o=wi(s.description)?yield jp(s.description,Ce()):cr.calculateTextDimensions(s.description,a8(Me));s.width=s.wrap?Me.width:at.getMax(Me.width,o.width+2*Me.wrapPadding),s.height=s.wrap?at.getMax(o.height,Me.height):Me.height,i=at.getMax(i,s.height)}for(let a in t){let s=e.get(a);if(!s)continue;let o=e.get(s.nextActor);if(!o){let h=t[a]+Me.actorMargin-s.width/2;s.margin=at.getMax(h,Me.actorMargin);continue}let u=t[a]+Me.actorMargin-s.width/2-o.width/2;s.margin=at.getMax(u,Me.actorMargin)}let n=0;return r.forEach(a=>{let s=Ah(Me),o=a.actorKeys.reduce((p,g)=>p+=e.get(g).width+(e.get(g).margin||0),0),u=Me.boxMargin*8;o+=u,o-=2*Me.boxTextMargin,a.wrap&&(a.name=cr.wrapLabel(a.name,o-2*Me.wrapPadding,s));let h=cr.calculateTextDimensions(a.name,s);n=at.getMax(h.height,n);let d=at.getMax(o,h.width+2*Me.wrapPadding);if(a.margin=Me.boxTextMargin,o<d){let p=(d-o)/2;a.margin+=p}}),r.forEach(a=>a.textMaxHeight=n),at.getMax(i,Me.height)})}var Me,et,jDe,Ah,pp,a8,HDe,VDe,s8,NU,MU,Ix,IU,YDe,WDe,XDe,KDe,ZDe,QDe,QJe=B(()=>{"use strict";gr(),ZJe(),lt(),dr(),dr(),M5(),qt(),Wf(),Jt(),pn(),gDe(),Me={},et={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:l(function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(e=>e.height||0))+(this.loops.length===0?0:this.loops.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.messages.length===0?0:this.messages.map(e=>e.height||0).reduce((e,t)=>e+t))+(this.notes.length===0?0:this.notes.map(e=>e.height||0).reduce((e,t)=>e+t))},"getHeight"),clear:l(function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]},"clear"),addBox:l(function(e){this.boxes.push(e)},"addBox"),addActor:l(function(e){this.actors.push(e)},"addActor"),addLoop:l(function(e){this.loops.push(e)},"addLoop"),addMessage:l(function(e){this.messages.push(e)},"addMessage"),addNote:l(function(e){this.notes.push(e)},"addNote"),lastActor:l(function(){return this.actors[this.actors.length-1]},"lastActor"),lastLoop:l(function(){return this.loops[this.loops.length-1]},"lastLoop"),lastMessage:l(function(){return this.messages[this.messages.length-1]},"lastMessage"),lastNote:l(function(){return this.notes[this.notes.length-1]},"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:l(function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,MU(Ce())},"init"),updateVal:l(function(e,t,r,i){e[t]===void 0?e[t]=r:e[t]=i(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,i){let n=this,a=0;function s(o){return l(function(u){a++;let h=n.sequenceItems.length-a+1;n.updateVal(u,"starty",t-h*Me.boxMargin,Math.min),n.updateVal(u,"stopy",i+h*Me.boxMargin,Math.max),n.updateVal(et.data,"startx",e-h*Me.boxMargin,Math.min),n.updateVal(et.data,"stopx",r+h*Me.boxMargin,Math.max),o!=="activation"&&(n.updateVal(u,"startx",e-h*Me.boxMargin,Math.min),n.updateVal(u,"stopx",r+h*Me.boxMargin,Math.max),n.updateVal(et.data,"starty",t-h*Me.boxMargin,Math.min),n.updateVal(et.data,"stopy",i+h*Me.boxMargin,Math.max))},"updateItemBounds")}l(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))},"updateBounds"),insert:l(function(e,t,r,i){let n=at.getMin(e,r),a=at.getMax(e,r),s=at.getMin(t,i),o=at.getMax(t,i);this.updateVal(et.data,"startx",n,Math.min),this.updateVal(et.data,"starty",s,Math.min),this.updateVal(et.data,"stopx",a,Math.max),this.updateVal(et.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),newActivation:l(function(e,t,r){let i=r.get(e.from),n=Ix(e.from).length||0,a=i.x+i.width/2+(n-1)*Me.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Me.activationWidth,stopy:void 0,actor:e.from,anchored:Ii.anchorElement(t)})},"newActivation"),endActivation:l(function(e){let t=this.activations.map(function(r){return r.actor}).lastIndexOf(e.from);return this.activations.splice(t,1)[0]},"endActivation"),createLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}},"createLoop"),newLoop:l(function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))},"newLoop"),endLoop:l(function(){return this.sequenceItems.pop()},"endLoop"),isLoopOverlap:l(function(){return this.sequenceItems.length?this.sequenceItems[this.sequenceItems.length-1].overlap:!1},"isLoopOverlap"),addSectionToLoop:l(function(e){let t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:et.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)},"addSectionToLoop"),saveVerticalPos:l(function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)},"saveVerticalPos"),resetVerticalPos:l(function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)},"resetVerticalPos"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=at.getMax(this.data.stopy,this.verticalPos)},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return{bounds:this.data,models:this.models}},"getBounds")},jDe=l(function(e,t){return xe(this,null,function*(){et.bumpVerticalPos(Me.boxMargin),t.height=Me.boxMargin,t.starty=et.getVerticalPos();let r=ja();r.x=t.startx,r.y=t.starty,r.width=t.width||Me.width,r.class="note";let i=e.append("g"),n=Ii.drawRect(i,r),a=N5();a.x=t.startx,a.y=t.starty,a.width=r.width,a.dy="1em",a.text=t.message,a.class="noteText",a.fontFamily=Me.noteFontFamily,a.fontSize=Me.noteFontSize,a.fontWeight=Me.noteFontWeight,a.anchor=Me.noteAlign,a.textMargin=Me.noteMargin,a.valign="center";let s=wi(a.text)?yield Mx(i,a):dp(i,a),o=Math.round(s.map(u=>(u._groups||u)[0][0].getBBox().height).reduce((u,h)=>u+h));n.attr("height",o+2*Me.noteMargin),t.height+=o+2*Me.noteMargin,et.bumpVerticalPos(o+2*Me.noteMargin),t.stopy=t.starty+o+2*Me.noteMargin,t.stopx=t.startx+r.width,et.insert(t.startx,t.starty,t.stopx,t.stopy),et.models.addNote(t)})},"drawNote"),Ah=l(e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight}),"messageFont"),pp=l(e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight}),"noteFont"),a8=l(e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight}),"actorFont"),l(zDe,"boundMessage"),HDe=l(function(e,t,r,i){return xe(this,null,function*(){let{startx:n,stopx:a,starty:s,message:o,type:u,sequenceIndex:h,sequenceVisible:d}=t,p=cr.calculateTextDimensions(o,Ah(Me)),g=N5();g.x=n,g.y=s+10,g.width=a-n,g.class="messageText",g.dy="1em",g.text=o,g.fontFamily=Me.messageFontFamily,g.fontSize=Me.messageFontSize,g.fontWeight=Me.messageFontWeight,g.anchor=Me.messageAlign,g.valign="center",g.textMargin=Me.wrapPadding,g.tspan=!1,wi(g.text)?yield Mx(e,g,{startx:n,stopx:a,starty:r}):dp(e,g);let f=p.width,m;n===a?Me.rightAngles?m=e.append("path").attr("d",`M  ${n},${r} H ${n+at.getMax(Me.width/2,f/2)} V ${r+25} H ${n}`):m=e.append("path").attr("d","M "+n+","+r+" C "+(n+60)+","+(r-10)+" "+(n+60)+","+(r+30)+" "+n+","+(r+20)):(m=e.append("line"),m.attr("x1",n),m.attr("y1",r),m.attr("x2",a),m.attr("y2",r)),u===i.db.LINETYPE.DOTTED||u===i.db.LINETYPE.DOTTED_CROSS||u===i.db.LINETYPE.DOTTED_POINT||u===i.db.LINETYPE.DOTTED_OPEN||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED?(m.style("stroke-dasharray","3, 3"),m.attr("class","messageLine1")):m.attr("class","messageLine0");let x="";Me.arrowMarkerAbsolute&&(x=Dm(!0)),m.attr("stroke-width",2),m.attr("stroke","none"),m.style("fill","none"),(u===i.db.LINETYPE.SOLID||u===i.db.LINETYPE.DOTTED)&&m.attr("marker-end","url("+x+"#arrowhead)"),(u===i.db.LINETYPE.BIDIRECTIONAL_SOLID||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(m.attr("marker-start","url("+x+"#arrowhead)"),m.attr("marker-end","url("+x+"#arrowhead)")),(u===i.db.LINETYPE.SOLID_POINT||u===i.db.LINETYPE.DOTTED_POINT)&&m.attr("marker-end","url("+x+"#filled-head)"),(u===i.db.LINETYPE.SOLID_CROSS||u===i.db.LINETYPE.DOTTED_CROSS)&&m.attr("marker-end","url("+x+"#crosshead)"),(d||Me.showSequenceNumbers)&&((u===i.db.LINETYPE.BIDIRECTIONAL_SOLID||u===i.db.LINETYPE.BIDIRECTIONAL_DOTTED)&&(n<a?m.attr("x1",n+12):m.attr("x1",n+6)),e.append("line").attr("x1",n).attr("y1",r).attr("x2",n).attr("y2",r).attr("stroke-width",0).attr("marker-start","url("+x+"#sequencenumber)"),e.append("text").attr("x",n).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(h))})},"drawMessage"),VDe=l(function(e,t,r,i,n,a,s){let o=0,u=0,h,d=0;for(let p of i){let g=t.get(p),f=g.box;h&&h!=f&&(s||et.models.addBox(h),u+=Me.boxMargin+h.margin),f&&f!=h&&(s||(f.x=o+u,f.y=n),u+=f.margin),g.width=g.width||Me.width,g.height=at.getMax(g.height||Me.height,Me.height),g.margin=g.margin||Me.actorMargin,d=at.getMax(d,g.height),r.get(g.name)&&(u+=g.width/2),g.x=o+u,g.starty=et.getVerticalPos(),et.insert(g.x,n,g.x+g.width,g.height),o+=g.width+u,g.box&&(g.box.width=o+f.margin-g.box.x),u=g.margin,h=g.box,et.models.addActor(g)}h&&!s&&et.models.addBox(h),et.bumpVerticalPos(d)},"addActorRenderingData"),s8=l(function(e,t,r,i){return xe(this,null,function*(){if(i){let n=0;et.bumpVerticalPos(Me.boxMargin*2);for(let a of r){let s=t.get(a);s.stopy||(s.stopy=et.getVerticalPos());let o=yield Ii.drawActor(e,s,Me,!0);n=at.getMax(n,o)}et.bumpVerticalPos(n+Me.boxMargin)}else for(let n of r){let a=t.get(n);yield Ii.drawActor(e,a,Me,!1)}})},"drawActors"),NU=l(function(e,t,r,i){let n=0,a=0;for(let s of r){let o=t.get(s),u=WDe(o),h=Ii.drawPopup(e,o,u,Me,Me.forceMenus,i);h.height>n&&(n=h.height),h.width+o.x>a&&(a=h.width+o.x)}return{maxHeight:n,maxWidth:a}},"drawActorsPopup"),MU=l(function(e){Ai(Me,e),e.fontFamily&&(Me.actorFontFamily=Me.noteFontFamily=Me.messageFontFamily=e.fontFamily),e.fontSize&&(Me.actorFontSize=Me.noteFontSize=Me.messageFontSize=e.fontSize),e.fontWeight&&(Me.actorFontWeight=Me.noteFontWeight=Me.messageFontWeight=e.fontWeight)},"setConf"),Ix=l(function(e){return et.activations.filter(function(t){return t.actor===e})},"actorActivations"),IU=l(function(e,t){let r=t.get(e),i=Ix(e),n=i.reduce(function(s,o){return at.getMin(s,o.startx)},r.x+r.width/2-1),a=i.reduce(function(s,o){return at.getMax(s,o.stopx)},r.x+r.width/2+1);return[n,a]},"activationBounds"),l(Go,"adjustLoopHeightForWrap"),l(GDe,"adjustCreatedDestroyedData"),YDe=l(function(e,t,r,i){return xe(this,null,function*(){let{securityLevel:n,sequence:a}=Ce();Me=a;let s;n==="sandbox"&&(s=Ze("#i"+t));let o=Ze(n==="sandbox"?s.nodes()[0].contentDocument.body:"body"),u=n==="sandbox"?s.nodes()[0].contentDocument:document;et.init(),ae.debug(i.db);let h=n==="sandbox"?o.select(`[id="${t}"]`):Ze(`[id="${t}"]`),d=i.db.getActors(),p=i.db.getCreatedActors(),g=i.db.getDestroyedActors(),f=i.db.getBoxes(),m=i.db.getActorKeys(),x=i.db.getMessages(),T=i.db.getDiagramTitle(),k=i.db.hasAtLeastOneBox(),E=i.db.hasAtLeastOneBoxWithTitle(),S=yield UDe(d,x,i);if(Me.height=yield qDe(d,S,f),Ii.insertComputerIcon(h),Ii.insertDatabaseIcon(h),Ii.insertClockIcon(h),k&&(et.bumpVerticalPos(Me.boxMargin),E&&et.bumpVerticalPos(f[0].textMaxHeight)),Me.hideUnusedParticipants===!0){let D=new Set;x.forEach($=>{D.add($.from),D.add($.to)}),m=m.filter($=>D.has($))}VDe(h,d,p,m,0,x,!1);let L=yield ZDe(x,d,S,i);Ii.insertArrowHead(h),Ii.insertArrowCrossHead(h),Ii.insertArrowFilledHead(h),Ii.insertSequenceNumber(h);function b(D,$){let F=et.endActivation(D);F.starty+18>$&&(F.starty=$-6,$+=12),Ii.drawActivation(h,F,$,Me,Ix(D.from).length),et.insert(F.startx,$-10,F.stopx,$)}l(b,"activeEnd");let y=1,v=1,w=[],C=[],A=0;for(let D of x){let $,F,z;switch(D.type){case i.db.LINETYPE.NOTE:et.resetVerticalPos(),F=D.noteModel,yield jDe(h,F);break;case i.db.LINETYPE.ACTIVE_START:et.newActivation(D,h,d);break;case i.db.LINETYPE.ACTIVE_END:b(D,et.getVerticalPos());break;case i.db.LINETYPE.LOOP_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U));break;case i.db.LINETYPE.LOOP_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"loop",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;case i.db.LINETYPE.RECT_START:Go(L,D,Me.boxMargin,Me.boxMargin,U=>et.newLoop(void 0,U.message));break;case i.db.LINETYPE.RECT_END:$=et.endLoop(),C.push($),et.models.addLoop($),et.bumpVerticalPos($.stopy-et.getVerticalPos());break;case i.db.LINETYPE.OPT_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U));break;case i.db.LINETYPE.OPT_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"opt",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;case i.db.LINETYPE.ALT_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U));break;case i.db.LINETYPE.ALT_ELSE:Go(L,D,Me.boxMargin+Me.boxTextMargin,Me.boxMargin,U=>et.addSectionToLoop(U));break;case i.db.LINETYPE.ALT_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"alt",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U)),et.saveVerticalPos();break;case i.db.LINETYPE.PAR_AND:Go(L,D,Me.boxMargin+Me.boxTextMargin,Me.boxMargin,U=>et.addSectionToLoop(U));break;case i.db.LINETYPE.PAR_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"par",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;case i.db.LINETYPE.AUTONUMBER:y=D.message.start||y,v=D.message.step||v,D.message.visible?i.db.enableSequenceNumbers():i.db.disableSequenceNumbers();break;case i.db.LINETYPE.CRITICAL_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U));break;case i.db.LINETYPE.CRITICAL_OPTION:Go(L,D,Me.boxMargin+Me.boxTextMargin,Me.boxMargin,U=>et.addSectionToLoop(U));break;case i.db.LINETYPE.CRITICAL_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"critical",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;case i.db.LINETYPE.BREAK_START:Go(L,D,Me.boxMargin,Me.boxMargin+Me.boxTextMargin,U=>et.newLoop(U));break;case i.db.LINETYPE.BREAK_END:$=et.endLoop(),yield Ii.drawLoop(h,$,"break",Me),et.bumpVerticalPos($.stopy-et.getVerticalPos()),et.models.addLoop($);break;default:try{z=D.msgModel,z.starty=et.getVerticalPos(),z.sequenceIndex=y,z.sequenceVisible=i.db.showSequenceNumbers();let U=yield zDe(h,z);GDe(D,z,U,A,d,p,g),w.push({messageModel:z,lineStartY:U}),et.models.addMessage(z)}catch(U){ae.error("error while drawing message",U)}}[i.db.LINETYPE.SOLID_OPEN,i.db.LINETYPE.DOTTED_OPEN,i.db.LINETYPE.SOLID,i.db.LINETYPE.DOTTED,i.db.LINETYPE.SOLID_CROSS,i.db.LINETYPE.DOTTED_CROSS,i.db.LINETYPE.SOLID_POINT,i.db.LINETYPE.DOTTED_POINT,i.db.LINETYPE.BIDIRECTIONAL_SOLID,i.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(D.type)&&(y=y+v),A++}ae.debug("createdActors",p),ae.debug("destroyedActors",g),yield s8(h,d,m,!1);for(let D of w)yield HDe(h,D.messageModel,D.lineStartY,i);Me.mirrorActors&&(yield s8(h,d,m,!0)),C.forEach(D=>Ii.drawBackgroundRect(h,D)),_U(h,d,m,Me);for(let D of et.models.boxes){D.height=et.getVerticalPos()-D.y,et.insert(D.x,D.y,D.x+D.width,D.height);let $=Me.boxMargin*2;D.startx=D.x-$,D.starty=D.y-$*.25,D.stopx=D.startx+D.width+2*$,D.stopy=D.starty+D.height+$*.75,D.stroke="rgb(0,0,0, 0.5)",Ii.drawBox(h,D,Me)}k&&et.bumpVerticalPos(Me.boxMargin);let M=NU(h,d,m,u),{bounds:N}=et.getBounds();N.startx===void 0&&(N.startx=0),N.starty===void 0&&(N.starty=0),N.stopx===void 0&&(N.stopx=0),N.stopy===void 0&&(N.stopy=0);let O=N.stopy-N.starty;O<M.maxHeight&&(O=M.maxHeight);let _=O+2*Me.diagramMarginY;Me.mirrorActors&&(_=_-Me.boxMargin+Me.bottomMarginAdj);let I=N.stopx-N.startx;I<M.maxWidth&&(I=M.maxWidth);let R=I+2*Me.diagramMarginX;T&&h.append("text").text(T).attr("x",(N.stopx-N.startx)/2-2*Me.diagramMarginX).attr("y",-25),ta(h,_,R,Me.useMaxWidth);let P=T?40:0;h.attr("viewBox",N.startx-Me.diagramMarginX+" -"+(Me.diagramMarginY+P)+" "+R+" "+(_+P)),ae.debug("models:",et.models)})},"draw"),l(UDe,"getMaxMessageWidthPerActor"),WDe=l(function(e){let t=0,r=a8(Me);for(let i in e.links){let n=cr.calculateTextDimensions(i,r).width+2*Me.wrapPadding+2*Me.boxMargin;t<n&&(t=n)}return t},"getRequiredPopupWidth"),l(qDe,"calculateActorMargins"),XDe=l(function(e,t,r){return xe(this,null,function*(){let i=t.get(e.from),n=t.get(e.to),a=i.x,s=n.x,o=e.wrap&&e.message,u=wi(e.message)?yield jp(e.message,Ce()):cr.calculateTextDimensions(o?cr.wrapLabel(e.message,Me.width,pp(Me)):e.message,pp(Me)),h={width:o?Me.width:at.getMax(Me.width,u.width+2*Me.noteMargin),height:0,startx:i.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=o?at.getMax(Me.width,u.width):at.getMax(i.width/2+n.width/2,u.width+2*Me.noteMargin),h.startx=a+(i.width+Me.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=o?at.getMax(Me.width,u.width+2*Me.noteMargin):at.getMax(i.width/2+n.width/2,u.width+2*Me.noteMargin),h.startx=a-h.width+(i.width-Me.actorMargin)/2):e.to===e.from?(u=cr.calculateTextDimensions(o?cr.wrapLabel(e.message,at.getMax(Me.width,i.width),pp(Me)):e.message,pp(Me)),h.width=o?at.getMax(Me.width,i.width):at.getMax(i.width,Me.width,u.width+2*Me.noteMargin),h.startx=a+(i.width-h.width)/2):(h.width=Math.abs(a+i.width/2-(s+n.width/2))+Me.actorMargin,h.startx=a<s?a+i.width/2-Me.actorMargin/2:s+n.width/2-Me.actorMargin/2),o&&(h.message=cr.wrapLabel(e.message,h.width-2*Me.wrapPadding,pp(Me))),ae.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h})},"buildNoteModel"),KDe=l(function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};let[i,n]=IU(e.from,t),[a,s]=IU(e.to,t),o=i<=a,u=o?n:i,h=o?a:s,d=Math.abs(a-s)>2,p=l(x=>o?-x:x,"adjustValue");e.from===e.to?h=u:(e.activate&&!d&&(h+=p(Me.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=p(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(u-=p(3)));let g=[i,n,a,s],f=Math.abs(u-h);e.wrap&&e.message&&(e.message=cr.wrapLabel(e.message,at.getMax(f+2*Me.wrapPadding,Me.width),Ah(Me)));let m=cr.calculateTextDimensions(e.message,Ah(Me));return{width:at.getMax(e.wrap?0:m.width+2*Me.wrapPadding,f+2*Me.wrapPadding,Me.width),height:0,startx:u,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,g),toBounds:Math.max.apply(null,g)}},"buildMessageModel"),ZDe=l(function(e,t,r,i){return xe(this,null,function*(){let n={},a=[],s,o,u;for(let h of e){switch(h.type){case i.db.LINETYPE.LOOP_START:case i.db.LINETYPE.ALT_START:case i.db.LINETYPE.OPT_START:case i.db.LINETYPE.PAR_START:case i.db.LINETYPE.PAR_OVER_START:case i.db.LINETYPE.CRITICAL_START:case i.db.LINETYPE.BREAK_START:a.push({id:h.id,msg:h.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case i.db.LINETYPE.ALT_ELSE:case i.db.LINETYPE.PAR_AND:case i.db.LINETYPE.CRITICAL_OPTION:h.message&&(s=a.pop(),n[s.id]=s,n[h.id]=s,a.push(s));break;case i.db.LINETYPE.LOOP_END:case i.db.LINETYPE.ALT_END:case i.db.LINETYPE.OPT_END:case i.db.LINETYPE.PAR_END:case i.db.LINETYPE.CRITICAL_END:case i.db.LINETYPE.BREAK_END:s=a.pop(),n[s.id]=s;break;case i.db.LINETYPE.ACTIVE_START:{let d=t.get(h.from?h.from:h.to.actor),p=Ix(h.from?h.from:h.to.actor).length,g=d.x+d.width/2+(p-1)*Me.activationWidth/2,f={startx:g,stopx:g+Me.activationWidth,actor:h.from,enabled:!0};et.activations.push(f)}break;case i.db.LINETYPE.ACTIVE_END:{let d=et.activations.map(p=>p.actor).lastIndexOf(h.from);et.activations.splice(d,1).splice(0,1)}break}h.placement!==void 0?(o=yield XDe(h,t,i),h.noteModel=o,a.forEach(d=>{s=d,s.from=at.getMin(s.from,o.startx),s.to=at.getMax(s.to,o.startx+o.width),s.width=at.getMax(s.width,Math.abs(s.from-s.to))-Me.labelBoxWidth})):(u=KDe(h,t,i),h.msgModel=u,u.startx&&u.stopx&&a.length>0&&a.forEach(d=>{if(s=d,u.startx===u.stopx){let p=t.get(h.from),g=t.get(h.to);s.from=at.getMin(p.x-u.width/2,p.x-p.width/2,s.from),s.to=at.getMax(g.x+u.width/2,g.x+p.width/2,s.to),s.width=at.getMax(s.width,Math.abs(s.to-s.from))-Me.labelBoxWidth}else s.from=at.getMin(u.startx,s.from),s.to=at.getMax(u.stopx,s.to),s.width=at.getMax(s.width,u.width)-Me.labelBoxWidth}))}return et.activations=[],ae.debug("Loop type widths:",n),n})},"calculateLoopBounds"),QDe={bounds:et,drawActors:s8,drawActorsPopup:NU,setConf:MU,draw:YDe}}),JDe={};nr(JDe,{diagram:()=>eRe});var eRe,JJe=B(()=>{"use strict";XJe(),gDe(),KJe(),qt(),QJe(),eRe={parser:cDe,get db(){return new pDe},renderer:QDe,styles:mDe,init:l(e=>{e.sequence||(e.sequence={}),e.wrap&&(e.sequence.wrap=e.wrap,b3({sequence:{wrap:e.wrap}}))},"init")}}),o8,DU,tRe=B(()=>{"use strict";o8=(function(){var e=l(function(De,ve,Be,de){for(Be=Be||{},de=De.length;de--;Be[De[de]]=ve);return Be},"o"),t=[1,18],r=[1,19],i=[1,20],n=[1,41],a=[1,42],s=[1,26],o=[1,24],u=[1,25],h=[1,32],d=[1,33],p=[1,34],g=[1,45],f=[1,35],m=[1,36],x=[1,37],T=[1,38],k=[1,27],E=[1,28],S=[1,29],L=[1,30],b=[1,31],y=[1,44],v=[1,46],w=[1,43],C=[1,47],A=[1,9],M=[1,8,9],N=[1,58],O=[1,59],_=[1,60],I=[1,61],R=[1,62],P=[1,63],D=[1,64],$=[1,8,9,41],F=[1,76],z=[1,8,9,12,13,22,39,41,44,68,69,70,71,72,73,74,79,81],U=[1,8,9,12,13,18,20,22,39,41,44,50,60,68,69,70,71,72,73,74,79,81,86,100,102,103],j=[13,60,86,100,102,103],H=[13,60,73,74,86,100,102,103],Q=[13,60,68,69,70,71,72,86,100,102,103],re=[1,100],le=[1,117],oe=[1,113],W=[1,109],J=[1,115],Y=[1,110],X=[1,111],te=[1,112],ce=[1,114],K=[1,116],me=[22,48,60,61,82,86,87,88,89,90],Z=[1,8,9,39,41,44],Ae=[1,8,9,22],he=[1,145],Ne=[1,8,9,61],Pe=[1,8,9,22,48,60,61,82,86,87,88,89,90],He={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,classLiteralName:17,DOT:18,className:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,emptyBody:47,SPACE:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,NOTE_FOR:54,noteText:55,NOTE:56,CLASSDEF:57,classList:58,stylesOpt:59,ALPHA:60,COMMA:61,direction_tb:62,direction_bt:63,direction_rl:64,direction_lr:65,relationType:66,lineType:67,AGGREGATION:68,EXTENSION:69,COMPOSITION:70,DEPENDENCY:71,LOLLIPOP:72,LINE:73,DOTTED_LINE:74,CALLBACK:75,LINK:76,LINK_TARGET:77,CLICK:78,CALLBACK_NAME:79,CALLBACK_ARGS:80,HREF:81,STYLE:82,CSSCLASS:83,style:84,styleComponent:85,NUM:86,COLON:87,UNIT:88,BRKT:89,PCT:90,commentToken:91,textToken:92,graphCodeTokens:93,textNoTagsToken:94,TAGSTART:95,TAGEND:96,"==":97,"--":98,DEFAULT:99,MINUS:100,keywords:101,UNICODE_TEXT:102,BQUOTE_STR:103,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",18:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",48:"SPACE",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"NOTE_FOR",56:"NOTE",57:"CLASSDEF",60:"ALPHA",61:"COMMA",62:"direction_tb",63:"direction_bt",64:"direction_rl",65:"direction_lr",68:"AGGREGATION",69:"EXTENSION",70:"COMPOSITION",71:"DEPENDENCY",72:"LOLLIPOP",73:"LINE",74:"DOTTED_LINE",75:"CALLBACK",76:"LINK",77:"LINK_TARGET",78:"CLICK",79:"CALLBACK_NAME",80:"CALLBACK_ARGS",81:"HREF",82:"STYLE",83:"CSSCLASS",86:"NUM",87:"COLON",88:"UNIT",89:"BRKT",90:"PCT",93:"graphCodeTokens",95:"TAGSTART",96:"TAGEND",97:"==",98:"--",99:"DEFAULT",100:"MINUS",101:"keywords",102:"UNICODE_TEXT",103:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,1],[15,3],[15,2],[19,1],[19,3],[19,1],[19,2],[19,2],[19,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,3],[24,6],[43,2],[43,3],[47,0],[47,2],[47,2],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[58,1],[58,3],[32,1],[32,1],[32,1],[32,1],[53,3],[53,2],[53,2],[53,1],[66,1],[66,1],[66,1],[66,1],[66,1],[67,1],[67,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[59,1],[59,3],[84,1],[84,2],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[91,1],[91,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[92,1],[94,1],[94,1],[94,1],[94,1],[16,1],[16,1],[16,1],[16,1],[17,1],[55,1]],performAction:l(function(De,ve,Be,de,Ve,ee,Ie){var G=ee.length-1;switch(Ve){case 8:this.$=ee[G-1];break;case 9:case 10:case 13:case 15:this.$=ee[G];break;case 11:case 14:this.$=ee[G-2]+"."+ee[G];break;case 12:case 16:this.$=ee[G-1]+ee[G];break;case 17:case 18:this.$=ee[G-1]+"~"+ee[G]+"~";break;case 19:de.addRelation(ee[G]);break;case 20:ee[G-1].title=de.cleanupLabel(ee[G]),de.addRelation(ee[G-1]);break;case 31:this.$=ee[G].trim(),de.setAccTitle(this.$);break;case 32:case 33:this.$=ee[G].trim(),de.setAccDescription(this.$);break;case 34:de.addClassesToNamespace(ee[G-3],ee[G-1]);break;case 35:de.addClassesToNamespace(ee[G-4],ee[G-1]);break;case 36:this.$=ee[G],de.addNamespace(ee[G]);break;case 37:this.$=[ee[G]];break;case 38:this.$=[ee[G-1]];break;case 39:ee[G].unshift(ee[G-2]),this.$=ee[G];break;case 41:de.setCssClass(ee[G-2],ee[G]);break;case 42:de.addMembers(ee[G-3],ee[G-1]);break;case 44:de.setCssClass(ee[G-5],ee[G-3]),de.addMembers(ee[G-5],ee[G-1]);break;case 45:this.$=ee[G],de.addClass(ee[G]);break;case 46:this.$=ee[G-1],de.addClass(ee[G-1]),de.setClassLabel(ee[G-1],ee[G]);break;case 50:de.addAnnotation(ee[G],ee[G-2]);break;case 51:case 64:this.$=[ee[G]];break;case 52:ee[G].push(ee[G-1]),this.$=ee[G];break;case 53:break;case 54:de.addMember(ee[G-1],de.cleanupLabel(ee[G]));break;case 55:break;case 56:break;case 57:this.$={id1:ee[G-2],id2:ee[G],relation:ee[G-1],relationTitle1:"none",relationTitle2:"none"};break;case 58:this.$={id1:ee[G-3],id2:ee[G],relation:ee[G-1],relationTitle1:ee[G-2],relationTitle2:"none"};break;case 59:this.$={id1:ee[G-3],id2:ee[G],relation:ee[G-2],relationTitle1:"none",relationTitle2:ee[G-1]};break;case 60:this.$={id1:ee[G-4],id2:ee[G],relation:ee[G-2],relationTitle1:ee[G-3],relationTitle2:ee[G-1]};break;case 61:de.addNote(ee[G],ee[G-1]);break;case 62:de.addNote(ee[G]);break;case 63:this.$=ee[G-2],de.defineClass(ee[G-1],ee[G]);break;case 65:this.$=ee[G-2].concat([ee[G]]);break;case 66:de.setDirection("TB");break;case 67:de.setDirection("BT");break;case 68:de.setDirection("RL");break;case 69:de.setDirection("LR");break;case 70:this.$={type1:ee[G-2],type2:ee[G],lineType:ee[G-1]};break;case 71:this.$={type1:"none",type2:ee[G],lineType:ee[G-1]};break;case 72:this.$={type1:ee[G-1],type2:"none",lineType:ee[G]};break;case 73:this.$={type1:"none",type2:"none",lineType:ee[G]};break;case 74:this.$=de.relationType.AGGREGATION;break;case 75:this.$=de.relationType.EXTENSION;break;case 76:this.$=de.relationType.COMPOSITION;break;case 77:this.$=de.relationType.DEPENDENCY;break;case 78:this.$=de.relationType.LOLLIPOP;break;case 79:this.$=de.lineType.LINE;break;case 80:this.$=de.lineType.DOTTED_LINE;break;case 81:case 87:this.$=ee[G-2],de.setClickEvent(ee[G-1],ee[G]);break;case 82:case 88:this.$=ee[G-3],de.setClickEvent(ee[G-2],ee[G-1]),de.setTooltip(ee[G-2],ee[G]);break;case 83:this.$=ee[G-2],de.setLink(ee[G-1],ee[G]);break;case 84:this.$=ee[G-3],de.setLink(ee[G-2],ee[G-1],ee[G]);break;case 85:this.$=ee[G-3],de.setLink(ee[G-2],ee[G-1]),de.setTooltip(ee[G-2],ee[G]);break;case 86:this.$=ee[G-4],de.setLink(ee[G-3],ee[G-2],ee[G]),de.setTooltip(ee[G-3],ee[G-1]);break;case 89:this.$=ee[G-3],de.setClickEvent(ee[G-2],ee[G-1],ee[G]);break;case 90:this.$=ee[G-4],de.setClickEvent(ee[G-3],ee[G-2],ee[G-1]),de.setTooltip(ee[G-3],ee[G]);break;case 91:this.$=ee[G-3],de.setLink(ee[G-2],ee[G]);break;case 92:this.$=ee[G-4],de.setLink(ee[G-3],ee[G-1],ee[G]);break;case 93:this.$=ee[G-4],de.setLink(ee[G-3],ee[G-1]),de.setTooltip(ee[G-3],ee[G]);break;case 94:this.$=ee[G-5],de.setLink(ee[G-4],ee[G-2],ee[G]),de.setTooltip(ee[G-4],ee[G-1]);break;case 95:this.$=ee[G-2],de.setCssStyle(ee[G-1],ee[G]);break;case 96:de.setCssClass(ee[G-1],ee[G]);break;case 97:this.$=[ee[G]];break;case 98:ee[G-2].push(ee[G]),this.$=ee[G-2];break;case 100:this.$=ee[G-1]+ee[G];break}},"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:x,65:T,75:k,76:E,78:S,82:L,83:b,86:y,100:v,102:w,103:C},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(A,[2,5],{8:[1,48]}),{8:[1,49]},e(M,[2,19],{22:[1,50]}),e(M,[2,21]),e(M,[2,22]),e(M,[2,23]),e(M,[2,24]),e(M,[2,25]),e(M,[2,26]),e(M,[2,27]),e(M,[2,28]),e(M,[2,29]),e(M,[2,30]),{34:[1,51]},{36:[1,52]},e(M,[2,33]),e(M,[2,53],{53:53,66:56,67:57,13:[1,54],22:[1,55],68:N,69:O,70:_,71:I,72:R,73:P,74:D}),{39:[1,65]},e($,[2,40],{39:[1,67],44:[1,66]}),e(M,[2,55]),e(M,[2,56]),{16:68,60:g,86:y,100:v,102:w},{16:39,17:40,19:69,60:g,86:y,100:v,102:w,103:C},{16:39,17:40,19:70,60:g,86:y,100:v,102:w,103:C},{16:39,17:40,19:71,60:g,86:y,100:v,102:w,103:C},{60:[1,72]},{13:[1,73]},{16:39,17:40,19:74,60:g,86:y,100:v,102:w,103:C},{13:F,55:75},{58:77,60:[1,78]},e(M,[2,66]),e(M,[2,67]),e(M,[2,68]),e(M,[2,69]),e(z,[2,13],{16:39,17:40,19:80,18:[1,79],20:[1,81],60:g,86:y,100:v,102:w,103:C}),e(z,[2,15],{20:[1,82]}),{15:83,16:84,17:85,60:g,86:y,100:v,102:w,103:C},{16:39,17:40,19:86,60:g,86:y,100:v,102:w,103:C},e(U,[2,123]),e(U,[2,124]),e(U,[2,125]),e(U,[2,126]),e([1,8,9,12,13,20,22,39,41,44,68,69,70,71,72,73,74,79,81],[2,127]),e(A,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,19:21,38:22,43:23,16:39,17:40,5:87,33:t,35:r,37:i,42:n,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:x,65:T,75:k,76:E,78:S,82:L,83:b,86:y,100:v,102:w,103:C}),{5:88,10:5,16:39,17:40,19:21,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:i,38:22,42:n,43:23,46:a,49:s,51:o,52:u,54:h,56:d,57:p,60:g,62:f,63:m,64:x,65:T,75:k,76:E,78:S,82:L,83:b,86:y,100:v,102:w,103:C},e(M,[2,20]),e(M,[2,31]),e(M,[2,32]),{13:[1,90],16:39,17:40,19:89,60:g,86:y,100:v,102:w,103:C},{53:91,66:56,67:57,68:N,69:O,70:_,71:I,72:R,73:P,74:D},e(M,[2,54]),{67:92,73:P,74:D},e(j,[2,73],{66:93,68:N,69:O,70:_,71:I,72:R}),e(H,[2,74]),e(H,[2,75]),e(H,[2,76]),e(H,[2,77]),e(H,[2,78]),e(Q,[2,79]),e(Q,[2,80]),{8:[1,95],24:96,40:94,43:23,46:a},{16:97,60:g,86:y,100:v,102:w},{41:[1,99],45:98,51:re},{50:[1,101]},{13:[1,102]},{13:[1,103]},{79:[1,104],81:[1,105]},{22:le,48:oe,59:106,60:W,82:J,84:107,85:108,86:Y,87:X,88:te,89:ce,90:K},{60:[1,118]},{13:F,55:119},e(M,[2,62]),e(M,[2,128]),{22:le,48:oe,59:120,60:W,61:[1,121],82:J,84:107,85:108,86:Y,87:X,88:te,89:ce,90:K},e(me,[2,64]),{16:39,17:40,19:122,60:g,86:y,100:v,102:w,103:C},e(z,[2,16]),e(z,[2,17]),e(z,[2,18]),{39:[2,36]},{15:124,16:84,17:85,18:[1,123],39:[2,9],60:g,86:y,100:v,102:w,103:C},{39:[2,10]},e(Z,[2,45],{11:125,12:[1,126]}),e(A,[2,7]),{9:[1,127]},e(Ae,[2,57]),{16:39,17:40,19:128,60:g,86:y,100:v,102:w,103:C},{13:[1,130],16:39,17:40,19:129,60:g,86:y,100:v,102:w,103:C},e(j,[2,72],{66:131,68:N,69:O,70:_,71:I,72:R}),e(j,[2,71]),{41:[1,132]},{24:96,40:133,43:23,46:a},{8:[1,134],41:[2,37]},e($,[2,41],{39:[1,135]}),{41:[1,136]},e($,[2,43]),{41:[2,51],45:137,51:re},{16:39,17:40,19:138,60:g,86:y,100:v,102:w,103:C},e(M,[2,81],{13:[1,139]}),e(M,[2,83],{13:[1,141],77:[1,140]}),e(M,[2,87],{13:[1,142],80:[1,143]}),{13:[1,144]},e(M,[2,95],{61:he}),e(Ne,[2,97],{85:146,22:le,48:oe,60:W,82:J,86:Y,87:X,88:te,89:ce,90:K}),e(Pe,[2,99]),e(Pe,[2,101]),e(Pe,[2,102]),e(Pe,[2,103]),e(Pe,[2,104]),e(Pe,[2,105]),e(Pe,[2,106]),e(Pe,[2,107]),e(Pe,[2,108]),e(Pe,[2,109]),e(M,[2,96]),e(M,[2,61]),e(M,[2,63],{61:he}),{60:[1,147]},e(z,[2,14]),{15:148,16:84,17:85,60:g,86:y,100:v,102:w,103:C},{39:[2,12]},e(Z,[2,46]),{13:[1,149]},{1:[2,4]},e(Ae,[2,59]),e(Ae,[2,58]),{16:39,17:40,19:150,60:g,86:y,100:v,102:w,103:C},e(j,[2,70]),e(M,[2,34]),{41:[1,151]},{24:96,40:152,41:[2,38],43:23,46:a},{45:153,51:re},e($,[2,42]),{41:[2,52]},e(M,[2,50]),e(M,[2,82]),e(M,[2,84]),e(M,[2,85],{77:[1,154]}),e(M,[2,88]),e(M,[2,89],{13:[1,155]}),e(M,[2,91],{13:[1,157],77:[1,156]}),{22:le,48:oe,60:W,82:J,84:158,85:108,86:Y,87:X,88:te,89:ce,90:K},e(Pe,[2,100]),e(me,[2,65]),{39:[2,11]},{14:[1,159]},e(Ae,[2,60]),e(M,[2,35]),{41:[2,39]},{41:[1,160]},e(M,[2,86]),e(M,[2,90]),e(M,[2,92]),e(M,[2,93],{77:[1,161]}),e(Ne,[2,98],{85:146,22:le,48:oe,60:W,82:J,86:Y,87:X,88:te,89:ce,90:K}),e(Z,[2,8]),e($,[2,44]),e(M,[2,94])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,36],85:[2,10],124:[2,12],127:[2,4],137:[2,52],148:[2,11],152:[2,39]},parseError:l(function(De,ve){if(ve.recoverable)this.trace(De);else{var Be=new Error(De);throw Be.hash=ve,Be}},"parseError"),parse:l(function(De){var ve=this,Be=[0],de=[],Ve=[null],ee=[],Ie=this.table,G="",ie=0,se=0,pe=0,fe=2,be=1,Se=ee.slice.call(arguments,1),Te=Object.create(this.lexer),Ge={yy:{}};for(var Ye in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ye)&&(Ge.yy[Ye]=this.yy[Ye]);Te.setInput(De,Ge.yy),Ge.yy.lexer=Te,Ge.yy.parser=this,typeof Te.yylloc>"u"&&(Te.yylloc={});var st=Te.yylloc;ee.push(st);var ze=Te.options&&Te.options.ranges;typeof Ge.yy.parseError=="function"?this.parseError=Ge.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function We(Vt){Be.length=Be.length-2*Vt,Ve.length=Ve.length-Vt,ee.length=ee.length-Vt}l(We,"popStack");function je(){var Vt;return Vt=de.pop()||Te.lex()||be,typeof Vt!="number"&&(Vt instanceof Array&&(de=Vt,Vt=de.pop()),Vt=ve.symbols_[Vt]||Vt),Vt}l(je,"lex");for(var Ue,Ke,Et,ht,ct,St,rt={},gt,yt,Je,Qe;;){if(Et=Be[Be.length-1],this.defaultActions[Et]?ht=this.defaultActions[Et]:((Ue===null||typeof Ue>"u")&&(Ue=je()),ht=Ie[Et]&&Ie[Et][Ue]),typeof ht>"u"||!ht.length||!ht[0]){var Lt="";Qe=[];for(gt in Ie[Et])this.terminals_[gt]&&gt>fe&&Qe.push("'"+this.terminals_[gt]+"'");Te.showPosition?Lt="Parse error on line "+(ie+1)+`:
`+Te.showPosition()+`
Expecting `+Qe.join(", ")+", got '"+(this.terminals_[Ue]||Ue)+"'":Lt="Parse error on line "+(ie+1)+": Unexpected "+(Ue==be?"end of input":"'"+(this.terminals_[Ue]||Ue)+"'"),this.parseError(Lt,{text:Te.match,token:this.terminals_[Ue]||Ue,line:Te.yylineno,loc:st,expected:Qe})}if(ht[0]instanceof Array&&ht.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Et+", token: "+Ue);switch(ht[0]){case 1:Be.push(Ue),Ve.push(Te.yytext),ee.push(Te.yylloc),Be.push(ht[1]),Ue=null,Ke?(Ue=Ke,Ke=null):(se=Te.yyleng,G=Te.yytext,ie=Te.yylineno,st=Te.yylloc,pe>0&&pe--);break;case 2:if(yt=this.productions_[ht[1]][1],rt.$=Ve[Ve.length-yt],rt._$={first_line:ee[ee.length-(yt||1)].first_line,last_line:ee[ee.length-1].last_line,first_column:ee[ee.length-(yt||1)].first_column,last_column:ee[ee.length-1].last_column},ze&&(rt._$.range=[ee[ee.length-(yt||1)].range[0],ee[ee.length-1].range[1]]),St=this.performAction.apply(rt,[G,se,ie,Ge.yy,ht[1],Ve,ee].concat(Se)),typeof St<"u")return St;yt&&(Be=Be.slice(0,-1*yt*2),Ve=Ve.slice(0,-1*yt),ee=ee.slice(0,-1*yt)),Be.push(this.productions_[ht[1]][0]),Ve.push(rt.$),ee.push(rt._$),Je=Ie[Be[Be.length-2]][Be[Be.length-1]],Be.push(Je);break;case 3:return!0}}return!0},"parse")},qe=(function(){var De={EOF:1,parseError:l(function(ve,Be){if(this.yy.parser)this.yy.parser.parseError(ve,Be);else throw new Error(ve)},"parseError"),setInput:l(function(ve,Be){return this.yy=Be||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var ve=this._input[0];this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve;var Be=ve.match(/(?:\r\n?|\n).*/g);return Be?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},"input"),unput:l(function(ve){var Be=ve.length,de=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Be),this.offset-=Be;var Ve=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),de.length-1&&(this.yylineno-=de.length-1);var ee=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:de?(de.length===Ve.length?this.yylloc.first_column:0)+Ve[Ve.length-de.length].length-de[0].length:this.yylloc.first_column-Be},this.options.ranges&&(this.yylloc.range=[ee[0],ee[0]+this.yyleng-Be]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(ve){this.unput(this.match.slice(ve))},"less"),pastInput:l(function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var ve=this.pastInput(),Be=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+Be+"^"},"showPosition"),test_match:l(function(ve,Be){var de,Ve,ee;if(this.options.backtrack_lexer&&(ee={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ee.yylloc.range=this.yylloc.range.slice(0))),Ve=ve[0].match(/(?:\r\n?|\n).*/g),Ve&&(this.yylineno+=Ve.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ve?Ve[Ve.length-1].length-Ve[Ve.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],de=this.performAction.call(this,this.yy,this,Be,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),de)return de;if(this._backtrack){for(var Ie in ee)this[Ie]=ee[Ie];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,Be,de,Ve;this._more||(this.yytext="",this.match="");for(var ee=this._currentRules(),Ie=0;Ie<ee.length;Ie++)if(de=this._input.match(this.rules[ee[Ie]]),de&&(!Be||de[0].length>Be[0].length)){if(Be=de,Ve=Ie,this.options.backtrack_lexer){if(ve=this.test_match(de,ee[Ie]),ve!==!1)return ve;if(this._backtrack){Be=!1;continue}else return!1}else if(!this.options.flex)break}return Be?(ve=this.test_match(Be,ee[Ve]),ve!==!1?ve:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var ve=this.next();return ve||this.lex()},"lex"),begin:l(function(ve){this.conditionStack.push(ve)},"begin"),popState:l(function(){var ve=this.conditionStack.length-1;return ve>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},"topState"),pushState:l(function(ve){this.begin(ve)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(ve,Be,de,Ve){var ee=Ve;switch(de){case 0:return 62;case 1:return 63;case 2:return 64;case 3:return 65;case 4:break;case 5:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 8;case 14:break;case 15:return 7;case 16:return 7;case 17:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 19:this.popState();break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 79;case 22:this.popState();break;case 23:return 80;case 24:this.popState();break;case 25:return"STR";case 26:this.begin("string");break;case 27:return 82;case 28:return 57;case 29:return this.begin("namespace"),42;case 30:return this.popState(),8;case 31:break;case 32:return this.begin("namespace-body"),39;case 33:return this.popState(),41;case 34:return"EOF_IN_STRUCT";case 35:return 8;case 36:break;case 37:return"EDGE_STATE";case 38:return this.begin("class"),46;case 39:return this.popState(),8;case 40:break;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 43:return this.popState(),41;case 44:return"EOF_IN_STRUCT";case 45:return"EDGE_STATE";case 46:return"OPEN_IN_STRUCT";case 47:break;case 48:return"MEMBER";case 49:return 83;case 50:return 75;case 51:return 76;case 52:return 78;case 53:return 54;case 54:return 56;case 55:return 49;case 56:return 50;case 57:return 81;case 58:this.popState();break;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 61:this.popState();break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:return 77;case 65:return 77;case 66:return 77;case 67:return 77;case 68:return 69;case 69:return 69;case 70:return 71;case 71:return 71;case 72:return 70;case 73:return 68;case 74:return 72;case 75:return 73;case 76:return 74;case 77:return 22;case 78:return 44;case 79:return 100;case 80:return 18;case 81:return"PLUS";case 82:return 87;case 83:return 61;case 84:return 89;case 85:return 89;case 86:return 90;case 87:return"EQUALS";case 88:return"EQUALS";case 89:return 60;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 86;case 94:return 102;case 95:return 48;case 96:return 48;case 97:return 9}},"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}};return De})();He.lexer=qe;function _e(){this.yy={}}return l(_e,"Parser"),_e.prototype=He,He.Parser=_e,new _e})(),o8.parser=o8,DU=o8}),RU,OU,eet=B(()=>{"use strict";var e;qt(),dr(),RU=["#","+","~","-",""],OU=(e=class{constructor(r,i){this.memberType=i,this.visibility="",this.classifier="",this.text="";let n=Er(r,Ce());this.parseMember(n)}getDisplayDetails(){let r=this.visibility+ic(this.id);this.memberType==="method"&&(r+=`(${ic(this.parameters.trim())})`,this.returnType&&(r+=" : "+ic(this.returnType))),r=r.trim();let i=this.parseClassifier();return{displayText:r,cssStyle:i}}parseMember(r){let i="";if(this.memberType==="method"){let a=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(r);if(a){let s=a[1]?a[1].trim():"";if(RU.includes(s)&&(this.visibility=s),this.id=a[2],this.parameters=a[3]?a[3].trim():"",i=a[4]?a[4].trim():"",this.returnType=a[5]?a[5].trim():"",i===""){let o=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(o)&&(i=o,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{let a=r.length,s=r.substring(0,1),o=r.substring(a-1);RU.includes(s)&&(this.visibility=s),/[$*]/.exec(o)&&(i=o),this.id=r.substring(this.visibility===""?0:1,i===""?a:a-1)}this.classifier=i,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();let n=`${this.visibility?"\\"+this.visibility:""}${ic(this.id)}${this.memberType==="method"?`(${ic(this.parameters)})${this.returnType?" : "+ic(this.returnType):""}`:""}`;this.text=n.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},l(e,"ClassMember"),e)}),Dx,PU,Lh,BU,rRe=B(()=>{"use strict";var e;gr(),lt(),qt(),dr(),Jt(),Fi(),eet(),Dx="classId-",PU=0,Lh=l(t=>at.sanitizeText(t,Ce()),"sanitizeText"),BU=(e=class{constructor(){this.relations=[],this.classes=new Map,this.styleClasses=new Map,this.notes=[],this.interfaces=[],this.namespaces=new Map,this.namespaceCounter=0,this.functions=[],this.lineType={LINE:0,DOTTED_LINE:1},this.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},this.setupToolTips=l(r=>{let i=Ze(".mermaidTooltip");(i._groups||i)[0][0]===null&&(i=Ze("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),Ze(r).select("svg").selectAll("g.node").on("mouseover",n=>{let a=Ze(n.currentTarget);if(a.attr("title")===null)return;let s=this.getBoundingClientRect();i.transition().duration(200).style("opacity",".9"),i.text(a.attr("title")).style("left",window.scrollX+s.left+(s.right-s.left)/2+"px").style("top",window.scrollY+s.top-14+document.body.scrollTop+"px"),i.html(i.html().replace(/&lt;br\/&gt;/g,"<br/>")),a.classed("hover",!0)}).on("mouseout",n=>{i.transition().duration(500).style("opacity",0),Ze(n.currentTarget).classed("hover",!1)})},"setupToolTips"),this.direction="TB",this.setAccTitle=Bi,this.getAccTitle=Wi,this.setAccDescription=Xi,this.getAccDescription=Ki,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getConfig=l(()=>Ce().class,"getConfig"),this.functions.push(this.setupToolTips.bind(this)),this.clear(),this.addRelation=this.addRelation.bind(this),this.addClassesToNamespace=this.addClassesToNamespace.bind(this),this.addNamespace=this.addNamespace.bind(this),this.setCssClass=this.setCssClass.bind(this),this.addMembers=this.addMembers.bind(this),this.addClass=this.addClass.bind(this),this.setClassLabel=this.setClassLabel.bind(this),this.addAnnotation=this.addAnnotation.bind(this),this.addMember=this.addMember.bind(this),this.cleanupLabel=this.cleanupLabel.bind(this),this.addNote=this.addNote.bind(this),this.defineClass=this.defineClass.bind(this),this.setDirection=this.setDirection.bind(this),this.setLink=this.setLink.bind(this),this.bindFunctions=this.bindFunctions.bind(this),this.clear=this.clear.bind(this),this.setTooltip=this.setTooltip.bind(this),this.setClickEvent=this.setClickEvent.bind(this),this.setCssStyle=this.setCssStyle.bind(this)}splitClassNameAndType(r){let i=at.sanitizeText(r,Ce()),n="",a=i;if(i.indexOf("~")>0){let s=i.split("~");a=Lh(s[0]),n=Lh(s[1])}return{className:a,type:n}}setClassLabel(r,i){let n=at.sanitizeText(r,Ce());i&&(i=Lh(i));let{className:a}=this.splitClassNameAndType(n);this.classes.get(a).label=i,this.classes.get(a).text=`${i}${this.classes.get(a).type?`<${this.classes.get(a).type}>`:""}`}addClass(r){let i=at.sanitizeText(r,Ce()),{className:n,type:a}=this.splitClassNameAndType(i);if(this.classes.has(n))return;let s=at.sanitizeText(n,Ce());this.classes.set(s,{id:s,type:a,label:s,text:`${s}${a?`&lt;${a}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:Dx+s+"-"+PU}),PU++}addInterface(r,i){let n={id:`interface${this.interfaces.length}`,label:r,classId:i};this.interfaces.push(n)}lookUpDomId(r){let i=at.sanitizeText(r,Ce());if(this.classes.has(i))return this.classes.get(i).domId;throw new Error("Class not found: "+i)}clear(){this.relations=[],this.classes=new Map,this.notes=[],this.interfaces=[],this.functions=[],this.functions.push(this.setupToolTips.bind(this)),this.namespaces=new Map,this.namespaceCounter=0,this.direction="TB",Pi()}getClass(r){return this.classes.get(r)}getClasses(){return this.classes}getRelations(){return this.relations}getNotes(){return this.notes}addRelation(r){ae.debug("Adding relation: "+JSON.stringify(r));let i=[this.relationType.LOLLIPOP,this.relationType.AGGREGATION,this.relationType.COMPOSITION,this.relationType.DEPENDENCY,this.relationType.EXTENSION];r.relation.type1===this.relationType.LOLLIPOP&&!i.includes(r.relation.type2)?(this.addClass(r.id2),this.addInterface(r.id1,r.id2),r.id1=`interface${this.interfaces.length-1}`):r.relation.type2===this.relationType.LOLLIPOP&&!i.includes(r.relation.type1)?(this.addClass(r.id1),this.addInterface(r.id2,r.id1),r.id2=`interface${this.interfaces.length-1}`):(this.addClass(r.id1),this.addClass(r.id2)),r.id1=this.splitClassNameAndType(r.id1).className,r.id2=this.splitClassNameAndType(r.id2).className,r.relationTitle1=at.sanitizeText(r.relationTitle1.trim(),Ce()),r.relationTitle2=at.sanitizeText(r.relationTitle2.trim(),Ce()),this.relations.push(r)}addAnnotation(r,i){let n=this.splitClassNameAndType(r).className;this.classes.get(n).annotations.push(i)}addMember(r,i){this.addClass(r);let n=this.splitClassNameAndType(r).className,a=this.classes.get(n);if(typeof i=="string"){let s=i.trim();s.startsWith("<<")&&s.endsWith(">>")?a.annotations.push(Lh(s.substring(2,s.length-2))):s.indexOf(")")>0?a.methods.push(new OU(s,"method")):s&&a.members.push(new OU(s,"attribute"))}}addMembers(r,i){Array.isArray(i)&&(i.reverse(),i.forEach(n=>this.addMember(r,n)))}addNote(r,i){let n={id:`note${this.notes.length}`,class:i,text:r};this.notes.push(n)}cleanupLabel(r){return r.startsWith(":")&&(r=r.substring(1)),Lh(r.trim())}setCssClass(r,i){r.split(",").forEach(n=>{let a=n;/\d/.exec(n[0])&&(a=Dx+a);let s=this.classes.get(a);s&&(s.cssClasses+=" "+i)})}defineClass(r,i){for(let n of r){let a=this.styleClasses.get(n);a===void 0&&(a={id:n,styles:[],textStyles:[]},this.styleClasses.set(n,a)),i&&i.forEach(s=>{if(/color/.exec(s)){let o=s.replace("fill","bgFill");a.textStyles.push(o)}a.styles.push(s)}),this.classes.forEach(s=>{s.cssClasses.includes(n)&&s.styles.push(...i.flatMap(o=>o.split(",")))})}}setTooltip(r,i){r.split(",").forEach(n=>{i!==void 0&&(this.classes.get(n).tooltip=Lh(i))})}getTooltip(r,i){return i&&this.namespaces.has(i)?this.namespaces.get(i).classes.get(r).tooltip:this.classes.get(r).tooltip}setLink(r,i,n){let a=Ce();r.split(",").forEach(s=>{let o=s;/\d/.exec(s[0])&&(o=Dx+o);let u=this.classes.get(o);u&&(u.link=cr.formatUrl(i,a),a.securityLevel==="sandbox"?u.linkTarget="_top":typeof n=="string"?u.linkTarget=Lh(n):u.linkTarget="_blank")}),this.setCssClass(r,"clickable")}setClickEvent(r,i,n){r.split(",").forEach(a=>{this.setClickFunc(a,i,n),this.classes.get(a).haveCallback=!0}),this.setCssClass(r,"clickable")}setClickFunc(r,i,n){let a=at.sanitizeText(r,Ce());if(Ce().securityLevel!=="loose"||i===void 0)return;let s=a;if(this.classes.has(s)){let o=this.lookUpDomId(s),u=[];if(typeof n=="string"){u=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let h=0;h<u.length;h++){let d=u[h].trim();d.startsWith('"')&&d.endsWith('"')&&(d=d.substr(1,d.length-2)),u[h]=d}}u.length===0&&u.push(o),this.functions.push(()=>{let h=document.querySelector(`[id="${o}"]`);h!==null&&h.addEventListener("click",()=>{cr.runFunc(i,...u)},!1)})}}bindFunctions(r){this.functions.forEach(i=>{i(r)})}getDirection(){return this.direction}setDirection(r){this.direction=r}addNamespace(r){this.namespaces.has(r)||(this.namespaces.set(r,{id:r,classes:new Map,children:{},domId:Dx+r+"-"+this.namespaceCounter}),this.namespaceCounter++)}getNamespace(r){return this.namespaces.get(r)}getNamespaces(){return this.namespaces}addClassesToNamespace(r,i){if(this.namespaces.has(r))for(let n of i){let{className:a}=this.splitClassNameAndType(n);this.classes.get(a).parent=r,this.namespaces.get(r).classes.set(a,this.classes.get(a))}}setCssStyle(r,i){let n=this.classes.get(r);if(!(!i||!n))for(let a of i)a.includes(",")?n.styles.push(...a.split(",")):n.styles.push(a)}getArrowMarker(r){let i;switch(r){case 0:i="aggregation";break;case 1:i="extension";break;case 2:i="composition";break;case 3:i="dependency";break;case 4:i="lollipop";break;default:i="none"}return i}getData(){var s,o,u,h;let r=[],i=[],n=Ce();for(let d of this.namespaces.keys()){let p=this.namespaces.get(d);if(p){let g={id:p.id,label:p.id,isGroup:!0,padding:(s=n.class.padding)!=null?s:16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:n.look};r.push(g)}}for(let d of this.classes.keys()){let p=this.classes.get(d);if(p){let g=p;g.parentId=p.parent,g.look=n.look,r.push(g)}}let a=0;for(let d of this.notes){a++;let p={id:d.id,label:d.text,isGroup:!1,shape:"note",padding:(o=n.class.padding)!=null?o:6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${n.themeVariables.noteBkgColor}`,`stroke: ${n.themeVariables.noteBorderColor}`],look:n.look};r.push(p);let g=(h=(u=this.classes.get(d.class))==null?void 0:u.id)!=null?h:"";if(g){let f={id:`edgeNote${a}`,start:d.id,end:g,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:n.look};i.push(f)}}for(let d of this.interfaces){let p={id:d.id,label:d.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:n.look};r.push(p)}a=0;for(let d of this.relations){a++;let p={id:md(d.id1,d.id2,{prefix:"id",counter:a}),start:d.id1,end:d.id2,type:"normal",label:d.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:this.getArrowMarker(d.relation.type1),arrowTypeEnd:this.getArrowMarker(d.relation.type2),startLabelRight:d.relationTitle1==="none"?"":d.relationTitle1,endLabelLeft:d.relationTitle2==="none"?"":d.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:d.style||"",pattern:d.relation.lineType==1?"dashed":"solid",look:n.look};i.push(p)}return{nodes:r,edges:i,other:{},config:n,direction:this.getDirection()}}},l(e,"ClassDB"),e)}),iRe,$U,nRe=B(()=>{"use strict";Yv(),iRe=l(e=>`g.classGroup text {
  fill: ${e.nodeBorder||e.classText};
  stroke: none;
  font-family: ${e.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${e.classText};
}
.edgeLabel .label rect {
  fill: ${e.mainBkg};
}
.label text {
  fill: ${e.classText};
}

.labelBkg {
  background: ${e.mainBkg};
}
.edgeLabel .label span {
  background: ${e.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.classGroup line {
  stroke: ${e.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${e.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${e.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${e.lineColor} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: transparent !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${e.mainBkg} !important;
  stroke: ${e.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
  line-height: initial;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
  ${G1()}
`,"getStyles"),$U=iRe}),aRe,sRe,oRe,FU,lRe=B(()=>{"use strict";qt(),lt(),Vg(),a0(),s0(),Jt(),aRe=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),sRe=l(function(e,t){return t.db.getClasses()},"getClasses"),oRe=l(function(e,t,r,i){return xe(this,null,function*(){var d,p;ae.info("REF0:"),ae.info("Drawing class diagram (v3)",t);let{securityLevel:n,state:a,layout:s}=Ce(),o=i.db.getData(),u=Sd(t,n);o.type=i.type,o.layoutAlgorithm=z1(s),o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["aggregation","extension","composition","dependency","lollipop"],o.diagramId=t,yield n0(o,u),cr.insertTitle(u,"classDiagramTitleText",(d=a==null?void 0:a.titleTopMargin)!=null?d:25,i.db.getDiagramTitle()),ph(u,8,"classDiagram",(p=a==null?void 0:a.useMaxWidth)!=null?p:!0)})},"draw"),FU={getClasses:sRe,draw:oRe,getDir:aRe}}),cRe={};nr(cRe,{diagram:()=>uRe});var uRe,tet=B(()=>{"use strict";tRe(),rRe(),nRe(),lRe(),uRe={parser:DU,get db(){return new BU},renderer:FU,styles:$U,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),hRe={};nr(hRe,{diagram:()=>dRe});var dRe,ret=B(()=>{"use strict";tRe(),rRe(),nRe(),lRe(),dRe={parser:DU,get db(){return new BU},renderer:FU,styles:$U,init:l(e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),l8,zU,pRe=B(()=>{"use strict";l8=(function(){var e=l(function($,F,z,U){for(z=z||{},U=$.length;U--;z[$[U]]=F);return z},"o"),t=[1,2],r=[1,3],i=[1,4],n=[2,4],a=[1,9],s=[1,11],o=[1,16],u=[1,17],h=[1,18],d=[1,19],p=[1,33],g=[1,20],f=[1,21],m=[1,22],x=[1,23],T=[1,24],k=[1,26],E=[1,27],S=[1,28],L=[1,29],b=[1,30],y=[1,31],v=[1,32],w=[1,35],C=[1,36],A=[1,37],M=[1,38],N=[1,34],O=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],_=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,39,40,41,45,48,51,52,53,54,57],I=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],R={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,CLICK:38,STRING:39,HREF:40,classDef:41,CLASSDEF_ID:42,CLASSDEF_STYLEOPTS:43,DEFAULT:44,style:45,STYLE_IDS:46,STYLEDEF_STYLEOPTS:47,class:48,CLASSENTITY_IDS:49,STYLECLASS:50,direction_tb:51,direction_bt:52,direction_rl:53,direction_lr:54,eol:55,";":56,EDGE_STATE:57,STYLE_SEPARATOR:58,left_of:59,right_of:60,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"CLICK",39:"STRING",40:"HREF",41:"classDef",42:"CLASSDEF_ID",43:"CLASSDEF_STYLEOPTS",44:"DEFAULT",45:"style",46:"STYLE_IDS",47:"STYLEDEF_STYLEOPTS",48:"class",49:"CLASSENTITY_IDS",50:"STYLECLASS",51:"direction_tb",52:"direction_bt",53:"direction_rl",54:"direction_lr",56:";",57:"EDGE_STATE",58:"STYLE_SEPARATOR",59:"left_of",60:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[9,5],[9,5],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[55,1],[55,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:l(function($,F,z,U,j,H,Q){var re=H.length-1;switch(j){case 3:return U.setRootDoc(H[re]),H[re];case 4:this.$=[];break;case 5:H[re]!="nl"&&(H[re-1].push(H[re]),this.$=H[re-1]);break;case 6:case 7:this.$=H[re];break;case 8:this.$="nl";break;case 12:this.$=H[re];break;case 13:let J=H[re-1];J.description=U.trimColon(H[re]),this.$=J;break;case 14:this.$={stmt:"relation",state1:H[re-2],state2:H[re]};break;case 15:let Y=U.trimColon(H[re]);this.$={stmt:"relation",state1:H[re-3],state2:H[re-1],description:Y};break;case 19:this.$={stmt:"state",id:H[re-3],type:"default",description:"",doc:H[re-1]};break;case 20:var le=H[re],oe=H[re-2].trim();if(H[re].match(":")){var W=H[re].split(":");le=W[0],oe=[oe,W[1]]}this.$={stmt:"state",id:le,type:"default",description:oe};break;case 21:this.$={stmt:"state",id:H[re-3],type:"default",description:H[re-5],doc:H[re-1]};break;case 22:this.$={stmt:"state",id:H[re],type:"fork"};break;case 23:this.$={stmt:"state",id:H[re],type:"join"};break;case 24:this.$={stmt:"state",id:H[re],type:"choice"};break;case 25:this.$={stmt:"state",id:U.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:H[re-1].trim(),note:{position:H[re-2].trim(),text:H[re].trim()}};break;case 29:this.$=H[re].trim(),U.setAccTitle(this.$);break;case 30:case 31:this.$=H[re].trim(),U.setAccDescription(this.$);break;case 32:this.$={stmt:"click",id:H[re-3],url:H[re-2],tooltip:H[re-1]};break;case 33:this.$={stmt:"click",id:H[re-3],url:H[re-1],tooltip:""};break;case 34:case 35:this.$={stmt:"classDef",id:H[re-1].trim(),classes:H[re].trim()};break;case 36:this.$={stmt:"style",id:H[re-1].trim(),styleClass:H[re].trim()};break;case 37:this.$={stmt:"applyClass",id:H[re-1].trim(),styleClass:H[re].trim()};break;case 38:U.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:U.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:U.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:U.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:H[re].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:H[re-2].trim(),classes:[H[re].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:H[re-2].trim(),classes:[H[re].trim()],type:"default",description:""};break}},"anonymous"),table:[{3:1,4:t,5:r,6:i},{1:[3]},{3:5,4:t,5:r,6:i},{3:6,4:t,5:r,6:i},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,41,45,48,51,52,53,54,57],n,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:g,26:f,27:m,28:x,29:T,32:25,33:k,35:E,37:S,38:L,41:b,45:y,48:v,51:w,52:C,53:A,54:M,57:N},e(O,[2,5]),{9:39,10:12,11:13,12:14,13:15,16:o,17:u,19:h,22:d,24:p,25:g,26:f,27:m,28:x,29:T,32:25,33:k,35:E,37:S,38:L,41:b,45:y,48:v,51:w,52:C,53:A,54:M,57:N},e(O,[2,7]),e(O,[2,8]),e(O,[2,9]),e(O,[2,10]),e(O,[2,11]),e(O,[2,12],{14:[1,40],15:[1,41]}),e(O,[2,16]),{18:[1,42]},e(O,[2,18],{20:[1,43]}),{23:[1,44]},e(O,[2,22]),e(O,[2,23]),e(O,[2,24]),e(O,[2,25]),{30:45,31:[1,46],59:[1,47],60:[1,48]},e(O,[2,28]),{34:[1,49]},{36:[1,50]},e(O,[2,31]),{13:51,24:p,57:N},{42:[1,52],44:[1,53]},{46:[1,54]},{49:[1,55]},e(_,[2,44],{58:[1,56]}),e(_,[2,45],{58:[1,57]}),e(O,[2,38]),e(O,[2,39]),e(O,[2,40]),e(O,[2,41]),e(O,[2,6]),e(O,[2,13]),{13:58,24:p,57:N},e(O,[2,17]),e(I,n,{7:59}),{24:[1,60]},{24:[1,61]},{23:[1,62]},{24:[2,48]},{24:[2,49]},e(O,[2,29]),e(O,[2,30]),{39:[1,63],40:[1,64]},{43:[1,65]},{43:[1,66]},{47:[1,67]},{50:[1,68]},{24:[1,69]},{24:[1,70]},e(O,[2,14],{14:[1,71]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,72],22:d,24:p,25:g,26:f,27:m,28:x,29:T,32:25,33:k,35:E,37:S,38:L,41:b,45:y,48:v,51:w,52:C,53:A,54:M,57:N},e(O,[2,20],{20:[1,73]}),{31:[1,74]},{24:[1,75]},{39:[1,76]},{39:[1,77]},e(O,[2,34]),e(O,[2,35]),e(O,[2,36]),e(O,[2,37]),e(_,[2,46]),e(_,[2,47]),e(O,[2,15]),e(O,[2,19]),e(I,n,{7:78}),e(O,[2,26]),e(O,[2,27]),{5:[1,79]},{5:[1,80]},{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:o,17:u,19:h,21:[1,81],22:d,24:p,25:g,26:f,27:m,28:x,29:T,32:25,33:k,35:E,37:S,38:L,41:b,45:y,48:v,51:w,52:C,53:A,54:M,57:N},e(O,[2,32]),e(O,[2,33]),e(O,[2,21])],defaultActions:{5:[2,1],6:[2,2],47:[2,48],48:[2,49]},parseError:l(function($,F){if(F.recoverable)this.trace($);else{var z=new Error($);throw z.hash=F,z}},"parseError"),parse:l(function($){var F=this,z=[0],U=[],j=[null],H=[],Q=this.table,re="",le=0,oe=0,W=0,J=2,Y=1,X=H.slice.call(arguments,1),te=Object.create(this.lexer),ce={yy:{}};for(var K in this.yy)Object.prototype.hasOwnProperty.call(this.yy,K)&&(ce.yy[K]=this.yy[K]);te.setInput($,ce.yy),ce.yy.lexer=te,ce.yy.parser=this,typeof te.yylloc>"u"&&(te.yylloc={});var me=te.yylloc;H.push(me);var Z=te.options&&te.options.ranges;typeof ce.yy.parseError=="function"?this.parseError=ce.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ae(G){z.length=z.length-2*G,j.length=j.length-G,H.length=H.length-G}l(Ae,"popStack");function he(){var G;return G=U.pop()||te.lex()||Y,typeof G!="number"&&(G instanceof Array&&(U=G,G=U.pop()),G=F.symbols_[G]||G),G}l(he,"lex");for(var Ne,Pe,He,qe,_e,De,ve={},Be,de,Ve,ee;;){if(He=z[z.length-1],this.defaultActions[He]?qe=this.defaultActions[He]:((Ne===null||typeof Ne>"u")&&(Ne=he()),qe=Q[He]&&Q[He][Ne]),typeof qe>"u"||!qe.length||!qe[0]){var Ie="";ee=[];for(Be in Q[He])this.terminals_[Be]&&Be>J&&ee.push("'"+this.terminals_[Be]+"'");te.showPosition?Ie="Parse error on line "+(le+1)+`:
`+te.showPosition()+`
Expecting `+ee.join(", ")+", got '"+(this.terminals_[Ne]||Ne)+"'":Ie="Parse error on line "+(le+1)+": Unexpected "+(Ne==Y?"end of input":"'"+(this.terminals_[Ne]||Ne)+"'"),this.parseError(Ie,{text:te.match,token:this.terminals_[Ne]||Ne,line:te.yylineno,loc:me,expected:ee})}if(qe[0]instanceof Array&&qe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+He+", token: "+Ne);switch(qe[0]){case 1:z.push(Ne),j.push(te.yytext),H.push(te.yylloc),z.push(qe[1]),Ne=null,Pe?(Ne=Pe,Pe=null):(oe=te.yyleng,re=te.yytext,le=te.yylineno,me=te.yylloc,W>0&&W--);break;case 2:if(de=this.productions_[qe[1]][1],ve.$=j[j.length-de],ve._$={first_line:H[H.length-(de||1)].first_line,last_line:H[H.length-1].last_line,first_column:H[H.length-(de||1)].first_column,last_column:H[H.length-1].last_column},Z&&(ve._$.range=[H[H.length-(de||1)].range[0],H[H.length-1].range[1]]),De=this.performAction.apply(ve,[re,oe,le,ce.yy,qe[1],j,H].concat(X)),typeof De<"u")return De;de&&(z=z.slice(0,-1*de*2),j=j.slice(0,-1*de),H=H.slice(0,-1*de)),z.push(this.productions_[qe[1]][0]),j.push(ve.$),H.push(ve._$),Ve=Q[z[z.length-2]][z[z.length-1]],z.push(Ve);break;case 3:return!0}}return!0},"parse")},P=(function(){var $={EOF:1,parseError:l(function(F,z){if(this.yy.parser)this.yy.parser.parseError(F,z);else throw new Error(F)},"parseError"),setInput:l(function(F,z){return this.yy=z||this.yy||{},this._input=F,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var F=this._input[0];this.yytext+=F,this.yyleng++,this.offset++,this.match+=F,this.matched+=F;var z=F.match(/(?:\r\n?|\n).*/g);return z?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),F},"input"),unput:l(function(F){var z=F.length,U=F.split(/(?:\r\n?|\n)/g);this._input=F+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-z),this.offset-=z;var j=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),U.length-1&&(this.yylineno-=U.length-1);var H=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:U?(U.length===j.length?this.yylloc.first_column:0)+j[j.length-U.length].length-U[0].length:this.yylloc.first_column-z},this.options.ranges&&(this.yylloc.range=[H[0],H[0]+this.yyleng-z]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(F){this.unput(this.match.slice(F))},"less"),pastInput:l(function(){var F=this.matched.substr(0,this.matched.length-this.match.length);return(F.length>20?"...":"")+F.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var F=this.match;return F.length<20&&(F+=this._input.substr(0,20-F.length)),(F.substr(0,20)+(F.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var F=this.pastInput(),z=new Array(F.length+1).join("-");return F+this.upcomingInput()+`
`+z+"^"},"showPosition"),test_match:l(function(F,z){var U,j,H;if(this.options.backtrack_lexer&&(H={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(H.yylloc.range=this.yylloc.range.slice(0))),j=F[0].match(/(?:\r\n?|\n).*/g),j&&(this.yylineno+=j.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:j?j[j.length-1].length-j[j.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+F[0].length},this.yytext+=F[0],this.match+=F[0],this.matches=F,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(F[0].length),this.matched+=F[0],U=this.performAction.call(this,this.yy,this,z,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),U)return U;if(this._backtrack){for(var Q in H)this[Q]=H[Q];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var F,z,U,j;this._more||(this.yytext="",this.match="");for(var H=this._currentRules(),Q=0;Q<H.length;Q++)if(U=this._input.match(this.rules[H[Q]]),U&&(!z||U[0].length>z[0].length)){if(z=U,j=Q,this.options.backtrack_lexer){if(F=this.test_match(U,H[Q]),F!==!1)return F;if(this._backtrack){z=!1;continue}else return!1}else if(!this.options.flex)break}return z?(F=this.test_match(z,H[j]),F!==!1?F:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var F=this.next();return F||this.lex()},"lex"),begin:l(function(F){this.conditionStack.push(F)},"begin"),popState:l(function(){var F=this.conditionStack.length-1;return F>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(F){return F=this.conditionStack.length-1-Math.abs(F||0),F>=0?this.conditionStack[F]:"INITIAL"},"topState"),pushState:l(function(F){this.begin(F)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(F,z,U,j){var H=j;switch(U){case 0:return 38;case 1:return 40;case 2:return 39;case 3:return 44;case 4:return 51;case 5:return 52;case 6:return 53;case 7:return 54;case 8:break;case 9:break;case 10:return 5;case 11:break;case 12:break;case 13:break;case 14:break;case 15:return this.pushState("SCALE"),17;case 16:return 18;case 17:this.popState();break;case 18:return this.begin("acc_title"),33;case 19:return this.popState(),"acc_title_value";case 20:return this.begin("acc_descr"),35;case 21:return this.popState(),"acc_descr_value";case 22:this.begin("acc_descr_multiline");break;case 23:this.popState();break;case 24:return"acc_descr_multiline_value";case 25:return this.pushState("CLASSDEF"),41;case 26:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 27:return this.popState(),this.pushState("CLASSDEFID"),42;case 28:return this.popState(),43;case 29:return this.pushState("CLASS"),48;case 30:return this.popState(),this.pushState("CLASS_STYLE"),49;case 31:return this.popState(),50;case 32:return this.pushState("STYLE"),45;case 33:return this.popState(),this.pushState("STYLEDEF_STYLES"),46;case 34:return this.popState(),47;case 35:return this.pushState("SCALE"),17;case 36:return 18;case 37:this.popState();break;case 38:this.pushState("STATE");break;case 39:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),25;case 40:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),26;case 41:return this.popState(),z.yytext=z.yytext.slice(0,-10).trim(),27;case 42:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),25;case 43:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),26;case 44:return this.popState(),z.yytext=z.yytext.slice(0,-10).trim(),27;case 45:return 51;case 46:return 52;case 47:return 53;case 48:return 54;case 49:this.pushState("STATE_STRING");break;case 50:return this.pushState("STATE_ID"),"AS";case 51:return this.popState(),"ID";case 52:this.popState();break;case 53:return"STATE_DESCR";case 54:return 19;case 55:this.popState();break;case 56:return this.popState(),this.pushState("struct"),20;case 57:break;case 58:return this.popState(),21;case 59:break;case 60:return this.begin("NOTE"),29;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:return this.popState(),this.pushState("NOTE_ID"),60;case 63:this.popState(),this.pushState("FLOATING_NOTE");break;case 64:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 65:break;case 66:return"NOTE_TEXT";case 67:return this.popState(),"ID";case 68:return this.popState(),this.pushState("NOTE_TEXT"),24;case 69:return this.popState(),z.yytext=z.yytext.substr(2).trim(),31;case 70:return this.popState(),z.yytext=z.yytext.slice(0,-8).trim(),31;case 71:return 6;case 72:return 6;case 73:return 16;case 74:return 57;case 75:return 24;case 76:return z.yytext=z.yytext.trim(),14;case 77:return 15;case 78:return 28;case 79:return 58;case 80:return 5;case 81:return"INVALID"}},"anonymous"),rules:[/^(?:click\b)/i,/^(?:href\b)/i,/^(?:"[^"]*")/i,/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[12,13],inclusive:!1},struct:{rules:[12,13,25,29,32,38,45,46,47,48,57,58,59,60,74,75,76,77,78],inclusive:!1},FLOATING_NOTE_ID:{rules:[67],inclusive:!1},FLOATING_NOTE:{rules:[64,65,66],inclusive:!1},NOTE_TEXT:{rules:[69,70],inclusive:!1},NOTE_ID:{rules:[68],inclusive:!1},NOTE:{rules:[61,62,63],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[34],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[33],inclusive:!1},CLASS_STYLE:{rules:[31],inclusive:!1},CLASS:{rules:[30],inclusive:!1},CLASSDEFID:{rules:[28],inclusive:!1},CLASSDEF:{rules:[26,27],inclusive:!1},acc_descr_multiline:{rules:[23,24],inclusive:!1},acc_descr:{rules:[21],inclusive:!1},acc_title:{rules:[19],inclusive:!1},SCALE:{rules:[16,17,36,37],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[51],inclusive:!1},STATE_STRING:{rules:[52,53],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[12,13,39,40,41,42,43,44,49,50,54,55,56],inclusive:!1},ID:{rules:[12,13],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,13,14,15,18,20,22,25,29,32,35,38,56,60,71,72,73,74,75,76,77,79,80,81],inclusive:!0}}};return $})();R.lexer=P;function D(){this.yy={}}return l(D,"Parser"),D.prototype=R,R.Parser=D,new D})(),l8.parser=l8,zU=l8}),gp,fp,c8,gRe,fRe,mRe,Df,GU,UU,qU,jU,HU,u8,h8,yRe,vRe,VU,YU,bRe,xRe,Rf,wRe,kRe,WU,TRe,ERe,CRe,SRe,_Re,ARe,LRe,NRe,XU,KU,MRe,d8,IRe,ZU,QU=B(()=>{"use strict";gp="state",fp="root",c8="relation",gRe="classDef",fRe="style",mRe="applyClass",Df="default",GU="divider",UU="fill:none",qU="fill: #333",jU="text",HU="normal",u8="rect",h8="rectWithTitle",yRe="stateStart",vRe="stateEnd",VU="divider",YU="roundedWithTitle",bRe="note",xRe="noteGroup",Rf="statediagram",wRe="state",kRe=`${Rf}-${wRe}`,WU="transition",TRe="note",ERe="note-edge",CRe=`${WU} ${ERe}`,SRe=`${Rf}-${TRe}`,_Re="cluster",ARe=`${Rf}-${_Re}`,LRe="cluster-alt",NRe=`${Rf}-${LRe}`,XU="parent",KU="note",MRe="state",d8="----",IRe=`${d8}${KU}`,ZU=`${d8}${XU}`});function p8(e="",t=0,r="",i=d8){let n=r!==null&&r.length>0?`${i}${r}`:"";return`${MRe}-${e}${n}-${t}`}function Rx(e,t,r){if(!t.id||t.id==="</join></fork>"||t.id==="</choice>")return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach(n=>{var s;let a=r.get(n);a&&(t.cssCompiledStyles=[...(s=t.cssCompiledStyles)!=null?s:[],...a.styles])}));let i=e.find(n=>n.id===t.id);i?Object.assign(i,t):e.push(t)}function DRe(e){var t,r;return(r=(t=e==null?void 0:e.classes)==null?void 0:t.join(" "))!=null?r:""}function RRe(e){var t;return(t=e==null?void 0:e.styles)!=null?t:[]}var Ox,cu,ORe,JU,Of,PRe,iet=B(()=>{"use strict";qt(),lt(),dr(),QU(),Ox=new Map,cu=0,l(p8,"stateDomId"),ORe=l((e,t,r,i,n,a,s,o)=>{ae.trace("items",t),t.forEach(u=>{var h;switch(u.stmt){case gp:Of(e,u,r,i,n,a,s,o);break;case Df:Of(e,u,r,i,n,a,s,o);break;case c8:{Of(e,u.state1,r,i,n,a,s,o),Of(e,u.state2,r,i,n,a,s,o);let d={id:"edge"+cu,start:u.state1.id,end:u.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:UU,labelStyle:"",label:at.sanitizeText((h=u.description)!=null?h:"",Ce()),arrowheadStyle:qU,labelpos:"c",labelType:jU,thickness:HU,classes:WU,look:s};n.push(d),cu++}break}})},"setupDoc"),JU=l((e,t="TB")=>{let r=t;if(e.doc)for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),l(Rx,"insertOrUpdateNode"),l(DRe,"getClassesFromDbInfo"),l(RRe,"getStylesFromDbInfo"),Of=l((e,t,r,i,n,a,s,o)=>{var f,m,x;let u=t.id,h=r.get(u),d=DRe(h),p=RRe(h),g=Ce();if(ae.info("dataFetcher parsedItem",t,h,p),u!=="root"){let T=u8;t.start===!0?T=yRe:t.start===!1&&(T=vRe),t.type!==Df&&(T=t.type),Ox.get(u)||Ox.set(u,{id:u,shape:T,description:at.sanitizeText(u,g),cssClasses:`${d} ${kRe}`,cssStyles:p});let k=Ox.get(u);t.description&&(Array.isArray(k.description)?(k.shape=h8,k.description.push(t.description)):(f=k.description)!=null&&f.length&&k.description.length>0?(k.shape=h8,k.description===u?k.description=[t.description]:k.description=[k.description,t.description]):(k.shape=u8,k.description=t.description),k.description=at.sanitizeTextOrArray(k.description,g)),((m=k.description)==null?void 0:m.length)===1&&k.shape===h8&&(k.type==="group"?k.shape=YU:k.shape=u8),!k.type&&t.doc&&(ae.info("Setting cluster for XCX",u,JU(t)),k.type="group",k.isGroup=!0,k.dir=JU(t),k.shape=t.type===GU?VU:YU,k.cssClasses=`${k.cssClasses} ${ARe} ${a?NRe:""}`);let E={labelStyle:"",shape:k.shape,label:k.description,cssClasses:k.cssClasses,cssCompiledStyles:[],cssStyles:k.cssStyles,id:u,dir:k.dir,domId:p8(u,cu),type:k.type,isGroup:k.type==="group",padding:8,rx:10,ry:10,look:s};if(E.shape===VU&&(E.label=""),e&&e.id!=="root"&&(ae.trace("Setting node ",u," to be child of its parent ",e.id),E.parentId=e.id),E.centerLabel=!0,t.note){let S={labelStyle:"",shape:bRe,label:t.note.text,cssClasses:SRe,cssStyles:[],cssCompiledStyles:[],id:u+IRe+"-"+cu,domId:p8(u,cu,KU),type:k.type,isGroup:k.type==="group",padding:(x=g.flowchart)==null?void 0:x.padding,look:s,position:t.note.position},L=u+ZU,b={labelStyle:"",shape:xRe,label:t.note.text,cssClasses:k.cssClasses,cssStyles:[],id:u+ZU,domId:p8(u,cu,XU),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};cu++,b.id=L,S.parentId=L,Rx(i,b,o),Rx(i,S,o),Rx(i,E,o);let y=u,v=S.id;t.note.position==="left of"&&(y=S.id,v=u),n.push({id:y+"-"+v,start:y,end:v,arrowhead:"none",arrowTypeEnd:"",style:UU,labelStyle:"",classes:CRe,arrowheadStyle:qU,labelpos:"c",labelType:jU,thickness:HU,look:s})}else Rx(i,E,o)}t.doc&&(ae.trace("Adding nodes children "),ORe(t,t.doc,r,i,n,!a,s,o))},"dataFetcher"),PRe=l(()=>{Ox.clear(),cu=0},"reset")}),eq,BRe,$Re,FRe,zRe=B(()=>{"use strict";qt(),lt(),Vg(),a0(),s0(),Jt(),QU(),eq=l((e,t="TB")=>{if(!e.doc)return t;let r=t;for(let i of e.doc)i.stmt==="dir"&&(r=i.value);return r},"getDir"),BRe=l(function(e,t){return t.db.getClasses()},"getClasses"),$Re=l(function(e,t,r,i){return xe(this,null,function*(){var d,p;ae.info("REF0:"),ae.info("Drawing state diagram (v2)",t);let{securityLevel:n,state:a,layout:s}=Ce();i.db.extract(i.db.getRootDocV2());let o=i.db.getData(),u=Sd(t,n);o.type=i.type,o.layoutAlgorithm=s,o.nodeSpacing=(a==null?void 0:a.nodeSpacing)||50,o.rankSpacing=(a==null?void 0:a.rankSpacing)||50,o.markers=["barb"],o.diagramId=t,yield n0(o,u);let h=8;try{(typeof i.db.getLinks=="function"?i.db.getLinks():new Map).forEach((g,f)=>{var L;let m=typeof f=="string"?f:typeof(f==null?void 0:f.id)=="string"?f.id:"";if(!m){ae.warn("\u26A0\uFE0F Invalid or missing stateId from key:",JSON.stringify(f));return}let x=(L=u.node())==null?void 0:L.querySelectorAll("g"),T;if(x==null||x.forEach(b=>{var y;((y=b.textContent)==null?void 0:y.trim())===m&&(T=b)}),!T){ae.warn("\u26A0\uFE0F Could not find node matching text:",m);return}let k=T.parentNode;if(!k){ae.warn("\u26A0\uFE0F Node has no parent, cannot wrap:",m);return}let E=document.createElementNS("http://www.w3.org/2000/svg","a"),S=g.url.replace(/^"+|"+$/g,"");if(E.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S),E.setAttribute("target","_blank"),g.tooltip){let b=g.tooltip.replace(/^"+|"+$/g,"");E.setAttribute("title",b)}k.replaceChild(E,T),E.appendChild(T),ae.info("\u{1F517} Wrapped node in <a> tag for:",m,g.url)})}catch(g){ae.error("\u274C Error injecting clickable links:",g)}cr.insertTitle(u,"statediagramTitleText",(d=a==null?void 0:a.titleTopMargin)!=null?d:25,i.db.getDiagramTitle()),ph(u,h,Rf,(p=a==null?void 0:a.useMaxWidth)!=null?p:!0)})},"draw"),FRe={getClasses:BRe,draw:$Re,getDir:eq}}),fa,tq,rq,Px,Nh,iq=B(()=>{"use strict";var e;qt(),lt(),Jt(),dr(),Fi(),iet(),zRe(),QU(),fa={START_NODE:"[*]",START_TYPE:"start",END_NODE:"[*]",END_TYPE:"end",COLOR_KEYWORD:"color",FILL_KEYWORD:"fill",BG_FILL:"bgFill",STYLECLASS_SEP:","},tq=l(()=>new Map,"newClassesList"),rq=l(()=>({relations:[],states:new Map,documents:{}}),"newDoc"),Px=l(t=>JSON.parse(JSON.stringify(t)),"clone"),Nh=(e=class{constructor(r){this.version=r,this.nodes=[],this.edges=[],this.rootDoc=[],this.classes=tq(),this.documents={root:rq()},this.currentDocument=this.documents.root,this.startEndCount=0,this.dividerCnt=0,this.links=new Map,this.getAccTitle=Wi,this.setAccTitle=Bi,this.getAccDescription=Ki,this.setAccDescription=Xi,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.clear(),this.setRootDoc=this.setRootDoc.bind(this),this.getDividerId=this.getDividerId.bind(this),this.setDirection=this.setDirection.bind(this),this.trimColon=this.trimColon.bind(this)}extract(r){this.clear(!0);for(let a of Array.isArray(r)?r:r.doc)switch(a.stmt){case gp:this.addState(a.id.trim(),a.type,a.doc,a.description,a.note);break;case c8:this.addRelation(a.state1,a.state2,a.description);break;case gRe:this.addStyleClass(a.id.trim(),a.classes);break;case fRe:this.handleStyleDef(a);break;case mRe:this.setCssClass(a.id.trim(),a.styleClass);break;case"click":this.addLink(a.id,a.url,a.tooltip);break}let i=this.getStates(),n=Ce();PRe(),Of(void 0,this.getRootDocV2(),i,this.nodes,this.edges,!0,n.look,this.classes);for(let a of this.nodes)if(Array.isArray(a.label)){if(a.description=a.label.slice(1),a.isGroup&&a.description.length>0)throw new Error(`Group nodes can only have label. Remove the additional description for node [${a.id}]`);a.label=a.label[0]}}handleStyleDef(r){let i=r.id.trim().split(","),n=r.styleClass.split(",");for(let a of i){let s=this.getState(a);if(!s){let o=a.trim();this.addState(o),s=this.getState(o)}s&&(s.styles=n.map(o=>{var u;return(u=o.replace(/;/g,""))==null?void 0:u.trim()}))}}setRootDoc(r){ae.info("Setting root doc",r),this.rootDoc=r,this.version===1?this.extract(r):this.extract(this.getRootDocV2())}docTranslator(r,i,n){if(i.stmt===c8){this.docTranslator(r,i.state1,!0),this.docTranslator(r,i.state2,!1);return}if(i.stmt===gp&&(i.id===fa.START_NODE?(i.id=r.id+(n?"_start":"_end"),i.start=n):i.id=i.id.trim()),i.stmt!==fp&&i.stmt!==gp||!i.doc)return;let a=[],s=[];for(let o of i.doc)if(o.type===GU){let u=Px(o);u.doc=Px(s),a.push(u),s=[]}else s.push(o);if(a.length>0&&s.length>0){let o={stmt:gp,id:Q9(),type:"divider",doc:Px(s)};a.push(Px(o)),i.doc=a}i.doc.forEach(o=>this.docTranslator(i,o,!0))}getRootDocV2(){return this.docTranslator({id:fp,stmt:fp},{id:fp,stmt:fp,doc:this.rootDoc},!0),{id:fp,doc:this.rootDoc}}addState(r,i=Df,n=void 0,a=void 0,s=void 0,o=void 0,u=void 0,h=void 0){let d=r==null?void 0:r.trim();if(!this.currentDocument.states.has(d))ae.info("Adding state ",d,a),this.currentDocument.states.set(d,{stmt:gp,id:d,descriptions:[],type:i,doc:n,note:s,classes:[],styles:[],textStyles:[]});else{let p=this.currentDocument.states.get(d);if(!p)throw new Error(`State not found: ${d}`);p.doc||(p.doc=n),p.type||(p.type=i)}if(a&&(ae.info("Setting state description",d,a),(Array.isArray(a)?a:[a]).forEach(p=>this.addDescription(d,p.trim()))),s){let p=this.currentDocument.states.get(d);if(!p)throw new Error(`State not found: ${d}`);p.note=s,p.note.text=at.sanitizeText(p.note.text,Ce())}o&&(ae.info("Setting state classes",d,o),(Array.isArray(o)?o:[o]).forEach(p=>this.setCssClass(d,p.trim()))),u&&(ae.info("Setting state styles",d,u),(Array.isArray(u)?u:[u]).forEach(p=>this.setStyle(d,p.trim()))),h&&(ae.info("Setting state styles",d,u),(Array.isArray(h)?h:[h]).forEach(p=>this.setTextStyle(d,p.trim())))}clear(r){this.nodes=[],this.edges=[],this.documents={root:rq()},this.currentDocument=this.documents.root,this.startEndCount=0,this.classes=tq(),r||(this.links=new Map,Pi())}getState(r){return this.currentDocument.states.get(r)}getStates(){return this.currentDocument.states}logDocuments(){ae.info("Documents = ",this.documents)}getRelations(){return this.currentDocument.relations}addLink(r,i,n){this.links.set(r,{url:i,tooltip:n}),ae.warn("Adding link",r,i,n)}getLinks(){return this.links}startIdIfNeeded(r=""){return r===fa.START_NODE?(this.startEndCount++,`${fa.START_TYPE}${this.startEndCount}`):r}startTypeIfNeeded(r="",i=Df){return r===fa.START_NODE?fa.START_TYPE:i}endIdIfNeeded(r=""){return r===fa.END_NODE?(this.startEndCount++,`${fa.END_TYPE}${this.startEndCount}`):r}endTypeIfNeeded(r="",i=Df){return r===fa.END_NODE?fa.END_TYPE:i}addRelationObjs(r,i,n=""){let a=this.startIdIfNeeded(r.id.trim()),s=this.startTypeIfNeeded(r.id.trim(),r.type),o=this.startIdIfNeeded(i.id.trim()),u=this.startTypeIfNeeded(i.id.trim(),i.type);this.addState(a,s,r.doc,r.description,r.note,r.classes,r.styles,r.textStyles),this.addState(o,u,i.doc,i.description,i.note,i.classes,i.styles,i.textStyles),this.currentDocument.relations.push({id1:a,id2:o,relationTitle:at.sanitizeText(n,Ce())})}addRelation(r,i,n){if(typeof r=="object"&&typeof i=="object")this.addRelationObjs(r,i,n);else if(typeof r=="string"&&typeof i=="string"){let a=this.startIdIfNeeded(r.trim()),s=this.startTypeIfNeeded(r),o=this.endIdIfNeeded(i.trim()),u=this.endTypeIfNeeded(i);this.addState(a,s),this.addState(o,u),this.currentDocument.relations.push({id1:a,id2:o,relationTitle:n?at.sanitizeText(n,Ce()):void 0})}}addDescription(r,i){var s;let n=this.currentDocument.states.get(r),a=i.startsWith(":")?i.replace(":","").trim():i;(s=n==null?void 0:n.descriptions)==null||s.push(at.sanitizeText(a,Ce()))}cleanupLabel(r){return r.startsWith(":")?r.slice(2).trim():r.trim()}getDividerId(){return this.dividerCnt++,`divider-id-${this.dividerCnt}`}addStyleClass(r,i=""){this.classes.has(r)||this.classes.set(r,{id:r,styles:[],textStyles:[]});let n=this.classes.get(r);i&&n&&i.split(fa.STYLECLASS_SEP).forEach(a=>{let s=a.replace(/([^;]*);/,"$1").trim();if(RegExp(fa.COLOR_KEYWORD).exec(a)){let o=s.replace(fa.FILL_KEYWORD,fa.BG_FILL).replace(fa.COLOR_KEYWORD,fa.FILL_KEYWORD);n.textStyles.push(o)}n.styles.push(s)})}getClasses(){return this.classes}setCssClass(r,i){r.split(",").forEach(n=>{var s;let a=this.getState(n);if(!a){let o=n.trim();this.addState(o),a=this.getState(o)}(s=a==null?void 0:a.classes)==null||s.push(i)})}setStyle(r,i){var n,a;(a=(n=this.getState(r))==null?void 0:n.styles)==null||a.push(i)}setTextStyle(r,i){var n,a;(a=(n=this.getState(r))==null?void 0:n.textStyles)==null||a.push(i)}getDirectionStatement(){return this.rootDoc.find(r=>r.stmt==="dir")}getDirection(){var r,i;return(i=(r=this.getDirectionStatement())==null?void 0:r.value)!=null?i:"TB"}setDirection(r){let i=this.getDirectionStatement();i?i.value=r:this.rootDoc.unshift({stmt:"dir",value:r})}trimColon(r){return r.startsWith(":")?r.slice(1).trim():r.trim()}getData(){let r=Ce();return{nodes:this.nodes,edges:this.edges,other:{},config:r,direction:eq(this.getRootDocV2())}}getConfig(){return Ce().state}},l(e,"StateDB"),e.relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},e)}),GRe,nq,URe=B(()=>{"use strict";GRe=l(e=>`
defs #statediagram-barbEnd {
    fill: ${e.transitionColor};
    stroke: ${e.transitionColor};
  }
g.stateGroup text {
  fill: ${e.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${e.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${e.stateLabelColor};
}

g.stateGroup rect {
  fill: ${e.mainBkg};
  stroke: ${e.nodeBorder};
}

g.stateGroup line {
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${e.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${e.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${e.noteBorderColor};
  fill: ${e.noteBkgColor};

  text {
    fill: ${e.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${e.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${e.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel {
  background-color: ${e.edgeLabelBackground};
  p {
    background-color: ${e.edgeLabelBackground};
  }
  rect {
    opacity: 0.5;
    background-color: ${e.edgeLabelBackground};
    fill: ${e.edgeLabelBackground};
  }
  text-align: center;
}
.edgeLabel .label text {
  fill: ${e.transitionLabelColor||e.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${e.transitionLabelColor||e.tertiaryTextColor};
}

.stateLabel text {
  fill: ${e.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node .fork-join {
  fill: ${e.specialStateColor};
  stroke: ${e.specialStateColor};
}

.node circle.state-end {
  fill: ${e.innerEndBackground};
  stroke: ${e.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${e.compositeBackground||e.background};
  // stroke: ${e.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${e.stateBkg||e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${e.mainBkg};
  stroke: ${e.stateBorder||e.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${e.lineColor};
}

.statediagram-cluster rect {
  fill: ${e.compositeTitleBackground};
  stroke: ${e.stateBorder||e.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${e.stateLabelColor};
  // line-height: 1;
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${e.stateBorder||e.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${e.compositeBackground||e.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${e.altBackground?e.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${e.noteBkgColor};
  stroke: ${e.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${e.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${e.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${e.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${e.lineColor};
  stroke: ${e.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${e.textColor};
}
`,"getStyles"),nq=GRe}),qRe,jRe,HRe,VRe,YRe,WRe,XRe,KRe,ZRe,aq,sq,QRe,net=B(()=>{"use strict";gr(),iq(),Jt(),dr(),qt(),lt(),qRe=l(e=>e.append("circle").attr("class","start-state").attr("r",Ce().state.sizeUnit).attr("cx",Ce().state.padding+Ce().state.sizeUnit).attr("cy",Ce().state.padding+Ce().state.sizeUnit),"drawStartState"),jRe=l(e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",Ce().state.textHeight).attr("class","divider").attr("x2",Ce().state.textHeight*2).attr("y1",0).attr("y2",0),"drawDivider"),HRe=l((e,t)=>{let r=e.append("text").attr("x",2*Ce().state.padding).attr("y",Ce().state.textHeight+2*Ce().state.padding).attr("font-size",Ce().state.fontSize).attr("class","state-title").text(t.id),i=r.node().getBBox();return e.insert("rect",":first-child").attr("x",Ce().state.padding).attr("y",Ce().state.padding).attr("width",i.width+2*Ce().state.padding).attr("height",i.height+2*Ce().state.padding).attr("rx",Ce().state.radius),r},"drawSimpleState"),VRe=l((e,t)=>{let r=l(function(p,g,f){let m=p.append("tspan").attr("x",2*Ce().state.padding).text(g);f||m.attr("dy",Ce().state.textHeight)},"addTspan"),i=e.append("text").attr("x",2*Ce().state.padding).attr("y",Ce().state.textHeight+1.3*Ce().state.padding).attr("font-size",Ce().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),n=i.height,a=e.append("text").attr("x",Ce().state.padding).attr("y",n+Ce().state.padding*.4+Ce().state.dividerMargin+Ce().state.textHeight).attr("class","state-description"),s=!0,o=!0;t.descriptions.forEach(function(p){s||(r(a,p,o),o=!1),s=!1});let u=e.append("line").attr("x1",Ce().state.padding).attr("y1",Ce().state.padding+n+Ce().state.dividerMargin/2).attr("y2",Ce().state.padding+n+Ce().state.dividerMargin/2).attr("class","descr-divider"),h=a.node().getBBox(),d=Math.max(h.width,i.width);return u.attr("x2",d+3*Ce().state.padding),e.insert("rect",":first-child").attr("x",Ce().state.padding).attr("y",Ce().state.padding).attr("width",d+2*Ce().state.padding).attr("height",h.height+n+2*Ce().state.padding).attr("rx",Ce().state.radius),e},"drawDescrState"),YRe=l((e,t,r)=>{let i=Ce().state.padding,n=2*Ce().state.padding,a=e.node().getBBox(),s=a.width,o=a.x,u=e.append("text").attr("x",0).attr("y",Ce().state.titleShift).attr("font-size",Ce().state.fontSize).attr("class","state-title").text(t.id),h=u.node().getBBox().width+n,d=Math.max(h,s);d===s&&(d=d+n);let p,g=e.node().getBBox();t.doc,p=o-i,h>s&&(p=(s-d)/2+i),Math.abs(o-g.x)<i&&h>s&&(p=o-(h-s)/2);let f=1-Ce().state.textHeight;return e.insert("rect",":first-child").attr("x",p).attr("y",f).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",g.height+Ce().state.textHeight+Ce().state.titleShift+1).attr("rx","0"),u.attr("x",p+i),h<=s&&u.attr("x",o+(d-n)/2-h/2+i),e.insert("rect",":first-child").attr("x",p).attr("y",Ce().state.titleShift-Ce().state.textHeight-Ce().state.padding).attr("width",d).attr("height",Ce().state.textHeight*3).attr("rx",Ce().state.radius),e.insert("rect",":first-child").attr("x",p).attr("y",Ce().state.titleShift-Ce().state.textHeight-Ce().state.padding).attr("width",d).attr("height",g.height+3+2*Ce().state.textHeight).attr("rx",Ce().state.radius),e},"addTitleAndBox"),WRe=l(e=>(e.append("circle").attr("class","end-state-outer").attr("r",Ce().state.sizeUnit+Ce().state.miniPadding).attr("cx",Ce().state.padding+Ce().state.sizeUnit+Ce().state.miniPadding).attr("cy",Ce().state.padding+Ce().state.sizeUnit+Ce().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",Ce().state.sizeUnit).attr("cx",Ce().state.padding+Ce().state.sizeUnit+2).attr("cy",Ce().state.padding+Ce().state.sizeUnit+2)),"drawEndState"),XRe=l((e,t)=>{let r=Ce().state.forkWidth,i=Ce().state.forkHeight;if(t.parentId){let n=r;r=i,i=n}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",i).attr("x",Ce().state.padding).attr("y",Ce().state.padding)},"drawForkJoinState"),KRe=l((e,t,r,i)=>{let n=0,a=i.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");let o=s.split(at.lineBreakRegex),u=1.25*Ce().state.noteMargin;for(let h of o){let d=h.trim();if(d.length>0){let p=a.append("tspan");if(p.text(d),u===0){let g=p.node().getBBox();u+=g.height}n+=u,p.attr("x",t+Ce().state.noteMargin),p.attr("y",r+n+1.25*Ce().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:n}},"_drawLongText"),ZRe=l((e,t)=>{t.attr("class","state-note");let r=t.append("rect").attr("x",0).attr("y",Ce().state.padding),i=t.append("g"),{textWidth:n,textHeight:a}=KRe(e,0,0,i);return r.attr("height",a+2*Ce().state.noteMargin),r.attr("width",n+Ce().state.noteMargin*2),r},"drawNote"),aq=l(function(e,t){let r=t.id,i={id:r,label:t.id,width:0,height:0},n=e.append("g").attr("id",r).attr("class","stateGroup");t.type==="start"&&qRe(n),t.type==="end"&&WRe(n),(t.type==="fork"||t.type==="join")&&XRe(n,t),t.type==="note"&&ZRe(t.note.text,n),t.type==="divider"&&jRe(n),t.type==="default"&&t.descriptions.length===0&&HRe(n,t),t.type==="default"&&t.descriptions.length>0&&VRe(n,t);let a=n.node().getBBox();return i.width=a.width+2*Ce().state.padding,i.height=a.height+2*Ce().state.padding,i},"drawState"),sq=0,QRe=l(function(e,t,r){let i=l(function(u){switch(u){case Nh.relationType.AGGREGATION:return"aggregation";case Nh.relationType.EXTENSION:return"extension";case Nh.relationType.COMPOSITION:return"composition";case Nh.relationType.DEPENDENCY:return"dependency"}},"getRelationType");t.points=t.points.filter(u=>!Number.isNaN(u.y));let n=t.points,a=mg().x(function(u){return u.x}).y(function(u){return u.y}).curve(rd),s=e.append("path").attr("d",a(n)).attr("id","edge"+sq).attr("class","transition"),o="";if(Ce().state.arrowMarkerAbsolute&&(o=Dm(!0)),s.attr("marker-end","url("+o+"#"+i(Nh.relationType.DEPENDENCY)+"End)"),r.title!==void 0){let u=e.append("g").attr("class","stateLabel"),{x:h,y:d}=cr.calcLabelPosition(t.points),p=at.getRows(r.title),g=0,f=[],m=0,x=0;for(let E=0;E<=p.length;E++){let S=u.append("text").attr("text-anchor","middle").text(p[E]).attr("x",h).attr("y",d+g),L=S.node().getBBox();m=Math.max(m,L.width),x=Math.min(x,L.x),ae.info(L.x,h,d+g),g===0&&(g=S.node().getBBox().height,ae.info("Title height",g,d)),f.push(S)}let T=g*p.length;if(p.length>1){let E=(p.length-1)*g*.5;f.forEach((S,L)=>S.attr("y",d+L*g-E)),T=g*p.length}let k=u.node().getBBox();u.insert("rect",":first-child").attr("class","box").attr("x",h-m/2-Ce().state.padding/2).attr("y",d-T/2-Ce().state.padding/2-3.5).attr("width",m+Ce().state.padding).attr("height",T+Ce().state.padding),ae.info(k)}sq++},"drawEdge")}),ws,g8,JRe,eOe,tOe,rOe,oq,iOe,aet=B(()=>{"use strict";gr(),$xe(),To(),lt(),dr(),net(),qt(),pn(),g8={},JRe=l(function(){},"setConf"),eOe=l(function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"insertMarkers"),tOe=l(function(e,t,r,i){ws=Ce().state;let n=Ce().securityLevel,a;n==="sandbox"&&(a=Ze("#i"+t));let s=Ze(n==="sandbox"?a.nodes()[0].contentDocument.body:"body"),o=n==="sandbox"?a.nodes()[0].contentDocument:document;ae.debug("Rendering diagram "+e);let u=s.select(`[id='${t}']`);eOe(u);let h=i.db.getRootDoc();oq(h,u,void 0,!1,s,o,i);let d=ws.padding,p=u.node().getBBox(),g=p.width+d*2,f=p.height+d*2,m=g*1.75;ta(u,f,m,ws.useMaxWidth),u.attr("viewBox",`${p.x-ws.padding}  ${p.y-ws.padding} `+g+" "+f)},"draw"),rOe=l(e=>e?e.length*ws.fontSizeFactor:1,"getLabelWidth"),oq=l((e,t,r,i,n,a,s)=>{let o=new La({compound:!0,multigraph:!0}),u,h=!0;for(u=0;u<e.length;u++)if(e[u].stmt==="relation"){h=!1;break}r?o.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:h?1:ws.edgeLengthFactor,nodeSep:h?1:50,isMultiGraph:!0}):o.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:h?1:ws.edgeLengthFactor,nodeSep:h?1:50,ranker:"tight-tree",isMultiGraph:!0}),o.setDefaultEdgeLabel(function(){return{}});let d=s.db.getStates(),p=s.db.getRelations(),g=Object.keys(d),f=!0;for(let E of g){let S=d[E];r&&(S.parentId=r);let L;if(S.doc){let b=t.append("g").attr("id",S.id).attr("class","stateGroup");if(L=oq(S.doc,b,S.id,!i,n,a,s),f){b=YRe(b,S,i);let y=b.node().getBBox();L.width=y.width,L.height=y.height+ws.padding/2,g8[S.id]={y:ws.compositTitleSize}}else{let y=b.node().getBBox();L.width=y.width,L.height=y.height}}else L=aq(t,S,o);if(S.note){let b={descriptions:[],id:S.id+"-note",note:S.note,type:"note"},y=aq(t,b,o);S.note.position==="left of"?(o.setNode(L.id+"-note",y),o.setNode(L.id,L)):(o.setNode(L.id,L),o.setNode(L.id+"-note",y)),o.setParent(L.id,L.id+"-group"),o.setParent(L.id+"-note",L.id+"-group")}else o.setNode(L.id,L)}ae.debug("Count=",o.nodeCount(),o);let m=0;p.forEach(function(E){m++,ae.debug("Setting edge",E),o.setEdge(E.id1,E.id2,{relation:E,width:rOe(E.title),height:ws.labelHeight*at.getRows(E.title).length,labelpos:"c"},"id"+m)}),YI(o),ae.debug("Graph after layout",o.nodes());let x=t.node();o.nodes().forEach(function(E){E!==void 0&&o.node(E)!==void 0?(ae.warn("Node "+E+": "+JSON.stringify(o.node(E))),n.select("#"+x.id+" #"+E).attr("transform","translate("+(o.node(E).x-o.node(E).width/2)+","+(o.node(E).y+(g8[E]?g8[E].y:0)-o.node(E).height/2)+" )"),n.select("#"+x.id+" #"+E).attr("data-x-shift",o.node(E).x-o.node(E).width/2),a.querySelectorAll("#"+x.id+" #"+E+" .divider").forEach(S=>{let L=S.parentElement,b=0,y=0;L&&(L.parentElement&&(b=L.parentElement.getBBox().width),y=parseInt(L.getAttribute("data-x-shift"),10),Number.isNaN(y)&&(y=0)),S.setAttribute("x1",0-y+8),S.setAttribute("x2",b-y-8)})):ae.debug("No Node "+E+": "+JSON.stringify(o.node(E)))});let T=x.getBBox();o.edges().forEach(function(E){E!==void 0&&o.edge(E)!==void 0&&(ae.debug("Edge "+E.v+" -> "+E.w+": "+JSON.stringify(o.edge(E))),QRe(t,o.edge(E),o.edge(E).relation))}),T=x.getBBox();let k={id:r||"root",label:r||"root",width:0,height:0};return k.width=T.width+2*ws.padding,k.height=T.height+2*ws.padding,ae.debug("Doc rendered",k,o),k},"renderDoc"),iOe={setConf:JRe,draw:tOe}}),nOe={};nr(nOe,{diagram:()=>aOe});var aOe,set=B(()=>{"use strict";pRe(),iq(),URe(),aet(),aOe={parser:zU,get db(){return new Nh(1)},renderer:iOe,styles:nq,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),sOe={};nr(sOe,{diagram:()=>oOe});var oOe,oet=B(()=>{"use strict";pRe(),iq(),URe(),zRe(),oOe={parser:zU,get db(){return new Nh(2)},renderer:FRe,styles:nq,init:l(e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute},"init")}}),f8,lOe,cet=B(()=>{"use strict";f8=(function(){var e=l(function(p,g,f,m){for(f=f||{},m=p.length;m--;f[p[m]]=g);return f},"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,14],u={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:l(function(p,g,f,m,x,T,k){var E=T.length-1;switch(x){case 1:return T[E-1];case 2:this.$=[];break;case 3:T[E-1].push(T[E]),this.$=T[E-1];break;case 4:case 5:this.$=T[E];break;case 6:case 7:this.$=[];break;case 8:m.setDiagramTitle(T[E].substr(6)),this.$=T[E].substr(6);break;case 9:this.$=T[E].trim(),m.setAccTitle(this.$);break;case 10:case 11:this.$=T[E].trim(),m.setAccDescription(this.$);break;case 12:m.addSection(T[E].substr(8)),this.$=T[E].substr(8);break;case 13:m.addTask(T[E-1],T[E]),this.$="task";break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:o},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:i,14:n,16:a,17:s,18:o},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:l(function(p,g){if(g.recoverable)this.trace(p);else{var f=new Error(p);throw f.hash=g,f}},"parseError"),parse:l(function(p){var g=this,f=[0],m=[],x=[null],T=[],k=this.table,E="",S=0,L=0,b=0,y=2,v=1,w=T.slice.call(arguments,1),C=Object.create(this.lexer),A={yy:{}};for(var M in this.yy)Object.prototype.hasOwnProperty.call(this.yy,M)&&(A.yy[M]=this.yy[M]);C.setInput(p,A.yy),A.yy.lexer=C,A.yy.parser=this,typeof C.yylloc>"u"&&(C.yylloc={});var N=C.yylloc;T.push(N);var O=C.options&&C.options.ranges;typeof A.yy.parseError=="function"?this.parseError=A.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _(oe){f.length=f.length-2*oe,x.length=x.length-oe,T.length=T.length-oe}l(_,"popStack");function I(){var oe;return oe=m.pop()||C.lex()||v,typeof oe!="number"&&(oe instanceof Array&&(m=oe,oe=m.pop()),oe=g.symbols_[oe]||oe),oe}l(I,"lex");for(var R,P,D,$,F,z,U={},j,H,Q,re;;){if(D=f[f.length-1],this.defaultActions[D]?$=this.defaultActions[D]:((R===null||typeof R>"u")&&(R=I()),$=k[D]&&k[D][R]),typeof $>"u"||!$.length||!$[0]){var le="";re=[];for(j in k[D])this.terminals_[j]&&j>y&&re.push("'"+this.terminals_[j]+"'");C.showPosition?le="Parse error on line "+(S+1)+`:
`+C.showPosition()+`
Expecting `+re.join(", ")+", got '"+(this.terminals_[R]||R)+"'":le="Parse error on line "+(S+1)+": Unexpected "+(R==v?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(le,{text:C.match,token:this.terminals_[R]||R,line:C.yylineno,loc:N,expected:re})}if($[0]instanceof Array&&$.length>1)throw new Error("Parse Error: multiple actions possible at state: "+D+", token: "+R);switch($[0]){case 1:f.push(R),x.push(C.yytext),T.push(C.yylloc),f.push($[1]),R=null,P?(R=P,P=null):(L=C.yyleng,E=C.yytext,S=C.yylineno,N=C.yylloc,b>0&&b--);break;case 2:if(H=this.productions_[$[1]][1],U.$=x[x.length-H],U._$={first_line:T[T.length-(H||1)].first_line,last_line:T[T.length-1].last_line,first_column:T[T.length-(H||1)].first_column,last_column:T[T.length-1].last_column},O&&(U._$.range=[T[T.length-(H||1)].range[0],T[T.length-1].range[1]]),z=this.performAction.apply(U,[E,L,S,A.yy,$[1],x,T].concat(w)),typeof z<"u")return z;H&&(f=f.slice(0,-1*H*2),x=x.slice(0,-1*H),T=T.slice(0,-1*H)),f.push(this.productions_[$[1]][0]),x.push(U.$),T.push(U._$),Q=k[f[f.length-2]][f[f.length-1]],f.push(Q);break;case 3:return!0}}return!0},"parse")},h=(function(){var p={EOF:1,parseError:l(function(g,f){if(this.yy.parser)this.yy.parser.parseError(g,f);else throw new Error(g)},"parseError"),setInput:l(function(g,f){return this.yy=f||this.yy||{},this._input=g,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var g=this._input[0];this.yytext+=g,this.yyleng++,this.offset++,this.match+=g,this.matched+=g;var f=g.match(/(?:\r\n?|\n).*/g);return f?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),g},"input"),unput:l(function(g){var f=g.length,m=g.split(/(?:\r\n?|\n)/g);this._input=g+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-f),this.offset-=f;var x=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),m.length-1&&(this.yylineno-=m.length-1);var T=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:m?(m.length===x.length?this.yylloc.first_column:0)+x[x.length-m.length].length-m[0].length:this.yylloc.first_column-f},this.options.ranges&&(this.yylloc.range=[T[0],T[0]+this.yyleng-f]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(g){this.unput(this.match.slice(g))},"less"),pastInput:l(function(){var g=this.matched.substr(0,this.matched.length-this.match.length);return(g.length>20?"...":"")+g.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var g=this.match;return g.length<20&&(g+=this._input.substr(0,20-g.length)),(g.substr(0,20)+(g.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var g=this.pastInput(),f=new Array(g.length+1).join("-");return g+this.upcomingInput()+`
`+f+"^"},"showPosition"),test_match:l(function(g,f){var m,x,T;if(this.options.backtrack_lexer&&(T={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(T.yylloc.range=this.yylloc.range.slice(0))),x=g[0].match(/(?:\r\n?|\n).*/g),x&&(this.yylineno+=x.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:x?x[x.length-1].length-x[x.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+g[0].length},this.yytext+=g[0],this.match+=g[0],this.matches=g,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(g[0].length),this.matched+=g[0],m=this.performAction.call(this,this.yy,this,f,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),m)return m;if(this._backtrack){for(var k in T)this[k]=T[k];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var g,f,m,x;this._more||(this.yytext="",this.match="");for(var T=this._currentRules(),k=0;k<T.length;k++)if(m=this._input.match(this.rules[T[k]]),m&&(!f||m[0].length>f[0].length)){if(f=m,x=k,this.options.backtrack_lexer){if(g=this.test_match(m,T[k]),g!==!1)return g;if(this._backtrack){f=!1;continue}else return!1}else if(!this.options.flex)break}return f?(g=this.test_match(f,T[x]),g!==!1?g:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var g=this.next();return g||this.lex()},"lex"),begin:l(function(g){this.conditionStack.push(g)},"begin"),popState:l(function(){var g=this.conditionStack.length-1;return g>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(g){return g=this.conditionStack.length-1-Math.abs(g||0),g>=0?this.conditionStack[g]:"INITIAL"},"topState"),pushState:l(function(g){this.begin(g)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(g,f,m,x){var T=x;switch(m){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}};return p})();u.lexer=h;function d(){this.yy={}}return l(d,"Parser"),d.prototype=u,u.Parser=d,new d})(),f8.parser=f8,lOe=f8}),mp,m8,Pf,Bf,cOe,uOe,hOe,dOe,pOe,gOe,fOe,lq,mOe,cq,uet=B(()=>{"use strict";qt(),Fi(),mp="",m8=[],Pf=[],Bf=[],cOe=l(function(){m8.length=0,Pf.length=0,mp="",Bf.length=0,Pi()},"clear"),uOe=l(function(e){mp=e,m8.push(e)},"addSection"),hOe=l(function(){return m8},"getSections"),dOe=l(function(){let e=lq(),t=100,r=0;for(;!e&&r<t;)e=lq(),r++;return Pf.push(...Bf),Pf},"getTasks"),pOe=l(function(){let e=[];return Pf.forEach(t=>{t.people&&e.push(...t.people)}),[...new Set(e)].sort()},"updateActors"),gOe=l(function(e,t){let r=t.substr(1).split(":"),i=0,n=[];r.length===1?(i=Number(r[0]),n=[]):(i=Number(r[0]),n=r[1].split(","));let a=n.map(o=>o.trim()),s={section:mp,type:mp,people:a,task:e,score:i};Bf.push(s)},"addTask"),fOe=l(function(e){let t={section:mp,type:mp,description:e,task:e,classes:[]};Pf.push(t)},"addTaskOrg"),lq=l(function(){let e=l(function(r){return Bf[r].processed},"compileTask"),t=!0;for(let[r,i]of Bf.entries())e(r),t=t&&i.processed;return t},"compileTasks"),mOe=l(function(){return pOe()},"getActors"),cq={getConfig:l(()=>Ce().journey,"getConfig"),clear:cOe,setDiagramTitle:gn,getDiagramTitle:$i,setAccTitle:Bi,getAccTitle:Wi,setAccDescription:Xi,getAccDescription:Ki,addSection:uOe,getSections:hOe,getTasks:dOe,addTask:gOe,addTaskOrg:fOe,getActors:mOe}}),yOe,vOe,het=B(()=>{"use strict";Yv(),yOe=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${e.textColor}
  }

  .legend {
    fill: ${e.textColor};
    font-family: ${e.fontFamily};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${e.textColor}
  }

  .face {
    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${e.fillType0?`fill: ${e.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${e.fillType0?`fill: ${e.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${e.fillType0?`fill: ${e.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${e.fillType0?`fill: ${e.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${e.fillType0?`fill: ${e.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${e.fillType0?`fill: ${e.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${e.fillType0?`fill: ${e.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${e.fillType0?`fill: ${e.fillType7}`:""};
  }

  .actor-0 {
    ${e.actor0?`fill: ${e.actor0}`:""};
  }
  .actor-1 {
    ${e.actor1?`fill: ${e.actor1}`:""};
  }
  .actor-2 {
    ${e.actor2?`fill: ${e.actor2}`:""};
  }
  .actor-3 {
    ${e.actor3?`fill: ${e.actor3}`:""};
  }
  .actor-4 {
    ${e.actor4?`fill: ${e.actor4}`:""};
  }
  .actor-5 {
    ${e.actor5?`fill: ${e.actor5}`:""};
  }
  ${G1()}
`,"getStyles"),vOe=yOe}),y8,bOe,uq,hq,xOe,wOe,dq,kOe,TOe,pq,EOe,$f,det=B(()=>{"use strict";gr(),M5(),y8=l(function(e,t){return _y(e,t)},"drawRect"),bOe=l(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let u=td().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}l(n,"smile");function a(o){let u=td().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),t.score>3?n(i):t.score<3?a(i):s(i),r},"drawFace"),uq=l(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),hq=l(function(e,t){return Ure(e,t)},"drawText"),xOe=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");i.attr("points",r(t.x,t.y,50,20,7)),i.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,hq(e,t)},"drawLabel"),wOe=l(function(e,t,r){let i=e.append("g"),n=ja();n.x=t.x,n.y=t.y,n.fill=t.fill,n.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),n.height=r.height,n.class="journey-section section-type-"+t.num,n.rx=3,n.ry=3,y8(i,n),pq(r)(t.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),dq=-1,kOe=l(function(e,t,r){let i=t.x+r.width/2,n=e.append("g");dq++,n.append("line").attr("id","task"+dq).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),bOe(n,{cx:i,cy:300+(5-t.score)*30,score:t.score});let a=ja();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,y8(n,a);let s=t.x+14;t.people.forEach(o=>{let u=t.actors[o].color,h={cx:s,cy:t.y,r:7,fill:u,stroke:"#000",title:o,pos:t.actors[o].position};uq(n,h),s+=10}),pq(r)(t.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),TOe=l(function(e,t){s9(e,t)},"drawBackgroundRect"),pq=(function(){function e(n,a,s,o,u,h,d,p){let g=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,x=n.split(/<br\s*\/?>/gi);for(let T=0;T<x.length;T++){let k=T*f-f*(x.length-1)/2,E=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);E.append("tspan").attr("x",s+u/2).attr("dy",k).text(x[T]),E.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(E,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}})(),EOe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),$f={drawRect:y8,drawCircle:uq,drawSection:wOe,drawText:hq,drawLabel:xOe,drawTask:kOe,drawBackgroundRect:TOe,initGraphics:EOe}});function COe(e){let t=Ce().journey,r=t.maxLabelWidth;Bx=0;let i=60;Object.keys(jl).forEach(n=>{let a=jl[n].color,s={cx:20,cy:i,r:7,fill:a,stroke:"#000",pos:jl[n].position};$f.drawCircle(e,s);let o=e.append("text").attr("visibility","hidden").text(n),u=o.node().getBoundingClientRect().width;o.remove();let h=[];if(u<=r)h=[n];else{let d=n.split(" "),p="";o=e.append("text").attr("visibility","hidden"),d.forEach(g=>{let f=p?`${p} ${g}`:g;if(o.text(f),o.node().getBoundingClientRect().width>r){if(p&&h.push(p),p=g,o.text(g),o.node().getBoundingClientRect().width>r){let m="";for(let x of g)m+=x,o.text(m+"-"),o.node().getBoundingClientRect().width>r&&(h.push(m.slice(0,-1)+"-"),m=x);p=m}}else p=f}),p&&h.push(p),o.remove()}h.forEach((d,p)=>{var m;let g={x:40,y:i+7+p*20,fill:"#666",text:d,textMargin:(m=t.boxTextMargin)!=null?m:5},f=$f.drawText(e,g).node().getBoundingClientRect().width;f>Bx&&f>t.leftMargin-f&&(Bx=f)}),i+=Math.max(20,h.length*20)})}var SOe,jl,Bx,Xs,uu,_Oe,ks,v8,gq,AOe,fq,pet=B(()=>{"use strict";gr(),det(),qt(),pn(),SOe=l(function(e){Object.keys(e).forEach(function(t){Xs[t]=e[t]})},"setConf"),jl={},Bx=0,l(COe,"drawActorLegend"),Xs=Ce().journey,uu=0,_Oe=l(function(e,t,r,i){let n=Ce(),a=n.journey.titleColor,s=n.journey.titleFontSize,o=n.journey.titleFontFamily,u=n.securityLevel,h;u==="sandbox"&&(h=Ze("#i"+t));let d=Ze(u==="sandbox"?h.nodes()[0].contentDocument.body:"body");ks.init();let p=d.select("#"+t);$f.initGraphics(p);let g=i.db.getTasks(),f=i.db.getDiagramTitle(),m=i.db.getActors();for(let L in jl)delete jl[L];let x=0;m.forEach(L=>{jl[L]={color:Xs.actorColours[x%Xs.actorColours.length],position:x},x++}),COe(p),uu=Xs.leftMargin+Bx,ks.insert(0,0,uu,Object.keys(jl).length*50),AOe(p,g,0);let T=ks.getBounds();f&&p.append("text").text(f).attr("x",uu).attr("font-size",s).attr("font-weight","bold").attr("y",25).attr("fill",a).attr("font-family",o);let k=T.stopy-T.starty+2*Xs.diagramMarginY,E=uu+T.stopx+2*Xs.diagramMarginX;ta(p,k,E,Xs.useMaxWidth),p.append("line").attr("x1",uu).attr("y1",Xs.height*4).attr("x2",E-uu-4).attr("y2",Xs.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");let S=f?70:0;p.attr("viewBox",`${T.startx} -25 ${E} ${k+S}`),p.attr("preserveAspectRatio","xMinYMin meet"),p.attr("height",k+S+25)},"draw"),ks={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:l(function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},"init"),updateVal:l(function(e,t,r,i){e[t]===void 0?e[t]=r:e[t]=i(r,e[t])},"updateVal"),updateBounds:l(function(e,t,r,i){let n=Ce().journey,a=this,s=0;function o(u){return l(function(h){s++;let d=a.sequenceItems.length-s+1;a.updateVal(h,"starty",t-d*n.boxMargin,Math.min),a.updateVal(h,"stopy",i+d*n.boxMargin,Math.max),a.updateVal(ks.data,"startx",e-d*n.boxMargin,Math.min),a.updateVal(ks.data,"stopx",r+d*n.boxMargin,Math.max),u!=="activation"&&(a.updateVal(h,"startx",e-d*n.boxMargin,Math.min),a.updateVal(h,"stopx",r+d*n.boxMargin,Math.max),a.updateVal(ks.data,"starty",t-d*n.boxMargin,Math.min),a.updateVal(ks.data,"stopy",i+d*n.boxMargin,Math.max))},"updateItemBounds")}l(o,"updateFn"),this.sequenceItems.forEach(o())},"updateBounds"),insert:l(function(e,t,r,i){let n=Math.min(e,r),a=Math.max(e,r),s=Math.min(t,i),o=Math.max(t,i);this.updateVal(ks.data,"startx",n,Math.min),this.updateVal(ks.data,"starty",s,Math.min),this.updateVal(ks.data,"stopx",a,Math.max),this.updateVal(ks.data,"stopy",o,Math.max),this.updateBounds(n,s,a,o)},"insert"),bumpVerticalPos:l(function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos},"bumpVerticalPos"),getVerticalPos:l(function(){return this.verticalPos},"getVerticalPos"),getBounds:l(function(){return this.data},"getBounds")},v8=Xs.sectionFills,gq=Xs.sectionColours,AOe=l(function(e,t,r){let i=Ce().journey,n="",a=i.height*2+i.diagramMarginY,s=r+a,o=0,u="#CCC",h="black",d=0;for(let[p,g]of t.entries()){if(n!==g.section){u=v8[o%v8.length],d=o%v8.length,h=gq[o%gq.length];let m=0,x=g.section;for(let k=p;k<t.length&&t[k].section==x;k++)m=m+1;let T={x:p*i.taskMargin+p*i.width+uu,y:50,text:g.section,fill:u,num:d,colour:h,taskCount:m};$f.drawSection(e,T,i),n=g.section,o++}let f=g.people.reduce((m,x)=>(jl[x]&&(m[x]=jl[x]),m),{});g.x=p*i.taskMargin+p*i.width+uu,g.y=s,g.width=i.diagramMarginX,g.height=i.diagramMarginY,g.colour=h,g.fill=u,g.num=d,g.actors=f,$f.drawTask(e,g,i),ks.insert(g.x,g.y,g.x+g.width+i.taskMargin,450)}},"drawTasks"),fq={setConf:SOe,draw:_Oe}}),LOe={};nr(LOe,{diagram:()=>NOe});var NOe,get=B(()=>{"use strict";cet(),uet(),het(),pet(),NOe={parser:lOe,db:cq,renderer:fq,styles:vOe,init:l(e=>{fq.setConf(e.journey),cq.clear()},"init")}}),b8,MOe,fet=B(()=>{"use strict";b8=(function(){var e=l(function(g,f,m,x){for(m=m||{},x=g.length;x--;m[g[x]]=f);return m},"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],i=[1,10],n=[1,11],a=[1,12],s=[1,13],o=[1,16],u=[1,17],h={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:l(function(g,f,m,x,T,k,E){var S=k.length-1;switch(T){case 1:return k[S-1];case 2:this.$=[];break;case 3:k[S-1].push(k[S]),this.$=k[S-1];break;case 4:case 5:this.$=k[S];break;case 6:case 7:this.$=[];break;case 8:x.getCommonDb().setDiagramTitle(k[S].substr(6)),this.$=k[S].substr(6);break;case 9:this.$=k[S].trim(),x.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=k[S].trim(),x.getCommonDb().setAccDescription(this.$);break;case 12:x.addSection(k[S].substr(8)),this.$=k[S].substr(8);break;case 15:x.addTask(k[S],0,""),this.$=k[S];break;case 16:x.addEvent(k[S].substr(2)),this.$=k[S];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:i,14:n,16:a,17:s,18:14,19:15,20:o,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:l(function(g,f){if(f.recoverable)this.trace(g);else{var m=new Error(g);throw m.hash=f,m}},"parseError"),parse:l(function(g){var f=this,m=[0],x=[],T=[null],k=[],E=this.table,S="",L=0,b=0,y=0,v=2,w=1,C=k.slice.call(arguments,1),A=Object.create(this.lexer),M={yy:{}};for(var N in this.yy)Object.prototype.hasOwnProperty.call(this.yy,N)&&(M.yy[N]=this.yy[N]);A.setInput(g,M.yy),M.yy.lexer=A,M.yy.parser=this,typeof A.yylloc>"u"&&(A.yylloc={});var O=A.yylloc;k.push(O);var _=A.options&&A.options.ranges;typeof M.yy.parseError=="function"?this.parseError=M.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function I(W){m.length=m.length-2*W,T.length=T.length-W,k.length=k.length-W}l(I,"popStack");function R(){var W;return W=x.pop()||A.lex()||w,typeof W!="number"&&(W instanceof Array&&(x=W,W=x.pop()),W=f.symbols_[W]||W),W}l(R,"lex");for(var P,D,$,F,z,U,j={},H,Q,re,le;;){if($=m[m.length-1],this.defaultActions[$]?F=this.defaultActions[$]:((P===null||typeof P>"u")&&(P=R()),F=E[$]&&E[$][P]),typeof F>"u"||!F.length||!F[0]){var oe="";le=[];for(H in E[$])this.terminals_[H]&&H>v&&le.push("'"+this.terminals_[H]+"'");A.showPosition?oe="Parse error on line "+(L+1)+`:
`+A.showPosition()+`
Expecting `+le.join(", ")+", got '"+(this.terminals_[P]||P)+"'":oe="Parse error on line "+(L+1)+": Unexpected "+(P==w?"end of input":"'"+(this.terminals_[P]||P)+"'"),this.parseError(oe,{text:A.match,token:this.terminals_[P]||P,line:A.yylineno,loc:O,expected:le})}if(F[0]instanceof Array&&F.length>1)throw new Error("Parse Error: multiple actions possible at state: "+$+", token: "+P);switch(F[0]){case 1:m.push(P),T.push(A.yytext),k.push(A.yylloc),m.push(F[1]),P=null,D?(P=D,D=null):(b=A.yyleng,S=A.yytext,L=A.yylineno,O=A.yylloc,y>0&&y--);break;case 2:if(Q=this.productions_[F[1]][1],j.$=T[T.length-Q],j._$={first_line:k[k.length-(Q||1)].first_line,last_line:k[k.length-1].last_line,first_column:k[k.length-(Q||1)].first_column,last_column:k[k.length-1].last_column},_&&(j._$.range=[k[k.length-(Q||1)].range[0],k[k.length-1].range[1]]),U=this.performAction.apply(j,[S,b,L,M.yy,F[1],T,k].concat(C)),typeof U<"u")return U;Q&&(m=m.slice(0,-1*Q*2),T=T.slice(0,-1*Q),k=k.slice(0,-1*Q)),m.push(this.productions_[F[1]][0]),T.push(j.$),k.push(j._$),re=E[m[m.length-2]][m[m.length-1]],m.push(re);break;case 3:return!0}}return!0},"parse")},d=(function(){var g={EOF:1,parseError:l(function(f,m){if(this.yy.parser)this.yy.parser.parseError(f,m);else throw new Error(f)},"parseError"),setInput:l(function(f,m){return this.yy=m||this.yy||{},this._input=f,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var f=this._input[0];this.yytext+=f,this.yyleng++,this.offset++,this.match+=f,this.matched+=f;var m=f.match(/(?:\r\n?|\n).*/g);return m?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),f},"input"),unput:l(function(f){var m=f.length,x=f.split(/(?:\r\n?|\n)/g);this._input=f+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-m),this.offset-=m;var T=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),x.length-1&&(this.yylineno-=x.length-1);var k=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:x?(x.length===T.length?this.yylloc.first_column:0)+T[T.length-x.length].length-x[0].length:this.yylloc.first_column-m},this.options.ranges&&(this.yylloc.range=[k[0],k[0]+this.yyleng-m]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(f){this.unput(this.match.slice(f))},"less"),pastInput:l(function(){var f=this.matched.substr(0,this.matched.length-this.match.length);return(f.length>20?"...":"")+f.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var f=this.match;return f.length<20&&(f+=this._input.substr(0,20-f.length)),(f.substr(0,20)+(f.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var f=this.pastInput(),m=new Array(f.length+1).join("-");return f+this.upcomingInput()+`
`+m+"^"},"showPosition"),test_match:l(function(f,m){var x,T,k;if(this.options.backtrack_lexer&&(k={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(k.yylloc.range=this.yylloc.range.slice(0))),T=f[0].match(/(?:\r\n?|\n).*/g),T&&(this.yylineno+=T.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:T?T[T.length-1].length-T[T.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+f[0].length},this.yytext+=f[0],this.match+=f[0],this.matches=f,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(f[0].length),this.matched+=f[0],x=this.performAction.call(this,this.yy,this,m,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),x)return x;if(this._backtrack){for(var E in k)this[E]=k[E];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var f,m,x,T;this._more||(this.yytext="",this.match="");for(var k=this._currentRules(),E=0;E<k.length;E++)if(x=this._input.match(this.rules[k[E]]),x&&(!m||x[0].length>m[0].length)){if(m=x,T=E,this.options.backtrack_lexer){if(f=this.test_match(x,k[E]),f!==!1)return f;if(this._backtrack){m=!1;continue}else return!1}else if(!this.options.flex)break}return m?(f=this.test_match(m,k[T]),f!==!1?f:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var f=this.next();return f||this.lex()},"lex"),begin:l(function(f){this.conditionStack.push(f)},"begin"),popState:l(function(){var f=this.conditionStack.length-1;return f>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(f){return f=this.conditionStack.length-1-Math.abs(f||0),f>=0?this.conditionStack[f]:"INITIAL"},"topState"),pushState:l(function(f){this.begin(f)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(f,m,x,T){var k=T;switch(x){case 0:break;case 1:break;case 2:return 10;case 3:break;case 4:break;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}},"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s(?:[^:\n]|:(?!\s))+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}};return g})();h.lexer=d;function p(){this.yy={}}return l(p,"Parser"),p.prototype=h,h.Parser=p,new p})(),b8.parser=b8,MOe=b8}),IOe={};nr(IOe,{addEvent:()=>Tq,addSection:()=>bq,addTask:()=>kq,addTaskOrg:()=>Eq,clear:()=>vq,default:()=>DOe,getCommonDb:()=>yq,getSections:()=>xq,getTasks:()=>wq});var yp,mq,x8,$x,vp,yq,vq,bq,xq,wq,kq,Tq,Eq,Cq,DOe,met=B(()=>{"use strict";Fi(),yp="",mq=0,x8=[],$x=[],vp=[],yq=l(()=>NS,"getCommonDb"),vq=l(function(){x8.length=0,$x.length=0,yp="",vp.length=0,Pi()},"clear"),bq=l(function(e){yp=e,x8.push(e)},"addSection"),xq=l(function(){return x8},"getSections"),wq=l(function(){let e=Cq(),t=100,r=0;for(;!e&&r<t;)e=Cq(),r++;return $x.push(...vp),$x},"getTasks"),kq=l(function(e,t,r){let i={id:mq++,section:yp,type:yp,task:e,score:t||0,events:r?[r]:[]};vp.push(i)},"addTask"),Tq=l(function(e){vp.find(t=>t.id===mq-1).events.push(e)},"addEvent"),Eq=l(function(e){let t={section:yp,type:yp,description:e,task:e,classes:[]};$x.push(t)},"addTaskOrg"),Cq=l(function(){let e=l(function(r){return vp[r].processed},"compileTask"),t=!0;for(let[r,i]of vp.entries())e(r),t=t&&i.processed;return t},"compileTasks"),DOe={clear:vq,getCommonDb:yq,addSection:bq,getSections:xq,getTasks:wq,addTask:kq,addTaskOrg:Eq,addEvent:Tq}});function Sq(e,t){e.each(function(){var r=Ze(this),i=r.text().split(/(\s+|<br>)/).reverse(),n,a=[],s=1.1,o=r.attr("y"),u=parseFloat(r.attr("dy")),h=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",u+"em");for(let d=0;d<i.length;d++)n=i[i.length-1-d],a.push(n),h.text(a.join(" ").trim()),(h.node().getComputedTextLength()>t||n==="<br>")&&(a.pop(),h.text(a.join(" ").trim()),n==="<br>"?a=[""]:a=[n],h=r.append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em").text(n))})}var ROe,Fx,OOe,POe,_q,BOe,$Oe,Aq,FOe,zOe,GOe,w8,Lq,UOe,qOe,jOe,HOe,Mh,yet=B(()=>{"use strict";gr(),ROe=12,Fx=l(function(e,t){let r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),t.class!==void 0&&r.attr("class",t.class),r},"drawRect"),OOe=l(function(e,t){let r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),i=e.append("g");i.append("circle").attr("cx",t.cx-15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.append("circle").attr("cx",t.cx+15/3).attr("cy",t.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function n(o){let u=td().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}l(n,"smile");function a(o){let u=td().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);o.append("path").attr("class","mouth").attr("d",u).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}l(a,"sad");function s(o){o.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return l(s,"ambivalent"),t.score>3?n(i):t.score<3?a(i):s(i),r},"drawFace"),POe=l(function(e,t){let r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),r.class!==void 0&&r.attr("class",r.class),t.title!==void 0&&r.append("title").text(t.title),r},"drawCircle"),_q=l(function(e,t){let r=t.text.replace(/<br\s*\/?>/gi," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),t.class!==void 0&&i.attr("class",t.class);let n=i.append("tspan");return n.attr("x",t.x+t.textMargin*2),n.text(r),i},"drawText"),BOe=l(function(e,t){function r(n,a,s,o,u){return n+","+a+" "+(n+s)+","+a+" "+(n+s)+","+(a+o-u)+" "+(n+s-u*1.2)+","+(a+o)+" "+n+","+(a+o)}l(r,"genPoints");let i=e.append("polygon");i.attr("points",r(t.x,t.y,50,20,7)),i.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,_q(e,t)},"drawLabel"),$Oe=l(function(e,t,r){let i=e.append("g"),n=w8();n.x=t.x,n.y=t.y,n.fill=t.fill,n.width=r.width,n.height=r.height,n.class="journey-section section-type-"+t.num,n.rx=3,n.ry=3,Fx(i,n),Lq(r)(t.text,i,n.x,n.y,n.width,n.height,{class:"journey-section section-type-"+t.num},r,t.colour)},"drawSection"),Aq=-1,FOe=l(function(e,t,r){let i=t.x+r.width/2,n=e.append("g");Aq++,n.append("line").attr("id","task"+Aq).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),OOe(n,{cx:i,cy:300+(5-t.score)*30,score:t.score});let a=w8();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,Fx(n,a),Lq(r)(t.task,n,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)},"drawTask"),zOe=l(function(e,t){Fx(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()},"drawBackgroundRect"),GOe=l(function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},"getTextObj"),w8=l(function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},"getNoteRect"),Lq=(function(){function e(n,a,s,o,u,h,d,p){let g=a.append("text").attr("x",s+u/2).attr("y",o+h/2+5).style("font-color",p).style("text-anchor","middle").text(n);i(g,d)}l(e,"byText");function t(n,a,s,o,u,h,d,p,g){let{taskFontSize:f,taskFontFamily:m}=p,x=n.split(/<br\s*\/?>/gi);for(let T=0;T<x.length;T++){let k=T*f-f*(x.length-1)/2,E=a.append("text").attr("x",s+u/2).attr("y",o).attr("fill",g).style("text-anchor","middle").style("font-size",f).style("font-family",m);E.append("tspan").attr("x",s+u/2).attr("dy",k).text(x[T]),E.attr("y",o+h/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(E,d)}}l(t,"byTspan");function r(n,a,s,o,u,h,d,p){let g=a.append("switch"),f=g.append("foreignObject").attr("x",s).attr("y",o).attr("width",u).attr("height",h).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");f.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(n),t(n,g,s,o,u,h,d,p),i(f,d)}l(r,"byFo");function i(n,a){for(let s in a)s in a&&n.attr(s,a[s])}return l(i,"_setTextAttrs"),function(n){return n.textPlacement==="fo"?r:n.textPlacement==="old"?e:t}})(),UOe=l(function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},"initGraphics"),l(Sq,"wrap"),qOe=l(function(e,t,r,i){var d;let n=r%ROe-1,a=e.append("g");t.section=n,a.attr("class",(t.class?t.class+" ":"")+"timeline-node "+("section-"+n));let s=a.append("g"),o=a.append("g"),u=o.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Sq,t.width).node().getBBox(),h=(d=i.fontSize)!=null&&d.replace?i.fontSize.replace("px",""):i.fontSize;return t.height=u.height+h*1.1*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,o.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),HOe(s,t,n,i),t},"drawNode"),jOe=l(function(e,t,r){var s;let i=e.append("g"),n=i.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(Sq,t.width).node().getBBox(),a=(s=r.fontSize)!=null&&s.replace?r.fontSize.replace("px",""):r.fontSize;return i.remove(),n.height+a*1.1*.5+t.padding},"getVirtualNodeHeight"),HOe=l(function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${-t.height+10} q0,-5 5,-5 h${t.width-10} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)},"defaultBkg"),Mh={drawRect:Fx,drawCircle:POe,drawSection:$Oe,drawText:_q,drawLabel:BOe,drawTask:FOe,drawBackgroundRect:zOe,getTextObj:GOe,getNoteRect:w8,initGraphics:UOe,drawNode:qOe,getVirtualNodeHeight:jOe}}),VOe,Nq,YOe,WOe,vet=B(()=>{"use strict";gr(),yet(),lt(),qt(),pn(),VOe=l(function(e,t,r,i){var v,w,C,A,M,N;let n=Ce(),a=(w=(v=n.timeline)==null?void 0:v.leftMargin)!=null?w:50;ae.debug("timeline",i.db);let s=n.securityLevel,o;s==="sandbox"&&(o=Ze("#i"+t));let u=Ze(s==="sandbox"?o.nodes()[0].contentDocument.body:"body").select("#"+t);u.append("g");let h=i.db.getTasks(),d=i.db.getCommonDb().getDiagramTitle();ae.debug("task",h),Mh.initGraphics(u);let p=i.db.getSections();ae.debug("sections",p);let g=0,f=0,m=0,x=0,T=50+a,k=50;x=50;let E=0,S=!0;p.forEach(function(O){let _={number:E,descr:O,section:E,width:150,padding:20,maxHeight:g},I=Mh.getVirtualNodeHeight(u,_,n);ae.debug("sectionHeight before draw",I),g=Math.max(g,I+20)});let L=0,b=0;ae.debug("tasks.length",h.length);for(let[O,_]of h.entries()){let I={number:O,descr:_,section:_.section,width:150,padding:20,maxHeight:f},R=Mh.getVirtualNodeHeight(u,I,n);ae.debug("taskHeight before draw",R),f=Math.max(f,R+20),L=Math.max(L,_.events.length);let P=0;for(let D of _.events){let $={descr:D,section:_.section,number:_.section,width:150,padding:20,maxHeight:50};P+=Mh.getVirtualNodeHeight(u,$,n)}_.events.length>0&&(P+=(_.events.length-1)*10),b=Math.max(b,P)}ae.debug("maxSectionHeight before draw",g),ae.debug("maxTaskHeight before draw",f),p&&p.length>0?p.forEach(O=>{let _=h.filter(D=>D.section===O),I={number:E,descr:O,section:E,width:200*Math.max(_.length,1)-50,padding:20,maxHeight:g};ae.debug("sectionNode",I);let R=u.append("g"),P=Mh.drawNode(R,I,E,n);ae.debug("sectionNode output",P),R.attr("transform",`translate(${T}, ${x})`),k+=g+50,_.length>0&&Nq(u,_,E,T,k,f,n,L,b,g,!1),T+=200*Math.max(_.length,1),k=x,E++}):(S=!1,Nq(u,h,E,T,k,f,n,L,b,g,!0));let y=u.node().getBBox();ae.debug("bounds",y),d&&u.append("text").text(d).attr("x",y.width/2-a).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=S?g+f+150:f+100,u.append("g").attr("class","lineWrapper").append("line").attr("x1",a).attr("y1",m).attr("x2",y.width+3*a).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),Wp(void 0,u,(A=(C=n.timeline)==null?void 0:C.padding)!=null?A:50,(N=(M=n.timeline)==null?void 0:M.useMaxWidth)!=null?N:!1)},"draw"),Nq=l(function(e,t,r,i,n,a,s,o,u,h,d){var p;for(let g of t){let f={descr:g.task,section:r,number:r,width:150,padding:20,maxHeight:a};ae.debug("taskNode",f);let m=e.append("g").attr("class","taskWrapper"),x=Mh.drawNode(m,f,r,s).height;if(ae.debug("taskHeight after draw",x),m.attr("transform",`translate(${i}, ${n})`),a=Math.max(a,x),g.events){let T=e.append("g").attr("class","lineWrapper"),k=a;n+=100,k=k+YOe(e,g.events,r,i,n,s),n-=100,T.append("line").attr("x1",i+190/2).attr("y1",n+a).attr("x2",i+190/2).attr("y2",n+a+100+u+100).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}i=i+200,d&&!((p=s.timeline)!=null&&p.disableMulticolor)&&r++}n=n-10},"drawTasks"),YOe=l(function(e,t,r,i,n,a){let s=0,o=n;n=n+100;for(let u of t){let h={descr:u,section:r,number:r,width:150,padding:20,maxHeight:50};ae.debug("eventNode",h);let d=e.append("g").attr("class","eventWrapper"),p=Mh.drawNode(d,h,r,a).height;s=s+p,d.attr("transform",`translate(${i}, ${n})`),n=n+10+p}return n=o,s},"drawEvents"),WOe={setConf:l(()=>{},"setConf"),draw:VOe}}),XOe,KOe,ZOe,bet=B(()=>{"use strict";As(),XOe=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Xl(e["lineColor"+r])?e["lineColor"+r]=Nt(e["lineColor"+r],20):e["lineColor"+r]=Gt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .lineWrapper line{
      stroke: ${e["cScaleLabel"+r]} ;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),KOe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${XOe(e)}
  .section-root rect, .section-root path, .section-root circle  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .eventWrapper  {
   filter: brightness(120%);
  }
`,"getStyles"),ZOe=KOe}),QOe={};nr(QOe,{diagram:()=>JOe});var JOe,xet=B(()=>{"use strict";fet(),met(),vet(),bet(),JOe={db:IOe,renderer:WOe,parser:MOe,styles:ZOe}}),k8,ePe,wet=B(()=>{"use strict";k8=(function(){var e=l(function(L,b,y,v){for(y=y||{},v=L.length;v--;y[L[v]]=b);return y},"o"),t=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,6,13,15,16,19,22],m=[1,33],x=[1,34],T=[1,6,7,11,13,15,16,19,22],k={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:l(function(L,b,y,v,w,C,A){var M=C.length-1;switch(w){case 6:case 7:return v;case 8:v.getLogger().trace("Stop NL ");break;case 9:v.getLogger().trace("Stop EOF ");break;case 11:v.getLogger().trace("Stop NL2 ");break;case 12:v.getLogger().trace("Stop EOF2 ");break;case 15:v.getLogger().info("Node: ",C[M].id),v.addNode(C[M-1].length,C[M].id,C[M].descr,C[M].type);break;case 16:v.getLogger().trace("Icon: ",C[M]),v.decorateNode({icon:C[M]});break;case 17:case 21:v.decorateNode({class:C[M]});break;case 18:v.getLogger().trace("SPACELIST");break;case 19:v.getLogger().trace("Node: ",C[M].id),v.addNode(0,C[M].id,C[M].descr,C[M].type);break;case 20:v.decorateNode({icon:C[M]});break;case 25:v.getLogger().trace("node found ..",C[M-2]),this.$={id:C[M-1],descr:C[M-1],type:v.getType(C[M-2],C[M])};break;case 26:this.$={id:C[M],descr:C[M],type:v.nodeType.DEFAULT};break;case 27:v.getLogger().trace("node found ..",C[M-3]),this.$={id:C[M-3],descr:C[M-1],type:v.getType(C[M-2],C[M])};break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:r,9:22,12:11,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},{6:h,7:d,10:23,11:p},e(g,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:o}),e(g,[2,18]),e(g,[2,19]),e(g,[2,20]),e(g,[2,21]),e(g,[2,23]),e(g,[2,24]),e(g,[2,26],{19:[1,30]}),{20:[1,31]},{6:h,7:d,10:32,11:p},{1:[2,7],6:r,12:21,13:i,14:14,15:n,16:a,17:17,18:18,19:s,22:o},e(f,[2,14],{7:m,11:x}),e(T,[2,8]),e(T,[2,9]),e(T,[2,10]),e(g,[2,15]),e(g,[2,16]),e(g,[2,17]),{20:[1,35]},{21:[1,36]},e(f,[2,13],{7:m,11:x}),e(T,[2,11]),e(T,[2,12]),{21:[1,37]},e(g,[2,25]),e(g,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(L,b){if(b.recoverable)this.trace(L);else{var y=new Error(L);throw y.hash=b,y}},"parseError"),parse:l(function(L){var b=this,y=[0],v=[],w=[null],C=[],A=this.table,M="",N=0,O=0,_=0,I=2,R=1,P=C.slice.call(arguments,1),D=Object.create(this.lexer),$={yy:{}};for(var F in this.yy)Object.prototype.hasOwnProperty.call(this.yy,F)&&($.yy[F]=this.yy[F]);D.setInput(L,$.yy),$.yy.lexer=D,$.yy.parser=this,typeof D.yylloc>"u"&&(D.yylloc={});var z=D.yylloc;C.push(z);var U=D.options&&D.options.ranges;typeof $.yy.parseError=="function"?this.parseError=$.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function j(Z){y.length=y.length-2*Z,w.length=w.length-Z,C.length=C.length-Z}l(j,"popStack");function H(){var Z;return Z=v.pop()||D.lex()||R,typeof Z!="number"&&(Z instanceof Array&&(v=Z,Z=v.pop()),Z=b.symbols_[Z]||Z),Z}l(H,"lex");for(var Q,re,le,oe,W,J,Y={},X,te,ce,K;;){if(le=y[y.length-1],this.defaultActions[le]?oe=this.defaultActions[le]:((Q===null||typeof Q>"u")&&(Q=H()),oe=A[le]&&A[le][Q]),typeof oe>"u"||!oe.length||!oe[0]){var me="";K=[];for(X in A[le])this.terminals_[X]&&X>I&&K.push("'"+this.terminals_[X]+"'");D.showPosition?me="Parse error on line "+(N+1)+`:
`+D.showPosition()+`
Expecting `+K.join(", ")+", got '"+(this.terminals_[Q]||Q)+"'":me="Parse error on line "+(N+1)+": Unexpected "+(Q==R?"end of input":"'"+(this.terminals_[Q]||Q)+"'"),this.parseError(me,{text:D.match,token:this.terminals_[Q]||Q,line:D.yylineno,loc:z,expected:K})}if(oe[0]instanceof Array&&oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+le+", token: "+Q);switch(oe[0]){case 1:y.push(Q),w.push(D.yytext),C.push(D.yylloc),y.push(oe[1]),Q=null,re?(Q=re,re=null):(O=D.yyleng,M=D.yytext,N=D.yylineno,z=D.yylloc,_>0&&_--);break;case 2:if(te=this.productions_[oe[1]][1],Y.$=w[w.length-te],Y._$={first_line:C[C.length-(te||1)].first_line,last_line:C[C.length-1].last_line,first_column:C[C.length-(te||1)].first_column,last_column:C[C.length-1].last_column},U&&(Y._$.range=[C[C.length-(te||1)].range[0],C[C.length-1].range[1]]),J=this.performAction.apply(Y,[M,O,N,$.yy,oe[1],w,C].concat(P)),typeof J<"u")return J;te&&(y=y.slice(0,-1*te*2),w=w.slice(0,-1*te),C=C.slice(0,-1*te)),y.push(this.productions_[oe[1]][0]),w.push(Y.$),C.push(Y._$),ce=A[y[y.length-2]][y[y.length-1]],y.push(ce);break;case 3:return!0}}return!0},"parse")},E=(function(){var L={EOF:1,parseError:l(function(b,y){if(this.yy.parser)this.yy.parser.parseError(b,y);else throw new Error(b)},"parseError"),setInput:l(function(b,y){return this.yy=y||this.yy||{},this._input=b,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var b=this._input[0];this.yytext+=b,this.yyleng++,this.offset++,this.match+=b,this.matched+=b;var y=b.match(/(?:\r\n?|\n).*/g);return y?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),b},"input"),unput:l(function(b){var y=b.length,v=b.split(/(?:\r\n?|\n)/g);this._input=b+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-y),this.offset-=y;var w=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),v.length-1&&(this.yylineno-=v.length-1);var C=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:v?(v.length===w.length?this.yylloc.first_column:0)+w[w.length-v.length].length-v[0].length:this.yylloc.first_column-y},this.options.ranges&&(this.yylloc.range=[C[0],C[0]+this.yyleng-y]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(b){this.unput(this.match.slice(b))},"less"),pastInput:l(function(){var b=this.matched.substr(0,this.matched.length-this.match.length);return(b.length>20?"...":"")+b.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var b=this.match;return b.length<20&&(b+=this._input.substr(0,20-b.length)),(b.substr(0,20)+(b.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var b=this.pastInput(),y=new Array(b.length+1).join("-");return b+this.upcomingInput()+`
`+y+"^"},"showPosition"),test_match:l(function(b,y){var v,w,C;if(this.options.backtrack_lexer&&(C={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(C.yylloc.range=this.yylloc.range.slice(0))),w=b[0].match(/(?:\r\n?|\n).*/g),w&&(this.yylineno+=w.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:w?w[w.length-1].length-w[w.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],v=this.performAction.call(this,this.yy,this,y,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v)return v;if(this._backtrack){for(var A in C)this[A]=C[A];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var b,y,v,w;this._more||(this.yytext="",this.match="");for(var C=this._currentRules(),A=0;A<C.length;A++)if(v=this._input.match(this.rules[C[A]]),v&&(!y||v[0].length>y[0].length)){if(y=v,w=A,this.options.backtrack_lexer){if(b=this.test_match(v,C[A]),b!==!1)return b;if(this._backtrack){y=!1;continue}else return!1}else if(!this.options.flex)break}return y?(b=this.test_match(y,C[w]),b!==!1?b:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var b=this.next();return b||this.lex()},"lex"),begin:l(function(b){this.conditionStack.push(b)},"begin"),popState:l(function(){var b=this.conditionStack.length-1;return b>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(b){return b=this.conditionStack.length-1-Math.abs(b||0),b>=0?this.conditionStack[b]:"INITIAL"},"topState"),pushState:l(function(b){this.begin(b)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(b,y,v,w){var C=w;switch(v){case 0:return b.getLogger().trace("Found comment",y.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:this.popState();break;case 5:b.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return b.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:b.getLogger().trace("end icon"),this.popState();break;case 10:return b.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return b.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return b.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return b.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:return this.begin("NODE"),19;case 15:return this.begin("NODE"),19;case 16:return this.begin("NODE"),19;case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 23:this.popState();break;case 24:b.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return b.getLogger().trace("description:",y.yytext),"NODE_DESCR";case 26:this.popState();break;case 27:return this.popState(),b.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),b.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),b.getLogger().trace("node end ...",y.yytext),"NODE_DEND";case 30:return this.popState(),b.getLogger().trace("node end (("),"NODE_DEND";case 31:return this.popState(),b.getLogger().trace("node end (-"),"NODE_DEND";case 32:return this.popState(),b.getLogger().trace("node end (-"),"NODE_DEND";case 33:return this.popState(),b.getLogger().trace("node end (("),"NODE_DEND";case 34:return this.popState(),b.getLogger().trace("node end (("),"NODE_DEND";case 35:return b.getLogger().trace("Long description:",y.yytext),20;case 36:return b.getLogger().trace("Long description:",y.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}};return L})();k.lexer=E;function S(){this.yy={}}return l(S,"Parser"),S.prototype=k,k.Parser=S,new S})(),k8.parser=k8,ePe=k8});function tPe(e,t=0){return(In[e[t+0]]+In[e[t+1]]+In[e[t+2]]+In[e[t+3]]+"-"+In[e[t+4]]+In[e[t+5]]+"-"+In[e[t+6]]+In[e[t+7]]+"-"+In[e[t+8]]+In[e[t+9]]+"-"+In[e[t+10]]+In[e[t+11]]+In[e[t+12]]+In[e[t+13]]+In[e[t+14]]+In[e[t+15]]).toLowerCase()}var In,ket=B(()=>{"use strict";In=[];for(let e=0;e<256;++e)In.push((e+256).toString(16).slice(1));l(tPe,"unsafeStringify")});function rPe(){if(!Mq){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mq=crypto.getRandomValues.bind(crypto)}return Mq(iPe)}var Mq,iPe,Tet=B(()=>{"use strict";iPe=new Uint8Array(16),l(rPe,"rng")}),nPe,Iq,Eet=B(()=>{"use strict";nPe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iq={randomUUID:nPe}});function aPe(e,t,r){var n,a,s;if(Iq.randomUUID&&!t&&!e)return Iq.randomUUID();e=e||{};let i=(s=(a=e.random)!=null?a:(n=e.rng)==null?void 0:n.call(e))!=null?s:rPe();if(i.length<16)throw new Error("Random bytes length must be >= 16");if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){if(r=r||0,r<0||r+16>t.length)throw new RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[r+o]=i[o];return t}return tPe(i)}var sPe,Cet=B(()=>{"use strict";Eet(),Tet(),ket(),l(aPe,"v4"),sPe=aPe}),_et=B(()=>{"use strict";Cet()}),Hl,oPe,Aet=B(()=>{"use strict";var e;qt(),_et(),dr(),lt(),va(),bi(),Hl={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},oPe=(e=class{constructor(){this.nodes=[],this.count=0,this.elements={},this.getLogger=this.getLogger.bind(this),this.nodeType=Hl,this.clear(),this.getType=this.getType.bind(this),this.getElementById=this.getElementById.bind(this),this.getParent=this.getParent.bind(this),this.getMindmap=this.getMindmap.bind(this),this.addNode=this.addNode.bind(this),this.decorateNode=this.decorateNode.bind(this)}clear(){this.nodes=[],this.count=0,this.elements={},this.baseLevel=void 0}getParent(r){for(let i=this.nodes.length-1;i>=0;i--)if(this.nodes[i].level<r)return this.nodes[i];return null}getMindmap(){return this.nodes.length>0?this.nodes[0]:null}addNode(r,i,n,a){var p,g,f,m;ae.info("addNode",r,i,n,a);let s=!1;this.nodes.length===0?(this.baseLevel=r,r=0,s=!0):this.baseLevel!==void 0&&(r=r-this.baseLevel,s=!1);let o=Ce(),u=(g=(p=o.mindmap)==null?void 0:p.padding)!=null?g:Tr.mindmap.padding;switch(a){case this.nodeType.ROUNDED_RECT:case this.nodeType.RECT:case this.nodeType.HEXAGON:u*=2;break}let h={id:this.count++,nodeId:Er(i,o),level:r,descr:Er(n,o),type:a,children:[],width:(m=(f=o.mindmap)==null?void 0:f.maxNodeWidth)!=null?m:Tr.mindmap.maxNodeWidth,padding:u,isRoot:s},d=this.getParent(r);if(d)d.children.push(h),this.nodes.push(h);else if(s)this.nodes.push(h);else throw new Error(`There can be only one root. No parent could be found for ("${h.descr}")`)}getType(r,i){switch(ae.debug("In get type",r,i),r){case"[":return this.nodeType.RECT;case"(":return i===")"?this.nodeType.ROUNDED_RECT:this.nodeType.CLOUD;case"((":return this.nodeType.CIRCLE;case")":return this.nodeType.CLOUD;case"))":return this.nodeType.BANG;case"{{":return this.nodeType.HEXAGON;default:return this.nodeType.DEFAULT}}setElementForId(r,i){this.elements[r]=i}getElementById(r){return this.elements[r]}decorateNode(r){if(!r)return;let i=Ce(),n=this.nodes[this.nodes.length-1];r.icon&&(n.icon=Er(r.icon,i)),r.class&&(n.class=Er(r.class,i))}type2Str(r){switch(r){case this.nodeType.DEFAULT:return"no-border";case this.nodeType.RECT:return"rect";case this.nodeType.ROUNDED_RECT:return"rounded-rect";case this.nodeType.CIRCLE:return"circle";case this.nodeType.CLOUD:return"cloud";case this.nodeType.BANG:return"bang";case this.nodeType.HEXAGON:return"hexgon";default:return"no-border"}}assignSections(r,i){if(r.level===0?r.section=void 0:r.section=i,r.children)for(let[n,a]of r.children.entries()){let s=r.level===0?n:i;this.assignSections(a,s)}}flattenNodes(r,i){var u;let n=["mindmap-node"];r.isRoot===!0?n.push("section-root","section--1"):r.section!==void 0&&n.push(`section-${r.section}`),r.class&&n.push(r.class);let a=n.join(" "),s=l(h=>{switch(h){case Hl.CIRCLE:return"mindmapCircle";case Hl.RECT:return"rect";case Hl.ROUNDED_RECT:return"rounded";case Hl.CLOUD:return"cloud";case Hl.BANG:return"bang";case Hl.HEXAGON:return"hexagon";case Hl.DEFAULT:return"defaultMindmapNode";case Hl.NO_BORDER:default:return"rect"}},"getShapeFromType"),o={id:r.id.toString(),domId:"node_"+r.id.toString(),label:r.descr,isGroup:!1,shape:s(r.type),width:r.width,height:(u=r.height)!=null?u:0,padding:r.padding,cssClasses:a,cssStyles:[],look:"default",icon:r.icon,x:r.x,y:r.y,level:r.level,nodeId:r.nodeId,type:r.type,section:r.section};if(i.push(o),r.children)for(let h of r.children)this.flattenNodes(h,i)}generateEdges(r,i){if(r.children)for(let n of r.children){let a="edge";n.section!==void 0&&(a+=` section-edge-${n.section}`);let s=r.level+1;a+=` edge-depth-${s}`;let o={id:`edge_${r.id}_${n.id}`,start:r.id.toString(),end:n.id.toString(),type:"normal",curve:"basis",thickness:"normal",look:"default",classes:a,depth:r.level,section:n.section};i.push(o),this.generateEdges(n,i)}}getData(){let r=this.getMindmap(),i=Ce(),n=JH().layout!==void 0,a=i;if(n||(a.layout="cose-bilkent"),!r)return{nodes:[],edges:[],config:a};ae.debug("getData: mindmapRoot",r,i),this.assignSections(r);let s=[],o=[];this.flattenNodes(r,s),this.generateEdges(r,o),ae.debug(`getData: processed ${s.length} nodes and ${o.length} edges`);let u=new Map;for(let h of s)u.set(h.id,{shape:h.shape,width:h.width,height:h.height,padding:h.padding});return{nodes:s,edges:o,config:a,rootNode:r,markers:["point"],direction:"TB",nodeSpacing:50,rankSpacing:50,shapes:Object.fromEntries(u),type:"mindmap",diagramId:"mindmap-"+sPe()}}getLogger(){return ae}},l(e,"MindmapDB"),e)}),lPe,cPe,Let=B(()=>{"use strict";lt(),Vg(),a0(),s0(),va(),lPe=l((e,t,r,i)=>xe(null,null,function*(){var o,u,h,d;ae.debug(`Rendering mindmap diagram
`+e);let n=i.db,a=n.getData(),s=Sd(t,a.config.securityLevel);a.type=i.type,a.layoutAlgorithm=z1(a.config.layout,{fallback:"cose-bilkent"}),a.diagramId=t,n.getMindmap()&&(a.nodes.forEach(p=>{p.shape==="rounded"?(p.radius=15,p.taper=15,p.stroke="none",p.width=0,p.padding=15):p.shape==="circle"?p.padding=10:p.shape==="rect"&&(p.width=0,p.padding=10)}),yield n0(a,s),ph(s,(u=(o=a.config.mindmap)==null?void 0:o.padding)!=null?u:Tr.mindmap.padding,"mindmapDiagram",(d=(h=a.config.mindmap)==null?void 0:h.useMaxWidth)!=null?d:Tr.mindmap.useMaxWidth))}),"draw"),cPe={draw:lPe}}),uPe,hPe,dPe,Net=B(()=>{"use strict";As(),uPe=l(e=>{let t="";for(let r=0;r<e.THEME_COLOR_LIMIT;r++)e["lineColor"+r]=e["lineColor"+r]||e["cScaleInv"+r],Xl(e["lineColor"+r])?e["lineColor"+r]=Nt(e["lineColor"+r],20):e["lineColor"+r]=Gt(e["lineColor"+r],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){let i=""+(17-3*r);t+=`
    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {
      fill: ${e["cScale"+r]};
    }
    .section-${r-1} text {
     fill: ${e["cScaleLabel"+r]};
    }
    .node-icon-${r-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+r]};
    }
    .section-edge-${r-1}{
      stroke: ${e["cScale"+r]};
    }
    .edge-depth-${r-1}{
      stroke-width: ${i};
    }
    .section-${r-1} line {
      stroke: ${e["cScaleInv"+r]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return t},"genSections"),hPe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${uPe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .section-root span {
    color: ${e.gitBranchLabel0};
  }
  .section-2 span {
    color: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles"),dPe=hPe}),pPe={};nr(pPe,{diagram:()=>gPe});var gPe,Met=B(()=>{"use strict";wet(),Aet(),Let(),Net(),gPe={get db(){return new oPe},renderer:cPe,parser:ePe,styles:dPe}}),T8,fPe,Iet=B(()=>{"use strict";T8=(function(){var e=l(function(v,w,C,A){for(C=C||{},A=v.length;A--;C[v[A]]=w);return C},"o"),t=[1,4],r=[1,13],i=[1,12],n=[1,15],a=[1,16],s=[1,20],o=[1,19],u=[6,7,8],h=[1,26],d=[1,24],p=[1,25],g=[6,7,11],f=[1,31],m=[6,7,11,24],x=[1,6,13,16,17,20,23],T=[1,35],k=[1,36],E=[1,6,7,11,13,16,17,20,23],S=[1,38],L={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:l(function(v,w,C,A,M,N,O){var _=N.length-1;switch(M){case 6:case 7:return A;case 8:A.getLogger().trace("Stop NL ");break;case 9:A.getLogger().trace("Stop EOF ");break;case 11:A.getLogger().trace("Stop NL2 ");break;case 12:A.getLogger().trace("Stop EOF2 ");break;case 15:A.getLogger().info("Node: ",N[_-1].id),A.addNode(N[_-2].length,N[_-1].id,N[_-1].descr,N[_-1].type,N[_]);break;case 16:A.getLogger().info("Node: ",N[_].id),A.addNode(N[_-1].length,N[_].id,N[_].descr,N[_].type);break;case 17:A.getLogger().trace("Icon: ",N[_]),A.decorateNode({icon:N[_]});break;case 18:case 23:A.decorateNode({class:N[_]});break;case 19:A.getLogger().trace("SPACELIST");break;case 20:A.getLogger().trace("Node: ",N[_-1].id),A.addNode(0,N[_-1].id,N[_-1].descr,N[_-1].type,N[_]);break;case 21:A.getLogger().trace("Node: ",N[_].id),A.addNode(0,N[_].id,N[_].descr,N[_].type);break;case 22:A.decorateNode({icon:N[_]});break;case 27:A.getLogger().trace("node found ..",N[_-2]),this.$={id:N[_-1],descr:N[_-1],type:A.getType(N[_-2],N[_])};break;case 28:this.$={id:N[_],descr:N[_],type:0};break;case 29:A.getLogger().trace("node found ..",N[_-3]),this.$={id:N[_-3],descr:N[_-1],type:A.getType(N[_-2],N[_])};break;case 30:this.$=N[_-1]+N[_];break;case 31:this.$=N[_];break}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:r,9:22,12:11,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},{6:h,7:d,10:23,11:p},e(g,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:o}),e(g,[2,19]),e(g,[2,21],{15:30,24:f}),e(g,[2,22]),e(g,[2,23]),e(m,[2,25]),e(m,[2,26]),e(m,[2,28],{20:[1,32]}),{21:[1,33]},{6:h,7:d,10:34,11:p},{1:[2,7],6:r,12:21,13:i,14:14,16:n,17:a,18:17,19:18,20:s,23:o},e(x,[2,14],{7:T,11:k}),e(E,[2,8]),e(E,[2,9]),e(E,[2,10]),e(g,[2,16],{15:37,24:f}),e(g,[2,17]),e(g,[2,18]),e(g,[2,20],{24:S}),e(m,[2,31]),{21:[1,39]},{22:[1,40]},e(x,[2,13],{7:T,11:k}),e(E,[2,11]),e(E,[2,12]),e(g,[2,15],{24:S}),e(m,[2,30]),{22:[1,41]},e(m,[2,27]),e(m,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:l(function(v,w){if(w.recoverable)this.trace(v);else{var C=new Error(v);throw C.hash=w,C}},"parseError"),parse:l(function(v){var w=this,C=[0],A=[],M=[null],N=[],O=this.table,_="",I=0,R=0,P=0,D=2,$=1,F=N.slice.call(arguments,1),z=Object.create(this.lexer),U={yy:{}};for(var j in this.yy)Object.prototype.hasOwnProperty.call(this.yy,j)&&(U.yy[j]=this.yy[j]);z.setInput(v,U.yy),U.yy.lexer=z,U.yy.parser=this,typeof z.yylloc>"u"&&(z.yylloc={});var H=z.yylloc;N.push(H);var Q=z.options&&z.options.ranges;typeof U.yy.parseError=="function"?this.parseError=U.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function re(Ne){C.length=C.length-2*Ne,M.length=M.length-Ne,N.length=N.length-Ne}l(re,"popStack");function le(){var Ne;return Ne=A.pop()||z.lex()||$,typeof Ne!="number"&&(Ne instanceof Array&&(A=Ne,Ne=A.pop()),Ne=w.symbols_[Ne]||Ne),Ne}l(le,"lex");for(var oe,W,J,Y,X,te,ce={},K,me,Z,Ae;;){if(J=C[C.length-1],this.defaultActions[J]?Y=this.defaultActions[J]:((oe===null||typeof oe>"u")&&(oe=le()),Y=O[J]&&O[J][oe]),typeof Y>"u"||!Y.length||!Y[0]){var he="";Ae=[];for(K in O[J])this.terminals_[K]&&K>D&&Ae.push("'"+this.terminals_[K]+"'");z.showPosition?he="Parse error on line "+(I+1)+`:
`+z.showPosition()+`
Expecting `+Ae.join(", ")+", got '"+(this.terminals_[oe]||oe)+"'":he="Parse error on line "+(I+1)+": Unexpected "+(oe==$?"end of input":"'"+(this.terminals_[oe]||oe)+"'"),this.parseError(he,{text:z.match,token:this.terminals_[oe]||oe,line:z.yylineno,loc:H,expected:Ae})}if(Y[0]instanceof Array&&Y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+J+", token: "+oe);switch(Y[0]){case 1:C.push(oe),M.push(z.yytext),N.push(z.yylloc),C.push(Y[1]),oe=null,W?(oe=W,W=null):(R=z.yyleng,_=z.yytext,I=z.yylineno,H=z.yylloc,P>0&&P--);break;case 2:if(me=this.productions_[Y[1]][1],ce.$=M[M.length-me],ce._$={first_line:N[N.length-(me||1)].first_line,last_line:N[N.length-1].last_line,first_column:N[N.length-(me||1)].first_column,last_column:N[N.length-1].last_column},Q&&(ce._$.range=[N[N.length-(me||1)].range[0],N[N.length-1].range[1]]),te=this.performAction.apply(ce,[_,R,I,U.yy,Y[1],M,N].concat(F)),typeof te<"u")return te;me&&(C=C.slice(0,-1*me*2),M=M.slice(0,-1*me),N=N.slice(0,-1*me)),C.push(this.productions_[Y[1]][0]),M.push(ce.$),N.push(ce._$),Z=O[C[C.length-2]][C[C.length-1]],C.push(Z);break;case 3:return!0}}return!0},"parse")},b=(function(){var v={EOF:1,parseError:l(function(w,C){if(this.yy.parser)this.yy.parser.parseError(w,C);else throw new Error(w)},"parseError"),setInput:l(function(w,C){return this.yy=C||this.yy||{},this._input=w,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var w=this._input[0];this.yytext+=w,this.yyleng++,this.offset++,this.match+=w,this.matched+=w;var C=w.match(/(?:\r\n?|\n).*/g);return C?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),w},"input"),unput:l(function(w){var C=w.length,A=w.split(/(?:\r\n?|\n)/g);this._input=w+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-C),this.offset-=C;var M=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),A.length-1&&(this.yylineno-=A.length-1);var N=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:A?(A.length===M.length?this.yylloc.first_column:0)+M[M.length-A.length].length-A[0].length:this.yylloc.first_column-C},this.options.ranges&&(this.yylloc.range=[N[0],N[0]+this.yyleng-C]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(w){this.unput(this.match.slice(w))},"less"),pastInput:l(function(){var w=this.matched.substr(0,this.matched.length-this.match.length);return(w.length>20?"...":"")+w.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var w=this.match;return w.length<20&&(w+=this._input.substr(0,20-w.length)),(w.substr(0,20)+(w.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var w=this.pastInput(),C=new Array(w.length+1).join("-");return w+this.upcomingInput()+`
`+C+"^"},"showPosition"),test_match:l(function(w,C){var A,M,N;if(this.options.backtrack_lexer&&(N={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(N.yylloc.range=this.yylloc.range.slice(0))),M=w[0].match(/(?:\r\n?|\n).*/g),M&&(this.yylineno+=M.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:M?M[M.length-1].length-M[M.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+w[0].length},this.yytext+=w[0],this.match+=w[0],this.matches=w,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(w[0].length),this.matched+=w[0],A=this.performAction.call(this,this.yy,this,C,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),A)return A;if(this._backtrack){for(var O in N)this[O]=N[O];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var w,C,A,M;this._more||(this.yytext="",this.match="");for(var N=this._currentRules(),O=0;O<N.length;O++)if(A=this._input.match(this.rules[N[O]]),A&&(!C||A[0].length>C[0].length)){if(C=A,M=O,this.options.backtrack_lexer){if(w=this.test_match(A,N[O]),w!==!1)return w;if(this._backtrack){C=!1;continue}else return!1}else if(!this.options.flex)break}return C?(w=this.test_match(C,N[M]),w!==!1?w:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var w=this.next();return w||this.lex()},"lex"),begin:l(function(w){this.conditionStack.push(w)},"begin"),popState:l(function(){var w=this.conditionStack.length-1;return w>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(w){return w=this.conditionStack.length-1-Math.abs(w||0),w>=0?this.conditionStack[w]:"INITIAL"},"topState"),pushState:l(function(w){this.begin(w)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(w,C,A,M){var N=M;switch(A){case 0:return this.pushState("shapeData"),C.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:let O=/\n\s*/g;return C.yytext=C.yytext.replace(O,"<br/>"),24;case 4:return 24;case 5:this.popState();break;case 6:return w.getLogger().trace("Found comment",C.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 10:this.popState();break;case 11:w.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return w.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:w.getLogger().trace("end icon"),this.popState();break;case 16:return w.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return w.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return w.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return w.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:return this.begin("NODE"),20;case 21:return this.begin("NODE"),20;case 22:return this.begin("NODE"),20;case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 29:this.popState();break;case 30:w.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return w.getLogger().trace("description:",C.yytext),"NODE_DESCR";case 32:this.popState();break;case 33:return this.popState(),w.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),w.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),w.getLogger().trace("node end ...",C.yytext),"NODE_DEND";case 36:return this.popState(),w.getLogger().trace("node end (("),"NODE_DEND";case 37:return this.popState(),w.getLogger().trace("node end (-"),"NODE_DEND";case 38:return this.popState(),w.getLogger().trace("node end (-"),"NODE_DEND";case 39:return this.popState(),w.getLogger().trace("node end (("),"NODE_DEND";case 40:return this.popState(),w.getLogger().trace("node end (("),"NODE_DEND";case 41:return w.getLogger().trace("Long description:",C.yytext),21;case 42:return w.getLogger().trace("Long description:",C.yytext),21}},"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}};return v})();L.lexer=b;function y(){this.yy={}}return l(y,"Parser"),y.prototype=L,L.Parser=y,new y})(),T8.parser=T8,fPe=T8}),Ts,E8,C8,S8,mPe,yPe,Dq,vPe,bPe,cn,xPe,wPe,kPe,TPe,EPe,CPe,SPe,_Pe,Det=B(()=>{"use strict";qt(),dr(),lt(),va(),m6(),Ts=[],E8=[],C8=0,S8={},mPe=l(()=>{Ts=[],E8=[],C8=0,S8={}},"clear"),yPe=l(e=>{if(Ts.length===0)return null;let t=Ts[0].level,r=null;for(let i=Ts.length-1;i>=0;i--)if(Ts[i].level===t&&!r&&(r=Ts[i]),Ts[i].level<t)throw new Error('Items without section detected, found section ("'+Ts[i].label+'")');return e===(r==null?void 0:r.level)?null:r},"getSection"),Dq=l(function(){return E8},"getSections"),vPe=l(function(){var n,a;let e=[],t=[],r=Dq(),i=Ce();for(let s of r){let o={id:s.id,label:Er((n=s.label)!=null?n:"",i),isGroup:!0,ticket:s.ticket,shape:"kanbanSection",level:s.level,look:i.look};t.push(o);let u=Ts.filter(h=>h.parentId===s.id);for(let h of u){let d={id:h.id,parentId:s.id,label:Er((a=h.label)!=null?a:"",i),isGroup:!1,ticket:h==null?void 0:h.ticket,priority:h==null?void 0:h.priority,assigned:h==null?void 0:h.assigned,icon:h==null?void 0:h.icon,shape:"kanbanItem",level:h.level,rx:5,ry:5,cssStyles:["text-align: left"]};t.push(d)}}return{nodes:t,edges:e,other:{},config:Ce()}},"getData"),bPe=l((e,t,r,i,n)=>{var h,d,p,g;let a=Ce(),s=(d=(h=a.mindmap)==null?void 0:h.padding)!=null?d:Tr.mindmap.padding;switch(i){case cn.ROUNDED_RECT:case cn.RECT:case cn.HEXAGON:s*=2}let o={id:Er(t,a)||"kbn"+C8++,level:e,label:Er(r,a),width:(g=(p=a.mindmap)==null?void 0:p.maxNodeWidth)!=null?g:Tr.mindmap.maxNodeWidth,padding:s,isGroup:!1};if(n!==void 0){let f;n.includes(`
`)?f=n+`
`:f=`{
`+n+`
}`;let m=t2(f,{schema:e2});if(m.shape&&(m.shape!==m.shape.toLowerCase()||m.shape.includes("_")))throw new Error(`No such shape: ${m.shape}. Shape names should be lowercase.`);m!=null&&m.shape&&m.shape==="kanbanItem"&&(o.shape=m==null?void 0:m.shape),m!=null&&m.label&&(o.label=m==null?void 0:m.label),m!=null&&m.icon&&(o.icon=m==null?void 0:m.icon.toString()),m!=null&&m.assigned&&(o.assigned=m==null?void 0:m.assigned.toString()),m!=null&&m.ticket&&(o.ticket=m==null?void 0:m.ticket.toString()),m!=null&&m.priority&&(o.priority=m==null?void 0:m.priority)}let u=yPe(e);u?o.parentId=u.id||"kbn"+C8++:E8.push(o),Ts.push(o)},"addNode"),cn={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},xPe=l((e,t)=>{switch(ae.debug("In get type",e,t),e){case"[":return cn.RECT;case"(":return t===")"?cn.ROUNDED_RECT:cn.CLOUD;case"((":return cn.CIRCLE;case")":return cn.CLOUD;case"))":return cn.BANG;case"{{":return cn.HEXAGON;default:return cn.DEFAULT}},"getType"),wPe=l((e,t)=>{S8[e]=t},"setElementForId"),kPe=l(e=>{if(!e)return;let t=Ce(),r=Ts[Ts.length-1];e.icon&&(r.icon=Er(e.icon,t)),e.class&&(r.cssClasses=Er(e.class,t))},"decorateNode"),TPe=l(e=>{switch(e){case cn.DEFAULT:return"no-border";case cn.RECT:return"rect";case cn.ROUNDED_RECT:return"rounded-rect";case cn.CIRCLE:return"circle";case cn.CLOUD:return"cloud";case cn.BANG:return"bang";case cn.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),EPe=l(()=>ae,"getLogger"),CPe=l(e=>S8[e],"getElementById"),SPe={clear:mPe,addNode:bPe,getSections:Dq,getData:vPe,nodeType:cn,getType:xPe,setElementForId:wPe,decorateNode:kPe,type2Str:TPe,getLogger:EPe,getElementById:CPe},_Pe=SPe}),APe,LPe,Ret=B(()=>{"use strict";qt(),lt(),au(),pn(),va(),BN(),WN(),APe=l((e,t,r,i)=>xe(null,null,function*(){var x,T,k,E,S,L,b;ae.debug(`Rendering kanban diagram
`+e);let n=i.db.getData(),a=Ce();a.htmlLabels=!1;let s=Gl(t),o=s.append("g");o.attr("class","sections");let u=s.append("g");u.attr("class","items");let h=n.nodes.filter(y=>y.isGroup),d=0,p=10,g=[],f=25;for(let y of h){let v=((x=a==null?void 0:a.kanban)==null?void 0:x.sectionWidth)||200;d=d+1,y.x=v*d+(d-1)*p/2,y.width=v,y.y=0,y.height=v*3,y.rx=5,y.ry=5,y.cssClasses=y.cssClasses+" section-"+d;let w=yield H6(o,y);f=Math.max(f,(T=w==null?void 0:w.labelBBox)==null?void 0:T.height),g.push(w)}let m=0;for(let y of h){let v=g[m];m=m+1;let w=((k=a==null?void 0:a.kanban)==null?void 0:k.sectionWidth)||200,C=-w*3/2+f,A=C,M=n.nodes.filter(_=>_.parentId===y.id);for(let _ of M){if(_.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");_.x=y.x,_.width=w-1.5*p;let I=(yield V6(u,_,{config:a})).node().getBBox();_.y=A+I.height/2,yield Y6(_),A=_.y+I.height/2+p/2}let N=v.cluster.select("rect"),O=Math.max(A-C+3*p,50)+(f-25);N.attr("height",O)}Wp(void 0,s,(S=(E=a.mindmap)==null?void 0:E.padding)!=null?S:Tr.kanban.padding,(b=(L=a.mindmap)==null?void 0:L.useMaxWidth)!=null?b:Tr.kanban.useMaxWidth)}),"draw"),LPe={draw:APe}}),NPe,MPe,IPe,Oet=B(()=>{"use strict";As(),Yv(),NPe=l(e=>{let t="";for(let i=0;i<e.THEME_COLOR_LIMIT;i++)e["lineColor"+i]=e["lineColor"+i]||e["cScaleInv"+i],Xl(e["lineColor"+i])?e["lineColor"+i]=Nt(e["lineColor"+i],20):e["lineColor"+i]=Gt(e["lineColor"+i],20);let r=l((i,n)=>e.darkMode?Gt(i,n):Nt(i,n),"adjuster");for(let i=0;i<e.THEME_COLOR_LIMIT;i++){let n=""+(17-3*i);t+=`
    .section-${i-1} rect, .section-${i-1} path, .section-${i-1} circle, .section-${i-1} polygon, .section-${i-1} path  {
      fill: ${r(e["cScale"+i],10)};
      stroke: ${r(e["cScale"+i],10)};

    }
    .section-${i-1} text {
     fill: ${e["cScaleLabel"+i]};
    }
    .node-icon-${i-1} {
      font-size: 40px;
      color: ${e["cScaleLabel"+i]};
    }
    .section-edge-${i-1}{
      stroke: ${e["cScale"+i]};
    }
    .edge-depth-${i-1}{
      stroke-width: ${n};
    }
    .section-${i-1} line {
      stroke: ${e["cScaleInv"+i]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }

  .kanban-ticket-link {
    fill: ${e.background};
    stroke: ${e.nodeBorder};
    text-decoration: underline;
  }
    `}return t},"genSections"),MPe=l(e=>`
  .edge {
    stroke-width: 3;
  }
  ${NPe(e)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${e.git0};
  }
  .section-root text {
    fill: ${e.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .cluster-label, .label {
    color: ${e.textColor};
    fill: ${e.textColor};
    }
  .kanban-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
    ${G1()}
`,"getStyles"),IPe=MPe}),DPe={};nr(DPe,{diagram:()=>RPe});var RPe,Pet=B(()=>{"use strict";Iet(),Det(),Ret(),Oet(),RPe={db:_Pe,renderer:LPe,parser:fPe,styles:IPe}}),_8,zx,Bet=B(()=>{"use strict";_8=(function(){var e=l(function(o,u,h,d){for(h=h||{},d=o.length;d--;h[o[d]]=u);return h},"o"),t=[1,9],r=[1,10],i=[1,5,10,12],n={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:l(function(o,u,h,d,p,g,f){var m=g.length-1;switch(p){case 7:let x=d.findOrCreateNode(g[m-4].trim().replaceAll('""','"')),T=d.findOrCreateNode(g[m-2].trim().replaceAll('""','"')),k=parseFloat(g[m].trim());d.addLink(x,T,k);break;case 8:case 9:case 11:this.$=g[m];break;case 10:this.$=g[m-1];break}},"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(i,[2,8]),e(i,[2,9]),{19:[1,16]},e(i,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(i,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:l(function(o,u){if(u.recoverable)this.trace(o);else{var h=new Error(o);throw h.hash=u,h}},"parseError"),parse:l(function(o){var u=this,h=[0],d=[],p=[null],g=[],f=this.table,m="",x=0,T=0,k=0,E=2,S=1,L=g.slice.call(arguments,1),b=Object.create(this.lexer),y={yy:{}};for(var v in this.yy)Object.prototype.hasOwnProperty.call(this.yy,v)&&(y.yy[v]=this.yy[v]);b.setInput(o,y.yy),y.yy.lexer=b,y.yy.parser=this,typeof b.yylloc>"u"&&(b.yylloc={});var w=b.yylloc;g.push(w);var C=b.options&&b.options.ranges;typeof y.yy.parseError=="function"?this.parseError=y.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function A(H){h.length=h.length-2*H,p.length=p.length-H,g.length=g.length-H}l(A,"popStack");function M(){var H;return H=d.pop()||b.lex()||S,typeof H!="number"&&(H instanceof Array&&(d=H,H=d.pop()),H=u.symbols_[H]||H),H}l(M,"lex");for(var N,O,_,I,R,P,D={},$,F,z,U;;){if(_=h[h.length-1],this.defaultActions[_]?I=this.defaultActions[_]:((N===null||typeof N>"u")&&(N=M()),I=f[_]&&f[_][N]),typeof I>"u"||!I.length||!I[0]){var j="";U=[];for($ in f[_])this.terminals_[$]&&$>E&&U.push("'"+this.terminals_[$]+"'");b.showPosition?j="Parse error on line "+(x+1)+`:
`+b.showPosition()+`
Expecting `+U.join(", ")+", got '"+(this.terminals_[N]||N)+"'":j="Parse error on line "+(x+1)+": Unexpected "+(N==S?"end of input":"'"+(this.terminals_[N]||N)+"'"),this.parseError(j,{text:b.match,token:this.terminals_[N]||N,line:b.yylineno,loc:w,expected:U})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+N);switch(I[0]){case 1:h.push(N),p.push(b.yytext),g.push(b.yylloc),h.push(I[1]),N=null,O?(N=O,O=null):(T=b.yyleng,m=b.yytext,x=b.yylineno,w=b.yylloc,k>0&&k--);break;case 2:if(F=this.productions_[I[1]][1],D.$=p[p.length-F],D._$={first_line:g[g.length-(F||1)].first_line,last_line:g[g.length-1].last_line,first_column:g[g.length-(F||1)].first_column,last_column:g[g.length-1].last_column},C&&(D._$.range=[g[g.length-(F||1)].range[0],g[g.length-1].range[1]]),P=this.performAction.apply(D,[m,T,x,y.yy,I[1],p,g].concat(L)),typeof P<"u")return P;F&&(h=h.slice(0,-1*F*2),p=p.slice(0,-1*F),g=g.slice(0,-1*F)),h.push(this.productions_[I[1]][0]),p.push(D.$),g.push(D._$),z=f[h[h.length-2]][h[h.length-1]],h.push(z);break;case 3:return!0}}return!0},"parse")},a=(function(){var o={EOF:1,parseError:l(function(u,h){if(this.yy.parser)this.yy.parser.parseError(u,h);else throw new Error(u)},"parseError"),setInput:l(function(u,h){return this.yy=h||this.yy||{},this._input=u,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var u=this._input[0];this.yytext+=u,this.yyleng++,this.offset++,this.match+=u,this.matched+=u;var h=u.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),u},"input"),unput:l(function(u){var h=u.length,d=u.split(/(?:\r\n?|\n)/g);this._input=u+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h),this.offset-=h;var p=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),d.length-1&&(this.yylineno-=d.length-1);var g=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:d?(d.length===p.length?this.yylloc.first_column:0)+p[p.length-d.length].length-d[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[g[0],g[0]+this.yyleng-h]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(u){this.unput(this.match.slice(u))},"less"),pastInput:l(function(){var u=this.matched.substr(0,this.matched.length-this.match.length);return(u.length>20?"...":"")+u.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var u=this.match;return u.length<20&&(u+=this._input.substr(0,20-u.length)),(u.substr(0,20)+(u.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var u=this.pastInput(),h=new Array(u.length+1).join("-");return u+this.upcomingInput()+`
`+h+"^"},"showPosition"),test_match:l(function(u,h){var d,p,g;if(this.options.backtrack_lexer&&(g={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(g.yylloc.range=this.yylloc.range.slice(0))),p=u[0].match(/(?:\r\n?|\n).*/g),p&&(this.yylineno+=p.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:p?p[p.length-1].length-p[p.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+u[0].length},this.yytext+=u[0],this.match+=u[0],this.matches=u,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(u[0].length),this.matched+=u[0],d=this.performAction.call(this,this.yy,this,h,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),d)return d;if(this._backtrack){for(var f in g)this[f]=g[f];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var u,h,d,p;this._more||(this.yytext="",this.match="");for(var g=this._currentRules(),f=0;f<g.length;f++)if(d=this._input.match(this.rules[g[f]]),d&&(!h||d[0].length>h[0].length)){if(h=d,p=f,this.options.backtrack_lexer){if(u=this.test_match(d,g[f]),u!==!1)return u;if(this._backtrack){h=!1;continue}else return!1}else if(!this.options.flex)break}return h?(u=this.test_match(h,g[p]),u!==!1?u:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var u=this.next();return u||this.lex()},"lex"),begin:l(function(u){this.conditionStack.push(u)},"begin"),popState:l(function(){var u=this.conditionStack.length-1;return u>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(u){return u=this.conditionStack.length-1-Math.abs(u||0),u>=0?this.conditionStack[u]:"INITIAL"},"topState"),pushState:l(function(u){this.begin(u)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:l(function(u,h,d,p){var g=p;switch(d){case 0:return this.pushState("csv"),4;case 1:return this.pushState("csv"),4;case 2:return 10;case 3:return 5;case 4:return 12;case 5:return this.pushState("escaped_text"),18;case 6:return 20;case 7:return this.popState("escaped_text"),18;case 8:return 19}},"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:sankey\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[2,3,4,5,6,7,8],inclusive:!1},escaped_text:{rules:[7,8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8],inclusive:!0}}};return o})();n.lexer=a;function s(){this.yy={}}return l(s,"Parser"),s.prototype=n,n.Parser=s,new s})(),_8.parser=_8,zx=_8}),Gx,Ux,qx,OPe,PPe,BPe,$Pe,FPe,zPe,GPe,UPe,qPe,$et=B(()=>{"use strict";var e,t;qt(),dr(),Fi(),Gx=[],Ux=[],qx=new Map,OPe=l(()=>{Gx=[],Ux=[],qx=new Map,Pi()},"clear"),PPe=(e=class{constructor(i,n,a=0){this.source=i,this.target=n,this.value=a}},l(e,"SankeyLink"),e),BPe=l((r,i,n)=>{Gx.push(new PPe(r,i,n))},"addLink"),$Pe=(t=class{constructor(i){this.ID=i}},l(t,"SankeyNode"),t),FPe=l(r=>{r=at.sanitizeText(r,Ce());let i=qx.get(r);return i===void 0&&(i=new $Pe(r),qx.set(r,i),Ux.push(i)),i},"findOrCreateNode"),zPe=l(()=>Ux,"getNodes"),GPe=l(()=>Gx,"getLinks"),UPe=l(()=>({nodes:Ux.map(r=>({id:r.ID})),links:Gx.map(r=>({source:r.source.ID,target:r.target.ID,value:r.value}))}),"getGraph"),qPe={nodesMap:qx,getConfig:l(()=>Ce().sankey,"getConfig"),getNodes:zPe,getLinks:GPe,getGraph:UPe,addLink:BPe,findOrCreateNode:FPe,getAccTitle:Wi,setAccTitle:Bi,getAccDescription:Ki,setAccDescription:Xi,getDiagramTitle:$i,setDiagramTitle:gn,clear:OPe}});function Rq(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r<i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r<n||r===void 0&&n>=n)&&(r=n)}return r}var Fet=B(()=>{"use strict";l(Rq,"max")});function Oq(e,t){let r;if(t===void 0)for(let i of e)i!=null&&(r>i||r===void 0&&i>=i)&&(r=i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(r>n||r===void 0&&n>=n)&&(r=n)}return r}var zet=B(()=>{"use strict";l(Oq,"min")});function A8(e,t){let r=0;if(t===void 0)for(let i of e)(i=+i)&&(r+=i);else{let i=-1;for(let n of e)(n=+t(n,++i,e))&&(r+=n)}return r}var Get=B(()=>{"use strict";l(A8,"sum")}),jPe=B(()=>{"use strict";Fet(),zet(),Get()});function HPe(e){return e.target.depth}function VPe(e){return e.depth}function YPe(e,t){return t-1-e.height}function Pq(e,t){return e.sourceLinks.length?e.depth:t-1}function WPe(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?Oq(e.sourceLinks,HPe)-1:0}var XPe=B(()=>{"use strict";jPe(),l(HPe,"targetDepth"),l(VPe,"left"),l(YPe,"right"),l(Pq,"justify"),l(WPe,"center")});function jx(e){return function(){return e}}var Uet=B(()=>{"use strict";l(jx,"constant")});function Bq(e,t){return Hx(e.source,t.source)||e.index-t.index}function $q(e,t){return Hx(e.target,t.target)||e.index-t.index}function Hx(e,t){return e.y0-t.y0}function L8(e){return e.value}function KPe(e){return e.index}function ZPe(e){return e.nodes}function QPe(e){return e.links}function Fq(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function zq({nodes:e}){for(let t of e){let r=t.y0,i=r;for(let n of t.sourceLinks)n.y0=r+n.width/2,r+=n.width;for(let n of t.targetLinks)n.y1=i+n.width/2,i+=n.width}}function JPe(){let e=0,t=0,r=1,i=1,n=24,a=8,s,o=KPe,u=Pq,h,d,p=ZPe,g=QPe,f=6;function m(){let I={nodes:p.apply(null,arguments),links:g.apply(null,arguments)};return x(I),T(I),k(I),E(I),b(I),zq(I),I}l(m,"sankey"),m.update=function(I){return zq(I),I},m.nodeId=function(I){return arguments.length?(o=typeof I=="function"?I:jx(I),m):o},m.nodeAlign=function(I){return arguments.length?(u=typeof I=="function"?I:jx(I),m):u},m.nodeSort=function(I){return arguments.length?(h=I,m):h},m.nodeWidth=function(I){return arguments.length?(n=+I,m):n},m.nodePadding=function(I){return arguments.length?(a=s=+I,m):a},m.nodes=function(I){return arguments.length?(p=typeof I=="function"?I:jx(I),m):p},m.links=function(I){return arguments.length?(g=typeof I=="function"?I:jx(I),m):g},m.linkSort=function(I){return arguments.length?(d=I,m):d},m.size=function(I){return arguments.length?(e=t=0,r=+I[0],i=+I[1],m):[r-e,i-t]},m.extent=function(I){return arguments.length?(e=+I[0][0],r=+I[1][0],t=+I[0][1],i=+I[1][1],m):[[e,t],[r,i]]},m.iterations=function(I){return arguments.length?(f=+I,m):f};function x({nodes:I,links:R}){for(let[D,$]of I.entries())$.index=D,$.sourceLinks=[],$.targetLinks=[];let P=new Map(I.map((D,$)=>[o(D,$,I),D]));for(let[D,$]of R.entries()){$.index=D;let{source:F,target:z}=$;typeof F!="object"&&(F=$.source=Fq(P,F)),typeof z!="object"&&(z=$.target=Fq(P,z)),F.sourceLinks.push($),z.targetLinks.push($)}if(d!=null)for(let{sourceLinks:D,targetLinks:$}of I)D.sort(d),$.sort(d)}l(x,"computeNodeLinks");function T({nodes:I}){for(let R of I)R.value=R.fixedValue===void 0?Math.max(A8(R.sourceLinks,L8),A8(R.targetLinks,L8)):R.fixedValue}l(T,"computeNodeValues");function k({nodes:I}){let R=I.length,P=new Set(I),D=new Set,$=0;for(;P.size;){for(let F of P){F.depth=$;for(let{target:z}of F.sourceLinks)D.add(z)}if(++$>R)throw new Error("circular link");P=D,D=new Set}}l(k,"computeNodeDepths");function E({nodes:I}){let R=I.length,P=new Set(I),D=new Set,$=0;for(;P.size;){for(let F of P){F.height=$;for(let{source:z}of F.targetLinks)D.add(z)}if(++$>R)throw new Error("circular link");P=D,D=new Set}}l(E,"computeNodeHeights");function S({nodes:I}){let R=Rq(I,$=>$.depth)+1,P=(r-e-n)/(R-1),D=new Array(R);for(let $ of I){let F=Math.max(0,Math.min(R-1,Math.floor(u.call(null,$,R))));$.layer=F,$.x0=e+F*P,$.x1=$.x0+n,D[F]?D[F].push($):D[F]=[$]}if(h)for(let $ of D)$.sort(h);return D}l(S,"computeNodeLayers");function L(I){let R=Oq(I,P=>(i-t-(P.length-1)*s)/A8(P,L8));for(let P of I){let D=t;for(let $ of P){$.y0=D,$.y1=D+$.value*R,D=$.y1+s;for(let F of $.sourceLinks)F.width=F.value*R}D=(i-D+s)/(P.length+1);for(let $=0;$<P.length;++$){let F=P[$];F.y0+=D*($+1),F.y1+=D*($+1)}N(P)}}l(L,"initializeNodeBreadths");function b(I){let R=S(I);s=Math.min(a,(i-t)/(Rq(R,P=>P.length)-1)),L(R);for(let P=0;P<f;++P){let D=Math.pow(.99,P),$=Math.max(1-D,(P+1)/f);v(R,D,$),y(R,D,$)}}l(b,"computeNodeBreadths");function y(I,R,P){for(let D=1,$=I.length;D<$;++D){let F=I[D];for(let z of F){let U=0,j=0;for(let{source:Q,value:re}of z.targetLinks){let le=re*(z.layer-Q.layer);U+=O(Q,z)*le,j+=le}if(!(j>0))continue;let H=(U/j-z.y0)*R;z.y0+=H,z.y1+=H,M(z)}h===void 0&&F.sort(Hx),w(F,P)}}l(y,"relaxLeftToRight");function v(I,R,P){for(let D=I.length,$=D-2;$>=0;--$){let F=I[$];for(let z of F){let U=0,j=0;for(let{target:Q,value:re}of z.sourceLinks){let le=re*(Q.layer-z.layer);U+=_(z,Q)*le,j+=le}if(!(j>0))continue;let H=(U/j-z.y0)*R;z.y0+=H,z.y1+=H,M(z)}h===void 0&&F.sort(Hx),w(F,P)}}l(v,"relaxRightToLeft");function w(I,R){let P=I.length>>1,D=I[P];A(I,D.y0-s,P-1,R),C(I,D.y1+s,P+1,R),A(I,i,I.length-1,R),C(I,t,0,R)}l(w,"resolveCollisions");function C(I,R,P,D){for(;P<I.length;++P){let $=I[P],F=(R-$.y0)*D;F>1e-6&&($.y0+=F,$.y1+=F),R=$.y1+s}}l(C,"resolveCollisionsTopToBottom");function A(I,R,P,D){for(;P>=0;--P){let $=I[P],F=($.y1-R)*D;F>1e-6&&($.y0-=F,$.y1-=F),R=$.y0-s}}l(A,"resolveCollisionsBottomToTop");function M({sourceLinks:I,targetLinks:R}){if(d===void 0){for(let{source:{sourceLinks:P}}of R)P.sort($q);for(let{target:{targetLinks:P}}of I)P.sort(Bq)}}l(M,"reorderNodeLinks");function N(I){if(d===void 0)for(let{sourceLinks:R,targetLinks:P}of I)R.sort($q),P.sort(Bq)}l(N,"reorderLinks");function O(I,R){let P=I.y0-(I.sourceLinks.length-1)*s/2;for(let{target:D,width:$}of I.sourceLinks){if(D===R)break;P+=$+s}for(let{source:D,width:$}of R.targetLinks){if(D===I)break;P-=$}return P}l(O,"targetTop");function _(I,R){let P=R.y0-(R.targetLinks.length-1)*s/2;for(let{source:D,width:$}of R.targetLinks){if(D===I)break;P+=$+s}for(let{target:D,width:$}of I.sourceLinks){if(D===R)break;P-=$}return P}return l(_,"sourceTop"),m}var qet=B(()=>{"use strict";jPe(),XPe(),Uet(),l(Bq,"ascendingSourceBreadth"),l($q,"ascendingTargetBreadth"),l(Hx,"ascendingBreadth"),l(L8,"value"),l(KPe,"defaultId"),l(ZPe,"defaultNodes"),l(QPe,"defaultLinks"),l(Fq,"find"),l(zq,"computeLinkBreadths"),l(JPe,"Sankey")});function N8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Gq(){return new N8}var M8,I8,Ih,eBe,tBe,jet=B(()=>{"use strict";M8=Math.PI,I8=2*M8,Ih=1e-6,eBe=I8-Ih,l(N8,"Path"),l(Gq,"path"),N8.prototype=Gq.prototype={constructor:N8,moveTo:l(function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},"moveTo"),closePath:l(function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},"closePath"),lineTo:l(function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},"lineTo"),quadraticCurveTo:l(function(e,t,r,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+i)},"quadraticCurveTo"),bezierCurveTo:l(function(e,t,r,i,n,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +i+","+(this._x1=+n)+","+(this._y1=+a)},"bezierCurveTo"),arcTo:l(function(e,t,r,i,n){e=+e,t=+t,r=+r,i=+i,n=+n;var a=this._x1,s=this._y1,o=r-e,u=i-t,h=a-e,d=s-t,p=h*h+d*d;if(n<0)throw new Error("negative radius: "+n);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(p>Ih)if(!(Math.abs(d*o-u*h)>Ih)||!n)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var g=r-a,f=i-s,m=o*o+u*u,x=g*g+f*f,T=Math.sqrt(m),k=Math.sqrt(p),E=n*Math.tan((M8-Math.acos((m+p-x)/(2*T*k)))/2),S=E/k,L=E/T;Math.abs(S-1)>Ih&&(this._+="L"+(e+S*h)+","+(t+S*d)),this._+="A"+n+","+n+",0,0,"+ +(d*g>h*f)+","+(this._x1=e+L*o)+","+(this._y1=t+L*u)}},"arcTo"),arc:l(function(e,t,r,i,n,a){e=+e,t=+t,r=+r,a=!!a;var s=r*Math.cos(i),o=r*Math.sin(i),u=e+s,h=t+o,d=1^a,p=a?i-n:n-i;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>Ih||Math.abs(this._y1-h)>Ih)&&(this._+="L"+u+","+h),r&&(p<0&&(p=p%I8+I8),p>eBe?this._+="A"+r+","+r+",0,1,"+d+","+(e-s)+","+(t-o)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):p>Ih&&(this._+="A"+r+","+r+",0,"+ +(p>=M8)+","+d+","+(this._x1=e+r*Math.cos(n))+","+(this._y1=t+r*Math.sin(n))))},"arc"),rect:l(function(e,t,r,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},"rect"),toString:l(function(){return this._},"toString")},tBe=Gq}),Het=B(()=>{"use strict";jet()});function Uq(e){return l(function(){return e},"constant")}var Vet=B(()=>{"use strict";l(Uq,"default")});function rBe(e){return e[0]}function iBe(e){return e[1]}var Yet=B(()=>{"use strict";l(rBe,"x"),l(iBe,"y")}),nBe,Wet=B(()=>{"use strict";nBe=Array.prototype.slice});function aBe(e){return e.source}function sBe(e){return e.target}function oBe(e){var t=aBe,r=sBe,i=rBe,n=iBe,a=null;function s(){var o,u=nBe.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(a||(a=o=tBe()),e(a,+i.apply(this,(u[0]=h,u)),+n.apply(this,u),+i.apply(this,(u[0]=d,u)),+n.apply(this,u)),o)return a=null,o+""||null}return l(s,"link"),s.source=function(o){return arguments.length?(t=o,s):t},s.target=function(o){return arguments.length?(r=o,s):r},s.x=function(o){return arguments.length?(i=typeof o=="function"?o:Uq(+o),s):i},s.y=function(o){return arguments.length?(n=typeof o=="function"?o:Uq(+o),s):n},s.context=function(o){return arguments.length?(a=o!=null?o:null,s):a},s}function lBe(e,t,r,i,n){e.moveTo(t,r),e.bezierCurveTo(t=(t+i)/2,r,t,n,i,n)}function cBe(){return oBe(lBe)}var Xet=B(()=>{"use strict";Het(),Wet(),Vet(),Yet(),l(aBe,"linkSource"),l(sBe,"linkTarget"),l(oBe,"link"),l(lBe,"curveHorizontal"),l(cBe,"linkHorizontal")}),Ket=B(()=>{"use strict";Xet()});function uBe(e){return[e.source.x1,e.y0]}function hBe(e){return[e.target.x0,e.y1]}function dBe(){return cBe().source(uBe).target(hBe)}var Zet=B(()=>{"use strict";Ket(),l(uBe,"horizontalSource"),l(hBe,"horizontalTarget"),l(dBe,"default")}),Qet=B(()=>{"use strict";qet(),XPe(),Zet()}),qq,Jet=B(()=>{"use strict";var e;qq=(e=class{static next(r){return new e(r+ ++e.count)}constructor(r){this.id=r,this.href=`#${r}`}toString(){return"url("+this.href+")"}},l(e,"Uid"),e.count=0,e)}),pBe,gBe,fBe,ett=B(()=>{"use strict";qt(),gr(),Qet(),pn(),Jet(),pBe={left:VPe,right:YPe,center:WPe,justify:Pq},gBe=l(function(e,t,r,i){var w,C,A,M,N,O,_,I;let{securityLevel:n,sankey:a}=Ce(),s=IS.sankey,o;n==="sandbox"&&(o=Ze("#i"+t));let u=Ze(n==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=n==="sandbox"?u.select(`[id="${t}"]`):Ze(`[id="${t}"]`),d=(w=a==null?void 0:a.width)!=null?w:s.width,p=(C=a==null?void 0:a.height)!=null?C:s.width,g=(A=a==null?void 0:a.useMaxWidth)!=null?A:s.useMaxWidth,f=(M=a==null?void 0:a.nodeAlignment)!=null?M:s.nodeAlignment,m=(N=a==null?void 0:a.prefix)!=null?N:s.prefix,x=(O=a==null?void 0:a.suffix)!=null?O:s.suffix,T=(_=a==null?void 0:a.showValues)!=null?_:s.showValues,k=i.db.getGraph(),E=pBe[f];JPe().nodeId(R=>R.id).nodeWidth(10).nodePadding(10+(T?15:0)).nodeAlign(E).extent([[0,0],[d,p]])(k);let S=Su(dre);h.append("g").attr("class","nodes").selectAll(".node").data(k.nodes).join("g").attr("class","node").attr("id",R=>(R.uid=qq.next("node-")).id).attr("transform",function(R){return"translate("+R.x0+","+R.y0+")"}).attr("x",R=>R.x0).attr("y",R=>R.y0).append("rect").attr("height",R=>R.y1-R.y0).attr("width",R=>R.x1-R.x0).attr("fill",R=>S(R.id));let L=l(({id:R,value:P})=>T?`${R}
${m}${Math.round(P*100)/100}${x}`:R,"getText");h.append("g").attr("class","node-labels").attr("font-size",14).selectAll("text").data(k.nodes).join("text").attr("x",R=>R.x0<d/2?R.x1+6:R.x0-6).attr("y",R=>(R.y1+R.y0)/2).attr("dy",`${T?"0":"0.35"}em`).attr("text-anchor",R=>R.x0<d/2?"start":"end").text(L);let b=h.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(k.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),y=(I=a==null?void 0:a.linkColor)!=null?I:"gradient";if(y==="gradient"){let R=b.append("linearGradient").attr("id",P=>(P.uid=qq.next("linearGradient-")).id).attr("gradientUnits","userSpaceOnUse").attr("x1",P=>P.source.x1).attr("x2",P=>P.target.x0);R.append("stop").attr("offset","0%").attr("stop-color",P=>S(P.source.id)),R.append("stop").attr("offset","100%").attr("stop-color",P=>S(P.target.id))}let v;switch(y){case"gradient":v=l(R=>R.uid,"coloring");break;case"source":v=l(R=>S(R.source.id),"coloring");break;case"target":v=l(R=>S(R.target.id),"coloring");break;default:v=y}b.append("path").attr("d",dBe()).attr("stroke",v).attr("stroke-width",R=>Math.max(1,R.width)),Wp(void 0,h,0,g)},"draw"),fBe={draw:gBe}}),mBe,ttt=B(()=>{"use strict";mBe=l(e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,`
`).trim(),"prepareTextForParsing")}),yBe,vBe,rtt=B(()=>{"use strict";yBe=l(e=>`.label {
      font-family: ${e.fontFamily};
    }`,"getStyles"),vBe=yBe}),bBe={};nr(bBe,{diagram:()=>wBe});var xBe,wBe,itt=B(()=>{"use strict";Bet(),$et(),ett(),ttt(),rtt(),xBe=zx.parse.bind(zx),zx.parse=e=>xBe(mBe(e)),wBe={styles:vBe,parser:zx,db:qPe,renderer:fBe}}),kBe,jq,TBe=B(()=>{"use strict";var e;bi(),va(),Jt(),Fi(),kBe=Tr.packet,jq=(e=class{constructor(){this.packet=[],this.setAccTitle=Bi,this.getAccTitle=Wi,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getAccDescription=Ki,this.setAccDescription=Xi}getConfig(){let r=Ea(dt(dt({},kBe),_r().packet));return r.showBits&&(r.paddingY+=10),r}getPacket(){return this.packet}pushWord(r){r.length>0&&this.packet.push(r)}clear(){Pi(),this.packet=[]}},l(e,"PacketDB"),e)}),EBe,CBe,SBe,Hq,ntt=B(()=>{"use strict";lp(),lt(),wf(),TBe(),EBe=1e4,CBe=l((e,t)=>{cp(e,t);let r=-1,i=[],n=1,{bitsPerRow:a}=t.getConfig();for(let{start:s,end:o,bits:u,label:h}of e.blocks){if(s!==void 0&&o!==void 0&&o<s)throw new Error(`Packet block ${s} - ${o} is invalid. End must be greater than start.`);if(s!=null||(s=r+1),s!==r+1)throw new Error(`Packet block ${s} - ${o!=null?o:s} is not contiguous. It should start from ${r+1}.`);if(u===0)throw new Error(`Packet block ${s} is invalid. Cannot have a zero bit field.`);for(o!=null||(o=s+(u!=null?u:1)-1),u!=null||(u=o-s+1),r=o,ae.debug(`Packet block ${s} - ${r} with label ${h}`);i.length<=a+1&&t.getPacket().length<EBe;){let[d,p]=SBe({start:s,end:o,bits:u,label:h},n,a);if(i.push(d),d.end+1===n*a&&(t.pushWord(i),i=[],n++),!p)break;({start:s,end:o,bits:u,label:h}=p)}}t.pushWord(i)},"populate"),SBe=l((e,t,r)=>{if(e.start===void 0)throw new Error("start should have been set during first phase");if(e.end===void 0)throw new Error("end should have been set during first phase");if(e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);if(e.end+1<=t*r)return[e,void 0];let i=t*r-1,n=t*r;return[{start:e.start,end:i,label:e.label,bits:i-e.start},{start:n,end:e.end,label:e.label,bits:e.end-n}]},"getNextFittingBlock"),Hq={parser:{yy:void 0},parse:l(e=>xe(null,null,function*(){var i;let t=yield eu("packet",e),r=(i=Hq.parser)==null?void 0:i.yy;if(!(r instanceof jq))throw new Error("parser.parser?.yy was not a PacketDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");ae.debug(t),CBe(t,r)}),"parse")}}),_Be,ABe,LBe,att=B(()=>{"use strict";au(),pn(),_Be=l((e,t,r,i)=>{let n=i.db,a=n.getConfig(),{rowHeight:s,paddingY:o,bitWidth:u,bitsPerRow:h}=a,d=n.getPacket(),p=n.getDiagramTitle(),g=s+o,f=g*(d.length+1)-(p?0:s),m=u*h+2,x=Gl(t);x.attr("viewbox",`0 0 ${m} ${f}`),ta(x,f,m,a.useMaxWidth);for(let[T,k]of d.entries())ABe(x,k,T,a);x.append("text").text(p).attr("x",m/2).attr("y",f-g/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")},"draw"),ABe=l((e,t,r,{rowHeight:i,paddingX:n,paddingY:a,bitWidth:s,bitsPerRow:o,showBits:u})=>{let h=e.append("g"),d=r*(i+a)+a;for(let p of t){let g=p.start%o*s+1,f=(p.end-p.start+1)*s-n;if(h.append("rect").attr("x",g).attr("y",d).attr("width",f).attr("height",i).attr("class","packetBlock"),h.append("text").attr("x",g+f/2).attr("y",d+i/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(p.label),!u)continue;let m=p.end===p.start,x=d-2;h.append("text").attr("x",g+(m?f/2:0)).attr("y",x).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",m?"middle":"start").text(p.start),m||h.append("text").attr("x",g+f).attr("y",x).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(p.end)}},"drawWord"),LBe={draw:_Be}}),NBe,MBe,stt=B(()=>{"use strict";Jt(),NBe={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},MBe=l(({packet:e}={})=>{let t=Ea(NBe,e);return`
	.packetByte {
		font-size: ${t.byteFontSize};
	}
	.packetByte.start {
		fill: ${t.startByteColor};
	}
	.packetByte.end {
		fill: ${t.endByteColor};
	}
	.packetLabel {
		fill: ${t.labelColor};
		font-size: ${t.labelFontSize};
	}
	.packetTitle {
		fill: ${t.titleColor};
		font-size: ${t.titleFontSize};
	}
	.packetBlock {
		stroke: ${t.blockStrokeColor};
		stroke-width: ${t.blockStrokeWidth};
		fill: ${t.blockFillColor};
	}
	`},"styles")}),IBe={};nr(IBe,{diagram:()=>DBe});var DBe,ott=B(()=>{"use strict";TBe(),ntt(),att(),stt(),DBe={parser:Hq,get db(){return new jq},renderer:LBe,styles:MBe}}),bp,Vq,Dh,RBe,OBe,Yq,PBe,BBe,$Be,FBe,zBe,GBe,UBe,Ff,qBe=B(()=>{"use strict";bi(),va(),Jt(),Fi(),bp={showLegend:!0,ticks:5,max:null,min:0,graticule:"circle"},Vq={axes:[],curves:[],options:bp},Dh=structuredClone(Vq),RBe=Tr.radar,OBe=l(()=>Ea(dt(dt({},RBe),_r().radar)),"getConfig"),Yq=l(()=>Dh.axes,"getAxes"),PBe=l(()=>Dh.curves,"getCurves"),BBe=l(()=>Dh.options,"getOptions"),$Be=l(e=>{Dh.axes=e.map(t=>{var r;return{name:t.name,label:(r=t.label)!=null?r:t.name}})},"setAxes"),FBe=l(e=>{Dh.curves=e.map(t=>{var r;return{name:t.name,label:(r=t.label)!=null?r:t.name,entries:zBe(t.entries)}})},"setCurves"),zBe=l(e=>{if(e[0].axis==null)return e.map(r=>r.value);let t=Yq();if(t.length===0)throw new Error("Axes must be populated before curves for reference entries");return t.map(r=>{let i=e.find(n=>{var a;return((a=n.axis)==null?void 0:a.$refText)===r.name});if(i===void 0)throw new Error("Missing entry for axis "+r.label);return i.value})},"computeCurveEntries"),GBe=l(e=>{var r,i,n,a,s,o,u,h,d,p;let t=e.reduce((g,f)=>(g[f.name]=f,g),{});Dh.options={showLegend:(i=(r=t.showLegend)==null?void 0:r.value)!=null?i:bp.showLegend,ticks:(a=(n=t.ticks)==null?void 0:n.value)!=null?a:bp.ticks,max:(o=(s=t.max)==null?void 0:s.value)!=null?o:bp.max,min:(h=(u=t.min)==null?void 0:u.value)!=null?h:bp.min,graticule:(p=(d=t.graticule)==null?void 0:d.value)!=null?p:bp.graticule}},"setOptions"),UBe=l(()=>{Pi(),Dh=structuredClone(Vq)},"clear"),Ff={getAxes:Yq,getCurves:PBe,getOptions:BBe,setAxes:$Be,setCurves:FBe,setOptions:GBe,getConfig:OBe,clear:UBe,setAccTitle:Bi,getAccTitle:Wi,setDiagramTitle:gn,getDiagramTitle:$i,getAccDescription:Ki,setAccDescription:Xi}}),jBe,HBe,ltt=B(()=>{"use strict";lp(),lt(),wf(),qBe(),jBe=l(e=>{cp(e,Ff);let{axes:t,curves:r,options:i}=e;Ff.setAxes(t),Ff.setCurves(r),Ff.setOptions(i)},"populate"),HBe={parse:l(e=>xe(null,null,function*(){let t=yield eu("radar",e);ae.debug(t),jBe(t)}),"parse")}});function VBe(e,t,r,i,n,a,s){let o=t.length,u=Math.min(s.width,s.height)/2;r.forEach((h,d)=>{if(h.entries.length!==o)return;let p=h.entries.map((g,f)=>{let m=2*Math.PI*f/o-Math.PI/2,x=YBe(g,i,n,u),T=x*Math.cos(m),k=x*Math.sin(m);return{x:T,y:k}});a==="circle"?e.append("path").attr("d",WBe(p,s.curveTension)).attr("class",`radarCurve-${d}`):a==="polygon"&&e.append("polygon").attr("points",p.map(g=>`${g.x},${g.y}`).join(" ")).attr("class",`radarCurve-${d}`)})}function YBe(e,t,r,i){let n=Math.min(Math.max(e,t),r);return i*(n-t)/(r-t)}function WBe(e,t){let r=e.length,i=`M${e[0].x},${e[0].y}`;for(let n=0;n<r;n++){let a=e[(n-1+r)%r],s=e[n],o=e[(n+1)%r],u=e[(n+2)%r],h={x:s.x+(o.x-a.x)*t,y:s.y+(o.y-a.y)*t},d={x:o.x-(u.x-s.x)*t,y:o.y-(u.y-s.y)*t};i+=` C${h.x},${h.y} ${d.x},${d.y} ${o.x},${o.y}`}return`${i} Z`}function XBe(e,t,r,i){if(!r)return;let n=(i.width/2+i.marginRight)*3/4,a=-(i.height/2+i.marginTop)*3/4,s=20;t.forEach((o,u)=>{let h=e.append("g").attr("transform",`translate(${n}, ${a+u*s})`);h.append("rect").attr("width",12).attr("height",12).attr("class",`radarLegendBox-${u}`),h.append("text").attr("x",16).attr("y",0).attr("class","radarLegendText").text(o.label)})}var KBe,ZBe,QBe,JBe,e$e,ctt=B(()=>{"use strict";au(),KBe=l((e,t,r,i)=>{var x;let n=i.db,a=n.getAxes(),s=n.getCurves(),o=n.getOptions(),u=n.getConfig(),h=n.getDiagramTitle(),d=Gl(t),p=ZBe(d,u),g=(x=o.max)!=null?x:Math.max(...s.map(T=>Math.max(...T.entries))),f=o.min,m=Math.min(u.width,u.height)/2;QBe(p,a,m,o.ticks,o.graticule),JBe(p,a,m,u),VBe(p,a,s,f,g,o.graticule,u),XBe(p,s,o.showLegend,u),p.append("text").attr("class","radarTitle").text(h).attr("x",0).attr("y",-u.height/2-u.marginTop)},"draw"),ZBe=l((e,t)=>{let r=t.width+t.marginLeft+t.marginRight,i=t.height+t.marginTop+t.marginBottom,n={x:t.marginLeft+t.width/2,y:t.marginTop+t.height/2};return e.attr("viewbox",`0 0 ${r} ${i}`).attr("width",r).attr("height",i),e.append("g").attr("transform",`translate(${n.x}, ${n.y})`)},"drawFrame"),QBe=l((e,t,r,i,n)=>{if(n==="circle")for(let a=0;a<i;a++){let s=r*(a+1)/i;e.append("circle").attr("r",s).attr("class","radarGraticule")}else if(n==="polygon"){let a=t.length;for(let s=0;s<i;s++){let o=r*(s+1)/i,u=t.map((h,d)=>{let p=2*d*Math.PI/a-Math.PI/2,g=o*Math.cos(p),f=o*Math.sin(p);return`${g},${f}`}).join(" ");e.append("polygon").attr("points",u).attr("class","radarGraticule")}}},"drawGraticule"),JBe=l((e,t,r,i)=>{let n=t.length;for(let a=0;a<n;a++){let s=t[a].label,o=2*a*Math.PI/n-Math.PI/2;e.append("line").attr("x1",0).attr("y1",0).attr("x2",r*i.axisScaleFactor*Math.cos(o)).attr("y2",r*i.axisScaleFactor*Math.sin(o)).attr("class","radarAxisLine"),e.append("text").text(s).attr("x",r*i.axisLabelFactor*Math.cos(o)).attr("y",r*i.axisLabelFactor*Math.sin(o)).attr("class","radarAxisLabel")}},"drawAxes"),l(VBe,"drawCurves"),l(YBe,"relativeRadius"),l(WBe,"closedRoundCurve"),l(XBe,"drawLegend"),e$e={draw:KBe}}),t$e,r$e,i$e,utt=B(()=>{"use strict";Jt(),d4(),bi(),t$e=l((e,t)=>{let r="";for(let i=0;i<e.THEME_COLOR_LIMIT;i++){let n=e[`cScale${i}`];r+=`
		.radarCurve-${i} {
			color: ${n};
			fill: ${n};
			fill-opacity: ${t.curveOpacity};
			stroke: ${n};
			stroke-width: ${t.curveStrokeWidth};
		}
		.radarLegendBox-${i} {
			fill: ${n};
			fill-opacity: ${t.curveOpacity};
			stroke: ${n};
		}
		`}return r},"genIndexStyles"),r$e=l(e=>{let t=nm(),r=_r(),i=Ea(t,r.themeVariables),n=Ea(i.radar,e);return{themeVariables:i,radarOptions:n}},"buildRadarStyleOptions"),i$e=l(({radar:e}={})=>{let{themeVariables:t,radarOptions:r}=r$e(e);return`
	.radarTitle {
		font-size: ${t.fontSize};
		color: ${t.titleColor};
		dominant-baseline: hanging;
		text-anchor: middle;
	}
	.radarAxisLine {
		stroke: ${r.axisColor};
		stroke-width: ${r.axisStrokeWidth};
	}
	.radarAxisLabel {
		dominant-baseline: middle;
		text-anchor: middle;
		font-size: ${r.axisLabelFontSize}px;
		color: ${r.axisColor};
	}
	.radarGraticule {
		fill: ${r.graticuleColor};
		fill-opacity: ${r.graticuleOpacity};
		stroke: ${r.graticuleColor};
		stroke-width: ${r.graticuleStrokeWidth};
	}
	.radarLegendText {
		text-anchor: start;
		font-size: ${r.legendFontSize}px;
		dominant-baseline: hanging;
	}
	${t$e(t,r)}
	`},"styles")}),n$e={};nr(n$e,{diagram:()=>a$e});var a$e,htt=B(()=>{"use strict";qBe(),ltt(),ctt(),utt(),a$e={parser:HBe,db:Ff,renderer:e$e,styles:i$e}}),D8,s$e,dtt=B(()=>{"use strict";D8=(function(){var e=l(function(S,L,b,y){for(b=b||{},y=S.length;y--;b[S[y]]=L);return b},"o"),t=[1,15],r=[1,7],i=[1,13],n=[1,14],a=[1,19],s=[1,16],o=[1,17],u=[1,18],h=[8,30],d=[8,10,21,28,29,30,31,39,43,46],p=[1,23],g=[1,24],f=[8,10,15,16,21,28,29,30,31,39,43,46],m=[8,10,15,16,21,27,28,29,30,31,39,43,46],x=[1,49],T={trace:l(function(){},"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,NODE_ID:31,nodeShapeNLabel:32,dirList:33,DIR:34,NODE_DSTART:35,NODE_DEND:36,BLOCK_ARROW_START:37,BLOCK_ARROW_END:38,classDef:39,CLASSDEF_ID:40,CLASSDEF_STYLEOPTS:41,DEFAULT:42,class:43,CLASSENTITY_IDS:44,STYLECLASS:45,style:46,STYLE_ENTITY_IDS:47,STYLE_DEFINITION_DATA:48,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"NODE_ID",34:"DIR",35:"NODE_DSTART",36:"NODE_DEND",37:"BLOCK_ARROW_START",38:"BLOCK_ARROW_END",39:"classDef",40:"CLASSDEF_ID",41:"CLASSDEF_STYLEOPTS",42:"DEFAULT",43:"class",44:"CLASSENTITY_IDS",45:"STYLECLASS",46:"style",47:"STYLE_ENTITY_IDS",48:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[33,1],[33,2],[32,3],[32,4],[23,3],[23,3],[24,3],[25,3]],performAction:l(function(S,L,b,y,v,w,C){var A=w.length-1;switch(v){case 4:y.getLogger().debug("Rule: separator (NL) ");break;case 5:y.getLogger().debug("Rule: separator (Space) ");break;case 6:y.getLogger().debug("Rule: separator (EOF) ");break;case 7:y.getLogger().debug("Rule: hierarchy: ",w[A-1]),y.setHierarchy(w[A-1]);break;case 8:y.getLogger().debug("Stop NL ");break;case 9:y.getLogger().debug("Stop EOF ");break;case 10:y.getLogger().debug("Stop NL2 ");break;case 11:y.getLogger().debug("Stop EOF2 ");break;case 12:y.getLogger().debug("Rule: statement: ",w[A]),typeof w[A].length=="number"?this.$=w[A]:this.$=[w[A]];break;case 13:y.getLogger().debug("Rule: statement #2: ",w[A-1]),this.$=[w[A-1]].concat(w[A]);break;case 14:y.getLogger().debug("Rule: link: ",w[A],S),this.$={edgeTypeStr:w[A],label:""};break;case 15:y.getLogger().debug("Rule: LABEL link: ",w[A-3],w[A-1],w[A]),this.$={edgeTypeStr:w[A],label:w[A-1]};break;case 18:let M=parseInt(w[A]),N=y.generateId();this.$={id:N,type:"space",label:"",width:M,children:[]};break;case 23:y.getLogger().debug("Rule: (nodeStatement link node) ",w[A-2],w[A-1],w[A]," typestr: ",w[A-1].edgeTypeStr);let O=y.edgeStrToEdgeData(w[A-1].edgeTypeStr);this.$=[{id:w[A-2].id,label:w[A-2].label,type:w[A-2].type,directions:w[A-2].directions},{id:w[A-2].id+"-"+w[A].id,start:w[A-2].id,end:w[A].id,label:w[A-1].label,type:"edge",directions:w[A].directions,arrowTypeEnd:O,arrowTypeStart:"arrow_open"},{id:w[A].id,label:w[A].label,type:y.typeStr2Type(w[A].typeStr),directions:w[A].directions}];break;case 24:y.getLogger().debug("Rule: nodeStatement (abc88 node size) ",w[A-1],w[A]),this.$={id:w[A-1].id,label:w[A-1].label,type:y.typeStr2Type(w[A-1].typeStr),directions:w[A-1].directions,widthInColumns:parseInt(w[A],10)};break;case 25:y.getLogger().debug("Rule: nodeStatement (node) ",w[A]),this.$={id:w[A].id,label:w[A].label,type:y.typeStr2Type(w[A].typeStr),directions:w[A].directions,widthInColumns:1};break;case 26:y.getLogger().debug("APA123",this?this:"na"),y.getLogger().debug("COLUMNS: ",w[A]),this.$={type:"column-setting",columns:w[A]==="auto"?-1:parseInt(w[A])};break;case 27:y.getLogger().debug("Rule: id-block statement : ",w[A-2],w[A-1]);let _=y.generateId();this.$=hr(dt({},w[A-2]),{type:"composite",children:w[A-1]});break;case 28:y.getLogger().debug("Rule: blockStatement : ",w[A-2],w[A-1],w[A]);let I=y.generateId();this.$={id:I,type:"composite",label:"",children:w[A-1]};break;case 29:y.getLogger().debug("Rule: node (NODE_ID separator): ",w[A]),this.$={id:w[A]};break;case 30:y.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",w[A-1],w[A]),this.$={id:w[A-1],label:w[A].label,typeStr:w[A].typeStr,directions:w[A].directions};break;case 31:y.getLogger().debug("Rule: dirList: ",w[A]),this.$=[w[A]];break;case 32:y.getLogger().debug("Rule: dirList: ",w[A-1],w[A]),this.$=[w[A-1]].concat(w[A]);break;case 33:y.getLogger().debug("Rule: nodeShapeNLabel: ",w[A-2],w[A-1],w[A]),this.$={typeStr:w[A-2]+w[A],label:w[A-1]};break;case 34:y.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",w[A-3],w[A-2]," #3:",w[A-1],w[A]),this.$={typeStr:w[A-3]+w[A],label:w[A-2],directions:w[A-1]};break;case 35:case 36:this.$={type:"classDef",id:w[A-1].trim(),css:w[A].trim()};break;case 37:this.$={type:"applyClass",id:w[A-1].trim(),styleClass:w[A].trim()};break;case 38:this.$={type:"applyStyles",id:w[A-1].trim(),stylesStr:w[A].trim()};break}},"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{10:t,11:3,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{8:[1,20]},e(h,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,10:t,21:r,28:i,29:n,31:a,39:s,43:o,46:u}),e(d,[2,16],{14:22,15:p,16:g}),e(d,[2,17]),e(d,[2,18]),e(d,[2,19]),e(d,[2,20]),e(d,[2,21]),e(d,[2,22]),e(f,[2,25],{27:[1,25]}),e(d,[2,26]),{19:26,26:12,31:a},{10:t,11:27,13:4,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{40:[1,28],42:[1,29]},{44:[1,30]},{47:[1,31]},e(m,[2,29],{32:32,35:[1,33],37:[1,34]}),{1:[2,7]},e(h,[2,13]),{26:35,31:a},{31:[2,14]},{17:[1,36]},e(f,[2,24]),{10:t,11:37,13:4,14:22,15:p,16:g,19:5,20:6,21:r,22:8,23:9,24:10,25:11,26:12,28:i,29:n,31:a,39:s,43:o,46:u},{30:[1,38]},{41:[1,39]},{41:[1,40]},{45:[1,41]},{48:[1,42]},e(m,[2,30]),{18:[1,43]},{18:[1,44]},e(f,[2,23]),{18:[1,45]},{30:[1,46]},e(d,[2,28]),e(d,[2,35]),e(d,[2,36]),e(d,[2,37]),e(d,[2,38]),{36:[1,47]},{33:48,34:x},{15:[1,50]},e(d,[2,27]),e(m,[2,33]),{38:[1,51]},{33:52,34:x,38:[2,31]},{31:[2,15]},e(m,[2,34]),{38:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:l(function(S,L){if(L.recoverable)this.trace(S);else{var b=new Error(S);throw b.hash=L,b}},"parseError"),parse:l(function(S){var L=this,b=[0],y=[],v=[null],w=[],C=this.table,A="",M=0,N=0,O=0,_=2,I=1,R=w.slice.call(arguments,1),P=Object.create(this.lexer),D={yy:{}};for(var $ in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$)&&(D.yy[$]=this.yy[$]);P.setInput(S,D.yy),D.yy.lexer=P,D.yy.parser=this,typeof P.yylloc>"u"&&(P.yylloc={});var F=P.yylloc;w.push(F);var z=P.options&&P.options.ranges;typeof D.yy.parseError=="function"?this.parseError=D.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function U(me){b.length=b.length-2*me,v.length=v.length-me,w.length=w.length-me}l(U,"popStack");function j(){var me;return me=y.pop()||P.lex()||I,typeof me!="number"&&(me instanceof Array&&(y=me,me=y.pop()),me=L.symbols_[me]||me),me}l(j,"lex");for(var H,Q,re,le,oe,W,J={},Y,X,te,ce;;){if(re=b[b.length-1],this.defaultActions[re]?le=this.defaultActions[re]:((H===null||typeof H>"u")&&(H=j()),le=C[re]&&C[re][H]),typeof le>"u"||!le.length||!le[0]){var K="";ce=[];for(Y in C[re])this.terminals_[Y]&&Y>_&&ce.push("'"+this.terminals_[Y]+"'");P.showPosition?K="Parse error on line "+(M+1)+`:
`+P.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[H]||H)+"'":K="Parse error on line "+(M+1)+": Unexpected "+(H==I?"end of input":"'"+(this.terminals_[H]||H)+"'"),this.parseError(K,{text:P.match,token:this.terminals_[H]||H,line:P.yylineno,loc:F,expected:ce})}if(le[0]instanceof Array&&le.length>1)throw new Error("Parse Error: multiple actions possible at state: "+re+", token: "+H);switch(le[0]){case 1:b.push(H),v.push(P.yytext),w.push(P.yylloc),b.push(le[1]),H=null,Q?(H=Q,Q=null):(N=P.yyleng,A=P.yytext,M=P.yylineno,F=P.yylloc,O>0&&O--);break;case 2:if(X=this.productions_[le[1]][1],J.$=v[v.length-X],J._$={first_line:w[w.length-(X||1)].first_line,last_line:w[w.length-1].last_line,first_column:w[w.length-(X||1)].first_column,last_column:w[w.length-1].last_column},z&&(J._$.range=[w[w.length-(X||1)].range[0],w[w.length-1].range[1]]),W=this.performAction.apply(J,[A,N,M,D.yy,le[1],v,w].concat(R)),typeof W<"u")return W;X&&(b=b.slice(0,-1*X*2),v=v.slice(0,-1*X),w=w.slice(0,-1*X)),b.push(this.productions_[le[1]][0]),v.push(J.$),w.push(J._$),te=C[b[b.length-2]][b[b.length-1]],b.push(te);break;case 3:return!0}}return!0},"parse")},k=(function(){var S={EOF:1,parseError:l(function(L,b){if(this.yy.parser)this.yy.parser.parseError(L,b);else throw new Error(L)},"parseError"),setInput:l(function(L,b){return this.yy=b||this.yy||{},this._input=L,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:l(function(){var L=this._input[0];this.yytext+=L,this.yyleng++,this.offset++,this.match+=L,this.matched+=L;var b=L.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),L},"input"),unput:l(function(L){var b=L.length,y=L.split(/(?:\r\n?|\n)/g);this._input=L+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b),this.offset-=b;var v=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),y.length-1&&(this.yylineno-=y.length-1);var w=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:y?(y.length===v.length?this.yylloc.first_column:0)+v[v.length-y.length].length-y[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[w[0],w[0]+this.yyleng-b]),this.yyleng=this.yytext.length,this},"unput"),more:l(function(){return this._more=!0,this},"more"),reject:l(function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},"reject"),less:l(function(L){this.unput(this.match.slice(L))},"less"),pastInput:l(function(){var L=this.matched.substr(0,this.matched.length-this.match.length);return(L.length>20?"...":"")+L.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:l(function(){var L=this.match;return L.length<20&&(L+=this._input.substr(0,20-L.length)),(L.substr(0,20)+(L.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:l(function(){var L=this.pastInput(),b=new Array(L.length+1).join("-");return L+this.upcomingInput()+`
`+b+"^"},"showPosition"),test_match:l(function(L,b){var y,v,w;if(this.options.backtrack_lexer&&(w={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(w.yylloc.range=this.yylloc.range.slice(0))),v=L[0].match(/(?:\r\n?|\n).*/g),v&&(this.yylineno+=v.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:v?v[v.length-1].length-v[v.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+L[0].length},this.yytext+=L[0],this.match+=L[0],this.matches=L,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(L[0].length),this.matched+=L[0],y=this.performAction.call(this,this.yy,this,b,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),y)return y;if(this._backtrack){for(var C in w)this[C]=w[C];return!1}return!1},"test_match"),next:l(function(){if(this.done)return this.EOF;this._input||(this.done=!0);var L,b,y,v;this._more||(this.yytext="",this.match="");for(var w=this._currentRules(),C=0;C<w.length;C++)if(y=this._input.match(this.rules[w[C]]),y&&(!b||y[0].length>b[0].length)){if(b=y,v=C,this.options.backtrack_lexer){if(L=this.test_match(y,w[C]),L!==!1)return L;if(this._backtrack){b=!1;continue}else return!1}else if(!this.options.flex)break}return b?(L=this.test_match(b,w[v]),L!==!1?L:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:l(function(){var L=this.next();return L||this.lex()},"lex"),begin:l(function(L){this.conditionStack.push(L)},"begin"),popState:l(function(){var L=this.conditionStack.length-1;return L>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:l(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:l(function(L){return L=this.conditionStack.length-1-Math.abs(L||0),L>=0?this.conditionStack[L]:"INITIAL"},"topState"),pushState:l(function(L){this.begin(L)},"pushState"),stateStackSize:l(function(){return this.conditionStack.length},"stateStackSize"),options:{},performAction:l(function(L,b,y,v){var w=v;switch(y){case 0:return L.getLogger().debug("Found block-beta"),10;case 1:return L.getLogger().debug("Found id-block"),29;case 2:return L.getLogger().debug("Found block"),10;case 3:L.getLogger().debug(".",b.yytext);break;case 4:L.getLogger().debug("_",b.yytext);break;case 5:return 5;case 6:return b.yytext=-1,28;case 7:return b.yytext=b.yytext.replace(/columns\s+/,""),L.getLogger().debug("COLUMNS (LEX)",b.yytext),28;case 8:this.pushState("md_string");break;case 9:return"MD_STR";case 10:this.popState();break;case 11:this.pushState("string");break;case 12:L.getLogger().debug("LEX: POPPING STR:",b.yytext),this.popState();break;case 13:return L.getLogger().debug("LEX: STR end:",b.yytext),"STR";case 14:return b.yytext=b.yytext.replace(/space\:/,""),L.getLogger().debug("SPACE NUM (LEX)",b.yytext),21;case 15:return b.yytext="1",L.getLogger().debug("COLUMNS (LEX)",b.yytext),21;case 16:return 42;case 17:return"LINKSTYLE";case 18:return"INTERPOLATE";case 19:return this.pushState("CLASSDEF"),39;case 20:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 21:return this.popState(),this.pushState("CLASSDEFID"),40;case 22:return this.popState(),41;case 23:return this.pushState("CLASS"),43;case 24:return this.popState(),this.pushState("CLASS_STYLE"),44;case 25:return this.popState(),45;case 26:return this.pushState("STYLE_STMNT"),46;case 27:return this.popState(),this.pushState("STYLE_DEFINITION"),47;case 28:return this.popState(),48;case 29:return this.pushState("acc_title"),"acc_title";case 30:return this.popState(),"acc_title_value";case 31:return this.pushState("acc_descr"),"acc_descr";case 32:return this.popState(),"acc_descr_value";case 33:this.pushState("acc_descr_multiline");break;case 34:this.popState();break;case 35:return"acc_descr_multiline_value";case 36:return 30;case 37:return this.popState(),L.getLogger().debug("Lex: (("),"NODE_DEND";case 38:return this.popState(),L.getLogger().debug("Lex: (("),"NODE_DEND";case 39:return this.popState(),L.getLogger().debug("Lex: ))"),"NODE_DEND";case 40:return this.popState(),L.getLogger().debug("Lex: (("),"NODE_DEND";case 41:return this.popState(),L.getLogger().debug("Lex: (("),"NODE_DEND";case 42:return this.popState(),L.getLogger().debug("Lex: (-"),"NODE_DEND";case 43:return this.popState(),L.getLogger().debug("Lex: -)"),"NODE_DEND";case 44:return this.popState(),L.getLogger().debug("Lex: (("),"NODE_DEND";case 45:return this.popState(),L.getLogger().debug("Lex: ]]"),"NODE_DEND";case 46:return this.popState(),L.getLogger().debug("Lex: ("),"NODE_DEND";case 47:return this.popState(),L.getLogger().debug("Lex: ])"),"NODE_DEND";case 48:return this.popState(),L.getLogger().debug("Lex: /]"),"NODE_DEND";case 49:return this.popState(),L.getLogger().debug("Lex: /]"),"NODE_DEND";case 50:return this.popState(),L.getLogger().debug("Lex: )]"),"NODE_DEND";case 51:return this.popState(),L.getLogger().debug("Lex: )"),"NODE_DEND";case 52:return this.popState(),L.getLogger().debug("Lex: ]>"),"NODE_DEND";case 53:return this.popState(),L.getLogger().debug("Lex: ]"),"NODE_DEND";case 54:return L.getLogger().debug("Lexa: -)"),this.pushState("NODE"),35;case 55:return L.getLogger().debug("Lexa: (-"),this.pushState("NODE"),35;case 56:return L.getLogger().debug("Lexa: ))"),this.pushState("NODE"),35;case 57:return L.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 58:return L.getLogger().debug("Lex: ((("),this.pushState("NODE"),35;case 59:return L.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 60:return L.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 61:return L.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 62:return L.getLogger().debug("Lexc: >"),this.pushState("NODE"),35;case 63:return L.getLogger().debug("Lexa: (["),this.pushState("NODE"),35;case 64:return L.getLogger().debug("Lexa: )"),this.pushState("NODE"),35;case 65:return this.pushState("NODE"),35;case 66:return this.pushState("NODE"),35;case 67:return this.pushState("NODE"),35;case 68:return this.pushState("NODE"),35;case 69:return this.pushState("NODE"),35;case 70:return this.pushState("NODE"),35;case 71:return this.pushState("NODE"),35;case 72:return L.getLogger().debug("Lexa: ["),this.pushState("NODE"),35;case 73:return this.pushState("BLOCK_ARROW"),L.getLogger().debug("LEX ARR START"),37;case 74:return L.getLogger().debug("Lex: NODE_ID",b.yytext),31;case 75:return L.getLogger().debug("Lex: EOF",b.yytext),8;case 76:this.pushState("md_string");break;case 77:this.pushState("md_string");break;case 78:return"NODE_DESCR";case 79:this.popState();break;case 80:L.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 81:L.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 82:return L.getLogger().debug("LEX: NODE_DESCR:",b.yytext),"NODE_DESCR";case 83:L.getLogger().debug("LEX POPPING"),this.popState();break;case 84:L.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 85:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (right): dir:",b.yytext),"DIR";case 86:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (left):",b.yytext),"DIR";case 87:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (x):",b.yytext),"DIR";case 88:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (y):",b.yytext),"DIR";case 89:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (up):",b.yytext),"DIR";case 90:return b.yytext=b.yytext.replace(/^,\s*/,""),L.getLogger().debug("Lex (down):",b.yytext),"DIR";case 91:return b.yytext="]>",L.getLogger().debug("Lex (ARROW_DIR end):",b.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 92:return L.getLogger().debug("Lex: LINK","#"+b.yytext+"#"),15;case 93:return L.getLogger().debug("Lex: LINK",b.yytext),15;case 94:return L.getLogger().debug("Lex: LINK",b.yytext),15;case 95:return L.getLogger().debug("Lex: LINK",b.yytext),15;case 96:return L.getLogger().debug("Lex: START_LINK",b.yytext),this.pushState("LLABEL"),16;case 97:return L.getLogger().debug("Lex: START_LINK",b.yytext),this.pushState("LLABEL"),16;case 98:return L.getLogger().debug("Lex: START_LINK",b.yytext),this.pushState("LLABEL"),16;case 99:this.pushState("md_string");break;case 100:return L.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 101:return this.popState(),L.getLogger().debug("Lex: LINK","#"+b.yytext+"#"),15;case 102:return this.popState(),L.getLogger().debug("Lex: LINK",b.yytext),15;case 103:return this.popState(),L.getLogger().debug("Lex: LINK",b.yytext),15;case 104:return L.getLogger().debug("Lex: COLON",b.yytext),b.yytext=b.yytext.slice(1),27}},"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block:)/,/^(?:block\b)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[28],inclusive:!1},STYLE_STMNT:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[22],inclusive:!1},CLASSDEF:{rules:[20,21],inclusive:!1},CLASS_STYLE:{rules:[25],inclusive:!1},CLASS:{rules:[24],inclusive:!1},LLABEL:{rules:[99,100,101,102,103],inclusive:!1},ARROW_DIR:{rules:[85,86,87,88,89,90,91],inclusive:!1},BLOCK_ARROW:{rules:[76,81,84],inclusive:!1},NODE:{rules:[37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,77,80],inclusive:!1},md_string:{rules:[9,10,78,79],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[12,13,82,83],inclusive:!1},acc_descr_multiline:{rules:[34,35],inclusive:!1},acc_descr:{rules:[32],inclusive:!1},acc_title:{rules:[30],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,11,14,15,16,17,18,19,23,26,29,31,33,36,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,92,93,94,95,96,97,98,104],inclusive:!0}}};return S})();T.lexer=k;function E(){this.yy={}}return l(E,"Parser"),E.prototype=T,T.Parser=E,new E})(),D8.parser=D8,s$e=D8});function o$e(e){switch(ae.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return ae.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function l$e(e){switch(ae.debug("typeStr2Type",e),e){case"==":return"thick";default:return"normal"}}function c$e(e){switch(e.replace(/^[\s-]+|[\s-]+$/g,"")){case"x":return"arrow_cross";case"o":return"arrow_circle";case">":return"arrow_point";default:return""}}var Ks,R8,O8,Wq,Xq,u$e,Kq,h$e,Vx,d$e,p$e,g$e,f$e,Zq,P8,zf,m$e,Qq,y$e,v$e,b$e,x$e,w$e,k$e,T$e,E$e,C$e,S$e,_$e,A$e,ptt=B(()=>{"use strict";xfe(),bi(),qt(),lt(),dr(),Fi(),Ks=new Map,R8=[],O8=new Map,Wq="color",Xq="fill",u$e="bgFill",Kq=",",h$e=Ce(),Vx=new Map,d$e=l(e=>at.sanitizeText(e,h$e),"sanitizeText"),p$e=l(function(e,t=""){let r=Vx.get(e);r||(r={id:e,styles:[],textStyles:[]},Vx.set(e,r)),t==null||t.split(Kq).forEach(i=>{let n=i.replace(/([^;]*);/,"$1").trim();if(RegExp(Wq).exec(i)){let a=n.replace(Xq,u$e).replace(Wq,Xq);r.textStyles.push(a)}r.styles.push(n)})},"addStyleClass"),g$e=l(function(e,t=""){let r=Ks.get(e);t!=null&&(r.styles=t.split(Kq))},"addStyle2Node"),f$e=l(function(e,t){e.split(",").forEach(function(r){let i=Ks.get(r);if(i===void 0){let n=r.trim();i={id:n,type:"na",children:[]},Ks.set(n,i)}i.classes||(i.classes=[]),i.classes.push(t)})},"setCssClass"),Zq=l((e,t)=>{var a,s,o,u,h,d;let r=e.flat(),i=[],n=(s=(a=r.find(p=>(p==null?void 0:p.type)==="column-setting"))==null?void 0:a.columns)!=null?s:-1;for(let p of r){if(typeof n=="number"&&n>0&&p.type!=="column-setting"&&typeof p.widthInColumns=="number"&&p.widthInColumns>n&&ae.warn(`Block ${p.id} width ${p.widthInColumns} exceeds configured column width ${n}`),p.label&&(p.label=d$e(p.label)),p.type==="classDef"){p$e(p.id,p.css);continue}if(p.type==="applyClass"){f$e(p.id,(o=p==null?void 0:p.styleClass)!=null?o:"");continue}if(p.type==="applyStyles"){p!=null&&p.stylesStr&&g$e(p.id,p==null?void 0:p.stylesStr);continue}if(p.type==="column-setting")t.columns=(u=p.columns)!=null?u:-1;else if(p.type==="edge"){let g=((h=O8.get(p.id))!=null?h:0)+1;O8.set(p.id,g),p.id=g+"-"+p.id,R8.push(p)}else{p.label||(p.type==="composite"?p.label="":p.label=p.id);let g=Ks.get(p.id);if(g===void 0?Ks.set(p.id,p):(p.type!=="na"&&(g.type=p.type),p.label!==p.id&&(g.label=p.label)),p.children&&Zq(p.children,p),p.type==="space"){let f=(d=p.width)!=null?d:1;for(let m=0;m<f;m++){let x=tn(p);x.id=x.id+"-"+m,Ks.set(x.id,x),i.push(x)}}else g===void 0&&i.push(p)}}t.children=i},"populateBlockDatabase"),P8=[],zf={id:"root",type:"composite",children:[],columns:-1},m$e=l(()=>{ae.debug("Clear called"),Pi(),zf={id:"root",type:"composite",children:[],columns:-1},Ks=new Map([["root",zf]]),P8=[],Vx=new Map,R8=[],O8=new Map},"clear"),l(o$e,"typeStr2Type"),l(l$e,"edgeTypeStr2Type"),l(c$e,"edgeStrToEdgeData"),Qq=0,y$e=l(()=>(Qq++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Qq),"generateId"),v$e=l(e=>{zf.children=e,Zq(e,zf),P8=zf.children},"setHierarchy"),b$e=l(e=>{let t=Ks.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1},"getColumns"),x$e=l(()=>[...Ks.values()],"getBlocksFlat"),w$e=l(()=>P8||[],"getBlocks"),k$e=l(()=>R8,"getEdges"),T$e=l(e=>Ks.get(e),"getBlock"),E$e=l(e=>{Ks.set(e.id,e)},"setBlock"),C$e=l(()=>ae,"getLogger"),S$e=l(function(){return Vx},"getClasses"),_$e={getConfig:l(()=>_r().block,"getConfig"),typeStr2Type:o$e,edgeTypeStr2Type:l$e,edgeStrToEdgeData:c$e,getLogger:C$e,getBlocksFlat:x$e,getBlocks:w$e,getEdges:k$e,setHierarchy:v$e,getBlock:T$e,setBlock:E$e,getColumns:b$e,getClasses:S$e,clear:m$e,generateId:y$e},A$e=_$e}),Yx,L$e,N$e,gtt=B(()=>{"use strict";As(),Yv(),Yx=l((e,t)=>{let r=u4,i=r(e,"r"),n=r(e,"g"),a=r(e,"b");return Wl(i,n,a,t)},"fade"),L$e=l(e=>`.label {
    font-family: ${e.fontFamily};
    color: ${e.nodeTextColor||e.textColor};
  }
  .cluster-label text {
    fill: ${e.titleColor};
  }
  .cluster-label span,p {
    color: ${e.titleColor};
  }



  .label text,span,p {
    fill: ${e.nodeTextColor||e.textColor};
    color: ${e.nodeTextColor||e.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${e.mainBkg};
    stroke: ${e.nodeBorder};
    stroke-width: 1px;
  }
  .flowchart-label text {
    text-anchor: middle;
  }
  // .flowchart-label .text-outer-tspan {
  //   text-anchor: middle;
  // }
  // .flowchart-label .text-inner-tspan {
  //   text-anchor: start;
  // }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${e.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${e.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${e.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${e.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${e.edgeLabelBackground};
      fill: ${e.edgeLabelBackground};
    }
    text-align: center;
  }

  /* For html labels only */
  .labelBkg {
    background-color: ${Yx(e.edgeLabelBackground,.5)};
    // background-color:
  }

  .node .cluster {
    // fill: ${Yx(e.mainBkg,.5)};
    fill: ${Yx(e.clusterBkg,.5)};
    stroke: ${Yx(e.clusterBorder,.2)};
    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${e.titleColor};
  }

  .cluster span,p {
    color: ${e.titleColor};
  }
  /* .cluster div {
    color: ${e.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${e.fontFamily};
    font-size: 12px;
    background: ${e.tertiaryColor};
    border: 1px solid ${e.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
  ${G1()}
`,"getStyles"),N$e=L$e}),M$e,I$e,D$e,R$e,O$e,P$e,B$e,$$e,F$e,z$e,G$e,U$e,ftt=B(()=>{"use strict";lt(),M$e=l((e,t,r,i)=>{t.forEach(n=>{G$e[n](e,r,i)})},"insertMarkers"),I$e=l((e,t,r)=>{ae.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),D$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),R$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),O$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),P$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),B$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),$$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),F$e=l((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),z$e=l((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),G$e={extension:I$e,composition:D$e,aggregation:R$e,dependency:O$e,lollipop:P$e,point:B$e,circle:$$e,cross:F$e,barb:z$e},U$e=M$e});function q$e(e,t){if(e===0||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);if(e<0)return{px:t,py:0};if(e===1)return{px:0,py:t};let r=t%e,i=Math.floor(t/e);return{px:r,py:i}}function B8(e,t,r=0,i=0){var s,o,u,h,d,p,g,f,m,x,T,k,E,S,L;ae.debug("setBlockSizes abc95 (start)",e.id,(s=e==null?void 0:e.size)==null?void 0:s.x,"block width =",e==null?void 0:e.size,"siblingWidth",r),(o=e==null?void 0:e.size)!=null&&o.width||(e.size={width:r,height:i,x:0,y:0});let n=0,a=0;if(((u=e.children)==null?void 0:u.length)>0){for(let N of e.children)B8(N,t);let b=H$e(e);n=b.width,a=b.height,ae.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",n,a);for(let N of e.children)N.size&&(ae.debug(`abc95 Setting size of children of ${e.id} id=${N.id} ${n} ${a} ${JSON.stringify(N.size)}`),N.size.width=n*((h=N.widthInColumns)!=null?h:1)+Di*(((d=N.widthInColumns)!=null?d:1)-1),N.size.height=a,N.size.x=0,N.size.y=0,ae.debug(`abc95 updating size of ${e.id} children child:${N.id} maxWidth:${n} maxHeight:${a}`));for(let N of e.children)B8(N,t,n,a);let y=(p=e.columns)!=null?p:-1,v=0;for(let N of e.children)v+=(g=N.widthInColumns)!=null?g:1;let w=e.children.length;y>0&&y<v&&(w=y);let C=Math.ceil(v/w),A=w*(n+Di)+Di,M=C*(a+Di)+Di;if(A<r){ae.debug(`Detected to small sibling: abc95 ${e.id} siblingWidth ${r} siblingHeight ${i} width ${A}`),A=r,M=i;let N=(r-w*Di-Di)/w,O=(i-C*Di-Di)/C;ae.debug("Size indata abc88",e.id,"childWidth",N,"maxWidth",n),ae.debug("Size indata abc88",e.id,"childHeight",O,"maxHeight",a),ae.debug("Size indata abc88 xSize",w,"padding",Di);for(let _ of e.children)_.size&&(_.size.width=N,_.size.height=O,_.size.x=0,_.size.y=0)}if(ae.debug(`abc95 (finale calc) ${e.id} xSize ${w} ySize ${C} columns ${y}${e.children.length} width=${Math.max(A,((f=e.size)==null?void 0:f.width)||0)}`),A<(((m=e==null?void 0:e.size)==null?void 0:m.width)||0)){A=((x=e==null?void 0:e.size)==null?void 0:x.width)||0;let N=y>0?Math.min(e.children.length,y):e.children.length;if(N>0){let O=(A-N*Di-Di)/N;ae.debug("abc95 (growing to fit) width",e.id,A,(T=e.size)==null?void 0:T.width,O);for(let _ of e.children)_.size&&(_.size.width=O)}}e.size={width:A,height:M,x:0,y:0}}ae.debug("setBlockSizes abc94 (done)",e.id,(k=e==null?void 0:e.size)==null?void 0:k.x,(E=e==null?void 0:e.size)==null?void 0:E.width,(S=e==null?void 0:e.size)==null?void 0:S.y,(L=e==null?void 0:e.size)==null?void 0:L.height)}function Jq(e,t){var i,n,a,s,o,u,h,d,p,g,f,m,x,T,k,E,S,L,b,y,v,w;ae.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${(i=e==null?void 0:e.size)==null?void 0:i.x} y: ${(n=e==null?void 0:e.size)==null?void 0:n.y} width: ${(a=e==null?void 0:e.size)==null?void 0:a.width}`);let r=(s=e.columns)!=null?s:-1;if(ae.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){let C=(h=(u=(o=e==null?void 0:e.children[0])==null?void 0:o.size)==null?void 0:u.width)!=null?h:0,A=e.children.length*C+(e.children.length-1)*Di;ae.debug("widthOfChildren 88",A,"posX");let M=0;ae.debug("abc91 block?.size?.x",e.id,(d=e==null?void 0:e.size)==null?void 0:d.x);let N=(p=e==null?void 0:e.size)!=null&&p.x?((g=e==null?void 0:e.size)==null?void 0:g.x)+(-((f=e==null?void 0:e.size)==null?void 0:f.width)/2||0):-Di,O=0;for(let _ of e.children){let I=e;if(!_.size)continue;let{width:R,height:P}=_.size,{px:D,py:$}=q$e(r,M);if($!=O&&(O=$,N=(m=e==null?void 0:e.size)!=null&&m.x?((x=e==null?void 0:e.size)==null?void 0:x.x)+(-((T=e==null?void 0:e.size)==null?void 0:T.width)/2||0):-Di,ae.debug("New row in layout for block",e.id," and child ",_.id,O)),ae.debug(`abc89 layout blocks (child) id: ${_.id} Pos: ${M} (px, py) ${D},${$} (${(k=I==null?void 0:I.size)==null?void 0:k.x},${(E=I==null?void 0:I.size)==null?void 0:E.y}) parent: ${I.id} width: ${R}${Di}`),I.size){let z=R/2;_.size.x=N+Di+z,ae.debug(`abc91 layout blocks (calc) px, pyid:${_.id} startingPos=X${N} new startingPosX${_.size.x} ${z} padding=${Di} width=${R} halfWidth=${z} => x:${_.size.x} y:${_.size.y} ${_.widthInColumns} (width * (child?.w || 1)) / 2 ${R*((S=_==null?void 0:_.widthInColumns)!=null?S:1)/2}`),N=_.size.x+z,_.size.y=I.size.y-I.size.height/2+$*(P+Di)+P/2+Di,ae.debug(`abc88 layout blocks (calc) px, pyid:${_.id}startingPosX${N}${Di}${z}=>x:${_.size.x}y:${_.size.y}${_.widthInColumns}(width * (child?.w || 1)) / 2${R*((L=_==null?void 0:_.widthInColumns)!=null?L:1)/2}`)}_.children&&Jq(_,t);let F=(b=_==null?void 0:_.widthInColumns)!=null?b:1;r>0&&(F=Math.min(F,r-M%r)),M+=F,ae.debug("abc88 columnsPos",_,M)}}ae.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${(y=e==null?void 0:e.size)==null?void 0:y.x} y: ${(v=e==null?void 0:e.size)==null?void 0:v.y} width: ${(w=e==null?void 0:e.size)==null?void 0:w.width}`)}function ej(e,{minX:t,minY:r,maxX:i,maxY:n}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&e.id!=="root"){let{x:a,y:s,width:o,height:u}=e.size;a-o/2<t&&(t=a-o/2),s-u/2<r&&(r=s-u/2),a+o/2>i&&(i=a+o/2),s+u/2>n&&(n=s+u/2)}if(e.children)for(let a of e.children)({minX:t,minY:r,maxX:i,maxY:n}=ej(a,{minX:t,minY:r,maxX:i,maxY:n}));return{minX:t,minY:r,maxX:i,maxY:n}}function j$e(e){let t=e.getBlock("root");if(!t)return;B8(t,e,0,0),Jq(t,e),ae.debug("getBlocks",JSON.stringify(t,null,2));let{minX:r,minY:i,maxX:n,maxY:a}=ej(t),s=a-i,o=n-r;return{x:r,y:i,width:o,height:s}}var Di,H$e,mtt=B(()=>{"use strict";var e,t,r;lt(),qt(),Di=(r=(t=(e=Ce())==null?void 0:e.block)==null?void 0:t.padding)!=null?r:8,l(q$e,"calculateBlockPosition"),H$e=l(i=>{var s,o;let n=0,a=0;for(let u of i.children){let{width:h,height:d,x:p,y:g}=(s=u.size)!=null?s:{width:0,height:0,x:0,y:0};ae.debug("getMaxChildSize abc95 child:",u.id,"width:",h,"height:",d,"x:",p,"y:",g,u.type),u.type!=="space"&&(h>n&&(n=h/((o=i.widthInColumns)!=null?o:1)),d>a&&(a=d))}return{width:n,height:a}},"getMaxChildSize"),l(B8,"setBlockSizes"),l(Jq,"layoutBlocks"),l(ej,"findBounds"),l(j$e,"layout")});function tj(e,t){t&&e.attr("style",t)}function V$e(e,t){let r=Ze(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=r.append("xhtml:div"),n=e.label,a=e.isNode?"nodeLabel":"edgeLabel",s=i.append("span");return s.html(Er(n,t)),tj(s,e.labelStyle),s.attr("class",a),tj(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),r.node()}var Y$e,Es,rj=B(()=>{"use strict";gr(),qt(),dr(),lt(),wo(),Jt(),l(tj,"applyStyle"),l(V$e,"addHtmlLabel"),Y$e=l((e,t,r,i)=>xe(null,null,function*(){let n=e||"";typeof n=="object"&&(n=n[0]);let a=Ce();if(Hr(a.flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ae.debug("vertexText"+n);let s=yield pN(vo(n)),o={isNode:i,label:s,labelStyle:t.replace("fill:","color:")};return V$e(o,a)}else{let s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",t.replace("color:","fill:"));let o=[];typeof n=="string"?o=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?o=n:o=[];for(let u of o){let h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),r?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=u.trim(),s.appendChild(h)}return s}}),"createLabel"),Es=Y$e}),W$e,X$e,ij,ytt=B(()=>{"use strict";lt(),W$e=l((e,t,r,i,n)=>{t.arrowTypeStart&&ij(e,"start",t.arrowTypeStart,r,i,n),t.arrowTypeEnd&&ij(e,"end",t.arrowTypeEnd,r,i,n)},"addEdgeMarkers"),X$e={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},ij=l((e,t,r,i,n,a)=>{let s=X$e[r];if(!s){ae.warn(`Unknown arrow type: ${r}`);return}let o=t==="start"?"Start":"End";e.attr(`marker-${t}`,`url(${i}#${n}_${a}-${s}${o})`)},"addEdgeMarker")});function Wx(e,t){Ce().flowchart.htmlLabels&&e&&(e.style.width=t.length*9+"px",e.style.height="12px")}var $8,Vn,K$e,Z$e,Q$e,J$e,nj,eFe,vtt=B(()=>{"use strict";lt(),rj(),wo(),gr(),qt(),Jt(),dr(),y0e(),j6(),ytt(),$8={},Vn={},K$e=l((e,t)=>xe(null,null,function*(){let r=Ce(),i=Hr(r.flowchart.htmlLabels),n=t.labelType==="markdown"?Ha(e,t.label,{style:t.labelStyle,useHtmlLabels:i,addSvgBackground:!0},r):yield Es(t.label,t.labelStyle),a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(n);let o=n.getBBox();if(i){let h=n.children[0],d=Ze(n);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),$8[t.id]=a,t.width=o.width,t.height=o.height;let u;if(t.startLabelLeft){let h=yield Es(t.startLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Vn[t.id]||(Vn[t.id]={}),Vn[t.id].startLeft=d,Wx(u,t.startLabelLeft)}if(t.startLabelRight){let h=yield Es(t.startLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=d.node().appendChild(h),p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),Vn[t.id]||(Vn[t.id]={}),Vn[t.id].startRight=d,Wx(u,t.startLabelRight)}if(t.endLabelLeft){let h=yield Es(t.endLabelLeft,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Vn[t.id]||(Vn[t.id]={}),Vn[t.id].endLeft=d,Wx(u,t.endLabelLeft)}if(t.endLabelRight){let h=yield Es(t.endLabelRight,t.labelStyle),d=e.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");u=p.node().appendChild(h);let g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),Vn[t.id]||(Vn[t.id]={}),Vn[t.id].endRight=d,Wx(u,t.endLabelRight)}return n}),"insertEdgeLabel"),l(Wx,"setTerminalWidth"),Z$e=l((e,t)=>{ae.debug("Moving label abc88 ",e.id,e.label,$8[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath,i=Ce(),{subGraphTitleTotalMargin:n}=Yg(i);if(e.label){let a=$8[e.id],s=e.x,o=e.y;if(r){let u=cr.calcLabelPosition(r);ae.debug("Moving label "+e.label+" from (",s,",",o,") to (",u.x,",",u.y,") abc88"),t.updatedPath&&(s=u.x,o=u.y)}a.attr("transform",`translate(${s}, ${o+n/2})`)}if(e.startLabelLeft){let a=Vn[e.id].startLeft,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.startLabelRight){let a=Vn[e.id].startRight,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelLeft){let a=Vn[e.id].endLeft,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}if(e.endLabelRight){let a=Vn[e.id].endRight,s=e.x,o=e.y;if(r){let u=cr.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);s=u.x,o=u.y}a.attr("transform",`translate(${s}, ${o})`)}},"positionEdgeLabel"),Q$e=l((e,t)=>{let r=e.x,i=e.y,n=Math.abs(t.x-r),a=Math.abs(t.y-i),s=e.width/2,o=e.height/2;return n>=s||a>=o},"outsideNode"),J$e=l((e,t,r)=>{ae.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(t)}
  insidePoint : ${JSON.stringify(r)}
  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);let i=e.x,n=e.y,a=Math.abs(i-r.x),s=e.width/2,o=r.x<t.x?s-a:s+a,u=e.height/2,h=Math.abs(t.y-r.y),d=Math.abs(t.x-r.x);if(Math.abs(n-t.y)*s>Math.abs(i-t.x)*u){let p=r.y<t.y?t.y-u-n:n-u-t.y;o=d*p/h;let g={x:r.x<t.x?r.x+o:r.x-d+o,y:r.y<t.y?r.y+h-p:r.y-h+p};return o===0&&(g.x=t.x,g.y=t.y),d===0&&(g.x=t.x),h===0&&(g.y=t.y),ae.debug(`abc89 topp/bott calc, Q ${h}, q ${p}, R ${d}, r ${o}`,g),g}else{r.x<t.x?o=t.x-s-i:o=i-s-t.x;let p=h*o/d,g=r.x<t.x?r.x+d-o:r.x-d+o,f=r.y<t.y?r.y+p:r.y-p;return ae.debug(`sides calc abc89, Q ${h}, q ${p}, R ${d}, r ${o}`,{_x:g,_y:f}),o===0&&(g=t.x,f=t.y),d===0&&(g=t.x),h===0&&(f=t.y),{x:g,y:f}}},"intersection"),nj=l((e,t)=>{ae.debug("abc88 cutPathAtIntersect",e,t);let r=[],i=e[0],n=!1;return e.forEach(a=>{if(!Q$e(t,a)&&!n){let s=J$e(t,i,a),o=!1;r.forEach(u=>{o=o||u.x===s.x&&u.y===s.y}),r.some(u=>u.x===s.x&&u.y===s.y)||r.push(s),n=!0}else i=a,n||r.push(a)}),r},"cutPathAtIntersect"),eFe=l(function(e,t,r,i,n,a,s){let o=r.points;ae.debug("abc88 InsertEdge: edge=",r,"e=",t);let u=!1,h=a.node(t.v);var d=a.node(t.w);d!=null&&d.intersect&&(h!=null&&h.intersect)&&(o=o.slice(1,r.points.length-1),o.unshift(h.intersect(o[0])),o.push(d.intersect(o[o.length-1]))),r.toCluster&&(ae.debug("to cluster abc88",i[r.toCluster]),o=nj(r.points,i[r.toCluster].node),u=!0),r.fromCluster&&(ae.debug("from cluster abc88",i[r.fromCluster]),o=nj(o.reverse(),i[r.fromCluster].node).reverse(),u=!0);let p=o.filter(L=>!Number.isNaN(L.y)),g=rd;r.curve&&(n==="graph"||n==="flowchart")&&(g=r.curve);let{x:f,y:m}=FN(r),x=mg().x(f).y(m).curve(g),T;switch(r.thickness){case"normal":T="edge-thickness-normal";break;case"thick":T="edge-thickness-thick";break;case"invisible":T="edge-thickness-thick";break;default:T=""}switch(r.pattern){case"solid":T+=" edge-pattern-solid";break;case"dotted":T+=" edge-pattern-dotted";break;case"dashed":T+=" edge-pattern-dashed";break}let k=e.append("path").attr("d",x(p)).attr("id",r.id).attr("class"," "+T+(r.classes?" "+r.classes:"")).attr("style",r.style),E="";(Ce().flowchart.arrowMarkerAbsolute||Ce().state.arrowMarkerAbsolute)&&(E=Dm(!0)),W$e(k,r,E,s,n);let S={};return u&&(S.updatedPath=o),S.originalPath=r.points,S},"insertEdge")}),tFe,rFe,btt=B(()=>{"use strict";tFe=l(e=>{let t=new Set;for(let r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r);break}return t},"expandAndDeduplicateDirections"),rFe=l((e,t,r)=>{let i=tFe(e),n=2,a=t.height+2*r.padding,s=a/n,o=t.width+2*s+r.padding,u=r.padding/2;return i.has("right")&&i.has("left")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:s,y:0},{x:o/2,y:2*u},{x:o-s,y:0},{x:o,y:0},{x:o,y:-a/3},{x:o+2*u,y:-a/2},{x:o,y:-2*a/3},{x:o,y:-a},{x:o-s,y:-a},{x:o/2,y:-a-2*u},{x:s,y:-a},{x:0,y:-a},{x:0,y:-2*a/3},{x:-2*u,y:-a/2},{x:0,y:-a/3}]:i.has("right")&&i.has("left")&&i.has("up")?[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}]:i.has("right")&&i.has("left")&&i.has("down")?[{x:0,y:0},{x:s,y:-a},{x:o-s,y:-a},{x:o,y:0}]:i.has("right")&&i.has("up")&&i.has("down")?[{x:0,y:0},{x:o,y:-s},{x:o,y:-a+s},{x:0,y:-a}]:i.has("left")&&i.has("up")&&i.has("down")?[{x:o,y:0},{x:0,y:-s},{x:0,y:-a+s},{x:o,y:-a}]:i.has("right")&&i.has("left")?[{x:s,y:0},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")&&i.has("down")?[{x:o/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:o/2,y:-a},{x:o,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u},{x:o,y:-u}]:i.has("right")&&i.has("up")?[{x:0,y:0},{x:o,y:-s},{x:0,y:-a}]:i.has("right")&&i.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-a}]:i.has("left")&&i.has("up")?[{x:o,y:0},{x:0,y:-s},{x:o,y:-a}]:i.has("left")&&i.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-a}]:i.has("right")?[{x:s,y:-u},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a+u}]:i.has("left")?[{x:s,y:0},{x:s,y:-u},{x:o-s,y:-u},{x:o-s,y:-a+u},{x:s,y:-a+u},{x:s,y:-a},{x:0,y:-a/2}]:i.has("up")?[{x:s,y:-u},{x:s,y:-a+u},{x:0,y:-a+u},{x:o/2,y:-a},{x:o,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u}]:i.has("down")?[{x:o/2,y:0},{x:0,y:-u},{x:s,y:-u},{x:s,y:-a+u},{x:o-s,y:-a+u},{x:o-s,y:-u},{x:o,y:-u}]:[{x:0,y:0}]},"getArrowPoints")});function iFe(e,t){return e.intersect(t)}var nFe,xtt=B(()=>{"use strict";l(iFe,"intersectNode"),nFe=iFe});function aFe(e,t,r,i){var n=e.x,a=e.y,s=n-i.x,o=a-i.y,u=Math.sqrt(t*t*o*o+r*r*s*s),h=Math.abs(t*r*s/u);i.x<n&&(h=-h);var d=Math.abs(t*r*o/u);return i.y<a&&(d=-d),{x:n+h,y:a+d}}var aj,sFe=B(()=>{"use strict";l(aFe,"intersectEllipse"),aj=aFe});function oFe(e,t,r){return aj(e,t,t,r)}var lFe,wtt=B(()=>{"use strict";sFe(),l(oFe,"intersectCircle"),lFe=oFe});function cFe(e,t,r,i){var n,a,s,o,u,h,d,p,g,f,m,x,T,k,E;if(n=t.y-e.y,s=e.x-t.x,u=t.x*e.y-e.x*t.y,g=n*r.x+s*r.y+u,f=n*i.x+s*i.y+u,!(g!==0&&f!==0&&sj(g,f))&&(a=i.y-r.y,o=r.x-i.x,h=i.x*r.y-r.x*i.y,d=a*e.x+o*e.y+h,p=a*t.x+o*t.y+h,!(d!==0&&p!==0&&sj(d,p))&&(m=n*o-a*s,m!==0)))return x=Math.abs(m/2),T=s*h-o*u,k=T<0?(T-x)/m:(T+x)/m,T=a*u-n*h,E=T<0?(T-x)/m:(T+x)/m,{x:k,y:E}}function sj(e,t){return e*t>0}var uFe,ktt=B(()=>{"use strict";l(cFe,"intersectLine"),l(sj,"sameSign"),uFe=cFe});function hFe(e,t,r){var i=e.x,n=e.y,a=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;typeof t.forEach=="function"?t.forEach(function(m){s=Math.min(s,m.x),o=Math.min(o,m.y)}):(s=Math.min(s,t.x),o=Math.min(o,t.y));for(var u=i-e.width/2-s,h=n-e.height/2-o,d=0;d<t.length;d++){var p=t[d],g=t[d<t.length-1?d+1:0],f=uFe(e,r,{x:u+p.x,y:h+p.y},{x:u+g.x,y:h+g.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort(function(m,x){var T=m.x-r.x,k=m.y-r.y,E=Math.sqrt(T*T+k*k),S=x.x-r.x,L=x.y-r.y,b=Math.sqrt(S*S+L*L);return E<b?-1:E===b?0:1}),a[0]):e}var dFe,Ttt=B(()=>{"use strict";ktt(),dFe=hFe,l(hFe,"intersectPolygon")}),pFe,gFe,Ett=B(()=>{"use strict";pFe=l((e,t)=>{var r=e.x,i=e.y,n=t.x-r,a=t.y-i,s=e.width/2,o=e.height/2,u,h;return Math.abs(a)*s>Math.abs(n)*o?(a<0&&(o=-o),u=a===0?0:o*n/a,h=o):(n<0&&(s=-s),u=s,h=n===0?0:s*a/n),{x:r+u,y:i+h}},"intersectRect"),gFe=pFe}),gi,fFe=B(()=>{"use strict";xtt(),wtt(),sFe(),Ttt(),Ett(),gi={node:nFe,circle:lFe,ellipse:aj,polygon:dFe,rect:gFe}});function Uo(e,t,r,i){return e.insert("polygon",":first-child").attr("points",i.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}var wn,_i,mFe=B(()=>{"use strict";rj(),wo(),qt(),gr(),dr(),Jt(),wn=l((e,t,r,i)=>xe(null,null,function*(){let n=Ce(),a,s=t.useHtmlLabels||Hr(n.flowchart.htmlLabels);r?a=r:a="node default";let o=e.insert("g").attr("class",a).attr("id",t.domId||t.id),u=o.insert("g").attr("class","label").attr("style",t.labelStyle),h;t.labelText===void 0?h="":h=typeof t.labelText=="string"?t.labelText:t.labelText[0];let d=u.node(),p;t.labelType==="markdown"?p=Ha(u,Er(vo(h),n),{useHtmlLabels:s,width:t.width||n.flowchart.wrappingWidth,classes:"markdown-node-label"},n):p=d.appendChild(yield Es(Er(vo(h),n),t.labelStyle,!1,i));let g=p.getBBox(),f=t.padding/2;if(Hr(n.flowchart.htmlLabels)){let m=p.children[0],x=Ze(p),T=m.getElementsByTagName("img");if(T){let k=h.replace(/<img[^>]*>/g,"").trim()==="";yield Promise.all([...T].map(E=>new Promise(S=>{function L(){if(E.style.display="flex",E.style.flexDirection="column",k){let b=n.fontSize?n.fontSize:window.getComputedStyle(document.body).fontSize,y=parseInt(b,10)*5+"px";E.style.minWidth=y,E.style.maxWidth=y}else E.style.width="100%";S(E)}l(L,"setupImage"),setTimeout(()=>{E.complete&&L()}),E.addEventListener("error",L),E.addEventListener("load",L)})))}g=m.getBoundingClientRect(),x.attr("width",g.width),x.attr("height",g.height)}return s?u.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"):u.attr("transform","translate(0, "+-g.height/2+")"),t.centerLabel&&u.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),u.insert("rect",":first-child"),{shapeSvg:o,bbox:g,halfPadding:f,label:u}}),"labelHelper"),_i=l((e,t)=>{let r=t.node().getBBox();e.width=r.width,e.height=r.height},"updateNodeBounds"),l(Uo,"insertPolygonShape")}),yFe,vFe,Ctt=B(()=>{"use strict";mFe(),lt(),qt(),fFe(),yFe=l((e,t)=>xe(null,null,function*(){t.useHtmlLabels||Ce().flowchart.htmlLabels||(t.centerLabel=!0);let{shapeSvg:r,bbox:i,halfPadding:n}=yield wn(e,t,"node "+t.classes,!0);ae.info("Classes = ",t.classes);let a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-i.width/2-n).attr("y",-i.height/2-n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),_i(t,a),t.intersect=function(s){return gi.rect(t,s)},r}),"note"),vFe=yFe});function F8(e,t,r,i){let n=[],a=l(o=>{n.push(o,0)},"addBorder"),s=l(o=>{n.push(0,o)},"skipBorder");t.includes("t")?(ae.debug("add top border"),a(r)):s(r),t.includes("r")?(ae.debug("add right border"),a(i)):s(i),t.includes("b")?(ae.debug("add bottom border"),a(r)):s(r),t.includes("l")?(ae.debug("add left border"),a(i)):s(i),e.attr("stroke-dasharray",n.join(" "))}var oj,is,lj,bFe,xFe,wFe,kFe,TFe,EFe,CFe,SFe,_Fe,AFe,LFe,NFe,MFe,IFe,DFe,RFe,OFe,PFe,BFe,cj,$Fe,FFe,uj,Xx,hj,zFe,Stt=B(()=>{"use strict";gr(),qt(),dr(),lt(),btt(),rj(),fFe(),Ctt(),mFe(),oj=l(e=>e?" "+e:"","formatClass"),is=l((e,t)=>`${t||"node default"}${oj(e.classes)} ${oj(e.class)}`,"getClassesFromNode"),lj=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=n+a,o=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];ae.info("Question main (Circle)");let u=Uo(r,s,s,o);return u.attr("style",t.style),_i(t,u),t.intersect=function(h){return ae.warn("Intersect called"),gi.polygon(t,o,h)},r}),"question"),bFe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=28,n=[{x:0,y:i/2},{x:i/2,y:0},{x:0,y:-i/2},{x:-i/2,y:0}];return r.insert("polygon",":first-child").attr("points",n.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(a){return gi.circle(t,14,a)},r},"choice"),xFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=4,a=i.height+t.padding,s=a/n,o=i.width+2*s+t.padding,u=[{x:s,y:0},{x:o-s,y:0},{x:o,y:-a/2},{x:o-s,y:-a},{x:s,y:-a},{x:0,y:-a/2}],h=Uo(r,o,a,u);return h.attr("style",t.style),_i(t,h),t.intersect=function(d){return gi.polygon(t,u,d)},r}),"hexagon"),wFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,void 0,!0),n=2,a=i.height+2*t.padding,s=a/n,o=i.width+2*s+t.padding,u=rFe(t.directions,i,t),h=Uo(r,o,a,u);return h.attr("style",t.style),_i(t,h),t.intersect=function(d){return gi.polygon(t,u,d)},r}),"block_arrow"),kFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-a/2,y:0},{x:n,y:0},{x:n,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Uo(r,n,a,s).attr("style",t.style),t.width=n+a,t.height=a,t.intersect=function(o){return gi.polygon(t,s,o)},r}),"rect_left_inv_arrow"),TFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-2*a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:a/6,y:-a}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"lean_right"),EFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:2*a/6,y:0},{x:n+a/6,y:0},{x:n-2*a/6,y:-a},{x:-a/6,y:-a}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"lean_left"),CFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:-2*a/6,y:0},{x:n+2*a/6,y:0},{x:n-a/6,y:-a},{x:a/6,y:-a}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"trapezoid"),SFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:a/6,y:0},{x:n-a/6,y:0},{x:n+2*a/6,y:-a},{x:-2*a/6,y:-a}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"inv_trapezoid"),_Fe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:0,y:0},{x:n+a/2,y:0},{x:n,y:-a/2},{x:n+a/2,y:-a},{x:0,y:-a}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"rect_right_inv_arrow"),AFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=n/2,s=a/(2.5+n/50),o=i.height+s+t.padding,u="M 0,"+s+" a "+a+","+s+" 0,0,0 "+n+" 0 a "+a+","+s+" 0,0,0 "+-n+" 0 l 0,"+o+" a "+a+","+s+" 0,0,0 "+n+" 0 l 0,"+-o,h=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",t.style).attr("d",u).attr("transform","translate("+-n/2+","+-(o/2+s)+")");return _i(t,h),t.intersect=function(d){let p=gi.rect(t,d),g=p.x-t.x;if(a!=0&&(Math.abs(g)<t.width/2||Math.abs(g)==t.width/2&&Math.abs(p.y-t.y)>t.height/2-s)){let f=s*s*(1-g*g/(a*a));f!=0&&(f=Math.sqrt(f)),f=s-f,d.y-t.y>0&&(f=-f),p.y+=f}return p},r}),"cylinder"),LFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i,halfPadding:n}=yield wn(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-s/2:-i.width/2-n,h=t.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(F8(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ae.warn(`Unknown node property ${p}`)})}return _i(t,a),t.intersect=function(d){return gi.rect(t,d)},r}),"rect"),NFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i,halfPadding:n}=yield wn(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),s=t.positioned?t.width:i.width+t.padding,o=t.positioned?t.height:i.height+t.padding,u=t.positioned?-s/2:-i.width/2-n,h=t.positioned?-o/2:-i.height/2-n;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",h).attr("width",s).attr("height",o),t.props){let d=new Set(Object.keys(t.props));t.props.borders&&(F8(a,t.props.borders,s,o),d.delete("borders")),d.forEach(p=>{ae.warn(`Unknown node property ${p}`)})}return _i(t,a),t.intersect=function(d){return gi.rect(t,d)},r}),"composite"),MFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r}=yield wn(e,t,"label",!0);ae.trace("Classes = ",t.class);let i=r.insert("rect",":first-child"),n=0,a=0;if(i.attr("width",n).attr("height",a),r.attr("class","label edgeLabel"),t.props){let s=new Set(Object.keys(t.props));t.props.borders&&(F8(i,t.props.borders,n,a),s.delete("borders")),s.forEach(o=>{ae.warn(`Unknown node property ${o}`)})}return _i(t,i),t.intersect=function(s){return gi.rect(t,s)},r}),"labelRect"),l(F8,"applyNodePropertyBorders"),IFe=l((e,t)=>xe(null,null,function*(){let r;t.classes?r="node "+t.classes:r="node default";let i=e.insert("g").attr("class",r).attr("id",t.domId||t.id),n=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("g").attr("class","label"),o=t.labelText.flat?t.labelText.flat():t.labelText,u="";typeof o=="object"?u=o[0]:u=o,ae.info("Label text abc79",u,o,typeof o=="object");let h=s.node().appendChild(yield Es(u,t.labelStyle,!0,!0)),d={width:0,height:0};if(Hr(Ce().flowchart.htmlLabels)){let x=h.children[0],T=Ze(h);d=x.getBoundingClientRect(),T.attr("width",d.width),T.attr("height",d.height)}ae.info("Text 2",o);let p=o.slice(1,o.length),g=h.getBBox(),f=s.node().appendChild(yield Es(p.join?p.join("<br/>"):p,t.labelStyle,!0,!0));if(Hr(Ce().flowchart.htmlLabels)){let x=f.children[0],T=Ze(f);d=x.getBoundingClientRect(),T.attr("width",d.width),T.attr("height",d.height)}let m=t.padding/2;return Ze(f).attr("transform","translate( "+(d.width>g.width?0:(g.width-d.width)/2)+", "+(g.height+m+5)+")"),Ze(h).attr("transform","translate( "+(d.width<g.width?0:-(g.width-d.width)/2)+", 0)"),d=s.node().getBBox(),s.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),n.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+g.height+m).attr("y2",-d.height/2-m+g.height+m),_i(t,n),t.intersect=function(x){return gi.rect(t,x)},i}),"rectWithTitle"),DFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.height+t.padding,a=i.width+n/4+t.padding,s=r.insert("rect",":first-child").attr("style",t.style).attr("rx",n/2).attr("ry",n/2).attr("x",-a/2).attr("y",-n/2).attr("width",a).attr("height",n);return _i(t,s),t.intersect=function(o){return gi.rect(t,o)},r}),"stadium"),RFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i,halfPadding:n}=yield wn(e,t,is(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),ae.info("Circle main"),_i(t,a),t.intersect=function(s){return ae.info("Circle intersect",t,i.width/2+n,s),gi.circle(t,i.width/2+n,s)},r}),"circle"),OFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i,halfPadding:n}=yield wn(e,t,is(t,void 0),!0),a=5,s=r.insert("g",":first-child"),o=s.insert("circle"),u=s.insert("circle");return s.attr("class",t.class),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n+a).attr("width",i.width+t.padding+a*2).attr("height",i.height+t.padding+a*2),u.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",i.width/2+n).attr("width",i.width+t.padding).attr("height",i.height+t.padding),ae.info("DoubleCircle main"),_i(t,o),t.intersect=function(h){return ae.info("DoubleCircle intersect",t,i.width/2+n+a,h),gi.circle(t,i.width/2+n+a,h)},r}),"doublecircle"),PFe=l((e,t)=>xe(null,null,function*(){let{shapeSvg:r,bbox:i}=yield wn(e,t,is(t,void 0),!0),n=i.width+t.padding,a=i.height+t.padding,s=[{x:0,y:0},{x:n,y:0},{x:n,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:n+8,y:0},{x:n+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],o=Uo(r,n,a,s);return o.attr("style",t.style),_i(t,o),t.intersect=function(u){return gi.polygon(t,s,u)},r}),"subroutine"),BFe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),_i(t,i),t.intersect=function(n){return gi.circle(t,7,n)},r},"start"),cj=l((e,t,r)=>{let i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=70,a=10;r==="LR"&&(n=10,a=70);let s=i.append("rect").attr("x",-1*n/2).attr("y",-1*a/2).attr("width",n).attr("height",a).attr("class","fork-join");return _i(t,s),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(o){return gi.rect(t,o)},i},"forkJoin"),$Fe=l((e,t)=>{let r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),i=r.insert("circle",":first-child"),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),i.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),_i(t,n),t.intersect=function(a){return gi.circle(t,7,a)},r},"end"),FFe=l((e,t)=>xe(null,null,function*(){var w;let r=t.padding/2,i=4,n=8,a;t.classes?a="node "+t.classes:a="node default";let s=e.insert("g").attr("class",a).attr("id",t.domId||t.id),o=s.insert("rect",":first-child"),u=s.insert("line"),h=s.insert("line"),d=0,p=i,g=s.insert("g").attr("class","label"),f=0,m=(w=t.classData.annotations)==null?void 0:w[0],x=t.classData.annotations[0]?"\xAB"+t.classData.annotations[0]+"\xBB":"",T=g.node().appendChild(yield Es(x,t.labelStyle,!0,!0)),k=T.getBBox();if(Hr(Ce().flowchart.htmlLabels)){let C=T.children[0],A=Ze(T);k=C.getBoundingClientRect(),A.attr("width",k.width),A.attr("height",k.height)}t.classData.annotations[0]&&(p+=k.height+i,d+=k.width);let E=t.classData.label;t.classData.type!==void 0&&t.classData.type!==""&&(Ce().flowchart.htmlLabels?E+="&lt;"+t.classData.type+"&gt;":E+="<"+t.classData.type+">");let S=g.node().appendChild(yield Es(E,t.labelStyle,!0,!0));Ze(S).attr("class","classTitle");let L=S.getBBox();if(Hr(Ce().flowchart.htmlLabels)){let C=S.children[0],A=Ze(S);L=C.getBoundingClientRect(),A.attr("width",L.width),A.attr("height",L.height)}p+=L.height+i,L.width>d&&(d=L.width);let b=[];t.classData.members.forEach(C=>xe(null,null,function*(){let A=C.getDisplayDetails(),M=A.displayText;Ce().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let N=g.node().appendChild(yield Es(M,A.cssStyle?A.cssStyle:t.labelStyle,!0,!0)),O=N.getBBox();if(Hr(Ce().flowchart.htmlLabels)){let _=N.children[0],I=Ze(N);O=_.getBoundingClientRect(),I.attr("width",O.width),I.attr("height",O.height)}O.width>d&&(d=O.width),p+=O.height+i,b.push(N)})),p+=n;let y=[];if(t.classData.methods.forEach(C=>xe(null,null,function*(){let A=C.getDisplayDetails(),M=A.displayText;Ce().flowchart.htmlLabels&&(M=M.replace(/</g,"&lt;").replace(/>/g,"&gt;"));let N=g.node().appendChild(yield Es(M,A.cssStyle?A.cssStyle:t.labelStyle,!0,!0)),O=N.getBBox();if(Hr(Ce().flowchart.htmlLabels)){let _=N.children[0],I=Ze(N);O=_.getBoundingClientRect(),I.attr("width",O.width),I.attr("height",O.height)}O.width>d&&(d=O.width),p+=O.height+i,y.push(N)})),p+=n,m){let C=(d-k.width)/2;Ze(T).attr("transform","translate( "+(-1*d/2+C)+", "+-1*p/2+")"),f=k.height+i}let v=(d-L.width)/2;return Ze(S).attr("transform","translate( "+(-1*d/2+v)+", "+(-1*p/2+f)+")"),f+=L.height+i,u.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,b.forEach(C=>{var M;Ze(C).attr("transform","translate( "+-d/2+", "+(-1*p/2+f+n/2)+")");let A=C==null?void 0:C.getBBox();f+=((M=A==null?void 0:A.height)!=null?M:0)+i}),f+=n,h.attr("class","divider").attr("x1",-d/2-r).attr("x2",d/2+r).attr("y1",-p/2-r+n+f).attr("y2",-p/2-r+n+f),f+=n,y.forEach(C=>{var M;Ze(C).attr("transform","translate( "+-d/2+", "+(-1*p/2+f)+")");let A=C==null?void 0:C.getBBox();f+=((M=A==null?void 0:A.height)!=null?M:0)+i}),o.attr("style",t.style).attr("class","outer title-state").attr("x",-d/2-r).attr("y",-(p/2)-r).attr("width",d+t.padding).attr("height",p+t.padding),_i(t,o),t.intersect=function(C){return gi.rect(t,C)},s}),"class_box"),uj={rhombus:lj,composite:NFe,question:lj,rect:LFe,labelRect:MFe,rectWithTitle:IFe,choice:bFe,circle:RFe,doublecircle:OFe,stadium:DFe,hexagon:xFe,block_arrow:wFe,rect_left_inv_arrow:kFe,lean_right:TFe,lean_left:EFe,trapezoid:CFe,inv_trapezoid:SFe,rect_right_inv_arrow:_Fe,cylinder:AFe,start:BFe,end:$Fe,note:vFe,subroutine:PFe,fork:cj,join:cj,class_box:FFe},Xx={},hj=l((e,t,r)=>xe(null,null,function*(){let i,n;if(t.link){let a;Ce().securityLevel==="sandbox"?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),i=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),n=yield uj[t.shape](i,t,r)}else n=yield uj[t.shape](e,t,r),i=n;return t.tooltip&&n.attr("title",t.tooltip),t.class&&n.attr("class","node default "+t.class),Xx[t.id]=i,t.haveCallback&&Xx[t.id].attr("class",Xx[t.id].attr("class")+" clickable"),i}),"insertNode"),zFe=l(e=>{let t=Xx[e.id];ae.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");let r=8,i=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+i-e.width/2)+", "+(e.y-e.height/2-r)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),i},"positionNode")});function dj(e,t,r=!1){var p,g,f,m,x,T,k;let i=e,n="default";(((p=i==null?void 0:i.classes)==null?void 0:p.length)||0)>0&&(n=((g=i==null?void 0:i.classes)!=null?g:[]).join(" ")),n=n+" flowchart-label";let a=0,s="",o;switch(i.type){case"round":a=5,s="rect";break;case"composite":a=0,s="composite",o=0;break;case"square":s="rect";break;case"diamond":s="question";break;case"hexagon":s="hexagon";break;case"block_arrow":s="block_arrow";break;case"odd":s="rect_left_inv_arrow";break;case"lean_right":s="lean_right";break;case"lean_left":s="lean_left";break;case"trapezoid":s="trapezoid";break;case"inv_trapezoid":s="inv_trapezoid";break;case"rect_left_inv_arrow":s="rect_left_inv_arrow";break;case"circle":s="circle";break;case"ellipse":s="ellipse";break;case"stadium":s="stadium";break;case"subroutine":s="subroutine";break;case"cylinder":s="cylinder";break;case"group":s="rect";break;case"doublecircle":s="doublecircle";break;default:s="rect"}let u=V9((f=i==null?void 0:i.styles)!=null?f:[]),h=i.label,d=(m=i.size)!=null?m:{width:0,height:0,x:0,y:0};return{labelStyle:u.labelStyle,shape:s,labelText:h,rx:a,ry:a,class:n,style:u.style,id:i.id,directions:i.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:i.type,padding:(k=o!=null?o:(T=(x=_r())==null?void 0:x.block)==null?void 0:T.padding)!=null?k:0}}function GFe(e,t,r){return xe(this,null,function*(){let i=dj(t,r,!1);if(i.type==="group")return;let n=_r(),a=yield hj(e,i,{config:n}),s=a.node().getBBox(),o=r.getBlock(i.id);o.size={width:s.width,height:s.height,x:0,y:0,node:a},r.setBlock(o),a.remove()})}function UFe(e,t,r){return xe(this,null,function*(){let i=dj(t,r,!0);if(r.getBlock(i.id).type!=="space"){let n=_r();yield hj(e,i,{config:n}),t.intersect=i==null?void 0:i.intersect,zFe(i)}})}function z8(e,t,r,i){return xe(this,null,function*(){for(let n of t)yield i(e,n,r),n.children&&(yield z8(e,n.children,r,i))})}function qFe(e,t,r){return xe(this,null,function*(){yield z8(e,t,r,GFe)})}function jFe(e,t,r){return xe(this,null,function*(){yield z8(e,t,r,UFe)})}function HFe(e,t,r,i,n){return xe(this,null,function*(){let a=new La({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(let s of r)s.size&&a.setNode(s.id,{width:s.size.width,height:s.size.height,intersect:s.intersect});for(let s of t)if(s.start&&s.end){let o=i.getBlock(s.start),u=i.getBlock(s.end);if(o!=null&&o.size&&(u!=null&&u.size)){let h=o.size,d=u.size,p=[{x:h.x,y:h.y},{x:h.x+(d.x-h.x)/2,y:h.y+(d.y-h.y)/2},{x:d.x,y:d.y}];eFe(e,{v:s.start,w:s.end,name:s.id},hr(dt({},s),{arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),void 0,"block",a,n),s.label&&(yield K$e(e,hr(dt({},s),{label:s.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:s.arrowTypeEnd,arrowTypeStart:s.arrowTypeStart,points:p,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"})),Z$e(hr(dt({},s),{x:p[1].x,y:p[1].y}),{originalPath:p}))}}})}var _tt=B(()=>{"use strict";To(),bi(),vtt(),Stt(),Jt(),l(dj,"getNodeFromBlock"),l(GFe,"calculateBlockSize"),l(UFe,"insertBlockPositioned"),l(z8,"performOperations"),l(qFe,"calculateBlockSizes"),l(jFe,"insertBlocks"),l(HFe,"insertEdges")}),VFe,YFe,WFe,Att=B(()=>{"use strict";gr(),bi(),ftt(),lt(),pn(),mtt(),_tt(),VFe=l(function(e,t){return t.db.getClasses()},"getClasses"),YFe=l(function(e,t,r,i){return xe(this,null,function*(){let{securityLevel:n,block:a}=_r(),s=i.db,o;n==="sandbox"&&(o=Ze("#i"+t));let u=Ze(n==="sandbox"?o.nodes()[0].contentDocument.body:"body"),h=n==="sandbox"?u.select(`[id="${t}"]`):Ze(`[id="${t}"]`);U$e(h,["point","circle","cross"],i.type,t);let d=s.getBlocks(),p=s.getBlocksFlat(),g=s.getEdges(),f=h.insert("g").attr("class","block");yield qFe(f,d,s);let m=j$e(s);if(yield jFe(f,d,s),yield HFe(f,g,p,s,t),m){let x=m,T=Math.max(1,Math.round(.125*(x.width/x.height))),k=x.height+T+10,E=x.width+10,{useMaxWidth:S}=a;ta(h,k,E,!!S),ae.debug("Here Bounds",m,x),h.attr("viewBox",`${x.x-5} ${x.y-5} ${x.width+10} ${x.height+10}`)}})},"draw"),WFe={draw:YFe,getClasses:VFe}}),XFe={};nr(XFe,{diagram:()=>KFe});var KFe,Ltt=B(()=>{"use strict";dtt(),ptt(),gtt(),Att(),KFe={parser:s$e,db:A$e,renderer:WFe,styles:N$e}}),pj,gj,Kx,ZFe,fj,ma,hu,G8,QFe,JFe,U8,eze,tze,rze,ize,nze,mj,xp,yj=B(()=>{"use strict";pj={L:"left",R:"right",T:"top",B:"bottom"},gj={L:l(e=>`${e},${e/2} 0,${e} 0,0`,"L"),R:l(e=>`0,${e/2} ${e},0 ${e},${e}`,"R"),T:l(e=>`0,0 ${e},0 ${e/2},${e}`,"T"),B:l(e=>`${e/2},0 ${e},${e} 0,${e}`,"B")},Kx={L:l((e,t)=>e-t+2,"L"),R:l((e,t)=>e-2,"R"),T:l((e,t)=>e-t+2,"T"),B:l((e,t)=>e-2,"B")},ZFe=l(function(e){return ma(e)?e==="L"?"R":"L":e==="T"?"B":"T"},"getOppositeArchitectureDirection"),fj=l(function(e){let t=e;return t==="L"||t==="R"||t==="T"||t==="B"},"isArchitectureDirection"),ma=l(function(e){let t=e;return t==="L"||t==="R"},"isArchitectureDirectionX"),hu=l(function(e){let t=e;return t==="T"||t==="B"},"isArchitectureDirectionY"),G8=l(function(e,t){let r=ma(e)&&hu(t),i=hu(e)&&ma(t);return r||i},"isArchitectureDirectionXY"),QFe=l(function(e){let t=e[0],r=e[1],i=ma(t)&&hu(r),n=hu(t)&&ma(r);return i||n},"isArchitecturePairXY"),JFe=l(function(e){return e!=="LL"&&e!=="RR"&&e!=="TT"&&e!=="BB"},"isValidArchitectureDirectionPair"),U8=l(function(e,t){let r=`${e}${t}`;return JFe(r)?r:void 0},"getArchitectureDirectionPair"),eze=l(function([e,t],r){let i=r[0],n=r[1];return ma(i)?hu(n)?[e+(i==="L"?-1:1),t+(n==="T"?1:-1)]:[e+(i==="L"?-1:1),t]:ma(n)?[e+(n==="L"?1:-1),t+(i==="T"?1:-1)]:[e,t+(i==="T"?1:-1)]},"shiftPositionByArchitectureDirectionPair"),tze=l(function(e){return e==="LT"||e==="TL"?[1,1]:e==="BL"||e==="LB"?[1,-1]:e==="BR"||e==="RB"?[-1,-1]:[-1,1]},"getArchitectureDirectionXYFactors"),rze=l(function(e,t){return G8(e,t)?"bend":ma(e)?"horizontal":"vertical"},"getArchitectureDirectionAlignment"),ize=l(function(e){return e.type==="service"},"isArchitectureService"),nze=l(function(e){return e.type==="junction"},"isArchitectureJunction"),mj=l(e=>e.data(),"edgeData"),xp=l(e=>e.data(),"nodeData")}),aze,vj,sze=B(()=>{"use strict";var e;bi(),va(),Jt(),Fi(),yj(),aze=Tr.architecture,vj=(e=class{constructor(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.elements={},this.setAccTitle=Bi,this.getAccTitle=Wi,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getAccDescription=Ki,this.setAccDescription=Xi,this.clear()}clear(){this.nodes={},this.groups={},this.edges=[],this.registeredIds={},this.dataStructures=void 0,this.elements={},Pi()}addService({id:r,icon:i,in:n,title:a,iconText:s}){if(this.registeredIds[r]!==void 0)throw new Error(`The service id [${r}] is already in use by another ${this.registeredIds[r]}`);if(n!==void 0){if(r===n)throw new Error(`The service [${r}] cannot be placed within itself`);if(this.registeredIds[n]===void 0)throw new Error(`The service [${r}]'s parent does not exist. Please make sure the parent is created before this service`);if(this.registeredIds[n]==="node")throw new Error(`The service [${r}]'s parent is not a group`)}this.registeredIds[r]="node",this.nodes[r]={id:r,type:"service",icon:i,iconText:s,title:a,edges:[],in:n}}getServices(){return Object.values(this.nodes).filter(ize)}addJunction({id:r,in:i}){this.registeredIds[r]="node",this.nodes[r]={id:r,type:"junction",edges:[],in:i}}getJunctions(){return Object.values(this.nodes).filter(nze)}getNodes(){return Object.values(this.nodes)}getNode(r){var i;return(i=this.nodes[r])!=null?i:null}addGroup({id:r,icon:i,in:n,title:a}){var s,o,u;if(((s=this.registeredIds)==null?void 0:s[r])!==void 0)throw new Error(`The group id [${r}] is already in use by another ${this.registeredIds[r]}`);if(n!==void 0){if(r===n)throw new Error(`The group [${r}] cannot be placed within itself`);if(((o=this.registeredIds)==null?void 0:o[n])===void 0)throw new Error(`The group [${r}]'s parent does not exist. Please make sure the parent is created before this group`);if(((u=this.registeredIds)==null?void 0:u[n])==="node")throw new Error(`The group [${r}]'s parent is not a group`)}this.registeredIds[r]="group",this.groups[r]={id:r,icon:i,title:a,in:n}}getGroups(){return Object.values(this.groups)}addEdge({lhsId:r,rhsId:i,lhsDir:n,rhsDir:a,lhsInto:s,rhsInto:o,lhsGroup:u,rhsGroup:h,title:d}){if(!fj(n))throw new Error(`Invalid direction given for left hand side of edge ${r}--${i}. Expected (L,R,T,B) got ${String(n)}`);if(!fj(a))throw new Error(`Invalid direction given for right hand side of edge ${r}--${i}. Expected (L,R,T,B) got ${String(a)}`);if(this.nodes[r]===void 0&&this.groups[r]===void 0)throw new Error(`The left-hand id [${r}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(this.nodes[i]===void 0&&this.groups[i]===void 0)throw new Error(`The right-hand id [${i}] does not yet exist. Please create the service/group before declaring an edge to it.`);let p=this.nodes[r].in,g=this.nodes[i].in;if(u&&p&&g&&p==g)throw new Error(`The left-hand id [${r}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(h&&p&&g&&p==g)throw new Error(`The right-hand id [${i}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);let f={lhsId:r,lhsDir:n,lhsInto:s,lhsGroup:u,rhsId:i,rhsDir:a,rhsInto:o,rhsGroup:h,title:d};this.edges.push(f),this.nodes[r]&&this.nodes[i]&&(this.nodes[r].edges.push(this.edges[this.edges.length-1]),this.nodes[i].edges.push(this.edges[this.edges.length-1]))}getEdges(){return this.edges}getDataStructures(){if(this.dataStructures===void 0){let r={},i=Object.entries(this.nodes).reduce((h,[d,p])=>(h[d]=p.edges.reduce((g,f)=>{var T,k,E,S;let m=(T=this.getNode(f.lhsId))==null?void 0:T.in,x=(k=this.getNode(f.rhsId))==null?void 0:k.in;if(m&&x&&m!==x){let L=rze(f.lhsDir,f.rhsDir);L!=="bend"&&((E=r[m])!=null||(r[m]={}),r[m][x]=L,(S=r[x])!=null||(r[x]={}),r[x][m]=L)}if(f.lhsId===d){let L=U8(f.lhsDir,f.rhsDir);L&&(g[L]=f.rhsId)}else{let L=U8(f.rhsDir,f.lhsDir);L&&(g[L]=f.lhsId)}return g},{}),h),{}),n=Object.keys(i)[0],a={[n]:1},s=Object.keys(i).reduce((h,d)=>d===n?h:hr(dt({},h),{[d]:1}),{}),o=l(h=>{let d={[h]:[0,0]},p=[h];for(;p.length>0;){let g=p.shift();if(g){a[g]=1,delete s[g];let f=i[g],[m,x]=d[g];Object.entries(f).forEach(([T,k])=>{a[k]||(d[k]=eze([m,x],T),p.push(k))})}}return d},"BFS"),u=[o(n)];for(;Object.keys(s).length>0;)u.push(o(Object.keys(s)[0]));this.dataStructures={adjList:i,spatialMaps:u,groupAlignments:r}}return this.dataStructures}setElementForId(r,i){this.elements[r]=i}getElementById(r){return this.elements[r]}getConfig(){return Ea(dt(dt({},aze),_r().architecture))}getConfigField(r){return this.getConfig()[r]}},l(e,"ArchitectureDB"),e)}),oze,bj,Ntt=B(()=>{"use strict";lp(),lt(),wf(),sze(),oze=l((e,t)=>{cp(e,t),e.groups.map(r=>t.addGroup(r)),e.services.map(r=>t.addService(hr(dt({},r),{type:"service"}))),e.junctions.map(r=>t.addJunction(hr(dt({},r),{type:"junction"}))),e.edges.map(r=>t.addEdge(r))},"populateDb"),bj={parser:{yy:void 0},parse:l(e=>xe(null,null,function*(){var i;let t=yield eu("architecture",e);ae.debug(t);let r=(i=bj.parser)==null?void 0:i.yy;if(!(r instanceof vj))throw new Error("parser.parser?.yy was not a ArchitectureDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");oze(t,r)}),"parse")}}),lze,cze,Mtt=B(()=>{"use strict";lze=l(e=>`
  .edge {
    stroke-width: ${e.archEdgeWidth};
    stroke: ${e.archEdgeColor};
    fill: none;
  }

  .arrow {
    fill: ${e.archEdgeArrowColor};
  }

  .node-bkg {
    fill: none;
    stroke: ${e.archGroupBorderColor};
    stroke-width: ${e.archGroupBorderWidth};
    stroke-dasharray: 8;
  }
  .node-icon-text {
    display: flex; 
    align-items: center;
  }
  
  .node-icon-text > div {
    color: #fff;
    margin: 1px;
    height: fit-content;
    text-align: center;
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
  }
`,"getStyles"),cze=lze}),uze=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i():typeof define=="function"&&define.amd?define([],i):typeof e=="object"?e.layoutBase=i():r.layoutBase=i()}),"webpackUniversalModuleDefinition")(e,function(){return(function(r){var i={};function n(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return r[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return l(n,"__webpack_require__"),n.m=r,n.c=i,n.i=function(a){return a},n.d=function(a,s,o){n.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},n.n=function(a){var s=a&&a.__esModule?l(function(){return a.default},"getDefault"):l(function(){return a},"getModuleExports");return n.d(s,"a",s),s},n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},n.p="",n(n.s=28)})([(function(r,i,n){"use strict";function a(){}l(a,"LayoutConstants"),a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(8),o=n(9);function u(d,p,g){a.call(this,g),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=g,this.bendpoints=[],this.source=d,this.target=p}l(u,"LEdge"),u.prototype=Object.create(a.prototype);for(var h in a)u[h]=a[h];u.prototype.getSource=function(){return this.source},u.prototype.getTarget=function(){return this.target},u.prototype.isInterGraph=function(){return this.isInterGraph},u.prototype.getLength=function(){return this.length},u.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},u.prototype.getBendpoints=function(){return this.bendpoints},u.prototype.getLca=function(){return this.lca},u.prototype.getSourceInLca=function(){return this.sourceInLca},u.prototype.getTargetInLca=function(){return this.targetInLca},u.prototype.getOtherEnd=function(d){if(this.source===d)return this.target;if(this.target===d)return this.source;throw"Node is not incident with this edge"},u.prototype.getOtherEndInGraph=function(d,p){for(var g=this.getOtherEnd(d),f=p.getGraphManager().getRoot();;){if(g.getOwner()==p)return g;if(g.getOwner()==f)break;g=g.getOwner().getParent()}return null},u.prototype.updateLength=function(){var d=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),d),this.isOverlapingSourceAndTarget||(this.lengthX=d[0]-d[2],this.lengthY=d[1]-d[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},u.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=u}),(function(r,i,n){"use strict";function a(s){this.vGraphObject=s}l(a,"LGraphObject"),r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(13),u=n(0),h=n(16),d=n(5);function p(f,m,x,T){x==null&&T==null&&(T=m),a.call(this,T),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=T,this.edges=[],this.graphManager=f,x!=null&&m!=null?this.rect=new o(m.x,m.y,x.width,x.height):this.rect=new o}l(p,"LNode"),p.prototype=Object.create(a.prototype);for(var g in a)p[g]=a[g];p.prototype.getEdges=function(){return this.edges},p.prototype.getChild=function(){return this.child},p.prototype.getOwner=function(){return this.owner},p.prototype.getWidth=function(){return this.rect.width},p.prototype.setWidth=function(f){this.rect.width=f},p.prototype.getHeight=function(){return this.rect.height},p.prototype.setHeight=function(f){this.rect.height=f},p.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},p.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},p.prototype.getCenter=function(){return new d(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},p.prototype.getLocation=function(){return new d(this.rect.x,this.rect.y)},p.prototype.getRect=function(){return this.rect},p.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},p.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},p.prototype.setRect=function(f,m){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=m.width,this.rect.height=m.height},p.prototype.setCenter=function(f,m){this.rect.x=f-this.rect.width/2,this.rect.y=m-this.rect.height/2},p.prototype.setLocation=function(f,m){this.rect.x=f,this.rect.y=m},p.prototype.moveBy=function(f,m){this.rect.x+=f,this.rect.y+=m},p.prototype.getEdgeListToNode=function(f){var m=[],x,T=this;return T.edges.forEach(function(k){if(k.target==f){if(k.source!=T)throw"Incorrect edge source!";m.push(k)}}),m},p.prototype.getEdgesBetween=function(f){var m=[],x,T=this;return T.edges.forEach(function(k){if(!(k.source==T||k.target==T))throw"Incorrect edge source and/or target";(k.target==f||k.source==f)&&m.push(k)}),m},p.prototype.getNeighborsList=function(){var f=new Set,m=this;return m.edges.forEach(function(x){if(x.source==m)f.add(x.target);else{if(x.target!=m)throw"Incorrect incidency!";f.add(x.source)}}),f},p.prototype.withChildren=function(){var f=new Set,m,x;if(f.add(this),this.child!=null)for(var T=this.child.getNodes(),k=0;k<T.length;k++)m=T[k],x=m.withChildren(),x.forEach(function(E){f.add(E)});return f},p.prototype.getNoOfChildren=function(){var f=0,m;if(this.child==null)f=1;else for(var x=this.child.getNodes(),T=0;T<x.length;T++)m=x[T],f+=m.getNoOfChildren();return f==0&&(f=1),f},p.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},p.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},p.prototype.scatter=function(){var f,m,x=-u.INITIAL_WORLD_BOUNDARY,T=u.INITIAL_WORLD_BOUNDARY;f=u.WORLD_CENTER_X+h.nextDouble()*(T-x)+x;var k=-u.INITIAL_WORLD_BOUNDARY,E=u.INITIAL_WORLD_BOUNDARY;m=u.WORLD_CENTER_Y+h.nextDouble()*(E-k)+k,this.rect.x=f,this.rect.y=m},p.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),u.NODE_DIMENSIONS_INCLUDE_LABELS){var m=f.getRight()-f.getLeft(),x=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(m+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>m?(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(m+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(x+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>x?(this.rect.y-=(this.labelHeight-x)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(x+this.labelHeight))}}},p.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},p.prototype.transform=function(f){var m=this.rect.x;m>u.WORLD_BOUNDARY?m=u.WORLD_BOUNDARY:m<-u.WORLD_BOUNDARY&&(m=-u.WORLD_BOUNDARY);var x=this.rect.y;x>u.WORLD_BOUNDARY?x=u.WORLD_BOUNDARY:x<-u.WORLD_BOUNDARY&&(x=-u.WORLD_BOUNDARY);var T=new d(m,x),k=f.inverseTransformPoint(T);this.setLocation(k.x,k.y)},p.prototype.getLeft=function(){return this.rect.x},p.prototype.getRight=function(){return this.rect.x+this.rect.width},p.prototype.getTop=function(){return this.rect.y},p.prototype.getBottom=function(){return this.rect.y+this.rect.height},p.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=p}),(function(r,i,n){"use strict";var a=n(0);function s(){}l(s,"FDLayoutConstants");for(var o in a)s[o]=a[o];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=s}),(function(r,i,n){"use strict";function a(s,o){s==null&&o==null?(this.x=0,this.y=0):(this.x=s,this.y=o)}l(a,"PointD"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},r.exports=a}),(function(r,i,n){"use strict";var a=n(2),s=n(10),o=n(0),u=n(7),h=n(3),d=n(1),p=n(13),g=n(12),f=n(11);function m(T,k,E){a.call(this,E),this.estimatedSize=s.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=T,k!=null&&k instanceof u?this.graphManager=k:k!=null&&k instanceof Layout&&(this.graphManager=k.graphManager)}l(m,"LGraph"),m.prototype=Object.create(a.prototype);for(var x in a)m[x]=a[x];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(T,k,E){if(k==null&&E==null){var S=T;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(S)>-1)throw"Node already in graph!";return S.owner=this,this.getNodes().push(S),S}else{var L=T;if(!(this.getNodes().indexOf(k)>-1&&this.getNodes().indexOf(E)>-1))throw"Source or target not in graph!";if(!(k.owner==E.owner&&k.owner==this))throw"Both owners must be this graph!";return k.owner!=E.owner?null:(L.source=k,L.target=E,L.isInterGraph=!1,this.getEdges().push(L),k.edges.push(L),E!=k&&E.edges.push(L),L)}},m.prototype.remove=function(T){var k=T;if(T instanceof h){if(k==null)throw"Node is null!";if(!(k.owner!=null&&k.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var E=k.edges.slice(),S,L=E.length,b=0;b<L;b++)S=E[b],S.isInterGraph?this.graphManager.remove(S):S.source.owner.remove(S);var y=this.nodes.indexOf(k);if(y==-1)throw"Node not in owner node list!";this.nodes.splice(y,1)}else if(T instanceof d){var S=T;if(S==null)throw"Edge is null!";if(!(S.source!=null&&S.target!=null))throw"Source and/or target is null!";if(!(S.source.owner!=null&&S.target.owner!=null&&S.source.owner==this&&S.target.owner==this))throw"Source and/or target owner is invalid!";var v=S.source.edges.indexOf(S),w=S.target.edges.indexOf(S);if(!(v>-1&&w>-1))throw"Source and/or target doesn't know this edge!";S.source.edges.splice(v,1),S.target!=S.source&&S.target.edges.splice(w,1);var y=S.source.owner.getEdges().indexOf(S);if(y==-1)throw"Not in owner's edge list!";S.source.owner.getEdges().splice(y,1)}},m.prototype.updateLeftTop=function(){for(var T=s.MAX_VALUE,k=s.MAX_VALUE,E,S,L,b=this.getNodes(),y=b.length,v=0;v<y;v++){var w=b[v];E=w.getTop(),S=w.getLeft(),T>E&&(T=E),k>S&&(k=S)}return T==s.MAX_VALUE?null:(b[0].getParent().paddingLeft!=null?L=b[0].getParent().paddingLeft:L=this.margin,this.left=k-L,this.top=T-L,new g(this.left,this.top))},m.prototype.updateBounds=function(T){for(var k=s.MAX_VALUE,E=-s.MAX_VALUE,S=s.MAX_VALUE,L=-s.MAX_VALUE,b,y,v,w,C,A=this.nodes,M=A.length,N=0;N<M;N++){var O=A[N];T&&O.child!=null&&O.updateBounds(),b=O.getLeft(),y=O.getRight(),v=O.getTop(),w=O.getBottom(),k>b&&(k=b),E<y&&(E=y),S>v&&(S=v),L<w&&(L=w)}var _=new p(k,S,E-k,L-S);k==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),A[0].getParent().paddingLeft!=null?C=A[0].getParent().paddingLeft:C=this.margin,this.left=_.x-C,this.right=_.x+_.width+C,this.top=_.y-C,this.bottom=_.y+_.height+C},m.calculateBounds=function(T){for(var k=s.MAX_VALUE,E=-s.MAX_VALUE,S=s.MAX_VALUE,L=-s.MAX_VALUE,b,y,v,w,C=T.length,A=0;A<C;A++){var M=T[A];b=M.getLeft(),y=M.getRight(),v=M.getTop(),w=M.getBottom(),k>b&&(k=b),E<y&&(E=y),S>v&&(S=v),L<w&&(L=w)}var N=new p(k,S,E-k,L-S);return N},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var T=0,k=this.nodes,E=k.length,S=0;S<E;S++){var L=k[S];T+=L.calcEstimatedSize()}return T==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=T/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var T=this;if(this.nodes.length==0){this.isConnected=!0;return}var k=new f,E=new Set,S=this.nodes[0],L,b,y=S.withChildren();for(y.forEach(function(N){k.push(N),E.add(N)});k.length!==0;){S=k.shift(),L=S.getEdges();for(var v=L.length,w=0;w<v;w++){var C=L[w];if(b=C.getOtherEndInGraph(S,this),b!=null&&!E.has(b)){var A=b.withChildren();A.forEach(function(N){k.push(N),E.add(N)})}}}if(this.isConnected=!1,E.size>=this.nodes.length){var M=0;E.forEach(function(N){N.owner==T&&M++}),M==this.nodes.length&&(this.isConnected=!0)}},r.exports=m}),(function(r,i,n){"use strict";var a,s=n(1);function o(u){a=n(6),this.layout=u,this.graphs=[],this.edges=[]}l(o,"LGraphManager"),o.prototype.addRoot=function(){var u=this.layout.newGraph(),h=this.layout.newNode(null),d=this.add(u,h);return this.setRootGraph(d),this.rootGraph},o.prototype.add=function(u,h,d,p,g){if(d==null&&p==null&&g==null){if(u==null)throw"Graph is null!";if(h==null)throw"Parent node is null!";if(this.graphs.indexOf(u)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(u),u.parent!=null)throw"Already has a parent!";if(h.child!=null)throw"Already has a child!";return u.parent=h,h.child=u,u}else{g=d,p=h,d=u;var f=p.getOwner(),m=g.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==m)return d.isInterGraph=!1,f.add(d,p,g);if(d.isInterGraph=!0,d.source=p,d.target=g,this.edges.indexOf(d)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(d),!(d.source!=null&&d.target!=null))throw"Edge source and/or target is null!";if(!(d.source.edges.indexOf(d)==-1&&d.target.edges.indexOf(d)==-1))throw"Edge already in source and/or target incidency list!";return d.source.edges.push(d),d.target.edges.push(d),d}},o.prototype.remove=function(u){if(u instanceof a){var h=u;if(h.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(h==this.rootGraph||h.parent!=null&&h.parent.graphManager==this))throw"Invalid parent node!";var d=[];d=d.concat(h.getEdges());for(var p,g=d.length,f=0;f<g;f++)p=d[f],h.remove(p);var m=[];m=m.concat(h.getNodes());var x;g=m.length;for(var f=0;f<g;f++)x=m[f],h.remove(x);h==this.rootGraph&&this.setRootGraph(null);var T=this.graphs.indexOf(h);this.graphs.splice(T,1),h.parent=null}else if(u instanceof s){if(p=u,p==null)throw"Edge is null!";if(!p.isInterGraph)throw"Not an inter-graph edge!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.edges.indexOf(p)!=-1&&p.target.edges.indexOf(p)!=-1))throw"Source and/or target doesn't know this edge!";var T=p.source.edges.indexOf(p);if(p.source.edges.splice(T,1),T=p.target.edges.indexOf(p),p.target.edges.splice(T,1),!(p.source.owner!=null&&p.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(p.source.owner.getGraphManager().edges.indexOf(p)==-1)throw"Not in owner graph manager's edge list!";var T=p.source.owner.getGraphManager().edges.indexOf(p);p.source.owner.getGraphManager().edges.splice(T,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<d;p++)u=u.concat(h[p].getNodes());this.allNodes=u}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var u=[],h=this.getGraphs(),d=h.length,p=0;p<h.length;p++)u=u.concat(h[p].getEdges());u=u.concat(this.edges),this.allEdges=u}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(u){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=u},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(u){if(u.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=u,u.parent==null&&(u.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(u,h){if(!(u!=null&&h!=null))throw"assert failed";if(u==h)return!0;var d=u.getOwner(),p;do{if(p=d.getParent(),p==null)break;if(p==h)return!0;if(d=p.getOwner(),d==null)break}while(!0);d=h.getOwner();do{if(p=d.getParent(),p==null)break;if(p==u)return!0;if(d=p.getOwner(),d==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var u,h,d,p,g,f=this.getAllEdges(),m=f.length,x=0;x<m;x++){if(u=f[x],h=u.source,d=u.target,u.lca=null,u.sourceInLca=h,u.targetInLca=d,h==d){u.lca=h.getOwner();continue}for(p=h.getOwner();u.lca==null;){for(u.targetInLca=d,g=d.getOwner();u.lca==null;){if(g==p){u.lca=g;break}if(g==this.rootGraph)break;if(u.lca!=null)throw"assert failed";u.targetInLca=g.getParent(),g=u.targetInLca.getOwner()}if(p==this.rootGraph)break;u.lca==null&&(u.sourceInLca=p.getParent(),p=u.sourceInLca.getOwner())}if(u.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(u,h){if(u==h)return u.getOwner();var d=u.getOwner();do{if(d==null)break;var p=h.getOwner();do{if(p==null)break;if(p==d)return p;p=p.getParent().getOwner()}while(!0);d=d.getParent().getOwner()}while(!0);return d},o.prototype.calcInclusionTreeDepths=function(u,h){u==null&&h==null&&(u=this.rootGraph,h=1);for(var d,p=u.getNodes(),g=p.length,f=0;f<g;f++)d=p[f],d.inclusionTreeDepth=h,d.child!=null&&this.calcInclusionTreeDepths(d.child,h+1)},o.prototype.includesInvalidEdge=function(){for(var u,h=[],d=this.edges.length,p=0;p<d;p++)u=this.edges[p],this.isOneAncestorOfOther(u.source,u.target)&&h.push(u);for(var p=0;p<h.length;p++)this.remove(h[p]);return!1},r.exports=o}),(function(r,i,n){"use strict";var a=n(12);function s(){}l(s,"IGeometry"),s.calcSeparationAmount=function(o,u,h,d){if(!o.intersects(u))throw"assert failed";var p=new Array(2);this.decideDirectionsForOverlappingNodes(o,u,p),h[0]=Math.min(o.getRight(),u.getRight())-Math.max(o.x,u.x),h[1]=Math.min(o.getBottom(),u.getBottom())-Math.max(o.y,u.y),o.getX()<=u.getX()&&o.getRight()>=u.getRight()?h[0]+=Math.min(u.getX()-o.getX(),o.getRight()-u.getRight()):u.getX()<=o.getX()&&u.getRight()>=o.getRight()&&(h[0]+=Math.min(o.getX()-u.getX(),u.getRight()-o.getRight())),o.getY()<=u.getY()&&o.getBottom()>=u.getBottom()?h[1]+=Math.min(u.getY()-o.getY(),o.getBottom()-u.getBottom()):u.getY()<=o.getY()&&u.getBottom()>=o.getBottom()&&(h[1]+=Math.min(o.getY()-u.getY(),u.getBottom()-o.getBottom()));var g=Math.abs((u.getCenterY()-o.getCenterY())/(u.getCenterX()-o.getCenterX()));u.getCenterY()===o.getCenterY()&&u.getCenterX()===o.getCenterX()&&(g=1);var f=g*h[0],m=h[1]/g;h[0]<m?m=h[0]:f=h[1],h[0]=-1*p[0]*(m/2+d),h[1]=-1*p[1]*(f/2+d)},s.decideDirectionsForOverlappingNodes=function(o,u,h){o.getCenterX()<u.getCenterX()?h[0]=-1:h[0]=1,o.getCenterY()<u.getCenterY()?h[1]=-1:h[1]=1},s.getIntersection2=function(o,u,h){var d=o.getCenterX(),p=o.getCenterY(),g=u.getCenterX(),f=u.getCenterY();if(o.intersects(u))return h[0]=d,h[1]=p,h[2]=g,h[3]=f,!0;var m=o.getX(),x=o.getY(),T=o.getRight(),k=o.getX(),E=o.getBottom(),S=o.getRight(),L=o.getWidthHalf(),b=o.getHeightHalf(),y=u.getX(),v=u.getY(),w=u.getRight(),C=u.getX(),A=u.getBottom(),M=u.getRight(),N=u.getWidthHalf(),O=u.getHeightHalf(),_=!1,I=!1;if(d===g){if(p>f)return h[0]=d,h[1]=x,h[2]=g,h[3]=A,!1;if(p<f)return h[0]=d,h[1]=E,h[2]=g,h[3]=v,!1}else if(p===f){if(d>g)return h[0]=m,h[1]=p,h[2]=w,h[3]=f,!1;if(d<g)return h[0]=T,h[1]=p,h[2]=y,h[3]=f,!1}else{var R=o.height/o.width,P=u.height/u.width,D=(f-p)/(g-d),$=void 0,F=void 0,z=void 0,U=void 0,j=void 0,H=void 0;if(-R===D?d>g?(h[0]=k,h[1]=E,_=!0):(h[0]=T,h[1]=x,_=!0):R===D&&(d>g?(h[0]=m,h[1]=x,_=!0):(h[0]=S,h[1]=E,_=!0)),-P===D?g>d?(h[2]=C,h[3]=A,I=!0):(h[2]=w,h[3]=v,I=!0):P===D&&(g>d?(h[2]=y,h[3]=v,I=!0):(h[2]=M,h[3]=A,I=!0)),_&&I)return!1;if(d>g?p>f?($=this.getCardinalDirection(R,D,4),F=this.getCardinalDirection(P,D,2)):($=this.getCardinalDirection(-R,D,3),F=this.getCardinalDirection(-P,D,1)):p>f?($=this.getCardinalDirection(-R,D,1),F=this.getCardinalDirection(-P,D,3)):($=this.getCardinalDirection(R,D,2),F=this.getCardinalDirection(P,D,4)),!_)switch($){case 1:U=x,z=d+-b/D,h[0]=z,h[1]=U;break;case 2:z=S,U=p+L*D,h[0]=z,h[1]=U;break;case 3:U=E,z=d+b/D,h[0]=z,h[1]=U;break;case 4:z=k,U=p+-L*D,h[0]=z,h[1]=U;break}if(!I)switch(F){case 1:H=v,j=g+-O/D,h[2]=j,h[3]=H;break;case 2:j=M,H=f+N*D,h[2]=j,h[3]=H;break;case 3:H=A,j=g+O/D,h[2]=j,h[3]=H;break;case 4:j=C,H=f+-N*D,h[2]=j,h[3]=H;break}}return!1},s.getCardinalDirection=function(o,u,h){return o>u?h:1+h%4},s.getIntersection=function(o,u,h,d){if(d==null)return this.getIntersection2(o,u,h);var p=o.x,g=o.y,f=u.x,m=u.y,x=h.x,T=h.y,k=d.x,E=d.y,S=void 0,L=void 0,b=void 0,y=void 0,v=void 0,w=void 0,C=void 0,A=void 0,M=void 0;return b=m-g,v=p-f,C=f*g-p*m,y=E-T,w=x-k,A=k*T-x*E,M=b*w-y*v,M===0?null:(S=(v*A-w*C)/M,L=(y*C-b*A)/M,new a(S,L))},s.angleOfVector=function(o,u,h,d){var p=void 0;return o!==h?(p=Math.atan((d-u)/(h-o)),h<o?p+=Math.PI:d<u&&(p+=this.TWO_PI)):d<u?p=this.ONE_AND_HALF_PI:p=this.HALF_PI,p},s.doIntersect=function(o,u,h,d){var p=o.x,g=o.y,f=u.x,m=u.y,x=h.x,T=h.y,k=d.x,E=d.y,S=(f-p)*(E-T)-(k-x)*(m-g);if(S===0)return!1;var L=((E-T)*(k-p)+(x-k)*(E-g))/S,b=((g-m)*(k-p)+(f-p)*(E-g))/S;return 0<L&&L<1&&0<b&&b<1},s.findCircleLineIntersections=function(o,u,h,d,p,g,f){var m=(h-o)*(h-o)+(d-u)*(d-u),x=2*((o-p)*(h-o)+(u-g)*(d-u)),T=(o-p)*(o-p)+(u-g)*(u-g)-f*f,k=x*x-4*m*T;if(k>=0){var E=(-x+Math.sqrt(x*x-4*m*T))/(2*m),S=(-x-Math.sqrt(x*x-4*m*T))/(2*m),L=null;return E>=0&&E<=1?[E]:S>=0&&S<=1?[S]:L}else return null},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"IMath"),a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},r.exports=a}),(function(r,i,n){"use strict";function a(){}l(a,"Integer"),a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function p(g,f){for(var m=0;m<f.length;m++){var x=f[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return l(p,"defineProperties"),function(g,f,m){return f&&p(g.prototype,f),m&&p(g,m),g}})();function s(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=l(function(p){return{value:p,next:null,prev:null}},"nodeFrom"),u=l(function(p,g,f,m){return p!==null?p.next=g:m.head=g,f!==null?f.prev=g:m.tail=g,g.prev=p,g.next=f,m.length++,g},"add"),h=l(function(p,g){var f=p.prev,m=p.next;return f!==null?f.next=m:g.head=m,m!==null?m.prev=f:g.tail=f,p.prev=p.next=null,g.length--,p},"_remove"),d=(function(){function p(g){var f=this;s(this,p),this.length=0,this.head=null,this.tail=null,g==null||g.forEach(function(m){return f.push(m)})}return l(p,"LinkedList"),a(p,[{key:"size",value:l(function(){return this.length},"size")},{key:"insertBefore",value:l(function(g,f){return u(f.prev,o(g),f,this)},"insertBefore")},{key:"insertAfter",value:l(function(g,f){return u(f,o(g),f.next,this)},"insertAfter")},{key:"insertNodeBefore",value:l(function(g,f){return u(f.prev,g,f,this)},"insertNodeBefore")},{key:"insertNodeAfter",value:l(function(g,f){return u(f,g,f.next,this)},"insertNodeAfter")},{key:"push",value:l(function(g){return u(this.tail,o(g),null,this)},"push")},{key:"unshift",value:l(function(g){return u(null,o(g),this.head,this)},"unshift")},{key:"remove",value:l(function(g){return h(g,this)},"remove")},{key:"pop",value:l(function(){return h(this.tail,this).value},"pop")},{key:"popNode",value:l(function(){return h(this.tail,this)},"popNode")},{key:"shift",value:l(function(){return h(this.head,this).value},"shift")},{key:"shiftNode",value:l(function(){return h(this.head,this)},"shiftNode")},{key:"get_object_at",value:l(function(g){if(g<=this.length()){for(var f=1,m=this.head;f<g;)m=m.next,f++;return m.value}},"get_object_at")},{key:"set_object_at",value:l(function(g,f){if(g<=this.length()){for(var m=1,x=this.head;m<g;)x=x.next,m++;x.value=f}},"set_object_at")}]),p})();r.exports=d}),(function(r,i,n){"use strict";function a(s,o,u){this.x=null,this.y=null,s==null&&o==null&&u==null?(this.x=0,this.y=0):typeof s=="number"&&typeof o=="number"&&u==null?(this.x=s,this.y=o):s.constructor.name=="Point"&&o==null&&u==null&&(u=s,this.x=u.x,this.y=u.y)}l(a,"Point"),a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,o,u){s.constructor.name=="Point"&&o==null&&u==null?(u=s,this.setLocation(u.x,u.y)):typeof s=="number"&&typeof o=="number"&&u==null&&(parseInt(s)==s&&parseInt(o)==o?this.move(s,o):(this.x=Math.floor(s+.5),this.y=Math.floor(o+.5)))},a.prototype.move=function(s,o){this.x=s,this.y=o},a.prototype.translate=function(s,o){this.x+=s,this.y+=o},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var o=s;return this.x==o.x&&this.y==o.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=a}),(function(r,i,n){"use strict";function a(s,o,u,h){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&o!=null&&u!=null&&h!=null&&(this.x=s,this.y=o,this.width=u,this.height=h)}l(a,"RectangleD"),a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},r.exports=a}),(function(r,i,n){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function s(){}l(s,"UniqueIDGeneretor"),s.lastID=0,s.createID=function(o){return s.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=s.getString(),s.lastID++),o.uniqueID)},s.getString=function(o){return o==null&&(o=s.lastID),"Object#"+o},s.isPrimitive=function(o){var u=typeof o>"u"?"undefined":a(o);return o==null||u!="object"&&u!="function"},r.exports=s}),(function(r,i,n){"use strict";function a(x){if(Array.isArray(x)){for(var T=0,k=Array(x.length);T<x.length;T++)k[T]=x[T];return k}else return Array.from(x)}l(a,"_toConsumableArray");var s=n(0),o=n(7),u=n(3),h=n(1),d=n(6),p=n(5),g=n(17),f=n(29);function m(x){f.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,x!=null&&(this.isRemoteUse=x)}l(m,"Layout"),m.RANDOM_SEED=1,m.prototype=Object.create(f.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var x=new o(this);return this.graphManager=x,x},m.prototype.newGraph=function(x){return new d(null,this.graphManager,x)},m.prototype.newNode=function(x){return new u(this.graphManager,x)},m.prototype.newEdge=function(x){return new h(null,null,x)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var x;return this.checkLayoutSuccess()?x=!1:x=this.layout(),s.ANIMATE==="during"?!1:(x&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,x)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var x,T=this.graphManager.getAllEdges(),k=0;k<T.length;k++)x=T[k];for(var E,S=this.graphManager.getRoot().getNodes(),k=0;k<S.length;k++)E=S[k];this.update(this.graphManager.getRoot())}},m.prototype.update=function(x){if(x==null)this.update2();else if(x instanceof u){var T=x;if(T.getChild()!=null)for(var k=T.getChild().getNodes(),E=0;E<k.length;E++)update(k[E]);if(T.vGraphObject!=null){var S=T.vGraphObject;S.update(T)}}else if(x instanceof h){var L=x;if(L.vGraphObject!=null){var b=L.vGraphObject;b.update(L)}}else if(x instanceof d){var y=x;if(y.vGraphObject!=null){var v=y.vGraphObject;v.update(y)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(x){if(x==null)this.transform(new p(0,0));else{var T=new g,k=this.graphManager.getRoot().updateLeftTop();if(k!=null){T.setWorldOrgX(x.x),T.setWorldOrgY(x.y),T.setDeviceOrgX(k.x),T.setDeviceOrgY(k.y);for(var E=this.getAllNodes(),S,L=0;L<E.length;L++)S=E[L],S.transform(T)}}},m.prototype.positionNodesRandomly=function(x){if(x==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var T,k,E=x.getNodes(),S=0;S<E.length;S++)T=E[S],k=T.getChild(),k==null||k.getNodes().length==0?T.scatter():(this.positionNodesRandomly(k),T.updateBounds())},m.prototype.getFlatForest=function(){for(var x=[],T=!0,k=this.graphManager.getRoot().getNodes(),E=!0,S=0;S<k.length;S++)k[S].getChild()!=null&&(E=!1);if(!E)return x;var L=new Set,b=[],y=new Map,v=[];for(v=v.concat(k);v.length>0&&T;){for(b.push(v[0]);b.length>0&&T;){var w=b[0];b.splice(0,1),L.add(w);for(var C=w.getEdges(),S=0;S<C.length;S++){var A=C[S].getOtherEnd(w);if(y.get(w)!=A)if(!L.has(A))b.push(A),y.set(A,w);else{T=!1;break}}}if(!T)x=[];else{var M=[].concat(a(L));x.push(M);for(var S=0;S<M.length;S++){var N=M[S],O=v.indexOf(N);O>-1&&v.splice(O,1)}L=new Set,y=new Map}}return x},m.prototype.createDummyNodesForBendpoints=function(x){for(var T=[],k=x.source,E=this.graphManager.calcLowestCommonAncestor(x.source,x.target),S=0;S<x.bendpoints.length;S++){var L=this.newNode(null);L.setRect(new Point(0,0),new Dimension(1,1)),E.add(L);var b=this.newEdge(null);this.graphManager.add(b,k,L),T.add(L),k=L}var b=this.newEdge(null);return this.graphManager.add(b,k,x.target),this.edgeToDummyNodes.set(x,T),x.isInterGraph()?this.graphManager.remove(x):E.remove(x),T},m.prototype.createBendpointsFromDummyNodes=function(){var x=[];x=x.concat(this.graphManager.getAllEdges()),x=[].concat(a(this.edgeToDummyNodes.keys())).concat(x);for(var T=0;T<x.length;T++){var k=x[T];if(k.bendpoints.length>0){for(var E=this.edgeToDummyNodes.get(k),S=0;S<E.length;S++){var L=E[S],b=new p(L.getCenterX(),L.getCenterY()),y=k.bendpoints.get(S);y.x=b.x,y.y=b.y,L.getOwner().remove(L)}this.graphManager.add(k,k.source,k.target)}}},m.transform=function(x,T,k,E){if(k!=null&&E!=null){var S=T;if(x<=50){var L=T/k;S-=(T-L)/50*(50-x)}else{var b=T*E;S+=(b-T)/50*(x-50)}return S}else{var y,v;return x<=50?(y=9*T/500,v=T/10):(y=9*T/50,v=-8*T),y*x+v}},m.findCenterOfTree=function(x){var T=[];T=T.concat(x);var k=[],E=new Map,S=!1,L=null;(T.length==1||T.length==2)&&(S=!0,L=T[0]);for(var b=0;b<T.length;b++){var y=T[b],v=y.getNeighborsList().size;E.set(y,y.getNeighborsList().size),v==1&&k.push(y)}var w=[];for(w=w.concat(k);!S;){var C=[];C=C.concat(w),w=[];for(var b=0;b<T.length;b++){var y=T[b],A=T.indexOf(y);A>=0&&T.splice(A,1);var M=y.getNeighborsList();M.forEach(function(_){if(k.indexOf(_)<0){var I=E.get(_),R=I-1;R==1&&w.push(_),E.set(_,R)}})}k=k.concat(w),(T.length==1||T.length==2)&&(S=!0,L=T[0])}return L},m.prototype.setGraphManager=function(x){this.graphManager=x},r.exports=m}),(function(r,i,n){"use strict";function a(){}l(a,"RandomSeed"),a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},r.exports=a}),(function(r,i,n){"use strict";var a=n(5);function s(o,u){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}l(s,"Transform"),s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(o){this.lworldExtX=o},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(o){this.lworldExtY=o},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},s.prototype.transformX=function(o){var u=0,h=this.lworldExtX;return h!=0&&(u=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/h),u},s.prototype.transformY=function(o){var u=0,h=this.lworldExtY;return h!=0&&(u=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/h),u},s.prototype.inverseTransformX=function(o){var u=0,h=this.ldeviceExtX;return h!=0&&(u=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/h),u},s.prototype.inverseTransformY=function(o){var u=0,h=this.ldeviceExtY;return h!=0&&(u=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/h),u},s.prototype.inverseTransformPoint=function(o){var u=new a(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return u},r.exports=s}),(function(r,i,n){"use strict";function a(f){if(Array.isArray(f)){for(var m=0,x=Array(f.length);m<f.length;m++)x[m]=f[m];return x}else return Array.from(f)}l(a,"_toConsumableArray");var s=n(15),o=n(4),u=n(0),h=n(8),d=n(9);function p(){s.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l(p,"FDLayout"),p.prototype=Object.create(s.prototype);for(var g in s)p[g]=s[g];p.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},p.prototype.calcIdealEdgeLengths=function(){for(var f,m,x,T,k,E,S,L=this.getGraphManager().getAllEdges(),b=0;b<L.length;b++)f=L[b],m=f.idealLength,f.isInterGraph&&(T=f.getSource(),k=f.getTarget(),E=f.getSourceInLca().getEstimatedSize(),S=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=E+S-2*u.SIMPLE_NODE_SIZE),x=f.getLca().getInclusionTreeDepth(),f.idealLength+=m*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(T.getInclusionTreeDepth()+k.getInclusionTreeDepth()-2*x))},p.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},p.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),m,x=0;x<f.length;x++)m=f[x],this.calcSpringForce(m,m.idealLength)},p.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x,T,k,E,S=this.getAllNodes(),L;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),L=new Set,x=0;x<S.length;x++)k=S[x],this.calculateRepulsionForceOfANode(k,L,f,m),L.add(k);else for(x=0;x<S.length;x++)for(k=S[x],T=x+1;T<S.length;T++)E=S[T],k.getOwner()==E.getOwner()&&this.calcRepulsionForce(k,E)},p.prototype.calcGravitationalForces=function(){for(var f,m=this.getAllNodesToApplyGravitation(),x=0;x<m.length;x++)f=m[x],this.calcGravitationalForce(f)},p.prototype.moveNodes=function(){for(var f=this.getAllNodes(),m,x=0;x<f.length;x++)m=f[x],m.move()},p.prototype.calcSpringForce=function(f,m){var x=f.getSource(),T=f.getTarget(),k,E,S,L;if(this.uniformLeafNodeSizes&&x.getChild()==null&&T.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;k=f.getLength(),k!=0&&(E=f.edgeElasticity*(k-m),S=E*(f.lengthX/k),L=E*(f.lengthY/k),x.springForceX+=S,x.springForceY+=L,T.springForceX-=S,T.springForceY-=L)},p.prototype.calcRepulsionForce=function(f,m){var x=f.getRect(),T=m.getRect(),k=new Array(2),E=new Array(4),S,L,b,y,v,w,C;if(x.intersects(T)){h.calcSeparationAmount(x,T,k,o.DEFAULT_EDGE_LENGTH/2),w=2*k[0],C=2*k[1];var A=f.noOfChildren*m.noOfChildren/(f.noOfChildren+m.noOfChildren);f.repulsionForceX-=A*w,f.repulsionForceY-=A*C,m.repulsionForceX+=A*w,m.repulsionForceY+=A*C}else this.uniformLeafNodeSizes&&f.getChild()==null&&m.getChild()==null?(S=T.getCenterX()-x.getCenterX(),L=T.getCenterY()-x.getCenterY()):(h.getIntersection(x,T,E),S=E[2]-E[0],L=E[3]-E[1]),Math.abs(S)<o.MIN_REPULSION_DIST&&(S=d.sign(S)*o.MIN_REPULSION_DIST),Math.abs(L)<o.MIN_REPULSION_DIST&&(L=d.sign(L)*o.MIN_REPULSION_DIST),b=S*S+L*L,y=Math.sqrt(b),v=(f.nodeRepulsion/2+m.nodeRepulsion/2)*f.noOfChildren*m.noOfChildren/b,w=v*S/y,C=v*L/y,f.repulsionForceX-=w,f.repulsionForceY-=C,m.repulsionForceX+=w,m.repulsionForceY+=C},p.prototype.calcGravitationalForce=function(f){var m,x,T,k,E,S,L,b;m=f.getOwner(),x=(m.getRight()+m.getLeft())/2,T=(m.getTop()+m.getBottom())/2,k=f.getCenterX()-x,E=f.getCenterY()-T,S=Math.abs(k)+f.getWidth()/2,L=Math.abs(E)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(b=m.getEstimatedSize()*this.gravityRangeFactor,(S>b||L>b)&&(f.gravitationForceX=-this.gravityConstant*k,f.gravitationForceY=-this.gravityConstant*E)):(b=m.getEstimatedSize()*this.compoundGravityRangeFactor,(S>b||L>b)&&(f.gravitationForceX=-this.gravityConstant*k*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*E*this.compoundGravityConstant))},p.prototype.isConverged=function(){var f,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||m},p.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},p.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,m=this.graphManager.getAllNodes(),x=0;x<m.length;x++)f=m[x],f.noOfChildren=f.getNoOfChildren()},p.prototype.calcGrid=function(f){var m=0,x=0;m=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),x=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var T=new Array(m),k=0;k<m;k++)T[k]=new Array(x);for(var k=0;k<m;k++)for(var E=0;E<x;E++)T[k][E]=new Array;return T},p.prototype.addNodeToGrid=function(f,m,x){var T=0,k=0,E=0,S=0;T=parseInt(Math.floor((f.getRect().x-m)/this.repulsionRange)),k=parseInt(Math.floor((f.getRect().width+f.getRect().x-m)/this.repulsionRange)),E=parseInt(Math.floor((f.getRect().y-x)/this.repulsionRange)),S=parseInt(Math.floor((f.getRect().height+f.getRect().y-x)/this.repulsionRange));for(var L=T;L<=k;L++)for(var b=E;b<=S;b++)this.grid[L][b].push(f),f.setGridCoordinates(T,k,E,S)},p.prototype.updateGrid=function(){var f,m,x=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<x.length;f++)m=x[f],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},p.prototype.calculateRepulsionForceOfANode=function(f,m,x,T){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&x||T){var k=new Set;f.surrounding=new Array;for(var E,S=this.grid,L=f.startX-1;L<f.finishX+2;L++)for(var b=f.startY-1;b<f.finishY+2;b++)if(!(L<0||b<0||L>=S.length||b>=S[0].length)){for(var y=0;y<S[L][b].length;y++)if(E=S[L][b][y],!(f.getOwner()!=E.getOwner()||f==E)&&!m.has(E)&&!k.has(E)){var v=Math.abs(f.getCenterX()-E.getCenterX())-(f.getWidth()/2+E.getWidth()/2),w=Math.abs(f.getCenterY()-E.getCenterY())-(f.getHeight()/2+E.getHeight()/2);v<=this.repulsionRange&&w<=this.repulsionRange&&k.add(E)}}f.surrounding=[].concat(a(k))}for(L=0;L<f.surrounding.length;L++)this.calcRepulsionForce(f,f.surrounding[L])},p.prototype.calcRepulsionRange=function(){return 0},r.exports=p}),(function(r,i,n){"use strict";var a=n(1),s=n(4);function o(h,d,p){a.call(this,h,d,p),this.idealLength=s.DEFAULT_EDGE_LENGTH,this.edgeElasticity=s.DEFAULT_SPRING_STRENGTH}l(o,"FDLayoutEdge"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];r.exports=o}),(function(r,i,n){"use strict";var a=n(3),s=n(4);function o(h,d,p,g){a.call(this,h,d,p,g),this.nodeRepulsion=s.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}l(o,"FDLayoutNode"),o.prototype=Object.create(a.prototype);for(var u in a)o[u]=a[u];o.prototype.setGridCoordinates=function(h,d,p,g){this.startX=h,this.finishX=d,this.startY=p,this.finishY=g},r.exports=o}),(function(r,i,n){"use strict";function a(s,o){this.width=0,this.height=0,s!==null&&o!==null&&(this.height=o,this.width=s)}l(a,"DimensionD"),a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},r.exports=a}),(function(r,i,n){"use strict";var a=n(14);function s(){this.map={},this.keys=[]}l(s,"HashMap"),s.prototype.put=function(o,u){var h=a.createID(o);this.contains(h)||(this.map[h]=u,this.keys.push(o))},s.prototype.contains=function(o){var u=a.createID(o);return this.map[o]!=null},s.prototype.get=function(o){var u=a.createID(o);return this.map[u]},s.prototype.keySet=function(){return this.keys},r.exports=s}),(function(r,i,n){"use strict";var a=n(14);function s(){this.set={}}l(s,"HashSet"),s.prototype.add=function(o){var u=a.createID(o);this.contains(u)||(this.set[u]=o)},s.prototype.remove=function(o){delete this.set[a.createID(o)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(o){return this.set[a.createID(o)]==o},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(o){for(var u=Object.keys(this.set),h=u.length,d=0;d<h;d++)o.push(this.set[u[d]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(o){for(var u=o.length,h=0;h<u;h++){var d=o[h];this.add(d)}},r.exports=s}),(function(r,i,n){"use strict";function a(){}l(a,"Matrix"),a.multMat=function(s,o){for(var u=[],h=0;h<s.length;h++){u[h]=[];for(var d=0;d<o[0].length;d++){u[h][d]=0;for(var p=0;p<s[0].length;p++)u[h][d]+=s[h][p]*o[p][d]}}return u},a.transpose=function(s){for(var o=[],u=0;u<s[0].length;u++){o[u]=[];for(var h=0;h<s.length;h++)o[u][h]=s[h][u]}return o},a.multCons=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]*o;return u},a.minusOp=function(s,o){for(var u=[],h=0;h<s.length;h++)u[h]=s[h]-o[h];return u},a.dotProduct=function(s,o){for(var u=0,h=0;h<s.length;h++)u+=s[h]*o[h];return u},a.mag=function(s){return Math.sqrt(this.dotProduct(s,s))},a.normalize=function(s){for(var o=[],u=this.mag(s),h=0;h<s.length;h++)o[h]=s[h]/u;return o},a.multGamma=function(s){for(var o=[],u=0,h=0;h<s.length;h++)u+=s[h];u*=-1/s.length;for(var d=0;d<s.length;d++)o[d]=u+s[d];return o},a.multL=function(s,o,u){for(var h=[],d=[],p=[],g=0;g<o[0].length;g++){for(var f=0,m=0;m<o.length;m++)f+=-.5*o[m][g]*s[m];d[g]=f}for(var x=0;x<u.length;x++){for(var T=0,k=0;k<u.length;k++)T+=u[x][k]*d[k];p[x]=T}for(var E=0;E<o.length;E++){for(var S=0,L=0;L<o[0].length;L++)S+=o[E][L]*p[L];h[E]=S}return h},r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function h(d,p){for(var g=0;g<p.length;g++){var f=p[g];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return l(h,"defineProperties"),function(d,p,g){return p&&h(d.prototype,p),g&&h(d,g),d}})();function s(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=n(11),u=(function(){function h(d,p){s(this,h),(p!==null||p!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var g=void 0;d instanceof o?g=d.size():g=d.length,this._quicksort(d,0,g-1)}return l(h,"Quicksort"),a(h,[{key:"_quicksort",value:l(function(d,p,g){if(p<g){var f=this._partition(d,p,g);this._quicksort(d,p,f),this._quicksort(d,f+1,g)}},"_quicksort")},{key:"_partition",value:l(function(d,p,g){for(var f=this._get(d,p),m=p,x=g;;){for(;this.compareFunction(f,this._get(d,x));)x--;for(;this.compareFunction(this._get(d,m),f);)m++;if(m<x)this._swap(d,m,x),m++,x--;else return x}},"_partition")},{key:"_get",value:l(function(d,p){return d instanceof o?d.get_object_at(p):d[p]},"_get")},{key:"_set",value:l(function(d,p,g){d instanceof o?d.set_object_at(p,g):d[p]=g},"_set")},{key:"_swap",value:l(function(d,p,g){var f=this._get(d,p);this._set(d,p,this._get(d,g)),this._set(d,g,f)},"_swap")},{key:"_defaultCompareFunction",value:l(function(d,p){return p>d},"_defaultCompareFunction")}]),h})();r.exports=u}),(function(r,i,n){"use strict";function a(){}l(a,"SVD"),a.svd=function(s){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=s.length,this.n=s[0].length;var o=Math.min(this.m,this.n);this.s=(function(yt){for(var Je=[];yt-- >0;)Je.push(0);return Je})(Math.min(this.m+1,this.n)),this.U=(function(yt){var Je=l(function Qe(Lt){if(Lt.length==0)return 0;for(var Vt=[],$t=0;$t<Lt[0];$t++)Vt.push(Qe(Lt.slice(1)));return Vt},"allocate");return Je(yt)})([this.m,o]),this.V=(function(yt){var Je=l(function Qe(Lt){if(Lt.length==0)return 0;for(var Vt=[],$t=0;$t<Lt[0];$t++)Vt.push(Qe(Lt.slice(1)));return Vt},"allocate");return Je(yt)})([this.n,this.n]);for(var u=(function(yt){for(var Je=[];yt-- >0;)Je.push(0);return Je})(this.n),h=(function(yt){for(var Je=[];yt-- >0;)Je.push(0);return Je})(this.m),d=!0,p=!0,g=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),m=0;m<Math.max(g,f);m++){if(m<g){this.s[m]=0;for(var x=m;x<this.m;x++)this.s[m]=a.hypot(this.s[m],s[x][m]);if(this.s[m]!==0){s[m][m]<0&&(this.s[m]=-this.s[m]);for(var T=m;T<this.m;T++)s[T][m]/=this.s[m];s[m][m]+=1}this.s[m]=-this.s[m]}for(var k=m+1;k<this.n;k++){if((function(yt,Je){return yt&&Je})(m<g,this.s[m]!==0)){for(var E=0,S=m;S<this.m;S++)E+=s[S][m]*s[S][k];E=-E/s[m][m];for(var L=m;L<this.m;L++)s[L][k]+=E*s[L][m]}u[k]=s[m][k]}if((function(yt,Je){return yt&&Je})(d,m<g))for(var b=m;b<this.m;b++)this.U[b][m]=s[b][m];if(m<f){u[m]=0;for(var y=m+1;y<this.n;y++)u[m]=a.hypot(u[m],u[y]);if(u[m]!==0){u[m+1]<0&&(u[m]=-u[m]);for(var v=m+1;v<this.n;v++)u[v]/=u[m];u[m+1]+=1}if(u[m]=-u[m],(function(yt,Je){return yt&&Je})(m+1<this.m,u[m]!==0)){for(var w=m+1;w<this.m;w++)h[w]=0;for(var C=m+1;C<this.n;C++)for(var A=m+1;A<this.m;A++)h[A]+=u[C]*s[A][C];for(var M=m+1;M<this.n;M++)for(var N=-u[M]/u[m+1],O=m+1;O<this.m;O++)s[O][M]+=N*h[O]}if(p)for(var _=m+1;_<this.n;_++)this.V[_][m]=u[_]}}var I=Math.min(this.n,this.m+1);if(g<this.n&&(this.s[g]=s[g][g]),this.m<I&&(this.s[I-1]=0),f+1<I&&(u[f]=s[f][I-1]),u[I-1]=0,d){for(var R=g;R<o;R++){for(var P=0;P<this.m;P++)this.U[P][R]=0;this.U[R][R]=1}for(var D=g-1;D>=0;D--)if(this.s[D]!==0){for(var $=D+1;$<o;$++){for(var F=0,z=D;z<this.m;z++)F+=this.U[z][D]*this.U[z][$];F=-F/this.U[D][D];for(var U=D;U<this.m;U++)this.U[U][$]+=F*this.U[U][D]}for(var j=D;j<this.m;j++)this.U[j][D]=-this.U[j][D];this.U[D][D]=1+this.U[D][D];for(var H=0;H<D-1;H++)this.U[H][D]=0}else{for(var Q=0;Q<this.m;Q++)this.U[Q][D]=0;this.U[D][D]=1}}if(p)for(var re=this.n-1;re>=0;re--){if((function(yt,Je){return yt&&Je})(re<f,u[re]!==0))for(var le=re+1;le<o;le++){for(var oe=0,W=re+1;W<this.n;W++)oe+=this.V[W][re]*this.V[W][le];oe=-oe/this.V[re+1][re];for(var J=re+1;J<this.n;J++)this.V[J][le]+=oe*this.V[J][re]}for(var Y=0;Y<this.n;Y++)this.V[Y][re]=0;this.V[re][re]=1}for(var X=I-1,te=0,ce=Math.pow(2,-52),K=Math.pow(2,-966);I>0;){var me=void 0,Z=void 0;for(me=I-2;me>=-1&&me!==-1;me--)if(Math.abs(u[me])<=K+ce*(Math.abs(this.s[me])+Math.abs(this.s[me+1]))){u[me]=0;break}if(me===I-2)Z=4;else{var Ae=void 0;for(Ae=I-1;Ae>=me&&Ae!==me;Ae--){var he=(Ae!==I?Math.abs(u[Ae]):0)+(Ae!==me+1?Math.abs(u[Ae-1]):0);if(Math.abs(this.s[Ae])<=K+ce*he){this.s[Ae]=0;break}}Ae===me?Z=3:Ae===I-1?Z=1:(Z=2,me=Ae)}switch(me++,Z){case 1:{var Ne=u[I-2];u[I-2]=0;for(var Pe=I-2;Pe>=me;Pe--){var He=a.hypot(this.s[Pe],Ne),qe=this.s[Pe]/He,_e=Ne/He;if(this.s[Pe]=He,Pe!==me&&(Ne=-_e*u[Pe-1],u[Pe-1]=qe*u[Pe-1]),p)for(var De=0;De<this.n;De++)He=qe*this.V[De][Pe]+_e*this.V[De][I-1],this.V[De][I-1]=-_e*this.V[De][Pe]+qe*this.V[De][I-1],this.V[De][Pe]=He}}break;case 2:{var ve=u[me-1];u[me-1]=0;for(var Be=me;Be<I;Be++){var de=a.hypot(this.s[Be],ve),Ve=this.s[Be]/de,ee=ve/de;if(this.s[Be]=de,ve=-ee*u[Be],u[Be]=Ve*u[Be],d)for(var Ie=0;Ie<this.m;Ie++)de=Ve*this.U[Ie][Be]+ee*this.U[Ie][me-1],this.U[Ie][me-1]=-ee*this.U[Ie][Be]+Ve*this.U[Ie][me-1],this.U[Ie][Be]=de}}break;case 3:{var G=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[I-1]),Math.abs(this.s[I-2])),Math.abs(u[I-2])),Math.abs(this.s[me])),Math.abs(u[me])),ie=this.s[I-1]/G,se=this.s[I-2]/G,pe=u[I-2]/G,fe=this.s[me]/G,be=u[me]/G,Se=((se+ie)*(se-ie)+pe*pe)/2,Te=ie*pe*(ie*pe),Ge=0;(function(yt,Je){return yt||Je})(Se!==0,Te!==0)&&(Ge=Math.sqrt(Se*Se+Te),Se<0&&(Ge=-Ge),Ge=Te/(Se+Ge));for(var Ye=(fe+ie)*(fe-ie)+Ge,st=fe*be,ze=me;ze<I-1;ze++){var We=a.hypot(Ye,st),je=Ye/We,Ue=st/We;if(ze!==me&&(u[ze-1]=We),Ye=je*this.s[ze]+Ue*u[ze],u[ze]=je*u[ze]-Ue*this.s[ze],st=Ue*this.s[ze+1],this.s[ze+1]=je*this.s[ze+1],p)for(var Ke=0;Ke<this.n;Ke++)We=je*this.V[Ke][ze]+Ue*this.V[Ke][ze+1],this.V[Ke][ze+1]=-Ue*this.V[Ke][ze]+je*this.V[Ke][ze+1],this.V[Ke][ze]=We;if(We=a.hypot(Ye,st),je=Ye/We,Ue=st/We,this.s[ze]=We,Ye=je*u[ze]+Ue*this.s[ze+1],this.s[ze+1]=-Ue*u[ze]+je*this.s[ze+1],st=Ue*u[ze+1],u[ze+1]=je*u[ze+1],d&&ze<this.m-1)for(var Et=0;Et<this.m;Et++)We=je*this.U[Et][ze]+Ue*this.U[Et][ze+1],this.U[Et][ze+1]=-Ue*this.U[Et][ze]+je*this.U[Et][ze+1],this.U[Et][ze]=We}u[I-2]=Ye,te=te+1}break;case 4:{if(this.s[me]<=0&&(this.s[me]=this.s[me]<0?-this.s[me]:0,p))for(var ht=0;ht<=X;ht++)this.V[ht][me]=-this.V[ht][me];for(;me<X&&!(this.s[me]>=this.s[me+1]);){var ct=this.s[me];if(this.s[me]=this.s[me+1],this.s[me+1]=ct,p&&me<this.n-1)for(var St=0;St<this.n;St++)ct=this.V[St][me+1],this.V[St][me+1]=this.V[St][me],this.V[St][me]=ct;if(d&&me<this.m-1)for(var rt=0;rt<this.m;rt++)ct=this.U[rt][me+1],this.U[rt][me+1]=this.U[rt][me],this.U[rt][me]=ct;me++}te=0,I--}break}}var gt={U:this.U,V:this.V,S:this.s};return gt},a.hypot=function(s,o){var u=void 0;return Math.abs(s)>Math.abs(o)?(u=o/s,u=Math.abs(s)*Math.sqrt(1+u*u)):o!=0?(u=s/o,u=Math.abs(o)*Math.sqrt(1+u*u)):u=0,u},r.exports=a}),(function(r,i,n){"use strict";var a=(function(){function u(h,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}return l(u,"defineProperties"),function(h,d,p){return d&&u(h.prototype,d),p&&u(h,p),h}})();function s(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}l(s,"_classCallCheck");var o=(function(){function u(h,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,u),this.sequence1=h,this.sequence2=d,this.match_score=p,this.mismatch_penalty=g,this.gap_penalty=f,this.iMax=h.length+1,this.jMax=d.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var x=0;x<this.jMax;x++)this.grid[m][x]=0}this.tracebackGrid=new Array(this.iMax);for(var T=0;T<this.iMax;T++){this.tracebackGrid[T]=new Array(this.jMax);for(var k=0;k<this.jMax;k++)this.tracebackGrid[T][k]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return l(u,"NeedlemanWunsch"),a(u,[{key:"getScore",value:l(function(){return this.score},"getScore")},{key:"getAlignments",value:l(function(){return this.alignments},"getAlignments")},{key:"computeGrids",value:l(function(){for(var h=1;h<this.jMax;h++)this.grid[0][h]=this.grid[0][h-1]+this.gap_penalty,this.tracebackGrid[0][h]=[!1,!1,!0];for(var d=1;d<this.iMax;d++)this.grid[d][0]=this.grid[d-1][0]+this.gap_penalty,this.tracebackGrid[d][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var g=1;g<this.jMax;g++){var f=void 0;this.sequence1[p-1]===this.sequence2[g-1]?f=this.grid[p-1][g-1]+this.match_score:f=this.grid[p-1][g-1]+this.mismatch_penalty;var m=this.grid[p-1][g]+this.gap_penalty,x=this.grid[p][g-1]+this.gap_penalty,T=[f,m,x],k=this.arrayAllMaxIndexes(T);this.grid[p][g]=T[k[0]],this.tracebackGrid[p][g]=[k.includes(0),k.includes(1),k.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]},"computeGrids")},{key:"alignmentTraceback",value:l(function(){var h=[];for(h.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});h[0];){var d=h[0],p=this.tracebackGrid[d.pos[0]][d.pos[1]];p[0]&&h.push({pos:[d.pos[0]-1,d.pos[1]-1],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),p[1]&&h.push({pos:[d.pos[0]-1,d.pos[1]],seq1:this.sequence1[d.pos[0]-1]+d.seq1,seq2:"-"+d.seq2}),p[2]&&h.push({pos:[d.pos[0],d.pos[1]-1],seq1:"-"+d.seq1,seq2:this.sequence2[d.pos[1]-1]+d.seq2}),d.pos[0]===0&&d.pos[1]===0&&this.alignments.push({sequence1:d.seq1,sequence2:d.seq2}),h.shift()}return this.alignments},"alignmentTraceback")},{key:"getAllIndexes",value:l(function(h,d){for(var p=[],g=-1;(g=h.indexOf(d,g+1))!==-1;)p.push(g);return p},"getAllIndexes")},{key:"arrayAllMaxIndexes",value:l(function(h){return this.getAllIndexes(h,Math.max.apply(null,h))},"arrayAllMaxIndexes")}]),u})();r.exports=o}),(function(r,i,n){"use strict";var a=l(function(){},"layoutBase");a.FDLayout=n(18),a.FDLayoutConstants=n(4),a.FDLayoutEdge=n(19),a.FDLayoutNode=n(20),a.DimensionD=n(21),a.HashMap=n(22),a.HashSet=n(23),a.IGeometry=n(8),a.IMath=n(9),a.Integer=n(10),a.Point=n(12),a.PointD=n(5),a.RandomSeed=n(16),a.RectangleD=n(13),a.Transform=n(17),a.UniqueIDGeneretor=n(14),a.Quicksort=n(25),a.LinkedList=n(11),a.LGraphObject=n(2),a.LGraph=n(6),a.LEdge=n(1),a.LGraphManager=n(7),a.LNode=n(3),a.Layout=n(15),a.LayoutConstants=n(0),a.NeedlemanWunsch=n(27),a.Matrix=n(24),a.SVD=n(26),r.exports=a}),(function(r,i,n){"use strict";function a(){this.listeners=[]}l(a,"Emitter");var s=a.prototype;s.addListener=function(o,u){this.listeners.push({event:o,callback:u})},s.removeListener=function(o,u){for(var h=this.listeners.length;h>=0;h--){var d=this.listeners[h];d.event===o&&d.callback===u&&this.listeners.splice(h,1)}},s.emit=function(o,u){for(var h=0;h<this.listeners.length;h++){var d=this.listeners[h];o===d.event&&d.callback(u)}},r.exports=a})])})}),hze=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(uze()):typeof define=="function"&&define.amd?define(["layout-base"],i):typeof e=="object"?e.coseBase=i(uze()):r.coseBase=i(r.layoutBase)}),"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var i={45:((o,u,h)=>{var d={};d.layoutBase=h(551),d.CoSEConstants=h(806),d.CoSEEdge=h(767),d.CoSEGraph=h(880),d.CoSEGraphManager=h(578),d.CoSELayout=h(765),d.CoSENode=h(991),d.ConstraintHandler=h(902),o.exports=d}),806:((o,u,h)=>{var d=h(551).FDLayoutConstants;function p(){}l(p,"CoSEConstants");for(var g in d)p[g]=d[g];p.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,p.DEFAULT_RADIAL_SEPARATION=d.DEFAULT_EDGE_LENGTH,p.DEFAULT_COMPONENT_SEPERATION=60,p.TILE=!0,p.TILING_PADDING_VERTICAL=10,p.TILING_PADDING_HORIZONTAL=10,p.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,p.ENFORCE_CONSTRAINTS=!0,p.APPLY_LAYOUT=!0,p.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,p.TREE_REDUCTION_ON_INCREMENTAL=!0,p.PURE_INCREMENTAL=p.DEFAULT_INCREMENTAL,o.exports=p}),767:((o,u,h)=>{var d=h(551).FDLayoutEdge;function p(f,m,x){d.call(this,f,m,x)}l(p,"CoSEEdge"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),880:((o,u,h)=>{var d=h(551).LGraph;function p(f,m,x){d.call(this,f,m,x)}l(p,"CoSEGraph"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),578:((o,u,h)=>{var d=h(551).LGraphManager;function p(f){d.call(this,f)}l(p,"CoSEGraphManager"),p.prototype=Object.create(d.prototype);for(var g in d)p[g]=d[g];o.exports=p}),765:((o,u,h)=>{var d=h(551).FDLayout,p=h(578),g=h(880),f=h(991),m=h(767),x=h(806),T=h(902),k=h(551).FDLayoutConstants,E=h(551).LayoutConstants,S=h(551).Point,L=h(551).PointD,b=h(551).DimensionD,y=h(551).Layout,v=h(551).Integer,w=h(551).IGeometry,C=h(551).LGraph,A=h(551).Transform,M=h(551).LinkedList;function N(){d.call(this),this.toBeTiled={},this.constraints={}}l(N,"CoSELayout"),N.prototype=Object.create(d.prototype);for(var O in d)N[O]=d[O];N.prototype.newGraphManager=function(){var _=new p(this);return this.graphManager=_,_},N.prototype.newGraph=function(_){return new g(null,this.graphManager,_)},N.prototype.newNode=function(_){return new f(this.graphManager,_)},N.prototype.newEdge=function(_){return new m(null,null,_)},N.prototype.initParameters=function(){d.prototype.initParameters.call(this,arguments),this.isSubLayout||(x.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=x.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=x.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=k.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=k.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=k.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},N.prototype.initSpringEmbedder=function(){d.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/k.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},N.prototype.layout=function(){var _=E.DEFAULT_CREATE_BENDS_AS_NEEDED;return _&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},N.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(x.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(P){return _.has(P)});this.graphManager.setAllNodesToApplyGravitation(I)}}else{var R=this.getFlatForest();if(R.length>0)this.positionNodesRadially(R);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function($){return _.has($)});this.graphManager.setAllNodesToApplyGravitation(I),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(T.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),x.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},N.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%k.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var _=new Set(this.getAllNodes()),I=this.nodesWithGravity.filter(function(D){return _.has(D)});this.graphManager.setAllNodesToApplyGravitation(I),this.graphManager.updateBounds(),this.updateGrid(),x.PURE_INCREMENTAL?this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),x.PURE_INCREMENTAL?this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=k.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var R=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(R,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},N.prototype.getPositionsData=function(){for(var _=this.graphManager.getAllNodes(),I={},R=0;R<_.length;R++){var P=_[R].rect,D=_[R].id;I[D]={id:D,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return I},N.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var _=!1;if(k.ANIMATE==="during")this.emit("layoutstarted");else{for(;!_;)_=this.tick();this.graphManager.updateBounds()}},N.prototype.moveNodes=function(){for(var _=this.getAllNodes(),I,R=0;R<_.length;R++)I=_[R],I.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var R=0;R<_.length;R++)I=_[R],I.move()},N.prototype.initConstraintVariables=function(){var _=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var I=this.graphManager.getAllNodes(),R=0;R<I.length;R++){var P=I[R];this.idToNodeMap.set(P.id,P)}var D=l(function W(J){for(var Y=J.getChild().getNodes(),X,te=0,ce=0;ce<Y.length;ce++)X=Y[ce],X.getChild()==null?_.fixedNodeSet.has(X.id)&&(te+=100):te+=W(X);return te},"calculateCompoundWeight");if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(W){_.fixedNodeSet.add(W.nodeId)});for(var I=this.graphManager.getAllNodes(),P,R=0;R<I.length;R++)if(P=I[R],P.getChild()!=null){var $=D(P);$>0&&(P.fixedNodeWeight=$)}}if(this.constraints.relativePlacementConstraint){var F=new Map,z=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(W){_.fixedNodesOnHorizontal.add(W),_.fixedNodesOnVertical.add(W)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var U=this.constraints.alignmentConstraint.vertical,R=0;R<U.length;R++)this.dummyToNodeForVerticalAlignment.set("dummy"+R,[]),U[R].forEach(function(J){F.set(J,"dummy"+R),_.dummyToNodeForVerticalAlignment.get("dummy"+R).push(J),_.fixedNodeSet.has(J)&&_.fixedNodesOnHorizontal.add("dummy"+R)});if(this.constraints.alignmentConstraint.horizontal)for(var j=this.constraints.alignmentConstraint.horizontal,R=0;R<j.length;R++)this.dummyToNodeForHorizontalAlignment.set("dummy"+R,[]),j[R].forEach(function(J){z.set(J,"dummy"+R),_.dummyToNodeForHorizontalAlignment.get("dummy"+R).push(J),_.fixedNodeSet.has(J)&&_.fixedNodesOnVertical.add("dummy"+R)})}if(x.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(W){var J,Y,X;for(X=W.length-1;X>=2*W.length/3;X--)J=Math.floor(Math.random()*(X+1)),Y=W[X],W[X]=W[J],W[J]=Y;return W},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(W){if(W.left){var J=F.has(W.left)?F.get(W.left):W.left,Y=F.has(W.right)?F.get(W.right):W.right;_.nodesInRelativeHorizontal.includes(J)||(_.nodesInRelativeHorizontal.push(J),_.nodeToRelativeConstraintMapHorizontal.set(J,[]),_.dummyToNodeForVerticalAlignment.has(J)?_.nodeToTempPositionMapHorizontal.set(J,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(J)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(J,_.idToNodeMap.get(J).getCenterX())),_.nodesInRelativeHorizontal.includes(Y)||(_.nodesInRelativeHorizontal.push(Y),_.nodeToRelativeConstraintMapHorizontal.set(Y,[]),_.dummyToNodeForVerticalAlignment.has(Y)?_.nodeToTempPositionMapHorizontal.set(Y,_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(Y)[0]).getCenterX()):_.nodeToTempPositionMapHorizontal.set(Y,_.idToNodeMap.get(Y).getCenterX())),_.nodeToRelativeConstraintMapHorizontal.get(J).push({right:Y,gap:W.gap}),_.nodeToRelativeConstraintMapHorizontal.get(Y).push({left:J,gap:W.gap})}else{var X=z.has(W.top)?z.get(W.top):W.top,te=z.has(W.bottom)?z.get(W.bottom):W.bottom;_.nodesInRelativeVertical.includes(X)||(_.nodesInRelativeVertical.push(X),_.nodeToRelativeConstraintMapVertical.set(X,[]),_.dummyToNodeForHorizontalAlignment.has(X)?_.nodeToTempPositionMapVertical.set(X,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(X)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(X,_.idToNodeMap.get(X).getCenterY())),_.nodesInRelativeVertical.includes(te)||(_.nodesInRelativeVertical.push(te),_.nodeToRelativeConstraintMapVertical.set(te,[]),_.dummyToNodeForHorizontalAlignment.has(te)?_.nodeToTempPositionMapVertical.set(te,_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(te)[0]).getCenterY()):_.nodeToTempPositionMapVertical.set(te,_.idToNodeMap.get(te).getCenterY())),_.nodeToRelativeConstraintMapVertical.get(X).push({bottom:te,gap:W.gap}),_.nodeToRelativeConstraintMapVertical.get(te).push({top:X,gap:W.gap})}});else{var H=new Map,Q=new Map;this.constraints.relativePlacementConstraint.forEach(function(W){if(W.left){var J=F.has(W.left)?F.get(W.left):W.left,Y=F.has(W.right)?F.get(W.right):W.right;H.has(J)?H.get(J).push(Y):H.set(J,[Y]),H.has(Y)?H.get(Y).push(J):H.set(Y,[J])}else{var X=z.has(W.top)?z.get(W.top):W.top,te=z.has(W.bottom)?z.get(W.bottom):W.bottom;Q.has(X)?Q.get(X).push(te):Q.set(X,[te]),Q.has(te)?Q.get(te).push(X):Q.set(te,[X])}});var re=l(function(W,J){var Y=[],X=[],te=new M,ce=new Set,K=0;return W.forEach(function(me,Z){if(!ce.has(Z)){Y[K]=[],X[K]=!1;var Ae=Z;for(te.push(Ae),ce.add(Ae),Y[K].push(Ae);te.length!=0;){Ae=te.shift(),J.has(Ae)&&(X[K]=!0);var he=W.get(Ae);he.forEach(function(Ne){ce.has(Ne)||(te.push(Ne),ce.add(Ne),Y[K].push(Ne))})}K++}}),{components:Y,isFixed:X}},"constructComponents"),le=re(H,_.fixedNodesOnHorizontal);this.componentsOnHorizontal=le.components,this.fixedComponentsOnHorizontal=le.isFixed;var oe=re(Q,_.fixedNodesOnVertical);this.componentsOnVertical=oe.components,this.fixedComponentsOnVertical=oe.isFixed}}},N.prototype.updateDisplacements=function(){var _=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(oe){var W=_.idToNodeMap.get(oe.nodeId);W.displacementX=0,W.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var I=this.constraints.alignmentConstraint.vertical,R=0;R<I.length;R++){for(var P=0,D=0;D<I[R].length;D++){if(this.fixedNodeSet.has(I[R][D])){P=0;break}P+=this.idToNodeMap.get(I[R][D]).displacementX}for(var $=P/I[R].length,D=0;D<I[R].length;D++)this.idToNodeMap.get(I[R][D]).displacementX=$}if(this.constraints.alignmentConstraint.horizontal)for(var F=this.constraints.alignmentConstraint.horizontal,R=0;R<F.length;R++){for(var z=0,D=0;D<F[R].length;D++){if(this.fixedNodeSet.has(F[R][D])){z=0;break}z+=this.idToNodeMap.get(F[R][D]).displacementY}for(var U=z/F[R].length,D=0;D<F[R].length;D++)this.idToNodeMap.get(F[R][D]).displacementY=U}}if(this.constraints.relativePlacementConstraint)if(x.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(oe){if(!_.fixedNodesOnHorizontal.has(oe)){var W=0;_.dummyToNodeForVerticalAlignment.has(oe)?W=_.idToNodeMap.get(_.dummyToNodeForVerticalAlignment.get(oe)[0]).displacementX:W=_.idToNodeMap.get(oe).displacementX,_.nodeToRelativeConstraintMapHorizontal.get(oe).forEach(function(J){if(J.right){var Y=_.nodeToTempPositionMapHorizontal.get(J.right)-_.nodeToTempPositionMapHorizontal.get(oe)-W;Y<J.gap&&(W-=J.gap-Y)}else{var Y=_.nodeToTempPositionMapHorizontal.get(oe)-_.nodeToTempPositionMapHorizontal.get(J.left)+W;Y<J.gap&&(W+=J.gap-Y)}}),_.nodeToTempPositionMapHorizontal.set(oe,_.nodeToTempPositionMapHorizontal.get(oe)+W),_.dummyToNodeForVerticalAlignment.has(oe)?_.dummyToNodeForVerticalAlignment.get(oe).forEach(function(J){_.idToNodeMap.get(J).displacementX=W}):_.idToNodeMap.get(oe).displacementX=W}}),this.nodesInRelativeVertical.forEach(function(oe){if(!_.fixedNodesOnHorizontal.has(oe)){var W=0;_.dummyToNodeForHorizontalAlignment.has(oe)?W=_.idToNodeMap.get(_.dummyToNodeForHorizontalAlignment.get(oe)[0]).displacementY:W=_.idToNodeMap.get(oe).displacementY,_.nodeToRelativeConstraintMapVertical.get(oe).forEach(function(J){if(J.bottom){var Y=_.nodeToTempPositionMapVertical.get(J.bottom)-_.nodeToTempPositionMapVertical.get(oe)-W;Y<J.gap&&(W-=J.gap-Y)}else{var Y=_.nodeToTempPositionMapVertical.get(oe)-_.nodeToTempPositionMapVertical.get(J.top)+W;Y<J.gap&&(W+=J.gap-Y)}}),_.nodeToTempPositionMapVertical.set(oe,_.nodeToTempPositionMapVertical.get(oe)+W),_.dummyToNodeForHorizontalAlignment.has(oe)?_.dummyToNodeForHorizontalAlignment.get(oe).forEach(function(J){_.idToNodeMap.get(J).displacementY=W}):_.idToNodeMap.get(oe).displacementY=W}});else{for(var R=0;R<this.componentsOnHorizontal.length;R++){var j=this.componentsOnHorizontal[R];if(this.fixedComponentsOnHorizontal[R])for(var D=0;D<j.length;D++)this.dummyToNodeForVerticalAlignment.has(j[D])?this.dummyToNodeForVerticalAlignment.get(j[D]).forEach(function(J){_.idToNodeMap.get(J).displacementX=0}):this.idToNodeMap.get(j[D]).displacementX=0;else{for(var H=0,Q=0,D=0;D<j.length;D++)if(this.dummyToNodeForVerticalAlignment.has(j[D])){var re=this.dummyToNodeForVerticalAlignment.get(j[D]);H+=re.length*this.idToNodeMap.get(re[0]).displacementX,Q+=re.length}else H+=this.idToNodeMap.get(j[D]).displacementX,Q++;for(var le=H/Q,D=0;D<j.length;D++)this.dummyToNodeForVerticalAlignment.has(j[D])?this.dummyToNodeForVerticalAlignment.get(j[D]).forEach(function(J){_.idToNodeMap.get(J).displacementX=le}):this.idToNodeMap.get(j[D]).displacementX=le}}for(var R=0;R<this.componentsOnVertical.length;R++){var j=this.componentsOnVertical[R];if(this.fixedComponentsOnVertical[R])for(var D=0;D<j.length;D++)this.dummyToNodeForHorizontalAlignment.has(j[D])?this.dummyToNodeForHorizontalAlignment.get(j[D]).forEach(function(Y){_.idToNodeMap.get(Y).displacementY=0}):this.idToNodeMap.get(j[D]).displacementY=0;else{for(var H=0,Q=0,D=0;D<j.length;D++)if(this.dummyToNodeForHorizontalAlignment.has(j[D])){var re=this.dummyToNodeForHorizontalAlignment.get(j[D]);H+=re.length*this.idToNodeMap.get(re[0]).displacementY,Q+=re.length}else H+=this.idToNodeMap.get(j[D]).displacementY,Q++;for(var le=H/Q,D=0;D<j.length;D++)this.dummyToNodeForHorizontalAlignment.has(j[D])?this.dummyToNodeForHorizontalAlignment.get(j[D]).forEach(function(X){_.idToNodeMap.get(X).displacementY=le}):this.idToNodeMap.get(j[D]).displacementY=le}}}},N.prototype.calculateNodesToApplyGravitationTo=function(){var _=[],I,R=this.graphManager.getGraphs(),P=R.length,D;for(D=0;D<P;D++)I=R[D],I.updateConnected(),I.isConnected||(_=_.concat(I.getNodes()));return _},N.prototype.createBendpoints=function(){var _=[];_=_.concat(this.graphManager.getAllEdges());var I=new Set,R;for(R=0;R<_.length;R++){var P=_[R];if(!I.has(P)){var D=P.getSource(),$=P.getTarget();if(D==$)P.getBendpoints().push(new L),P.getBendpoints().push(new L),this.createDummyNodesForBendpoints(P),I.add(P);else{var F=[];if(F=F.concat(D.getEdgeListToNode($)),F=F.concat($.getEdgeListToNode(D)),!I.has(F[0])){if(F.length>1){var z;for(z=0;z<F.length;z++){var U=F[z];U.getBendpoints().push(new L),this.createDummyNodesForBendpoints(U)}}F.forEach(function(j){I.add(j)})}}}if(I.size==_.length)break}},N.prototype.positionNodesRadially=function(_){for(var I=new S(0,0),R=Math.ceil(Math.sqrt(_.length)),P=0,D=0,$=0,F=new L(0,0),z=0;z<_.length;z++){z%R==0&&($=0,D=P,z!=0&&(D+=x.DEFAULT_COMPONENT_SEPERATION),P=0);var U=_[z],j=y.findCenterOfTree(U);I.x=$,I.y=D,F=N.radialLayout(U,j,I),F.y>P&&(P=Math.floor(F.y)),$=Math.floor(F.x+x.DEFAULT_COMPONENT_SEPERATION)}this.transform(new L(E.WORLD_CENTER_X-F.x/2,E.WORLD_CENTER_Y-F.y/2))},N.radialLayout=function(_,I,R){var P=Math.max(this.maxDiagonalInTree(_),x.DEFAULT_RADIAL_SEPARATION);N.branchRadialLayout(I,null,0,359,0,P);var D=C.calculateBounds(_),$=new A;$.setDeviceOrgX(D.getMinX()),$.setDeviceOrgY(D.getMinY()),$.setWorldOrgX(R.x),$.setWorldOrgY(R.y);for(var F=0;F<_.length;F++){var z=_[F];z.transform($)}var U=new L(D.getMaxX(),D.getMaxY());return $.inverseTransformPoint(U)},N.branchRadialLayout=function(_,I,R,P,D,$){var F=(P-R+1)/2;F<0&&(F+=180);var z=(F+R)%360,U=z*w.TWO_PI/360,j=Math.cos(U),H=D*Math.cos(U),Q=D*Math.sin(U);_.setCenter(H,Q);var re=[];re=re.concat(_.getEdges());var le=re.length;I!=null&&le--;for(var oe=0,W=re.length,J,Y=_.getEdgesBetween(I);Y.length>1;){var X=Y[0];Y.splice(0,1);var te=re.indexOf(X);te>=0&&re.splice(te,1),W--,le--}I!=null?J=(re.indexOf(Y[0])+1)%W:J=0;for(var ce=Math.abs(P-R)/le,K=J;oe!=le;K=++K%W){var me=re[K].getOtherEnd(_);if(me!=I){var Z=(R+oe*ce)%360,Ae=(Z+ce)%360;N.branchRadialLayout(me,_,Z,Ae,D+$,$),oe++}}},N.maxDiagonalInTree=function(_){for(var I=v.MIN_VALUE,R=0;R<_.length;R++){var P=_[R],D=P.getDiagonal();D>I&&(I=D)}return I},N.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},N.prototype.groupZeroDegreeMembers=function(){var _=this,I={};this.memberGroups={},this.idToDummyNode={};for(var R=[],P=this.graphManager.getAllNodes(),D=0;D<P.length;D++){var $=P[D],F=$.getParent();this.getNodeDegreeWithChildren($)===0&&(F.id==null||!this.getToBeTiled(F))&&R.push($)}for(var D=0;D<R.length;D++){var $=R[D],z=$.getParent().id;typeof I[z]>"u"&&(I[z]=[]),I[z]=I[z].concat($)}Object.keys(I).forEach(function(U){if(I[U].length>1){var j="DummyCompound_"+U;_.memberGroups[j]=I[U];var H=I[U][0].getParent(),Q=new f(_.graphManager);Q.id=j,Q.paddingLeft=H.paddingLeft||0,Q.paddingRight=H.paddingRight||0,Q.paddingBottom=H.paddingBottom||0,Q.paddingTop=H.paddingTop||0,_.idToDummyNode[j]=Q;var re=_.getGraphManager().add(_.newGraph(),Q),le=H.getChild();le.add(Q);for(var oe=0;oe<I[U].length;oe++){var W=I[U][oe];le.remove(W),re.add(W)}}})},N.prototype.clearCompounds=function(){var _={},I={};this.performDFSOnCompounds();for(var R=0;R<this.compoundOrder.length;R++)I[this.compoundOrder[R].id]=this.compoundOrder[R],_[this.compoundOrder[R].id]=[].concat(this.compoundOrder[R].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[R].getChild()),this.compoundOrder[R].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(_,I)},N.prototype.clearZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(R){var P=_.idToDummyNode[R];if(I[R]=_.tileNodes(_.memberGroups[R],P.paddingLeft+P.paddingRight),P.rect.width=I[R].width,P.rect.height=I[R].height,P.setCenter(I[R].centerX,I[R].centerY),P.labelMarginLeft=0,P.labelMarginTop=0,x.NODE_DIMENSIONS_INCLUDE_LABELS){var D=P.rect.width,$=P.rect.height;P.labelWidth&&(P.labelPosHorizontal=="left"?(P.rect.x-=P.labelWidth,P.setWidth(D+P.labelWidth),P.labelMarginLeft=P.labelWidth):P.labelPosHorizontal=="center"&&P.labelWidth>D?(P.rect.x-=(P.labelWidth-D)/2,P.setWidth(P.labelWidth),P.labelMarginLeft=(P.labelWidth-D)/2):P.labelPosHorizontal=="right"&&P.setWidth(D+P.labelWidth)),P.labelHeight&&(P.labelPosVertical=="top"?(P.rect.y-=P.labelHeight,P.setHeight($+P.labelHeight),P.labelMarginTop=P.labelHeight):P.labelPosVertical=="center"&&P.labelHeight>$?(P.rect.y-=(P.labelHeight-$)/2,P.setHeight(P.labelHeight),P.labelMarginTop=(P.labelHeight-$)/2):P.labelPosVertical=="bottom"&&P.setHeight($+P.labelHeight))}})},N.prototype.repopulateCompounds=function(){for(var _=this.compoundOrder.length-1;_>=0;_--){var I=this.compoundOrder[_],R=I.id,P=I.paddingLeft,D=I.paddingTop,$=I.labelMarginLeft,F=I.labelMarginTop;this.adjustLocations(this.tiledMemberPack[R],I.rect.x,I.rect.y,P,D,$,F)}},N.prototype.repopulateZeroDegreeMembers=function(){var _=this,I=this.tiledZeroDegreePack;Object.keys(I).forEach(function(R){var P=_.idToDummyNode[R],D=P.paddingLeft,$=P.paddingTop,F=P.labelMarginLeft,z=P.labelMarginTop;_.adjustLocations(I[R],P.rect.x,P.rect.y,D,$,F,z)})},N.prototype.getToBeTiled=function(_){var I=_.id;if(this.toBeTiled[I]!=null)return this.toBeTiled[I];var R=_.getChild();if(R==null)return this.toBeTiled[I]=!1,!1;for(var P=R.getNodes(),D=0;D<P.length;D++){var $=P[D];if(this.getNodeDegree($)>0)return this.toBeTiled[I]=!1,!1;if($.getChild()==null){this.toBeTiled[$.id]=!1;continue}if(!this.getToBeTiled($))return this.toBeTiled[I]=!1,!1}return this.toBeTiled[I]=!0,!0},N.prototype.getNodeDegree=function(_){for(var I=_.id,R=_.getEdges(),P=0,D=0;D<R.length;D++){var $=R[D];$.getSource().id!==$.getTarget().id&&(P=P+1)}return P},N.prototype.getNodeDegreeWithChildren=function(_){var I=this.getNodeDegree(_);if(_.getChild()==null)return I;for(var R=_.getChild().getNodes(),P=0;P<R.length;P++){var D=R[P];I+=this.getNodeDegreeWithChildren(D)}return I},N.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},N.prototype.fillCompexOrderByDFS=function(_){for(var I=0;I<_.length;I++){var R=_[I];R.getChild()!=null&&this.fillCompexOrderByDFS(R.getChild().getNodes()),this.getToBeTiled(R)&&this.compoundOrder.push(R)}},N.prototype.adjustLocations=function(_,I,R,P,D,$,F){I+=P+$,R+=D+F;for(var z=I,U=0;U<_.rows.length;U++){var j=_.rows[U];I=z;for(var H=0,Q=0;Q<j.length;Q++){var re=j[Q];re.rect.x=I,re.rect.y=R,I+=re.rect.width+_.horizontalPadding,re.rect.height>H&&(H=re.rect.height)}R+=H+_.verticalPadding}},N.prototype.tileCompoundMembers=function(_,I){var R=this;this.tiledMemberPack=[],Object.keys(_).forEach(function(P){var D=I[P];if(R.tiledMemberPack[P]=R.tileNodes(_[P],D.paddingLeft+D.paddingRight),D.rect.width=R.tiledMemberPack[P].width,D.rect.height=R.tiledMemberPack[P].height,D.setCenter(R.tiledMemberPack[P].centerX,R.tiledMemberPack[P].centerY),D.labelMarginLeft=0,D.labelMarginTop=0,x.NODE_DIMENSIONS_INCLUDE_LABELS){var $=D.rect.width,F=D.rect.height;D.labelWidth&&(D.labelPosHorizontal=="left"?(D.rect.x-=D.labelWidth,D.setWidth($+D.labelWidth),D.labelMarginLeft=D.labelWidth):D.labelPosHorizontal=="center"&&D.labelWidth>$?(D.rect.x-=(D.labelWidth-$)/2,D.setWidth(D.labelWidth),D.labelMarginLeft=(D.labelWidth-$)/2):D.labelPosHorizontal=="right"&&D.setWidth($+D.labelWidth)),D.labelHeight&&(D.labelPosVertical=="top"?(D.rect.y-=D.labelHeight,D.setHeight(F+D.labelHeight),D.labelMarginTop=D.labelHeight):D.labelPosVertical=="center"&&D.labelHeight>F?(D.rect.y-=(D.labelHeight-F)/2,D.setHeight(D.labelHeight),D.labelMarginTop=(D.labelHeight-F)/2):D.labelPosVertical=="bottom"&&D.setHeight(F+D.labelHeight))}})},N.prototype.tileNodes=function(_,I){var R=this.tileNodesByFavoringDim(_,I,!0),P=this.tileNodesByFavoringDim(_,I,!1),D=this.getOrgRatio(R),$=this.getOrgRatio(P),F;return $<D?F=P:F=R,F},N.prototype.getOrgRatio=function(_){var I=_.width,R=_.height,P=I/R;return P<1&&(P=1/P),P},N.prototype.calcIdealRowWidth=function(_,I){var R=x.TILING_PADDING_VERTICAL,P=x.TILING_PADDING_HORIZONTAL,D=_.length,$=0,F=0,z=0;_.forEach(function(oe){$+=oe.getWidth(),F+=oe.getHeight(),oe.getWidth()>z&&(z=oe.getWidth())});var U=$/D,j=F/D,H=Math.pow(R-P,2)+4*(U+P)*(j+R)*D,Q=(P-R+Math.sqrt(H))/(2*(U+P)),re;I?(re=Math.ceil(Q),re==Q&&re++):re=Math.floor(Q);var le=re*(U+P)-P;return z>le&&(le=z),le+=P*2,le},N.prototype.tileNodesByFavoringDim=function(_,I,R){var P=x.TILING_PADDING_VERTICAL,D=x.TILING_PADDING_HORIZONTAL,$=x.TILING_COMPARE_BY,F={rows:[],rowWidth:[],rowHeight:[],width:0,height:I,verticalPadding:P,horizontalPadding:D,centerX:0,centerY:0};$&&(F.idealRowWidth=this.calcIdealRowWidth(_,R));var z=l(function(oe){return oe.rect.width*oe.rect.height},"getNodeArea"),U=l(function(oe,W){return z(W)-z(oe)},"areaCompareFcn");_.sort(function(oe,W){var J=U;return F.idealRowWidth?(J=$,J(oe.id,W.id)):J(oe,W)});for(var j=0,H=0,Q=0;Q<_.length;Q++){var re=_[Q];j+=re.getCenterX(),H+=re.getCenterY()}F.centerX=j/_.length,F.centerY=H/_.length;for(var Q=0;Q<_.length;Q++){var re=_[Q];if(F.rows.length==0)this.insertNodeToRow(F,re,0,I);else if(this.canAddHorizontal(F,re.rect.width,re.rect.height)){var le=F.rows.length-1;F.idealRowWidth||(le=this.getShortestRowIndex(F)),this.insertNodeToRow(F,re,le,I)}else this.insertNodeToRow(F,re,F.rows.length,I);this.shiftToLastRow(F)}return F},N.prototype.insertNodeToRow=function(_,I,R,P){var D=P;if(R==_.rows.length){var $=[];_.rows.push($),_.rowWidth.push(D),_.rowHeight.push(0)}var F=_.rowWidth[R]+I.rect.width;_.rows[R].length>0&&(F+=_.horizontalPadding),_.rowWidth[R]=F,_.width<F&&(_.width=F);var z=I.rect.height;R>0&&(z+=_.verticalPadding);var U=0;z>_.rowHeight[R]&&(U=_.rowHeight[R],_.rowHeight[R]=z,U=_.rowHeight[R]-U),_.height+=U,_.rows[R].push(I)},N.prototype.getShortestRowIndex=function(_){for(var I=-1,R=Number.MAX_VALUE,P=0;P<_.rows.length;P++)_.rowWidth[P]<R&&(I=P,R=_.rowWidth[P]);return I},N.prototype.getLongestRowIndex=function(_){for(var I=-1,R=Number.MIN_VALUE,P=0;P<_.rows.length;P++)_.rowWidth[P]>R&&(I=P,R=_.rowWidth[P]);return I},N.prototype.canAddHorizontal=function(_,I,R){if(_.idealRowWidth){var P=_.rows.length-1,D=_.rowWidth[P];return D+I+_.horizontalPadding<=_.idealRowWidth}var $=this.getShortestRowIndex(_);if($<0)return!0;var F=_.rowWidth[$];if(F+_.horizontalPadding+I<=_.width)return!0;var z=0;_.rowHeight[$]<R&&$>0&&(z=R+_.verticalPadding-_.rowHeight[$]);var U;_.width-F>=I+_.horizontalPadding?U=(_.height+z)/(F+I+_.horizontalPadding):U=(_.height+z)/_.width,z=R+_.verticalPadding;var j;return _.width<I?j=(_.height+z)/I:j=(_.height+z)/_.width,j<1&&(j=1/j),U<1&&(U=1/U),U<j},N.prototype.shiftToLastRow=function(_){var I=this.getLongestRowIndex(_),R=_.rowWidth.length-1,P=_.rows[I],D=P[P.length-1],$=D.width+_.horizontalPadding;if(_.width-_.rowWidth[R]>$&&I!=R){P.splice(-1,1),_.rows[R].push(D),_.rowWidth[I]=_.rowWidth[I]-$,_.rowWidth[R]=_.rowWidth[R]+$,_.width=_.rowWidth[instance.getLongestRowIndex(_)];for(var F=Number.MIN_VALUE,z=0;z<P.length;z++)P[z].height>F&&(F=P[z].height);I>0&&(F+=_.verticalPadding);var U=_.rowHeight[I]+_.rowHeight[R];_.rowHeight[I]=F,_.rowHeight[R]<D.height+_.verticalPadding&&(_.rowHeight[R]=D.height+_.verticalPadding);var j=_.rowHeight[I]+_.rowHeight[R];_.height+=j-U,this.shiftToLastRow(_)}},N.prototype.tilingPreLayout=function(){x.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},N.prototype.tilingPostLayout=function(){x.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},N.prototype.reduceTrees=function(){for(var _=[],I=!0,R;I;){var P=this.graphManager.getAllNodes(),D=[];I=!1;for(var $=0;$<P.length;$++)if(R=P[$],R.getEdges().length==1&&!R.getEdges()[0].isInterGraph&&R.getChild()==null){if(x.PURE_INCREMENTAL){var F=R.getEdges()[0].getOtherEnd(R),z=new b(R.getCenterX()-F.getCenterX(),R.getCenterY()-F.getCenterY());D.push([R,R.getEdges()[0],R.getOwner(),z])}else D.push([R,R.getEdges()[0],R.getOwner()]);I=!0}if(I==!0){for(var U=[],j=0;j<D.length;j++)D[j][0].getEdges().length==1&&(U.push(D[j]),D[j][0].getOwner().remove(D[j][0]));_.push(U),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=_},N.prototype.growTree=function(_){for(var I=_.length,R=_[I-1],P,D=0;D<R.length;D++)P=R[D],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);_.splice(_.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},N.prototype.findPlaceforPrunedNode=function(_){var I,R,P=_[0];if(P==_[1].source?R=_[1].target:R=_[1].source,x.PURE_INCREMENTAL)P.setCenter(R.getCenterX()+_[3].getWidth(),R.getCenterY()+_[3].getHeight());else{var D=R.startX,$=R.finishX,F=R.startY,z=R.finishY,U=0,j=0,H=0,Q=0,re=[U,H,j,Q];if(F>0)for(var le=D;le<=$;le++)re[0]+=this.grid[le][F-1].length+this.grid[le][F].length-1;if($<this.grid.length-1)for(var le=F;le<=z;le++)re[1]+=this.grid[$+1][le].length+this.grid[$][le].length-1;if(z<this.grid[0].length-1)for(var le=D;le<=$;le++)re[2]+=this.grid[le][z+1].length+this.grid[le][z].length-1;if(D>0)for(var le=F;le<=z;le++)re[3]+=this.grid[D-1][le].length+this.grid[D][le].length-1;for(var oe=v.MAX_VALUE,W,J,Y=0;Y<re.length;Y++)re[Y]<oe?(oe=re[Y],W=1,J=Y):re[Y]==oe&&W++;if(W==3&&oe==0)re[0]==0&&re[1]==0&&re[2]==0?I=1:re[0]==0&&re[1]==0&&re[3]==0?I=0:re[0]==0&&re[2]==0&&re[3]==0?I=3:re[1]==0&&re[2]==0&&re[3]==0&&(I=2);else if(W==2&&oe==0){var X=Math.floor(Math.random()*2);re[0]==0&&re[1]==0?X==0?I=0:I=1:re[0]==0&&re[2]==0?X==0?I=0:I=2:re[0]==0&&re[3]==0?X==0?I=0:I=3:re[1]==0&&re[2]==0?X==0?I=1:I=2:re[1]==0&&re[3]==0?X==0?I=1:I=3:X==0?I=2:I=3}else if(W==4&&oe==0){var X=Math.floor(Math.random()*4);I=X}else I=J;I==0?P.setCenter(R.getCenterX(),R.getCenterY()-R.getHeight()/2-k.DEFAULT_EDGE_LENGTH-P.getHeight()/2):I==1?P.setCenter(R.getCenterX()+R.getWidth()/2+k.DEFAULT_EDGE_LENGTH+P.getWidth()/2,R.getCenterY()):I==2?P.setCenter(R.getCenterX(),R.getCenterY()+R.getHeight()/2+k.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(R.getCenterX()-R.getWidth()/2-k.DEFAULT_EDGE_LENGTH-P.getWidth()/2,R.getCenterY())}},o.exports=N}),991:((o,u,h)=>{var d=h(551).FDLayoutNode,p=h(551).IMath;function g(m,x,T,k){d.call(this,m,x,T,k)}l(g,"CoSENode"),g.prototype=Object.create(d.prototype);for(var f in d)g[f]=d[f];g.prototype.calculateDisplacement=function(){var m=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=m.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=m.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementX=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementX)),Math.abs(this.displacementY)>m.coolingFactor*m.maxNodeDisplacement&&(this.displacementY=m.coolingFactor*m.maxNodeDisplacement*p.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},g.prototype.propogateDisplacementToChildren=function(m,x){for(var T=this.getChild().getNodes(),k,E=0;E<T.length;E++)k=T[E],k.getChild()==null?(k.displacementX+=m,k.displacementY+=x):k.propogateDisplacementToChildren(m,x)},g.prototype.move=function(){var m=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),m.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},g.prototype.setPred1=function(m){this.pred1=m},g.prototype.getPred1=function(){return pred1},g.prototype.getPred2=function(){return pred2},g.prototype.setNext=function(m){this.next=m},g.prototype.getNext=function(){return next},g.prototype.setProcessed=function(m){this.processed=m},g.prototype.isProcessed=function(){return processed},o.exports=g}),902:((o,u,h)=>{function d(T){if(Array.isArray(T)){for(var k=0,E=Array(T.length);k<T.length;k++)E[k]=T[k];return E}else return Array.from(T)}l(d,"_toConsumableArray");var p=h(806),g=h(551).LinkedList,f=h(551).Matrix,m=h(551).SVD;function x(){}l(x,"ConstraintHandler"),x.handleConstraints=function(T){var k={};k.fixedNodeConstraint=T.constraints.fixedNodeConstraint,k.alignmentConstraint=T.constraints.alignmentConstraint,k.relativePlacementConstraint=T.constraints.relativePlacementConstraint;for(var E=new Map,S=new Map,L=[],b=[],y=T.getAllNodes(),v=0,w=0;w<y.length;w++){var C=y[w];C.getChild()==null&&(S.set(C.id,v++),L.push(C.getCenterX()),b.push(C.getCenterY()),E.set(C.id,C))}k.relativePlacementConstraint&&k.relativePlacementConstraint.forEach(function(G){!G.gap&&G.gap!=0&&(G.left?G.gap=p.DEFAULT_EDGE_LENGTH+E.get(G.left).getWidth()/2+E.get(G.right).getWidth()/2:G.gap=p.DEFAULT_EDGE_LENGTH+E.get(G.top).getHeight()/2+E.get(G.bottom).getHeight()/2)});var A=l(function(G,ie){return{x:G.x-ie.x,y:G.y-ie.y}},"calculatePositionDiff"),M=l(function(G){var ie=0,se=0;return G.forEach(function(pe){ie+=L[S.get(pe)],se+=b[S.get(pe)]}),{x:ie/G.size,y:se/G.size}},"calculateAvgPosition"),N=l(function(G,ie,se,pe,fe){function be(je,Ue){var Ke=new Set(je),Et=!0,ht=!1,ct=void 0;try{for(var St=Ue[Symbol.iterator](),rt;!(Et=(rt=St.next()).done);Et=!0){var gt=rt.value;Ke.add(gt)}}catch(yt){ht=!0,ct=yt}finally{try{!Et&&St.return&&St.return()}finally{if(ht)throw ct}}return Ke}l(be,"setUnion");var Se=new Map;G.forEach(function(je,Ue){Se.set(Ue,0)}),G.forEach(function(je,Ue){je.forEach(function(Ke){Se.set(Ke.id,Se.get(Ke.id)+1)})});var Te=new Map,Ge=new Map,Ye=new g;Se.forEach(function(je,Ue){je==0?(Ye.push(Ue),se||(ie=="horizontal"?Te.set(Ue,S.has(Ue)?L[S.get(Ue)]:pe.get(Ue)):Te.set(Ue,S.has(Ue)?b[S.get(Ue)]:pe.get(Ue)))):Te.set(Ue,Number.NEGATIVE_INFINITY),se&&Ge.set(Ue,new Set([Ue]))}),se&&fe.forEach(function(je){var Ue=[];if(je.forEach(function(ht){se.has(ht)&&Ue.push(ht)}),Ue.length>0){var Ke=0;Ue.forEach(function(ht){ie=="horizontal"?(Te.set(ht,S.has(ht)?L[S.get(ht)]:pe.get(ht)),Ke+=Te.get(ht)):(Te.set(ht,S.has(ht)?b[S.get(ht)]:pe.get(ht)),Ke+=Te.get(ht))}),Ke=Ke/Ue.length,je.forEach(function(ht){se.has(ht)||Te.set(ht,Ke)})}else{var Et=0;je.forEach(function(ht){ie=="horizontal"?Et+=S.has(ht)?L[S.get(ht)]:pe.get(ht):Et+=S.has(ht)?b[S.get(ht)]:pe.get(ht)}),Et=Et/je.length,je.forEach(function(ht){Te.set(ht,Et)})}});for(var st=l(function(){var je=Ye.shift(),Ue=G.get(je);Ue.forEach(function(Ke){if(Te.get(Ke.id)<Te.get(je)+Ke.gap)if(se&&se.has(Ke.id)){var Et=void 0;if(ie=="horizontal"?Et=S.has(Ke.id)?L[S.get(Ke.id)]:pe.get(Ke.id):Et=S.has(Ke.id)?b[S.get(Ke.id)]:pe.get(Ke.id),Te.set(Ke.id,Et),Et<Te.get(je)+Ke.gap){var ht=Te.get(je)+Ke.gap-Et;Ge.get(je).forEach(function(ct){Te.set(ct,Te.get(ct)-ht)})}}else Te.set(Ke.id,Te.get(je)+Ke.gap);Se.set(Ke.id,Se.get(Ke.id)-1),Se.get(Ke.id)==0&&Ye.push(Ke.id),se&&Ge.set(Ke.id,be(Ge.get(je),Ge.get(Ke.id)))})},"_loop");Ye.length!=0;)st();if(se){var ze=new Set;G.forEach(function(je,Ue){je.length==0&&ze.add(Ue)});var We=[];Ge.forEach(function(je,Ue){if(ze.has(Ue)){var Ke=!1,Et=!0,ht=!1,ct=void 0;try{for(var St=je[Symbol.iterator](),rt;!(Et=(rt=St.next()).done);Et=!0){var gt=rt.value;se.has(gt)&&(Ke=!0)}}catch(Qe){ht=!0,ct=Qe}finally{try{!Et&&St.return&&St.return()}finally{if(ht)throw ct}}if(!Ke){var yt=!1,Je=void 0;We.forEach(function(Qe,Lt){Qe.has([].concat(d(je))[0])&&(yt=!0,Je=Lt)}),yt?je.forEach(function(Qe){We[Je].add(Qe)}):We.push(new Set(je))}}}),We.forEach(function(je,Ue){var Ke=Number.POSITIVE_INFINITY,Et=Number.POSITIVE_INFINITY,ht=Number.NEGATIVE_INFINITY,ct=Number.NEGATIVE_INFINITY,St=!0,rt=!1,gt=void 0;try{for(var yt=je[Symbol.iterator](),Je;!(St=(Je=yt.next()).done);St=!0){var Qe=Je.value,Lt=void 0;ie=="horizontal"?Lt=S.has(Qe)?L[S.get(Qe)]:pe.get(Qe):Lt=S.has(Qe)?b[S.get(Qe)]:pe.get(Qe);var Vt=Te.get(Qe);Lt<Ke&&(Ke=Lt),Lt>ht&&(ht=Lt),Vt<Et&&(Et=Vt),Vt>ct&&(ct=Vt)}}catch(pt){rt=!0,gt=pt}finally{try{!St&&yt.return&&yt.return()}finally{if(rt)throw gt}}var $t=(Ke+ht)/2-(Et+ct)/2,Kr=!0,ur=!1,tr=void 0;try{for(var vr=je[Symbol.iterator](),Or;!(Kr=(Or=vr.next()).done);Kr=!0){var we=Or.value;Te.set(we,Te.get(we)+$t)}}catch(pt){ur=!0,tr=pt}finally{try{!Kr&&vr.return&&vr.return()}finally{if(ur)throw tr}}})}return Te},"findAppropriatePositionForRelativePlacement"),O=l(function(G){var ie=0,se=0,pe=0,fe=0;if(G.forEach(function(Ge){Ge.left?L[S.get(Ge.left)]-L[S.get(Ge.right)]>=0?ie++:se++:b[S.get(Ge.top)]-b[S.get(Ge.bottom)]>=0?pe++:fe++}),ie>se&&pe>fe)for(var be=0;be<S.size;be++)L[be]=-1*L[be],b[be]=-1*b[be];else if(ie>se)for(var Se=0;Se<S.size;Se++)L[Se]=-1*L[Se];else if(pe>fe)for(var Te=0;Te<S.size;Te++)b[Te]=-1*b[Te]},"applyReflectionForRelativePlacement"),_=l(function(G){var ie=[],se=new g,pe=new Set,fe=0;return G.forEach(function(be,Se){if(!pe.has(Se)){ie[fe]=[];var Te=Se;for(se.push(Te),pe.add(Te),ie[fe].push(Te);se.length!=0;){Te=se.shift();var Ge=G.get(Te);Ge.forEach(function(Ye){pe.has(Ye.id)||(se.push(Ye.id),pe.add(Ye.id),ie[fe].push(Ye.id))})}fe++}}),ie},"findComponents"),I=l(function(G){var ie=new Map;return G.forEach(function(se,pe){ie.set(pe,[])}),G.forEach(function(se,pe){se.forEach(function(fe){ie.get(pe).push(fe),ie.get(fe.id).push({id:pe,gap:fe.gap,direction:fe.direction})})}),ie},"dagToUndirected"),R=l(function(G){var ie=new Map;return G.forEach(function(se,pe){ie.set(pe,[])}),G.forEach(function(se,pe){se.forEach(function(fe){ie.get(fe.id).push({id:pe,gap:fe.gap,direction:fe.direction})})}),ie},"dagToReversed"),P=[],D=[],$=!1,F=!1,z=new Set,U=new Map,j=new Map,H=[];if(k.fixedNodeConstraint&&k.fixedNodeConstraint.forEach(function(G){z.add(G.nodeId)}),k.relativePlacementConstraint&&(k.relativePlacementConstraint.forEach(function(G){G.left?(U.has(G.left)?U.get(G.left).push({id:G.right,gap:G.gap,direction:"horizontal"}):U.set(G.left,[{id:G.right,gap:G.gap,direction:"horizontal"}]),U.has(G.right)||U.set(G.right,[])):(U.has(G.top)?U.get(G.top).push({id:G.bottom,gap:G.gap,direction:"vertical"}):U.set(G.top,[{id:G.bottom,gap:G.gap,direction:"vertical"}]),U.has(G.bottom)||U.set(G.bottom,[]))}),j=I(U),H=_(j)),p.TRANSFORM_ON_CONSTRAINT_HANDLING){if(k.fixedNodeConstraint&&k.fixedNodeConstraint.length>1)k.fixedNodeConstraint.forEach(function(G,ie){P[ie]=[G.position.x,G.position.y],D[ie]=[L[S.get(G.nodeId)],b[S.get(G.nodeId)]]}),$=!0;else if(k.alignmentConstraint)(function(){var G=0;if(k.alignmentConstraint.vertical){for(var ie=k.alignmentConstraint.vertical,se=l(function(Te){var Ge=new Set;ie[Te].forEach(function(ze){Ge.add(ze)});var Ye=new Set([].concat(d(Ge)).filter(function(ze){return z.has(ze)})),st=void 0;Ye.size>0?st=L[S.get(Ye.values().next().value)]:st=M(Ge).x,ie[Te].forEach(function(ze){P[G]=[st,b[S.get(ze)]],D[G]=[L[S.get(ze)],b[S.get(ze)]],G++})},"_loop2"),pe=0;pe<ie.length;pe++)se(pe);$=!0}if(k.alignmentConstraint.horizontal){for(var fe=k.alignmentConstraint.horizontal,be=l(function(Te){var Ge=new Set;fe[Te].forEach(function(ze){Ge.add(ze)});var Ye=new Set([].concat(d(Ge)).filter(function(ze){return z.has(ze)})),st=void 0;Ye.size>0?st=L[S.get(Ye.values().next().value)]:st=M(Ge).y,fe[Te].forEach(function(ze){P[G]=[L[S.get(ze)],st],D[G]=[L[S.get(ze)],b[S.get(ze)]],G++})},"_loop3"),Se=0;Se<fe.length;Se++)be(Se);$=!0}k.relativePlacementConstraint&&(F=!0)})();else if(k.relativePlacementConstraint){for(var Q=0,re=0,le=0;le<H.length;le++)H[le].length>Q&&(Q=H[le].length,re=le);if(Q<j.size/2)O(k.relativePlacementConstraint),$=!1,F=!1;else{var oe=new Map,W=new Map,J=[];H[re].forEach(function(G){U.get(G).forEach(function(ie){ie.direction=="horizontal"?(oe.has(G)?oe.get(G).push(ie):oe.set(G,[ie]),oe.has(ie.id)||oe.set(ie.id,[]),J.push({left:G,right:ie.id})):(W.has(G)?W.get(G).push(ie):W.set(G,[ie]),W.has(ie.id)||W.set(ie.id,[]),J.push({top:G,bottom:ie.id}))})}),O(J),F=!1;var Y=N(oe,"horizontal"),X=N(W,"vertical");H[re].forEach(function(G,ie){D[ie]=[L[S.get(G)],b[S.get(G)]],P[ie]=[],Y.has(G)?P[ie][0]=Y.get(G):P[ie][0]=L[S.get(G)],X.has(G)?P[ie][1]=X.get(G):P[ie][1]=b[S.get(G)]}),$=!0}}if($){for(var te=void 0,ce=f.transpose(P),K=f.transpose(D),me=0;me<ce.length;me++)ce[me]=f.multGamma(ce[me]),K[me]=f.multGamma(K[me]);var Z=f.multMat(ce,f.transpose(K)),Ae=m.svd(Z);te=f.multMat(Ae.V,f.transpose(Ae.U));for(var he=0;he<S.size;he++){var Ne=[L[he],b[he]],Pe=[te[0][0],te[1][0]],He=[te[0][1],te[1][1]];L[he]=f.dotProduct(Ne,Pe),b[he]=f.dotProduct(Ne,He)}F&&O(k.relativePlacementConstraint)}}if(p.ENFORCE_CONSTRAINTS){if(k.fixedNodeConstraint&&k.fixedNodeConstraint.length>0){var qe={x:0,y:0};k.fixedNodeConstraint.forEach(function(G,ie){var se={x:L[S.get(G.nodeId)],y:b[S.get(G.nodeId)]},pe=G.position,fe=A(pe,se);qe.x+=fe.x,qe.y+=fe.y}),qe.x/=k.fixedNodeConstraint.length,qe.y/=k.fixedNodeConstraint.length,L.forEach(function(G,ie){L[ie]+=qe.x}),b.forEach(function(G,ie){b[ie]+=qe.y}),k.fixedNodeConstraint.forEach(function(G){L[S.get(G.nodeId)]=G.position.x,b[S.get(G.nodeId)]=G.position.y})}if(k.alignmentConstraint){if(k.alignmentConstraint.vertical)for(var _e=k.alignmentConstraint.vertical,De=l(function(G){var ie=new Set;_e[G].forEach(function(fe){ie.add(fe)});var se=new Set([].concat(d(ie)).filter(function(fe){return z.has(fe)})),pe=void 0;se.size>0?pe=L[S.get(se.values().next().value)]:pe=M(ie).x,ie.forEach(function(fe){z.has(fe)||(L[S.get(fe)]=pe)})},"_loop4"),ve=0;ve<_e.length;ve++)De(ve);if(k.alignmentConstraint.horizontal)for(var Be=k.alignmentConstraint.horizontal,de=l(function(G){var ie=new Set;Be[G].forEach(function(fe){ie.add(fe)});var se=new Set([].concat(d(ie)).filter(function(fe){return z.has(fe)})),pe=void 0;se.size>0?pe=b[S.get(se.values().next().value)]:pe=M(ie).y,ie.forEach(function(fe){z.has(fe)||(b[S.get(fe)]=pe)})},"_loop5"),Ve=0;Ve<Be.length;Ve++)de(Ve)}k.relativePlacementConstraint&&(function(){var G=new Map,ie=new Map,se=new Map,pe=new Map,fe=new Map,be=new Map,Se=new Set,Te=new Set;if(z.forEach(function(it){Se.add(it),Te.add(it)}),k.alignmentConstraint){if(k.alignmentConstraint.vertical)for(var Ge=k.alignmentConstraint.vertical,Ye=l(function(it){se.set("dummy"+it,[]),Ge[it].forEach(function(Xe){G.set(Xe,"dummy"+it),se.get("dummy"+it).push(Xe),z.has(Xe)&&Se.add("dummy"+it)}),fe.set("dummy"+it,L[S.get(Ge[it][0])])},"_loop6"),st=0;st<Ge.length;st++)Ye(st);if(k.alignmentConstraint.horizontal)for(var ze=k.alignmentConstraint.horizontal,We=l(function(it){pe.set("dummy"+it,[]),ze[it].forEach(function(Xe){ie.set(Xe,"dummy"+it),pe.get("dummy"+it).push(Xe),z.has(Xe)&&Te.add("dummy"+it)}),be.set("dummy"+it,b[S.get(ze[it][0])])},"_loop7"),je=0;je<ze.length;je++)We(je)}var Ue=new Map,Ke=new Map,Et=l(function(it){U.get(it).forEach(function(Xe){var Yt=void 0,ge=void 0;Xe.direction=="horizontal"?(Yt=G.get(it)?G.get(it):it,G.get(Xe.id)?ge={id:G.get(Xe.id),gap:Xe.gap,direction:Xe.direction}:ge=Xe,Ue.has(Yt)?Ue.get(Yt).push(ge):Ue.set(Yt,[ge]),Ue.has(ge.id)||Ue.set(ge.id,[])):(Yt=ie.get(it)?ie.get(it):it,ie.get(Xe.id)?ge={id:ie.get(Xe.id),gap:Xe.gap,direction:Xe.direction}:ge=Xe,Ke.has(Yt)?Ke.get(Yt).push(ge):Ke.set(Yt,[ge]),Ke.has(ge.id)||Ke.set(ge.id,[]))})},"_loop8"),ht=!0,ct=!1,St=void 0;try{for(var rt=U.keys()[Symbol.iterator](),gt;!(ht=(gt=rt.next()).done);ht=!0){var yt=gt.value;Et(yt)}}catch(it){ct=!0,St=it}finally{try{!ht&&rt.return&&rt.return()}finally{if(ct)throw St}}var Je=I(Ue),Qe=I(Ke),Lt=_(Je),Vt=_(Qe),$t=R(Ue),Kr=R(Ke),ur=[],tr=[];Lt.forEach(function(it,Xe){ur[Xe]=[],it.forEach(function(Yt){$t.get(Yt).length==0&&ur[Xe].push(Yt)})}),Vt.forEach(function(it,Xe){tr[Xe]=[],it.forEach(function(Yt){Kr.get(Yt).length==0&&tr[Xe].push(Yt)})});var vr=N(Ue,"horizontal",Se,fe,ur),Or=N(Ke,"vertical",Te,be,tr),we=l(function(it){se.get(it)?se.get(it).forEach(function(Xe){L[S.get(Xe)]=vr.get(it)}):L[S.get(it)]=vr.get(it)},"_loop9"),pt=!0,ot=!1,pr=void 0;try{for(var Pr=vr.keys()[Symbol.iterator](),Sr;!(pt=(Sr=Pr.next()).done);pt=!0){var Dn=Sr.value;we(Dn)}}catch(it){ot=!0,pr=it}finally{try{!pt&&Pr.return&&Pr.return()}finally{if(ot)throw pr}}var li=l(function(it){pe.get(it)?pe.get(it).forEach(function(Xe){b[S.get(Xe)]=Or.get(it)}):b[S.get(it)]=Or.get(it)},"_loop10"),hn=!0,ns=!1,Jr=void 0;try{for(var Ri=Or.keys()[Symbol.iterator](),kt;!(hn=(kt=Ri.next()).done);hn=!0){var Dn=kt.value;li(Dn)}}catch(it){ns=!0,Jr=it}finally{try{!hn&&Ri.return&&Ri.return()}finally{if(ns)throw Jr}}})()}for(var ee=0;ee<y.length;ee++){var Ie=y[ee];Ie.getChild()==null&&Ie.setCenter(L[S.get(Ie.id)],b[S.get(Ie.id)])}},o.exports=x}),551:(o=>{o.exports=r})},n={};function a(o){var u=n[o];if(u!==void 0)return u.exports;var h=n[o]={exports:{}};return i[o](h,h.exports,a),h.exports}l(a,"__webpack_require__");var s=a(45);return s})()})}),Itt=ci((e,t)=>{"use strict";l((function(r,i){typeof e=="object"&&typeof t=="object"?t.exports=i(hze()):typeof define=="function"&&define.amd?define(["cose-base"],i):typeof e=="object"?e.cytoscapeFcose=i(hze()):r.cytoscapeFcose=i(r.coseBase)}),"webpackUniversalModuleDefinition")(e,function(r){return(()=>{"use strict";var i={658:(o=>{o.exports=Object.assign!=null?Object.assign.bind(Object):function(u){for(var h=arguments.length,d=Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return d.forEach(function(g){Object.keys(g).forEach(function(f){return u[f]=g[f]})}),u}}),548:((o,u,h)=>{var d=(function(){function f(m,x){var T=[],k=!0,E=!1,S=void 0;try{for(var L=m[Symbol.iterator](),b;!(k=(b=L.next()).done)&&(T.push(b.value),!(x&&T.length===x));k=!0);}catch(y){E=!0,S=y}finally{try{!k&&L.return&&L.return()}finally{if(E)throw S}}return T}return l(f,"sliceIterator"),function(m,x){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return f(m,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=h(140).layoutBase.LinkedList,g={};g.getTopMostNodes=function(f){for(var m={},x=0;x<f.length;x++)m[f[x].id()]=!0;var T=f.filter(function(k,E){typeof k=="number"&&(k=E);for(var S=k.parent()[0];S!=null;){if(m[S.id()])return!1;S=S.parent()[0]}return!0});return T},g.connectComponents=function(f,m,x,T){var k=new p,E=new Set,S=[],L=void 0,b=void 0,y=void 0,v=!1,w=1,C=[],A=[],M=l(function(){var N=f.collection();A.push(N);var O=x[0],_=f.collection();_.merge(O).merge(O.descendants().intersection(m)),S.push(O),_.forEach(function(P){k.push(P),E.add(P),N.merge(P)});for(var I=l(function(){O=k.shift();var P=f.collection();O.neighborhood().nodes().forEach(function(z){m.intersection(O.edgesWith(z)).length>0&&P.merge(z)});for(var D=0;D<P.length;D++){var $=P[D];if(L=x.intersection($.union($.ancestors())),L!=null&&!E.has(L[0])){var F=L.union(L.descendants());F.forEach(function(z){k.push(z),E.add(z),N.merge(z),x.has(z)&&S.push(z)})}}},"_loop2");k.length!=0;)I();if(N.forEach(function(P){m.intersection(P.connectedEdges()).forEach(function(D){N.has(D.source())&&N.has(D.target())&&N.merge(D)})}),S.length==x.length&&(v=!0),!v||v&&w>1){b=S[0],y=b.connectedEdges().length,S.forEach(function(P){P.connectedEdges().length<y&&(y=P.connectedEdges().length,b=P)}),C.push(b.id());var R=f.collection();R.merge(S[0]),S.forEach(function(P){R.merge(P)}),S=[],x=x.difference(R),w++}},"_loop");do M();while(!v);return T&&C.length>0&&T.set("dummy"+(T.size+1),C),A},g.relocateComponent=function(f,m,x){if(!x.fixedNodeConstraint){var T=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,S=Number.NEGATIVE_INFINITY;if(x.quality=="draft"){var L=!0,b=!1,y=void 0;try{for(var v=m.nodeIndexes[Symbol.iterator](),w;!(L=(w=v.next()).done);L=!0){var C=w.value,A=d(C,2),M=A[0],N=A[1],O=x.cy.getElementById(M);if(O){var _=O.boundingBox(),I=m.xCoords[N]-_.w/2,R=m.xCoords[N]+_.w/2,P=m.yCoords[N]-_.h/2,D=m.yCoords[N]+_.h/2;I<T&&(T=I),R>k&&(k=R),P<E&&(E=P),D>S&&(S=D)}}}catch(j){b=!0,y=j}finally{try{!L&&v.return&&v.return()}finally{if(b)throw y}}var $=f.x-(k+T)/2,F=f.y-(S+E)/2;m.xCoords=m.xCoords.map(function(j){return j+$}),m.yCoords=m.yCoords.map(function(j){return j+F})}else{Object.keys(m).forEach(function(j){var H=m[j],Q=H.getRect().x,re=H.getRect().x+H.getRect().width,le=H.getRect().y,oe=H.getRect().y+H.getRect().height;Q<T&&(T=Q),re>k&&(k=re),le<E&&(E=le),oe>S&&(S=oe)});var z=f.x-(k+T)/2,U=f.y-(S+E)/2;Object.keys(m).forEach(function(j){var H=m[j];H.setCenter(H.getCenterX()+z,H.getCenterY()+U)})}}},g.calcBoundingBox=function(f,m,x,T){for(var k=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,S=Number.MAX_SAFE_INTEGER,L=Number.MIN_SAFE_INTEGER,b=void 0,y=void 0,v=void 0,w=void 0,C=f.descendants().not(":parent"),A=C.length,M=0;M<A;M++){var N=C[M];b=m[T.get(N.id())]-N.width()/2,y=m[T.get(N.id())]+N.width()/2,v=x[T.get(N.id())]-N.height()/2,w=x[T.get(N.id())]+N.height()/2,k>b&&(k=b),E<y&&(E=y),S>v&&(S=v),L<w&&(L=w)}var O={};return O.topLeftX=k,O.topLeftY=S,O.width=E-k,O.height=L-S,O},g.calcParentsWithoutChildren=function(f,m){var x=f.collection();return m.nodes(":parent").forEach(function(T){var k=!1;T.children().forEach(function(E){E.css("display")!="none"&&(k=!0)}),k||x.merge(T)}),x},o.exports=g}),816:((o,u,h)=>{var d=h(548),p=h(140).CoSELayout,g=h(140).CoSENode,f=h(140).layoutBase.PointD,m=h(140).layoutBase.DimensionD,x=h(140).layoutBase.LayoutConstants,T=h(140).layoutBase.FDLayoutConstants,k=h(140).CoSEConstants,E=l(function(S,L){var b=S.cy,y=S.eles,v=y.nodes(),w=y.edges(),C=void 0,A=void 0,M=void 0,N={};S.randomize&&(C=L.nodeIndexes,A=L.xCoords,M=L.yCoords);var O=l(function(z){return typeof z=="function"},"isFn"),_=l(function(z,U){return O(z)?z(U):z},"optFn"),I=d.calcParentsWithoutChildren(b,y),R=l(function z(U,j,H,Q){for(var re=j.length,le=0;le<re;le++){var oe=j[le],W=null;oe.intersection(I).length==0&&(W=oe.children());var J=void 0,Y=oe.layoutDimensions({nodeDimensionsIncludeLabels:Q.nodeDimensionsIncludeLabels});if(oe.outerWidth()!=null&&oe.outerHeight()!=null)if(Q.randomize)if(!oe.isParent())J=U.add(new g(H.graphManager,new f(A[C.get(oe.id())]-Y.w/2,M[C.get(oe.id())]-Y.h/2),new m(parseFloat(Y.w),parseFloat(Y.h))));else{var X=d.calcBoundingBox(oe,A,M,C);oe.intersection(I).length==0?J=U.add(new g(H.graphManager,new f(X.topLeftX,X.topLeftY),new m(X.width,X.height))):J=U.add(new g(H.graphManager,new f(X.topLeftX,X.topLeftY),new m(parseFloat(Y.w),parseFloat(Y.h))))}else J=U.add(new g(H.graphManager,new f(oe.position("x")-Y.w/2,oe.position("y")-Y.h/2),new m(parseFloat(Y.w),parseFloat(Y.h))));else J=U.add(new g(this.graphManager));if(J.id=oe.data("id"),J.nodeRepulsion=_(Q.nodeRepulsion,oe),J.paddingLeft=parseInt(oe.css("padding")),J.paddingTop=parseInt(oe.css("padding")),J.paddingRight=parseInt(oe.css("padding")),J.paddingBottom=parseInt(oe.css("padding")),Q.nodeDimensionsIncludeLabels&&(J.labelWidth=oe.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,J.labelHeight=oe.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,J.labelPosVertical=oe.css("text-valign"),J.labelPosHorizontal=oe.css("text-halign")),N[oe.data("id")]=J,isNaN(J.rect.x)&&(J.rect.x=0),isNaN(J.rect.y)&&(J.rect.y=0),W!=null&&W.length>0){var te=void 0;te=H.getGraphManager().add(H.newGraph(),J),z(te,W,H,Q)}}},"processChildrenList"),P=l(function(z,U,j){for(var H=0,Q=0,re=0;re<j.length;re++){var le=j[re],oe=N[le.data("source")],W=N[le.data("target")];if(oe&&W&&oe!==W&&oe.getEdgesBetween(W).length==0){var J=U.add(z.newEdge(),oe,W);J.id=le.id(),J.idealLength=_(S.idealEdgeLength,le),J.edgeElasticity=_(S.edgeElasticity,le),H+=J.idealLength,Q++}}S.idealEdgeLength!=null&&(Q>0?k.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=H/Q:O(S.idealEdgeLength)?k.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=50:k.DEFAULT_EDGE_LENGTH=T.DEFAULT_EDGE_LENGTH=S.idealEdgeLength,k.MIN_REPULSION_DIST=T.MIN_REPULSION_DIST=T.DEFAULT_EDGE_LENGTH/10,k.DEFAULT_RADIAL_SEPARATION=T.DEFAULT_EDGE_LENGTH)},"processEdges"),D=l(function(z,U){U.fixedNodeConstraint&&(z.constraints.fixedNodeConstraint=U.fixedNodeConstraint),U.alignmentConstraint&&(z.constraints.alignmentConstraint=U.alignmentConstraint),U.relativePlacementConstraint&&(z.constraints.relativePlacementConstraint=U.relativePlacementConstraint)},"processConstraints");S.nestingFactor!=null&&(k.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=T.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=S.nestingFactor),S.gravity!=null&&(k.DEFAULT_GRAVITY_STRENGTH=T.DEFAULT_GRAVITY_STRENGTH=S.gravity),S.numIter!=null&&(k.MAX_ITERATIONS=T.MAX_ITERATIONS=S.numIter),S.gravityRange!=null&&(k.DEFAULT_GRAVITY_RANGE_FACTOR=T.DEFAULT_GRAVITY_RANGE_FACTOR=S.gravityRange),S.gravityCompound!=null&&(k.DEFAULT_COMPOUND_GRAVITY_STRENGTH=T.DEFAULT_COMPOUND_GRAVITY_STRENGTH=S.gravityCompound),S.gravityRangeCompound!=null&&(k.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=T.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=S.gravityRangeCompound),S.initialEnergyOnIncremental!=null&&(k.DEFAULT_COOLING_FACTOR_INCREMENTAL=T.DEFAULT_COOLING_FACTOR_INCREMENTAL=S.initialEnergyOnIncremental),S.tilingCompareBy!=null&&(k.TILING_COMPARE_BY=S.tilingCompareBy),S.quality=="proof"?x.QUALITY=2:x.QUALITY=0,k.NODE_DIMENSIONS_INCLUDE_LABELS=T.NODE_DIMENSIONS_INCLUDE_LABELS=x.NODE_DIMENSIONS_INCLUDE_LABELS=S.nodeDimensionsIncludeLabels,k.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=!S.randomize,k.ANIMATE=T.ANIMATE=x.ANIMATE=S.animate,k.TILE=S.tile,k.TILING_PADDING_VERTICAL=typeof S.tilingPaddingVertical=="function"?S.tilingPaddingVertical.call():S.tilingPaddingVertical,k.TILING_PADDING_HORIZONTAL=typeof S.tilingPaddingHorizontal=="function"?S.tilingPaddingHorizontal.call():S.tilingPaddingHorizontal,k.DEFAULT_INCREMENTAL=T.DEFAULT_INCREMENTAL=x.DEFAULT_INCREMENTAL=!0,k.PURE_INCREMENTAL=!S.randomize,x.DEFAULT_UNIFORM_LEAF_NODE_SIZES=S.uniformNodeDimensions,S.step=="transformed"&&(k.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,k.ENFORCE_CONSTRAINTS=!1,k.APPLY_LAYOUT=!1),S.step=="enforced"&&(k.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,k.ENFORCE_CONSTRAINTS=!0,k.APPLY_LAYOUT=!1),S.step=="cose"&&(k.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,k.ENFORCE_CONSTRAINTS=!1,k.APPLY_LAYOUT=!0),S.step=="all"&&(S.randomize?k.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:k.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,k.ENFORCE_CONSTRAINTS=!0,k.APPLY_LAYOUT=!0),S.fixedNodeConstraint||S.alignmentConstraint||S.relativePlacementConstraint?k.TREE_REDUCTION_ON_INCREMENTAL=!1:k.TREE_REDUCTION_ON_INCREMENTAL=!0;var $=new p,F=$.newGraphManager();return R(F.addRoot(),d.getTopMostNodes(v),$,S),P($,F,w),D($,S),$.runLayout(),N},"coseLayout");o.exports={coseLayout:E}}),212:((o,u,h)=>{var d=(function(){function L(b,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return l(L,"defineProperties"),function(b,y,v){return y&&L(b.prototype,y),v&&L(b,v),b}})();function p(L,b){if(!(L instanceof b))throw new TypeError("Cannot call a class as a function")}l(p,"_classCallCheck");var g=h(658),f=h(548),m=h(657),x=m.spectralLayout,T=h(816),k=T.coseLayout,E=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:l(function(L){return 4500},"nodeRepulsion"),idealEdgeLength:l(function(L){return 50},"idealEdgeLength"),edgeElasticity:l(function(L){return .45},"edgeElasticity"),nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:l(function(){},"ready"),stop:l(function(){},"stop")}),S=(function(){function L(b){p(this,L),this.options=g({},E,b)}return l(L,"Layout"),d(L,[{key:"run",value:l(function(){var b=this,y=this.options,v=y.cy,w=y.eles,C=[],A=void 0,M=void 0,N=[],O=void 0,_=[];y.fixedNodeConstraint&&(!Array.isArray(y.fixedNodeConstraint)||y.fixedNodeConstraint.length==0)&&(y.fixedNodeConstraint=void 0),y.alignmentConstraint&&(y.alignmentConstraint.vertical&&(!Array.isArray(y.alignmentConstraint.vertical)||y.alignmentConstraint.vertical.length==0)&&(y.alignmentConstraint.vertical=void 0),y.alignmentConstraint.horizontal&&(!Array.isArray(y.alignmentConstraint.horizontal)||y.alignmentConstraint.horizontal.length==0)&&(y.alignmentConstraint.horizontal=void 0)),y.relativePlacementConstraint&&(!Array.isArray(y.relativePlacementConstraint)||y.relativePlacementConstraint.length==0)&&(y.relativePlacementConstraint=void 0);var I=y.fixedNodeConstraint||y.alignmentConstraint||y.relativePlacementConstraint;I&&(y.tile=!1,y.packComponents=!1);var R=void 0,P=!1;if(v.layoutUtilities&&y.packComponents&&(R=v.layoutUtilities("get"),R||(R=v.layoutUtilities()),P=!0),w.nodes().length>0)if(P){var D=f.getTopMostNodes(y.eles.nodes());if(O=f.connectComponents(v,y.eles,D),O.forEach(function(Ae){var he=Ae.boundingBox();_.push({x:he.x1+he.w/2,y:he.y1+he.h/2})}),y.randomize&&O.forEach(function(Ae){y.eles=Ae,C.push(x(y))}),y.quality=="default"||y.quality=="proof"){var $=v.collection();if(y.tile){var F=new Map,z=[],U=[],j=0,H={nodeIndexes:F,xCoords:z,yCoords:U},Q=[];if(O.forEach(function(Ae,he){Ae.edges().length==0&&(Ae.nodes().forEach(function(Ne,Pe){$.merge(Ae.nodes()[Pe]),Ne.isParent()||(H.nodeIndexes.set(Ae.nodes()[Pe].id(),j++),H.xCoords.push(Ae.nodes()[0].position().x),H.yCoords.push(Ae.nodes()[0].position().y))}),Q.push(he))}),$.length>1){var re=$.boundingBox();_.push({x:re.x1+re.w/2,y:re.y1+re.h/2}),O.push($),C.push(H);for(var le=Q.length-1;le>=0;le--)O.splice(Q[le],1),C.splice(Q[le],1),_.splice(Q[le],1)}}O.forEach(function(Ae,he){y.eles=Ae,N.push(k(y,C[he])),f.relocateComponent(_[he],N[he],y)})}else O.forEach(function(Ae,he){f.relocateComponent(_[he],C[he],y)});var oe=new Set;if(O.length>1){var W=[],J=w.filter(function(Ae){return Ae.css("display")=="none"});O.forEach(function(Ae,he){var Ne=void 0;if(y.quality=="draft"&&(Ne=C[he].nodeIndexes),Ae.nodes().not(J).length>0){var Pe={};Pe.edges=[],Pe.nodes=[];var He=void 0;Ae.nodes().not(J).forEach(function(qe){if(y.quality=="draft")if(!qe.isParent())He=Ne.get(qe.id()),Pe.nodes.push({x:C[he].xCoords[He]-qe.boundingbox().w/2,y:C[he].yCoords[He]-qe.boundingbox().h/2,width:qe.boundingbox().w,height:qe.boundingbox().h});else{var _e=f.calcBoundingBox(qe,C[he].xCoords,C[he].yCoords,Ne);Pe.nodes.push({x:_e.topLeftX,y:_e.topLeftY,width:_e.width,height:_e.height})}else N[he][qe.id()]&&Pe.nodes.push({x:N[he][qe.id()].getLeft(),y:N[he][qe.id()].getTop(),width:N[he][qe.id()].getWidth(),height:N[he][qe.id()].getHeight()})}),Ae.edges().forEach(function(qe){var _e=qe.source(),De=qe.target();if(_e.css("display")!="none"&&De.css("display")!="none")if(y.quality=="draft"){var ve=Ne.get(_e.id()),Be=Ne.get(De.id()),de=[],Ve=[];if(_e.isParent()){var ee=f.calcBoundingBox(_e,C[he].xCoords,C[he].yCoords,Ne);de.push(ee.topLeftX+ee.width/2),de.push(ee.topLeftY+ee.height/2)}else de.push(C[he].xCoords[ve]),de.push(C[he].yCoords[ve]);if(De.isParent()){var Ie=f.calcBoundingBox(De,C[he].xCoords,C[he].yCoords,Ne);Ve.push(Ie.topLeftX+Ie.width/2),Ve.push(Ie.topLeftY+Ie.height/2)}else Ve.push(C[he].xCoords[Be]),Ve.push(C[he].yCoords[Be]);Pe.edges.push({startX:de[0],startY:de[1],endX:Ve[0],endY:Ve[1]})}else N[he][_e.id()]&&N[he][De.id()]&&Pe.edges.push({startX:N[he][_e.id()].getCenterX(),startY:N[he][_e.id()].getCenterY(),endX:N[he][De.id()].getCenterX(),endY:N[he][De.id()].getCenterY()})}),Pe.nodes.length>0&&(W.push(Pe),oe.add(he))}});var Y=R.packComponents(W,y.randomize).shifts;if(y.quality=="draft")C.forEach(function(Ae,he){var Ne=Ae.xCoords.map(function(He){return He+Y[he].dx}),Pe=Ae.yCoords.map(function(He){return He+Y[he].dy});Ae.xCoords=Ne,Ae.yCoords=Pe});else{var X=0;oe.forEach(function(Ae){Object.keys(N[Ae]).forEach(function(he){var Ne=N[Ae][he];Ne.setCenter(Ne.getCenterX()+Y[X].dx,Ne.getCenterY()+Y[X].dy)}),X++})}}}else{var te=y.eles.boundingBox();if(_.push({x:te.x1+te.w/2,y:te.y1+te.h/2}),y.randomize){var ce=x(y);C.push(ce)}y.quality=="default"||y.quality=="proof"?(N.push(k(y,C[0])),f.relocateComponent(_[0],N[0],y)):f.relocateComponent(_[0],C[0],y)}var K=l(function(Ae,he){if(y.quality=="default"||y.quality=="proof"){typeof Ae=="number"&&(Ae=he);var Ne=void 0,Pe=void 0,He=Ae.data("id");return N.forEach(function(_e){He in _e&&(Ne={x:_e[He].getRect().getCenterX(),y:_e[He].getRect().getCenterY()},Pe=_e[He])}),y.nodeDimensionsIncludeLabels&&(Pe.labelWidth&&(Pe.labelPosHorizontal=="left"?Ne.x+=Pe.labelWidth/2:Pe.labelPosHorizontal=="right"&&(Ne.x-=Pe.labelWidth/2)),Pe.labelHeight&&(Pe.labelPosVertical=="top"?Ne.y+=Pe.labelHeight/2:Pe.labelPosVertical=="bottom"&&(Ne.y-=Pe.labelHeight/2))),Ne==null&&(Ne={x:Ae.position("x"),y:Ae.position("y")}),{x:Ne.x,y:Ne.y}}else{var qe=void 0;return C.forEach(function(_e){var De=_e.nodeIndexes.get(Ae.id());De!=null&&(qe={x:_e.xCoords[De],y:_e.yCoords[De]})}),qe==null&&(qe={x:Ae.position("x"),y:Ae.position("y")}),{x:qe.x,y:qe.y}}},"getPositions");if(y.quality=="default"||y.quality=="proof"||y.randomize){var me=f.calcParentsWithoutChildren(v,w),Z=w.filter(function(Ae){return Ae.css("display")=="none"});y.eles=w.not(Z),w.nodes().not(":parent").not(Z).layoutPositions(b,y,K),me.length>0&&me.forEach(function(Ae){Ae.position(K(Ae))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")},"run")}]),L})();o.exports=S}),657:((o,u,h)=>{var d=h(548),p=h(140).layoutBase.Matrix,g=h(140).layoutBase.SVD,f=l(function(m){var x=m.cy,T=m.eles,k=T.nodes(),E=T.nodes(":parent"),S=new Map,L=new Map,b=new Map,y=[],v=[],w=[],C=[],A=[],M=[],N=[],O=[],_=void 0,I=void 0,R=1e8,P=1e-9,D=m.piTol,$=m.samplingType,F=m.nodeSeparation,z=void 0,U=l(function(){for(var G=0,ie=0,se=!1;ie<z;){G=Math.floor(Math.random()*I),se=!1;for(var pe=0;pe<ie;pe++)if(C[pe]==G){se=!0;break}if(!se)C[ie]=G,ie++;else continue}},"randomSampleCR"),j=l(function(G,ie,se){for(var pe=[],fe=0,be=0,Se=0,Te=void 0,Ge=[],Ye=0,st=1,ze=0;ze<I;ze++)Ge[ze]=R;for(pe[be]=G,Ge[G]=0;be>=fe;){Se=pe[fe++];for(var We=y[Se],je=0;je<We.length;je++)Te=L.get(We[je]),Ge[Te]==R&&(Ge[Te]=Ge[Se]+1,pe[++be]=Te);M[Se][ie]=Ge[Se]*F}if(se){for(var Ue=0;Ue<I;Ue++)M[Ue][ie]<A[Ue]&&(A[Ue]=M[Ue][ie]);for(var Ke=0;Ke<I;Ke++)A[Ke]>Ye&&(Ye=A[Ke],st=Ke)}return st},"BFS"),H=l(function(G){var ie=void 0;if(G){ie=Math.floor(Math.random()*I),_=ie;for(var se=0;se<I;se++)A[se]=R;for(var pe=0;pe<z;pe++)C[pe]=ie,ie=j(ie,pe,G)}else{U();for(var fe=0;fe<z;fe++)j(C[fe],fe,G,!1)}for(var be=0;be<I;be++)for(var Se=0;Se<z;Se++)M[be][Se]*=M[be][Se];for(var Te=0;Te<z;Te++)N[Te]=[];for(var Ge=0;Ge<z;Ge++)for(var Ye=0;Ye<z;Ye++)N[Ge][Ye]=M[C[Ye]][Ge]},"allBFS"),Q=l(function(){for(var G=g.svd(N),ie=G.S,se=G.U,pe=G.V,fe=ie[0]*ie[0]*ie[0],be=[],Se=0;Se<z;Se++){be[Se]=[];for(var Te=0;Te<z;Te++)be[Se][Te]=0,Se==Te&&(be[Se][Te]=ie[Se]/(ie[Se]*ie[Se]+fe/(ie[Se]*ie[Se])))}O=p.multMat(p.multMat(pe,be),p.transpose(se))},"sample"),re=l(function(){for(var G=void 0,ie=void 0,se=[],pe=[],fe=[],be=[],Se=0;Se<I;Se++)se[Se]=Math.random(),pe[Se]=Math.random();se=p.normalize(se),pe=p.normalize(pe);for(var Te=0,Ge=P,Ye=P,st=void 0;;){Te++;for(var ze=0;ze<I;ze++)fe[ze]=se[ze];if(se=p.multGamma(p.multL(p.multGamma(fe),M,O)),G=p.dotProduct(fe,se),se=p.normalize(se),Ge=p.dotProduct(fe,se),st=Math.abs(Ge/Ye),st<=1+D&&st>=1)break;Ye=Ge}for(var We=0;We<I;We++)fe[We]=se[We];for(Te=0,Ye=P;;){Te++;for(var je=0;je<I;je++)be[je]=pe[je];if(be=p.minusOp(be,p.multCons(fe,p.dotProduct(fe,be))),pe=p.multGamma(p.multL(p.multGamma(be),M,O)),ie=p.dotProduct(be,pe),pe=p.normalize(pe),Ge=p.dotProduct(be,pe),st=Math.abs(Ge/Ye),st<=1+D&&st>=1)break;Ye=Ge}for(var Ue=0;Ue<I;Ue++)be[Ue]=pe[Ue];v=p.multCons(fe,Math.sqrt(Math.abs(G))),w=p.multCons(be,Math.sqrt(Math.abs(ie)))},"powerIteration");d.connectComponents(x,T,d.getTopMostNodes(k),S),E.forEach(function(G){d.connectComponents(x,T,d.getTopMostNodes(G.descendants().intersection(T)),S)});for(var le=0,oe=0;oe<k.length;oe++)k[oe].isParent()||L.set(k[oe].id(),le++);var W=!0,J=!1,Y=void 0;try{for(var X=S.keys()[Symbol.iterator](),te;!(W=(te=X.next()).done);W=!0){var ce=te.value;L.set(ce,le++)}}catch(G){J=!0,Y=G}finally{try{!W&&X.return&&X.return()}finally{if(J)throw Y}}for(var K=0;K<L.size;K++)y[K]=[];E.forEach(function(G){for(var ie=G.children().intersection(T);ie.nodes(":childless").length==0;)ie=ie.nodes()[0].children().intersection(T);var se=0,pe=ie.nodes(":childless")[0].connectedEdges().length;ie.nodes(":childless").forEach(function(fe,be){fe.connectedEdges().length<pe&&(pe=fe.connectedEdges().length,se=be)}),b.set(G.id(),ie.nodes(":childless")[se].id())}),k.forEach(function(G){var ie=void 0;G.isParent()?ie=L.get(b.get(G.id())):ie=L.get(G.id()),G.neighborhood().nodes().forEach(function(se){T.intersection(G.edgesWith(se)).length>0&&(se.isParent()?y[ie].push(b.get(se.id())):y[ie].push(se.id()))})});var me=l(function(G){var ie=L.get(G),se=void 0;S.get(G).forEach(function(pe){x.getElementById(pe).isParent()?se=b.get(pe):se=pe,y[ie].push(se),y[L.get(se)].push(G)})},"_loop"),Z=!0,Ae=!1,he=void 0;try{for(var Ne=S.keys()[Symbol.iterator](),Pe;!(Z=(Pe=Ne.next()).done);Z=!0){var He=Pe.value;me(He)}}catch(G){Ae=!0,he=G}finally{try{!Z&&Ne.return&&Ne.return()}finally{if(Ae)throw he}}I=L.size;var qe=void 0;if(I>2){z=I<m.sampleSize?I:m.sampleSize;for(var _e=0;_e<I;_e++)M[_e]=[];for(var De=0;De<z;De++)O[De]=[];return m.quality=="draft"||m.step=="all"?(H($),Q(),re(),qe={nodeIndexes:L,xCoords:v,yCoords:w}):(L.forEach(function(G,ie){v.push(x.getElementById(ie).position("x")),w.push(x.getElementById(ie).position("y"))}),qe={nodeIndexes:L,xCoords:v,yCoords:w}),qe}else{var ve=L.keys(),Be=x.getElementById(ve.next().value),de=Be.position(),Ve=Be.outerWidth();if(v.push(de.x),w.push(de.y),I==2){var ee=x.getElementById(ve.next().value),Ie=ee.outerWidth();v.push(de.x+Ve/2+Ie/2+m.idealEdgeLength),w.push(de.y)}return qe={nodeIndexes:L,xCoords:v,yCoords:w},qe}},"spectralLayout");o.exports={spectralLayout:f}}),579:((o,u,h)=>{var d=h(212),p=l(function(g){g&&g("layout","fcose",d)},"register");typeof cytoscape<"u"&&p(cytoscape),o.exports=p}),140:(o=>{o.exports=r})},n={};function a(o){var u=n[o];if(u!==void 0)return u.exports;var h=n[o]={exports:{}};return i[o](h,h.exports,a),h.exports}l(a,"__webpack_require__");var s=a(579);return s})()})}),wp,Gf,dze=B(()=>{"use strict";ac(),wp=l(e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`,"wrapIcon"),Gf={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:wp('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:wp('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:wp('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:wp('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:wp('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:wS,blank:{body:wp("")}}}}),pze,gze,fze,mze,Dtt=B(()=>{"use strict";qt(),wo(),ac(),dr(),dze(),yj(),Jt(),pze=l(function(e,t,r){return xe(this,null,function*(){let i=r.getConfigField("padding"),n=r.getConfigField("iconSize"),a=n/2,s=n/6,o=s/2;yield Promise.all(t.edges().map(u=>xe(null,null,function*(){var C,A;let{source:h,sourceDir:d,sourceArrow:p,sourceGroup:g,target:f,targetDir:m,targetArrow:x,targetGroup:T,label:k}=mj(u),{x:E,y:S}=u[0].sourceEndpoint(),{x:L,y:b}=u[0].midpoint(),{x:y,y:v}=u[0].targetEndpoint(),w=i+4;if(g&&(ma(d)?E+=d==="L"?-w:w:S+=d==="T"?-w:w+18),T&&(ma(m)?y+=m==="L"?-w:w:v+=m==="T"?-w:w+18),!g&&((C=r.getNode(h))==null?void 0:C.type)==="junction"&&(ma(d)?E+=d==="L"?a:-a:S+=d==="T"?a:-a),!T&&((A=r.getNode(f))==null?void 0:A.type)==="junction"&&(ma(m)?y+=m==="L"?a:-a:v+=m==="T"?a:-a),u[0]._private.rscratch){let M=e.insert("g");if(M.insert("path").attr("d",`M ${E},${S} L ${L},${b} L${y},${v} `).attr("class","edge").attr("id",md(h,f,{prefix:"L"})),p){let N=ma(d)?Kx[d](E,s):E-o,O=hu(d)?Kx[d](S,s):S-o;M.insert("polygon").attr("points",gj[d](s)).attr("transform",`translate(${N},${O})`).attr("class","arrow")}if(x){let N=ma(m)?Kx[m](y,s):y-o,O=hu(m)?Kx[m](v,s):v-o;M.insert("polygon").attr("points",gj[m](s)).attr("transform",`translate(${N},${O})`).attr("class","arrow")}if(k){let N=G8(d,m)?"XY":ma(d)?"X":"Y",O=0;N==="X"?O=Math.abs(E-y):N==="Y"?O=Math.abs(S-v)/1.5:O=Math.abs(E-y)/2;let _=M.append("g");if(yield Ha(_,k,{useHtmlLabels:!1,width:O,classes:"architecture-service-label"},Ce()),_.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),N==="X")_.attr("transform","translate("+L+", "+b+")");else if(N==="Y")_.attr("transform","translate("+L+", "+b+") rotate(-90)");else if(N==="XY"){let I=U8(d,m);if(I&&QFe(I)){let R=_.node().getBoundingClientRect(),[P,D]=tze(I);_.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*P*D*45})`);let $=_.node().getBoundingClientRect();_.attr("transform",`
                translate(${L}, ${b-R.height/2})
                translate(${P*$.width/2}, ${D*$.height/2})
                rotate(${-1*P*D*45}, 0, ${R.height/2})
              `)}}}}})))})},"drawEdges"),gze=l(function(e,t,r){return xe(this,null,function*(){let i=r.getConfigField("padding")*.75,n=r.getConfigField("fontSize"),a=r.getConfigField("iconSize")/2;yield Promise.all(t.nodes().map(s=>xe(null,null,function*(){let o=xp(s);if(o.type==="group"){let{h:u,w:h,x1:d,y1:p}=s.boundingBox(),g=e.append("rect");g.attr("id",`group-${o.id}`).attr("x",d+a).attr("y",p+a).attr("width",h).attr("height",u).attr("class","node-bkg");let f=e.append("g"),m=d,x=p;if(o.icon){let T=f.append("g");T.html(`<g>${yield nc(o.icon,{height:i,width:i,fallbackPrefix:Gf.prefix})}</g>`),T.attr("transform","translate("+(m+a+1)+", "+(x+a+1)+")"),m+=i,x+=n/2-1-2}if(o.label){let T=f.append("g");yield Ha(T,o.label,{useHtmlLabels:!1,width:h,classes:"architecture-service-label"},Ce()),T.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),T.attr("transform","translate("+(m+a+4)+", "+(x+a+2)+")")}r.setElementForId(o.id,g)}})))})},"drawGroups"),fze=l(function(e,t,r){return xe(this,null,function*(){var n;let i=Ce();for(let a of r){let s=t.append("g"),o=e.getConfigField("iconSize");if(a.title){let p=s.append("g");yield Ha(p,a.title,{useHtmlLabels:!1,width:o*1.5,classes:"architecture-service-label"},i),p.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),p.attr("transform","translate("+o/2+", "+o+")")}let u=s.append("g");if(a.icon)u.html(`<g>${yield nc(a.icon,{height:o,width:o,fallbackPrefix:Gf.prefix})}</g>`);else if(a.iconText){u.html(`<g>${yield nc("blank",{height:o,width:o,fallbackPrefix:Gf.prefix})}</g>`);let p=u.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(Er(a.iconText,i)),g=(n=parseInt(window.getComputedStyle(p.node(),null).getPropertyValue("font-size").replace(/\D/g,"")))!=null?n:16;p.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/g)};`)}else u.append("path").attr("class","node-bkg").attr("id","node-"+a.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);s.attr("id",`service-${a.id}`).attr("class","architecture-service");let{width:h,height:d}=s.node().getBBox();a.width=h,a.height=d,e.setElementForId(a.id,s)}return 0})},"drawServices"),mze=l(function(e,t,r){r.forEach(i=>{let n=t.append("g"),a=e.getConfigField("iconSize");n.append("g").append("rect").attr("id","node-"+i.id).attr("fill-opacity","0").attr("width",a).attr("height",a),n.attr("class","architecture-junction");let{width:s,height:o}=n._groups[0][0].getBBox();n.width=s,n.height=o,e.setElementForId(i.id,n)})},"drawJunctions")});function yze(e,t,r){e.forEach(i=>{t.add({group:"nodes",data:{type:"service",id:i.id,icon:i.icon,label:i.title,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-service"})})}function vze(e,t,r){e.forEach(i=>{t.add({group:"nodes",data:{type:"junction",id:i.id,parent:i.in,width:r.getConfigField("iconSize"),height:r.getConfigField("iconSize")},classes:"node-junction"})})}function bze(e,t){t.nodes().map(r=>{let i=xp(r);i.type!=="group"&&(i.x=r.position().x,i.y=r.position().y,e.getElementById(i.id).attr("transform","translate("+(i.x||0)+","+(i.y||0)+")"))})}function xze(e,t){e.forEach(r=>{t.add({group:"nodes",data:{type:"group",id:r.id,icon:r.icon,label:r.title,parent:r.in},classes:"node-group"})})}function wze(e,t){e.forEach(r=>{let{lhsId:i,rhsId:n,lhsInto:a,lhsGroup:s,rhsInto:o,lhsDir:u,rhsDir:h,rhsGroup:d,title:p}=r,g=G8(r.lhsDir,r.rhsDir)?"segments":"straight",f={id:`${i}-${n}`,label:p,source:i,sourceDir:u,sourceArrow:a,sourceGroup:s,sourceEndpoint:u==="L"?"0 50%":u==="R"?"100% 50%":u==="T"?"50% 0":"50% 100%",target:n,targetDir:h,targetArrow:o,targetGroup:d,targetEndpoint:h==="L"?"0 50%":h==="R"?"100% 50%":h==="T"?"50% 0":"50% 100%"};t.add({group:"edges",data:f,classes:g})})}function kze(e,t,r){let i=l((o,u)=>Object.entries(o).reduce((h,[d,p])=>{var m,x,T;let g=0,f=Object.entries(p);if(f.length===1)return h[d]=f[0][1],h;for(let k=0;k<f.length-1;k++)for(let E=k+1;E<f.length;E++){let[S,L]=f[k],[b,y]=f[E];if(((m=r[S])==null?void 0:m[b])===u)(x=h[d])!=null||(h[d]=[]),h[d]=[...h[d],...L,...y];else if(S==="default"||b==="default")(T=h[d])!=null||(h[d]=[]),h[d]=[...h[d],...L,...y];else{let v=`${d}-${g++}`;h[v]=L;let w=`${d}-${g++}`;h[w]=y}}return h},{}),"flattenAlignments"),n=t.map(o=>{let u={},h={};return Object.entries(o).forEach(([d,[p,g]])=>{var m,x,T,k,E,S,L,b;let f=(x=(m=e.getNode(d))==null?void 0:m.in)!=null?x:"default";(T=u[g])!=null||(u[g]={}),(E=(k=u[g])[f])!=null||(k[f]=[]),u[g][f].push(d),(S=h[p])!=null||(h[p]={}),(b=(L=h[p])[f])!=null||(L[f]=[]),h[p][f].push(d)}),{horiz:Object.values(i(u,"horizontal")).filter(d=>d.length>1),vert:Object.values(i(h,"vertical")).filter(d=>d.length>1)}}),[a,s]=n.reduce(([o,u],{horiz:h,vert:d})=>[[...o,...h],[...u,...d]],[[],[]]);return{horizontal:a,vertical:s}}function Tze(e,t){let r=[],i=l(a=>`${a[0]},${a[1]}`,"posToStr"),n=l(a=>a.split(",").map(s=>parseInt(s)),"strToPos");return e.forEach(a=>{let s=Object.fromEntries(Object.entries(a).map(([d,p])=>[i(p),d])),o=[i([0,0])],u={},h={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;o.length>0;){let d=o.shift();if(d){u[d]=1;let p=s[d];if(p){let g=n(d);Object.entries(h).forEach(([f,m])=>{let x=i([g[0]+m[0],g[1]+m[1]]),T=s[x];T&&!u[x]&&(o.push(x),r.push({[pj[f]]:T,[pj[ZFe(f)]]:p,gap:1.5*t.getConfigField("iconSize")}))})}}}}),r}function Eze(e,t,r,i,n,{spatialMaps:a,groupAlignments:s}){return new Promise(o=>{let u=Ze("body").append("div").attr("id","cy").attr("style","display:none"),h=Io({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${n.getConfigField("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${n.getConfigField("padding")}px`}}],layout:{name:"grid",boundingBox:{x1:0,x2:100,y1:0,y2:100}}});u.remove(),xze(r,h),yze(e,h,n),vze(t,h,n),wze(i,h);let d=kze(n,a,s),p=Tze(a,n),g=h.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(f){let[m,x]=f.connectedNodes(),{parent:T}=xp(m),{parent:k}=xp(x);return T===k?1.5*n.getConfigField("iconSize"):.5*n.getConfigField("iconSize")},edgeElasticity(f){let[m,x]=f.connectedNodes(),{parent:T}=xp(m),{parent:k}=xp(x);return T===k?.45:.001},alignmentConstraint:d,relativePlacementConstraint:p});g.one("layoutstop",()=>{var m;function f(x,T,k,E){let S,L,{x:b,y}=x,{x:v,y:w}=T;L=(E-y+(b-k)*(y-w)/(b-v))/Math.sqrt(1+Math.pow((y-w)/(b-v),2)),S=Math.sqrt(Math.pow(E-y,2)+Math.pow(k-b,2)-Math.pow(L,2));let C=Math.sqrt(Math.pow(v-b,2)+Math.pow(w-y,2));S=S/C;let A=(v-b)*(E-y)-(w-y)*(k-b);switch(!0){case A>=0:A=1;break;case A<0:A=-1;break}let M=(v-b)*(k-b)+(w-y)*(E-y);switch(!0){case M>=0:M=1;break;case M<0:M=-1;break}return L=Math.abs(L)*A,S=S*M,{distances:L,weights:S}}l(f,"getSegmentWeights"),h.startBatch();for(let x of Object.values(h.edges()))if((m=x.data)!=null&&m.call(x)){let{x:T,y:k}=x.source().position(),{x:E,y:S}=x.target().position();if(T!==E&&k!==S){let L=x.sourceEndpoint(),b=x.targetEndpoint(),{sourceDir:y}=mj(x),[v,w]=hu(y)?[L.x,b.y]:[b.x,L.y],{weights:C,distances:A}=f(L,b,v,w);x.style("segment-distances",A),x.style("segment-weights",C)}}h.endBatch(),g.run()}),g.run(),h.ready(f=>{ae.info("Ready",f),o(h)})})}var Cze,Sze,_ze,Rtt=B(()=>{"use strict";V7e(),Cze=Yn(Itt(),1),gr(),lt(),ac(),au(),pn(),dze(),yj(),Dtt(),TS([{name:Gf.prefix,icons:Gf}]),Io.use(Cze.default),l(yze,"addServices"),l(vze,"addJunctions"),l(bze,"positionNodes"),l(xze,"addGroups"),l(wze,"addEdges"),l(kze,"getAlignments"),l(Tze,"getRelativeConstraints"),l(Eze,"layoutArchitecture"),Sze=l((e,t,r,i)=>xe(null,null,function*(){let n=i.db,a=n.getServices(),s=n.getJunctions(),o=n.getGroups(),u=n.getEdges(),h=n.getDataStructures(),d=Gl(t),p=d.append("g");p.attr("class","architecture-edges");let g=d.append("g");g.attr("class","architecture-services");let f=d.append("g");f.attr("class","architecture-groups"),yield fze(n,g,a),mze(n,g,s);let m=yield Eze(a,s,o,u,n,h);yield pze(p,m,n),yield gze(f,m,n),bze(n,m),Wp(void 0,d,n.getConfigField("padding"),n.getConfigField("useMaxWidth"))}),"draw"),_ze={draw:Sze}}),Aze={};nr(Aze,{diagram:()=>Lze});var Lze,Ott=B(()=>{"use strict";Ntt(),sze(),Mtt(),Rtt(),Lze={parser:bj,get db(){return new vj},renderer:_ze,styles:cze}}),xj,Nze=B(()=>{"use strict";var e;va(),bi(),Jt(),Dt(),Fi(),xj=(e=class{constructor(){this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.setAccTitle=Bi,this.getAccTitle=Wi,this.setDiagramTitle=gn,this.getDiagramTitle=$i,this.getAccDescription=Ki,this.setAccDescription=Xi}getNodes(){return this.nodes}getConfig(){var n;let r=Tr,i=_r();return Ea(dt(dt({},r.treemap),(n=i.treemap)!=null?n:{}))}addNode(r,i){var n;this.nodes.push(r),this.levels.set(r,i),i===0&&(this.outerNodes.push(r),(n=this.root)!=null||(this.root=r))}getRoot(){return{name:"",children:this.outerNodes}}addClass(r,i){var s;let n=(s=this.classes.get(r))!=null?s:{id:r,styles:[],textStyles:[]},a=i.replace(/\\,/g,"\xA7\xA7\xA7").replace(/,/g,";").replace(//g,",").split(";");a&&a.forEach(o=>{M6(o)&&(n!=null&&n.textStyles?n.textStyles.push(o):n.textStyles=[o]),n!=null&&n.styles?n.styles.push(o):n.styles=[o]}),this.classes.set(r,n)}getClasses(){return this.classes}getStylesForClass(r){var i,n;return(n=(i=this.classes.get(r))==null?void 0:i.styles)!=null?n:[]}clear(){Pi(),this.nodes=[],this.levels=new Map,this.outerNodes=[],this.classes=new Map,this.root=void 0}},l(e,"TreeMapDB"),e)});function Mze(e){if(!e.length)return[];let t=[],r=[];return e.forEach(i=>{let n={name:i.name,children:i.type==="Leaf"?void 0:[]};for(n.classSelector=i==null?void 0:i.classSelector,i!=null&&i.cssCompiledStyles&&(n.cssCompiledStyles=[i.cssCompiledStyles]),i.type==="Leaf"&&i.value!==void 0&&(n.value=i.value);r.length>0&&r[r.length-1].level>=i.level;)r.pop();if(r.length===0)t.push(n);else{let a=r[r.length-1].node;a.children?a.children.push(n):a.children=[n]}i.type!=="Leaf"&&r.push({node:n,level:i.level})}),t}var Ptt=B(()=>{"use strict";l(Mze,"buildHierarchy")}),Ize,Dze,wj,Btt=B(()=>{"use strict";lp(),lt(),wf(),Ptt(),Nze(),Ize=l((e,t)=>{var a,s,o,u;cp(e,t);let r=[];for(let h of(a=e.TreemapRows)!=null?a:[])h.$type==="ClassDefStatement"&&t.addClass((s=h.className)!=null?s:"",(o=h.styleText)!=null?o:"");for(let h of(u=e.TreemapRows)!=null?u:[]){let d=h.item;if(!d)continue;let p=h.indent?parseInt(h.indent):0,g=Dze(d),f=d.classSelector?t.getStylesForClass(d.classSelector):[],m=f.length>0?f.join(";"):void 0,x={level:p,name:g,type:d.$type,value:d.value,classSelector:d.classSelector,cssCompiledStyles:m};r.push(x)}let i=Mze(r),n=l((h,d)=>{for(let p of h)t.addNode(p,d),p.children&&p.children.length>0&&n(p.children,d+1)},"addNodesRecursively");n(i,0)},"populate"),Dze=l(e=>e.name?String(e.name):"","getItemName"),wj={parser:{yy:void 0},parse:l(e=>xe(null,null,function*(){var t;try{let r=yield eu("treemap",e);ae.debug("Treemap AST:",r);let i=(t=wj.parser)==null?void 0:t.yy;if(!(i instanceof xj))throw new Error("parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.");Ize(r,i)}catch(r){throw ae.error("Error parsing treemap:",r),r}}),"parse")}}),Rze,kp,Uf,Oze,Pze,Bze,$tt=B(()=>{"use strict";au(),s0(),pn(),gr(),Dt(),bi(),lt(),Rze=10,kp=10,Uf=25,Oze=l((e,t,r,i)=>{var N,O;let n=i.db,a=n.getConfig(),s=(N=a.padding)!=null?N:Rze,o=n.getDiagramTitle(),u=n.getRoot(),{themeVariables:h}=_r();if(!u)return;let d=o?30:0,p=Gl(t),g=a.nodeWidth?a.nodeWidth*kp:960,f=a.nodeHeight?a.nodeHeight*kp:500,m=g,x=f+d;p.attr("viewBox",`0 0 ${m} ${x}`),ta(p,x,m,a.useMaxWidth);let T;try{let _=a.valueFormat||",";if(_==="$0,0")T=l(I=>"$"+Xh(",")(I),"valueFormat");else if(_.startsWith("$")&&_.includes(",")){let I=/\.\d+/.exec(_),R=I?I[0]:"";T=l(P=>"$"+Xh(","+R)(P),"valueFormat")}else if(_.startsWith("$")){let I=_.substring(1);T=l(R=>"$"+Xh(I||"")(R),"valueFormat")}else T=Xh(_)}catch(_){ae.error("Error creating format function:",_),T=Xh(",")}let k=Su().range(["transparent",h.cScale0,h.cScale1,h.cScale2,h.cScale3,h.cScale4,h.cScale5,h.cScale6,h.cScale7,h.cScale8,h.cScale9,h.cScale10,h.cScale11]),E=Su().range(["transparent",h.cScalePeer0,h.cScalePeer1,h.cScalePeer2,h.cScalePeer3,h.cScalePeer4,h.cScalePeer5,h.cScalePeer6,h.cScalePeer7,h.cScalePeer8,h.cScalePeer9,h.cScalePeer10,h.cScalePeer11]),S=Su().range([h.cScaleLabel0,h.cScaleLabel1,h.cScaleLabel2,h.cScaleLabel3,h.cScaleLabel4,h.cScaleLabel5,h.cScaleLabel6,h.cScaleLabel7,h.cScaleLabel8,h.cScaleLabel9,h.cScaleLabel10,h.cScaleLabel11]);o&&p.append("text").attr("x",m/2).attr("y",d/2).attr("class","treemapTitle").attr("text-anchor","middle").attr("dominant-baseline","middle").text(o);let L=p.append("g").attr("transform",`translate(0, ${d})`).attr("class","treemapContainer"),b=l5(u).sum(_=>{var I;return(I=_.value)!=null?I:0}).sort((_,I)=>{var R,P;return((R=I.value)!=null?R:0)-((P=_.value)!=null?P:0)}),y=Ree().size([g,f]).paddingTop(_=>_.children&&_.children.length>0?Uf+kp:0).paddingInner(s).paddingLeft(_=>_.children&&_.children.length>0?kp:0).paddingRight(_=>_.children&&_.children.length>0?kp:0).paddingBottom(_=>_.children&&_.children.length>0?kp:0).round(!0)(b),v=y.descendants().filter(_=>_.children&&_.children.length>0),w=L.selectAll(".treemapSection").data(v).enter().append("g").attr("class","treemapSection").attr("transform",_=>`translate(${_.x0},${_.y0})`);w.append("rect").attr("width",_=>_.x1-_.x0).attr("height",Uf).attr("class","treemapSectionHeader").attr("fill","none").attr("fill-opacity",.6).attr("stroke-width",.6).attr("style",_=>_.depth===0?"display: none;":""),w.append("clipPath").attr("id",(_,I)=>`clip-section-${t}-${I}`).append("rect").attr("width",_=>Math.max(0,_.x1-_.x0-12)).attr("height",Uf),w.append("rect").attr("width",_=>_.x1-_.x0).attr("height",_=>_.y1-_.y0).attr("class",(_,I)=>`treemapSection section${I}`).attr("fill",_=>k(_.data.name)).attr("fill-opacity",.6).attr("stroke",_=>E(_.data.name)).attr("stroke-width",2).attr("stroke-opacity",.4).attr("style",_=>{if(_.depth===0)return"display: none;";let I=At({cssCompiledStyles:_.data.cssCompiledStyles});return I.nodeStyles+";"+I.borderStyles.join(";")}),w.append("text").attr("class","treemapSectionLabel").attr("x",6).attr("y",Uf/2).attr("dominant-baseline","middle").text(_=>_.depth===0?"":_.data.name).attr("font-weight","bold").attr("style",_=>{if(_.depth===0)return"display: none;";let I="dominant-baseline: middle; font-size: 12px; fill:"+S(_.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",R=At({cssCompiledStyles:_.data.cssCompiledStyles});return I+R.labelStyles.replace("color:","fill:")}).each(function(_){if(_.depth===0)return;let I=Ze(this),R=_.data.name;I.text(R);let P=_.x1-_.x0,D=6,$;a.showValues!==!1&&_.value?$=P-10-30-10-D:$=P-D-6;let F=Math.max(15,$),z=I.node();if(z.getComputedTextLength()>F){let U=R;for(;U.length>0;){if(U=R.substring(0,U.length-1),U.length===0){I.text("..."),z.getComputedTextLength()>F&&I.text("");break}if(I.text(U+"..."),z.getComputedTextLength()<=F)break}}}),a.showValues!==!1&&w.append("text").attr("class","treemapSectionValue").attr("x",_=>_.x1-_.x0-10).attr("y",Uf/2).attr("text-anchor","end").attr("dominant-baseline","middle").text(_=>_.value?T(_.value):"").attr("font-style","italic").attr("style",_=>{if(_.depth===0)return"display: none;";let I="text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:"+S(_.data.name)+"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;",R=At({cssCompiledStyles:_.data.cssCompiledStyles});return I+R.labelStyles.replace("color:","fill:")});let C=y.leaves(),A=L.selectAll(".treemapLeafGroup").data(C).enter().append("g").attr("class",(_,I)=>`treemapNode treemapLeafGroup leaf${I}${_.data.classSelector?` ${_.data.classSelector}`:""}x`).attr("transform",_=>`translate(${_.x0},${_.y0})`);A.append("rect").attr("width",_=>_.x1-_.x0).attr("height",_=>_.y1-_.y0).attr("class","treemapLeaf").attr("fill",_=>_.parent?k(_.parent.data.name):k(_.data.name)).attr("style",_=>At({cssCompiledStyles:_.data.cssCompiledStyles}).nodeStyles).attr("fill-opacity",.3).attr("stroke",_=>_.parent?k(_.parent.data.name):k(_.data.name)).attr("stroke-width",3),A.append("clipPath").attr("id",(_,I)=>`clip-${t}-${I}`).append("rect").attr("width",_=>Math.max(0,_.x1-_.x0-4)).attr("height",_=>Math.max(0,_.y1-_.y0-4)),A.append("text").attr("class","treemapLabel").attr("x",_=>(_.x1-_.x0)/2).attr("y",_=>(_.y1-_.y0)/2).attr("style",_=>{let I="text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:"+S(_.data.name)+";",R=At({cssCompiledStyles:_.data.cssCompiledStyles});return I+R.labelStyles.replace("color:","fill:")}).attr("clip-path",(_,I)=>`url(#clip-${t}-${I})`).text(_=>_.data.name).each(function(_){let I=Ze(this),R=_.x1-_.x0,P=_.y1-_.y0,D=I.node(),$=4,F=R-2*$,z=P-2*$;if(F<10||z<10){I.style("display","none");return}let U=parseInt(I.style("font-size"),10),j=8,H=28,Q=.6,re=6,le=2;for(;D.getComputedTextLength()>F&&U>j;)U--,I.style("font-size",`${U}px`);let oe=Math.max(re,Math.min(H,Math.round(U*Q))),W=U+le+oe;for(;W>z&&U>j&&(U--,oe=Math.max(re,Math.min(H,Math.round(U*Q))),!(oe<re&&U===j));)I.style("font-size",`${U}px`),W=U+le+oe,oe<=re&&W>z;I.style("font-size",`${U}px`),(D.getComputedTextLength()>F||U<j||z<U)&&I.style("display","none")}),a.showValues!==!1&&A.append("text").attr("class","treemapValue").attr("x",_=>(_.x1-_.x0)/2).attr("y",function(_){return(_.y1-_.y0)/2}).attr("style",_=>{let I="text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:"+S(_.data.name)+";",R=At({cssCompiledStyles:_.data.cssCompiledStyles});return I+R.labelStyles.replace("color:","fill:")}).attr("clip-path",(_,I)=>`url(#clip-${t}-${I})`).text(_=>_.value?T(_.value):"").each(function(_){let I=Ze(this),R=this.parentNode;if(!R){I.style("display","none");return}let P=Ze(R).select(".treemapLabel");if(P.empty()||P.style("display")==="none"){I.style("display","none");return}let D=parseFloat(P.style("font-size")),$=28,F=.6,z=6,U=2,j=Math.max(z,Math.min($,Math.round(D*F)));I.style("font-size",`${j}px`);let H=(_.y1-_.y0)/2+D/2+U;I.attr("y",H);let Q=_.x1-_.x0,re=_.y1-_.y0-4,le=Q-8;I.node().getComputedTextLength()>le||H+j>re||j<z?I.style("display","none"):I.style("display",null)});let M=(O=a.diagramPadding)!=null?O:8;ph(p,M,"flowchart",(a==null?void 0:a.useMaxWidth)||!1)},"draw"),Pze=l(function(e,t){return t.db.getClasses()},"getClasses"),Bze={draw:Oze,getClasses:Pze}}),$ze,Fze,zze,Ftt=B(()=>{"use strict";Jt(),$ze={sectionStrokeColor:"black",sectionStrokeWidth:"1",sectionFillColor:"#efefef",leafStrokeColor:"black",leafStrokeWidth:"1",leafFillColor:"#efefef",labelColor:"black",labelFontSize:"12px",valueFontSize:"10px",valueColor:"black",titleColor:"black",titleFontSize:"14px"},Fze=l(({treemap:e}={})=>{let t=Ea($ze,e);return`
  .treemapNode.section {
    stroke: ${t.sectionStrokeColor};
    stroke-width: ${t.sectionStrokeWidth};
    fill: ${t.sectionFillColor};
  }
  .treemapNode.leaf {
    stroke: ${t.leafStrokeColor};
    stroke-width: ${t.leafStrokeWidth};
    fill: ${t.leafFillColor};
  }
  .treemapLabel {
    fill: ${t.labelColor};
    font-size: ${t.labelFontSize};
  }
  .treemapValue {
    fill: ${t.valueColor};
    font-size: ${t.valueFontSize};
  }
  .treemapTitle {
    fill: ${t.titleColor};
    font-size: ${t.titleFontSize};
  }
  `},"getStyles"),zze=Fze}),Gze={};nr(Gze,{diagram:()=>Uze});var Uze,ztt=B(()=>{"use strict";Nze(),Btt(),$tt(),Ftt(),Uze={parser:wj,get db(){return new xj},renderer:Bze,styles:zze}}),qze={};nr(qze,{default:()=>Cnt}),ac(),MW(),Yp();var Gtt=l(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),Utt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(AYe(),Goe));return{id:"c4",diagram:e}}),"loader"),qtt={id:"c4",detector:Gtt,loader:Utt},jtt=qtt,jze="flowchart",Htt=l((e,t)=>{var r,i;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"||((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:/^\s*graph/.test(e)},"detector"),Vtt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(bB(),Pk));return{id:jze,diagram:e}}),"loader"),Ytt={id:jze,detector:Htt,loader:Vtt},Wtt=Ytt,Hze="flowchart-v2",Xtt=l((e,t)=>{var r,i,n;return((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="dagre-d3"?!1:(((i=t==null?void 0:t.flowchart)==null?void 0:i.defaultRenderer)==="elk"&&(t.layout="elk"),/^\s*graph/.test(e)&&((n=t==null?void 0:t.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(e))},"detector"),Ktt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(bB(),Pk));return{id:Hze,diagram:e}}),"loader"),Ztt={id:Hze,detector:Xtt,loader:Ktt},Qtt=Ztt,Jtt=l(e=>/^\s*erDiagram/.test(e),"detector"),ert=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(eQe(),E8e));return{id:"er",diagram:e}}),"loader"),trt={id:"er",detector:Jtt,loader:ert},rrt=trt,Vze="gitGraph",irt=l(e=>/^\s*gitGraph/.test(e),"detector"),nrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(oJe(),ANe));return{id:Vze,diagram:e}}),"loader"),art={id:Vze,detector:irt,loader:nrt},srt=art,Yze="gantt",ort=l(e=>/^\s*gantt/.test(e),"detector"),lrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(mJe(),EMe));return{id:Yze,diagram:e}}),"loader"),crt={id:Yze,detector:ort,loader:lrt},urt=crt,Wze="info",hrt=l(e=>/^\s*info/.test(e),"detector"),drt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(xJe(),DMe));return{id:Wze,diagram:e}}),"loader"),prt={id:Wze,detector:hrt,loader:drt},grt=l(e=>/^\s*pie/.test(e),"detector"),frt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(EJe(),KMe));return{id:"pie",diagram:e}}),"loader"),mrt={id:"pie",detector:grt,loader:frt},Xze="quadrantChart",yrt=l(e=>/^\s*quadrantChart/.test(e),"detector"),vrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(NJe(),xIe));return{id:Xze,diagram:e}}),"loader"),brt={id:Xze,detector:yrt,loader:vrt},xrt=brt,Kze="xychart",wrt=l(e=>/^\s*xychart(-beta)?/.test(e),"detector"),krt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(qJe(),JIe));return{id:Kze,diagram:e}}),"loader"),Trt={id:Kze,detector:wrt,loader:krt},Ert=Trt,Zze="requirement",Crt=l(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),Srt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(WJe(),oDe));return{id:Zze,diagram:e}}),"loader"),_rt={id:Zze,detector:Crt,loader:Srt},Art=_rt,Qze="sequence",Lrt=l(e=>/^\s*sequenceDiagram/.test(e),"detector"),Nrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(JJe(),JDe));return{id:Qze,diagram:e}}),"loader"),Mrt={id:Qze,detector:Lrt,loader:Nrt},Irt=Mrt,Jze="class",Drt=l((e,t)=>{var r;return((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(e)},"detector"),Rrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(tet(),cRe));return{id:Jze,diagram:e}}),"loader"),Ort={id:Jze,detector:Drt,loader:Rrt},Prt=Ort,eGe="classDiagram",Brt=l((e,t)=>{var r;return/^\s*classDiagram/.test(e)&&((r=t==null?void 0:t.class)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(e)},"detector"),$rt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(ret(),hRe));return{id:eGe,diagram:e}}),"loader"),Frt={id:eGe,detector:Brt,loader:$rt},zrt=Frt,tGe="state",Grt=l((e,t)=>{var r;return((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(e)},"detector"),Urt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(set(),nOe));return{id:tGe,diagram:e}}),"loader"),qrt={id:tGe,detector:Grt,loader:Urt},jrt=qrt,rGe="stateDiagram",Hrt=l((e,t)=>{var r;return!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&((r=t==null?void 0:t.state)==null?void 0:r.defaultRenderer)==="dagre-wrapper")},"detector"),Vrt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(oet(),sOe));return{id:rGe,diagram:e}}),"loader"),Yrt={id:rGe,detector:Hrt,loader:Vrt},Wrt=Yrt,iGe="journey",Xrt=l(e=>/^\s*journey/.test(e),"detector"),Krt=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(get(),LOe));return{id:iGe,diagram:e}}),"loader"),Zrt={id:iGe,detector:Xrt,loader:Krt},Qrt=Zrt;lt(),au(),pn();var Jrt=l((e,t,r)=>{ae.debug(`rendering svg for syntax error
`);let i=Gl(t),n=i.append("g");i.attr("viewBox","0 0 2412 512"),ta(i,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw"),nGe={draw:Jrt},eit=nGe,tit={db:{},renderer:nGe,parser:{parse:l(()=>{},"parse")}},rit=tit,aGe="flowchart-elk",iit=l((e,t={})=>{var r;return/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&((r=t==null?void 0:t.flowchart)==null?void 0:r.defaultRenderer)==="elk"?(t.layout="elk",!0):!1},"detector"),nit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(bB(),Pk));return{id:aGe,diagram:e}}),"loader"),ait={id:aGe,detector:iit,loader:nit},sit=ait,sGe="timeline",oit=l(e=>/^\s*timeline/.test(e),"detector"),lit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(xet(),QOe));return{id:sGe,diagram:e}}),"loader"),cit={id:sGe,detector:oit,loader:lit},uit=cit,oGe="mindmap",hit=l(e=>/^\s*mindmap/.test(e),"detector"),dit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(Met(),pPe));return{id:oGe,diagram:e}}),"loader"),pit={id:oGe,detector:hit,loader:dit},git=pit,lGe="kanban",fit=l(e=>/^\s*kanban/.test(e),"detector"),mit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(Pet(),DPe));return{id:lGe,diagram:e}}),"loader"),yit={id:lGe,detector:fit,loader:mit},vit=yit,cGe="sankey",bit=l(e=>/^\s*sankey(-beta)?/.test(e),"detector"),xit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(itt(),bBe));return{id:cGe,diagram:e}}),"loader"),wit={id:cGe,detector:bit,loader:xit},kit=wit,uGe="packet",Tit=l(e=>/^\s*packet(-beta)?/.test(e),"detector"),Eit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(ott(),IBe));return{id:uGe,diagram:e}}),"loader"),Cit={id:uGe,detector:Tit,loader:Eit},hGe="radar",Sit=l(e=>/^\s*radar-beta/.test(e),"detector"),_it=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(htt(),n$e));return{id:hGe,diagram:e}}),"loader"),Ait={id:hGe,detector:Sit,loader:_it},dGe="block",Lit=l(e=>/^\s*block(-beta)?/.test(e),"detector"),Nit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(Ltt(),XFe));return{id:dGe,diagram:e}}),"loader"),Mit={id:dGe,detector:Lit,loader:Nit},Iit=Mit,pGe="architecture",Dit=l(e=>/^\s*architecture/.test(e),"detector"),Rit=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(Ott(),Aze));return{id:pGe,diagram:e}}),"loader"),Oit={id:pGe,detector:Dit,loader:Rit},Pit=Oit;Yp(),qt();var gGe="treemap",Bit=l(e=>/^\s*treemap/.test(e),"detector"),$it=l(()=>xe(null,null,function*(){let{diagram:e}=yield Promise.resolve().then(()=>(ztt(),Gze));return{id:gGe,diagram:e}}),"loader"),Fit={id:gGe,detector:Bit,loader:$it},fGe=!1,q8=l(()=>{fGe||(fGe=!0,$m("error",rit,e=>e.toLowerCase().trim()==="error"),$m("---",{db:{clear:l(()=>{},"clear")},styles:{},renderer:{draw:l(()=>{},"draw")},parser:{parse:l(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:l(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),g3(sit,git,Pit),g3(jtt,vit,zrt,Prt,rrt,urt,prt,mrt,Art,Irt,Qtt,Wtt,uit,srt,Wrt,jrt,Qrt,xrt,kit,Cit,Ert,Iit,Ait,Fit))},"addDiagrams");lt(),Yp(),qt();var zit=l(()=>xe(null,null,function*(){ae.debug("Loading registered diagrams");let e=(yield Promise.allSettled(Object.entries(bu).map(n=>xe(null,[n],function*([t,{detector:r,loader:i}]){if(i)try{w3(t)}catch(a){try{let{diagram:s,id:o}=yield i();$m(o,s,r)}catch(s){throw ae.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete bu[t],s}}})))).filter(t=>t.status==="rejected");if(e.length>0){ae.error(`Failed to load ${e.length} external diagrams`);for(let t of e)ae.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}}),"loadRegisteredDiagrams");lt(),gr();var mGe="comm",yGe="rule",vGe="decl",Git="@import",Uit="@namespace",qit="@keyframes",jit="@layer",bGe=Math.abs,kj=String.fromCharCode;function Tj(e){return e.trim()}l(Tj,"trim");function Zx(e,t,r){return e.replace(t,r)}l(Zx,"replace");function xGe(e,t,r){return e.indexOf(t,r)}l(xGe,"indexof");function Tp(e,t){return e.charCodeAt(t)|0}l(Tp,"charat");function Ep(e,t,r){return e.slice(t,r)}l(Ep,"substr");function qo(e){return e.length}l(qo,"strlen");function wGe(e){return e.length}l(wGe,"sizeof");function Qx(e,t){return t.push(e),e}l(Qx,"append");var j8=1,qf=1,kGe=0,Zs=0,un=0,jf="";function H8(e,t,r,i,n,a,s,o){return{value:e,root:t,parent:r,type:i,props:n,children:a,line:j8,column:qf,length:s,return:"",siblings:o}}l(H8,"node");function TGe(){return un}l(TGe,"char");function EGe(){return un=Zs>0?Tp(jf,--Zs):0,qf--,un===10&&(qf=1,j8--),un}l(EGe,"prev");function Qs(){return un=Zs<kGe?Tp(jf,Zs++):0,qf++,un===10&&(qf=1,j8++),un}l(Qs,"next");function du(){return Tp(jf,Zs)}l(du,"peek");function Jx(){return Zs}l(Jx,"caret");function e4(e,t){return Ep(jf,e,t)}l(e4,"slice");function Hf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}l(Hf,"token");function CGe(e){return j8=qf=1,kGe=qo(jf=e),Zs=0,[]}l(CGe,"alloc");function SGe(e){return jf="",e}l(SGe,"dealloc");function V8(e){return Tj(e4(Zs-1,Y8(e===91?e+2:e===40?e+1:e)))}l(V8,"delimit");function _Ge(e){for(;(un=du())&&un<33;)Qs();return Hf(e)>2||Hf(un)>3?"":" "}l(_Ge,"whitespace");function AGe(e,t){for(;--t&&Qs()&&!(un<48||un>102||un>57&&un<65||un>70&&un<97););return e4(e,Jx()+(t<6&&du()==32&&Qs()==32))}l(AGe,"escaping");function Y8(e){for(;Qs();)switch(un){case e:return Zs;case 34:case 39:e!==34&&e!==39&&Y8(un);break;case 40:e===41&&Y8(e);break;case 92:Qs();break}return Zs}l(Y8,"delimiter");function LGe(e,t){for(;Qs()&&e+un!==57&&!(e+un===84&&du()===47););return"/*"+e4(t,Zs-1)+"*"+kj(e===47?e:Qs())}l(LGe,"commenter");function NGe(e){for(;!Hf(du());)Qs();return e4(e,Zs)}l(NGe,"identifier");function MGe(e){return SGe(t4("",null,null,null,[""],e=CGe(e),0,[0],e))}l(MGe,"compile");function t4(e,t,r,i,n,a,s,o,u){for(var h=0,d=0,p=s,g=0,f=0,m=0,x=1,T=1,k=1,E=0,S="",L=n,b=a,y=i,v=S;T;)switch(m=E,E=Qs()){case 40:if(m!=108&&Tp(v,p-1)==58){xGe(v+=Zx(V8(E),"&","&\f"),"&\f",bGe(h?o[h-1]:0))!=-1&&(k=-1);break}case 34:case 39:case 91:v+=V8(E);break;case 9:case 10:case 13:case 32:v+=_Ge(m);break;case 92:v+=AGe(Jx()-1,7);continue;case 47:switch(du()){case 42:case 47:Qx(IGe(LGe(Qs(),Jx()),t,r,u),u),(Hf(m||1)==5||Hf(du()||1)==5)&&qo(v)&&Ep(v,-1,void 0)!==" "&&(v+=" ");break;default:v+="/"}break;case 123*x:o[h++]=qo(v)*k;case 125*x:case 59:case 0:switch(E){case 0:case 125:T=0;case 59+d:k==-1&&(v=Zx(v,/\f/g,"")),f>0&&(qo(v)-p||x===0&&m===47)&&Qx(f>32?Cj(v+";",i,r,p-1,u):Cj(Zx(v," ","")+";",i,r,p-2,u),u);break;case 59:v+=";";default:if(Qx(y=Ej(v,t,r,h,d,n,o,S,L=[],b=[],p,a),a),E===123)if(d===0)t4(v,t,y,y,L,a,p,o,b);else{switch(g){case 99:if(Tp(v,3)===110)break;case 108:if(Tp(v,2)===97)break;default:d=0;case 100:case 109:case 115:}d?t4(e,y,y,i&&Qx(Ej(e,y,y,0,0,n,o,S,n,L=[],p,b),b),n,b,p,o,i?L:b):t4(v,y,y,y,[""],b,0,o,b)}}h=d=f=0,x=k=1,S=v="",p=s;break;case 58:p=1+qo(v),f=m;default:if(x<1){if(E==123)--x;else if(E==125&&x++==0&&EGe()==125)continue}switch(v+=kj(E),E*x){case 38:k=d>0?1:(v+="\f",-1);break;case 44:o[h++]=(qo(v)-1)*k,k=1;break;case 64:du()===45&&(v+=V8(Qs())),g=du(),d=p=qo(S=v+=NGe(Jx())),E++;break;case 45:m===45&&qo(v)==2&&(x=0)}}return a}l(t4,"parse");function Ej(e,t,r,i,n,a,s,o,u,h,d,p){for(var g=n-1,f=n===0?a:[""],m=wGe(f),x=0,T=0,k=0;x<i;++x)for(var E=0,S=Ep(e,g+1,g=bGe(T=s[x])),L=e;E<m;++E)(L=Tj(T>0?f[E]+" "+S:Zx(S,/&\f/g,f[E])))&&(u[k++]=L);return H8(e,t,r,n===0?yGe:o,u,h,d,p)}l(Ej,"ruleset");function IGe(e,t,r,i){return H8(e,t,r,mGe,kj(TGe()),Ep(e,2,-2),0,i)}l(IGe,"comment");function Cj(e,t,r,i,n){return H8(e,t,r,vGe,Ep(e,0,i),Ep(e,i+1,-1),i,n)}l(Cj,"declaration");function W8(e,t){for(var r="",i=0;i<e.length;i++)r+=t(e[i],i,e,t)||"";return r}l(W8,"serialize");function DGe(e,t,r,i){switch(e.type){case jit:if(e.children.length)break;case Git:case Uit:case vGe:return e.return=e.return||e.value;case mGe:return"";case qit:return e.return=e.value+"{"+W8(e.children,i)+"}";case yGe:if(!qo(e.value=e.props.join(",")))return""}return qo(r=W8(e.children,i))?e.return=e.value+"{"+r+"}":""}l(DGe,"stringify"),wV(),nI(),_Me();var Hit="graphics-document document";function RGe(e,t){e.attr("role",Hit),t!==""&&e.attr("aria-roledescription",t)}l(RGe,"setA11yDiagramInfo");function OGe(e,t,r,i){if(e.insert!==void 0){if(r){let n=`chart-desc-${i}`;e.attr("aria-describedby",n),e.insert("desc",":first-child").attr("id",n).text(r)}if(t){let n=`chart-title-${i}`;e.attr("aria-labelledby",n),e.insert("title",":first-child").attr("id",n).text(t)}}}l(OGe,"addSVGa11yTitleDescription"),Wf(),bi(),bi(),qt(),Yp(),DW(),Jt();var Sj=(Sp=class{constructor(t,r,i,n,a){this.type=t,this.text=r,this.db=i,this.parser=n,this.renderer=a}static fromText(i){return xe(this,arguments,function*(t,r={}){var d,p;let n=_r(),a=p3(t,n);t=Roe(t)+`
`;try{w3(a)}catch(g){let f=RW(a);if(!f)throw new AS(`Diagram ${a} not found.`);let{id:m,diagram:x}=yield f();$m(m,x)}let{db:s,parser:o,renderer:u,init:h}=w3(a);return o.parser&&(o.parser.yy=s),(d=s.clear)==null||d.call(s),h==null||h(n),r.title&&((p=s.setDiagramTitle)==null||p.call(s,r.title)),yield o.parse(t),new Sp(a,t,s,o,u)})}render(t,r){return xe(this,null,function*(){yield this.renderer.draw(this.text,t,r,this)})}getParser(){return this.parser}getType(){return this.type}},l(Sp,"Diagram"),Sp);dr();var PGe=[],Vit=l(()=>{PGe.forEach(e=>{e()}),PGe=[]},"attachFunctions");lt();var Yit=l(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");_S(),m6();function BGe(e){var n;let t=e.match(SS);if(!t)return{text:e,metadata:{}};let r=(n=t2(t[1],{schema:e2}))!=null?n:{};r=typeof r=="object"&&!Array.isArray(r)?r:{};let i={};return r.displayMode&&(i.displayMode=r.displayMode.toString()),r.title&&(i.title=r.title.toString()),r.config&&(i.config=r.config),{text:e.slice(t[0].length),metadata:i}}l(BGe,"extractFrontMatter"),Jt();var Wit=l(e=>e.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(t,r,i)=>"<"+r+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Xit=l(e=>{let{text:t,metadata:r}=BGe(e),{displayMode:i,title:n,config:a={}}=r;return i&&(a.gantt||(a.gantt={}),a.gantt.displayMode=i),{title:n,config:a,text:t}},"processFrontmatter"),Kit=l(e=>{var i;let t=(i=cr.detectInit(e))!=null?i:{},r=cr.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:n})=>n==="wrap"):(r==null?void 0:r.type)==="wrap"&&(t.wrap=!0),{text:Eoe(e),directive:t}},"processDirectives");function _j(e){let t=Wit(e),r=Xit(t),i=Kit(r.text),n=Ea(r.config,i.directive);return e=Yit(i.text),{code:e,title:r.title,config:n}}l(_j,"preprocessDiagram"),UW(),pE(),Jt();function $Ge(e){let t=new TextEncoder().encode(e),r=Array.from(t,i=>String.fromCodePoint(i)).join("");return btoa(r)}l($Ge,"toBase64");var Zit=5e4,Qit="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Jit="sandbox",ent="loose",tnt="http://www.w3.org/2000/svg",rnt="http://www.w3.org/1999/xlink",int="http://www.w3.org/1999/xhtml",nnt="100%",ant="100%",snt="border:0;margin:0;",ont="margin:0",lnt="allow-top-navigation-by-user-activation allow-popups",cnt='The "iframe" tag is not supported by your browser.',unt=["foreignobject"],hnt=["dominant-baseline"];function Aj(e){var r;let t=_j(e);return om(),KH((r=t.config)!=null?r:{}),t}l(Aj,"processAndSetConfigs");function FGe(e,t){return xe(this,null,function*(){q8();try{let{code:r,config:i}=Aj(e);return{diagramType:(yield qGe(r)).type,config:i}}catch(r){if(t!=null&&t.suppressErrors)return!1;throw r}})}l(FGe,"parse");var zGe=l((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),dnt=l((e,t=new Map)=>{var i,n;let r="";if(e.themeCSS!==void 0&&(r+=`
${e.themeCSS}`),e.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),e.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let a=((n=e.htmlLabels)!=null?n:(i=e.flowchart)!=null&&i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(s=>{Br(s.styles)||a.forEach(o=>{r+=zGe(s.id,o,s.styles)}),Br(s.textStyles)||(r+=zGe(s.id,"tspan",((s==null?void 0:s.textStyles)||[]).map(o=>o.replace("color","fill"))))})}return r},"createCssStyles"),pnt=l((e,t,r,i)=>{let n=dnt(e,r),a=GW(t,n,e.themeVariables);return W8(MGe(`${i}{${a}}`),DGe)},"createUserStyles"),gnt=l((e="",t,r)=>{let i=e;return!r&&!t&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=vo(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),fnt=l((e="",t)=>{var n,a;let r=(a=(n=t==null?void 0:t.viewBox)==null?void 0:n.baseVal)!=null&&a.height?t.viewBox.baseVal.height+"px":ant,i=$Ge(`<body style="${ont}">${e}</body>`);return`<iframe style="width:${nnt};height:${r};${snt}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${lnt}">
  ${cnt}
</iframe>`},"putIntoIFrame"),GGe=l((e,t,r,i,n)=>{let a=e.append("div");a.attr("id",r),i&&a.attr("style",i);let s=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns",tnt);return n&&s.attr("xmlns:xlink",n),s.append("g"),e},"appendDivSvgG");function Lj(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}l(Lj,"sandboxedIframe");var mnt=l((e,t,r,i)=>{var n,a,s;(n=e.getElementById(t))==null||n.remove(),(a=e.getElementById(r))==null||a.remove(),(s=e.getElementById(i))==null||s.remove()},"removeExistingElements"),ynt=l(function(e,t,r){return xe(this,null,function*(){var N,O,_,I,R,P,D;q8();let i=Aj(t);t=i.code;let n=_r();ae.debug(n),t.length>((N=n==null?void 0:n.maxTextSize)!=null?N:Zit)&&(t=Qit);let a="#"+e,s="i"+e,o="#"+s,u="d"+e,h="#"+u,d=l(()=>{let $=Ze(g?o:h).node();$&&"remove"in $&&$.remove()},"removeTempElements"),p=Ze("body"),g=n.securityLevel===Jit,f=n.securityLevel===ent,m=n.fontFamily;if(r!==void 0){if(r&&(r.innerHTML=""),g){let $=Lj(Ze(r),s);p=Ze($.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ze(r);GGe(p,e,u,`font-family: ${m}`,rnt)}else{if(mnt(document,e,u,s),g){let $=Lj(Ze("body"),s);p=Ze($.nodes()[0].contentDocument.body),p.node().style.margin=0}else p=Ze("body");GGe(p,e,u)}let x,T;try{x=yield Sj.fromText(t,{title:i.title})}catch($){if(n.suppressErrorRendering)throw d(),$;x=yield Sj.fromText("error"),T=$}let k=p.select(h).node(),E=x.type,S=k.firstChild,L=S.firstChild,b=(_=(O=x.renderer).getClasses)==null?void 0:_.call(O,t,x),y=pnt(n,E,b,a),v=document.createElement("style");v.innerHTML=y,S.insertBefore(v,L);try{yield x.renderer.draw(t,e,W7.version,x)}catch($){throw n.suppressErrorRendering?d():eit.draw(t,e,W7.version),$}let w=p.select(`${h} svg`),C=(R=(I=x.db).getAccTitle)==null?void 0:R.call(I),A=(D=(P=x.db).getAccDescription)==null?void 0:D.call(P);jGe(E,w,C,A),p.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns",int);let M=p.select(h).node().innerHTML;if(ae.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),M=gnt(M,g,Hr(n.arrowMarkerAbsolute)),g){let $=p.select(h+" svg").node();M=fnt(M,$)}else f||(M=Oh.sanitize(M,{ADD_TAGS:unt,ADD_ATTR:hnt,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Vit(),T)throw T;return d(),{diagramType:E,svg:M,bindFunctions:x.db.bindFunctions}})},"render");function UGe(e={}){var i;let t=Ai({},e);t!=null&&t.fontFamily&&!((i=t.themeVariables)!=null&&i.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),WH(t),t!=null&&t.theme&&t.theme in Vo?t.themeVariables=Vo[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Vo.default.getThemeVariables(t.themeVariables));let r=typeof t=="object"?YH(t):mE();o4(r.logLevel),q8()}l(UGe,"initialize");var qGe=l((e,t={})=>{let{code:r}=_j(e);return Sj.fromText(r,t)},"getDiagramFromText");function jGe(e,t,r,i){RGe(t,e),OGe(t,r,i,t.attr("id"))}l(jGe,"addA11yInfo");var Cp=Object.freeze({render:ynt,parse:FGe,getDiagramFromText:qGe,initialize:UGe,getConfig:_r,setConfig:yE,getSiteConfig:mE,updateSiteConfig:XH,reset:l(()=>{om()},"reset"),globalReset:l(()=>{om(Rh)},"globalReset"),defaultConfig:Rh});o4(_r().logLevel),om(_r()),a0(),Jt();var vnt=l((e,t,r)=>{ae.warn(e),Y9(e)?(r&&r(e.str,e.hash),t.push(hr(dt({},e),{message:e.str,error:e}))):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),HGe=l(function(){return xe(this,arguments,function*(e={querySelector:".mermaid"}){try{yield bnt(e)}catch(t){if(Y9(t)&&ae.error(t.str),Cs.parseError&&Cs.parseError(t),!e.suppressErrors)throw ae.error("Use the suppressErrors option to suppress these errors"),t}})},"run"),bnt=l(function(){return xe(this,arguments,function*({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let i=Cp.getConfig();ae.debug(`${e?"":"No "}Callback function found`);let n;if(r)n=r;else if(t)n=document.querySelectorAll(t);else throw new Error("Nodes and querySelector are both undefined");ae.debug(`Found ${n.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(ae.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Cp.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));let a=new cr.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),s,o=[];for(let u of Array.from(n)){if(ae.info("Rendering diagram: "+u.id),u.getAttribute("data-processed"))continue;u.setAttribute("data-processed","true");let h=`mermaid-${a.next()}`;s=u.innerHTML,s=CS(cr.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let d=cr.detectInit(s);d&&ae.debug("Detected early reinit: ",d);try{let{svg:p,bindFunctions:g}=yield XGe(h,s,u);u.innerHTML=p,e&&(yield e(h)),g&&g(u)}catch(p){vnt(p,o,Cs.parseError)}}if(o.length>0)throw o[0]})},"runThrowsErrors"),VGe=l(function(e){Cp.initialize(e)},"initialize"),xnt=l(function(e,t,r){return xe(this,null,function*(){ae.warn("mermaid.init is deprecated. Please use run instead."),e&&VGe(e);let i={postRenderCallback:r,querySelector:".mermaid"};typeof t=="string"?i.querySelector=t:t&&(t instanceof HTMLElement?i.nodes=[t]:i.nodes=t),yield HGe(i)})},"init"),wnt=l((r,...i)=>xe(null,[r,...i],function*(e,{lazyLoad:t=!0}={}){q8(),g3(...e),t===!1&&(yield zit())}),"registerExternalDiagrams"),YGe=l(function(){if(Cs.startOnLoad){let{startOnLoad:e}=Cp.getConfig();e&&Cs.run().catch(t=>ae.error("Mermaid failed to initialize",t))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",YGe,!1);var knt=l(function(e){Cs.parseError=e},"setParseErrorHandler"),X8=[],Nj=!1,WGe=l(()=>xe(null,null,function*(){if(!Nj){for(Nj=!0;X8.length>0;){let e=X8.shift();if(e)try{yield e()}catch(t){ae.error("Error executing queue",t)}}Nj=!1}}),"executeQueue"),Tnt=l((e,t)=>xe(null,null,function*(){return new Promise((r,i)=>{let n=l(()=>new Promise((a,s)=>{Cp.parse(e,t).then(o=>{a(o),r(o)},o=>{var u;ae.error("Error parsing",o),(u=Cs.parseError)==null||u.call(Cs,o),s(o),i(o)})}),"performCall");X8.push(n),WGe().catch(i)})}),"parse"),XGe=l((e,t,r)=>new Promise((i,n)=>{let a=l(()=>new Promise((s,o)=>{Cp.render(e,t,r).then(u=>{s(u),i(u)},u=>{var h;ae.error("Error parsing",u),(h=Cs.parseError)==null||h.call(Cs,u),o(u),n(u)})}),"performCall");X8.push(a),WGe().catch(n)}),"render"),Ent=l(()=>Object.keys(bu).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),Cs={startOnLoad:!0,mermaidAPI:Cp,parse:Tnt,render:XGe,init:xnt,run:HGe,registerExternalDiagrams:wnt,registerLayoutLoaders:mB,initialize:VGe,parseError:void 0,contentLoaded:YGe,setParseErrorHandler:knt,detectType:p3,registerIconPacks:TS,getRegisteredDiagramsMetadata:Ent},Cnt=Cs;return eUe(qze)})();/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 *//*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/globalThis.mermaid=globalThis.__esbuild_esm_mermaid_nm.mermaid.default;
